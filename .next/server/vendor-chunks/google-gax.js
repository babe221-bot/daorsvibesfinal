/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/google-gax";
exports.ids = ["vendor-chunks/google-gax"];
exports.modules = {

/***/ "(action-browser)/./node_modules/google-gax/build/protos/iam_service.js":
/*!*************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/iam_service.js ***!
  \*************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(e=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! protobufjs/minimal */ \"(action-browser)/./node_modules/protobufjs/minimal.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(function(o){var e,t,n,r,F,a=o.Reader,i=o.Writer,p=o.util,l=o.roots.iam_protos||(o.roots.iam_protos={});function B(e,t,n){o.rpc.Service.call(this,e,t,n)}function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function u(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function c(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function G(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(this.bindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(this.members=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function M(e){if(this.bindingDeltas=[],this.auditConfigDeltas=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function L(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function J(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(this.pattern=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function q(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function O(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Y(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function z(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function W(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function X(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function D(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function x(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function S(e){if(this.uninterpretedOption=[],this[\".google.api.resourceDefinition\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function k(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.uninterpretedOption=[],this[\".google.api.fieldBehavior\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Q(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function K(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function A(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function N(e){if(this.uninterpretedOption=[],this[\".google.api.methodSignature\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function R(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Z(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function $(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function I(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ee(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function C(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return l.google=((F={}).iam=((n={}).v1=((t={}).IAMPolicy=(((B.prototype=Object.create(o.rpc.Service.prototype)).constructor=B).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(B.prototype.setIamPolicy=function e(t,n){return this.rpcCall(e,l.google.iam.v1.SetIamPolicyRequest,l.google.iam.v1.Policy,t,n)},\"name\",{value:\"SetIamPolicy\"}),Object.defineProperty(B.prototype.getIamPolicy=function e(t,n){return this.rpcCall(e,l.google.iam.v1.GetIamPolicyRequest,l.google.iam.v1.Policy,t,n)},\"name\",{value:\"GetIamPolicy\"}),Object.defineProperty(B.prototype.testIamPermissions=function e(t,n){return this.rpcCall(e,l.google.iam.v1.TestIamPermissionsRequest,l.google.iam.v1.TestIamPermissionsResponse,t,n)},\"name\",{value:\"TestIamPermissions\"}),B),t.SetIamPolicyRequest=(s.prototype.resource=\"\",s.prototype.policy=null,s.create=function(e){return new s(e)},s.encode=function(e,t){return t=t||i.create(),null!=e.resource&&Object.hasOwnProperty.call(e,\"resource\")&&t.uint32(10).string(e.resource),null!=e.policy&&Object.hasOwnProperty.call(e,\"policy\")&&l.google.iam.v1.Policy.encode(e.policy,t.uint32(18).fork()).ldelim(),t},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.SetIamPolicyRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.resource=e.string();break;case 2:o.policy=l.google.iam.v1.Policy.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},s.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},s.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.resource&&e.hasOwnProperty(\"resource\")&&!p.isString(e.resource))return\"resource: string expected\";if(null!=e.policy&&e.hasOwnProperty(\"policy\")){e=l.google.iam.v1.Policy.verify(e.policy);if(e)return\"policy.\"+e}return null},s.fromObject=function(e){if(e instanceof l.google.iam.v1.SetIamPolicyRequest)return e;var t=new l.google.iam.v1.SetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.policy){if(\"object\"!=typeof e.policy)throw TypeError(\".google.iam.v1.SetIamPolicyRequest.policy: object expected\");t.policy=l.google.iam.v1.Policy.fromObject(e.policy)}return t},s.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.resource=\"\",n.policy=null),null!=e.resource&&e.hasOwnProperty(\"resource\")&&(n.resource=e.resource),null!=e.policy&&e.hasOwnProperty(\"policy\")&&(n.policy=l.google.iam.v1.Policy.toObject(e.policy,t)),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},s),t.GetIamPolicyRequest=(u.prototype.resource=\"\",u.prototype.options=null,u.create=function(e){return new u(e)},u.encode=function(e,t){return t=t||i.create(),null!=e.resource&&Object.hasOwnProperty.call(e,\"resource\")&&t.uint32(10).string(e.resource),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.iam.v1.GetPolicyOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},u.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},u.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.GetIamPolicyRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.resource=e.string();break;case 2:o.options=l.google.iam.v1.GetPolicyOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},u.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},u.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.resource&&e.hasOwnProperty(\"resource\")&&!p.isString(e.resource))return\"resource: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.iam.v1.GetPolicyOptions.verify(e.options);if(e)return\"options.\"+e}return null},u.fromObject=function(e){if(e instanceof l.google.iam.v1.GetIamPolicyRequest)return e;var t=new l.google.iam.v1.GetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.iam.v1.GetIamPolicyRequest.options: object expected\");t.options=l.google.iam.v1.GetPolicyOptions.fromObject(e.options)}return t},u.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.resource=\"\",n.options=null),null!=e.resource&&e.hasOwnProperty(\"resource\")&&(n.resource=e.resource),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.iam.v1.GetPolicyOptions.toObject(e.options,t)),n},u.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},u),t.TestIamPermissionsRequest=(c.prototype.resource=\"\",c.prototype.permissions=p.emptyArray,c.create=function(e){return new c(e)},c.encode=function(e,t){if(t=t||i.create(),null!=e.resource&&Object.hasOwnProperty.call(e,\"resource\")&&t.uint32(10).string(e.resource),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)t.uint32(18).string(e.permissions[n]);return t},c.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},c.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.TestIamPermissionsRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.resource=e.string();break;case 2:o.permissions&&o.permissions.length||(o.permissions=[]),o.permissions.push(e.string());break;default:e.skipType(7&r)}}return o},c.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},c.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.resource&&e.hasOwnProperty(\"resource\")&&!p.isString(e.resource))return\"resource: string expected\";if(null!=e.permissions&&e.hasOwnProperty(\"permissions\")){if(!Array.isArray(e.permissions))return\"permissions: array expected\";for(var t=0;t<e.permissions.length;++t)if(!p.isString(e.permissions[t]))return\"permissions: string[] expected\"}return null},c.fromObject=function(e){if(e instanceof l.google.iam.v1.TestIamPermissionsRequest)return e;var t=new l.google.iam.v1.TestIamPermissionsRequest;if(null!=e.resource&&(t.resource=String(e.resource)),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(\".google.iam.v1.TestIamPermissionsRequest.permissions: array expected\");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},c.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.permissions=[]),t.defaults&&(n.resource=\"\"),null!=e.resource&&e.hasOwnProperty(\"resource\")&&(n.resource=e.resource),e.permissions&&e.permissions.length){n.permissions=[];for(var o=0;o<e.permissions.length;++o)n.permissions[o]=e.permissions[o]}return n},c.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},c),t.TestIamPermissionsResponse=(G.prototype.permissions=p.emptyArray,G.create=function(e){return new G(e)},G.encode=function(e,t){if(t=t||i.create(),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)t.uint32(10).string(e.permissions[n]);return t},G.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},G.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.TestIamPermissionsResponse;e.pos<n;){var r=e.uint32();r>>>3==1?(o.permissions&&o.permissions.length||(o.permissions=[]),o.permissions.push(e.string())):e.skipType(7&r)}return o},G.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},G.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.permissions&&e.hasOwnProperty(\"permissions\")){if(!Array.isArray(e.permissions))return\"permissions: array expected\";for(var t=0;t<e.permissions.length;++t)if(!p.isString(e.permissions[t]))return\"permissions: string[] expected\"}return null},G.fromObject=function(e){if(e instanceof l.google.iam.v1.TestIamPermissionsResponse)return e;var t=new l.google.iam.v1.TestIamPermissionsResponse;if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(\".google.iam.v1.TestIamPermissionsResponse.permissions: array expected\");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},G.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.permissions=[]),e.permissions&&e.permissions.length){n.permissions=[];for(var o=0;o<e.permissions.length;++o)n.permissions[o]=e.permissions[o]}return n},G.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},G),t.GetPolicyOptions=(U.prototype.requestedPolicyVersion=0,U.create=function(e){return new U(e)},U.encode=function(e,t){return t=t||i.create(),null!=e.requestedPolicyVersion&&Object.hasOwnProperty.call(e,\"requestedPolicyVersion\")&&t.uint32(8).int32(e.requestedPolicyVersion),t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.GetPolicyOptions;e.pos<n;){var r=e.uint32();r>>>3==1?o.requestedPolicyVersion=e.int32():e.skipType(7&r)}return o},U.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},U.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.requestedPolicyVersion&&e.hasOwnProperty(\"requestedPolicyVersion\")&&!p.isInteger(e.requestedPolicyVersion)?\"requestedPolicyVersion: integer expected\":null},U.fromObject=function(e){var t;return e instanceof l.google.iam.v1.GetPolicyOptions?e:(t=new l.google.iam.v1.GetPolicyOptions,null!=e.requestedPolicyVersion&&(t.requestedPolicyVersion=0|e.requestedPolicyVersion),t)},U.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.requestedPolicyVersion=0),null!=e.requestedPolicyVersion&&e.hasOwnProperty(\"requestedPolicyVersion\")&&(n.requestedPolicyVersion=e.requestedPolicyVersion),n},U.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},U),t.Policy=(d.prototype.version=0,d.prototype.bindings=p.emptyArray,d.prototype.etag=p.newBuffer([]),d.create=function(e){return new d(e)},d.encode=function(e,t){if(t=t||i.create(),null!=e.version&&Object.hasOwnProperty.call(e,\"version\")&&t.uint32(8).int32(e.version),null!=e.etag&&Object.hasOwnProperty.call(e,\"etag\")&&t.uint32(26).bytes(e.etag),null!=e.bindings&&e.bindings.length)for(var n=0;n<e.bindings.length;++n)l.google.iam.v1.Binding.encode(e.bindings[n],t.uint32(34).fork()).ldelim();return t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.Policy;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.version=e.int32();break;case 4:o.bindings&&o.bindings.length||(o.bindings=[]),o.bindings.push(l.google.iam.v1.Binding.decode(e,e.uint32()));break;case 3:o.etag=e.bytes();break;default:e.skipType(7&r)}}return o},d.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},d.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.version&&e.hasOwnProperty(\"version\")&&!p.isInteger(e.version))return\"version: integer expected\";if(null!=e.bindings&&e.hasOwnProperty(\"bindings\")){if(!Array.isArray(e.bindings))return\"bindings: array expected\";for(var t=0;t<e.bindings.length;++t){var n=l.google.iam.v1.Binding.verify(e.bindings[t]);if(n)return\"bindings.\"+n}}return null!=e.etag&&e.hasOwnProperty(\"etag\")&&!(e.etag&&\"number\"==typeof e.etag.length||p.isString(e.etag))?\"etag: buffer expected\":null},d.fromObject=function(e){if(e instanceof l.google.iam.v1.Policy)return e;var t=new l.google.iam.v1.Policy;if(null!=e.version&&(t.version=0|e.version),e.bindings){if(!Array.isArray(e.bindings))throw TypeError(\".google.iam.v1.Policy.bindings: array expected\");t.bindings=[];for(var n=0;n<e.bindings.length;++n){if(\"object\"!=typeof e.bindings[n])throw TypeError(\".google.iam.v1.Policy.bindings: object expected\");t.bindings[n]=l.google.iam.v1.Binding.fromObject(e.bindings[n])}}return null!=e.etag&&(\"string\"==typeof e.etag?p.base64.decode(e.etag,t.etag=p.newBuffer(p.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),t},d.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.bindings=[]),t.defaults&&(n.version=0,t.bytes===String?n.etag=\"\":(n.etag=[],t.bytes!==Array&&(n.etag=p.newBuffer(n.etag)))),null!=e.version&&e.hasOwnProperty(\"version\")&&(n.version=e.version),null!=e.etag&&e.hasOwnProperty(\"etag\")&&(n.etag=t.bytes===String?p.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),e.bindings&&e.bindings.length){n.bindings=[];for(var o=0;o<e.bindings.length;++o)n.bindings[o]=l.google.iam.v1.Binding.toObject(e.bindings[o],t)}return n},d.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},d),t.Binding=(g.prototype.role=\"\",g.prototype.members=p.emptyArray,g.prototype.condition=null,g.create=function(e){return new g(e)},g.encode=function(e,t){if(t=t||i.create(),null!=e.role&&Object.hasOwnProperty.call(e,\"role\")&&t.uint32(10).string(e.role),null!=e.members&&e.members.length)for(var n=0;n<e.members.length;++n)t.uint32(18).string(e.members[n]);return null!=e.condition&&Object.hasOwnProperty.call(e,\"condition\")&&l.google.type.Expr.encode(e.condition,t.uint32(26).fork()).ldelim(),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.Binding;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.role=e.string();break;case 2:o.members&&o.members.length||(o.members=[]),o.members.push(e.string());break;case 3:o.condition=l.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},g.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},g.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.role&&e.hasOwnProperty(\"role\")&&!p.isString(e.role))return\"role: string expected\";if(null!=e.members&&e.hasOwnProperty(\"members\")){if(!Array.isArray(e.members))return\"members: array expected\";for(var t=0;t<e.members.length;++t)if(!p.isString(e.members[t]))return\"members: string[] expected\"}if(null!=e.condition&&e.hasOwnProperty(\"condition\")){var n=l.google.type.Expr.verify(e.condition);if(n)return\"condition.\"+n}return null},g.fromObject=function(e){if(e instanceof l.google.iam.v1.Binding)return e;var t=new l.google.iam.v1.Binding;if(null!=e.role&&(t.role=String(e.role)),e.members){if(!Array.isArray(e.members))throw TypeError(\".google.iam.v1.Binding.members: array expected\");t.members=[];for(var n=0;n<e.members.length;++n)t.members[n]=String(e.members[n])}if(null!=e.condition){if(\"object\"!=typeof e.condition)throw TypeError(\".google.iam.v1.Binding.condition: object expected\");t.condition=l.google.type.Expr.fromObject(e.condition)}return t},g.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.members=[]),t.defaults&&(n.role=\"\",n.condition=null),null!=e.role&&e.hasOwnProperty(\"role\")&&(n.role=e.role),e.members&&e.members.length){n.members=[];for(var o=0;o<e.members.length;++o)n.members[o]=e.members[o]}return null!=e.condition&&e.hasOwnProperty(\"condition\")&&(n.condition=l.google.type.Expr.toObject(e.condition,t)),n},g.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},g),t.PolicyDelta=(M.prototype.bindingDeltas=p.emptyArray,M.prototype.auditConfigDeltas=p.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||i.create(),null!=e.bindingDeltas&&e.bindingDeltas.length)for(var n=0;n<e.bindingDeltas.length;++n)l.google.iam.v1.BindingDelta.encode(e.bindingDeltas[n],t.uint32(10).fork()).ldelim();if(null!=e.auditConfigDeltas&&e.auditConfigDeltas.length)for(n=0;n<e.auditConfigDeltas.length;++n)l.google.iam.v1.AuditConfigDelta.encode(e.auditConfigDeltas[n],t.uint32(18).fork()).ldelim();return t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.PolicyDelta;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.bindingDeltas&&o.bindingDeltas.length||(o.bindingDeltas=[]),o.bindingDeltas.push(l.google.iam.v1.BindingDelta.decode(e,e.uint32()));break;case 2:o.auditConfigDeltas&&o.auditConfigDeltas.length||(o.auditConfigDeltas=[]),o.auditConfigDeltas.push(l.google.iam.v1.AuditConfigDelta.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},M.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},M.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.bindingDeltas&&e.hasOwnProperty(\"bindingDeltas\")){if(!Array.isArray(e.bindingDeltas))return\"bindingDeltas: array expected\";for(var t=0;t<e.bindingDeltas.length;++t)if(n=l.google.iam.v1.BindingDelta.verify(e.bindingDeltas[t]))return\"bindingDeltas.\"+n}if(null!=e.auditConfigDeltas&&e.hasOwnProperty(\"auditConfigDeltas\")){if(!Array.isArray(e.auditConfigDeltas))return\"auditConfigDeltas: array expected\";for(var n,t=0;t<e.auditConfigDeltas.length;++t)if(n=l.google.iam.v1.AuditConfigDelta.verify(e.auditConfigDeltas[t]))return\"auditConfigDeltas.\"+n}return null},M.fromObject=function(e){if(e instanceof l.google.iam.v1.PolicyDelta)return e;var t=new l.google.iam.v1.PolicyDelta;if(e.bindingDeltas){if(!Array.isArray(e.bindingDeltas))throw TypeError(\".google.iam.v1.PolicyDelta.bindingDeltas: array expected\");t.bindingDeltas=[];for(var n=0;n<e.bindingDeltas.length;++n){if(\"object\"!=typeof e.bindingDeltas[n])throw TypeError(\".google.iam.v1.PolicyDelta.bindingDeltas: object expected\");t.bindingDeltas[n]=l.google.iam.v1.BindingDelta.fromObject(e.bindingDeltas[n])}}if(e.auditConfigDeltas){if(!Array.isArray(e.auditConfigDeltas))throw TypeError(\".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected\");t.auditConfigDeltas=[];for(n=0;n<e.auditConfigDeltas.length;++n){if(\"object\"!=typeof e.auditConfigDeltas[n])throw TypeError(\".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected\");t.auditConfigDeltas[n]=l.google.iam.v1.AuditConfigDelta.fromObject(e.auditConfigDeltas[n])}}return t},M.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.bindingDeltas=[],n.auditConfigDeltas=[]),e.bindingDeltas&&e.bindingDeltas.length){n.bindingDeltas=[];for(var o=0;o<e.bindingDeltas.length;++o)n.bindingDeltas[o]=l.google.iam.v1.BindingDelta.toObject(e.bindingDeltas[o],t)}if(e.auditConfigDeltas&&e.auditConfigDeltas.length){n.auditConfigDeltas=[];for(o=0;o<e.auditConfigDeltas.length;++o)n.auditConfigDeltas[o]=l.google.iam.v1.AuditConfigDelta.toObject(e.auditConfigDeltas[o],t)}return n},M.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},M),t.BindingDelta=(f.prototype.action=0,f.prototype.role=\"\",f.prototype.member=\"\",f.prototype.condition=null,f.create=function(e){return new f(e)},f.encode=function(e,t){return t=t||i.create(),null!=e.action&&Object.hasOwnProperty.call(e,\"action\")&&t.uint32(8).int32(e.action),null!=e.role&&Object.hasOwnProperty.call(e,\"role\")&&t.uint32(18).string(e.role),null!=e.member&&Object.hasOwnProperty.call(e,\"member\")&&t.uint32(26).string(e.member),null!=e.condition&&Object.hasOwnProperty.call(e,\"condition\")&&l.google.type.Expr.encode(e.condition,t.uint32(34).fork()).ldelim(),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.BindingDelta;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.action=e.int32();break;case 2:o.role=e.string();break;case 3:o.member=e.string();break;case 4:o.condition=l.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},f.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},f.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.action&&e.hasOwnProperty(\"action\"))switch(e.action){default:return\"action: enum value expected\";case 0:case 1:case 2:}if(null!=e.role&&e.hasOwnProperty(\"role\")&&!p.isString(e.role))return\"role: string expected\";if(null!=e.member&&e.hasOwnProperty(\"member\")&&!p.isString(e.member))return\"member: string expected\";if(null!=e.condition&&e.hasOwnProperty(\"condition\")){e=l.google.type.Expr.verify(e.condition);if(e)return\"condition.\"+e}return null},f.fromObject=function(e){if(e instanceof l.google.iam.v1.BindingDelta)return e;var t=new l.google.iam.v1.BindingDelta;switch(e.action){case\"ACTION_UNSPECIFIED\":case 0:t.action=0;break;case\"ADD\":case 1:t.action=1;break;case\"REMOVE\":case 2:t.action=2}if(null!=e.role&&(t.role=String(e.role)),null!=e.member&&(t.member=String(e.member)),null!=e.condition){if(\"object\"!=typeof e.condition)throw TypeError(\".google.iam.v1.BindingDelta.condition: object expected\");t.condition=l.google.type.Expr.fromObject(e.condition)}return t},f.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.action=t.enums===String?\"ACTION_UNSPECIFIED\":0,n.role=\"\",n.member=\"\",n.condition=null),null!=e.action&&e.hasOwnProperty(\"action\")&&(n.action=t.enums===String?l.google.iam.v1.BindingDelta.Action[e.action]:e.action),null!=e.role&&e.hasOwnProperty(\"role\")&&(n.role=e.role),null!=e.member&&e.hasOwnProperty(\"member\")&&(n.member=e.member),null!=e.condition&&e.hasOwnProperty(\"condition\")&&(n.condition=l.google.type.Expr.toObject(e.condition,t)),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.Action=(e={},(r=Object.create(e))[e[0]=\"ACTION_UNSPECIFIED\"]=0,r[e[1]=\"ADD\"]=1,r[e[2]=\"REMOVE\"]=2,r),f),t.AuditConfigDelta=(y.prototype.action=0,y.prototype.service=\"\",y.prototype.exemptedMember=\"\",y.prototype.logType=\"\",y.create=function(e){return new y(e)},y.encode=function(e,t){return t=t||i.create(),null!=e.action&&Object.hasOwnProperty.call(e,\"action\")&&t.uint32(8).int32(e.action),null!=e.service&&Object.hasOwnProperty.call(e,\"service\")&&t.uint32(18).string(e.service),null!=e.exemptedMember&&Object.hasOwnProperty.call(e,\"exemptedMember\")&&t.uint32(26).string(e.exemptedMember),null!=e.logType&&Object.hasOwnProperty.call(e,\"logType\")&&t.uint32(34).string(e.logType),t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.AuditConfigDelta;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.action=e.int32();break;case 2:o.service=e.string();break;case 3:o.exemptedMember=e.string();break;case 4:o.logType=e.string();break;default:e.skipType(7&r)}}return o},y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},y.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.action&&e.hasOwnProperty(\"action\"))switch(e.action){default:return\"action: enum value expected\";case 0:case 1:case 2:}return null!=e.service&&e.hasOwnProperty(\"service\")&&!p.isString(e.service)?\"service: string expected\":null!=e.exemptedMember&&e.hasOwnProperty(\"exemptedMember\")&&!p.isString(e.exemptedMember)?\"exemptedMember: string expected\":null!=e.logType&&e.hasOwnProperty(\"logType\")&&!p.isString(e.logType)?\"logType: string expected\":null},y.fromObject=function(e){if(e instanceof l.google.iam.v1.AuditConfigDelta)return e;var t=new l.google.iam.v1.AuditConfigDelta;switch(e.action){case\"ACTION_UNSPECIFIED\":case 0:t.action=0;break;case\"ADD\":case 1:t.action=1;break;case\"REMOVE\":case 2:t.action=2}return null!=e.service&&(t.service=String(e.service)),null!=e.exemptedMember&&(t.exemptedMember=String(e.exemptedMember)),null!=e.logType&&(t.logType=String(e.logType)),t},y.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.action=t.enums===String?\"ACTION_UNSPECIFIED\":0,n.service=\"\",n.exemptedMember=\"\",n.logType=\"\"),null!=e.action&&e.hasOwnProperty(\"action\")&&(n.action=t.enums===String?l.google.iam.v1.AuditConfigDelta.Action[e.action]:e.action),null!=e.service&&e.hasOwnProperty(\"service\")&&(n.service=e.service),null!=e.exemptedMember&&e.hasOwnProperty(\"exemptedMember\")&&(n.exemptedMember=e.exemptedMember),null!=e.logType&&e.hasOwnProperty(\"logType\")&&(n.logType=e.logType),n},y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},y.Action=(e={},(r=Object.create(e))[e[0]=\"ACTION_UNSPECIFIED\"]=0,r[e[1]=\"ADD\"]=1,r[e[2]=\"REMOVE\"]=2,r),y),t.logging=((e={}).AuditData=(L.prototype.policyDelta=null,L.create=function(e){return new L(e)},L.encode=function(e,t){return t=t||i.create(),null!=e.policyDelta&&Object.hasOwnProperty.call(e,\"policyDelta\")&&l.google.iam.v1.PolicyDelta.encode(e.policyDelta,t.uint32(18).fork()).ldelim(),t},L.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},L.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.logging.AuditData;e.pos<n;){var r=e.uint32();r>>>3==2?o.policyDelta=l.google.iam.v1.PolicyDelta.decode(e,e.uint32()):e.skipType(7&r)}return o},L.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},L.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.policyDelta&&e.hasOwnProperty(\"policyDelta\")){e=l.google.iam.v1.PolicyDelta.verify(e.policyDelta);if(e)return\"policyDelta.\"+e}return null},L.fromObject=function(e){if(e instanceof l.google.iam.v1.logging.AuditData)return e;var t=new l.google.iam.v1.logging.AuditData;if(null!=e.policyDelta){if(\"object\"!=typeof e.policyDelta)throw TypeError(\".google.iam.v1.logging.AuditData.policyDelta: object expected\");t.policyDelta=l.google.iam.v1.PolicyDelta.fromObject(e.policyDelta)}return t},L.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.policyDelta=null),null!=e.policyDelta&&e.hasOwnProperty(\"policyDelta\")&&(n.policyDelta=l.google.iam.v1.PolicyDelta.toObject(e.policyDelta,t)),n},L.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},L),e),t),n),F.api=((r={}).Http=(J.prototype.rules=p.emptyArray,J.prototype.fullyDecodeReservedExpansion=!1,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||i.create(),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)l.google.api.HttpRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,\"fullyDecodeReservedExpansion\")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.Http;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.rules&&o.rules.length||(o.rules=[]),o.rules.push(l.google.api.HttpRule.decode(e,e.uint32()));break;case 2:o.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&r)}}return o},J.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},J.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.rules&&e.hasOwnProperty(\"rules\")){if(!Array.isArray(e.rules))return\"rules: array expected\";for(var t=0;t<e.rules.length;++t){var n=l.google.api.HttpRule.verify(e.rules[t]);if(n)return\"rules.\"+n}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&\"boolean\"!=typeof e.fullyDecodeReservedExpansion?\"fullyDecodeReservedExpansion: boolean expected\":null},J.fromObject=function(e){if(e instanceof l.google.api.Http)return e;var t=new l.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(\".google.api.Http.rules: array expected\");t.rules=[];for(var n=0;n<e.rules.length;++n){if(\"object\"!=typeof e.rules[n])throw TypeError(\".google.api.Http.rules: object expected\");t.rules[n]=l.google.api.HttpRule.fromObject(e.rules[n])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},J.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){n.rules=[];for(var o=0;o<e.rules.length;++o)n.rules[o]=l.google.api.HttpRule.toObject(e.rules[o],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&(n.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),n},J.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},J),r.HttpRule=(h.prototype.selector=\"\",h.prototype.get=\"\",h.prototype.put=\"\",h.prototype.post=\"\",h.prototype.delete=\"\",h.prototype.patch=\"\",h.prototype.custom=null,h.prototype.body=\"\",h.prototype.responseBody=\"\",h.prototype.additionalBindings=p.emptyArray,Object.defineProperty(h.prototype,\"pattern\",{get:p.oneOfGetter(e=[\"get\",\"put\",\"post\",\"delete\",\"patch\",\"custom\"]),set:p.oneOfSetter(e)}),h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||i.create(),null!=e.selector&&Object.hasOwnProperty.call(e,\"selector\")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,\"get\")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,\"put\")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,\"post\")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,\"delete\")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,\"patch\")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,\"body\")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,\"custom\")&&l.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var n=0;n<e.additionalBindings.length;++n)l.google.api.HttpRule.encode(e.additionalBindings[n],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,\"responseBody\")&&t.uint32(98).string(e.responseBody),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.HttpRule;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.selector=e.string();break;case 2:o.get=e.string();break;case 3:o.put=e.string();break;case 4:o.post=e.string();break;case 5:o.delete=e.string();break;case 6:o.patch=e.string();break;case 8:o.custom=l.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:o.body=e.string();break;case 12:o.responseBody=e.string();break;case 11:o.additionalBindings&&o.additionalBindings.length||(o.additionalBindings=[]),o.additionalBindings.push(l.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},h.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},h.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t={};if(null!=e.selector&&e.hasOwnProperty(\"selector\")&&!p.isString(e.selector))return\"selector: string expected\";if(null!=e.get&&e.hasOwnProperty(\"get\")&&(t.pattern=1,!p.isString(e.get)))return\"get: string expected\";if(null!=e.put&&e.hasOwnProperty(\"put\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.put))return\"put: string expected\"}if(null!=e.post&&e.hasOwnProperty(\"post\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.post))return\"post: string expected\"}if(null!=e.delete&&e.hasOwnProperty(\"delete\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.delete))return\"delete: string expected\"}if(null!=e.patch&&e.hasOwnProperty(\"patch\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.patch))return\"patch: string expected\"}if(null!=e.custom&&e.hasOwnProperty(\"custom\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,n=l.google.api.CustomHttpPattern.verify(e.custom))return\"custom.\"+n}if(null!=e.body&&e.hasOwnProperty(\"body\")&&!p.isString(e.body))return\"body: string expected\";if(null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&!p.isString(e.responseBody))return\"responseBody: string expected\";if(null!=e.additionalBindings&&e.hasOwnProperty(\"additionalBindings\")){if(!Array.isArray(e.additionalBindings))return\"additionalBindings: array expected\";for(var n,o=0;o<e.additionalBindings.length;++o)if(n=l.google.api.HttpRule.verify(e.additionalBindings[o]))return\"additionalBindings.\"+n}return null},h.fromObject=function(e){if(e instanceof l.google.api.HttpRule)return e;var t=new l.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if(\"object\"!=typeof e.custom)throw TypeError(\".google.api.HttpRule.custom: object expected\");t.custom=l.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(\".google.api.HttpRule.additionalBindings: array expected\");t.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n){if(\"object\"!=typeof e.additionalBindings[n])throw TypeError(\".google.api.HttpRule.additionalBindings: object expected\");t.additionalBindings[n]=l.google.api.HttpRule.fromObject(e.additionalBindings[n])}}return t},h.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.additionalBindings=[]),t.defaults&&(n.selector=\"\",n.body=\"\",n.responseBody=\"\"),null!=e.selector&&e.hasOwnProperty(\"selector\")&&(n.selector=e.selector),null!=e.get&&e.hasOwnProperty(\"get\")&&(n.get=e.get,t.oneofs)&&(n.pattern=\"get\"),null!=e.put&&e.hasOwnProperty(\"put\")&&(n.put=e.put,t.oneofs)&&(n.pattern=\"put\"),null!=e.post&&e.hasOwnProperty(\"post\")&&(n.post=e.post,t.oneofs)&&(n.pattern=\"post\"),null!=e.delete&&e.hasOwnProperty(\"delete\")&&(n.delete=e.delete,t.oneofs)&&(n.pattern=\"delete\"),null!=e.patch&&e.hasOwnProperty(\"patch\")&&(n.patch=e.patch,t.oneofs)&&(n.pattern=\"patch\"),null!=e.body&&e.hasOwnProperty(\"body\")&&(n.body=e.body),null!=e.custom&&e.hasOwnProperty(\"custom\")&&(n.custom=l.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(n.pattern=\"custom\"),e.additionalBindings&&e.additionalBindings.length){n.additionalBindings=[];for(var o=0;o<e.additionalBindings.length;++o)n.additionalBindings[o]=l.google.api.HttpRule.toObject(e.additionalBindings[o],t)}return null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&(n.responseBody=e.responseBody),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},h),r.CustomHttpPattern=(_.prototype.kind=\"\",_.prototype.path=\"\",_.create=function(e){return new _(e)},_.encode=function(e,t){return t=t||i.create(),null!=e.kind&&Object.hasOwnProperty.call(e,\"kind\")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,\"path\")&&t.uint32(18).string(e.path),t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.CustomHttpPattern;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.kind=e.string();break;case 2:o.path=e.string();break;default:e.skipType(7&r)}}return o},_.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},_.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.kind&&e.hasOwnProperty(\"kind\")&&!p.isString(e.kind)?\"kind: string expected\":null!=e.path&&e.hasOwnProperty(\"path\")&&!p.isString(e.path)?\"path: string expected\":null},_.fromObject=function(e){var t;return e instanceof l.google.api.CustomHttpPattern?e:(t=new l.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},_.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.kind=\"\",n.path=\"\"),null!=e.kind&&e.hasOwnProperty(\"kind\")&&(n.kind=e.kind),null!=e.path&&e.hasOwnProperty(\"path\")&&(n.path=e.path),n},_.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},_),r.FieldBehavior=(e={},(t=Object.create(e))[e[0]=\"FIELD_BEHAVIOR_UNSPECIFIED\"]=0,t[e[1]=\"OPTIONAL\"]=1,t[e[2]=\"REQUIRED\"]=2,t[e[3]=\"OUTPUT_ONLY\"]=3,t[e[4]=\"INPUT_ONLY\"]=4,t[e[5]=\"IMMUTABLE\"]=5,t),r.ResourceDescriptor=(b.prototype.type=\"\",b.prototype.pattern=p.emptyArray,b.prototype.nameField=\"\",b.prototype.history=0,b.prototype.plural=\"\",b.prototype.singular=\"\",b.create=function(e){return new b(e)},b.encode=function(e,t){if(t=t||i.create(),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(10).string(e.type),null!=e.pattern&&e.pattern.length)for(var n=0;n<e.pattern.length;++n)t.uint32(18).string(e.pattern[n]);return null!=e.nameField&&Object.hasOwnProperty.call(e,\"nameField\")&&t.uint32(26).string(e.nameField),null!=e.history&&Object.hasOwnProperty.call(e,\"history\")&&t.uint32(32).int32(e.history),null!=e.plural&&Object.hasOwnProperty.call(e,\"plural\")&&t.uint32(42).string(e.plural),null!=e.singular&&Object.hasOwnProperty.call(e,\"singular\")&&t.uint32(50).string(e.singular),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.ResourceDescriptor;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type=e.string();break;case 2:o.pattern&&o.pattern.length||(o.pattern=[]),o.pattern.push(e.string());break;case 3:o.nameField=e.string();break;case 4:o.history=e.int32();break;case 5:o.plural=e.string();break;case 6:o.singular=e.string();break;default:e.skipType(7&r)}}return o},b.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},b.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.type&&e.hasOwnProperty(\"type\")&&!p.isString(e.type))return\"type: string expected\";if(null!=e.pattern&&e.hasOwnProperty(\"pattern\")){if(!Array.isArray(e.pattern))return\"pattern: array expected\";for(var t=0;t<e.pattern.length;++t)if(!p.isString(e.pattern[t]))return\"pattern: string[] expected\"}if(null!=e.nameField&&e.hasOwnProperty(\"nameField\")&&!p.isString(e.nameField))return\"nameField: string expected\";if(null!=e.history&&e.hasOwnProperty(\"history\"))switch(e.history){default:return\"history: enum value expected\";case 0:case 1:case 2:}return null!=e.plural&&e.hasOwnProperty(\"plural\")&&!p.isString(e.plural)?\"plural: string expected\":null!=e.singular&&e.hasOwnProperty(\"singular\")&&!p.isString(e.singular)?\"singular: string expected\":null},b.fromObject=function(e){if(e instanceof l.google.api.ResourceDescriptor)return e;var t=new l.google.api.ResourceDescriptor;if(null!=e.type&&(t.type=String(e.type)),e.pattern){if(!Array.isArray(e.pattern))throw TypeError(\".google.api.ResourceDescriptor.pattern: array expected\");t.pattern=[];for(var n=0;n<e.pattern.length;++n)t.pattern[n]=String(e.pattern[n])}switch(null!=e.nameField&&(t.nameField=String(e.nameField)),e.history){case\"HISTORY_UNSPECIFIED\":case 0:t.history=0;break;case\"ORIGINALLY_SINGLE_PATTERN\":case 1:t.history=1;break;case\"FUTURE_MULTI_PATTERN\":case 2:t.history=2}return null!=e.plural&&(t.plural=String(e.plural)),null!=e.singular&&(t.singular=String(e.singular)),t},b.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.pattern=[]),t.defaults&&(n.type=\"\",n.nameField=\"\",n.history=t.enums===String?\"HISTORY_UNSPECIFIED\":0,n.plural=\"\",n.singular=\"\"),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=e.type),e.pattern&&e.pattern.length){n.pattern=[];for(var o=0;o<e.pattern.length;++o)n.pattern[o]=e.pattern[o]}return null!=e.nameField&&e.hasOwnProperty(\"nameField\")&&(n.nameField=e.nameField),null!=e.history&&e.hasOwnProperty(\"history\")&&(n.history=t.enums===String?l.google.api.ResourceDescriptor.History[e.history]:e.history),null!=e.plural&&e.hasOwnProperty(\"plural\")&&(n.plural=e.plural),null!=e.singular&&e.hasOwnProperty(\"singular\")&&(n.singular=e.singular),n},b.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},b.History=(e={},(t=Object.create(e))[e[0]=\"HISTORY_UNSPECIFIED\"]=0,t[e[1]=\"ORIGINALLY_SINGLE_PATTERN\"]=1,t[e[2]=\"FUTURE_MULTI_PATTERN\"]=2,t),b),r.ResourceReference=(H.prototype.type=\"\",H.prototype.childType=\"\",H.create=function(e){return new H(e)},H.encode=function(e,t){return t=t||i.create(),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(10).string(e.type),null!=e.childType&&Object.hasOwnProperty.call(e,\"childType\")&&t.uint32(18).string(e.childType),t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.ResourceReference;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type=e.string();break;case 2:o.childType=e.string();break;default:e.skipType(7&r)}}return o},H.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},H.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.type&&e.hasOwnProperty(\"type\")&&!p.isString(e.type)?\"type: string expected\":null!=e.childType&&e.hasOwnProperty(\"childType\")&&!p.isString(e.childType)?\"childType: string expected\":null},H.fromObject=function(e){var t;return e instanceof l.google.api.ResourceReference?e:(t=new l.google.api.ResourceReference,null!=e.type&&(t.type=String(e.type)),null!=e.childType&&(t.childType=String(e.childType)),t)},H.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=\"\",n.childType=\"\"),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=e.type),null!=e.childType&&e.hasOwnProperty(\"childType\")&&(n.childType=e.childType),n},H.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},H),r),F.protobuf=((n={}).FileDescriptorSet=(q.prototype.file=p.emptyArray,q.create=function(e){return new q(e)},q.encode=function(e,t){if(t=t||i.create(),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)l.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileDescriptorSet;e.pos<n;){var r=e.uint32();r>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(l.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&r)}return o},q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},q.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.file&&e.hasOwnProperty(\"file\")){if(!Array.isArray(e.file))return\"file: array expected\";for(var t=0;t<e.file.length;++t){var n=l.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(n)return\"file.\"+n}}return null},q.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorSet)return e;var t=new l.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(\".google.protobuf.FileDescriptorSet.file: array expected\");t.file=[];for(var n=0;n<e.file.length;++n){if(\"object\"!=typeof e.file[n])throw TypeError(\".google.protobuf.FileDescriptorSet.file: object expected\");t.file[n]=l.google.protobuf.FileDescriptorProto.fromObject(e.file[n])}}return t},q.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.file=[]),e.file&&e.file.length){n.file=[];for(var o=0;o<e.file.length;++o)n.file[o]=l.google.protobuf.FileDescriptorProto.toObject(e.file[o],t)}return n},q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},q),n.FileDescriptorProto=(m.prototype.name=\"\",m.prototype.package=\"\",m.prototype.dependency=p.emptyArray,m.prototype.publicDependency=p.emptyArray,m.prototype.weakDependency=p.emptyArray,m.prototype.messageType=p.emptyArray,m.prototype.enumType=p.emptyArray,m.prototype.service=p.emptyArray,m.prototype.extension=p.emptyArray,m.prototype.options=null,m.prototype.sourceCodeInfo=null,m.prototype.syntax=\"\",m.create=function(e){return new m(e)},m.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,\"package\")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(n=0;n<e.messageType.length;++n)l.google.protobuf.DescriptorProto.encode(e.messageType[n],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(n=0;n<e.service.length;++n)l.google.protobuf.ServiceDescriptorProto.encode(e.service[n],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,\"sourceCodeInfo\")&&l.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(n=0;n<e.publicDependency.length;++n)t.uint32(80).int32(e.publicDependency[n]);if(null!=e.weakDependency&&e.weakDependency.length)for(n=0;n<e.weakDependency.length;++n)t.uint32(88).int32(e.weakDependency[n]);return null!=e.syntax&&Object.hasOwnProperty.call(e,\"syntax\")&&t.uint32(98).string(e.syntax),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.package=e.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(e.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.publicDependency.push(e.int32());else o.publicDependency.push(e.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.weakDependency.push(e.int32());else o.weakDependency.push(e.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(l.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:o.options=l.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:o.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:o.syntax=e.string();break;default:e.skipType(7&r)}}return o},m.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},m.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.package&&e.hasOwnProperty(\"package\")&&!p.isString(e.package))return\"package: string expected\";if(null!=e.dependency&&e.hasOwnProperty(\"dependency\")){if(!Array.isArray(e.dependency))return\"dependency: array expected\";for(var t=0;t<e.dependency.length;++t)if(!p.isString(e.dependency[t]))return\"dependency: string[] expected\"}if(null!=e.publicDependency&&e.hasOwnProperty(\"publicDependency\")){if(!Array.isArray(e.publicDependency))return\"publicDependency: array expected\";for(t=0;t<e.publicDependency.length;++t)if(!p.isInteger(e.publicDependency[t]))return\"publicDependency: integer[] expected\"}if(null!=e.weakDependency&&e.hasOwnProperty(\"weakDependency\")){if(!Array.isArray(e.weakDependency))return\"weakDependency: array expected\";for(t=0;t<e.weakDependency.length;++t)if(!p.isInteger(e.weakDependency[t]))return\"weakDependency: integer[] expected\"}if(null!=e.messageType&&e.hasOwnProperty(\"messageType\")){if(!Array.isArray(e.messageType))return\"messageType: array expected\";for(t=0;t<e.messageType.length;++t)if(n=l.google.protobuf.DescriptorProto.verify(e.messageType[t]))return\"messageType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.service&&e.hasOwnProperty(\"service\")){if(!Array.isArray(e.service))return\"service: array expected\";for(t=0;t<e.service.length;++t)if(n=l.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return\"service.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.FileOptions.verify(e.options)))return\"options.\"+n;if(null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n=l.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo)))return\"sourceCodeInfo.\"+n;return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&!p.isString(e.syntax)?\"syntax: string expected\":null},m.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorProto)return e;var t=new l.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(\".google.protobuf.FileDescriptorProto.dependency: array expected\");t.dependency=[];for(var n=0;n<e.dependency.length;++n)t.dependency[n]=String(e.dependency[n])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.publicDependency: array expected\");t.publicDependency=[];for(n=0;n<e.publicDependency.length;++n)t.publicDependency[n]=0|e.publicDependency[n]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.weakDependency: array expected\");t.weakDependency=[];for(n=0;n<e.weakDependency.length;++n)t.weakDependency[n]=0|e.weakDependency[n]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: array expected\");t.messageType=[];for(n=0;n<e.messageType.length;++n){if(\"object\"!=typeof e.messageType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: object expected\");t.messageType[n]=l.google.protobuf.DescriptorProto.fromObject(e.messageType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: object expected\");t.enumType[n]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(\".google.protobuf.FileDescriptorProto.service: array expected\");t.service=[];for(n=0;n<e.service.length;++n){if(\"object\"!=typeof e.service[n])throw TypeError(\".google.protobuf.FileDescriptorProto.service: object expected\");t.service[n]=l.google.protobuf.ServiceDescriptorProto.fromObject(e.service[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.FileDescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.FileDescriptorProto.extension: object expected\");t.extension[n]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FileDescriptorProto.options: object expected\");t.options=l.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if(\"object\"!=typeof e.sourceCodeInfo)throw TypeError(\".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected\");t.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},m.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dependency=[],n.messageType=[],n.enumType=[],n.service=[],n.extension=[],n.publicDependency=[],n.weakDependency=[]),t.defaults&&(n.name=\"\",n.package=\"\",n.options=null,n.sourceCodeInfo=null,n.syntax=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.package&&e.hasOwnProperty(\"package\")&&(n.package=e.package),e.dependency&&e.dependency.length){n.dependency=[];for(var o=0;o<e.dependency.length;++o)n.dependency[o]=e.dependency[o]}if(e.messageType&&e.messageType.length){n.messageType=[];for(o=0;o<e.messageType.length;++o)n.messageType[o]=l.google.protobuf.DescriptorProto.toObject(e.messageType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.service&&e.service.length){n.service=[];for(o=0;o<e.service.length;++o)n.service[o]=l.google.protobuf.ServiceDescriptorProto.toObject(e.service[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length){n.publicDependency=[];for(o=0;o<e.publicDependency.length;++o)n.publicDependency[o]=e.publicDependency[o]}if(e.weakDependency&&e.weakDependency.length){n.weakDependency=[];for(o=0;o<e.weakDependency.length;++o)n.weakDependency[o]=e.weakDependency[o]}return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&(n.syntax=e.syntax),n},m.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},m),n.DescriptorProto=(O.prototype.name=\"\",O.prototype.field=p.emptyArray,O.prototype.extension=p.emptyArray,O.prototype.nestedType=p.emptyArray,O.prototype.enumType=p.emptyArray,O.prototype.extensionRange=p.emptyArray,O.prototype.oneofDecl=p.emptyArray,O.prototype.options=null,O.prototype.reservedRange=p.emptyArray,O.prototype.reservedName=p.emptyArray,O.create=function(e){return new O(e)},O.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(n=0;n<e.nestedType.length;++n)l.google.protobuf.DescriptorProto.encode(e.nestedType[n],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(n=0;n<e.extensionRange.length;++n)l.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[n],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(n=0;n<e.oneofDecl.length;++n)l.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[n],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)l.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[n],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(82).string(e.reservedName[n]);return t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(l.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(l.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:o.options=l.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(l.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},O.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},O.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.field&&e.hasOwnProperty(\"field\")){if(!Array.isArray(e.field))return\"field: array expected\";for(var t=0;t<e.field.length;++t)if(n=l.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return\"field.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}if(null!=e.nestedType&&e.hasOwnProperty(\"nestedType\")){if(!Array.isArray(e.nestedType))return\"nestedType: array expected\";for(t=0;t<e.nestedType.length;++t)if(n=l.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return\"nestedType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.extensionRange&&e.hasOwnProperty(\"extensionRange\")){if(!Array.isArray(e.extensionRange))return\"extensionRange: array expected\";for(t=0;t<e.extensionRange.length;++t)if(n=l.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return\"extensionRange.\"+n}if(null!=e.oneofDecl&&e.hasOwnProperty(\"oneofDecl\")){if(!Array.isArray(e.oneofDecl))return\"oneofDecl: array expected\";for(t=0;t<e.oneofDecl.length;++t)if(n=l.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return\"oneofDecl.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.MessageOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=l.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!p.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},O.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto)return e;var t=new l.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(\".google.protobuf.DescriptorProto.field: array expected\");t.field=[];for(var n=0;n<e.field.length;++n){if(\"object\"!=typeof e.field[n])throw TypeError(\".google.protobuf.DescriptorProto.field: object expected\");t.field[n]=l.google.protobuf.FieldDescriptorProto.fromObject(e.field[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.DescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.DescriptorProto.extension: object expected\");t.extension[n]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(\".google.protobuf.DescriptorProto.nestedType: array expected\");t.nestedType=[];for(n=0;n<e.nestedType.length;++n){if(\"object\"!=typeof e.nestedType[n])throw TypeError(\".google.protobuf.DescriptorProto.nestedType: object expected\");t.nestedType[n]=l.google.protobuf.DescriptorProto.fromObject(e.nestedType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.DescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.DescriptorProto.enumType: object expected\");t.enumType[n]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: array expected\");t.extensionRange=[];for(n=0;n<e.extensionRange.length;++n){if(\"object\"!=typeof e.extensionRange[n])throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: object expected\");t.extensionRange[n]=l.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[n])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: array expected\");t.oneofDecl=[];for(n=0;n<e.oneofDecl.length;++n){if(\"object\"!=typeof e.oneofDecl[n])throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: object expected\");t.oneofDecl[n]=l.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.options: object expected\");t.options=l.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: object expected\");t.reservedRange[n]=l.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.DescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},O.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.field=[],n.nestedType=[],n.enumType=[],n.extensionRange=[],n.extension=[],n.oneofDecl=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.field&&e.field.length){n.field=[];for(var o=0;o<e.field.length;++o)n.field[o]=l.google.protobuf.FieldDescriptorProto.toObject(e.field[o],t)}if(e.nestedType&&e.nestedType.length){n.nestedType=[];for(o=0;o<e.nestedType.length;++o)n.nestedType[o]=l.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.extensionRange&&e.extensionRange.length){n.extensionRange=[];for(o=0;o<e.extensionRange.length;++o)n.extensionRange[o]=l.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length){n.oneofDecl=[];for(o=0;o<e.oneofDecl.length;++o)n.oneofDecl[o]=l.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[o],t)}if(e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=l.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},O.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},O.ExtensionRange=(v.prototype.start=0,v.prototype.end=0,v.prototype.options=null,v.create=function(e){return new v(e)},v.encode=function(e,t){return t=t||i.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;case 3:o.options=l.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},v.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},v.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.start&&e.hasOwnProperty(\"start\")&&!p.isInteger(e.start))return\"start: integer expected\";if(null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end))return\"end: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.protobuf.ExtensionRangeOptions.verify(e.options);if(e)return\"options.\"+e}return null},v.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new l.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.ExtensionRange.options: object expected\");t.options=l.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},v.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0,n.options=null),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),n},v.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},v),O.ReservedRange=(Y.prototype.start=0,Y.prototype.end=0,Y.create=function(e){return new Y(e)},Y.encode=function(e,t){return t=t||i.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},Y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},Y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Y.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!p.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end)?\"end: integer expected\":null},Y.fromObject=function(e){var t;return e instanceof l.google.protobuf.DescriptorProto.ReservedRange?e:(t=new l.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},Y.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},Y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Y),O),n.ExtensionRangeOptions=(z.prototype.uninterpretedOption=p.emptyArray,z.create=function(e){return new z(e)},z.encode=function(e,t){if(t=t||i.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ExtensionRangeOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},z.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},z.fromObject=function(e){if(e instanceof l.google.protobuf.ExtensionRangeOptions)return e;var t=new l.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},z.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},z.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},z),n.FieldDescriptorProto=(P.prototype.name=\"\",P.prototype.number=0,P.prototype.label=1,P.prototype.type=1,P.prototype.typeName=\"\",P.prototype.extendee=\"\",P.prototype.defaultValue=\"\",P.prototype.oneofIndex=0,P.prototype.jsonName=\"\",P.prototype.options=null,P.prototype.proto3Optional=!1,P.create=function(e){return new P(e)},P.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,\"extendee\")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,\"label\")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,\"typeName\")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,\"defaultValue\")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,\"oneofIndex\")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,\"jsonName\")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,\"proto3Optional\")&&t.uint32(136).bool(e.proto3Optional),t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FieldDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 3:o.number=e.int32();break;case 4:o.label=e.int32();break;case 5:o.type=e.int32();break;case 6:o.typeName=e.string();break;case 2:o.extendee=e.string();break;case 7:o.defaultValue=e.string();break;case 9:o.oneofIndex=e.int32();break;case 10:o.jsonName=e.string();break;case 8:o.options=l.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:o.proto3Optional=e.bool();break;default:e.skipType(7&r)}}return o},P.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},P.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!p.isInteger(e.number))return\"number: integer expected\";if(null!=e.label&&e.hasOwnProperty(\"label\"))switch(e.label){default:return\"label: enum value expected\";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty(\"type\"))switch(e.type){default:return\"type: enum value expected\";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&!p.isString(e.typeName))return\"typeName: string expected\";if(null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&!p.isString(e.extendee))return\"extendee: string expected\";if(null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&!p.isString(e.defaultValue))return\"defaultValue: string expected\";if(null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&!p.isInteger(e.oneofIndex))return\"oneofIndex: integer expected\";if(null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&!p.isString(e.jsonName))return\"jsonName: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=l.google.protobuf.FieldOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&\"boolean\"!=typeof e.proto3Optional?\"proto3Optional: boolean expected\":null},P.fromObject=function(e){if(e instanceof l.google.protobuf.FieldDescriptorProto)return e;var t=new l.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case\"LABEL_OPTIONAL\":case 1:t.label=1;break;case\"LABEL_REQUIRED\":case 2:t.label=2;break;case\"LABEL_REPEATED\":case 3:t.label=3}switch(e.type){case\"TYPE_DOUBLE\":case 1:t.type=1;break;case\"TYPE_FLOAT\":case 2:t.type=2;break;case\"TYPE_INT64\":case 3:t.type=3;break;case\"TYPE_UINT64\":case 4:t.type=4;break;case\"TYPE_INT32\":case 5:t.type=5;break;case\"TYPE_FIXED64\":case 6:t.type=6;break;case\"TYPE_FIXED32\":case 7:t.type=7;break;case\"TYPE_BOOL\":case 8:t.type=8;break;case\"TYPE_STRING\":case 9:t.type=9;break;case\"TYPE_GROUP\":case 10:t.type=10;break;case\"TYPE_MESSAGE\":case 11:t.type=11;break;case\"TYPE_BYTES\":case 12:t.type=12;break;case\"TYPE_UINT32\":case 13:t.type=13;break;case\"TYPE_ENUM\":case 14:t.type=14;break;case\"TYPE_SFIXED32\":case 15:t.type=15;break;case\"TYPE_SFIXED64\":case 16:t.type=16;break;case\"TYPE_SINT32\":case 17:t.type=17;break;case\"TYPE_SINT64\":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FieldDescriptorProto.options: object expected\");t.options=l.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},P.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.extendee=\"\",n.number=0,n.label=t.enums===String?\"LABEL_OPTIONAL\":1,n.type=t.enums===String?\"TYPE_DOUBLE\":1,n.typeName=\"\",n.defaultValue=\"\",n.options=null,n.oneofIndex=0,n.jsonName=\"\",n.proto3Optional=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&(n.extendee=e.extendee),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.label&&e.hasOwnProperty(\"label\")&&(n.label=t.enums===String?l.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=t.enums===String?l.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&(n.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&(n.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&(n.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&(n.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&(n.proto3Optional=e.proto3Optional),n},P.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},P.Type=(e={},(t=Object.create(e))[e[1]=\"TYPE_DOUBLE\"]=1,t[e[2]=\"TYPE_FLOAT\"]=2,t[e[3]=\"TYPE_INT64\"]=3,t[e[4]=\"TYPE_UINT64\"]=4,t[e[5]=\"TYPE_INT32\"]=5,t[e[6]=\"TYPE_FIXED64\"]=6,t[e[7]=\"TYPE_FIXED32\"]=7,t[e[8]=\"TYPE_BOOL\"]=8,t[e[9]=\"TYPE_STRING\"]=9,t[e[10]=\"TYPE_GROUP\"]=10,t[e[11]=\"TYPE_MESSAGE\"]=11,t[e[12]=\"TYPE_BYTES\"]=12,t[e[13]=\"TYPE_UINT32\"]=13,t[e[14]=\"TYPE_ENUM\"]=14,t[e[15]=\"TYPE_SFIXED32\"]=15,t[e[16]=\"TYPE_SFIXED64\"]=16,t[e[17]=\"TYPE_SINT32\"]=17,t[e[18]=\"TYPE_SINT64\"]=18,t),P.Label=(e={},(t=Object.create(e))[e[1]=\"LABEL_OPTIONAL\"]=1,t[e[2]=\"LABEL_REQUIRED\"]=2,t[e[3]=\"LABEL_REPEATED\"]=3,t),P),n.OneofDescriptorProto=(W.prototype.name=\"\",W.prototype.options=null,W.create=function(e){return new W(e)},W.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},W.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},W.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.OneofDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.options=l.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},W.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},W.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.protobuf.OneofOptions.verify(e.options);if(e)return\"options.\"+e}return null},W.fromObject=function(e){if(e instanceof l.google.protobuf.OneofDescriptorProto)return e;var t=new l.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.OneofDescriptorProto.options: object expected\");t.options=l.google.protobuf.OneofOptions.fromObject(e.options)}return t},W.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.OneofOptions.toObject(e.options,t)),n},W.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},W),n.EnumDescriptorProto=(w.prototype.name=\"\",w.prototype.value=p.emptyArray,w.prototype.options=null,w.prototype.reservedRange=p.emptyArray,w.prototype.reservedName=p.emptyArray,w.create=function(e){return new w(e)},w.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)l.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)l.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[n],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(42).string(e.reservedName[n]);return t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(l.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=l.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(l.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},w.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},w.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.value&&e.hasOwnProperty(\"value\")){if(!Array.isArray(e.value))return\"value: array expected\";for(var t=0;t<e.value.length;++t)if(n=l.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return\"value.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.EnumOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!p.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},w.fromObject=function(e){if(e instanceof l.google.protobuf.EnumDescriptorProto)return e;var t=new l.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(\".google.protobuf.EnumDescriptorProto.value: array expected\");t.value=[];for(var n=0;n<e.value.length;++n){if(\"object\"!=typeof e.value[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.value: object expected\");t.value[n]=l.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumDescriptorProto.options: object expected\");t.options=l.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: object expected\");t.reservedRange[n]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},w.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.value=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.value&&e.value.length){n.value=[];for(var o=0;o<e.value.length;++o)n.value[o]=l.google.protobuf.EnumValueDescriptorProto.toObject(e.value[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},w.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},w.EnumReservedRange=(X.prototype.start=0,X.prototype.end=0,X.create=function(e){return new X(e)},X.encode=function(e,t){return t=t||i.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},X.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},X.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},X.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},X.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!p.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end)?\"end: integer expected\":null},X.fromObject=function(e){var t;return e instanceof l.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},X.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},X.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},X),w),n.EnumValueDescriptorProto=(j.prototype.name=\"\",j.prototype.number=0,j.prototype.options=null,j.create=function(e){return new j(e)},j.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.number=e.int32();break;case 3:o.options=l.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},j.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},j.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!p.isInteger(e.number))return\"number: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.protobuf.EnumValueOptions.verify(e.options);if(e)return\"options.\"+e}return null},j.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueDescriptorProto)return e;var t=new l.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumValueDescriptorProto.options: object expected\");t.options=l.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},j.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.number=0,n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.EnumValueOptions.toObject(e.options,t)),n},j.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},j),n.ServiceDescriptorProto=(D.prototype.name=\"\",D.prototype.method=p.emptyArray,D.prototype.options=null,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)l.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ServiceDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(l.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=l.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},D.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},D.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.method&&e.hasOwnProperty(\"method\")){if(!Array.isArray(e.method))return\"method: array expected\";for(var t=0;t<e.method.length;++t)if(n=l.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return\"method.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.ServiceOptions.verify(e.options)))return\"options.\"+n;return null},D.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceDescriptorProto)return e;var t=new l.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: array expected\");t.method=[];for(var n=0;n<e.method.length;++n){if(\"object\"!=typeof e.method[n])throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: object expected\");t.method[n]=l.google.protobuf.MethodDescriptorProto.fromObject(e.method[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.ServiceDescriptorProto.options: object expected\");t.options=l.google.protobuf.ServiceOptions.fromObject(e.options)}return t},D.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.method=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.method&&e.method.length){n.method=[];for(var o=0;o<e.method.length;++o)n.method[o]=l.google.protobuf.MethodDescriptorProto.toObject(e.method[o],t)}return null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.ServiceOptions.toObject(e.options,t)),n},D.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},D),n.MethodDescriptorProto=(x.prototype.name=\"\",x.prototype.inputType=\"\",x.prototype.outputType=\"\",x.prototype.options=null,x.prototype.clientStreaming=!1,x.prototype.serverStreaming=!1,x.create=function(e){return new x(e)},x.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,\"inputType\")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,\"outputType\")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,\"clientStreaming\")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,\"serverStreaming\")&&t.uint32(48).bool(e.serverStreaming),t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MethodDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.inputType=e.string();break;case 3:o.outputType=e.string();break;case 4:o.options=l.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:o.clientStreaming=e.bool();break;case 6:o.serverStreaming=e.bool();break;default:e.skipType(7&r)}}return o},x.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},x.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&!p.isString(e.inputType))return\"inputType: string expected\";if(null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&!p.isString(e.outputType))return\"outputType: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=l.google.protobuf.MethodOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&\"boolean\"!=typeof e.clientStreaming?\"clientStreaming: boolean expected\":null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&\"boolean\"!=typeof e.serverStreaming?\"serverStreaming: boolean expected\":null},x.fromObject=function(e){if(e instanceof l.google.protobuf.MethodDescriptorProto)return e;var t=new l.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.MethodDescriptorProto.options: object expected\");t.options=l.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},x.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.inputType=\"\",n.outputType=\"\",n.options=null,n.clientStreaming=!1,n.serverStreaming=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&(n.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&(n.outputType=e.outputType),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&(n.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&(n.serverStreaming=e.serverStreaming),n},x.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},x),n.FileOptions=(S.prototype.javaPackage=\"\",S.prototype.javaOuterClassname=\"\",S.prototype.javaMultipleFiles=!1,S.prototype.javaGenerateEqualsAndHash=!1,S.prototype.javaStringCheckUtf8=!1,S.prototype.optimizeFor=1,S.prototype.goPackage=\"\",S.prototype.ccGenericServices=!1,S.prototype.javaGenericServices=!1,S.prototype.pyGenericServices=!1,S.prototype.phpGenericServices=!1,S.prototype.deprecated=!1,S.prototype.ccEnableArenas=!0,S.prototype.objcClassPrefix=\"\",S.prototype.csharpNamespace=\"\",S.prototype.swiftPrefix=\"\",S.prototype.phpClassPrefix=\"\",S.prototype.phpNamespace=\"\",S.prototype.phpMetadataNamespace=\"\",S.prototype.rubyPackage=\"\",S.prototype.uninterpretedOption=p.emptyArray,S.prototype[\".google.api.resourceDefinition\"]=p.emptyArray,S.create=function(e){return new S(e)},S.encode=function(e,t){if(t=t||i.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,\"javaPackage\")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,\"javaOuterClassname\")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,\"optimizeFor\")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,\"javaMultipleFiles\")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,\"goPackage\")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,\"ccGenericServices\")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,\"javaGenericServices\")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,\"pyGenericServices\")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,\"javaGenerateEqualsAndHash\")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,\"javaStringCheckUtf8\")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,\"ccEnableArenas\")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,\"objcClassPrefix\")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,\"csharpNamespace\")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,\"swiftPrefix\")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,\"phpClassPrefix\")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,\"phpNamespace\")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,\"phpGenericServices\")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,\"phpMetadataNamespace\")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,\"rubyPackage\")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.resourceDefinition\"]&&e[\".google.api.resourceDefinition\"].length)for(n=0;n<e[\".google.api.resourceDefinition\"].length;++n)l.google.api.ResourceDescriptor.encode(e[\".google.api.resourceDefinition\"][n],t.uint32(8426).fork()).ldelim();return t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.javaPackage=e.string();break;case 8:o.javaOuterClassname=e.string();break;case 10:o.javaMultipleFiles=e.bool();break;case 20:o.javaGenerateEqualsAndHash=e.bool();break;case 27:o.javaStringCheckUtf8=e.bool();break;case 9:o.optimizeFor=e.int32();break;case 11:o.goPackage=e.string();break;case 16:o.ccGenericServices=e.bool();break;case 17:o.javaGenericServices=e.bool();break;case 18:o.pyGenericServices=e.bool();break;case 42:o.phpGenericServices=e.bool();break;case 23:o.deprecated=e.bool();break;case 31:o.ccEnableArenas=e.bool();break;case 36:o.objcClassPrefix=e.string();break;case 37:o.csharpNamespace=e.string();break;case 39:o.swiftPrefix=e.string();break;case 40:o.phpClassPrefix=e.string();break;case 41:o.phpNamespace=e.string();break;case 44:o.phpMetadataNamespace=e.string();break;case 45:o.rubyPackage=e.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:o[\".google.api.resourceDefinition\"]&&o[\".google.api.resourceDefinition\"].length||(o[\".google.api.resourceDefinition\"]=[]),o[\".google.api.resourceDefinition\"].push(l.google.api.ResourceDescriptor.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},S.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},S.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&!p.isString(e.javaPackage))return\"javaPackage: string expected\";if(null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&!p.isString(e.javaOuterClassname))return\"javaOuterClassname: string expected\";if(null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&\"boolean\"!=typeof e.javaMultipleFiles)return\"javaMultipleFiles: boolean expected\";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&\"boolean\"!=typeof e.javaGenerateEqualsAndHash)return\"javaGenerateEqualsAndHash: boolean expected\";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&\"boolean\"!=typeof e.javaStringCheckUtf8)return\"javaStringCheckUtf8: boolean expected\";if(null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\"))switch(e.optimizeFor){default:return\"optimizeFor: enum value expected\";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&!p.isString(e.goPackage))return\"goPackage: string expected\";if(null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&\"boolean\"!=typeof e.ccGenericServices)return\"ccGenericServices: boolean expected\";if(null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&\"boolean\"!=typeof e.javaGenericServices)return\"javaGenericServices: boolean expected\";if(null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&\"boolean\"!=typeof e.pyGenericServices)return\"pyGenericServices: boolean expected\";if(null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&\"boolean\"!=typeof e.phpGenericServices)return\"phpGenericServices: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&\"boolean\"!=typeof e.ccEnableArenas)return\"ccEnableArenas: boolean expected\";if(null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&!p.isString(e.objcClassPrefix))return\"objcClassPrefix: string expected\";if(null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&!p.isString(e.csharpNamespace))return\"csharpNamespace: string expected\";if(null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&!p.isString(e.swiftPrefix))return\"swiftPrefix: string expected\";if(null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&!p.isString(e.phpClassPrefix))return\"phpClassPrefix: string expected\";if(null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&!p.isString(e.phpNamespace))return\"phpNamespace: string expected\";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&!p.isString(e.phpMetadataNamespace))return\"phpMetadataNamespace: string expected\";if(null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&!p.isString(e.rubyPackage))return\"rubyPackage: string expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}if(null!=e[\".google.api.resourceDefinition\"]&&e.hasOwnProperty(\".google.api.resourceDefinition\")){if(!Array.isArray(e[\".google.api.resourceDefinition\"]))return\".google.api.resourceDefinition: array expected\";for(var n,t=0;t<e[\".google.api.resourceDefinition\"].length;++t)if(n=l.google.api.ResourceDescriptor.verify(e[\".google.api.resourceDefinition\"][t]))return\".google.api.resourceDefinition.\"+n}return null},S.fromObject=function(e){if(e instanceof l.google.protobuf.FileOptions)return e;var t=new l.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case\"SPEED\":case 1:t.optimizeFor=1;break;case\"CODE_SIZE\":case 2:t.optimizeFor=2;break;case\"LITE_RUNTIME\":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(e[\".google.api.resourceDefinition\"]){if(!Array.isArray(e[\".google.api.resourceDefinition\"]))throw TypeError(\".google.protobuf.FileOptions..google.api.resourceDefinition: array expected\");t[\".google.api.resourceDefinition\"]=[];for(n=0;n<e[\".google.api.resourceDefinition\"].length;++n){if(\"object\"!=typeof e[\".google.api.resourceDefinition\"][n])throw TypeError(\".google.protobuf.FileOptions..google.api.resourceDefinition: object expected\");t[\".google.api.resourceDefinition\"][n]=l.google.api.ResourceDescriptor.fromObject(e[\".google.api.resourceDefinition\"][n])}}return t},S.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.resourceDefinition\"]=[]),t.defaults&&(n.javaPackage=\"\",n.javaOuterClassname=\"\",n.optimizeFor=t.enums===String?\"SPEED\":1,n.javaMultipleFiles=!1,n.goPackage=\"\",n.ccGenericServices=!1,n.javaGenericServices=!1,n.pyGenericServices=!1,n.javaGenerateEqualsAndHash=!1,n.deprecated=!1,n.javaStringCheckUtf8=!1,n.ccEnableArenas=!0,n.objcClassPrefix=\"\",n.csharpNamespace=\"\",n.swiftPrefix=\"\",n.phpClassPrefix=\"\",n.phpNamespace=\"\",n.phpGenericServices=!1,n.phpMetadataNamespace=\"\",n.rubyPackage=\"\"),null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&(n.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&(n.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\")&&(n.optimizeFor=t.enums===String?l.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&(n.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&(n.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&(n.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&(n.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&(n.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&(n.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&(n.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&(n.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&(n.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&(n.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&(n.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&(n.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&(n.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&(n.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&(n.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&(n.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.resourceDefinition\"]&&e[\".google.api.resourceDefinition\"].length){n[\".google.api.resourceDefinition\"]=[];for(o=0;o<e[\".google.api.resourceDefinition\"].length;++o)n[\".google.api.resourceDefinition\"][o]=l.google.api.ResourceDescriptor.toObject(e[\".google.api.resourceDefinition\"][o],t)}return n},S.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},S.OptimizeMode=(e={},(t=Object.create(e))[e[1]=\"SPEED\"]=1,t[e[2]=\"CODE_SIZE\"]=2,t[e[3]=\"LITE_RUNTIME\"]=3,t),S),n.MessageOptions=(k.prototype.messageSetWireFormat=!1,k.prototype.noStandardDescriptorAccessor=!1,k.prototype.deprecated=!1,k.prototype.mapEntry=!1,k.prototype.uninterpretedOption=p.emptyArray,k.prototype[\".google.api.resource\"]=null,k.create=function(e){return new k(e)},k.encode=function(e,t){if(t=t||i.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,\"messageSetWireFormat\")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,\"noStandardDescriptorAccessor\")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,\"mapEntry\")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.resource\"]&&Object.hasOwnProperty.call(e,\".google.api.resource\")&&l.google.api.ResourceDescriptor.encode(e[\".google.api.resource\"],t.uint32(8426).fork()).ldelim(),t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MessageOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.messageSetWireFormat=e.bool();break;case 2:o.noStandardDescriptorAccessor=e.bool();break;case 3:o.deprecated=e.bool();break;case 7:o.mapEntry=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:o[\".google.api.resource\"]=l.google.api.ResourceDescriptor.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},k.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},k.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&\"boolean\"!=typeof e.messageSetWireFormat)return\"messageSetWireFormat: boolean expected\";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&\"boolean\"!=typeof e.noStandardDescriptorAccessor)return\"noStandardDescriptorAccessor: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&\"boolean\"!=typeof e.mapEntry)return\"mapEntry: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.api.resource\"]&&e.hasOwnProperty(\".google.api.resource\")&&(n=l.google.api.ResourceDescriptor.verify(e[\".google.api.resource\"])))return\".google.api.resource.\"+n;return null},k.fromObject=function(e){if(e instanceof l.google.protobuf.MessageOptions)return e;var t=new l.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.api.resource\"]){if(\"object\"!=typeof e[\".google.api.resource\"])throw TypeError(\".google.protobuf.MessageOptions..google.api.resource: object expected\");t[\".google.api.resource\"]=l.google.api.ResourceDescriptor.fromObject(e[\".google.api.resource\"])}return t},k.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.messageSetWireFormat=!1,n.noStandardDescriptorAccessor=!1,n.deprecated=!1,n.mapEntry=!1,n[\".google.api.resource\"]=null),null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&(n.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&(n.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&(n.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.resource\"]&&e.hasOwnProperty(\".google.api.resource\")&&(n[\".google.api.resource\"]=l.google.api.ResourceDescriptor.toObject(e[\".google.api.resource\"],t)),n},k.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},k),n.FieldOptions=(T.prototype.ctype=0,T.prototype.packed=!1,T.prototype.jstype=0,T.prototype.lazy=!1,T.prototype.deprecated=!1,T.prototype.weak=!1,T.prototype.uninterpretedOption=p.emptyArray,T.prototype[\".google.api.fieldBehavior\"]=p.emptyArray,T.prototype[\".google.api.resourceReference\"]=null,T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||i.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,\"ctype\")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,\"packed\")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,\"lazy\")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,\"jstype\")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,\"weak\")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.fieldBehavior\"]&&e[\".google.api.fieldBehavior\"].length){t.uint32(8418).fork();for(n=0;n<e[\".google.api.fieldBehavior\"].length;++n)t.int32(e[\".google.api.fieldBehavior\"][n]);t.ldelim()}return null!=e[\".google.api.resourceReference\"]&&Object.hasOwnProperty.call(e,\".google.api.resourceReference\")&&l.google.api.ResourceReference.encode(e[\".google.api.resourceReference\"],t.uint32(8442).fork()).ldelim(),t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FieldOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.ctype=e.int32();break;case 2:o.packed=e.bool();break;case 6:o.jstype=e.int32();break;case 5:o.lazy=e.bool();break;case 3:o.deprecated=e.bool();break;case 10:o.weak=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1052:if(o[\".google.api.fieldBehavior\"]&&o[\".google.api.fieldBehavior\"].length||(o[\".google.api.fieldBehavior\"]=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o[\".google.api.fieldBehavior\"].push(e.int32());else o[\".google.api.fieldBehavior\"].push(e.int32());break;case 1055:o[\".google.api.resourceReference\"]=l.google.api.ResourceReference.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},T.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},T.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.ctype&&e.hasOwnProperty(\"ctype\"))switch(e.ctype){default:return\"ctype: enum value expected\";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty(\"packed\")&&\"boolean\"!=typeof e.packed)return\"packed: boolean expected\";if(null!=e.jstype&&e.hasOwnProperty(\"jstype\"))switch(e.jstype){default:return\"jstype: enum value expected\";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&\"boolean\"!=typeof e.lazy)return\"lazy: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.weak&&e.hasOwnProperty(\"weak\")&&\"boolean\"!=typeof e.weak)return\"weak: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}if(null!=e[\".google.api.fieldBehavior\"]&&e.hasOwnProperty(\".google.api.fieldBehavior\")){if(!Array.isArray(e[\".google.api.fieldBehavior\"]))return\".google.api.fieldBehavior: array expected\";for(t=0;t<e[\".google.api.fieldBehavior\"].length;++t)switch(e[\".google.api.fieldBehavior\"][t]){default:return\".google.api.fieldBehavior: enum value[] expected\";case 0:case 1:case 2:case 3:case 4:case 5:}}var n;if(null!=e[\".google.api.resourceReference\"]&&e.hasOwnProperty(\".google.api.resourceReference\")&&(n=l.google.api.ResourceReference.verify(e[\".google.api.resourceReference\"])))return\".google.api.resourceReference.\"+n;return null},T.fromObject=function(e){if(e instanceof l.google.protobuf.FieldOptions)return e;var t=new l.google.protobuf.FieldOptions;switch(e.ctype){case\"STRING\":case 0:t.ctype=0;break;case\"CORD\":case 1:t.ctype=1;break;case\"STRING_PIECE\":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case\"JS_NORMAL\":case 0:t.jstype=0;break;case\"JS_STRING\":case 1:t.jstype=1;break;case\"JS_NUMBER\":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(e[\".google.api.fieldBehavior\"]){if(!Array.isArray(e[\".google.api.fieldBehavior\"]))throw TypeError(\".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected\");t[\".google.api.fieldBehavior\"]=[];for(n=0;n<e[\".google.api.fieldBehavior\"].length;++n)switch(e[\".google.api.fieldBehavior\"][n]){default:case\"FIELD_BEHAVIOR_UNSPECIFIED\":case 0:t[\".google.api.fieldBehavior\"][n]=0;break;case\"OPTIONAL\":case 1:t[\".google.api.fieldBehavior\"][n]=1;break;case\"REQUIRED\":case 2:t[\".google.api.fieldBehavior\"][n]=2;break;case\"OUTPUT_ONLY\":case 3:t[\".google.api.fieldBehavior\"][n]=3;break;case\"INPUT_ONLY\":case 4:t[\".google.api.fieldBehavior\"][n]=4;break;case\"IMMUTABLE\":case 5:t[\".google.api.fieldBehavior\"][n]=5}}if(null!=e[\".google.api.resourceReference\"]){if(\"object\"!=typeof e[\".google.api.resourceReference\"])throw TypeError(\".google.protobuf.FieldOptions..google.api.resourceReference: object expected\");t[\".google.api.resourceReference\"]=l.google.api.ResourceReference.fromObject(e[\".google.api.resourceReference\"])}return t},T.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.fieldBehavior\"]=[]),t.defaults&&(n.ctype=t.enums===String?\"STRING\":0,n.packed=!1,n.deprecated=!1,n.lazy=!1,n.jstype=t.enums===String?\"JS_NORMAL\":0,n.weak=!1,n[\".google.api.resourceReference\"]=null),null!=e.ctype&&e.hasOwnProperty(\"ctype\")&&(n.ctype=t.enums===String?l.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty(\"packed\")&&(n.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&(n.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty(\"jstype\")&&(n.jstype=t.enums===String?l.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty(\"weak\")&&(n.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.fieldBehavior\"]&&e[\".google.api.fieldBehavior\"].length){n[\".google.api.fieldBehavior\"]=[];for(o=0;o<e[\".google.api.fieldBehavior\"].length;++o)n[\".google.api.fieldBehavior\"][o]=t.enums===String?l.google.api.FieldBehavior[e[\".google.api.fieldBehavior\"][o]]:e[\".google.api.fieldBehavior\"][o]}return null!=e[\".google.api.resourceReference\"]&&e.hasOwnProperty(\".google.api.resourceReference\")&&(n[\".google.api.resourceReference\"]=l.google.api.ResourceReference.toObject(e[\".google.api.resourceReference\"],t)),n},T.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},T.CType=(e={},(t=Object.create(e))[e[0]=\"STRING\"]=0,t[e[1]=\"CORD\"]=1,t[e[2]=\"STRING_PIECE\"]=2,t),T.JSType=(e={},(t=Object.create(e))[e[0]=\"JS_NORMAL\"]=0,t[e[1]=\"JS_STRING\"]=1,t[e[2]=\"JS_NUMBER\"]=2,t),T),n.OneofOptions=(Q.prototype.uninterpretedOption=p.emptyArray,Q.create=function(e){return new Q(e)},Q.encode=function(e,t){if(t=t||i.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},Q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.OneofOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},Q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Q.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},Q.fromObject=function(e){if(e instanceof l.google.protobuf.OneofOptions)return e;var t=new l.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},Q.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},Q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Q),n.EnumOptions=(E.prototype.allowAlias=!1,E.prototype.deprecated=!1,E.prototype.uninterpretedOption=p.emptyArray,E.create=function(e){return new E(e)},E.encode=function(e,t){if(t=t||i.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,\"allowAlias\")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.allowAlias=e.bool();break;case 3:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},E.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},E.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&\"boolean\"!=typeof e.allowAlias)return\"allowAlias: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},E.fromObject=function(e){if(e instanceof l.google.protobuf.EnumOptions)return e;var t=new l.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},E.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.allowAlias=!1,n.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&(n.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},E.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},E),n.EnumValueOptions=(K.prototype.deprecated=!1,K.prototype.uninterpretedOption=p.emptyArray,K.create=function(e){return new K(e)},K.encode=function(e,t){if(t=t||i.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},K.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},K.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumValueOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},K.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},K.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},K.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueOptions)return e;var t=new l.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},K.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},K.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},K),n.ServiceOptions=(A.prototype.deprecated=!1,A.prototype.uninterpretedOption=p.emptyArray,A.prototype[\".google.api.defaultHost\"]=\"\",A.prototype[\".google.api.oauthScopes\"]=\"\",A.create=function(e){return new A(e)},A.encode=function(e,t){if(t=t||i.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.defaultHost\"]&&Object.hasOwnProperty.call(e,\".google.api.defaultHost\")&&t.uint32(8394).string(e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&Object.hasOwnProperty.call(e,\".google.api.oauthScopes\")&&t.uint32(8402).string(e[\".google.api.oauthScopes\"]),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ServiceOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.api.defaultHost\"]=e.string();break;case 1050:o[\".google.api.oauthScopes\"]=e.string();break;default:e.skipType(7&r)}}return o},A.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},A.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&!p.isString(e[\".google.api.defaultHost\"])?\".google.api.defaultHost: string expected\":null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&!p.isString(e[\".google.api.oauthScopes\"])?\".google.api.oauthScopes: string expected\":null},A.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceOptions)return e;var t=new l.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return null!=e[\".google.api.defaultHost\"]&&(t[\".google.api.defaultHost\"]=String(e[\".google.api.defaultHost\"])),null!=e[\".google.api.oauthScopes\"]&&(t[\".google.api.oauthScopes\"]=String(e[\".google.api.oauthScopes\"])),t},A.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1,n[\".google.api.defaultHost\"]=\"\",n[\".google.api.oauthScopes\"]=\"\"),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&(n[\".google.api.defaultHost\"]=e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&(n[\".google.api.oauthScopes\"]=e[\".google.api.oauthScopes\"]),n},A.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},A),n.MethodOptions=(N.prototype.deprecated=!1,N.prototype.idempotencyLevel=0,N.prototype.uninterpretedOption=p.emptyArray,N.prototype[\".google.api.http\"]=null,N.prototype[\".google.api.methodSignature\"]=p.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||i.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,\"idempotencyLevel\")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length)for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t.uint32(8410).string(e[\".google.api.methodSignature\"][n]);return null!=e[\".google.api.http\"]&&Object.hasOwnProperty.call(e,\".google.api.http\")&&l.google.api.HttpRule.encode(e[\".google.api.http\"],t.uint32(578365826).fork()).ldelim(),t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MethodOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 34:o.idempotencyLevel=e.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:o[\".google.api.http\"]=l.google.api.HttpRule.decode(e,e.uint32());break;case 1051:o[\".google.api.methodSignature\"]&&o[\".google.api.methodSignature\"].length||(o[\".google.api.methodSignature\"]=[]),o[\".google.api.methodSignature\"].push(e.string());break;default:e.skipType(7&r)}}return o},N.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},N.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\"))switch(e.idempotencyLevel){default:return\"idempotencyLevel: enum value expected\";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n=l.google.api.HttpRule.verify(e[\".google.api.http\"])))return\".google.api.http.\"+n;if(null!=e[\".google.api.methodSignature\"]&&e.hasOwnProperty(\".google.api.methodSignature\")){if(!Array.isArray(e[\".google.api.methodSignature\"]))return\".google.api.methodSignature: array expected\";for(t=0;t<e[\".google.api.methodSignature\"].length;++t)if(!p.isString(e[\".google.api.methodSignature\"][t]))return\".google.api.methodSignature: string[] expected\"}return null},N.fromObject=function(e){if(e instanceof l.google.protobuf.MethodOptions)return e;var t=new l.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case\"IDEMPOTENCY_UNKNOWN\":case 0:t.idempotencyLevel=0;break;case\"NO_SIDE_EFFECTS\":case 1:t.idempotencyLevel=1;break;case\"IDEMPOTENT\":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.api.http\"]){if(\"object\"!=typeof e[\".google.api.http\"])throw TypeError(\".google.protobuf.MethodOptions..google.api.http: object expected\");t[\".google.api.http\"]=l.google.api.HttpRule.fromObject(e[\".google.api.http\"])}if(e[\".google.api.methodSignature\"]){if(!Array.isArray(e[\".google.api.methodSignature\"]))throw TypeError(\".google.protobuf.MethodOptions..google.api.methodSignature: array expected\");t[\".google.api.methodSignature\"]=[];for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t[\".google.api.methodSignature\"][n]=String(e[\".google.api.methodSignature\"][n])}return t},N.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.methodSignature\"]=[]),t.defaults&&(n.deprecated=!1,n.idempotencyLevel=t.enums===String?\"IDEMPOTENCY_UNKNOWN\":0,n[\".google.api.http\"]=null),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\")&&(n.idempotencyLevel=t.enums===String?l.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length){n[\".google.api.methodSignature\"]=[];for(o=0;o<e[\".google.api.methodSignature\"].length;++o)n[\".google.api.methodSignature\"][o]=e[\".google.api.methodSignature\"][o]}return null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n[\".google.api.http\"]=l.google.api.HttpRule.toObject(e[\".google.api.http\"],t)),n},N.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},N.IdempotencyLevel=(e={},(t=Object.create(e))[e[0]=\"IDEMPOTENCY_UNKNOWN\"]=0,t[e[1]=\"NO_SIDE_EFFECTS\"]=1,t[e[2]=\"IDEMPOTENT\"]=2,t),N),n.UninterpretedOption=(R.prototype.name=p.emptyArray,R.prototype.identifierValue=\"\",R.prototype.positiveIntValue=p.Long?p.Long.fromBits(0,0,!0):0,R.prototype.negativeIntValue=p.Long?p.Long.fromBits(0,0,!1):0,R.prototype.doubleValue=0,R.prototype.stringValue=p.newBuffer([]),R.prototype.aggregateValue=\"\",R.create=function(e){return new R(e)},R.encode=function(e,t){if(t=t||i.create(),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)l.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,\"identifierValue\")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,\"positiveIntValue\")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,\"negativeIntValue\")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,\"doubleValue\")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,\"stringValue\")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,\"aggregateValue\")&&t.uint32(66).string(e.aggregateValue),t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.UninterpretedOption;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(l.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:o.identifierValue=e.string();break;case 4:o.positiveIntValue=e.uint64();break;case 5:o.negativeIntValue=e.int64();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.bytes();break;case 8:o.aggregateValue=e.string();break;default:e.skipType(7&r)}}return o},R.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},R.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")){if(!Array.isArray(e.name))return\"name: array expected\";for(var t=0;t<e.name.length;++t){var n=l.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(n)return\"name.\"+n}}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&!p.isString(e.identifierValue)?\"identifierValue: string expected\":null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&!(p.isInteger(e.positiveIntValue)||e.positiveIntValue&&p.isInteger(e.positiveIntValue.low)&&p.isInteger(e.positiveIntValue.high))?\"positiveIntValue: integer|Long expected\":null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&!(p.isInteger(e.negativeIntValue)||e.negativeIntValue&&p.isInteger(e.negativeIntValue.low)&&p.isInteger(e.negativeIntValue.high))?\"negativeIntValue: integer|Long expected\":null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&\"number\"!=typeof e.doubleValue?\"doubleValue: number expected\":null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&!(e.stringValue&&\"number\"==typeof e.stringValue.length||p.isString(e.stringValue))?\"stringValue: buffer expected\":null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&!p.isString(e.aggregateValue)?\"aggregateValue: string expected\":null},R.fromObject=function(e){if(e instanceof l.google.protobuf.UninterpretedOption)return e;var t=new l.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(\".google.protobuf.UninterpretedOption.name: array expected\");t.name=[];for(var n=0;n<e.name.length;++n){if(\"object\"!=typeof e.name[n])throw TypeError(\".google.protobuf.UninterpretedOption.name: object expected\");t.name[n]=l.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[n])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(p.Long?(t.positiveIntValue=p.Long.fromValue(e.positiveIntValue)).unsigned=!0:\"string\"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):\"number\"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:\"object\"==typeof e.positiveIntValue&&(t.positiveIntValue=new p.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(p.Long?(t.negativeIntValue=p.Long.fromValue(e.negativeIntValue)).unsigned=!1:\"string\"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):\"number\"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:\"object\"==typeof e.negativeIntValue&&(t.negativeIntValue=new p.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&(\"string\"==typeof e.stringValue?p.base64.decode(e.stringValue,t.stringValue=p.newBuffer(p.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},R.toObject=function(e,t){var n,o={};if(((t=t||{}).arrays||t.defaults)&&(o.name=[]),t.defaults&&(o.identifierValue=\"\",p.Long?(n=new p.Long(0,0,!0),o.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.positiveIntValue=t.longs===String?\"0\":0,p.Long?(n=new p.Long(0,0,!1),o.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.negativeIntValue=t.longs===String?\"0\":0,o.doubleValue=0,t.bytes===String?o.stringValue=\"\":(o.stringValue=[],t.bytes!==Array&&(o.stringValue=p.newBuffer(o.stringValue))),o.aggregateValue=\"\"),e.name&&e.name.length){o.name=[];for(var r=0;r<e.name.length;++r)o.name[r]=l.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[r],t)}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&(o.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&(\"number\"==typeof e.positiveIntValue?o.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:o.positiveIntValue=t.longs===String?p.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new p.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&(\"number\"==typeof e.negativeIntValue?o.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:o.negativeIntValue=t.longs===String?p.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new p.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&(o.stringValue=t.bytes===String?p.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&(o.aggregateValue=e.aggregateValue),o},R.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},R.NamePart=(Z.prototype.namePart=\"\",Z.prototype.isExtension=!1,Z.create=function(e){return new Z(e)},Z.encode=function(e,t){return(t=t||i.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},Z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.namePart=e.string();break;case 2:o.isExtension=e.bool();break;default:e.skipType(7&r)}}if(!o.hasOwnProperty(\"namePart\"))throw p.ProtocolError(\"missing required 'namePart'\",{instance:o});if(o.hasOwnProperty(\"isExtension\"))return o;throw p.ProtocolError(\"missing required 'isExtension'\",{instance:o})},Z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Z.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":p.isString(e.namePart)?\"boolean\"!=typeof e.isExtension?\"isExtension: boolean expected\":null:\"namePart: string expected\"},Z.fromObject=function(e){var t;return e instanceof l.google.protobuf.UninterpretedOption.NamePart?e:(t=new l.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},Z.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.namePart=\"\",n.isExtension=!1),null!=e.namePart&&e.hasOwnProperty(\"namePart\")&&(n.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty(\"isExtension\")&&(n.isExtension=e.isExtension),n},Z.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Z),R),n.SourceCodeInfo=($.prototype.location=p.emptyArray,$.create=function(e){return new $(e)},$.encode=function(e,t){if(t=t||i.create(),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)l.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},$.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},$.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.SourceCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(l.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&r)}return o},$.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},$.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.location&&e.hasOwnProperty(\"location\")){if(!Array.isArray(e.location))return\"location: array expected\";for(var t=0;t<e.location.length;++t){var n=l.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(n)return\"location.\"+n}}return null},$.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo)return e;var t=new l.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(\".google.protobuf.SourceCodeInfo.location: array expected\");t.location=[];for(var n=0;n<e.location.length;++n){if(\"object\"!=typeof e.location[n])throw TypeError(\".google.protobuf.SourceCodeInfo.location: object expected\");t.location[n]=l.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[n])}}return t},$.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.location=[]),e.location&&e.location.length){n.location=[];for(var o=0;o<e.location.length;++o)n.location[o]=l.google.protobuf.SourceCodeInfo.Location.toObject(e.location[o],t)}return n},$.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},$.Location=(I.prototype.path=p.emptyArray,I.prototype.span=p.emptyArray,I.prototype.leadingComments=\"\",I.prototype.trailingComments=\"\",I.prototype.leadingDetachedComments=p.emptyArray,I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||i.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){t.uint32(18).fork();for(n=0;n<e.span.length;++n)t.int32(e.span[n]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,\"leadingComments\")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,\"trailingComments\")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(n=0;n<e.leadingDetachedComments.length;++n)t.uint32(50).string(e.leadingDetachedComments[n]);return t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.span.push(e.int32());else o.span.push(e.int32());break;case 3:o.leadingComments=e.string();break;case 4:o.trailingComments=e.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(e.string());break;default:e.skipType(7&r)}}return o},I.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},I.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!p.isInteger(e.path[t]))return\"path: integer[] expected\"}if(null!=e.span&&e.hasOwnProperty(\"span\")){if(!Array.isArray(e.span))return\"span: array expected\";for(t=0;t<e.span.length;++t)if(!p.isInteger(e.span[t]))return\"span: integer[] expected\"}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&!p.isString(e.leadingComments))return\"leadingComments: string expected\";if(null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&!p.isString(e.trailingComments))return\"trailingComments: string expected\";if(null!=e.leadingDetachedComments&&e.hasOwnProperty(\"leadingDetachedComments\")){if(!Array.isArray(e.leadingDetachedComments))return\"leadingDetachedComments: array expected\";for(t=0;t<e.leadingDetachedComments.length;++t)if(!p.isString(e.leadingDetachedComments[t]))return\"leadingDetachedComments: string[] expected\"}return null},I.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo.Location)return e;var t=new l.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}if(e.span){if(!Array.isArray(e.span))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.span: array expected\");t.span=[];for(n=0;n<e.span.length;++n)t.span[n]=0|e.span[n]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected\");t.leadingDetachedComments=[];for(n=0;n<e.leadingDetachedComments.length;++n)t.leadingDetachedComments[n]=String(e.leadingDetachedComments[n])}return t},I.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[],n.span=[],n.leadingDetachedComments=[]),t.defaults&&(n.leadingComments=\"\",n.trailingComments=\"\"),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}if(e.span&&e.span.length){n.span=[];for(o=0;o<e.span.length;++o)n.span[o]=e.span[o]}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&(n.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&(n.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length){n.leadingDetachedComments=[];for(o=0;o<e.leadingDetachedComments.length;++o)n.leadingDetachedComments[o]=e.leadingDetachedComments[o]}return n},I.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},I),$),n.GeneratedCodeInfo=(ee.prototype.annotation=p.emptyArray,ee.create=function(e){return new ee(e)},ee.encode=function(e,t){if(t=t||i.create(),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)l.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},ee.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},ee.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.GeneratedCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(l.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&r)}return o},ee.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},ee.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.annotation&&e.hasOwnProperty(\"annotation\")){if(!Array.isArray(e.annotation))return\"annotation: array expected\";for(var t=0;t<e.annotation.length;++t){var n=l.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(n)return\"annotation.\"+n}}return null},ee.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo)return e;var t=new l.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: array expected\");t.annotation=[];for(var n=0;n<e.annotation.length;++n){if(\"object\"!=typeof e.annotation[n])throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: object expected\");t.annotation[n]=l.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[n])}}return t},ee.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.annotation=[]),e.annotation&&e.annotation.length){n.annotation=[];for(var o=0;o<e.annotation.length;++o)n.annotation[o]=l.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[o],t)}return n},ee.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},ee.Annotation=(C.prototype.path=p.emptyArray,C.prototype.sourceFile=\"\",C.prototype.begin=0,C.prototype.end=0,C.create=function(e){return new C(e)},C.encode=function(e,t){if(t=t||i.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,\"sourceFile\")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,\"begin\")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(32).int32(e.end),t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:o.sourceFile=e.string();break;case 3:o.begin=e.int32();break;case 4:o.end=e.int32();break;default:e.skipType(7&r)}}return o},C.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},C.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!p.isInteger(e.path[t]))return\"path: integer[] expected\"}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&!p.isString(e.sourceFile)?\"sourceFile: string expected\":null!=e.begin&&e.hasOwnProperty(\"begin\")&&!p.isInteger(e.begin)?\"begin: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end)?\"end: integer expected\":null},C.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new l.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},C.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.sourceFile=\"\",n.begin=0,n.end=0),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&(n.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty(\"begin\")&&(n.begin=e.begin),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},C.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},C),ee),n),F.type=((r={}).Expr=(V.prototype.expression=\"\",V.prototype.title=\"\",V.prototype.description=\"\",V.prototype.location=\"\",V.create=function(e){return new V(e)},V.encode=function(e,t){return t=t||i.create(),null!=e.expression&&Object.hasOwnProperty.call(e,\"expression\")&&t.uint32(10).string(e.expression),null!=e.title&&Object.hasOwnProperty.call(e,\"title\")&&t.uint32(18).string(e.title),null!=e.description&&Object.hasOwnProperty.call(e,\"description\")&&t.uint32(26).string(e.description),null!=e.location&&Object.hasOwnProperty.call(e,\"location\")&&t.uint32(34).string(e.location),t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.type.Expr;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.expression=e.string();break;case 2:o.title=e.string();break;case 3:o.description=e.string();break;case 4:o.location=e.string();break;default:e.skipType(7&r)}}return o},V.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},V.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.expression&&e.hasOwnProperty(\"expression\")&&!p.isString(e.expression)?\"expression: string expected\":null!=e.title&&e.hasOwnProperty(\"title\")&&!p.isString(e.title)?\"title: string expected\":null!=e.description&&e.hasOwnProperty(\"description\")&&!p.isString(e.description)?\"description: string expected\":null!=e.location&&e.hasOwnProperty(\"location\")&&!p.isString(e.location)?\"location: string expected\":null},V.fromObject=function(e){var t;return e instanceof l.google.type.Expr?e:(t=new l.google.type.Expr,null!=e.expression&&(t.expression=String(e.expression)),null!=e.title&&(t.title=String(e.title)),null!=e.description&&(t.description=String(e.description)),null!=e.location&&(t.location=String(e.location)),t)},V.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.expression=\"\",n.title=\"\",n.description=\"\",n.location=\"\"),null!=e.expression&&e.hasOwnProperty(\"expression\")&&(n.expression=e.expression),null!=e.title&&e.hasOwnProperty(\"title\")&&(n.title=e.title),null!=e.description&&e.hasOwnProperty(\"description\")&&(n.description=e.description),null!=e.location&&e.hasOwnProperty(\"location\")&&(n.location=e.location),n},V.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},V),r),F),l});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3Byb3Rvcy9pYW1fc2VydmljZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxxR0FBSyxLQUFxQyxDQUFDLGlDQUFPLENBQUMsc0dBQW9CLENBQUMsb0NBQUMsQ0FBQztBQUFBO0FBQUE7QUFBQSxrR0FBQyxDQUFDLENBQThILENBQUMsY0FBYyx5RkFBeUYsRUFBRSxrQkFBa0IsK0JBQStCLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsc0RBQXNELFdBQVcsd0NBQXdDLGNBQWMsc0RBQXNELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsbURBQW1ELFdBQVcsd0NBQXdDLGNBQWMsa0RBQWtELFdBQVcsd0NBQXdDLGNBQWMsa0ZBQWtGLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsZ0RBQWdELFdBQVcsd0NBQXdDLGNBQWMsNkRBQTZELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0RBQWtELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsNEtBQTRLLFdBQVcsd0NBQXdDLGNBQWMsMExBQTBMLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsMkZBQTJGLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsaURBQWlELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsd0dBQXdHLFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsbUdBQW1HLFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMscUdBQXFHLFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsbURBQW1ELFdBQVcsd0NBQXdDLGNBQWMsNEZBQTRGLFdBQVcsd0NBQXdDLGVBQWUscURBQXFELFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLHNCQUFzQixZQUFZLFdBQVcseUdBQXlHLHVCQUF1QixnRUFBZ0Usc0ZBQXNGLFNBQVMscUJBQXFCLGlFQUFpRSxzRkFBc0YsU0FBUyxxQkFBcUIsdUVBQXVFLGdIQUFnSCxTQUFTLDJCQUEyQixpR0FBaUcsZ0JBQWdCLHdCQUF3QixrUEFBa1AsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDZFQUE2RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sNERBQTRELE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZHQUE2RywrQ0FBK0MsMENBQTBDLHVCQUF1QixZQUFZLDBCQUEwQiw2REFBNkQsOENBQThDLHFFQUFxRSwyR0FBMkcscURBQXFELFNBQVMsMEJBQTBCLFNBQVMsY0FBYyx1TkFBdU4sK0JBQStCLDREQUE0RCxpR0FBaUcsZ0JBQWdCLHdCQUF3QiwrUEFBK1AsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDZFQUE2RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sdUVBQXVFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZHQUE2RyxpREFBaUQscURBQXFELHdCQUF3QixZQUFZLDBCQUEwQiw2REFBNkQsOENBQThDLHNFQUFzRSw2R0FBNkcsaUVBQWlFLFNBQVMsMEJBQTBCLFNBQVMsY0FBYyxzT0FBc08sK0JBQStCLDREQUE0RCxtSEFBbUgsZ0JBQWdCLHdCQUF3QixxS0FBcUssdUJBQXVCLDBDQUEwQyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxtRkFBbUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLDhGQUE4RixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2R0FBNkcseURBQXlELHFFQUFxRSxZQUFZLHVCQUF1Qiw0RUFBNEUsWUFBWSwwQkFBMEIsbUVBQW1FLG9EQUFvRCxvRUFBb0UseUhBQXlILGlCQUFpQixZQUFZLHVCQUF1Qiw4Q0FBOEMsU0FBUywwQkFBMEIsU0FBUyxZQUFZLG1MQUFtTCxpQkFBaUIsWUFBWSx1QkFBdUIsc0NBQXNDLFNBQVMsK0JBQStCLDREQUE0RCw0RkFBNEYsZ0JBQWdCLHdCQUF3Qix5RUFBeUUsdUJBQXVCLDBDQUEwQyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxvRkFBb0YsUUFBUSxFQUFFLGlCQUFpQixrSEFBa0gsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QseURBQXlELHFFQUFxRSxZQUFZLHVCQUF1Qiw0RUFBNEUsWUFBWSwwQkFBMEIsb0VBQW9FLHFEQUFxRCxrQkFBa0IsMEhBQTBILGlCQUFpQixZQUFZLHVCQUF1Qiw4Q0FBOEMsU0FBUywwQkFBMEIsU0FBUyxZQUFZLCtFQUErRSxpQkFBaUIsWUFBWSx1QkFBdUIsc0NBQXNDLFNBQVMsK0JBQStCLDREQUE0RCxrRkFBa0YsZ0JBQWdCLHdCQUF3Qiw2SkFBNkosaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLDREQUE0RCxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdOQUF3TiwwQkFBMEIsTUFBTSx3TEFBd0wsMEJBQTBCLFNBQVMsY0FBYywyS0FBMkssK0JBQStCLDREQUE0RCw0SEFBNEgsZ0JBQWdCLHdCQUF3Qix5T0FBeU8sb0JBQW9CLCtFQUErRSxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxnRUFBZ0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDJCQUEyQixNQUFNLG9IQUFvSCxNQUFNLHdCQUF3QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyR0FBMkcsbURBQW1ELCtEQUErRCxZQUFZLG9CQUFvQixLQUFLLG9EQUFvRCwwQkFBMEIsMElBQTBJLDBCQUEwQixnREFBZ0QsaUNBQWlDLHdEQUF3RCxnR0FBZ0csY0FBYyxZQUFZLG9CQUFvQixLQUFLLHFHQUFxRyxpRUFBaUUsc0pBQXNKLDBCQUEwQixTQUFTLFlBQVksNlpBQTZaLGNBQWMsWUFBWSxvQkFBb0Isb0VBQW9FLFNBQVMsK0JBQStCLDREQUE0RCxvSEFBb0gsZ0JBQWdCLHdCQUF3QixpSkFBaUosbUJBQW1CLHNDQUFzQywySUFBMkksaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlFQUFpRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sOEVBQThFLE1BQU0sMkRBQTJELE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixpREFBaUQsNkRBQTZELFlBQVksbUJBQW1CLG9FQUFvRSxxREFBcUQsNkNBQTZDLDBCQUEwQixZQUFZLDBCQUEwQixpREFBaUQsa0NBQWtDLG9EQUFvRCwrRkFBK0YsYUFBYSxZQUFZLG1CQUFtQixzQ0FBc0Msc0JBQXNCLHFHQUFxRyx1REFBdUQsU0FBUywwQkFBMEIsU0FBUyxZQUFZLG9LQUFvSyxhQUFhLFlBQVksbUJBQW1CLDhCQUE4QixvSEFBb0gsK0JBQStCLDREQUE0RCwwSEFBMEgsZ0JBQWdCLHdCQUF3Qiw2RUFBNkUseUJBQXlCLHlGQUF5RixpRUFBaUUsNkJBQTZCLGlHQUFpRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxxRUFBcUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZJQUE2SSxNQUFNLGlLQUFpSyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2REFBNkQseUVBQXlFLFlBQVkseUJBQXlCLDBGQUEwRixxRUFBcUUsaUZBQWlGLGNBQWMsNkJBQTZCLHNHQUFzRyxZQUFZLDBCQUEwQixxREFBcUQsc0NBQXNDLG9CQUFvQiwrR0FBK0csbUJBQW1CLFlBQVkseUJBQXlCLEtBQUssb0hBQW9ILGdGQUFnRix3QkFBd0IsdUhBQXVILHVCQUF1QixRQUFRLDZCQUE2QixLQUFLLDRIQUE0SCw0RkFBNEYsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDRHQUE0RyxtQkFBbUIsWUFBWSx5QkFBeUIsbUZBQW1GLG9EQUFvRCx1QkFBdUIsUUFBUSw2QkFBNkIsK0ZBQStGLFNBQVMsK0JBQStCLDREQUE0RCxtSUFBbUksZ0JBQWdCLHdCQUF3QixxWkFBcVosaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHNFQUFzRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsMEJBQTBCLE1BQU0seUJBQXlCLE1BQU0sMkJBQTJCLE1BQU0sMkRBQTJELE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELCtEQUErRCw0Q0FBNEMsc0JBQXNCLDZGQUE2RixxR0FBcUcscURBQXFELHlDQUF5QywwQkFBMEIsWUFBWSwwQkFBMEIsc0RBQXNELHVDQUF1QyxpQkFBaUIsMkNBQTJDLE1BQU0sNEJBQTRCLE1BQU0sK0JBQStCLHdHQUF3RywwR0FBMEcsdURBQXVELFNBQVMsMEJBQTBCLFNBQVMsY0FBYywwY0FBMGMsK0JBQStCLDREQUE0RCxlQUFlLHNPQUFzTyxnQkFBZ0Isd0JBQXdCLDZZQUE2WSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYywwQkFBMEIsTUFBTSw0QkFBNEIsTUFBTSxtQ0FBbUMsTUFBTSw0QkFBNEIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsK0RBQStELDRDQUE0QyxzQkFBc0Isd1VBQXdVLDBCQUEwQiwwREFBMEQsMkNBQTJDLGlCQUFpQiwyQ0FBMkMsTUFBTSw0QkFBNEIsTUFBTSwrQkFBK0IsMktBQTJLLDBCQUEwQixTQUFTLGNBQWMsMGRBQTBkLCtCQUErQiw0REFBNEQsZUFBZSw0R0FBNEcsK0RBQStELGdCQUFnQix3QkFBd0IsMEtBQTBLLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywyRUFBMkUsUUFBUSxFQUFFLGlCQUFpQix3RkFBd0YsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QseURBQXlELG9EQUFvRCw0QkFBNEIsWUFBWSwwQkFBMEIsMkRBQTJELDRDQUE0Qyx3QkFBd0IsbUhBQW1ILG9FQUFvRSxTQUFTLDBCQUEwQixTQUFTLGNBQWMsK0pBQStKLCtCQUErQiw0REFBNEQseUJBQXlCLHdHQUF3RyxnQkFBZ0Isd0JBQXdCLDZEQUE2RCxpQkFBaUIsMEVBQTBFLCtKQUErSixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMkRBQTJELFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxzR0FBc0csTUFBTSwrQ0FBK0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkNBQTZDLHlEQUF5RCxZQUFZLGlCQUFpQixLQUFLLCtDQUErQyx1QkFBdUIsc01BQXNNLDBCQUEwQiwyQ0FBMkMsNEJBQTRCLFlBQVkscUZBQXFGLFdBQVcsWUFBWSxpQkFBaUIsS0FBSywwRkFBMEYseURBQXlELHdIQUF3SCwwQkFBMEIsU0FBUyxZQUFZLDZHQUE2RyxXQUFXLFlBQVksaUJBQWlCLDREQUE0RCxpS0FBaUssK0JBQStCLDREQUE0RCw4U0FBOFMseUZBQXlGLHVCQUF1QixnQkFBZ0Isd0JBQXdCLDJ4QkFBMnhCLDhCQUE4Qix1RkFBdUYsaUhBQWlILGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywrREFBK0QsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLHdCQUF3QixNQUFNLHdCQUF3QixNQUFNLHlCQUF5QixNQUFNLDJCQUEyQixNQUFNLDBCQUEwQixNQUFNLG9FQUFvRSxNQUFNLHlCQUF5QixNQUFNLGtDQUFrQyxNQUFNLDJKQUEySixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxTQUFTLDZHQUE2Ryx1R0FBdUcseUNBQXlDLGtEQUFrRCwrREFBK0QsMkNBQTJDLGtEQUFrRCxpRUFBaUUsK0NBQStDLGtEQUFrRCxxRUFBcUUsNkNBQTZDLGtEQUFrRCxtRUFBbUUsK0NBQStDLGtEQUFrRCxtRkFBbUYsNkZBQTZGLDZIQUE2SCx1RUFBdUUsbUZBQW1GLGNBQWMsOEJBQThCLDZGQUE2RixZQUFZLDBCQUEwQiwrQ0FBK0MsZ0NBQWdDLHNRQUFzUSw2RkFBNkYsNkRBQTZELDZIQUE2SCxtSEFBbUgsd0JBQXdCLFlBQVksOEJBQThCLEtBQUssd0hBQXdILG1GQUFtRixTQUFTLDBCQUEwQixTQUFTLFlBQVksbzFCQUFvMUIsd0JBQXdCLFlBQVksOEJBQThCLHNGQUFzRixpR0FBaUcsK0JBQStCLDREQUE0RCxzRkFBc0YsZ0JBQWdCLHdCQUF3Qix5TEFBeUwsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0seUJBQXlCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isa09BQWtPLDBCQUEwQixNQUFNLDBLQUEwSywwQkFBMEIsU0FBUyxjQUFjLG9KQUFvSiwrQkFBK0IsNERBQTRELHlCQUF5QiwwV0FBMFcsZ0JBQWdCLHdCQUF3QixpSkFBaUosbUJBQW1CLHNDQUFzQyxrWEFBa1gsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHlFQUF5RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sOEVBQThFLE1BQU0sOEJBQThCLE1BQU0sMkJBQTJCLE1BQU0sMkJBQTJCLE1BQU0sNkJBQTZCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixpREFBaUQsNkRBQTZELFlBQVksbUJBQW1CLG9FQUFvRSxpSEFBaUgsa0VBQWtFLDZDQUE2QyxzQkFBc0IsNE1BQTRNLDBCQUEwQix5REFBeUQsMENBQTBDLG9EQUFvRCx1R0FBdUcsYUFBYSxZQUFZLG1CQUFtQixzQ0FBc0MsdUVBQXVFLDZDQUE2QyxNQUFNLG1EQUFtRCxNQUFNLDhDQUE4Qyx1R0FBdUcsMEJBQTBCLFNBQVMsWUFBWSwrT0FBK08sYUFBYSxZQUFZLG1CQUFtQiw4QkFBOEIscVdBQXFXLCtCQUErQiw0REFBNEQsZ0JBQWdCLHdOQUF3TixnQkFBZ0Isd0JBQXdCLHdNQUF3TSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0VBQXdFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw4QkFBOEIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixzUEFBc1AsMEJBQTBCLE1BQU0seUxBQXlMLDBCQUEwQixTQUFTLGNBQWMsNktBQTZLLCtCQUErQiw0REFBNEQsd0JBQXdCLHdFQUF3RSxnQkFBZ0Isd0JBQXdCLDJEQUEyRCxnQkFBZ0IseUZBQXlGLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDZFQUE2RSxRQUFRLEVBQUUsaUJBQWlCLHNJQUFzSSxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyQ0FBMkMsdURBQXVELFlBQVksZ0JBQWdCLEtBQUssOERBQThELHNCQUFzQixZQUFZLDBCQUEwQiw2REFBNkQsOENBQThDLFdBQVcscUdBQXFHLFVBQVUsWUFBWSxnQkFBZ0IsS0FBSywwR0FBMEcsdUVBQXVFLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwwREFBMEQsVUFBVSxZQUFZLGdCQUFnQiwwRUFBMEUsU0FBUywrQkFBK0IsNERBQTRELDJhQUEyYSxnQkFBZ0Isd0JBQXdCLGdQQUFnUCxzQkFBc0IseUNBQXlDLHFEQUFxRCx1QkFBdUIsNEZBQTRGLCtDQUErQyxvQkFBb0IsNkZBQTZGLDZDQUE2QyxtQkFBbUIsK0ZBQStGLGlEQUFpRCxxQkFBcUIsK0ZBQStGLHFXQUFxVyw0QkFBNEIsOENBQThDLDJEQUEyRCwwQkFBMEIsNENBQTRDLCtGQUErRixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0VBQStFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw0QkFBNEIsTUFBTSwwRkFBMEYsTUFBTSxzSEFBc0gsUUFBUSxvQ0FBb0Msd0NBQXdDLE1BQU0sNEdBQTRHLFFBQVEsa0NBQWtDLHNDQUFzQyxNQUFNLDBJQUEwSSxNQUFNLGtJQUFrSSxNQUFNLGlJQUFpSSxNQUFNLHVJQUF1SSxNQUFNLG9FQUFvRSxNQUFNLDhFQUE4RSxNQUFNLDRCQUE0QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYseUdBQXlHLHVEQUF1RCxtRUFBbUUsWUFBWSxzQkFBc0IsMEVBQTBFLG1FQUFtRSwrRUFBK0UsUUFBUSw0QkFBNEIsd0ZBQXdGLCtEQUErRCwyRUFBMkUsUUFBUSwwQkFBMEIsb0ZBQW9GLHlEQUF5RCxxRUFBcUUsUUFBUSx1QkFBdUIsMkZBQTJGLG1EQUFtRCwrREFBK0QsUUFBUSxvQkFBb0IseUZBQXlGLGlEQUFpRCw2REFBNkQsUUFBUSxtQkFBbUIsMEZBQTBGLHFEQUFxRCxpRUFBaUUsUUFBUSxxQkFBcUIsNEZBQTRGLE1BQU0sd0hBQXdILHVKQUF1Six3R0FBd0csMEJBQTBCLCtEQUErRCxnREFBZ0Qsc0dBQXNHLG1IQUFtSCxnQkFBZ0IsWUFBWSxzQkFBc0IsNENBQTRDLHVCQUF1QiwrSEFBK0gsc0JBQXNCLFFBQVEsNEJBQTRCLGtEQUFrRCxxQkFBcUIsMkhBQTJILG9CQUFvQixRQUFRLDBCQUEwQiw4Q0FBOEMsa0JBQWtCLHFIQUFxSCxpQkFBaUIsUUFBUSx1QkFBdUIsS0FBSywwSEFBMEgsaUZBQWlGLGVBQWUsK0dBQStHLGNBQWMsUUFBUSxvQkFBb0IsS0FBSyxvSEFBb0gsK0VBQStFLGNBQWMsNkdBQTZHLGFBQWEsUUFBUSxtQkFBbUIsS0FBSyxrSEFBa0gsZ0ZBQWdGLGdCQUFnQixpSEFBaUgsZUFBZSxRQUFRLHFCQUFxQixLQUFLLHNIQUFzSCxrRkFBa0Ysb0JBQW9CLCtHQUErRyw4REFBOEQsMkJBQTJCLDZIQUE2SCwrRUFBK0UscURBQXFELDBCQUEwQixTQUFTLFlBQVksbVlBQW1ZLGdCQUFnQixZQUFZLHNCQUFzQixvQ0FBb0Msd0NBQXdDLGlCQUFpQixRQUFRLHVCQUF1QixvRkFBb0Ysa0NBQWtDLGNBQWMsUUFBUSxvQkFBb0Isa0ZBQWtGLGdDQUFnQyxhQUFhLFFBQVEsbUJBQW1CLG1GQUFtRixvQ0FBb0MsZUFBZSxRQUFRLHFCQUFxQixxRkFBcUYsNlNBQTZTLHNCQUFzQixRQUFRLDRCQUE0QixnREFBZ0QsOENBQThDLG9CQUFvQixRQUFRLDBCQUEwQiw0Q0FBNEMseUVBQXlFLCtCQUErQiw0REFBNEQseVhBQXlYLGdCQUFnQix3QkFBd0IsNklBQTZJLGlCQUFpQiwyRkFBMkYsbURBQW1ELHNCQUFzQiwyRkFBMkYsK0NBQStDLG9CQUFvQiw2RkFBNkYsMkRBQTJELDBCQUEwQiw4R0FBOEcsaURBQWlELHFCQUFxQiwrRkFBK0YsMkxBQTJMLHFCQUFxQiwrRkFBK0YseURBQXlELHlCQUF5Qiw0R0FBNEcsdURBQXVELHdCQUF3QiwyQ0FBMkMsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMkVBQTJFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1SEFBdUgsTUFBTSx1SUFBdUksTUFBTSxzSUFBc0ksTUFBTSxrSUFBa0ksTUFBTSxxS0FBcUssTUFBTSx1SUFBdUksTUFBTSx1RUFBdUUsTUFBTSxnS0FBZ0ssTUFBTSxtR0FBbUcsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLDZDQUE2Qyx5REFBeUQsWUFBWSxpQkFBaUIsb0ZBQW9GLHFEQUFxRCxpRUFBaUUsUUFBUSxxQkFBcUIsNEZBQTRGLHVEQUF1RCxtRUFBbUUsUUFBUSxzQkFBc0IseUZBQXlGLG1EQUFtRCwrREFBK0QsUUFBUSxvQkFBb0IseUZBQXlGLCtEQUErRCwyRUFBMkUsUUFBUSwwQkFBMEIsZ0hBQWdILHFEQUFxRCxpRUFBaUUsUUFBUSxxQkFBcUIsNEZBQTRGLDJIQUEySCw2REFBNkQseUVBQXlFLGNBQWMseUJBQXlCLDZHQUE2RywyREFBMkQsdUVBQXVFLFFBQVEsd0JBQXdCLDhFQUE4RSxZQUFZLDBCQUEwQiwyREFBMkQsNENBQTRDLGtEQUFrRCxxR0FBcUcsV0FBVyxZQUFZLGlCQUFpQixLQUFLLDBHQUEwRywwRUFBMEUsZ0JBQWdCLDZHQUE2RyxlQUFlLFFBQVEscUJBQXFCLEtBQUssa0hBQWtILGtGQUFrRixpQkFBaUIsK0dBQStHLGdCQUFnQixRQUFRLHNCQUFzQixLQUFLLG9IQUFvSCwrRUFBK0UsZUFBZSwyR0FBMkcsY0FBYyxRQUFRLG9CQUFvQixLQUFLLGdIQUFnSCwrRUFBK0UscUJBQXFCLHVIQUF1SCxvQkFBb0IsUUFBUSwwQkFBMEIsS0FBSyw0SEFBNEgsc0dBQXNHLGdCQUFnQiw2R0FBNkcsZUFBZSxRQUFRLHFCQUFxQixLQUFLLGtIQUFrSCxrRkFBa0Ysb0JBQW9CLDJHQUEyRyxpRUFBaUUsb0JBQW9CLHFIQUFxSCxtQkFBbUIsUUFBUSx5QkFBeUIsS0FBSywwSEFBMEgsbUdBQW1HLG1CQUFtQixtSEFBbUgsa0JBQWtCLFFBQVEsd0JBQXdCLGdEQUFnRCxTQUFTLDBCQUEwQixTQUFTLFlBQVksaVJBQWlSLFdBQVcsWUFBWSxpQkFBaUIsNkVBQTZFLHNDQUFzQyxnQkFBZ0IsUUFBUSxzQkFBc0Isa0ZBQWtGLGtDQUFrQyxjQUFjLFFBQVEsb0JBQW9CLGtGQUFrRiw4Q0FBOEMsb0JBQW9CLFFBQVEsMEJBQTBCLHlHQUF5RyxvQ0FBb0MsZUFBZSxRQUFRLHFCQUFxQixxRkFBcUYscUpBQXFKLGVBQWUsUUFBUSxxQkFBcUIscUZBQXFGLDRDQUE0QyxtQkFBbUIsUUFBUSx5QkFBeUIsc0dBQXNHLDBDQUEwQyxrQkFBa0IsUUFBUSx3QkFBd0Isd0NBQXdDLFNBQVMsK0JBQStCLDREQUE0RCx1R0FBdUcsZ0JBQWdCLHdCQUF3Qix1VUFBdVUsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBGQUEwRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0sOEVBQThFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELG1HQUFtRywyRkFBMkYsaURBQWlELDREQUE0RCx3QkFBd0IsWUFBWSwwQkFBMEIsMEVBQTBFLDJEQUEyRCxvRkFBb0YsMEhBQTBILHdFQUF3RSxTQUFTLDBCQUEwQixTQUFTLGNBQWMseVJBQXlSLCtCQUErQiw0REFBNEQsZ0ZBQWdGLGdCQUFnQix3QkFBd0Isc0xBQXNMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx5RkFBeUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHNPQUFzTywwQkFBMEIsTUFBTSxnTUFBZ00sMEJBQTBCLFNBQVMsY0FBYyxrSkFBa0osK0JBQStCLDREQUE0RCxrR0FBa0csZ0JBQWdCLHdCQUF3Qix5RkFBeUYsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpRkFBaUYsUUFBUSxFQUFFLGlCQUFpQixvTUFBb00sU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsaUVBQWlFLGtEQUFrRCwwQkFBMEIsdUlBQXVJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLDRJQUE0SSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHVHQUF1Ryx5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxxVEFBcVQsZ0JBQWdCLHdCQUF3QixpakNBQWlqQyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsZ0ZBQWdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwwQkFBMEIsTUFBTSx5QkFBeUIsTUFBTSx3QkFBd0IsTUFBTSw2QkFBNkIsTUFBTSw2QkFBNkIsTUFBTSxpQ0FBaUMsTUFBTSw4QkFBOEIsTUFBTSw4QkFBOEIsTUFBTSxxRUFBcUUsTUFBTSxrQ0FBa0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLHVHQUF1Ryw0REFBNEQsMkNBQTJDLHNCQUFzQix5REFBeUQsMENBQTBDLHdJQUF3SSw2R0FBNkcsNkdBQTZHLDZIQUE2SCx1SEFBdUgsNkdBQTZHLGlEQUFpRCx1REFBdUQsd0JBQXdCLDhJQUE4SSwwQkFBMEIsZ0VBQWdFLGlEQUFpRCw0RkFBNEYsc0NBQXNDLE1BQU0sc0NBQXNDLE1BQU0sc0NBQXNDLGVBQWUsa0NBQWtDLE1BQU0saUNBQWlDLE1BQU0saUNBQWlDLE1BQU0sa0NBQWtDLE1BQU0saUNBQWlDLE1BQU0sbUNBQW1DLE1BQU0sbUNBQW1DLE1BQU0sZ0NBQWdDLE1BQU0sa0NBQWtDLE1BQU0sbUNBQW1DLE1BQU0scUNBQXFDLE1BQU0sbUNBQW1DLE1BQU0sb0NBQW9DLE1BQU0sa0NBQWtDLE1BQU0sc0NBQXNDLE1BQU0sc0NBQXNDLE1BQU0sb0NBQW9DLE1BQU0sb0NBQW9DLDBSQUEwUixnSEFBZ0gsK0RBQStELDhFQUE4RSwwQkFBMEIsU0FBUyxjQUFjLDhxQ0FBOHFDLCtCQUErQiw0REFBNEQsYUFBYSxvZUFBb2UscU1BQXFNLGdCQUFnQix3QkFBd0IsaVBBQWlQLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxnRkFBZ0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHFFQUFxRSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsaURBQWlELG1EQUFtRCx3QkFBd0IsWUFBWSwwQkFBMEIsZ0VBQWdFLGlEQUFpRCwwREFBMEQsZ0hBQWdILCtEQUErRCxTQUFTLDBCQUEwQixTQUFTLGNBQWMsZ05BQWdOLCtCQUErQiw0REFBNEQseU1BQXlNLGdCQUFnQix3QkFBd0IsNklBQTZJLGlCQUFpQiwrRkFBK0YsZ01BQWdNLHlCQUF5QixvSEFBb0gsdURBQXVELHdCQUF3QiwyQ0FBMkMsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0VBQStFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwySEFBMkgsTUFBTSxvRUFBb0UsTUFBTSx3S0FBd0ssTUFBTSxrR0FBa0csTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLDZDQUE2Qyx5REFBeUQsWUFBWSxpQkFBaUIsd0ZBQXdGLHdIQUF3SCw2REFBNkQseUVBQXlFLGNBQWMseUJBQXlCLHFIQUFxSCwyREFBMkQsdUVBQXVFLFFBQVEsd0JBQXdCLDhFQUE4RSxZQUFZLDBCQUEwQiwrREFBK0QsZ0RBQWdELGtEQUFrRCx5R0FBeUcsV0FBVyxZQUFZLGlCQUFpQixLQUFLLDhHQUE4Ryw4RUFBOEUsb0JBQW9CLCtHQUErRyw4REFBOEQsb0JBQW9CLHlIQUF5SCxtQkFBbUIsUUFBUSx5QkFBeUIsS0FBSyw4SEFBOEgsMkdBQTJHLG1CQUFtQix1SEFBdUgsa0JBQWtCLFFBQVEsd0JBQXdCLGdEQUFnRCxTQUFTLDBCQUEwQixTQUFTLFlBQVksaU1BQWlNLFdBQVcsWUFBWSxpQkFBaUIsaUZBQWlGLDBKQUEwSixtQkFBbUIsUUFBUSx5QkFBeUIsOEdBQThHLDBDQUEwQyxrQkFBa0IsUUFBUSx3QkFBd0Isd0NBQXdDLFNBQVMsK0JBQStCLDREQUE0RCxpRkFBaUYsZ0JBQWdCLHdCQUF3QixzTEFBc0wsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlHQUFpRyxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isc09BQXNPLDBCQUEwQixNQUFNLGdOQUFnTiwwQkFBMEIsU0FBUyxjQUFjLGtKQUFrSiwrQkFBK0IsNERBQTRELDBIQUEwSCxnQkFBZ0Isd0JBQXdCLDBVQUEwVSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msb0ZBQW9GLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwwQkFBMEIsTUFBTSx5RUFBeUUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLHVHQUF1RyxpREFBaUQsdURBQXVELHdCQUF3QixZQUFZLDBCQUEwQixvRUFBb0UscURBQXFELGdHQUFnRyxvSEFBb0gsbUVBQW1FLFNBQVMsMEJBQTBCLFNBQVMsY0FBYywrUkFBK1IsK0JBQStCLDREQUE0RCxnSUFBZ0ksZ0JBQWdCLHdCQUF3QiwrSUFBK0ksa0JBQWtCLDZGQUE2RixtSkFBbUosaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGtGQUFrRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sNEhBQTRILE1BQU0sdUVBQXVFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RiwrQ0FBK0MsMkRBQTJELFlBQVksa0JBQWtCLHVGQUF1RixNQUFNLDJIQUEySCxZQUFZLDBCQUEwQixrRUFBa0UsbURBQW1ELG1EQUFtRCw4R0FBOEcsWUFBWSxZQUFZLGtCQUFrQixLQUFLLG1IQUFtSCw2RUFBNkUsb0JBQW9CLGtIQUFrSCxpRUFBaUUsU0FBUywwQkFBMEIsU0FBUyxZQUFZLCtKQUErSixZQUFZLFlBQVksa0JBQWtCLGdGQUFnRiwwSEFBMEgsK0JBQStCLDREQUE0RCxnTkFBZ04sZ0JBQWdCLHdCQUF3QixpcEJBQWlwQixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsaUZBQWlGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw4QkFBOEIsTUFBTSwrQkFBK0IsTUFBTSxzRUFBc0UsTUFBTSxrQ0FBa0MsTUFBTSxrQ0FBa0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLGlIQUFpSCxxSEFBcUgsaURBQWlELHdEQUF3RCx3QkFBd0Isd1JBQXdSLDBCQUEwQixpRUFBaUUsa0RBQWtELHVLQUF1SyxpSEFBaUgsZ0VBQWdFLHlKQUF5SiwwQkFBMEIsU0FBUyxjQUFjLDhuQkFBOG5CLCtCQUErQiw0REFBNEQsOHZCQUE4dkIsZ0JBQWdCLHdCQUF3QixrekVBQWt6RSwrQkFBK0IsMEdBQTBHLGlHQUFpRyw2Q0FBNkMsa0hBQWtILFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHVFQUF1RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsZ0NBQWdDLE1BQU0sdUNBQXVDLE1BQU0scUNBQXFDLE1BQU0sNkNBQTZDLE1BQU0sdUNBQXVDLE1BQU0sK0JBQStCLE1BQU0sK0JBQStCLE1BQU0scUNBQXFDLE1BQU0sdUNBQXVDLE1BQU0scUNBQXFDLE1BQU0sc0NBQXNDLE1BQU0sOEJBQThCLE1BQU0sa0NBQWtDLE1BQU0scUNBQXFDLE1BQU0scUNBQXFDLE1BQU0saUNBQWlDLE1BQU0sb0NBQW9DLE1BQU0sa0NBQWtDLE1BQU0sMENBQTBDLE1BQU0saUNBQWlDLE1BQU0sZ0xBQWdMLE1BQU0sbU9BQW1PLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlIQUF5SCxxSkFBcUosdUpBQXVKLHVMQUF1TCwrSkFBK0osOEVBQThFLGlEQUFpRCxzQkFBc0IsaUhBQWlILHVKQUF1SiwrSkFBK0osdUpBQXVKLDJKQUEySiwySEFBMkgsMklBQTJJLHlJQUF5SSx5SUFBeUkseUhBQXlILHFJQUFxSSw2SEFBNkgsNkpBQTZKLHlIQUF5SCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLCtHQUErRyxrR0FBa0csOEdBQThHLGNBQWMsNkNBQTZDLGtJQUFrSSxZQUFZLDBCQUEwQix1REFBdUQsd0NBQXdDLHlhQUF5YSxtQ0FBbUMsTUFBTSx1Q0FBdUMsTUFBTSwwQ0FBMEMsMCtCQUEwK0IsNkhBQTZILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLGtJQUFrSSxxR0FBcUcsd0NBQXdDLHNKQUFzSix1Q0FBdUMsUUFBUSw2Q0FBNkMsS0FBSywySkFBMkosMkhBQTJILFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxrb0ZBQWtvRix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLG9GQUFvRix1Q0FBdUMsUUFBUSw2Q0FBNkMsOEhBQThILFNBQVMsK0JBQStCLDREQUE0RCxxQkFBcUIsMFZBQTBWLGdCQUFnQix3QkFBd0Isc2lCQUFzaUIsK0JBQStCLDBHQUEwRyxpTUFBaU0saUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsdUNBQXVDLE1BQU0sK0NBQStDLE1BQU0sNkJBQTZCLE1BQU0sMkJBQTJCLE1BQU0sZ0xBQWdMLE1BQU0seUZBQXlGLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELG1LQUFtSyxtTUFBbU0sMkhBQTJILG1IQUFtSCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLCtHQUErRyxNQUFNLG9MQUFvTCxZQUFZLDBCQUEwQiwwREFBMEQsMkNBQTJDLDRVQUE0VSxnSUFBZ0kseUJBQXlCLFlBQVksK0JBQStCLEtBQUsscUlBQXFJLHFHQUFxRyxvQ0FBb0MsdUlBQXVJLGdHQUFnRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksc3BCQUFzcEIseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxzTEFBc0wsK0JBQStCLDREQUE0RCwrVEFBK1QsZ0JBQWdCLHdCQUF3Qiwra0JBQStrQiwrQkFBK0IsMEdBQTBHLGdGQUFnRixzQkFBc0IsUUFBUSx3Q0FBd0MsK0NBQStDLFdBQVcsMk5BQTJOLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RUFBd0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHlCQUF5QixNQUFNLDBCQUEwQixNQUFNLHVCQUF1QixNQUFNLDZCQUE2QixNQUFNLHdCQUF3QixNQUFNLGdMQUFnTCxNQUFNLDRKQUE0SixRQUFRLGdEQUFnRCxvREFBb0QsTUFBTSxpR0FBaUcsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNERBQTRELDJDQUEyQyxzQkFBc0IsMkdBQTJHLCtEQUErRCw0Q0FBNEMsc0JBQXNCLG1HQUFtRywySEFBMkgsbUdBQW1HLHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsK0dBQStHLHdGQUF3RixvR0FBb0csUUFBUSx3Q0FBd0MsOENBQThDLGlFQUFpRSw0Q0FBNEMsTUFBTSx1TkFBdU4sWUFBWSwwQkFBMEIsd0RBQXdELHlDQUF5QyxnQkFBZ0IsOEJBQThCLE1BQU0sNEJBQTRCLE1BQU0sb0NBQW9DLDhEQUE4RCxrQ0FBa0MsTUFBTSxrQ0FBa0MsTUFBTSxrQ0FBa0MsaUtBQWlLLDhIQUE4SCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxtSUFBbUkscUdBQXFHLG1DQUFtQyw2SUFBNkksa0NBQWtDLFFBQVEsd0NBQXdDLDhDQUE4QyxvRkFBb0YsTUFBTSwwREFBMEQsTUFBTSwwREFBMEQsTUFBTSw2REFBNkQsTUFBTSw0REFBNEQsTUFBTSw0REFBNEQsNkNBQTZDLHVKQUF1SixpSEFBaUgsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHV6QkFBdXpCLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csMEVBQTBFLGtDQUFrQyxRQUFRLHdDQUF3Qyx1SkFBdUoseU5BQXlOLCtCQUErQiw0REFBNEQsY0FBYyxrR0FBa0csOEtBQThLLGdCQUFnQix3QkFBd0IseUZBQXlGLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0VBQXdFLFFBQVEsRUFBRSxpQkFBaUIsb01BQW9NLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLHdEQUF3RCx5Q0FBeUMsMEJBQTBCLDhIQUE4SCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxtSUFBbUkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSx1R0FBdUcseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQseUlBQXlJLGdCQUFnQix3QkFBd0IseVJBQXlSLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsdUVBQXVFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSw2QkFBNkIsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILDJIQUEySCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix1REFBdUQsd0NBQXdDLDRJQUE0SSw2SEFBNkgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssa0lBQWtJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVkscVRBQXFULHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELG9IQUFvSCxnQkFBZ0Isd0JBQXdCLHdMQUF3TCwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDRFQUE0RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQiw0REFBNEQsNkNBQTZDLG1GQUFtRixrSUFBa0kseUJBQXlCLFlBQVksK0JBQStCLEtBQUssdUlBQXVJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVkscU5BQXFOLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHNNQUFzTSxnQkFBZ0Isd0JBQXdCLDBMQUEwTCwrQkFBK0IsMEdBQTBHLDJTQUEyUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw4QkFBOEIsTUFBTSxnTEFBZ0wsTUFBTSxrREFBa0QsTUFBTSxrREFBa0QsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLHdWQUF3ViwwQkFBMEIsMERBQTBELDJDQUEyQyxtRkFBbUYsZ0lBQWdJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLHFJQUFxSSxxR0FBcUcseU5BQXlOLDBCQUEwQixTQUFTLFlBQVkscVJBQXFSLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csbVNBQW1TLCtCQUErQiw0REFBNEQsNk9BQTZPLGdCQUFnQix3QkFBd0IsOFNBQThTLCtCQUErQiwwR0FBMEcsMkZBQTJGLDBDQUEwQywrREFBK0QsZ0xBQWdMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx5RUFBeUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDhCQUE4QixNQUFNLHFDQUFxQyxNQUFNLGdMQUFnTCxNQUFNLCtFQUErRSxNQUFNLDZLQUE2SyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwySEFBMkgsNkZBQTZGLHNEQUFzRCxzQkFBc0IseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQiwrR0FBK0csTUFBTSwwSkFBMEosNEZBQTRGLHdHQUF3RyxRQUFRLDBDQUEwQywrR0FBK0csWUFBWSwwQkFBMEIseURBQXlELDBDQUEwQyxvRkFBb0Ysc0RBQXNELE1BQU0sa0RBQWtELE1BQU0sNkNBQTZDLDBCQUEwQiwrSEFBK0gseUJBQXlCLFlBQVksK0JBQStCLEtBQUssb0lBQW9JLHFHQUFxRyxnQ0FBZ0MsOEhBQThILDhFQUE4RSxxQ0FBcUMsa0pBQWtKLG9DQUFvQyxRQUFRLDBDQUEwQyxvRkFBb0YsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDhnQkFBOGdCLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csOEVBQThFLG9DQUFvQyxRQUFRLDBDQUEwQyw0RUFBNEUsNEpBQTRKLCtCQUErQiw0REFBNEQseUJBQXlCLGtiQUFrYixnQkFBZ0Isd0JBQXdCLDJEQUEyRCxnQkFBZ0Isa0dBQWtHLHdwQkFBd3BCLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywrRUFBK0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDJIQUEySCxNQUFNLG9DQUFvQyxNQUFNLHFDQUFxQyxNQUFNLG9DQUFvQyxNQUFNLGdDQUFnQyxNQUFNLCtCQUErQixNQUFNLG1DQUFtQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyQ0FBMkMsdURBQXVELFlBQVksZ0JBQWdCLEtBQUssdUVBQXVFLHNCQUFzQiw0L0JBQTQvQiwwQkFBMEIsK0RBQStELGdEQUFnRCxXQUFXLHVHQUF1RyxVQUFVLFlBQVksZ0JBQWdCLEtBQUssNEdBQTRHLGdGQUFnRixrc0NBQWtzQywwQkFBMEIsV0FBVyxZQUFZLG9pQkFBb2lCLFVBQVUsWUFBWSxnQkFBZ0IsbUZBQW1GLHl6Q0FBeXpDLCtCQUErQiw0REFBNEQscUZBQXFGLGdCQUFnQix3QkFBd0IseUZBQXlGLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RkFBd0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLDhCQUE4QixNQUFNLHlCQUF5QixzRkFBc0YsV0FBVyxFQUFFLDRDQUE0Qyx3REFBd0QsV0FBVyxFQUFFLCtCQUErQiw4REFBOEQsc0JBQXNCLDZLQUE2SywwQkFBMEIsTUFBTSw0T0FBNE8sMEJBQTBCLFNBQVMsY0FBYywyTUFBMk0sK0JBQStCLDREQUE0RCxnRkFBZ0YsZ0JBQWdCLHdCQUF3QixtRUFBbUUsb0JBQW9CLGlHQUFpRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywwRUFBMEUsUUFBUSxFQUFFLGlCQUFpQiwwSkFBMEosU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsbURBQW1ELCtEQUErRCxZQUFZLG9CQUFvQixLQUFLLHNFQUFzRSwwQkFBMEIsWUFBWSwwQkFBMEIsMERBQTBELDJDQUEyQyxlQUFlLDBHQUEwRyxjQUFjLFlBQVksb0JBQW9CLEtBQUssK0dBQStHLG1GQUFtRixTQUFTLDBCQUEwQixTQUFTLFlBQVksc0VBQXNFLGNBQWMsWUFBWSxvQkFBb0Isc0ZBQXNGLFNBQVMsK0JBQStCLDREQUE0RCw4TUFBOE0sZ0JBQWdCLHdCQUF3QixnREFBZ0Qsb0JBQW9CLFlBQVksZ0JBQWdCLHVCQUF1QixXQUFXLGdDQUFnQyxvQkFBb0IsUUFBUSxnQkFBZ0IsdUJBQXVCLFdBQVcsa1RBQWtULG1DQUFtQyxzREFBc0QsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsbUZBQW1GLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxpRkFBaUYsUUFBUSx3QkFBd0IsNEJBQTRCLE1BQU0sNkVBQTZFLFFBQVEsd0JBQXdCLDRCQUE0QixNQUFNLG9DQUFvQyxNQUFNLHFDQUFxQyxNQUFNLDhJQUE4SSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyQ0FBMkMsdURBQXVELFlBQVksZ0JBQWdCLGdFQUFnRSwyQ0FBMkMsdURBQXVELFFBQVEsZ0JBQWdCLGdFQUFnRSx5SUFBeUksNklBQTZJLGlGQUFpRiw2RkFBNkYsUUFBUSxtQ0FBbUMsb0dBQW9HLFlBQVksMEJBQTBCLG1FQUFtRSxvREFBb0QsV0FBVywyR0FBMkcsVUFBVSxZQUFZLGdCQUFnQiwwQkFBMEIsV0FBVywyR0FBMkcsVUFBVSxRQUFRLGdCQUFnQiwwQkFBMEIsK0tBQStLLGlKQUFpSiw2QkFBNkIsUUFBUSxtQ0FBbUMsc0VBQXNFLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwwSkFBMEosVUFBVSxZQUFZLGdCQUFnQix3QkFBd0IsMEJBQTBCLFVBQVUsUUFBUSxnQkFBZ0Isd0JBQXdCLDRRQUE0USw2QkFBNkIsUUFBUSxtQ0FBbUMsOERBQThELFNBQVMsK0JBQStCLDREQUE0RCx1RkFBdUYsaUJBQWlCLHlCQUF5Qix1RUFBdUUsc0JBQXNCLHdHQUF3RyxTQUFTLGtDQUFrQyxpQ0FBaUMseUJBQXlCLGdDQUFnQyw2RUFBNkUsUUFBUSxFQUFFLGlCQUFpQix1S0FBdUssU0FBUyxnQ0FBZ0MsOERBQThELHVCQUF1Qix3REFBd0QsdURBQXVELG1FQUFtRSxZQUFZLHNCQUFzQixLQUFLLDZFQUE2RSw0QkFBNEIsWUFBWSwyQkFBMkIsNkRBQTZELDhDQUE4QyxpQkFBaUIsaUhBQWlILGdCQUFnQixZQUFZLHNCQUFzQixLQUFLLHNIQUFzSCw0RkFBNEYsU0FBUywyQkFBMkIsU0FBUyxZQUFZLDRFQUE0RSxnQkFBZ0IsWUFBWSxzQkFBc0IsK0ZBQStGLFNBQVMsZ0NBQWdDLDREQUE0RCxtSUFBbUksZ0JBQWdCLHdCQUF3QixnREFBZ0Qsb0JBQW9CLFlBQVksZ0JBQWdCLHVCQUF1QixXQUFXLHlRQUF5USxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0ZBQXdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxpRkFBaUYsUUFBUSx3QkFBd0IsNEJBQTRCLE1BQU0sK0JBQStCLE1BQU0seUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJDQUEyQyx1REFBdUQsWUFBWSxnQkFBZ0IsZ0VBQWdFLG9TQUFvUywwQkFBMEIsd0VBQXdFLHlEQUF5RCxXQUFXLGdIQUFnSCxVQUFVLFlBQVksZ0JBQWdCLDBCQUEwQixpSUFBaUksMEJBQTBCLFNBQVMsWUFBWSwwR0FBMEcsVUFBVSxZQUFZLGdCQUFnQix3QkFBd0IseU1BQXlNLCtCQUErQiw0REFBNEQsd0JBQXdCLCtIQUErSCxnQkFBZ0Isd0JBQXdCLCtZQUErWSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsNERBQTRELFFBQVEsRUFBRSxpQkFBaUIsY0FBYywrQkFBK0IsTUFBTSwwQkFBMEIsTUFBTSxnQ0FBZ0MsTUFBTSw2QkFBNkIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixrZEFBa2QsMEJBQTBCLE1BQU0sb1JBQW9SLDBCQUEwQixTQUFTLGNBQWMsa1hBQWtYLCtCQUErQiw0REFBNEQsWUFBWSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvcHJvdG9zL2lhbV9zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihlPT57XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJwcm90b2J1ZmpzL21pbmltYWxcIl0sZSk6XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPWUocmVxdWlyZShcInByb3RvYnVmanMvbWluaW1hbFwiKSkpfSkoZnVuY3Rpb24obyl7dmFyIGUsdCxuLHIsRixhPW8uUmVhZGVyLGk9by5Xcml0ZXIscD1vLnV0aWwsbD1vLnJvb3RzLmlhbV9wcm90b3N8fChvLnJvb3RzLmlhbV9wcm90b3M9e30pO2Z1bmN0aW9uIEIoZSx0LG4pe28ucnBjLlNlcnZpY2UuY2FsbCh0aGlzLGUsdCxuKX1mdW5jdGlvbiBzKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB1KGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBjKGUpe2lmKHRoaXMucGVybWlzc2lvbnM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEcoZSl7aWYodGhpcy5wZXJtaXNzaW9ucz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZChlKXtpZih0aGlzLmJpbmRpbmdzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBnKGUpe2lmKHRoaXMubWVtYmVycz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gTShlKXtpZih0aGlzLmJpbmRpbmdEZWx0YXM9W10sdGhpcy5hdWRpdENvbmZpZ0RlbHRhcz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24geShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gTChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSihlKXtpZih0aGlzLnJ1bGVzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBoKGUpe2lmKHRoaXMuYWRkaXRpb25hbEJpbmRpbmdzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBfKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBiKGUpe2lmKHRoaXMucGF0dGVybj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gcShlKXtpZih0aGlzLmZpbGU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIG0oZSl7aWYodGhpcy5kZXBlbmRlbmN5PVtdLHRoaXMucHVibGljRGVwZW5kZW5jeT1bXSx0aGlzLndlYWtEZXBlbmRlbmN5PVtdLHRoaXMubWVzc2FnZVR5cGU9W10sdGhpcy5lbnVtVHlwZT1bXSx0aGlzLnNlcnZpY2U9W10sdGhpcy5leHRlbnNpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIE8oZSl7aWYodGhpcy5maWVsZD1bXSx0aGlzLmV4dGVuc2lvbj1bXSx0aGlzLm5lc3RlZFR5cGU9W10sdGhpcy5lbnVtVHlwZT1bXSx0aGlzLmV4dGVuc2lvblJhbmdlPVtdLHRoaXMub25lb2ZEZWNsPVtdLHRoaXMucmVzZXJ2ZWRSYW5nZT1bXSx0aGlzLnJlc2VydmVkTmFtZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gdihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gWShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24geihlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFAoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFcoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHcoZSl7aWYodGhpcy52YWx1ZT1bXSx0aGlzLnJlc2VydmVkUmFuZ2U9W10sdGhpcy5yZXNlcnZlZE5hbWU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFgoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGooZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEQoZSl7aWYodGhpcy5tZXRob2Q9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHgoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFMoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLHRoaXNbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl09W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGsoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBUKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSx0aGlzW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gUShlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEUoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBLKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gQShlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIE4oZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLHRoaXNbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFIoZSl7aWYodGhpcy5uYW1lPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBaKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiAkKGUpe2lmKHRoaXMubG9jYXRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEkoZSl7aWYodGhpcy5wYXRoPVtdLHRoaXMuc3Bhbj1bXSx0aGlzLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBlZShlKXtpZih0aGlzLmFubm90YXRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEMoZSl7aWYodGhpcy5wYXRoPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBWKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1yZXR1cm4gbC5nb29nbGU9KChGPXt9KS5pYW09KChuPXt9KS52MT0oKHQ9e30pLklBTVBvbGljeT0oKChCLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucnBjLlNlcnZpY2UucHJvdG90eXBlKSkuY29uc3RydWN0b3I9QikuY3JlYXRlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbmV3IHRoaXMoZSx0LG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQi5wcm90b3R5cGUuc2V0SWFtUG9saWN5PWZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gdGhpcy5ycGNDYWxsKGUsbC5nb29nbGUuaWFtLnYxLlNldElhbVBvbGljeVJlcXVlc3QsbC5nb29nbGUuaWFtLnYxLlBvbGljeSx0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJTZXRJYW1Qb2xpY3lcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCLnByb3RvdHlwZS5nZXRJYW1Qb2xpY3k9ZnVuY3Rpb24gZSh0LG4pe3JldHVybiB0aGlzLnJwY0NhbGwoZSxsLmdvb2dsZS5pYW0udjEuR2V0SWFtUG9saWN5UmVxdWVzdCxsLmdvb2dsZS5pYW0udjEuUG9saWN5LHQsbil9LFwibmFtZVwiLHt2YWx1ZTpcIkdldElhbVBvbGljeVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEIucHJvdG90eXBlLnRlc3RJYW1QZXJtaXNzaW9ucz1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHRoaXMucnBjQ2FsbChlLGwuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0LGwuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZSx0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJUZXN0SWFtUGVybWlzc2lvbnNcIn0pLEIpLHQuU2V0SWFtUG9saWN5UmVxdWVzdD0ocy5wcm90b3R5cGUucmVzb3VyY2U9XCJcIixzLnByb3RvdHlwZS5wb2xpY3k9bnVsbCxzLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHMoZSl9LHMuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnJlc291cmNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzb3VyY2VcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5yZXNvdXJjZSksbnVsbCE9ZS5wb2xpY3kmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwb2xpY3lcIikmJmwuZ29vZ2xlLmlhbS52MS5Qb2xpY3kuZW5jb2RlKGUucG9saWN5LHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LHMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5TZXRJYW1Qb2xpY3lSZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ucmVzb3VyY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wb2xpY3k9bC5nb29nbGUuaWFtLnYxLlBvbGljeS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucmVzb3VyY2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNvdXJjZVwiKSYmIXAuaXNTdHJpbmcoZS5yZXNvdXJjZSkpcmV0dXJuXCJyZXNvdXJjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wb2xpY3kmJmUuaGFzT3duUHJvcGVydHkoXCJwb2xpY3lcIikpe2U9bC5nb29nbGUuaWFtLnYxLlBvbGljeS52ZXJpZnkoZS5wb2xpY3kpO2lmKGUpcmV0dXJuXCJwb2xpY3kuXCIrZX1yZXR1cm4gbnVsbH0scy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuU2V0SWFtUG9saWN5UmVxdWVzdClyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUuaWFtLnYxLlNldElhbVBvbGljeVJlcXVlc3Q7aWYobnVsbCE9ZS5yZXNvdXJjZSYmKHQucmVzb3VyY2U9U3RyaW5nKGUucmVzb3VyY2UpKSxudWxsIT1lLnBvbGljeSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucG9saWN5KXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLlNldElhbVBvbGljeVJlcXVlc3QucG9saWN5OiBvYmplY3QgZXhwZWN0ZWRcIik7dC5wb2xpY3k9bC5nb29nbGUuaWFtLnYxLlBvbGljeS5mcm9tT2JqZWN0KGUucG9saWN5KX1yZXR1cm4gdH0scy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ucmVzb3VyY2U9XCJcIixuLnBvbGljeT1udWxsKSxudWxsIT1lLnJlc291cmNlJiZlLmhhc093blByb3BlcnR5KFwicmVzb3VyY2VcIikmJihuLnJlc291cmNlPWUucmVzb3VyY2UpLG51bGwhPWUucG9saWN5JiZlLmhhc093blByb3BlcnR5KFwicG9saWN5XCIpJiYobi5wb2xpY3k9bC5nb29nbGUuaWFtLnYxLlBvbGljeS50b09iamVjdChlLnBvbGljeSx0KSksbn0scy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHMpLHQuR2V0SWFtUG9saWN5UmVxdWVzdD0odS5wcm90b3R5cGUucmVzb3VyY2U9XCJcIix1LnByb3RvdHlwZS5vcHRpb25zPW51bGwsdS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KGUpfSx1LmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5yZXNvdXJjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc291cmNlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUucmVzb3VyY2UpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sdS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sdS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLkdldElhbVBvbGljeVJlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5yZXNvdXJjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm9wdGlvbnM9bC5nb29nbGUuaWFtLnYxLkdldFBvbGljeU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx1LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx1LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJlc291cmNlJiZlLmhhc093blByb3BlcnR5KFwicmVzb3VyY2VcIikmJiFwLmlzU3RyaW5nKGUucmVzb3VyY2UpKXJldHVyblwicmVzb3VyY2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe2U9bC5nb29nbGUuaWFtLnYxLkdldFBvbGljeU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYoZSlyZXR1cm5cIm9wdGlvbnMuXCIrZX1yZXR1cm4gbnVsbH0sdS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuR2V0SWFtUG9saWN5UmVxdWVzdClyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUuaWFtLnYxLkdldElhbVBvbGljeVJlcXVlc3Q7aWYobnVsbCE9ZS5yZXNvdXJjZSYmKHQucmVzb3VyY2U9U3RyaW5nKGUucmVzb3VyY2UpKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuR2V0SWFtUG9saWN5UmVxdWVzdC5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sdS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ucmVzb3VyY2U9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5yZXNvdXJjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc291cmNlXCIpJiYobi5yZXNvdXJjZT1lLnJlc291cmNlKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHUpLHQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdD0oYy5wcm90b3R5cGUucmVzb3VyY2U9XCJcIixjLnByb3RvdHlwZS5wZXJtaXNzaW9ucz1wLmVtcHR5QXJyYXksYy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBjKGUpfSxjLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnJlc291cmNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzb3VyY2VcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5yZXNvdXJjZSksbnVsbCE9ZS5wZXJtaXNzaW9ucyYmZS5wZXJtaXNzaW9ucy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnBlcm1pc3Npb25zLmxlbmd0aDsrK24pdC51aW50MzIoMTgpLnN0cmluZyhlLnBlcm1pc3Npb25zW25dKTtyZXR1cm4gdH0sYy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sYy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5yZXNvdXJjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnBlcm1pc3Npb25zJiZvLnBlcm1pc3Npb25zLmxlbmd0aHx8KG8ucGVybWlzc2lvbnM9W10pLG8ucGVybWlzc2lvbnMucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucmVzb3VyY2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNvdXJjZVwiKSYmIXAuaXNTdHJpbmcoZS5yZXNvdXJjZSkpcmV0dXJuXCJyZXNvdXJjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wZXJtaXNzaW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcInBlcm1pc3Npb25zXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnBlcm1pc3Npb25zKSlyZXR1cm5cInBlcm1pc3Npb25zOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5wZXJtaXNzaW9ucy5sZW5ndGg7Kyt0KWlmKCFwLmlzU3RyaW5nKGUucGVybWlzc2lvbnNbdF0pKXJldHVyblwicGVybWlzc2lvbnM6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LGMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3QpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0O2lmKG51bGwhPWUucmVzb3VyY2UmJih0LnJlc291cmNlPVN0cmluZyhlLnJlc291cmNlKSksZS5wZXJtaXNzaW9ucyl7aWYoIUFycmF5LmlzQXJyYXkoZS5wZXJtaXNzaW9ucykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdC5wZXJtaXNzaW9uczogYXJyYXkgZXhwZWN0ZWRcIik7dC5wZXJtaXNzaW9ucz1bXTtmb3IodmFyIG49MDtuPGUucGVybWlzc2lvbnMubGVuZ3RoOysrbil0LnBlcm1pc3Npb25zW25dPVN0cmluZyhlLnBlcm1pc3Npb25zW25dKX1yZXR1cm4gdH0sYy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucGVybWlzc2lvbnM9W10pLHQuZGVmYXVsdHMmJihuLnJlc291cmNlPVwiXCIpLG51bGwhPWUucmVzb3VyY2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNvdXJjZVwiKSYmKG4ucmVzb3VyY2U9ZS5yZXNvdXJjZSksZS5wZXJtaXNzaW9ucyYmZS5wZXJtaXNzaW9ucy5sZW5ndGgpe24ucGVybWlzc2lvbnM9W107Zm9yKHZhciBvPTA7bzxlLnBlcm1pc3Npb25zLmxlbmd0aDsrK28pbi5wZXJtaXNzaW9uc1tvXT1lLnBlcm1pc3Npb25zW29dfXJldHVybiBufSxjLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sYyksdC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZT0oRy5wcm90b3R5cGUucGVybWlzc2lvbnM9cC5lbXB0eUFycmF5LEcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRyhlKX0sRy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5wZXJtaXNzaW9ucyYmZS5wZXJtaXNzaW9ucy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnBlcm1pc3Npb25zLmxlbmd0aDsrK24pdC51aW50MzIoMTApLnN0cmluZyhlLnBlcm1pc3Npb25zW25dKTtyZXR1cm4gdH0sRy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sRy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLlRlc3RJYW1QZXJtaXNzaW9uc1Jlc3BvbnNlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xPyhvLnBlcm1pc3Npb25zJiZvLnBlcm1pc3Npb25zLmxlbmd0aHx8KG8ucGVybWlzc2lvbnM9W10pLG8ucGVybWlzc2lvbnMucHVzaChlLnN0cmluZygpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxHLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxHLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBlcm1pc3Npb25zJiZlLmhhc093blByb3BlcnR5KFwicGVybWlzc2lvbnNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucGVybWlzc2lvbnMpKXJldHVyblwicGVybWlzc2lvbnM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnBlcm1pc3Npb25zLmxlbmd0aDsrK3QpaWYoIXAuaXNTdHJpbmcoZS5wZXJtaXNzaW9uc1t0XSkpcmV0dXJuXCJwZXJtaXNzaW9uczogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sRy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2UpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZTtpZihlLnBlcm1pc3Npb25zKXtpZighQXJyYXkuaXNBcnJheShlLnBlcm1pc3Npb25zKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZS5wZXJtaXNzaW9uczogYXJyYXkgZXhwZWN0ZWRcIik7dC5wZXJtaXNzaW9ucz1bXTtmb3IodmFyIG49MDtuPGUucGVybWlzc2lvbnMubGVuZ3RoOysrbil0LnBlcm1pc3Npb25zW25dPVN0cmluZyhlLnBlcm1pc3Npb25zW25dKX1yZXR1cm4gdH0sRy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucGVybWlzc2lvbnM9W10pLGUucGVybWlzc2lvbnMmJmUucGVybWlzc2lvbnMubGVuZ3RoKXtuLnBlcm1pc3Npb25zPVtdO2Zvcih2YXIgbz0wO288ZS5wZXJtaXNzaW9ucy5sZW5ndGg7KytvKW4ucGVybWlzc2lvbnNbb109ZS5wZXJtaXNzaW9uc1tvXX1yZXR1cm4gbn0sRy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEcpLHQuR2V0UG9saWN5T3B0aW9ucz0oVS5wcm90b3R5cGUucmVxdWVzdGVkUG9saWN5VmVyc2lvbj0wLFUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVShlKX0sVS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucmVxdWVzdGVkUG9saWN5VmVyc2lvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlcXVlc3RlZFBvbGljeVZlcnNpb25cIikmJnQudWludDMyKDgpLmludDMyKGUucmVxdWVzdGVkUG9saWN5VmVyc2lvbiksdH0sVS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sVS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLkdldFBvbGljeU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/by5yZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uPWUuaW50MzIoKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LFUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFUudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUucmVxdWVzdGVkUG9saWN5VmVyc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInJlcXVlc3RlZFBvbGljeVZlcnNpb25cIikmJiFwLmlzSW50ZWdlcihlLnJlcXVlc3RlZFBvbGljeVZlcnNpb24pP1wicmVxdWVzdGVkUG9saWN5VmVyc2lvbjogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LFUuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zP2U6KHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zLG51bGwhPWUucmVxdWVzdGVkUG9saWN5VmVyc2lvbiYmKHQucmVxdWVzdGVkUG9saWN5VmVyc2lvbj0wfGUucmVxdWVzdGVkUG9saWN5VmVyc2lvbiksdCl9LFUudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnJlcXVlc3RlZFBvbGljeVZlcnNpb249MCksbnVsbCE9ZS5yZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uJiZlLmhhc093blByb3BlcnR5KFwicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiKSYmKG4ucmVxdWVzdGVkUG9saWN5VmVyc2lvbj1lLnJlcXVlc3RlZFBvbGljeVZlcnNpb24pLG59LFUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxVKSx0LlBvbGljeT0oZC5wcm90b3R5cGUudmVyc2lvbj0wLGQucHJvdG90eXBlLmJpbmRpbmdzPXAuZW1wdHlBcnJheSxkLnByb3RvdHlwZS5ldGFnPXAubmV3QnVmZmVyKFtdKSxkLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGQoZSl9LGQuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUudmVyc2lvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInZlcnNpb25cIikmJnQudWludDMyKDgpLmludDMyKGUudmVyc2lvbiksbnVsbCE9ZS5ldGFnJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXRhZ1wiKSYmdC51aW50MzIoMjYpLmJ5dGVzKGUuZXRhZyksbnVsbCE9ZS5iaW5kaW5ncyYmZS5iaW5kaW5ncy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmJpbmRpbmdzLmxlbmd0aDsrK24pbC5nb29nbGUuaWFtLnYxLkJpbmRpbmcuZW5jb2RlKGUuYmluZGluZ3Nbbl0sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5Qb2xpY3k7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by52ZXJzaW9uPWUuaW50MzIoKTticmVhaztjYXNlIDQ6by5iaW5kaW5ncyYmby5iaW5kaW5ncy5sZW5ndGh8fChvLmJpbmRpbmdzPVtdKSxvLmJpbmRpbmdzLnB1c2gobC5nb29nbGUuaWFtLnYxLkJpbmRpbmcuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLmV0YWc9ZS5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sZC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sZC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS52ZXJzaW9uJiZlLmhhc093blByb3BlcnR5KFwidmVyc2lvblwiKSYmIXAuaXNJbnRlZ2VyKGUudmVyc2lvbikpcmV0dXJuXCJ2ZXJzaW9uOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5iaW5kaW5ncyYmZS5oYXNPd25Qcm9wZXJ0eShcImJpbmRpbmdzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmJpbmRpbmdzKSlyZXR1cm5cImJpbmRpbmdzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5iaW5kaW5ncy5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5pYW0udjEuQmluZGluZy52ZXJpZnkoZS5iaW5kaW5nc1t0XSk7aWYobilyZXR1cm5cImJpbmRpbmdzLlwiK259fXJldHVybiBudWxsIT1lLmV0YWcmJmUuaGFzT3duUHJvcGVydHkoXCJldGFnXCIpJiYhKGUuZXRhZyYmXCJudW1iZXJcIj09dHlwZW9mIGUuZXRhZy5sZW5ndGh8fHAuaXNTdHJpbmcoZS5ldGFnKSk/XCJldGFnOiBidWZmZXIgZXhwZWN0ZWRcIjpudWxsfSxkLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmlhbS52MS5Qb2xpY3kpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5Qb2xpY3k7aWYobnVsbCE9ZS52ZXJzaW9uJiYodC52ZXJzaW9uPTB8ZS52ZXJzaW9uKSxlLmJpbmRpbmdzKXtpZighQXJyYXkuaXNBcnJheShlLmJpbmRpbmdzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmlhbS52MS5Qb2xpY3kuYmluZGluZ3M6IGFycmF5IGV4cGVjdGVkXCIpO3QuYmluZGluZ3M9W107Zm9yKHZhciBuPTA7bjxlLmJpbmRpbmdzLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmJpbmRpbmdzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLlBvbGljeS5iaW5kaW5nczogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYmluZGluZ3Nbbl09bC5nb29nbGUuaWFtLnYxLkJpbmRpbmcuZnJvbU9iamVjdChlLmJpbmRpbmdzW25dKX19cmV0dXJuIG51bGwhPWUuZXRhZyYmKFwic3RyaW5nXCI9PXR5cGVvZiBlLmV0YWc/cC5iYXNlNjQuZGVjb2RlKGUuZXRhZyx0LmV0YWc9cC5uZXdCdWZmZXIocC5iYXNlNjQubGVuZ3RoKGUuZXRhZykpLDApOmUuZXRhZy5sZW5ndGgmJih0LmV0YWc9ZS5ldGFnKSksdH0sZC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uYmluZGluZ3M9W10pLHQuZGVmYXVsdHMmJihuLnZlcnNpb249MCx0LmJ5dGVzPT09U3RyaW5nP24uZXRhZz1cIlwiOihuLmV0YWc9W10sdC5ieXRlcyE9PUFycmF5JiYobi5ldGFnPXAubmV3QnVmZmVyKG4uZXRhZykpKSksbnVsbCE9ZS52ZXJzaW9uJiZlLmhhc093blByb3BlcnR5KFwidmVyc2lvblwiKSYmKG4udmVyc2lvbj1lLnZlcnNpb24pLG51bGwhPWUuZXRhZyYmZS5oYXNPd25Qcm9wZXJ0eShcImV0YWdcIikmJihuLmV0YWc9dC5ieXRlcz09PVN0cmluZz9wLmJhc2U2NC5lbmNvZGUoZS5ldGFnLDAsZS5ldGFnLmxlbmd0aCk6dC5ieXRlcz09PUFycmF5P0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuZXRhZyk6ZS5ldGFnKSxlLmJpbmRpbmdzJiZlLmJpbmRpbmdzLmxlbmd0aCl7bi5iaW5kaW5ncz1bXTtmb3IodmFyIG89MDtvPGUuYmluZGluZ3MubGVuZ3RoOysrbyluLmJpbmRpbmdzW29dPWwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nLnRvT2JqZWN0KGUuYmluZGluZ3Nbb10sdCl9cmV0dXJuIG59LGQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxkKSx0LkJpbmRpbmc9KGcucHJvdG90eXBlLnJvbGU9XCJcIixnLnByb3RvdHlwZS5tZW1iZXJzPXAuZW1wdHlBcnJheSxnLnByb3RvdHlwZS5jb25kaXRpb249bnVsbCxnLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGcoZSl9LGcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucm9sZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJvbGVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5yb2xlKSxudWxsIT1lLm1lbWJlcnMmJmUubWVtYmVycy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLm1lbWJlcnMubGVuZ3RoOysrbil0LnVpbnQzMigxOCkuc3RyaW5nKGUubWVtYmVyc1tuXSk7cmV0dXJuIG51bGwhPWUuY29uZGl0aW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY29uZGl0aW9uXCIpJiZsLmdvb2dsZS50eXBlLkV4cHIuZW5jb2RlKGUuY29uZGl0aW9uLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ucm9sZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm1lbWJlcnMmJm8ubWVtYmVycy5sZW5ndGh8fChvLm1lbWJlcnM9W10pLG8ubWVtYmVycy5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2Nhc2UgMzpvLmNvbmRpdGlvbj1sLmdvb2dsZS50eXBlLkV4cHIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxnLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxnLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJvbGUmJmUuaGFzT3duUHJvcGVydHkoXCJyb2xlXCIpJiYhcC5pc1N0cmluZyhlLnJvbGUpKXJldHVyblwicm9sZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tZW1iZXJzJiZlLmhhc093blByb3BlcnR5KFwibWVtYmVyc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZW1iZXJzKSlyZXR1cm5cIm1lbWJlcnM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLm1lbWJlcnMubGVuZ3RoOysrdClpZighcC5pc1N0cmluZyhlLm1lbWJlcnNbdF0pKXJldHVyblwibWVtYmVyczogc3RyaW5nW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLmNvbmRpdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImNvbmRpdGlvblwiKSl7dmFyIG49bC5nb29nbGUudHlwZS5FeHByLnZlcmlmeShlLmNvbmRpdGlvbik7aWYobilyZXR1cm5cImNvbmRpdGlvbi5cIitufXJldHVybiBudWxsfSxnLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEuQmluZGluZztpZihudWxsIT1lLnJvbGUmJih0LnJvbGU9U3RyaW5nKGUucm9sZSkpLGUubWVtYmVycyl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZW1iZXJzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmlhbS52MS5CaW5kaW5nLm1lbWJlcnM6IGFycmF5IGV4cGVjdGVkXCIpO3QubWVtYmVycz1bXTtmb3IodmFyIG49MDtuPGUubWVtYmVycy5sZW5ndGg7KytuKXQubWVtYmVyc1tuXT1TdHJpbmcoZS5tZW1iZXJzW25dKX1pZihudWxsIT1lLmNvbmRpdGlvbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuY29uZGl0aW9uKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLkJpbmRpbmcuY29uZGl0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5jb25kaXRpb249bC5nb29nbGUudHlwZS5FeHByLmZyb21PYmplY3QoZS5jb25kaXRpb24pfXJldHVybiB0fSxnLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5tZW1iZXJzPVtdKSx0LmRlZmF1bHRzJiYobi5yb2xlPVwiXCIsbi5jb25kaXRpb249bnVsbCksbnVsbCE9ZS5yb2xlJiZlLmhhc093blByb3BlcnR5KFwicm9sZVwiKSYmKG4ucm9sZT1lLnJvbGUpLGUubWVtYmVycyYmZS5tZW1iZXJzLmxlbmd0aCl7bi5tZW1iZXJzPVtdO2Zvcih2YXIgbz0wO288ZS5tZW1iZXJzLmxlbmd0aDsrK28pbi5tZW1iZXJzW29dPWUubWVtYmVyc1tvXX1yZXR1cm4gbnVsbCE9ZS5jb25kaXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJjb25kaXRpb25cIikmJihuLmNvbmRpdGlvbj1sLmdvb2dsZS50eXBlLkV4cHIudG9PYmplY3QoZS5jb25kaXRpb24sdCkpLG59LGcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxnKSx0LlBvbGljeURlbHRhPShNLnByb3RvdHlwZS5iaW5kaW5nRGVsdGFzPXAuZW1wdHlBcnJheSxNLnByb3RvdHlwZS5hdWRpdENvbmZpZ0RlbHRhcz1wLmVtcHR5QXJyYXksTS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNKGUpfSxNLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmJpbmRpbmdEZWx0YXMmJmUuYmluZGluZ0RlbHRhcy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmJpbmRpbmdEZWx0YXMubGVuZ3RoOysrbilsLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhLmVuY29kZShlLmJpbmRpbmdEZWx0YXNbbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5hdWRpdENvbmZpZ0RlbHRhcyYmZS5hdWRpdENvbmZpZ0RlbHRhcy5sZW5ndGgpZm9yKG49MDtuPGUuYXVkaXRDb25maWdEZWx0YXMubGVuZ3RoOysrbilsLmdvb2dsZS5pYW0udjEuQXVkaXRDb25maWdEZWx0YS5lbmNvZGUoZS5hdWRpdENvbmZpZ0RlbHRhc1tuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sTS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uYmluZGluZ0RlbHRhcyYmby5iaW5kaW5nRGVsdGFzLmxlbmd0aHx8KG8uYmluZGluZ0RlbHRhcz1bXSksby5iaW5kaW5nRGVsdGFzLnB1c2gobC5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOm8uYXVkaXRDb25maWdEZWx0YXMmJm8uYXVkaXRDb25maWdEZWx0YXMubGVuZ3RofHwoby5hdWRpdENvbmZpZ0RlbHRhcz1bXSksby5hdWRpdENvbmZpZ0RlbHRhcy5wdXNoKGwuZ29vZ2xlLmlhbS52MS5BdWRpdENvbmZpZ0RlbHRhLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LE0uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LE0udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuYmluZGluZ0RlbHRhcyYmZS5oYXNPd25Qcm9wZXJ0eShcImJpbmRpbmdEZWx0YXNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuYmluZGluZ0RlbHRhcykpcmV0dXJuXCJiaW5kaW5nRGVsdGFzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5iaW5kaW5nRGVsdGFzLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhLnZlcmlmeShlLmJpbmRpbmdEZWx0YXNbdF0pKXJldHVyblwiYmluZGluZ0RlbHRhcy5cIitufWlmKG51bGwhPWUuYXVkaXRDb25maWdEZWx0YXMmJmUuaGFzT3duUHJvcGVydHkoXCJhdWRpdENvbmZpZ0RlbHRhc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5hdWRpdENvbmZpZ0RlbHRhcykpcmV0dXJuXCJhdWRpdENvbmZpZ0RlbHRhczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sdD0wO3Q8ZS5hdWRpdENvbmZpZ0RlbHRhcy5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUuaWFtLnYxLkF1ZGl0Q29uZmlnRGVsdGEudmVyaWZ5KGUuYXVkaXRDb25maWdEZWx0YXNbdF0pKXJldHVyblwiYXVkaXRDb25maWdEZWx0YXMuXCIrbn1yZXR1cm4gbnVsbH0sTS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5Qb2xpY3lEZWx0YTtpZihlLmJpbmRpbmdEZWx0YXMpe2lmKCFBcnJheS5pc0FycmF5KGUuYmluZGluZ0RlbHRhcykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEuYmluZGluZ0RlbHRhczogYXJyYXkgZXhwZWN0ZWRcIik7dC5iaW5kaW5nRGVsdGFzPVtdO2Zvcih2YXIgbj0wO248ZS5iaW5kaW5nRGVsdGFzLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmJpbmRpbmdEZWx0YXNbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEuYmluZGluZ0RlbHRhczogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYmluZGluZ0RlbHRhc1tuXT1sLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhLmZyb21PYmplY3QoZS5iaW5kaW5nRGVsdGFzW25dKX19aWYoZS5hdWRpdENvbmZpZ0RlbHRhcyl7aWYoIUFycmF5LmlzQXJyYXkoZS5hdWRpdENvbmZpZ0RlbHRhcykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEuYXVkaXRDb25maWdEZWx0YXM6IGFycmF5IGV4cGVjdGVkXCIpO3QuYXVkaXRDb25maWdEZWx0YXM9W107Zm9yKG49MDtuPGUuYXVkaXRDb25maWdEZWx0YXMubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuYXVkaXRDb25maWdEZWx0YXNbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEuYXVkaXRDb25maWdEZWx0YXM6IG9iamVjdCBleHBlY3RlZFwiKTt0LmF1ZGl0Q29uZmlnRGVsdGFzW25dPWwuZ29vZ2xlLmlhbS52MS5BdWRpdENvbmZpZ0RlbHRhLmZyb21PYmplY3QoZS5hdWRpdENvbmZpZ0RlbHRhc1tuXSl9fXJldHVybiB0fSxNLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5iaW5kaW5nRGVsdGFzPVtdLG4uYXVkaXRDb25maWdEZWx0YXM9W10pLGUuYmluZGluZ0RlbHRhcyYmZS5iaW5kaW5nRGVsdGFzLmxlbmd0aCl7bi5iaW5kaW5nRGVsdGFzPVtdO2Zvcih2YXIgbz0wO288ZS5iaW5kaW5nRGVsdGFzLmxlbmd0aDsrK28pbi5iaW5kaW5nRGVsdGFzW29dPWwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nRGVsdGEudG9PYmplY3QoZS5iaW5kaW5nRGVsdGFzW29dLHQpfWlmKGUuYXVkaXRDb25maWdEZWx0YXMmJmUuYXVkaXRDb25maWdEZWx0YXMubGVuZ3RoKXtuLmF1ZGl0Q29uZmlnRGVsdGFzPVtdO2ZvcihvPTA7bzxlLmF1ZGl0Q29uZmlnRGVsdGFzLmxlbmd0aDsrK28pbi5hdWRpdENvbmZpZ0RlbHRhc1tvXT1sLmdvb2dsZS5pYW0udjEuQXVkaXRDb25maWdEZWx0YS50b09iamVjdChlLmF1ZGl0Q29uZmlnRGVsdGFzW29dLHQpfXJldHVybiBufSxNLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTSksdC5CaW5kaW5nRGVsdGE9KGYucHJvdG90eXBlLmFjdGlvbj0wLGYucHJvdG90eXBlLnJvbGU9XCJcIixmLnByb3RvdHlwZS5tZW1iZXI9XCJcIixmLnByb3RvdHlwZS5jb25kaXRpb249bnVsbCxmLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGYoZSl9LGYuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmFjdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFjdGlvblwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5hY3Rpb24pLG51bGwhPWUucm9sZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJvbGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5yb2xlKSxudWxsIT1lLm1lbWJlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1lbWJlclwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLm1lbWJlciksbnVsbCE9ZS5jb25kaXRpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjb25kaXRpb25cIikmJmwuZ29vZ2xlLnR5cGUuRXhwci5lbmNvZGUoZS5jb25kaXRpb24sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksdH0sZi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sZi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmFjdGlvbj1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8ucm9sZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLm1lbWJlcj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLmNvbmRpdGlvbj1sLmdvb2dsZS50eXBlLkV4cHIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxmLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxmLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFjdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvblwiKSlzd2l0Y2goZS5hY3Rpb24pe2RlZmF1bHQ6cmV0dXJuXCJhY3Rpb246IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9aWYobnVsbCE9ZS5yb2xlJiZlLmhhc093blByb3BlcnR5KFwicm9sZVwiKSYmIXAuaXNTdHJpbmcoZS5yb2xlKSlyZXR1cm5cInJvbGU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubWVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibWVtYmVyXCIpJiYhcC5pc1N0cmluZyhlLm1lbWJlcikpcmV0dXJuXCJtZW1iZXI6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuY29uZGl0aW9uJiZlLmhhc093blByb3BlcnR5KFwiY29uZGl0aW9uXCIpKXtlPWwuZ29vZ2xlLnR5cGUuRXhwci52ZXJpZnkoZS5jb25kaXRpb24pO2lmKGUpcmV0dXJuXCJjb25kaXRpb24uXCIrZX1yZXR1cm4gbnVsbH0sZi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhO3N3aXRjaChlLmFjdGlvbil7Y2FzZVwiQUNUSU9OX1VOU1BFQ0lGSUVEXCI6Y2FzZSAwOnQuYWN0aW9uPTA7YnJlYWs7Y2FzZVwiQUREXCI6Y2FzZSAxOnQuYWN0aW9uPTE7YnJlYWs7Y2FzZVwiUkVNT1ZFXCI6Y2FzZSAyOnQuYWN0aW9uPTJ9aWYobnVsbCE9ZS5yb2xlJiYodC5yb2xlPVN0cmluZyhlLnJvbGUpKSxudWxsIT1lLm1lbWJlciYmKHQubWVtYmVyPVN0cmluZyhlLm1lbWJlcikpLG51bGwhPWUuY29uZGl0aW9uKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5jb25kaXRpb24pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhLmNvbmRpdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuY29uZGl0aW9uPWwuZ29vZ2xlLnR5cGUuRXhwci5mcm9tT2JqZWN0KGUuY29uZGl0aW9uKX1yZXR1cm4gdH0sZi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uYWN0aW9uPXQuZW51bXM9PT1TdHJpbmc/XCJBQ1RJT05fVU5TUEVDSUZJRURcIjowLG4ucm9sZT1cIlwiLG4ubWVtYmVyPVwiXCIsbi5jb25kaXRpb249bnVsbCksbnVsbCE9ZS5hY3Rpb24mJmUuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25cIikmJihuLmFjdGlvbj10LmVudW1zPT09U3RyaW5nP2wuZ29vZ2xlLmlhbS52MS5CaW5kaW5nRGVsdGEuQWN0aW9uW2UuYWN0aW9uXTplLmFjdGlvbiksbnVsbCE9ZS5yb2xlJiZlLmhhc093blByb3BlcnR5KFwicm9sZVwiKSYmKG4ucm9sZT1lLnJvbGUpLG51bGwhPWUubWVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibWVtYmVyXCIpJiYobi5tZW1iZXI9ZS5tZW1iZXIpLG51bGwhPWUuY29uZGl0aW9uJiZlLmhhc093blByb3BlcnR5KFwiY29uZGl0aW9uXCIpJiYobi5jb25kaXRpb249bC5nb29nbGUudHlwZS5FeHByLnRvT2JqZWN0KGUuY29uZGl0aW9uLHQpKSxufSxmLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZi5BY3Rpb249KGU9e30sKHI9T2JqZWN0LmNyZWF0ZShlKSlbZVswXT1cIkFDVElPTl9VTlNQRUNJRklFRFwiXT0wLHJbZVsxXT1cIkFERFwiXT0xLHJbZVsyXT1cIlJFTU9WRVwiXT0yLHIpLGYpLHQuQXVkaXRDb25maWdEZWx0YT0oeS5wcm90b3R5cGUuYWN0aW9uPTAseS5wcm90b3R5cGUuc2VydmljZT1cIlwiLHkucHJvdG90eXBlLmV4ZW1wdGVkTWVtYmVyPVwiXCIseS5wcm90b3R5cGUubG9nVHlwZT1cIlwiLHkuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeShlKX0seS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuYWN0aW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYWN0aW9uXCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLmFjdGlvbiksbnVsbCE9ZS5zZXJ2aWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2VydmljZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnNlcnZpY2UpLG51bGwhPWUuZXhlbXB0ZWRNZW1iZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJleGVtcHRlZE1lbWJlclwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLmV4ZW1wdGVkTWVtYmVyKSxudWxsIT1lLmxvZ1R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsb2dUeXBlXCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUubG9nVHlwZSksdH0seS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0seS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLkF1ZGl0Q29uZmlnRGVsdGE7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5hY3Rpb249ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLnNlcnZpY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5leGVtcHRlZE1lbWJlcj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLmxvZ1R5cGU9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHkudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuYWN0aW9uJiZlLmhhc093blByb3BlcnR5KFwiYWN0aW9uXCIpKXN3aXRjaChlLmFjdGlvbil7ZGVmYXVsdDpyZXR1cm5cImFjdGlvbjogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1yZXR1cm4gbnVsbCE9ZS5zZXJ2aWNlJiZlLmhhc093blByb3BlcnR5KFwic2VydmljZVwiKSYmIXAuaXNTdHJpbmcoZS5zZXJ2aWNlKT9cInNlcnZpY2U6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUuZXhlbXB0ZWRNZW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJleGVtcHRlZE1lbWJlclwiKSYmIXAuaXNTdHJpbmcoZS5leGVtcHRlZE1lbWJlcik/XCJleGVtcHRlZE1lbWJlcjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5sb2dUeXBlJiZlLmhhc093blByb3BlcnR5KFwibG9nVHlwZVwiKSYmIXAuaXNTdHJpbmcoZS5sb2dUeXBlKT9cImxvZ1R5cGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LHkuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLkF1ZGl0Q29uZmlnRGVsdGEpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5BdWRpdENvbmZpZ0RlbHRhO3N3aXRjaChlLmFjdGlvbil7Y2FzZVwiQUNUSU9OX1VOU1BFQ0lGSUVEXCI6Y2FzZSAwOnQuYWN0aW9uPTA7YnJlYWs7Y2FzZVwiQUREXCI6Y2FzZSAxOnQuYWN0aW9uPTE7YnJlYWs7Y2FzZVwiUkVNT1ZFXCI6Y2FzZSAyOnQuYWN0aW9uPTJ9cmV0dXJuIG51bGwhPWUuc2VydmljZSYmKHQuc2VydmljZT1TdHJpbmcoZS5zZXJ2aWNlKSksbnVsbCE9ZS5leGVtcHRlZE1lbWJlciYmKHQuZXhlbXB0ZWRNZW1iZXI9U3RyaW5nKGUuZXhlbXB0ZWRNZW1iZXIpKSxudWxsIT1lLmxvZ1R5cGUmJih0LmxvZ1R5cGU9U3RyaW5nKGUubG9nVHlwZSkpLHR9LHkudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLmFjdGlvbj10LmVudW1zPT09U3RyaW5nP1wiQUNUSU9OX1VOU1BFQ0lGSUVEXCI6MCxuLnNlcnZpY2U9XCJcIixuLmV4ZW1wdGVkTWVtYmVyPVwiXCIsbi5sb2dUeXBlPVwiXCIpLG51bGwhPWUuYWN0aW9uJiZlLmhhc093blByb3BlcnR5KFwiYWN0aW9uXCIpJiYobi5hY3Rpb249dC5lbnVtcz09PVN0cmluZz9sLmdvb2dsZS5pYW0udjEuQXVkaXRDb25maWdEZWx0YS5BY3Rpb25bZS5hY3Rpb25dOmUuYWN0aW9uKSxudWxsIT1lLnNlcnZpY2UmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2aWNlXCIpJiYobi5zZXJ2aWNlPWUuc2VydmljZSksbnVsbCE9ZS5leGVtcHRlZE1lbWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcImV4ZW1wdGVkTWVtYmVyXCIpJiYobi5leGVtcHRlZE1lbWJlcj1lLmV4ZW1wdGVkTWVtYmVyKSxudWxsIT1lLmxvZ1R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJsb2dUeXBlXCIpJiYobi5sb2dUeXBlPWUubG9nVHlwZSksbn0seS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHkuQWN0aW9uPShlPXt9LChyPU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJBQ1RJT05fVU5TUEVDSUZJRURcIl09MCxyW2VbMV09XCJBRERcIl09MSxyW2VbMl09XCJSRU1PVkVcIl09MixyKSx5KSx0LmxvZ2dpbmc9KChlPXt9KS5BdWRpdERhdGE9KEwucHJvdG90eXBlLnBvbGljeURlbHRhPW51bGwsTC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBMKGUpfSxMLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5wb2xpY3lEZWx0YSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBvbGljeURlbHRhXCIpJiZsLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEuZW5jb2RlKGUucG9saWN5RGVsdGEsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sTC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuaWFtLnYxLmxvZ2dpbmcuQXVkaXREYXRhO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0yP28ucG9saWN5RGVsdGE9bC5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhLmRlY29kZShlLGUudWludDMyKCkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sTC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wb2xpY3lEZWx0YSYmZS5oYXNPd25Qcm9wZXJ0eShcInBvbGljeURlbHRhXCIpKXtlPWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3lEZWx0YS52ZXJpZnkoZS5wb2xpY3lEZWx0YSk7aWYoZSlyZXR1cm5cInBvbGljeURlbHRhLlwiK2V9cmV0dXJuIG51bGx9LEwuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLmxvZ2dpbmcuQXVkaXREYXRhKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEubG9nZ2luZy5BdWRpdERhdGE7aWYobnVsbCE9ZS5wb2xpY3lEZWx0YSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucG9saWN5RGVsdGEpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEubG9nZ2luZy5BdWRpdERhdGEucG9saWN5RGVsdGE6IG9iamVjdCBleHBlY3RlZFwiKTt0LnBvbGljeURlbHRhPWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3lEZWx0YS5mcm9tT2JqZWN0KGUucG9saWN5RGVsdGEpfXJldHVybiB0fSxMLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5wb2xpY3lEZWx0YT1udWxsKSxudWxsIT1lLnBvbGljeURlbHRhJiZlLmhhc093blByb3BlcnR5KFwicG9saWN5RGVsdGFcIikmJihuLnBvbGljeURlbHRhPWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3lEZWx0YS50b09iamVjdChlLnBvbGljeURlbHRhLHQpKSxufSxMLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTCksZSksdCksbiksRi5hcGk9KChyPXt9KS5IdHRwPShKLnByb3RvdHlwZS5ydWxlcz1wLmVtcHR5QXJyYXksSi5wcm90b3R5cGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj0hMSxKLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEooZSl9LEouZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucnVsZXMmJmUucnVsZXMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5ydWxlcy5sZW5ndGg7KytuKWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS5lbmNvZGUoZS5ydWxlc1tuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvblwiKSYmdC51aW50MzIoMTYpLmJvb2woZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uKSx0fSxKLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxKLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5hcGkuSHR0cDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnJ1bGVzJiZvLnJ1bGVzLmxlbmd0aHx8KG8ucnVsZXM9W10pLG8ucnVsZXMucHVzaChsLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpvLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxKLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxKLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJ1bGVzJiZlLmhhc093blByb3BlcnR5KFwicnVsZXNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucnVsZXMpKXJldHVyblwicnVsZXM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnJ1bGVzLmxlbmd0aDsrK3Qpe3ZhciBuPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS52ZXJpZnkoZS5ydWxlc1t0XSk7aWYobilyZXR1cm5cInJ1bGVzLlwiK259fXJldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj9cImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb246IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsfSxKLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmFwaS5IdHRwKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5hcGkuSHR0cDtpZihlLnJ1bGVzKXtpZighQXJyYXkuaXNBcnJheShlLnJ1bGVzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwLnJ1bGVzOiBhcnJheSBleHBlY3RlZFwiKTt0LnJ1bGVzPVtdO2Zvcih2YXIgbj0wO248ZS5ydWxlcy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5ydWxlc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwLnJ1bGVzOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5ydWxlc1tuXT1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZnJvbU9iamVjdChlLnJ1bGVzW25dKX19cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmKHQuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj1Cb29sZWFuKGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbikpLHR9LEoudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnJ1bGVzPVtdKSx0LmRlZmF1bHRzJiYobi5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPSExKSxlLnJ1bGVzJiZlLnJ1bGVzLmxlbmd0aCl7bi5ydWxlcz1bXTtmb3IodmFyIG89MDtvPGUucnVsZXMubGVuZ3RoOysrbyluLnJ1bGVzW29dPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS50b09iamVjdChlLnJ1bGVzW29dLHQpfXJldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uXCIpJiYobi5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiksbn0sSi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEopLHIuSHR0cFJ1bGU9KGgucHJvdG90eXBlLnNlbGVjdG9yPVwiXCIsaC5wcm90b3R5cGUuZ2V0PVwiXCIsaC5wcm90b3R5cGUucHV0PVwiXCIsaC5wcm90b3R5cGUucG9zdD1cIlwiLGgucHJvdG90eXBlLmRlbGV0ZT1cIlwiLGgucHJvdG90eXBlLnBhdGNoPVwiXCIsaC5wcm90b3R5cGUuY3VzdG9tPW51bGwsaC5wcm90b3R5cGUuYm9keT1cIlwiLGgucHJvdG90eXBlLnJlc3BvbnNlQm9keT1cIlwiLGgucHJvdG90eXBlLmFkZGl0aW9uYWxCaW5kaW5ncz1wLmVtcHR5QXJyYXksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLFwicGF0dGVyblwiLHtnZXQ6cC5vbmVPZkdldHRlcihlPVtcImdldFwiLFwicHV0XCIsXCJwb3N0XCIsXCJkZWxldGVcIixcInBhdGNoXCIsXCJjdXN0b21cIl0pLHNldDpwLm9uZU9mU2V0dGVyKGUpfSksaC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBoKGUpfSxoLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnNlbGVjdG9yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2VsZWN0b3JcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5zZWxlY3RvciksbnVsbCE9ZS5nZXQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJnZXRcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5nZXQpLG51bGwhPWUucHV0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHV0XCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUucHV0KSxudWxsIT1lLnBvc3QmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwb3N0XCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUucG9zdCksbnVsbCE9ZS5kZWxldGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWxldGVcIikmJnQudWludDMyKDQyKS5zdHJpbmcoZS5kZWxldGUpLG51bGwhPWUucGF0Y2gmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYXRjaFwiKSYmdC51aW50MzIoNTApLnN0cmluZyhlLnBhdGNoKSxudWxsIT1lLmJvZHkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJib2R5XCIpJiZ0LnVpbnQzMig1OCkuc3RyaW5nKGUuYm9keSksbnVsbCE9ZS5jdXN0b20mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjdXN0b21cIikmJmwuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi5lbmNvZGUoZS5jdXN0b20sdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5hZGRpdGlvbmFsQmluZGluZ3MmJmUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aClmb3IodmFyIG49MDtuPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK24pbC5nb29nbGUuYXBpLkh0dHBSdWxlLmVuY29kZShlLmFkZGl0aW9uYWxCaW5kaW5nc1tuXSx0LnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5yZXNwb25zZUJvZHkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyZXNwb25zZUJvZHlcIikmJnQudWludDMyKDk4KS5zdHJpbmcoZS5yZXNwb25zZUJvZHkpLHR9LGguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmFwaS5IdHRwUnVsZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnNlbGVjdG9yPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uZ2V0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8ucHV0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ucG9zdD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpvLmRlbGV0ZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNjpvLnBhdGNoPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Om8uY3VzdG9tPWwuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDc6by5ib2R5PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMjpvLnJlc3BvbnNlQm9keT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTE6by5hZGRpdGlvbmFsQmluZGluZ3MmJm8uYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aHx8KG8uYWRkaXRpb25hbEJpbmRpbmdzPVtdKSxvLmFkZGl0aW9uYWxCaW5kaW5ncy5wdXNoKGwuZ29vZ2xlLmFwaS5IdHRwUnVsZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxoLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxoLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjt2YXIgdD17fTtpZihudWxsIT1lLnNlbGVjdG9yJiZlLmhhc093blByb3BlcnR5KFwic2VsZWN0b3JcIikmJiFwLmlzU3RyaW5nKGUuc2VsZWN0b3IpKXJldHVyblwic2VsZWN0b3I6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZ2V0JiZlLmhhc093blByb3BlcnR5KFwiZ2V0XCIpJiYodC5wYXR0ZXJuPTEsIXAuaXNTdHJpbmcoZS5nZXQpKSlyZXR1cm5cImdldDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wdXQmJmUuaGFzT3duUHJvcGVydHkoXCJwdXRcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhcC5pc1N0cmluZyhlLnB1dCkpcmV0dXJuXCJwdXQ6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUucG9zdCYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc3RcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhcC5pc1N0cmluZyhlLnBvc3QpKXJldHVyblwicG9zdDogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5kZWxldGUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWxldGVcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhcC5pc1N0cmluZyhlLmRlbGV0ZSkpcmV0dXJuXCJkZWxldGU6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUucGF0Y2gmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRjaFwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCFwLmlzU3RyaW5nKGUucGF0Y2gpKXJldHVyblwicGF0Y2g6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUuY3VzdG9tJiZlLmhhc093blByb3BlcnR5KFwiY3VzdG9tXCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsbj1sLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4udmVyaWZ5KGUuY3VzdG9tKSlyZXR1cm5cImN1c3RvbS5cIitufWlmKG51bGwhPWUuYm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcImJvZHlcIikmJiFwLmlzU3RyaW5nKGUuYm9keSkpcmV0dXJuXCJib2R5OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJlc3BvbnNlQm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc3BvbnNlQm9keVwiKSYmIXAuaXNTdHJpbmcoZS5yZXNwb25zZUJvZHkpKXJldHVyblwicmVzcG9uc2VCb2R5OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFkZGl0aW9uYWxCaW5kaW5ncyYmZS5oYXNPd25Qcm9wZXJ0eShcImFkZGl0aW9uYWxCaW5kaW5nc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5hZGRpdGlvbmFsQmluZGluZ3MpKXJldHVyblwiYWRkaXRpb25hbEJpbmRpbmdzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgbixvPTA7bzxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytvKWlmKG49bC5nb29nbGUuYXBpLkh0dHBSdWxlLnZlcmlmeShlLmFkZGl0aW9uYWxCaW5kaW5nc1tvXSkpcmV0dXJuXCJhZGRpdGlvbmFsQmluZGluZ3MuXCIrbn1yZXR1cm4gbnVsbH0saC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5hcGkuSHR0cFJ1bGUpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmFwaS5IdHRwUnVsZTtpZihudWxsIT1lLnNlbGVjdG9yJiYodC5zZWxlY3Rvcj1TdHJpbmcoZS5zZWxlY3RvcikpLG51bGwhPWUuZ2V0JiYodC5nZXQ9U3RyaW5nKGUuZ2V0KSksbnVsbCE9ZS5wdXQmJih0LnB1dD1TdHJpbmcoZS5wdXQpKSxudWxsIT1lLnBvc3QmJih0LnBvc3Q9U3RyaW5nKGUucG9zdCkpLG51bGwhPWUuZGVsZXRlJiYodC5kZWxldGU9U3RyaW5nKGUuZGVsZXRlKSksbnVsbCE9ZS5wYXRjaCYmKHQucGF0Y2g9U3RyaW5nKGUucGF0Y2gpKSxudWxsIT1lLmN1c3RvbSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuY3VzdG9tKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHBSdWxlLmN1c3RvbTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuY3VzdG9tPWwuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi5mcm9tT2JqZWN0KGUuY3VzdG9tKX1pZihudWxsIT1lLmJvZHkmJih0LmJvZHk9U3RyaW5nKGUuYm9keSkpLG51bGwhPWUucmVzcG9uc2VCb2R5JiYodC5yZXNwb25zZUJvZHk9U3RyaW5nKGUucmVzcG9uc2VCb2R5KSksZS5hZGRpdGlvbmFsQmluZGluZ3Mpe2lmKCFBcnJheS5pc0FycmF5KGUuYWRkaXRpb25hbEJpbmRpbmdzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwUnVsZS5hZGRpdGlvbmFsQmluZGluZ3M6IGFycmF5IGV4cGVjdGVkXCIpO3QuYWRkaXRpb25hbEJpbmRpbmdzPVtdO2Zvcih2YXIgbj0wO248ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuYWRkaXRpb25hbEJpbmRpbmdzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHBSdWxlLmFkZGl0aW9uYWxCaW5kaW5nczogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYWRkaXRpb25hbEJpbmRpbmdzW25dPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS5mcm9tT2JqZWN0KGUuYWRkaXRpb25hbEJpbmRpbmdzW25dKX19cmV0dXJuIHR9LGgudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmFkZGl0aW9uYWxCaW5kaW5ncz1bXSksdC5kZWZhdWx0cyYmKG4uc2VsZWN0b3I9XCJcIixuLmJvZHk9XCJcIixuLnJlc3BvbnNlQm9keT1cIlwiKSxudWxsIT1lLnNlbGVjdG9yJiZlLmhhc093blByb3BlcnR5KFwic2VsZWN0b3JcIikmJihuLnNlbGVjdG9yPWUuc2VsZWN0b3IpLG51bGwhPWUuZ2V0JiZlLmhhc093blByb3BlcnR5KFwiZ2V0XCIpJiYobi5nZXQ9ZS5nZXQsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwiZ2V0XCIpLG51bGwhPWUucHV0JiZlLmhhc093blByb3BlcnR5KFwicHV0XCIpJiYobi5wdXQ9ZS5wdXQsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwicHV0XCIpLG51bGwhPWUucG9zdCYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc3RcIikmJihuLnBvc3Q9ZS5wb3N0LHQub25lb2ZzKSYmKG4ucGF0dGVybj1cInBvc3RcIiksbnVsbCE9ZS5kZWxldGUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWxldGVcIikmJihuLmRlbGV0ZT1lLmRlbGV0ZSx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJkZWxldGVcIiksbnVsbCE9ZS5wYXRjaCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGNoXCIpJiYobi5wYXRjaD1lLnBhdGNoLHQub25lb2ZzKSYmKG4ucGF0dGVybj1cInBhdGNoXCIpLG51bGwhPWUuYm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcImJvZHlcIikmJihuLmJvZHk9ZS5ib2R5KSxudWxsIT1lLmN1c3RvbSYmZS5oYXNPd25Qcm9wZXJ0eShcImN1c3RvbVwiKSYmKG4uY3VzdG9tPWwuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi50b09iamVjdChlLmN1c3RvbSx0KSx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJjdXN0b21cIiksZS5hZGRpdGlvbmFsQmluZGluZ3MmJmUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aCl7bi5hZGRpdGlvbmFsQmluZGluZ3M9W107Zm9yKHZhciBvPTA7bzxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytvKW4uYWRkaXRpb25hbEJpbmRpbmdzW29dPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS50b09iamVjdChlLmFkZGl0aW9uYWxCaW5kaW5nc1tvXSx0KX1yZXR1cm4gbnVsbCE9ZS5yZXNwb25zZUJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNwb25zZUJvZHlcIikmJihuLnJlc3BvbnNlQm9keT1lLnJlc3BvbnNlQm9keSksbn0saC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGgpLHIuQ3VzdG9tSHR0cFBhdHRlcm49KF8ucHJvdG90eXBlLmtpbmQ9XCJcIixfLnByb3RvdHlwZS5wYXRoPVwiXCIsXy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBfKGUpfSxfLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5raW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwia2luZFwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLmtpbmQpLG51bGwhPWUucGF0aCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhdGhcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5wYXRoKSx0fSxfLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxfLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm47ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5raW5kPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ucGF0aD1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sXy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sXy52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5raW5kJiZlLmhhc093blByb3BlcnR5KFwia2luZFwiKSYmIXAuaXNTdHJpbmcoZS5raW5kKT9cImtpbmQ6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikmJiFwLmlzU3RyaW5nKGUucGF0aCk/XCJwYXRoOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxfLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4/ZToodD1uZXcgbC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLG51bGwhPWUua2luZCYmKHQua2luZD1TdHJpbmcoZS5raW5kKSksbnVsbCE9ZS5wYXRoJiYodC5wYXRoPVN0cmluZyhlLnBhdGgpKSx0KX0sXy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ua2luZD1cIlwiLG4ucGF0aD1cIlwiKSxudWxsIT1lLmtpbmQmJmUuaGFzT3duUHJvcGVydHkoXCJraW5kXCIpJiYobi5raW5kPWUua2luZCksbnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSYmKG4ucGF0aD1lLnBhdGgpLG59LF8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxfKSxyLkZpZWxkQmVoYXZpb3I9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVswXT1cIkZJRUxEX0JFSEFWSU9SX1VOU1BFQ0lGSUVEXCJdPTAsdFtlWzFdPVwiT1BUSU9OQUxcIl09MSx0W2VbMl09XCJSRVFVSVJFRFwiXT0yLHRbZVszXT1cIk9VVFBVVF9PTkxZXCJdPTMsdFtlWzRdPVwiSU5QVVRfT05MWVwiXT00LHRbZVs1XT1cIklNTVVUQUJMRVwiXT01LHQpLHIuUmVzb3VyY2VEZXNjcmlwdG9yPShiLnByb3RvdHlwZS50eXBlPVwiXCIsYi5wcm90b3R5cGUucGF0dGVybj1wLmVtcHR5QXJyYXksYi5wcm90b3R5cGUubmFtZUZpZWxkPVwiXCIsYi5wcm90b3R5cGUuaGlzdG9yeT0wLGIucHJvdG90eXBlLnBsdXJhbD1cIlwiLGIucHJvdG90eXBlLnNpbmd1bGFyPVwiXCIsYi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBiKGUpfSxiLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUudHlwZSksbnVsbCE9ZS5wYXR0ZXJuJiZlLnBhdHRlcm4ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5wYXR0ZXJuLmxlbmd0aDsrK24pdC51aW50MzIoMTgpLnN0cmluZyhlLnBhdHRlcm5bbl0pO3JldHVybiBudWxsIT1lLm5hbWVGaWVsZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVGaWVsZFwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLm5hbWVGaWVsZCksbnVsbCE9ZS5oaXN0b3J5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaGlzdG9yeVwiKSYmdC51aW50MzIoMzIpLmludDMyKGUuaGlzdG9yeSksbnVsbCE9ZS5wbHVyYWwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwbHVyYWxcIikmJnQudWludDMyKDQyKS5zdHJpbmcoZS5wbHVyYWwpLG51bGwhPWUuc2luZ3VsYXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzaW5ndWxhclwiKSYmdC51aW50MzIoNTApLnN0cmluZyhlLnNpbmd1bGFyKSx0fSxiLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxiLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8udHlwZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnBhdHRlcm4mJm8ucGF0dGVybi5sZW5ndGh8fChvLnBhdHRlcm49W10pLG8ucGF0dGVybi5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2Nhc2UgMzpvLm5hbWVGaWVsZD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLmhpc3Rvcnk9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNTpvLnBsdXJhbD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNjpvLnNpbmd1bGFyPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxiLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxiLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpJiYhcC5pc1N0cmluZyhlLnR5cGUpKXJldHVyblwidHlwZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wYXR0ZXJuJiZlLmhhc093blByb3BlcnR5KFwicGF0dGVyblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXR0ZXJuKSlyZXR1cm5cInBhdHRlcm46IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnBhdHRlcm4ubGVuZ3RoOysrdClpZighcC5pc1N0cmluZyhlLnBhdHRlcm5bdF0pKXJldHVyblwicGF0dGVybjogc3RyaW5nW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLm5hbWVGaWVsZCYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVGaWVsZFwiKSYmIXAuaXNTdHJpbmcoZS5uYW1lRmllbGQpKXJldHVyblwibmFtZUZpZWxkOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmhpc3RvcnkmJmUuaGFzT3duUHJvcGVydHkoXCJoaXN0b3J5XCIpKXN3aXRjaChlLmhpc3Rvcnkpe2RlZmF1bHQ6cmV0dXJuXCJoaXN0b3J5OiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6fXJldHVybiBudWxsIT1lLnBsdXJhbCYmZS5oYXNPd25Qcm9wZXJ0eShcInBsdXJhbFwiKSYmIXAuaXNTdHJpbmcoZS5wbHVyYWwpP1wicGx1cmFsOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnNpbmd1bGFyJiZlLmhhc093blByb3BlcnR5KFwic2luZ3VsYXJcIikmJiFwLmlzU3RyaW5nKGUuc2luZ3VsYXIpP1wic2luZ3VsYXI6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LGIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvcilyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvcjtpZihudWxsIT1lLnR5cGUmJih0LnR5cGU9U3RyaW5nKGUudHlwZSkpLGUucGF0dGVybil7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXR0ZXJuKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IucGF0dGVybjogYXJyYXkgZXhwZWN0ZWRcIik7dC5wYXR0ZXJuPVtdO2Zvcih2YXIgbj0wO248ZS5wYXR0ZXJuLmxlbmd0aDsrK24pdC5wYXR0ZXJuW25dPVN0cmluZyhlLnBhdHRlcm5bbl0pfXN3aXRjaChudWxsIT1lLm5hbWVGaWVsZCYmKHQubmFtZUZpZWxkPVN0cmluZyhlLm5hbWVGaWVsZCkpLGUuaGlzdG9yeSl7Y2FzZVwiSElTVE9SWV9VTlNQRUNJRklFRFwiOmNhc2UgMDp0Lmhpc3Rvcnk9MDticmVhaztjYXNlXCJPUklHSU5BTExZX1NJTkdMRV9QQVRURVJOXCI6Y2FzZSAxOnQuaGlzdG9yeT0xO2JyZWFrO2Nhc2VcIkZVVFVSRV9NVUxUSV9QQVRURVJOXCI6Y2FzZSAyOnQuaGlzdG9yeT0yfXJldHVybiBudWxsIT1lLnBsdXJhbCYmKHQucGx1cmFsPVN0cmluZyhlLnBsdXJhbCkpLG51bGwhPWUuc2luZ3VsYXImJih0LnNpbmd1bGFyPVN0cmluZyhlLnNpbmd1bGFyKSksdH0sYi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucGF0dGVybj1bXSksdC5kZWZhdWx0cyYmKG4udHlwZT1cIlwiLG4ubmFtZUZpZWxkPVwiXCIsbi5oaXN0b3J5PXQuZW51bXM9PT1TdHJpbmc/XCJISVNUT1JZX1VOU1BFQ0lGSUVEXCI6MCxuLnBsdXJhbD1cIlwiLG4uc2luZ3VsYXI9XCJcIiksbnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmKG4udHlwZT1lLnR5cGUpLGUucGF0dGVybiYmZS5wYXR0ZXJuLmxlbmd0aCl7bi5wYXR0ZXJuPVtdO2Zvcih2YXIgbz0wO288ZS5wYXR0ZXJuLmxlbmd0aDsrK28pbi5wYXR0ZXJuW29dPWUucGF0dGVybltvXX1yZXR1cm4gbnVsbCE9ZS5uYW1lRmllbGQmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lRmllbGRcIikmJihuLm5hbWVGaWVsZD1lLm5hbWVGaWVsZCksbnVsbCE9ZS5oaXN0b3J5JiZlLmhhc093blByb3BlcnR5KFwiaGlzdG9yeVwiKSYmKG4uaGlzdG9yeT10LmVudW1zPT09U3RyaW5nP2wuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IuSGlzdG9yeVtlLmhpc3RvcnldOmUuaGlzdG9yeSksbnVsbCE9ZS5wbHVyYWwmJmUuaGFzT3duUHJvcGVydHkoXCJwbHVyYWxcIikmJihuLnBsdXJhbD1lLnBsdXJhbCksbnVsbCE9ZS5zaW5ndWxhciYmZS5oYXNPd25Qcm9wZXJ0eShcInNpbmd1bGFyXCIpJiYobi5zaW5ndWxhcj1lLnNpbmd1bGFyKSxufSxiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sYi5IaXN0b3J5PShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJISVNUT1JZX1VOU1BFQ0lGSUVEXCJdPTAsdFtlWzFdPVwiT1JJR0lOQUxMWV9TSU5HTEVfUEFUVEVSTlwiXT0xLHRbZVsyXT1cIkZVVFVSRV9NVUxUSV9QQVRURVJOXCJdPTIsdCksYiksci5SZXNvdXJjZVJlZmVyZW5jZT0oSC5wcm90b3R5cGUudHlwZT1cIlwiLEgucHJvdG90eXBlLmNoaWxkVHlwZT1cIlwiLEguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSChlKX0sSC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUudHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS50eXBlKSxudWxsIT1lLmNoaWxkVHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNoaWxkVHlwZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmNoaWxkVHlwZSksdH0sSC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sSC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuYXBpLlJlc291cmNlUmVmZXJlbmNlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8udHlwZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmNoaWxkVHlwZT1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sSC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sSC52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmIXAuaXNTdHJpbmcoZS50eXBlKT9cInR5cGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUuY2hpbGRUeXBlJiZlLmhhc093blByb3BlcnR5KFwiY2hpbGRUeXBlXCIpJiYhcC5pc1N0cmluZyhlLmNoaWxkVHlwZSk/XCJjaGlsZFR5cGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LEguZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmFwaS5SZXNvdXJjZVJlZmVyZW5jZT9lOih0PW5ldyBsLmdvb2dsZS5hcGkuUmVzb3VyY2VSZWZlcmVuY2UsbnVsbCE9ZS50eXBlJiYodC50eXBlPVN0cmluZyhlLnR5cGUpKSxudWxsIT1lLmNoaWxkVHlwZSYmKHQuY2hpbGRUeXBlPVN0cmluZyhlLmNoaWxkVHlwZSkpLHQpfSxILnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi50eXBlPVwiXCIsbi5jaGlsZFR5cGU9XCJcIiksbnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmKG4udHlwZT1lLnR5cGUpLG51bGwhPWUuY2hpbGRUeXBlJiZlLmhhc093blByb3BlcnR5KFwiY2hpbGRUeXBlXCIpJiYobi5jaGlsZFR5cGU9ZS5jaGlsZFR5cGUpLG59LEgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxIKSxyKSxGLnByb3RvYnVmPSgobj17fSkuRmlsZURlc2NyaXB0b3JTZXQ9KHEucHJvdG90eXBlLmZpbGU9cC5lbXB0eUFycmF5LHEuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcShlKX0scS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5maWxlJiZlLmZpbGUubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5maWxlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5maWxlW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxxLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxxLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT8oby5maWxlJiZvLmZpbGUubGVuZ3RofHwoby5maWxlPVtdKSxvLmZpbGUucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxxLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxxLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmZpbGUmJmUuaGFzT3duUHJvcGVydHkoXCJmaWxlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmZpbGUpKXJldHVyblwiZmlsZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuZmlsZS5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmZpbGVbdF0pO2lmKG4pcmV0dXJuXCJmaWxlLlwiK259fXJldHVybiBudWxsfSxxLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0KXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldDtpZihlLmZpbGUpe2lmKCFBcnJheS5pc0FycmF5KGUuZmlsZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldC5maWxlOiBhcnJheSBleHBlY3RlZFwiKTt0LmZpbGU9W107Zm9yKHZhciBuPTA7bjxlLmZpbGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZmlsZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0LmZpbGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmZpbGVbbl09bC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZmlsZVtuXSl9fXJldHVybiB0fSxxLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5maWxlPVtdKSxlLmZpbGUmJmUuZmlsZS5sZW5ndGgpe24uZmlsZT1bXTtmb3IodmFyIG89MDtvPGUuZmlsZS5sZW5ndGg7KytvKW4uZmlsZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZmlsZVtvXSx0KX1yZXR1cm4gbn0scS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHEpLG4uRmlsZURlc2NyaXB0b3JQcm90bz0obS5wcm90b3R5cGUubmFtZT1cIlwiLG0ucHJvdG90eXBlLnBhY2thZ2U9XCJcIixtLnByb3RvdHlwZS5kZXBlbmRlbmN5PXAuZW1wdHlBcnJheSxtLnByb3RvdHlwZS5wdWJsaWNEZXBlbmRlbmN5PXAuZW1wdHlBcnJheSxtLnByb3RvdHlwZS53ZWFrRGVwZW5kZW5jeT1wLmVtcHR5QXJyYXksbS5wcm90b3R5cGUubWVzc2FnZVR5cGU9cC5lbXB0eUFycmF5LG0ucHJvdG90eXBlLmVudW1UeXBlPXAuZW1wdHlBcnJheSxtLnByb3RvdHlwZS5zZXJ2aWNlPXAuZW1wdHlBcnJheSxtLnByb3RvdHlwZS5leHRlbnNpb249cC5lbXB0eUFycmF5LG0ucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxtLnByb3RvdHlwZS5zb3VyY2VDb2RlSW5mbz1udWxsLG0ucHJvdG90eXBlLnN5bnRheD1cIlwiLG0uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbShlKX0sbS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUucGFja2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhY2thZ2VcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5wYWNrYWdlKSxudWxsIT1lLmRlcGVuZGVuY3kmJmUuZGVwZW5kZW5jeS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmRlcGVuZGVuY3kubGVuZ3RoOysrbil0LnVpbnQzMigyNikuc3RyaW5nKGUuZGVwZW5kZW5jeVtuXSk7aWYobnVsbCE9ZS5tZXNzYWdlVHlwZSYmZS5tZXNzYWdlVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUubWVzc2FnZVR5cGUubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUubWVzc2FnZVR5cGVbbl0sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmVudW1UeXBlW25dLHQudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuc2VydmljZSYmZS5zZXJ2aWNlLmxlbmd0aClmb3Iobj0wO248ZS5zZXJ2aWNlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5zZXJ2aWNlW25dLHQudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpZm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZXh0ZW5zaW9uW25dLHQudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNvdXJjZUNvZGVJbmZvXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5lbmNvZGUoZS5zb3VyY2VDb2RlSW5mbyx0LnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnB1YmxpY0RlcGVuZGVuY3kmJmUucHVibGljRGVwZW5kZW5jeS5sZW5ndGgpZm9yKG49MDtuPGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQudWludDMyKDgwKS5pbnQzMihlLnB1YmxpY0RlcGVuZGVuY3lbbl0pO2lmKG51bGwhPWUud2Vha0RlcGVuZGVuY3kmJmUud2Vha0RlcGVuZGVuY3kubGVuZ3RoKWZvcihuPTA7bjxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC51aW50MzIoODgpLmludDMyKGUud2Vha0RlcGVuZGVuY3lbbl0pO3JldHVybiBudWxsIT1lLnN5bnRheCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN5bnRheFwiKSYmdC51aW50MzIoOTgpLnN0cmluZyhlLnN5bnRheCksdH0sbS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8uZGVwZW5kZW5jeSYmby5kZXBlbmRlbmN5Lmxlbmd0aHx8KG8uZGVwZW5kZW5jeT1bXSksby5kZXBlbmRlbmN5LnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7Y2FzZSAxMDppZihvLnB1YmxpY0RlcGVuZGVuY3kmJm8ucHVibGljRGVwZW5kZW5jeS5sZW5ndGh8fChvLnB1YmxpY0RlcGVuZGVuY3k9W10pLDI9PSg3JnIpKWZvcih2YXIgaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ucHVibGljRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnB1YmxpY0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMTE6aWYoby53ZWFrRGVwZW5kZW5jeSYmby53ZWFrRGVwZW5kZW5jeS5sZW5ndGh8fChvLndlYWtEZXBlbmRlbmN5PVtdKSwyPT0oNyZyKSlmb3IoaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ud2Vha0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2Vsc2Ugby53ZWFrRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSA0Om8ubWVzc2FnZVR5cGUmJm8ubWVzc2FnZVR5cGUubGVuZ3RofHwoby5tZXNzYWdlVHlwZT1bXSksby5tZXNzYWdlVHlwZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA1Om8uZW51bVR5cGUmJm8uZW51bVR5cGUubGVuZ3RofHwoby5lbnVtVHlwZT1bXSksby5lbnVtVHlwZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNjpvLnNlcnZpY2UmJm8uc2VydmljZS5sZW5ndGh8fChvLnNlcnZpY2U9W10pLG8uc2VydmljZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNzpvLmV4dGVuc2lvbiYmby5leHRlbnNpb24ubGVuZ3RofHwoby5leHRlbnNpb249W10pLG8uZXh0ZW5zaW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgODpvLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA5Om8uc291cmNlQ29kZUluZm89bC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMjpvLnN5bnRheD1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sbS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2thZ2VcIikmJiFwLmlzU3RyaW5nKGUucGFja2FnZSkpcmV0dXJuXCJwYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcGVuZGVuY3kmJmUuaGFzT3duUHJvcGVydHkoXCJkZXBlbmRlbmN5XCIpKXtpZighQXJyYXkuaXNBcnJheShlLmRlcGVuZGVuY3kpKXJldHVyblwiZGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuZGVwZW5kZW5jeS5sZW5ndGg7Kyt0KWlmKCFwLmlzU3RyaW5nKGUuZGVwZW5kZW5jeVt0XSkpcmV0dXJuXCJkZXBlbmRlbmN5OiBzdHJpbmdbXSBleHBlY3RlZFwifWlmKG51bGwhPWUucHVibGljRGVwZW5kZW5jeSYmZS5oYXNPd25Qcm9wZXJ0eShcInB1YmxpY0RlcGVuZGVuY3lcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucHVibGljRGVwZW5kZW5jeSkpcmV0dXJuXCJwdWJsaWNEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrdClpZighcC5pc0ludGVnZXIoZS5wdWJsaWNEZXBlbmRlbmN5W3RdKSlyZXR1cm5cInB1YmxpY0RlcGVuZGVuY3k6IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUud2Vha0RlcGVuZGVuY3kmJmUuaGFzT3duUHJvcGVydHkoXCJ3ZWFrRGVwZW5kZW5jeVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS53ZWFrRGVwZW5kZW5jeSkpcmV0dXJuXCJ3ZWFrRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7Kyt0KWlmKCFwLmlzSW50ZWdlcihlLndlYWtEZXBlbmRlbmN5W3RdKSlyZXR1cm5cIndlYWtEZXBlbmRlbmN5OiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLm1lc3NhZ2VUeXBlJiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubWVzc2FnZVR5cGUpKXJldHVyblwibWVzc2FnZVR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUubWVzc2FnZVR5cGUubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5tZXNzYWdlVHlwZVt0XSkpcmV0dXJuXCJtZXNzYWdlVHlwZS5cIitufWlmKG51bGwhPWUuZW51bVR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJlbnVtVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpcmV0dXJuXCJlbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5lbnVtVHlwZS5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5lbnVtVHlwZVt0XSkpcmV0dXJuXCJlbnVtVHlwZS5cIitufWlmKG51bGwhPWUuc2VydmljZSYmZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZpY2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuc2VydmljZSkpcmV0dXJuXCJzZXJ2aWNlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnNlcnZpY2UubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuc2VydmljZVt0XSkpcmV0dXJuXCJzZXJ2aWNlLlwiK259aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbnNpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSlyZXR1cm5cImV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5leHRlbnNpb24ubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmV4dGVuc2lvblt0XSkpcmV0dXJuXCJleHRlbnNpb24uXCIrbn12YXIgbjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1sLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247aWYobnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUNvZGVJbmZvXCIpJiYobj1sLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby52ZXJpZnkoZS5zb3VyY2VDb2RlSW5mbykpKXJldHVyblwic291cmNlQ29kZUluZm8uXCIrbjtyZXR1cm4gbnVsbCE9ZS5zeW50YXgmJmUuaGFzT3duUHJvcGVydHkoXCJzeW50YXhcIikmJiFwLmlzU3RyaW5nKGUuc3ludGF4KT9cInN5bnRheDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sbS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5wYWNrYWdlJiYodC5wYWNrYWdlPVN0cmluZyhlLnBhY2thZ2UpKSxlLmRlcGVuZGVuY3kpe2lmKCFBcnJheS5pc0FycmF5KGUuZGVwZW5kZW5jeSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmRlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCIpO3QuZGVwZW5kZW5jeT1bXTtmb3IodmFyIG49MDtuPGUuZGVwZW5kZW5jeS5sZW5ndGg7KytuKXQuZGVwZW5kZW5jeVtuXT1TdHJpbmcoZS5kZXBlbmRlbmN5W25dKX1pZihlLnB1YmxpY0RlcGVuZGVuY3kpe2lmKCFBcnJheS5pc0FycmF5KGUucHVibGljRGVwZW5kZW5jeSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnB1YmxpY0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCIpO3QucHVibGljRGVwZW5kZW5jeT1bXTtmb3Iobj0wO248ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC5wdWJsaWNEZXBlbmRlbmN5W25dPTB8ZS5wdWJsaWNEZXBlbmRlbmN5W25dfWlmKGUud2Vha0RlcGVuZGVuY3kpe2lmKCFBcnJheS5pc0FycmF5KGUud2Vha0RlcGVuZGVuY3kpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by53ZWFrRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIik7dC53ZWFrRGVwZW5kZW5jeT1bXTtmb3Iobj0wO248ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQud2Vha0RlcGVuZGVuY3lbbl09MHxlLndlYWtEZXBlbmRlbmN5W25dfWlmKGUubWVzc2FnZVR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUubWVzc2FnZVR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5tZXNzYWdlVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5tZXNzYWdlVHlwZT1bXTtmb3Iobj0wO248ZS5tZXNzYWdlVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5tZXNzYWdlVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ubWVzc2FnZVR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1lc3NhZ2VUeXBlW25dPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUubWVzc2FnZVR5cGVbbl0pfX1pZihlLmVudW1UeXBlKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QuZW51bVR5cGU9W107Zm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZW51bVR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5lbnVtVHlwZVtuXSl9fWlmKGUuc2VydmljZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5zZXJ2aWNlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uc2VydmljZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5zZXJ2aWNlPVtdO2ZvcihuPTA7bjxlLnNlcnZpY2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuc2VydmljZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uc2VydmljZTogb2JqZWN0IGV4cGVjdGVkXCIpO3Quc2VydmljZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5zZXJ2aWNlW25dKX19aWYoZS5leHRlbnNpb24pe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbj1bXTtmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZXh0ZW5zaW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5leHRlbnNpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZXh0ZW5zaW9uW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1pZihudWxsIT1lLnNvdXJjZUNvZGVJbmZvKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5zb3VyY2VDb2RlSW5mbyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uc291cmNlQ29kZUluZm86IG9iamVjdCBleHBlY3RlZFwiKTt0LnNvdXJjZUNvZGVJbmZvPWwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmZyb21PYmplY3QoZS5zb3VyY2VDb2RlSW5mbyl9cmV0dXJuIG51bGwhPWUuc3ludGF4JiYodC5zeW50YXg9U3RyaW5nKGUuc3ludGF4KSksdH0sbS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uZGVwZW5kZW5jeT1bXSxuLm1lc3NhZ2VUeXBlPVtdLG4uZW51bVR5cGU9W10sbi5zZXJ2aWNlPVtdLG4uZXh0ZW5zaW9uPVtdLG4ucHVibGljRGVwZW5kZW5jeT1bXSxuLndlYWtEZXBlbmRlbmN5PVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5wYWNrYWdlPVwiXCIsbi5vcHRpb25zPW51bGwsbi5zb3VyY2VDb2RlSW5mbz1udWxsLG4uc3ludGF4PVwiXCIpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLnBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrYWdlXCIpJiYobi5wYWNrYWdlPWUucGFja2FnZSksZS5kZXBlbmRlbmN5JiZlLmRlcGVuZGVuY3kubGVuZ3RoKXtuLmRlcGVuZGVuY3k9W107Zm9yKHZhciBvPTA7bzxlLmRlcGVuZGVuY3kubGVuZ3RoOysrbyluLmRlcGVuZGVuY3lbb109ZS5kZXBlbmRlbmN5W29dfWlmKGUubWVzc2FnZVR5cGUmJmUubWVzc2FnZVR5cGUubGVuZ3RoKXtuLm1lc3NhZ2VUeXBlPVtdO2ZvcihvPTA7bzxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK28pbi5tZXNzYWdlVHlwZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5tZXNzYWdlVHlwZVtvXSx0KX1pZihlLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aCl7bi5lbnVtVHlwZT1bXTtmb3Iobz0wO288ZS5lbnVtVHlwZS5sZW5ndGg7KytvKW4uZW51bVR5cGVbb109bC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by50b09iamVjdChlLmVudW1UeXBlW29dLHQpfWlmKGUuc2VydmljZSYmZS5zZXJ2aWNlLmxlbmd0aCl7bi5zZXJ2aWNlPVtdO2ZvcihvPTA7bzxlLnNlcnZpY2UubGVuZ3RoOysrbyluLnNlcnZpY2Vbb109bC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by50b09iamVjdChlLnNlcnZpY2Vbb10sdCl9aWYoZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aCl7bi5leHRlbnNpb249W107Zm9yKG89MDtvPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK28pbi5leHRlbnNpb25bb109bC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5leHRlbnNpb25bb10sdCl9aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG51bGwhPWUuc291cmNlQ29kZUluZm8mJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VDb2RlSW5mb1wiKSYmKG4uc291cmNlQ29kZUluZm89bC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8udG9PYmplY3QoZS5zb3VyY2VDb2RlSW5mbyx0KSksZS5wdWJsaWNEZXBlbmRlbmN5JiZlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoKXtuLnB1YmxpY0RlcGVuZGVuY3k9W107Zm9yKG89MDtvPGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7KytvKW4ucHVibGljRGVwZW5kZW5jeVtvXT1lLnB1YmxpY0RlcGVuZGVuY3lbb119aWYoZS53ZWFrRGVwZW5kZW5jeSYmZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGgpe24ud2Vha0RlcGVuZGVuY3k9W107Zm9yKG89MDtvPGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrbyluLndlYWtEZXBlbmRlbmN5W29dPWUud2Vha0RlcGVuZGVuY3lbb119cmV0dXJuIG51bGwhPWUuc3ludGF4JiZlLmhhc093blByb3BlcnR5KFwic3ludGF4XCIpJiYobi5zeW50YXg9ZS5zeW50YXgpLG59LG0ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxtKSxuLkRlc2NyaXB0b3JQcm90bz0oTy5wcm90b3R5cGUubmFtZT1cIlwiLE8ucHJvdG90eXBlLmZpZWxkPXAuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5leHRlbnNpb249cC5lbXB0eUFycmF5LE8ucHJvdG90eXBlLm5lc3RlZFR5cGU9cC5lbXB0eUFycmF5LE8ucHJvdG90eXBlLmVudW1UeXBlPXAuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5leHRlbnNpb25SYW5nZT1wLmVtcHR5QXJyYXksTy5wcm90b3R5cGUub25lb2ZEZWNsPXAuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5vcHRpb25zPW51bGwsTy5wcm90b3R5cGUucmVzZXJ2ZWRSYW5nZT1wLmVtcHR5QXJyYXksTy5wcm90b3R5cGUucmVzZXJ2ZWROYW1lPXAuZW1wdHlBcnJheSxPLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE8oZSl9LE8uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLmZpZWxkJiZlLmZpZWxkLmxlbmd0aClmb3IodmFyIG49MDtuPGUuZmllbGQubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5maWVsZFtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm5lc3RlZFR5cGUmJmUubmVzdGVkVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUubmVzdGVkVHlwZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5uZXN0ZWRUeXBlW25dLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5lbnVtVHlwZVtuXSx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmV4dGVuc2lvblJhbmdlJiZlLmV4dGVuc2lvblJhbmdlLmxlbmd0aClmb3Iobj0wO248ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5lbmNvZGUoZS5leHRlbnNpb25SYW5nZVtuXSx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKWZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmV4dGVuc2lvbltuXSx0LnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUub25lb2ZEZWNsJiZlLm9uZW9mRGVjbC5sZW5ndGgpZm9yKG49MDtuPGUub25lb2ZEZWNsLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUub25lb2ZEZWNsW25dLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuZW5jb2RlKGUucmVzZXJ2ZWRSYW5nZVtuXSx0LnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQudWludDMyKDgyKS5zdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pO3JldHVybiB0fSxPLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxPLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uZmllbGQmJm8uZmllbGQubGVuZ3RofHwoby5maWVsZD1bXSksby5maWVsZC5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDY6by5leHRlbnNpb24mJm8uZXh0ZW5zaW9uLmxlbmd0aHx8KG8uZXh0ZW5zaW9uPVtdKSxvLmV4dGVuc2lvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5uZXN0ZWRUeXBlJiZvLm5lc3RlZFR5cGUubGVuZ3RofHwoby5uZXN0ZWRUeXBlPVtdKSxvLm5lc3RlZFR5cGUucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNDpvLmVudW1UeXBlJiZvLmVudW1UeXBlLmxlbmd0aHx8KG8uZW51bVR5cGU9W10pLG8uZW51bVR5cGUucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDU6by5leHRlbnNpb25SYW5nZSYmby5leHRlbnNpb25SYW5nZS5sZW5ndGh8fChvLmV4dGVuc2lvblJhbmdlPVtdKSxvLmV4dGVuc2lvblJhbmdlLnB1c2gobC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDg6by5vbmVvZkRlY2wmJm8ub25lb2ZEZWNsLmxlbmd0aHx8KG8ub25lb2ZEZWNsPVtdKSxvLm9uZW9mRGVjbC5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDc6by5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgOTpvLnJlc2VydmVkUmFuZ2UmJm8ucmVzZXJ2ZWRSYW5nZS5sZW5ndGh8fChvLnJlc2VydmVkUmFuZ2U9W10pLG8ucmVzZXJ2ZWRSYW5nZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwOm8ucmVzZXJ2ZWROYW1lJiZvLnJlc2VydmVkTmFtZS5sZW5ndGh8fChvLnJlc2VydmVkTmFtZT1bXSksby5yZXNlcnZlZE5hbWUucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LE8uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LE8udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFwLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmZpZWxkJiZlLmhhc093blByb3BlcnR5KFwiZmllbGRcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZmllbGQpKXJldHVyblwiZmllbGQ6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmZpZWxkLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5maWVsZFt0XSkpcmV0dXJuXCJmaWVsZC5cIitufWlmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5zaW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpcmV0dXJuXCJleHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZXh0ZW5zaW9uLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5leHRlbnNpb25bdF0pKXJldHVyblwiZXh0ZW5zaW9uLlwiK259aWYobnVsbCE9ZS5uZXN0ZWRUeXBlJiZlLmhhc093blByb3BlcnR5KFwibmVzdGVkVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uZXN0ZWRUeXBlKSlyZXR1cm5cIm5lc3RlZFR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUubmVzdGVkVHlwZS5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm5lc3RlZFR5cGVbdF0pKXJldHVyblwibmVzdGVkVHlwZS5cIitufWlmKG51bGwhPWUuZW51bVR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJlbnVtVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpcmV0dXJuXCJlbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5lbnVtVHlwZS5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5lbnVtVHlwZVt0XSkpcmV0dXJuXCJlbnVtVHlwZS5cIitufWlmKG51bGwhPWUuZXh0ZW5zaW9uUmFuZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbnNpb25SYW5nZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb25SYW5nZSkpcmV0dXJuXCJleHRlbnNpb25SYW5nZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLnZlcmlmeShlLmV4dGVuc2lvblJhbmdlW3RdKSlyZXR1cm5cImV4dGVuc2lvblJhbmdlLlwiK259aWYobnVsbCE9ZS5vbmVvZkRlY2wmJmUuaGFzT3duUHJvcGVydHkoXCJvbmVvZkRlY2xcIikpe2lmKCFBcnJheS5pc0FycmF5KGUub25lb2ZEZWNsKSlyZXR1cm5cIm9uZW9mRGVjbDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5vbmVvZkRlY2wubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm9uZW9mRGVjbFt0XSkpcmV0dXJuXCJvbmVvZkRlY2wuXCIrbn1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1sLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247aWYobnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWRSYW5nZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSlyZXR1cm5cInJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciBuLHQ9MDt0PGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UudmVyaWZ5KGUucmVzZXJ2ZWRSYW5nZVt0XSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlLlwiK259aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZE5hbWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSlyZXR1cm5cInJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrdClpZighcC5pc1N0cmluZyhlLnJlc2VydmVkTmFtZVt0XSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LE8uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxlLmZpZWxkKXtpZighQXJyYXkuaXNBcnJheShlLmZpZWxkKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5maWVsZDogYXJyYXkgZXhwZWN0ZWRcIik7dC5maWVsZD1bXTtmb3IodmFyIG49MDtuPGUuZmllbGQubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZmllbGRbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZmllbGQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LmZpZWxkW25dPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5maWVsZFtuXSl9fWlmKGUuZXh0ZW5zaW9uKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbj1bXTtmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZXh0ZW5zaW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5leHRlbnNpb25bbl0pfX1pZihlLm5lc3RlZFR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUubmVzdGVkVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ubmVzdGVkVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5uZXN0ZWRUeXBlPVtdO2ZvcihuPTA7bjxlLm5lc3RlZFR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubmVzdGVkVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5uZXN0ZWRUeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5uZXN0ZWRUeXBlW25dPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUubmVzdGVkVHlwZVtuXSl9fWlmKGUuZW51bVR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0LmVudW1UeXBlPVtdO2ZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmVudW1UeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5lbnVtVHlwZVtuXSl9fWlmKGUuZXh0ZW5zaW9uUmFuZ2Upe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uUmFuZ2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvblJhbmdlOiBhcnJheSBleHBlY3RlZFwiKTt0LmV4dGVuc2lvblJhbmdlPVtdO2ZvcihuPTA7bjxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmV4dGVuc2lvblJhbmdlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvblJhbmdlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25SYW5nZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UuZnJvbU9iamVjdChlLmV4dGVuc2lvblJhbmdlW25dKX19aWYoZS5vbmVvZkRlY2wpe2lmKCFBcnJheS5pc0FycmF5KGUub25lb2ZEZWNsKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5vbmVvZkRlY2w6IGFycmF5IGV4cGVjdGVkXCIpO3Qub25lb2ZEZWNsPVtdO2ZvcihuPTA7bjxlLm9uZW9mRGVjbC5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vbmVvZkRlY2xbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ub25lb2ZEZWNsOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vbmVvZkRlY2xbbl09bC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm9uZW9mRGVjbFtuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1pZihlLnJlc2VydmVkUmFuZ2Upe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucmVzZXJ2ZWRSYW5nZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlW25dPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLmZyb21PYmplY3QoZS5yZXNlcnZlZFJhbmdlW25dKX19aWYoZS5yZXNlcnZlZE5hbWUpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5yZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWROYW1lPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQucmVzZXJ2ZWROYW1lW25dPVN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSl9cmV0dXJuIHR9LE8udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmZpZWxkPVtdLG4ubmVzdGVkVHlwZT1bXSxuLmVudW1UeXBlPVtdLG4uZXh0ZW5zaW9uUmFuZ2U9W10sbi5leHRlbnNpb249W10sbi5vbmVvZkRlY2w9W10sbi5yZXNlcnZlZFJhbmdlPVtdLG4ucmVzZXJ2ZWROYW1lPVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxlLmZpZWxkJiZlLmZpZWxkLmxlbmd0aCl7bi5maWVsZD1bXTtmb3IodmFyIG89MDtvPGUuZmllbGQubGVuZ3RoOysrbyluLmZpZWxkW29dPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZmllbGRbb10sdCl9aWYoZS5uZXN0ZWRUeXBlJiZlLm5lc3RlZFR5cGUubGVuZ3RoKXtuLm5lc3RlZFR5cGU9W107Zm9yKG89MDtvPGUubmVzdGVkVHlwZS5sZW5ndGg7KytvKW4ubmVzdGVkVHlwZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5uZXN0ZWRUeXBlW29dLHQpfWlmKGUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKXtuLmVudW1UeXBlPVtdO2ZvcihvPTA7bzxlLmVudW1UeXBlLmxlbmd0aDsrK28pbi5lbnVtVHlwZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZW51bVR5cGVbb10sdCl9aWYoZS5leHRlbnNpb25SYW5nZSYmZS5leHRlbnNpb25SYW5nZS5sZW5ndGgpe24uZXh0ZW5zaW9uUmFuZ2U9W107Zm9yKG89MDtvPGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrbyluLmV4dGVuc2lvblJhbmdlW29dPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS50b09iamVjdChlLmV4dGVuc2lvblJhbmdlW29dLHQpfWlmKGUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpe24uZXh0ZW5zaW9uPVtdO2ZvcihvPTA7bzxlLmV4dGVuc2lvbi5sZW5ndGg7KytvKW4uZXh0ZW5zaW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZXh0ZW5zaW9uW29dLHQpfWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxlLm9uZW9mRGVjbCYmZS5vbmVvZkRlY2wubGVuZ3RoKXtuLm9uZW9mRGVjbD1bXTtmb3Iobz0wO288ZS5vbmVvZkRlY2wubGVuZ3RoOysrbyluLm9uZW9mRGVjbFtvXT1sLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by50b09iamVjdChlLm9uZW9mRGVjbFtvXSx0KX1pZihlLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpe24ucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK28pbi5yZXNlcnZlZFJhbmdlW29dPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLnRvT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtvXSx0KX1pZihlLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKXtuLnJlc2VydmVkTmFtZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbyluLnJlc2VydmVkTmFtZVtvXT1lLnJlc2VydmVkTmFtZVtvXX1yZXR1cm4gbn0sTy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LE8uRXh0ZW5zaW9uUmFuZ2U9KHYucHJvdG90eXBlLnN0YXJ0PTAsdi5wcm90b3R5cGUuZW5kPTAsdi5wcm90b3R5cGUub3B0aW9ucz1udWxsLHYuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdihlKX0sdi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuc3RhcnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdGFydFwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5zdGFydCksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDE2KS5pbnQzMihlLmVuZCksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmbC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdH0sdi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sdi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc3RhcnQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLmVuZD1lLmludDMyKCk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx2LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx2LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJiFwLmlzSW50ZWdlcihlLnN0YXJ0KSlyZXR1cm5cInN0YXJ0OiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiFwLmlzSW50ZWdlcihlLmVuZCkpcmV0dXJuXCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXtlPWwuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZihlKXJldHVyblwib3B0aW9ucy5cIitlfXJldHVybiBudWxsfSx2LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZSlyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlO2lmKG51bGwhPWUuc3RhcnQmJih0LnN0YXJ0PTB8ZS5zdGFydCksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2Uub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSx2LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5zdGFydD0wLG4uZW5kPTAsbi5vcHRpb25zPW51bGwpLG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmKG4uc3RhcnQ9ZS5zdGFydCksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSx2LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sdiksTy5SZXNlcnZlZFJhbmdlPShZLnByb3RvdHlwZS5zdGFydD0wLFkucHJvdG90eXBlLmVuZD0wLFkuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgWShlKX0sWS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuc3RhcnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdGFydFwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5zdGFydCksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDE2KS5pbnQzMihlLmVuZCksdH0sWS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sWS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2U7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zdGFydD1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8uZW5kPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFkudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmIXAuaXNJbnRlZ2VyKGUuc3RhcnQpP1wic3RhcnQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIXAuaXNJbnRlZ2VyKGUuZW5kKT9cImVuZDogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LFkuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlP2U6KHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLG51bGwhPWUuc3RhcnQmJih0LnN0YXJ0PTB8ZS5zdGFydCksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSx0KX0sWS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uc3RhcnQ9MCxuLmVuZD0wKSxudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJihuLnN0YXJ0PWUuc3RhcnQpLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG59LFkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxZKSxPKSxuLkV4dGVuc2lvblJhbmdlT3B0aW9ucz0oei5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksei5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB6KGUpfSx6LmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sei5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sei5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT05OTk/KG8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sei5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sei52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sei5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucztpZihlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LHoudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSx6LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0seiksbi5GaWVsZERlc2NyaXB0b3JQcm90bz0oUC5wcm90b3R5cGUubmFtZT1cIlwiLFAucHJvdG90eXBlLm51bWJlcj0wLFAucHJvdG90eXBlLmxhYmVsPTEsUC5wcm90b3R5cGUudHlwZT0xLFAucHJvdG90eXBlLnR5cGVOYW1lPVwiXCIsUC5wcm90b3R5cGUuZXh0ZW5kZWU9XCJcIixQLnByb3RvdHlwZS5kZWZhdWx0VmFsdWU9XCJcIixQLnByb3RvdHlwZS5vbmVvZkluZGV4PTAsUC5wcm90b3R5cGUuanNvbk5hbWU9XCJcIixQLnByb3RvdHlwZS5vcHRpb25zPW51bGwsUC5wcm90b3R5cGUucHJvdG8zT3B0aW9uYWw9ITEsUC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQKGUpfSxQLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUuZXh0ZW5kZWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJleHRlbmRlZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmV4dGVuZGVlKSxudWxsIT1lLm51bWJlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm51bWJlclwiKSYmdC51aW50MzIoMjQpLmludDMyKGUubnVtYmVyKSxudWxsIT1lLmxhYmVsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGFiZWxcIikmJnQudWludDMyKDMyKS5pbnQzMihlLmxhYmVsKSxudWxsIT1lLnR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlXCIpJiZ0LnVpbnQzMig0MCkuaW50MzIoZS50eXBlKSxudWxsIT1lLnR5cGVOYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHlwZU5hbWVcIikmJnQudWludDMyKDUwKS5zdHJpbmcoZS50eXBlTmFtZSksbnVsbCE9ZS5kZWZhdWx0VmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0VmFsdWVcIikmJnQudWludDMyKDU4KS5zdHJpbmcoZS5kZWZhdWx0VmFsdWUpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUub25lb2ZJbmRleCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9uZW9mSW5kZXhcIikmJnQudWludDMyKDcyKS5pbnQzMihlLm9uZW9mSW5kZXgpLG51bGwhPWUuanNvbk5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqc29uTmFtZVwiKSYmdC51aW50MzIoODIpLnN0cmluZyhlLmpzb25OYW1lKSxudWxsIT1lLnByb3RvM09wdGlvbmFsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHJvdG8zT3B0aW9uYWxcIikmJnQudWludDMyKDEzNikuYm9vbChlLnByb3RvM09wdGlvbmFsKSx0fSxQLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxQLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5udW1iZXI9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNDpvLmxhYmVsPWUuaW50MzIoKTticmVhaztjYXNlIDU6by50eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDY6by50eXBlTmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmV4dGVuZGVlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA3Om8uZGVmYXVsdFZhbHVlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA5Om8ub25lb2ZJbmRleD1lLmludDMyKCk7YnJlYWs7Y2FzZSAxMDpvLmpzb25OYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Om8ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxNzpvLnByb3RvM09wdGlvbmFsPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sUC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYhcC5pc0ludGVnZXIoZS5udW1iZXIpKXJldHVyblwibnVtYmVyOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sYWJlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImxhYmVsXCIpKXN3aXRjaChlLmxhYmVsKXtkZWZhdWx0OnJldHVyblwibGFiZWw6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDE6Y2FzZSAyOmNhc2UgMzp9aWYobnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSlzd2l0Y2goZS50eXBlKXtkZWZhdWx0OnJldHVyblwidHlwZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMTpjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6Y2FzZSA2OmNhc2UgNzpjYXNlIDg6Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMTpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAxNDpjYXNlIDE1OmNhc2UgMTY6Y2FzZSAxNzpjYXNlIDE4On1pZihudWxsIT1lLnR5cGVOYW1lJiZlLmhhc093blByb3BlcnR5KFwidHlwZU5hbWVcIikmJiFwLmlzU3RyaW5nKGUudHlwZU5hbWUpKXJldHVyblwidHlwZU5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZXh0ZW5kZWUmJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbmRlZVwiKSYmIXAuaXNTdHJpbmcoZS5leHRlbmRlZSkpcmV0dXJuXCJleHRlbmRlZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZWZhdWx0VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0VmFsdWVcIikmJiFwLmlzU3RyaW5nKGUuZGVmYXVsdFZhbHVlKSlyZXR1cm5cImRlZmF1bHRWYWx1ZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vbmVvZkluZGV4JiZlLmhhc093blByb3BlcnR5KFwib25lb2ZJbmRleFwiKSYmIXAuaXNJbnRlZ2VyKGUub25lb2ZJbmRleCkpcmV0dXJuXCJvbmVvZkluZGV4OiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qc29uTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzb25OYW1lXCIpJiYhcC5pc1N0cmluZyhlLmpzb25OYW1lKSlyZXR1cm5cImpzb25OYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXt2YXIgdD1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYodClyZXR1cm5cIm9wdGlvbnMuXCIrdH1yZXR1cm4gbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmZS5oYXNPd25Qcm9wZXJ0eShcInByb3RvM09wdGlvbmFsXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUucHJvdG8zT3B0aW9uYWw/XCJwcm90bzNPcHRpb25hbDogYm9vbGVhbiBleHBlY3RlZFwiOm51bGx9LFAuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvO3N3aXRjaChudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUubnVtYmVyJiYodC5udW1iZXI9MHxlLm51bWJlciksZS5sYWJlbCl7Y2FzZVwiTEFCRUxfT1BUSU9OQUxcIjpjYXNlIDE6dC5sYWJlbD0xO2JyZWFrO2Nhc2VcIkxBQkVMX1JFUVVJUkVEXCI6Y2FzZSAyOnQubGFiZWw9MjticmVhaztjYXNlXCJMQUJFTF9SRVBFQVRFRFwiOmNhc2UgMzp0LmxhYmVsPTN9c3dpdGNoKGUudHlwZSl7Y2FzZVwiVFlQRV9ET1VCTEVcIjpjYXNlIDE6dC50eXBlPTE7YnJlYWs7Y2FzZVwiVFlQRV9GTE9BVFwiOmNhc2UgMjp0LnR5cGU9MjticmVhaztjYXNlXCJUWVBFX0lOVDY0XCI6Y2FzZSAzOnQudHlwZT0zO2JyZWFrO2Nhc2VcIlRZUEVfVUlOVDY0XCI6Y2FzZSA0OnQudHlwZT00O2JyZWFrO2Nhc2VcIlRZUEVfSU5UMzJcIjpjYXNlIDU6dC50eXBlPTU7YnJlYWs7Y2FzZVwiVFlQRV9GSVhFRDY0XCI6Y2FzZSA2OnQudHlwZT02O2JyZWFrO2Nhc2VcIlRZUEVfRklYRUQzMlwiOmNhc2UgNzp0LnR5cGU9NzticmVhaztjYXNlXCJUWVBFX0JPT0xcIjpjYXNlIDg6dC50eXBlPTg7YnJlYWs7Y2FzZVwiVFlQRV9TVFJJTkdcIjpjYXNlIDk6dC50eXBlPTk7YnJlYWs7Y2FzZVwiVFlQRV9HUk9VUFwiOmNhc2UgMTA6dC50eXBlPTEwO2JyZWFrO2Nhc2VcIlRZUEVfTUVTU0FHRVwiOmNhc2UgMTE6dC50eXBlPTExO2JyZWFrO2Nhc2VcIlRZUEVfQllURVNcIjpjYXNlIDEyOnQudHlwZT0xMjticmVhaztjYXNlXCJUWVBFX1VJTlQzMlwiOmNhc2UgMTM6dC50eXBlPTEzO2JyZWFrO2Nhc2VcIlRZUEVfRU5VTVwiOmNhc2UgMTQ6dC50eXBlPTE0O2JyZWFrO2Nhc2VcIlRZUEVfU0ZJWEVEMzJcIjpjYXNlIDE1OnQudHlwZT0xNTticmVhaztjYXNlXCJUWVBFX1NGSVhFRDY0XCI6Y2FzZSAxNjp0LnR5cGU9MTY7YnJlYWs7Y2FzZVwiVFlQRV9TSU5UMzJcIjpjYXNlIDE3OnQudHlwZT0xNzticmVhaztjYXNlXCJUWVBFX1NJTlQ2NFwiOmNhc2UgMTg6dC50eXBlPTE4fWlmKG51bGwhPWUudHlwZU5hbWUmJih0LnR5cGVOYW1lPVN0cmluZyhlLnR5cGVOYW1lKSksbnVsbCE9ZS5leHRlbmRlZSYmKHQuZXh0ZW5kZWU9U3RyaW5nKGUuZXh0ZW5kZWUpKSxudWxsIT1lLmRlZmF1bHRWYWx1ZSYmKHQuZGVmYXVsdFZhbHVlPVN0cmluZyhlLmRlZmF1bHRWYWx1ZSkpLG51bGwhPWUub25lb2ZJbmRleCYmKHQub25lb2ZJbmRleD0wfGUub25lb2ZJbmRleCksbnVsbCE9ZS5qc29uTmFtZSYmKHQuanNvbk5hbWU9U3RyaW5nKGUuanNvbk5hbWUpKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJih0LnByb3RvM09wdGlvbmFsPUJvb2xlYW4oZS5wcm90bzNPcHRpb25hbCkpLHR9LFAudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLmV4dGVuZGVlPVwiXCIsbi5udW1iZXI9MCxuLmxhYmVsPXQuZW51bXM9PT1TdHJpbmc/XCJMQUJFTF9PUFRJT05BTFwiOjEsbi50eXBlPXQuZW51bXM9PT1TdHJpbmc/XCJUWVBFX0RPVUJMRVwiOjEsbi50eXBlTmFtZT1cIlwiLG4uZGVmYXVsdFZhbHVlPVwiXCIsbi5vcHRpb25zPW51bGwsbi5vbmVvZkluZGV4PTAsbi5qc29uTmFtZT1cIlwiLG4ucHJvdG8zT3B0aW9uYWw9ITEpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLmV4dGVuZGVlJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5kZWVcIikmJihuLmV4dGVuZGVlPWUuZXh0ZW5kZWUpLG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYobi5udW1iZXI9ZS5udW1iZXIpLG51bGwhPWUubGFiZWwmJmUuaGFzT3duUHJvcGVydHkoXCJsYWJlbFwiKSYmKG4ubGFiZWw9dC5lbnVtcz09PVN0cmluZz9sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5MYWJlbFtlLmxhYmVsXTplLmxhYmVsKSxudWxsIT1lLnR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpJiYobi50eXBlPXQuZW51bXM9PT1TdHJpbmc/bC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZVtlLnR5cGVdOmUudHlwZSksbnVsbCE9ZS50eXBlTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVOYW1lXCIpJiYobi50eXBlTmFtZT1lLnR5cGVOYW1lKSxudWxsIT1lLmRlZmF1bHRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmKG4uZGVmYXVsdFZhbHVlPWUuZGVmYXVsdFZhbHVlKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG51bGwhPWUub25lb2ZJbmRleCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9uZW9mSW5kZXhcIikmJihuLm9uZW9mSW5kZXg9ZS5vbmVvZkluZGV4KSxudWxsIT1lLmpzb25OYW1lJiZlLmhhc093blByb3BlcnR5KFwianNvbk5hbWVcIikmJihuLmpzb25OYW1lPWUuanNvbk5hbWUpLG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJmUuaGFzT3duUHJvcGVydHkoXCJwcm90bzNPcHRpb25hbFwiKSYmKG4ucHJvdG8zT3B0aW9uYWw9ZS5wcm90bzNPcHRpb25hbCksbn0sUC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFAuVHlwZT0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzFdPVwiVFlQRV9ET1VCTEVcIl09MSx0W2VbMl09XCJUWVBFX0ZMT0FUXCJdPTIsdFtlWzNdPVwiVFlQRV9JTlQ2NFwiXT0zLHRbZVs0XT1cIlRZUEVfVUlOVDY0XCJdPTQsdFtlWzVdPVwiVFlQRV9JTlQzMlwiXT01LHRbZVs2XT1cIlRZUEVfRklYRUQ2NFwiXT02LHRbZVs3XT1cIlRZUEVfRklYRUQzMlwiXT03LHRbZVs4XT1cIlRZUEVfQk9PTFwiXT04LHRbZVs5XT1cIlRZUEVfU1RSSU5HXCJdPTksdFtlWzEwXT1cIlRZUEVfR1JPVVBcIl09MTAsdFtlWzExXT1cIlRZUEVfTUVTU0FHRVwiXT0xMSx0W2VbMTJdPVwiVFlQRV9CWVRFU1wiXT0xMix0W2VbMTNdPVwiVFlQRV9VSU5UMzJcIl09MTMsdFtlWzE0XT1cIlRZUEVfRU5VTVwiXT0xNCx0W2VbMTVdPVwiVFlQRV9TRklYRUQzMlwiXT0xNSx0W2VbMTZdPVwiVFlQRV9TRklYRUQ2NFwiXT0xNix0W2VbMTddPVwiVFlQRV9TSU5UMzJcIl09MTcsdFtlWzE4XT1cIlRZUEVfU0lOVDY0XCJdPTE4LHQpLFAuTGFiZWw9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVsxXT1cIkxBQkVMX09QVElPTkFMXCJdPTEsdFtlWzJdPVwiTEFCRUxfUkVRVUlSRURcIl09Mix0W2VbM109XCJMQUJFTF9SRVBFQVRFRFwiXT0zLHQpLFApLG4uT25lb2ZEZXNjcmlwdG9yUHJvdG89KFcucHJvdG90eXBlLm5hbWU9XCJcIixXLnByb3RvdHlwZS5vcHRpb25zPW51bGwsVy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBXKGUpfSxXLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LFcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sVy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sVy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe2U9bC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKGUpcmV0dXJuXCJvcHRpb25zLlwiK2V9cmV0dXJuIG51bGx9LFcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSxXLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LFcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxXKSxuLkVudW1EZXNjcmlwdG9yUHJvdG89KHcucHJvdG90eXBlLm5hbWU9XCJcIix3LnByb3RvdHlwZS52YWx1ZT1wLmVtcHR5QXJyYXksdy5wcm90b3R5cGUub3B0aW9ucz1udWxsLHcucHJvdG90eXBlLnJlc2VydmVkUmFuZ2U9cC5lbXB0eUFycmF5LHcucHJvdG90eXBlLnJlc2VydmVkTmFtZT1wLmVtcHR5QXJyYXksdy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB3KGUpfSx3LmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS52YWx1ZSYmZS52YWx1ZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnZhbHVlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLmVuY29kZShlLnZhbHVlW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLmVuY29kZShlLnJlc2VydmVkUmFuZ2Vbbl0sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnVpbnQzMig0Mikuc3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKTtyZXR1cm4gdH0sdy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sdy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by52YWx1ZSYmby52YWx1ZS5sZW5ndGh8fChvLnZhbHVlPVtdKSxvLnZhbHVlLnB1c2gobC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpvLnJlc2VydmVkUmFuZ2UmJm8ucmVzZXJ2ZWRSYW5nZS5sZW5ndGh8fChvLnJlc2VydmVkUmFuZ2U9W10pLG8ucmVzZXJ2ZWRSYW5nZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNTpvLnJlc2VydmVkTmFtZSYmby5yZXNlcnZlZE5hbWUubGVuZ3RofHwoby5yZXNlcnZlZE5hbWU9W10pLG8ucmVzZXJ2ZWROYW1lLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx3LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx3LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhcC5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnZhbHVlKSlyZXR1cm5cInZhbHVlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS52YWx1ZS5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLnZhbHVlW3RdKSlyZXR1cm5cInZhbHVlLlwiK259aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49bC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO2lmKG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkUmFuZ2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgbix0PTA7dDxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UudmVyaWZ5KGUucmVzZXJ2ZWRSYW5nZVt0XSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlLlwiK259aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZE5hbWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSlyZXR1cm5cInJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrdClpZighcC5pc1N0cmluZyhlLnJlc2VydmVkTmFtZVt0XSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LHcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLGUudmFsdWUpe2lmKCFBcnJheS5pc0FycmF5KGUudmFsdWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52YWx1ZTogYXJyYXkgZXhwZWN0ZWRcIik7dC52YWx1ZT1bXTtmb3IodmFyIG49MDtuPGUudmFsdWUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudmFsdWVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZhbHVlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC52YWx1ZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLnZhbHVlW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1pZihlLnJlc2VydmVkUmFuZ2Upe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnJlc2VydmVkUmFuZ2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2Vbbl09bC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS5mcm9tT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtuXSl9fWlmKGUucmVzZXJ2ZWROYW1lKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZE5hbWU9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC5yZXNlcnZlZE5hbWVbbl09U3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKX1yZXR1cm4gdH0sdy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udmFsdWU9W10sbi5yZXNlcnZlZFJhbmdlPVtdLG4ucmVzZXJ2ZWROYW1lPVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxlLnZhbHVlJiZlLnZhbHVlLmxlbmd0aCl7bi52YWx1ZT1bXTtmb3IodmFyIG89MDtvPGUudmFsdWUubGVuZ3RoOysrbyluLnZhbHVlW29dPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by50b09iamVjdChlLnZhbHVlW29dLHQpfWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxlLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpe24ucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK28pbi5yZXNlcnZlZFJhbmdlW29dPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UudG9PYmplY3QoZS5yZXNlcnZlZFJhbmdlW29dLHQpfWlmKGUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpe24ucmVzZXJ2ZWROYW1lPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWROYW1lW29dPWUucmVzZXJ2ZWROYW1lW29dfXJldHVybiBufSx3LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sdy5FbnVtUmVzZXJ2ZWRSYW5nZT0oWC5wcm90b3R5cGUuc3RhcnQ9MCxYLnByb3RvdHlwZS5lbmQ9MCxYLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFgoZSl9LFguZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnN0YXJ0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RhcnRcIikmJnQudWludDMyKDgpLmludDMyKGUuc3RhcnQpLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5lbmQpLHR9LFguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2U7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zdGFydD1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8uZW5kPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFgudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmIXAuaXNJbnRlZ2VyKGUuc3RhcnQpP1wic3RhcnQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIXAuaXNJbnRlZ2VyKGUuZW5kKT9cImVuZDogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LFguZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2U/ZToodD1uZXcgbC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZSxudWxsIT1lLnN0YXJ0JiYodC5zdGFydD0wfGUuc3RhcnQpLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksdCl9LFgudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnN0YXJ0PTAsbi5lbmQ9MCksbnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYobi5zdGFydD1lLnN0YXJ0KSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxufSxYLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sWCksdyksbi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG89KGoucHJvdG90eXBlLm5hbWU9XCJcIixqLnByb3RvdHlwZS5udW1iZXI9MCxqLnByb3RvdHlwZS5vcHRpb25zPW51bGwsai5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBqKGUpfSxqLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUubnVtYmVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibnVtYmVyXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5udW1iZXIpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxqLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxqLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ubnVtYmVyPWUuaW50MzIoKTticmVhaztjYXNlIDM6by5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxqLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxqLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhcC5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJiFwLmlzSW50ZWdlcihlLm51bWJlcikpcmV0dXJuXCJudW1iZXI6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXtlPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYoZSlyZXR1cm5cIm9wdGlvbnMuXCIrZX1yZXR1cm4gbnVsbH0sai5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUubnVtYmVyJiYodC5udW1iZXI9MHxlLm51bWJlciksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LGoudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm51bWJlcj0wLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJihuLm51bWJlcj1lLm51bWJlciksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sai5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGopLG4uU2VydmljZURlc2NyaXB0b3JQcm90bz0oRC5wcm90b3R5cGUubmFtZT1cIlwiLEQucHJvdG90eXBlLm1ldGhvZD1wLmVtcHR5QXJyYXksRC5wcm90b3R5cGUub3B0aW9ucz1udWxsLEQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRChlKX0sRC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUubWV0aG9kJiZlLm1ldGhvZC5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLm1ldGhvZC5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5tZXRob2Rbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdH0sRC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sRC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5tZXRob2QmJm8ubWV0aG9kLmxlbmd0aHx8KG8ubWV0aG9kPVtdKSxvLm1ldGhvZC5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEQuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEQudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFwLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1ldGhvZCYmZS5oYXNPd25Qcm9wZXJ0eShcIm1ldGhvZFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXRob2QpKXJldHVyblwibWV0aG9kOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5tZXRob2QubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5tZXRob2RbdF0pKXJldHVyblwibWV0aG9kLlwiK259dmFyIG47aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49bC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO3JldHVybiBudWxsfSxELmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxlLm1ldGhvZCl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXRob2QpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5tZXRob2Q6IGFycmF5IGV4cGVjdGVkXCIpO3QubWV0aG9kPVtdO2Zvcih2YXIgbj0wO248ZS5tZXRob2QubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubWV0aG9kW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5tZXRob2Q6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1ldGhvZFtuXT1sLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm1ldGhvZFtuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LEQudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLm1ldGhvZD1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksZS5tZXRob2QmJmUubWV0aG9kLmxlbmd0aCl7bi5tZXRob2Q9W107Zm9yKHZhciBvPTA7bzxlLm1ldGhvZC5sZW5ndGg7KytvKW4ubWV0aG9kW29dPWwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLm1ldGhvZFtvXSx0KX1yZXR1cm4gbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LEQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxEKSxuLk1ldGhvZERlc2NyaXB0b3JQcm90bz0oeC5wcm90b3R5cGUubmFtZT1cIlwiLHgucHJvdG90eXBlLmlucHV0VHlwZT1cIlwiLHgucHJvdG90eXBlLm91dHB1dFR5cGU9XCJcIix4LnByb3RvdHlwZS5vcHRpb25zPW51bGwseC5wcm90b3R5cGUuY2xpZW50U3RyZWFtaW5nPSExLHgucHJvdG90eXBlLnNlcnZlclN0cmVhbWluZz0hMSx4LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHgoZSl9LHguZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5pbnB1dFR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpbnB1dFR5cGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5pbnB1dFR5cGUpLG51bGwhPWUub3V0cHV0VHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm91dHB1dFR5cGVcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5vdXRwdXRUeXBlKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjbGllbnRTdHJlYW1pbmdcIikmJnQudWludDMyKDQwKS5ib29sKGUuY2xpZW50U3RyZWFtaW5nKSxudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlcnZlclN0cmVhbWluZ1wiKSYmdC51aW50MzIoNDgpLmJvb2woZS5zZXJ2ZXJTdHJlYW1pbmcpLHR9LHguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5pbnB1dFR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5vdXRwdXRUeXBlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNTpvLmNsaWVudFN0cmVhbWluZz1lLmJvb2woKTticmVhaztjYXNlIDY6by5zZXJ2ZXJTdHJlYW1pbmc9ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx4LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx4LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhcC5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5pbnB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJpbnB1dFR5cGVcIikmJiFwLmlzU3RyaW5nKGUuaW5wdXRUeXBlKSlyZXR1cm5cImlucHV0VHlwZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vdXRwdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwib3V0cHV0VHlwZVwiKSYmIXAuaXNTdHJpbmcoZS5vdXRwdXRUeXBlKSlyZXR1cm5cIm91dHB1dFR5cGU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe3ZhciB0PWwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYodClyZXR1cm5cIm9wdGlvbnMuXCIrdH1yZXR1cm4gbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJjbGllbnRTdHJlYW1pbmdcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5jbGllbnRTdHJlYW1pbmc/XCJjbGllbnRTdHJlYW1pbmc6IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZlclN0cmVhbWluZ1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnNlcnZlclN0cmVhbWluZz9cInNlcnZlclN0cmVhbWluZzogYm9vbGVhbiBleHBlY3RlZFwiOm51bGx9LHguZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLmlucHV0VHlwZSYmKHQuaW5wdXRUeXBlPVN0cmluZyhlLmlucHV0VHlwZSkpLG51bGwhPWUub3V0cHV0VHlwZSYmKHQub3V0cHV0VHlwZT1TdHJpbmcoZS5vdXRwdXRUeXBlKSksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiYodC5jbGllbnRTdHJlYW1pbmc9Qm9vbGVhbihlLmNsaWVudFN0cmVhbWluZykpLG51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiYodC5zZXJ2ZXJTdHJlYW1pbmc9Qm9vbGVhbihlLnNlcnZlclN0cmVhbWluZykpLHR9LHgudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLmlucHV0VHlwZT1cIlwiLG4ub3V0cHV0VHlwZT1cIlwiLG4ub3B0aW9ucz1udWxsLG4uY2xpZW50U3RyZWFtaW5nPSExLG4uc2VydmVyU3RyZWFtaW5nPSExKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5pbnB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJpbnB1dFR5cGVcIikmJihuLmlucHV0VHlwZT1lLmlucHV0VHlwZSksbnVsbCE9ZS5vdXRwdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwib3V0cHV0VHlwZVwiKSYmKG4ub3V0cHV0VHlwZT1lLm91dHB1dFR5cGUpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwiY2xpZW50U3RyZWFtaW5nXCIpJiYobi5jbGllbnRTdHJlYW1pbmc9ZS5jbGllbnRTdHJlYW1pbmcpLG51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwic2VydmVyU3RyZWFtaW5nXCIpJiYobi5zZXJ2ZXJTdHJlYW1pbmc9ZS5zZXJ2ZXJTdHJlYW1pbmcpLG59LHgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx4KSxuLkZpbGVPcHRpb25zPShTLnByb3RvdHlwZS5qYXZhUGFja2FnZT1cIlwiLFMucHJvdG90eXBlLmphdmFPdXRlckNsYXNzbmFtZT1cIlwiLFMucHJvdG90eXBlLmphdmFNdWx0aXBsZUZpbGVzPSExLFMucHJvdG90eXBlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ITEsUy5wcm90b3R5cGUuamF2YVN0cmluZ0NoZWNrVXRmOD0hMSxTLnByb3RvdHlwZS5vcHRpbWl6ZUZvcj0xLFMucHJvdG90eXBlLmdvUGFja2FnZT1cIlwiLFMucHJvdG90eXBlLmNjR2VuZXJpY1NlcnZpY2VzPSExLFMucHJvdG90eXBlLmphdmFHZW5lcmljU2VydmljZXM9ITEsUy5wcm90b3R5cGUucHlHZW5lcmljU2VydmljZXM9ITEsUy5wcm90b3R5cGUucGhwR2VuZXJpY1NlcnZpY2VzPSExLFMucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsUy5wcm90b3R5cGUuY2NFbmFibGVBcmVuYXM9ITAsUy5wcm90b3R5cGUub2JqY0NsYXNzUHJlZml4PVwiXCIsUy5wcm90b3R5cGUuY3NoYXJwTmFtZXNwYWNlPVwiXCIsUy5wcm90b3R5cGUuc3dpZnRQcmVmaXg9XCJcIixTLnByb3RvdHlwZS5waHBDbGFzc1ByZWZpeD1cIlwiLFMucHJvdG90eXBlLnBocE5hbWVzcGFjZT1cIlwiLFMucHJvdG90eXBlLnBocE1ldGFkYXRhTmFtZXNwYWNlPVwiXCIsUy5wcm90b3R5cGUucnVieVBhY2thZ2U9XCJcIixTLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXAuZW1wdHlBcnJheSxTLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXT1wLmVtcHR5QXJyYXksUy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTKGUpfSxTLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmphdmFQYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YVBhY2thZ2VcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5qYXZhUGFja2FnZSksbnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhT3V0ZXJDbGFzc25hbWVcIikmJnQudWludDMyKDY2KS5zdHJpbmcoZS5qYXZhT3V0ZXJDbGFzc25hbWUpLG51bGwhPWUub3B0aW1pemVGb3ImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpbWl6ZUZvclwiKSYmdC51aW50MzIoNzIpLmludDMyKGUub3B0aW1pemVGb3IpLG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhTXVsdGlwbGVGaWxlc1wiKSYmdC51aW50MzIoODApLmJvb2woZS5qYXZhTXVsdGlwbGVGaWxlcyksbnVsbCE9ZS5nb1BhY2thZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJnb1BhY2thZ2VcIikmJnQudWludDMyKDkwKS5zdHJpbmcoZS5nb1BhY2thZ2UpLG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjY0dlbmVyaWNTZXJ2aWNlc1wiKSYmdC51aW50MzIoMTI4KS5ib29sKGUuY2NHZW5lcmljU2VydmljZXMpLG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDEzNikuYm9vbChlLmphdmFHZW5lcmljU2VydmljZXMpLG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJweUdlbmVyaWNTZXJ2aWNlc1wiKSYmdC51aW50MzIoMTQ0KS5ib29sKGUucHlHZW5lcmljU2VydmljZXMpLG51bGwhPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2hcIikmJnQudWludDMyKDE2MCkuYm9vbChlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDE4NCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFTdHJpbmdDaGVja1V0ZjhcIikmJnQudWludDMyKDIxNikuYm9vbChlLmphdmFTdHJpbmdDaGVja1V0ZjgpLG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjY0VuYWJsZUFyZW5hc1wiKSYmdC51aW50MzIoMjQ4KS5ib29sKGUuY2NFbmFibGVBcmVuYXMpLG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib2JqY0NsYXNzUHJlZml4XCIpJiZ0LnVpbnQzMigyOTApLnN0cmluZyhlLm9iamNDbGFzc1ByZWZpeCksbnVsbCE9ZS5jc2hhcnBOYW1lc3BhY2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjc2hhcnBOYW1lc3BhY2VcIikmJnQudWludDMyKDI5OCkuc3RyaW5nKGUuY3NoYXJwTmFtZXNwYWNlKSxudWxsIT1lLnN3aWZ0UHJlZml4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3dpZnRQcmVmaXhcIikmJnQudWludDMyKDMxNCkuc3RyaW5nKGUuc3dpZnRQcmVmaXgpLG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBDbGFzc1ByZWZpeFwiKSYmdC51aW50MzIoMzIyKS5zdHJpbmcoZS5waHBDbGFzc1ByZWZpeCksbnVsbCE9ZS5waHBOYW1lc3BhY2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBOYW1lc3BhY2VcIikmJnQudWludDMyKDMzMCkuc3RyaW5nKGUucGhwTmFtZXNwYWNlKSxudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmdC51aW50MzIoMzM2KS5ib29sKGUucGhwR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwTWV0YWRhdGFOYW1lc3BhY2VcIikmJnQudWludDMyKDM1NCkuc3RyaW5nKGUucGhwTWV0YWRhdGFOYW1lc3BhY2UpLG51bGwhPWUucnVieVBhY2thZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJydWJ5UGFja2FnZVwiKSYmdC51aW50MzIoMzYyKS5zdHJpbmcoZS5ydWJ5UGFja2FnZSksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXSYmZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXS5sZW5ndGgpZm9yKG49MDtuPGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0ubGVuZ3RoOysrbilsLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLmVuY29kZShlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdW25dLHQudWludDMyKDg0MjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LFMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uamF2YVBhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDg6by5qYXZhT3V0ZXJDbGFzc25hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDEwOm8uamF2YU11bHRpcGxlRmlsZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyMDpvLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyNzpvLmphdmFTdHJpbmdDaGVja1V0Zjg9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5Om8ub3B0aW1pemVGb3I9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMTE6by5nb1BhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDE2Om8uY2NHZW5lcmljU2VydmljZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAxNzpvLmphdmFHZW5lcmljU2VydmljZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAxODpvLnB5R2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNDI6by5waHBHZW5lcmljU2VydmljZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzMTpvLmNjRW5hYmxlQXJlbmFzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzY6by5vYmpjQ2xhc3NQcmVmaXg9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM3Om8uY3NoYXJwTmFtZXNwYWNlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOTpvLnN3aWZ0UHJlZml4PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0MDpvLnBocENsYXNzUHJlZml4PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0MTpvLnBocE5hbWVzcGFjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDQ6by5waHBNZXRhZGF0YU5hbWVzcGFjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDU6by5ydWJ5UGFja2FnZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMDUzOm9bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0mJm9bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0ubGVuZ3RofHwob1tcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXT1bXSksb1tcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXS5wdXNoKGwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sUy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFQYWNrYWdlXCIpJiYhcC5pc1N0cmluZyhlLmphdmFQYWNrYWdlKSlyZXR1cm5cImphdmFQYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFPdXRlckNsYXNzbmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5qYXZhT3V0ZXJDbGFzc25hbWUpKXJldHVyblwiamF2YU91dGVyQ2xhc3NuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZlLmhhc093blByb3BlcnR5KFwiamF2YU11bHRpcGxlRmlsZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhTXVsdGlwbGVGaWxlcylyZXR1cm5cImphdmFNdWx0aXBsZUZpbGVzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpcmV0dXJuXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4JiZlLmhhc093blByb3BlcnR5KFwiamF2YVN0cmluZ0NoZWNrVXRmOFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFTdHJpbmdDaGVja1V0ZjgpcmV0dXJuXCJqYXZhU3RyaW5nQ2hlY2tVdGY4OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpbWl6ZUZvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGltaXplRm9yXCIpKXN3aXRjaChlLm9wdGltaXplRm9yKXtkZWZhdWx0OnJldHVyblwib3B0aW1pemVGb3I6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDE6Y2FzZSAyOmNhc2UgMzp9aWYobnVsbCE9ZS5nb1BhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJnb1BhY2thZ2VcIikmJiFwLmlzU3RyaW5nKGUuZ29QYWNrYWdlKSlyZXR1cm5cImdvUGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjR2VuZXJpY1NlcnZpY2VzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuY2NHZW5lcmljU2VydmljZXMpcmV0dXJuXCJjY0dlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhR2VuZXJpY1NlcnZpY2VzKXJldHVyblwiamF2YUdlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJweUdlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnB5R2VuZXJpY1NlcnZpY2VzKXJldHVyblwicHlHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnBocEdlbmVyaWNTZXJ2aWNlcylyZXR1cm5cInBocEdlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0VuYWJsZUFyZW5hc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmNjRW5hYmxlQXJlbmFzKXJldHVyblwiY2NFbmFibGVBcmVuYXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9iamNDbGFzc1ByZWZpeFwiKSYmIXAuaXNTdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpKXJldHVyblwib2JqY0NsYXNzUHJlZml4OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNzaGFycE5hbWVzcGFjZVwiKSYmIXAuaXNTdHJpbmcoZS5jc2hhcnBOYW1lc3BhY2UpKXJldHVyblwiY3NoYXJwTmFtZXNwYWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnN3aWZ0UHJlZml4JiZlLmhhc093blByb3BlcnR5KFwic3dpZnRQcmVmaXhcIikmJiFwLmlzU3RyaW5nKGUuc3dpZnRQcmVmaXgpKXJldHVyblwic3dpZnRQcmVmaXg6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBDbGFzc1ByZWZpeFwiKSYmIXAuaXNTdHJpbmcoZS5waHBDbGFzc1ByZWZpeCkpcmV0dXJuXCJwaHBDbGFzc1ByZWZpeDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBOYW1lc3BhY2VcIikmJiFwLmlzU3RyaW5nKGUucGhwTmFtZXNwYWNlKSlyZXR1cm5cInBocE5hbWVzcGFjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiYhcC5pc1N0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSlyZXR1cm5cInBocE1ldGFkYXRhTmFtZXNwYWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJ1YnlQYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicnVieVBhY2thZ2VcIikmJiFwLmlzU3RyaW5nKGUucnVieVBhY2thZ2UpKXJldHVyblwicnVieVBhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufWlmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0pKXJldHVyblwiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgbix0PTA7dDxlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLnZlcmlmeShlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdW3RdKSlyZXR1cm5cIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvbi5cIitufXJldHVybiBudWxsfSxTLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucztzd2l0Y2gobnVsbCE9ZS5qYXZhUGFja2FnZSYmKHQuamF2YVBhY2thZ2U9U3RyaW5nKGUuamF2YVBhY2thZ2UpKSxudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmKHQuamF2YU91dGVyQ2xhc3NuYW1lPVN0cmluZyhlLmphdmFPdXRlckNsYXNzbmFtZSkpLG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJih0LmphdmFNdWx0aXBsZUZpbGVzPUJvb2xlYW4oZS5qYXZhTXVsdGlwbGVGaWxlcykpLG51bGwhPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCYmKHQuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD1Cb29sZWFuKGUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCkpLG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmKHQuamF2YVN0cmluZ0NoZWNrVXRmOD1Cb29sZWFuKGUuamF2YVN0cmluZ0NoZWNrVXRmOCkpLGUub3B0aW1pemVGb3Ipe2Nhc2VcIlNQRUVEXCI6Y2FzZSAxOnQub3B0aW1pemVGb3I9MTticmVhaztjYXNlXCJDT0RFX1NJWkVcIjpjYXNlIDI6dC5vcHRpbWl6ZUZvcj0yO2JyZWFrO2Nhc2VcIkxJVEVfUlVOVElNRVwiOmNhc2UgMzp0Lm9wdGltaXplRm9yPTN9aWYobnVsbCE9ZS5nb1BhY2thZ2UmJih0LmdvUGFja2FnZT1TdHJpbmcoZS5nb1BhY2thZ2UpKSxudWxsIT1lLmNjR2VuZXJpY1NlcnZpY2VzJiYodC5jY0dlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUuY2NHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJih0LmphdmFHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLmphdmFHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiYodC5weUdlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUucHlHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmKHQucGhwR2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5waHBHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiYodC5jY0VuYWJsZUFyZW5hcz1Cb29sZWFuKGUuY2NFbmFibGVBcmVuYXMpKSxudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmKHQub2JqY0NsYXNzUHJlZml4PVN0cmluZyhlLm9iamNDbGFzc1ByZWZpeCkpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiYodC5jc2hhcnBOYW1lc3BhY2U9U3RyaW5nKGUuY3NoYXJwTmFtZXNwYWNlKSksbnVsbCE9ZS5zd2lmdFByZWZpeCYmKHQuc3dpZnRQcmVmaXg9U3RyaW5nKGUuc3dpZnRQcmVmaXgpKSxudWxsIT1lLnBocENsYXNzUHJlZml4JiYodC5waHBDbGFzc1ByZWZpeD1TdHJpbmcoZS5waHBDbGFzc1ByZWZpeCkpLG51bGwhPWUucGhwTmFtZXNwYWNlJiYodC5waHBOYW1lc3BhY2U9U3RyaW5nKGUucGhwTmFtZXNwYWNlKSksbnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmKHQucGhwTWV0YWRhdGFOYW1lc3BhY2U9U3RyaW5nKGUucGhwTWV0YWRhdGFOYW1lc3BhY2UpKSxudWxsIT1lLnJ1YnlQYWNrYWdlJiYodC5ydWJ5UGFja2FnZT1TdHJpbmcoZS5ydWJ5UGFja2FnZSkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19aWYoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXSl7aWYoIUFycmF5LmlzQXJyYXkoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy4uZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb246IGFycmF5IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl09W107Zm9yKG49MDtuPGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl1bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy4uZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdW25dPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IuZnJvbU9iamVjdChlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdW25dKX19cmV0dXJuIHR9LFMudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sbltcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXT1bXSksdC5kZWZhdWx0cyYmKG4uamF2YVBhY2thZ2U9XCJcIixuLmphdmFPdXRlckNsYXNzbmFtZT1cIlwiLG4ub3B0aW1pemVGb3I9dC5lbnVtcz09PVN0cmluZz9cIlNQRUVEXCI6MSxuLmphdmFNdWx0aXBsZUZpbGVzPSExLG4uZ29QYWNrYWdlPVwiXCIsbi5jY0dlbmVyaWNTZXJ2aWNlcz0hMSxuLmphdmFHZW5lcmljU2VydmljZXM9ITEsbi5weUdlbmVyaWNTZXJ2aWNlcz0hMSxuLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ITEsbi5kZXByZWNhdGVkPSExLG4uamF2YVN0cmluZ0NoZWNrVXRmOD0hMSxuLmNjRW5hYmxlQXJlbmFzPSEwLG4ub2JqY0NsYXNzUHJlZml4PVwiXCIsbi5jc2hhcnBOYW1lc3BhY2U9XCJcIixuLnN3aWZ0UHJlZml4PVwiXCIsbi5waHBDbGFzc1ByZWZpeD1cIlwiLG4ucGhwTmFtZXNwYWNlPVwiXCIsbi5waHBHZW5lcmljU2VydmljZXM9ITEsbi5waHBNZXRhZGF0YU5hbWVzcGFjZT1cIlwiLG4ucnVieVBhY2thZ2U9XCJcIiksbnVsbCE9ZS5qYXZhUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFQYWNrYWdlXCIpJiYobi5qYXZhUGFja2FnZT1lLmphdmFQYWNrYWdlKSxudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFPdXRlckNsYXNzbmFtZVwiKSYmKG4uamF2YU91dGVyQ2xhc3NuYW1lPWUuamF2YU91dGVyQ2xhc3NuYW1lKSxudWxsIT1lLm9wdGltaXplRm9yJiZlLmhhc093blByb3BlcnR5KFwib3B0aW1pemVGb3JcIikmJihuLm9wdGltaXplRm9yPXQuZW51bXM9PT1TdHJpbmc/bC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuT3B0aW1pemVNb2RlW2Uub3B0aW1pemVGb3JdOmUub3B0aW1pemVGb3IpLG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhTXVsdGlwbGVGaWxlc1wiKSYmKG4uamF2YU11bHRpcGxlRmlsZXM9ZS5qYXZhTXVsdGlwbGVGaWxlcyksbnVsbCE9ZS5nb1BhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJnb1BhY2thZ2VcIikmJihuLmdvUGFja2FnZT1lLmdvUGFja2FnZSksbnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjR2VuZXJpY1NlcnZpY2VzXCIpJiYobi5jY0dlbmVyaWNTZXJ2aWNlcz1lLmNjR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiYobi5qYXZhR2VuZXJpY1NlcnZpY2VzPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5weUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInB5R2VuZXJpY1NlcnZpY2VzXCIpJiYobi5weUdlbmVyaWNTZXJ2aWNlcz1lLnB5R2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoXCIpJiYobi5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFTdHJpbmdDaGVja1V0ZjhcIikmJihuLmphdmFTdHJpbmdDaGVja1V0Zjg9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZlLmhhc093blByb3BlcnR5KFwiY2NFbmFibGVBcmVuYXNcIikmJihuLmNjRW5hYmxlQXJlbmFzPWUuY2NFbmFibGVBcmVuYXMpLG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiZlLmhhc093blByb3BlcnR5KFwib2JqY0NsYXNzUHJlZml4XCIpJiYobi5vYmpjQ2xhc3NQcmVmaXg9ZS5vYmpjQ2xhc3NQcmVmaXgpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwiY3NoYXJwTmFtZXNwYWNlXCIpJiYobi5jc2hhcnBOYW1lc3BhY2U9ZS5jc2hhcnBOYW1lc3BhY2UpLG51bGwhPWUuc3dpZnRQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJzd2lmdFByZWZpeFwiKSYmKG4uc3dpZnRQcmVmaXg9ZS5zd2lmdFByZWZpeCksbnVsbCE9ZS5waHBDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcInBocENsYXNzUHJlZml4XCIpJiYobi5waHBDbGFzc1ByZWZpeD1lLnBocENsYXNzUHJlZml4KSxudWxsIT1lLnBocE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE5hbWVzcGFjZVwiKSYmKG4ucGhwTmFtZXNwYWNlPWUucGhwTmFtZXNwYWNlKSxudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmKG4ucGhwR2VuZXJpY1NlcnZpY2VzPWUucGhwR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwicGhwTWV0YWRhdGFOYW1lc3BhY2VcIikmJihuLnBocE1ldGFkYXRhTmFtZXNwYWNlPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UpLG51bGwhPWUucnVieVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJydWJ5UGFja2FnZVwiKSYmKG4ucnVieVBhY2thZ2U9ZS5ydWJ5UGFja2FnZSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9aWYoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXSYmZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXS5sZW5ndGgpe25bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl09W107Zm9yKG89MDtvPGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0ubGVuZ3RoOysrbyluW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdW29dPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IudG9PYmplY3QoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXVtvXSx0KX1yZXR1cm4gbn0sUy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFMuT3B0aW1pemVNb2RlPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMV09XCJTUEVFRFwiXT0xLHRbZVsyXT1cIkNPREVfU0laRVwiXT0yLHRbZVszXT1cIkxJVEVfUlVOVElNRVwiXT0zLHQpLFMpLG4uTWVzc2FnZU9wdGlvbnM9KGsucHJvdG90eXBlLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PSExLGsucHJvdG90eXBlLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9ITEsay5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxrLnByb3RvdHlwZS5tYXBFbnRyeT0hMSxrLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXAuZW1wdHlBcnJheSxrLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdPW51bGwsay5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBrKGUpfSxrLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJnQudWludDMyKDgpLmJvb2woZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCksbnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvclwiKSYmdC51aW50MzIoMTYpLmJvb2woZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUubWFwRW50cnkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtYXBFbnRyeVwiKSYmdC51aW50MzIoNTYpLmJvb2woZS5tYXBFbnRyeSksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLnJlc291cmNlXCIpJiZsLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLmVuY29kZShlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl0sdC51aW50MzIoODQyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxrLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxrLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjpvLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDc6by5tYXBFbnRyeT1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTA1MzpvW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl09bC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvci5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGsuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGsudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubWVzc2FnZVNldFdpcmVGb3JtYXQmJmUuaGFzT3duUHJvcGVydHkoXCJtZXNzYWdlU2V0V2lyZUZvcm1hdFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KXJldHVyblwibWVzc2FnZVNldFdpcmVGb3JtYXQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3ImJmUuaGFzT3duUHJvcGVydHkoXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvcilyZXR1cm5cIm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1hcEVudHJ5JiZlLmhhc093blByb3BlcnR5KFwibWFwRW50cnlcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5tYXBFbnRyeSlyZXR1cm5cIm1hcEVudHJ5OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSkpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259dmFyIG47aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkucmVzb3VyY2VcIikmJihuPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IudmVyaWZ5KGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXSkpKXJldHVyblwiLmdvb2dsZS5hcGkucmVzb3VyY2UuXCIrbjtyZXR1cm4gbnVsbH0say5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnM7aWYobnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmKHQubWVzc2FnZVNldFdpcmVGb3JtYXQ9Qm9vbGVhbihlLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KSksbnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiYodC5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPUJvb2xlYW4oZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKSksbnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksbnVsbCE9ZS5tYXBFbnRyeSYmKHQubWFwRW50cnk9Qm9vbGVhbihlLm1hcEVudHJ5KSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1pZihudWxsIT1lW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl0pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy4uZ29vZ2xlLmFwaS5yZXNvdXJjZTogb2JqZWN0IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXT1sLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLmZyb21PYmplY3QoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdKX1yZXR1cm4gdH0say50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4ubWVzc2FnZVNldFdpcmVGb3JtYXQ9ITEsbi5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPSExLG4uZGVwcmVjYXRlZD0hMSxuLm1hcEVudHJ5PSExLG5bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXT1udWxsKSxudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJihuLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PWUubWVzc2FnZVNldFdpcmVGb3JtYXQpLG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3JcIikmJihuLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksbnVsbCE9ZS5tYXBFbnRyeSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1hcEVudHJ5XCIpJiYobi5tYXBFbnRyeT1lLm1hcEVudHJ5KSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkucmVzb3VyY2VcIikmJihuW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl09bC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvci50b09iamVjdChlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl0sdCkpLG59LGsucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxrKSxuLkZpZWxkT3B0aW9ucz0oVC5wcm90b3R5cGUuY3R5cGU9MCxULnByb3RvdHlwZS5wYWNrZWQ9ITEsVC5wcm90b3R5cGUuanN0eXBlPTAsVC5wcm90b3R5cGUubGF6eT0hMSxULnByb3RvdHlwZS5kZXByZWNhdGVkPSExLFQucHJvdG90eXBlLndlYWs9ITEsVC5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksVC5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdPXAuZW1wdHlBcnJheSxULnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdPW51bGwsVC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBUKGUpfSxULmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmN0eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3R5cGVcIikmJnQudWludDMyKDgpLmludDMyKGUuY3R5cGUpLG51bGwhPWUucGFja2VkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFja2VkXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLnBhY2tlZCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmxhenkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsYXp5XCIpJiZ0LnVpbnQzMig0MCkuYm9vbChlLmxhenkpLG51bGwhPWUuanN0eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwianN0eXBlXCIpJiZ0LnVpbnQzMig0OCkuaW50MzIoZS5qc3R5cGUpLG51bGwhPWUud2VhayYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIndlYWtcIikmJnQudWludDMyKDgwKS5ib29sKGUud2VhayksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0mJmVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdLmxlbmd0aCl7dC51aW50MzIoODQxOCkuZm9yaygpO2ZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5sZW5ndGg7KytuKXQuaW50MzIoZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bbl0pO3QubGRlbGltKCl9cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCIpJiZsLmdvb2dsZS5hcGkuUmVzb3VyY2VSZWZlcmVuY2UuZW5jb2RlKGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXSx0LnVpbnQzMig4NDQyKS5mb3JrKCkpLmxkZWxpbSgpLHR9LFQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmN0eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDI6by5wYWNrZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA2Om8uanN0eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDU6by5sYXp5PWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAxMDpvLndlYWs9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwNTI6aWYob1tcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0mJm9bXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdLmxlbmd0aHx8KG9bXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdPVtdKSwyPT0oNyZyKSlmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAxMDU1Om9bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXT1sLmdvb2dsZS5hcGkuUmVzb3VyY2VSZWZlcmVuY2UuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxULmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxULnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmN0eXBlJiZlLmhhc093blByb3BlcnR5KFwiY3R5cGVcIikpc3dpdGNoKGUuY3R5cGUpe2RlZmF1bHQ6cmV0dXJuXCJjdHlwZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1pZihudWxsIT1lLnBhY2tlZCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2tlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnBhY2tlZClyZXR1cm5cInBhY2tlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuanN0eXBlJiZlLmhhc093blByb3BlcnR5KFwianN0eXBlXCIpKXN3aXRjaChlLmpzdHlwZSl7ZGVmYXVsdDpyZXR1cm5cImpzdHlwZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1pZihudWxsIT1lLmxhenkmJmUuaGFzT3duUHJvcGVydHkoXCJsYXp5XCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubGF6eSlyZXR1cm5cImxhenk6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLndlYWsmJmUuaGFzT3duUHJvcGVydHkoXCJ3ZWFrXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUud2VhaylyZXR1cm5cIndlYWs6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn1pZihudWxsIT1lW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIikpe2lmKCFBcnJheS5pc0FycmF5KGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdKSlyZXR1cm5cIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3I6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdLmxlbmd0aDsrK3Qpc3dpdGNoKGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW3RdKXtkZWZhdWx0OnJldHVyblwiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvcjogZW51bSB2YWx1ZVtdIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6fX12YXIgbjtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiKSYmKG49bC5nb29nbGUuYXBpLlJlc291cmNlUmVmZXJlbmNlLnZlcmlmeShlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl0pKSlyZXR1cm5cIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlLlwiK247cmV0dXJuIG51bGx9LFQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnM7c3dpdGNoKGUuY3R5cGUpe2Nhc2VcIlNUUklOR1wiOmNhc2UgMDp0LmN0eXBlPTA7YnJlYWs7Y2FzZVwiQ09SRFwiOmNhc2UgMTp0LmN0eXBlPTE7YnJlYWs7Y2FzZVwiU1RSSU5HX1BJRUNFXCI6Y2FzZSAyOnQuY3R5cGU9Mn1zd2l0Y2gobnVsbCE9ZS5wYWNrZWQmJih0LnBhY2tlZD1Cb29sZWFuKGUucGFja2VkKSksZS5qc3R5cGUpe2Nhc2VcIkpTX05PUk1BTFwiOmNhc2UgMDp0LmpzdHlwZT0wO2JyZWFrO2Nhc2VcIkpTX1NUUklOR1wiOmNhc2UgMTp0LmpzdHlwZT0xO2JyZWFrO2Nhc2VcIkpTX05VTUJFUlwiOmNhc2UgMjp0LmpzdHlwZT0yfWlmKG51bGwhPWUubGF6eSYmKHQubGF6eT1Cb29sZWFuKGUubGF6eSkpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUud2VhayYmKHQud2Vhaz1Cb29sZWFuKGUud2VhaykpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1pZihlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXSl7aWYoIUFycmF5LmlzQXJyYXkoZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3I6IGFycmF5IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdPVtdO2ZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5sZW5ndGg7KytuKXN3aXRjaChlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXVtuXSl7ZGVmYXVsdDpjYXNlXCJGSUVMRF9CRUhBVklPUl9VTlNQRUNJRklFRFwiOmNhc2UgMDp0W1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXVtuXT0wO2JyZWFrO2Nhc2VcIk9QVElPTkFMXCI6Y2FzZSAxOnRbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW25dPTE7YnJlYWs7Y2FzZVwiUkVRVUlSRURcIjpjYXNlIDI6dFtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bbl09MjticmVhaztjYXNlXCJPVVRQVVRfT05MWVwiOmNhc2UgMzp0W1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXVtuXT0zO2JyZWFrO2Nhc2VcIklOUFVUX09OTFlcIjpjYXNlIDQ6dFtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bbl09NDticmVhaztjYXNlXCJJTU1VVEFCTEVcIjpjYXNlIDU6dFtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bbl09NX19aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZVtcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlOiBvYmplY3QgZXhwZWN0ZWRcIik7dFtcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZVJlZmVyZW5jZS5mcm9tT2JqZWN0KGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXSl9cmV0dXJuIHR9LFQudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sbltcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl09W10pLHQuZGVmYXVsdHMmJihuLmN0eXBlPXQuZW51bXM9PT1TdHJpbmc/XCJTVFJJTkdcIjowLG4ucGFja2VkPSExLG4uZGVwcmVjYXRlZD0hMSxuLmxhenk9ITEsbi5qc3R5cGU9dC5lbnVtcz09PVN0cmluZz9cIkpTX05PUk1BTFwiOjAsbi53ZWFrPSExLG5bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXT1udWxsKSxudWxsIT1lLmN0eXBlJiZlLmhhc093blByb3BlcnR5KFwiY3R5cGVcIikmJihuLmN0eXBlPXQuZW51bXM9PT1TdHJpbmc/bC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkNUeXBlW2UuY3R5cGVdOmUuY3R5cGUpLG51bGwhPWUucGFja2VkJiZlLmhhc093blByb3BlcnR5KFwicGFja2VkXCIpJiYobi5wYWNrZWQ9ZS5wYWNrZWQpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxudWxsIT1lLmxhenkmJmUuaGFzT3duUHJvcGVydHkoXCJsYXp5XCIpJiYobi5sYXp5PWUubGF6eSksbnVsbCE9ZS5qc3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJqc3R5cGVcIikmJihuLmpzdHlwZT10LmVudW1zPT09U3RyaW5nP2wuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5KU1R5cGVbZS5qc3R5cGVdOmUuanN0eXBlKSxudWxsIT1lLndlYWsmJmUuaGFzT3duUHJvcGVydHkoXCJ3ZWFrXCIpJiYobi53ZWFrPWUud2VhayksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9aWYoZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0mJmVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdLmxlbmd0aCl7bltcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl09W107Zm9yKG89MDtvPGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdLmxlbmd0aDsrK28pbltcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bb109dC5lbnVtcz09PVN0cmluZz9sLmdvb2dsZS5hcGkuRmllbGRCZWhhdmlvcltlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXVtvXV06ZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bb119cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCIpJiYobltcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZVJlZmVyZW5jZS50b09iamVjdChlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl0sdCkpLG59LFQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxULkNUeXBlPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJTVFJJTkdcIl09MCx0W2VbMV09XCJDT1JEXCJdPTEsdFtlWzJdPVwiU1RSSU5HX1BJRUNFXCJdPTIsdCksVC5KU1R5cGU9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVswXT1cIkpTX05PUk1BTFwiXT0wLHRbZVsxXT1cIkpTX1NUUklOR1wiXT0xLHRbZVsyXT1cIkpTX05VTUJFUlwiXT0yLHQpLFQpLG4uT25lb2ZPcHRpb25zPShRLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXAuZW1wdHlBcnJheSxRLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFEoZSl9LFEuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxRLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxRLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTk5OT8oby51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxRLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxRLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxRLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zO2lmKGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sUS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LFEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxRKSxuLkVudW1PcHRpb25zPShFLnByb3RvdHlwZS5hbGxvd0FsaWFzPSExLEUucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsRS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksRS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBFKGUpfSxFLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmFsbG93QWxpYXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhbGxvd0FsaWFzXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLmFsbG93QWxpYXMpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAyOm8uYWxsb3dBbGlhcz1lLmJvb2woKTticmVhaztjYXNlIDM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxFLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxFLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFsbG93QWxpYXMmJmUuaGFzT3duUHJvcGVydHkoXCJhbGxvd0FsaWFzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuYWxsb3dBbGlhcylyZXR1cm5cImFsbG93QWxpYXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxFLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucztpZihudWxsIT1lLmFsbG93QWxpYXMmJih0LmFsbG93QWxpYXM9Qm9vbGVhbihlLmFsbG93QWxpYXMpKSxudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxFLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5hbGxvd0FsaWFzPSExLG4uZGVwcmVjYXRlZD0hMSksbnVsbCE9ZS5hbGxvd0FsaWFzJiZlLmhhc093blByb3BlcnR5KFwiYWxsb3dBbGlhc1wiKSYmKG4uYWxsb3dBbGlhcz1lLmFsbG93QWxpYXMpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sRS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEUpLG4uRW51bVZhbHVlT3B0aW9ucz0oSy5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxLLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXAuZW1wdHlBcnJheSxLLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEsoZSl9LEsuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDgpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sSy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sSy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEsuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEsudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LEsuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucztpZihudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sSy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uZGVwcmVjYXRlZD0hMSksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxLLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSyksbi5TZXJ2aWNlT3B0aW9ucz0oQS5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxBLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXAuZW1wdHlBcnJheSxBLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPVwiXCIsQS5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1cIlwiLEEuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQShlKX0sQS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjY0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCIpJiZ0LnVpbnQzMig4Mzk0KS5zdHJpbmcoZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKSxudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiKSYmdC51aW50MzIoODQwMikuc3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSksdH0sQS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sQS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDMzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTA0OTpvW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09ZS5zdHJpbmcoKTticmVhaztjYXNlIDEwNTA6b1tcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxBLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxBLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiKSYmIXAuaXNTdHJpbmcoZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKT9cIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0OiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiKSYmIXAuaXNTdHJpbmcoZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKT9cIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxBLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucztpZihudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJih0W1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09U3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSkpLG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmKHRbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1TdHJpbmcoZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKSksdH0sQS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uZGVwcmVjYXRlZD0hMSxuW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09XCJcIixuW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09XCJcIiksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiKSYmKG5bXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pLG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCIpJiYobltcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSksbn0sQS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEEpLG4uTWV0aG9kT3B0aW9ucz0oTi5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxOLnByb3RvdHlwZS5pZGVtcG90ZW5jeUxldmVsPTAsTi5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksTi5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdPW51bGwsTi5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09cC5lbXB0eUFycmF5LE4uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTihlKX0sTi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjY0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS5pZGVtcG90ZW5jeUxldmVsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaWRlbXBvdGVuY3lMZXZlbFwiKSYmdC51aW50MzIoMjcyKS5pbnQzMihlLmlkZW1wb3RlbmN5TGV2ZWwpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJmVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoKWZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aDsrK24pdC51aW50MzIoODQxMCkuc3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bbl0pO3JldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLmh0dHBcIikmJmwuZ29vZ2xlLmFwaS5IdHRwUnVsZS5lbmNvZGUoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0sdC51aW50MzIoNTc4MzY1ODI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LE4uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LE4uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDMzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDM0Om8uaWRlbXBvdGVuY3lMZXZlbD1lLmludDMyKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDcyMjk1NzI4Om9bXCIuZ29vZ2xlLmFwaS5odHRwXCJdPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDEwNTE6b1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSYmb1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGh8fChvW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdKSxvW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxOLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxOLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmlkZW1wb3RlbmN5TGV2ZWwmJmUuaGFzT3duUHJvcGVydHkoXCJpZGVtcG90ZW5jeUxldmVsXCIpKXN3aXRjaChlLmlkZW1wb3RlbmN5TGV2ZWwpe2RlZmF1bHQ6cmV0dXJuXCJpZGVtcG90ZW5jeUxldmVsOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6fWlmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufXZhciBuO2lmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkuaHR0cFwiKSYmKG49bC5nb29nbGUuYXBpLkh0dHBSdWxlLnZlcmlmeShlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSkpKXJldHVyblwiLmdvb2dsZS5hcGkuaHR0cC5cIituO2lmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIikpe2lmKCFBcnJheS5pc0FycmF5KGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0pKXJldHVyblwiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aDsrK3QpaWYoIXAuaXNTdHJpbmcoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVt0XSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmU6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LE4uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucztzd2l0Y2gobnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksZS5pZGVtcG90ZW5jeUxldmVsKXtjYXNlXCJJREVNUE9URU5DWV9VTktOT1dOXCI6Y2FzZSAwOnQuaWRlbXBvdGVuY3lMZXZlbD0wO2JyZWFrO2Nhc2VcIk5PX1NJREVfRUZGRUNUU1wiOmNhc2UgMTp0LmlkZW1wb3RlbmN5TGV2ZWw9MTticmVhaztjYXNlXCJJREVNUE9URU5UXCI6Y2FzZSAyOnQuaWRlbXBvdGVuY3lMZXZlbD0yfWlmKGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fWlmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLi5nb29nbGUuYXBpLmh0dHA6IG9iamVjdCBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZnJvbU9iamVjdChlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSl9aWYoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSl7aWYoIUFycmF5LmlzQXJyYXkoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZTogYXJyYXkgZXhwZWN0ZWRcIik7dFtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXTtmb3Iobj0wO248ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7KytuKXRbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bbl09U3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bbl0pfXJldHVybiB0fSxOLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdLG5bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W10pLHQuZGVmYXVsdHMmJihuLmRlcHJlY2F0ZWQ9ITEsbi5pZGVtcG90ZW5jeUxldmVsPXQuZW51bXM9PT1TdHJpbmc/XCJJREVNUE9URU5DWV9VTktOT1dOXCI6MCxuW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1udWxsKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksbnVsbCE9ZS5pZGVtcG90ZW5jeUxldmVsJiZlLmhhc093blByb3BlcnR5KFwiaWRlbXBvdGVuY3lMZXZlbFwiKSYmKG4uaWRlbXBvdGVuY3lMZXZlbD10LmVudW1zPT09U3RyaW5nP2wuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuSWRlbXBvdGVuY3lMZXZlbFtlLmlkZW1wb3RlbmN5TGV2ZWxdOmUuaWRlbXBvdGVuY3lMZXZlbCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9aWYoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSYmZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGgpe25bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W107Zm9yKG89MDtvPGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrbyluW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW29dPWVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bb119cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkuaHR0cFwiKSYmKG5bXCIuZ29vZ2xlLmFwaS5odHRwXCJdPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS50b09iamVjdChlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSx0KSksbn0sTi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LE4uSWRlbXBvdGVuY3lMZXZlbD0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzBdPVwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiXT0wLHRbZVsxXT1cIk5PX1NJREVfRUZGRUNUU1wiXT0xLHRbZVsyXT1cIklERU1QT1RFTlRcIl09Mix0KSxOKSxuLlVuaW50ZXJwcmV0ZWRPcHRpb249KFIucHJvdG90eXBlLm5hbWU9cC5lbXB0eUFycmF5LFIucHJvdG90eXBlLmlkZW50aWZpZXJWYWx1ZT1cIlwiLFIucHJvdG90eXBlLnBvc2l0aXZlSW50VmFsdWU9cC5Mb25nP3AuTG9uZy5mcm9tQml0cygwLDAsITApOjAsUi5wcm90b3R5cGUubmVnYXRpdmVJbnRWYWx1ZT1wLkxvbmc/cC5Mb25nLmZyb21CaXRzKDAsMCwhMSk6MCxSLnByb3RvdHlwZS5kb3VibGVWYWx1ZT0wLFIucHJvdG90eXBlLnN0cmluZ1ZhbHVlPXAubmV3QnVmZmVyKFtdKSxSLnByb3RvdHlwZS5hZ2dyZWdhdGVWYWx1ZT1cIlwiLFIuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUihlKX0sUi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZlLm5hbWUubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5uYW1lLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC5lbmNvZGUoZS5uYW1lW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlkZW50aWZpZXJWYWx1ZVwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLmlkZW50aWZpZXJWYWx1ZSksbnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicG9zaXRpdmVJbnRWYWx1ZVwiKSYmdC51aW50MzIoMzIpLnVpbnQ2NChlLnBvc2l0aXZlSW50VmFsdWUpLG51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5lZ2F0aXZlSW50VmFsdWVcIikmJnQudWludDMyKDQwKS5pbnQ2NChlLm5lZ2F0aXZlSW50VmFsdWUpLG51bGwhPWUuZG91YmxlVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkb3VibGVWYWx1ZVwiKSYmdC51aW50MzIoNDkpLmRvdWJsZShlLmRvdWJsZVZhbHVlKSxudWxsIT1lLnN0cmluZ1ZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RyaW5nVmFsdWVcIikmJnQudWludDMyKDU4KS5ieXRlcyhlLnN0cmluZ1ZhbHVlKSxudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYWdncmVnYXRlVmFsdWVcIikmJnQudWludDMyKDY2KS5zdHJpbmcoZS5hZ2dyZWdhdGVWYWx1ZSksdH0sUi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMjpvLm5hbWUmJm8ubmFtZS5sZW5ndGh8fChvLm5hbWU9W10pLG8ubmFtZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLmlkZW50aWZpZXJWYWx1ZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLnBvc2l0aXZlSW50VmFsdWU9ZS51aW50NjQoKTticmVhaztjYXNlIDU6by5uZWdhdGl2ZUludFZhbHVlPWUuaW50NjQoKTticmVhaztjYXNlIDY6by5kb3VibGVWYWx1ZT1lLmRvdWJsZSgpO2JyZWFrO2Nhc2UgNzpvLnN0cmluZ1ZhbHVlPWUuYnl0ZXMoKTticmVhaztjYXNlIDg6by5hZ2dyZWdhdGVWYWx1ZT1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sUi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLm5hbWUubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC52ZXJpZnkoZS5uYW1lW3RdKTtpZihuKXJldHVyblwibmFtZS5cIitufX1yZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJpZGVudGlmaWVyVmFsdWVcIikmJiFwLmlzU3RyaW5nKGUuaWRlbnRpZmllclZhbHVlKT9cImlkZW50aWZpZXJWYWx1ZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwicG9zaXRpdmVJbnRWYWx1ZVwiKSYmIShwLmlzSW50ZWdlcihlLnBvc2l0aXZlSW50VmFsdWUpfHxlLnBvc2l0aXZlSW50VmFsdWUmJnAuaXNJbnRlZ2VyKGUucG9zaXRpdmVJbnRWYWx1ZS5sb3cpJiZwLmlzSW50ZWdlcihlLnBvc2l0aXZlSW50VmFsdWUuaGlnaCkpP1wicG9zaXRpdmVJbnRWYWx1ZTogaW50ZWdlcnxMb25nIGV4cGVjdGVkXCI6bnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwibmVnYXRpdmVJbnRWYWx1ZVwiKSYmIShwLmlzSW50ZWdlcihlLm5lZ2F0aXZlSW50VmFsdWUpfHxlLm5lZ2F0aXZlSW50VmFsdWUmJnAuaXNJbnRlZ2VyKGUubmVnYXRpdmVJbnRWYWx1ZS5sb3cpJiZwLmlzSW50ZWdlcihlLm5lZ2F0aXZlSW50VmFsdWUuaGlnaCkpP1wibmVnYXRpdmVJbnRWYWx1ZTogaW50ZWdlcnxMb25nIGV4cGVjdGVkXCI6bnVsbCE9ZS5kb3VibGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRvdWJsZVZhbHVlXCIpJiZcIm51bWJlclwiIT10eXBlb2YgZS5kb3VibGVWYWx1ZT9cImRvdWJsZVZhbHVlOiBudW1iZXIgZXhwZWN0ZWRcIjpudWxsIT1lLnN0cmluZ1ZhbHVlJiZlLmhhc093blByb3BlcnR5KFwic3RyaW5nVmFsdWVcIikmJiEoZS5zdHJpbmdWYWx1ZSYmXCJudW1iZXJcIj09dHlwZW9mIGUuc3RyaW5nVmFsdWUubGVuZ3RofHxwLmlzU3RyaW5nKGUuc3RyaW5nVmFsdWUpKT9cInN0cmluZ1ZhbHVlOiBidWZmZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiYWdncmVnYXRlVmFsdWVcIikmJiFwLmlzU3RyaW5nKGUuYWdncmVnYXRlVmFsdWUpP1wiYWdncmVnYXRlVmFsdWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LFIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbilyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbjtpZihlLm5hbWUpe2lmKCFBcnJheS5pc0FycmF5KGUubmFtZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLm5hbWU6IGFycmF5IGV4cGVjdGVkXCIpO3QubmFtZT1bXTtmb3IodmFyIG49MDtuPGUubmFtZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5uYW1lW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5uYW1lOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5uYW1lW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQuZnJvbU9iamVjdChlLm5hbWVbbl0pfX1yZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJih0LmlkZW50aWZpZXJWYWx1ZT1TdHJpbmcoZS5pZGVudGlmaWVyVmFsdWUpKSxudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJihwLkxvbmc/KHQucG9zaXRpdmVJbnRWYWx1ZT1wLkxvbmcuZnJvbVZhbHVlKGUucG9zaXRpdmVJbnRWYWx1ZSkpLnVuc2lnbmVkPSEwOlwic3RyaW5nXCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWU/dC5wb3NpdGl2ZUludFZhbHVlPXBhcnNlSW50KGUucG9zaXRpdmVJbnRWYWx1ZSwxMCk6XCJudW1iZXJcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZT90LnBvc2l0aXZlSW50VmFsdWU9ZS5wb3NpdGl2ZUludFZhbHVlOlwib2JqZWN0XCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWUmJih0LnBvc2l0aXZlSW50VmFsdWU9bmV3IHAuTG9uZ0JpdHMoZS5wb3NpdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5wb3NpdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcighMCkpKSxudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJihwLkxvbmc/KHQubmVnYXRpdmVJbnRWYWx1ZT1wLkxvbmcuZnJvbVZhbHVlKGUubmVnYXRpdmVJbnRWYWx1ZSkpLnVuc2lnbmVkPSExOlwic3RyaW5nXCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWU/dC5uZWdhdGl2ZUludFZhbHVlPXBhcnNlSW50KGUubmVnYXRpdmVJbnRWYWx1ZSwxMCk6XCJudW1iZXJcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZT90Lm5lZ2F0aXZlSW50VmFsdWU9ZS5uZWdhdGl2ZUludFZhbHVlOlwib2JqZWN0XCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWUmJih0Lm5lZ2F0aXZlSW50VmFsdWU9bmV3IHAuTG9uZ0JpdHMoZS5uZWdhdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5uZWdhdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcigpKSksbnVsbCE9ZS5kb3VibGVWYWx1ZSYmKHQuZG91YmxlVmFsdWU9TnVtYmVyKGUuZG91YmxlVmFsdWUpKSxudWxsIT1lLnN0cmluZ1ZhbHVlJiYoXCJzdHJpbmdcIj09dHlwZW9mIGUuc3RyaW5nVmFsdWU/cC5iYXNlNjQuZGVjb2RlKGUuc3RyaW5nVmFsdWUsdC5zdHJpbmdWYWx1ZT1wLm5ld0J1ZmZlcihwLmJhc2U2NC5sZW5ndGgoZS5zdHJpbmdWYWx1ZSkpLDApOmUuc3RyaW5nVmFsdWUubGVuZ3RoJiYodC5zdHJpbmdWYWx1ZT1lLnN0cmluZ1ZhbHVlKSksbnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmKHQuYWdncmVnYXRlVmFsdWU9U3RyaW5nKGUuYWdncmVnYXRlVmFsdWUpKSx0fSxSLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG4sbz17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihvLm5hbWU9W10pLHQuZGVmYXVsdHMmJihvLmlkZW50aWZpZXJWYWx1ZT1cIlwiLHAuTG9uZz8obj1uZXcgcC5Mb25nKDAsMCwhMCksby5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/bi50b1N0cmluZygpOnQubG9uZ3M9PT1OdW1iZXI/bi50b051bWJlcigpOm4pOm8ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1wiMFwiOjAscC5Mb25nPyhuPW5ldyBwLkxvbmcoMCwwLCExKSxvLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9uLnRvU3RyaW5nKCk6dC5sb25ncz09PU51bWJlcj9uLnRvTnVtYmVyKCk6bik6by5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/XCIwXCI6MCxvLmRvdWJsZVZhbHVlPTAsdC5ieXRlcz09PVN0cmluZz9vLnN0cmluZ1ZhbHVlPVwiXCI6KG8uc3RyaW5nVmFsdWU9W10sdC5ieXRlcyE9PUFycmF5JiYoby5zdHJpbmdWYWx1ZT1wLm5ld0J1ZmZlcihvLnN0cmluZ1ZhbHVlKSkpLG8uYWdncmVnYXRlVmFsdWU9XCJcIiksZS5uYW1lJiZlLm5hbWUubGVuZ3RoKXtvLm5hbWU9W107Zm9yKHZhciByPTA7cjxlLm5hbWUubGVuZ3RoOysrcilvLm5hbWVbcl09bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC50b09iamVjdChlLm5hbWVbcl0sdCl9cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiaWRlbnRpZmllclZhbHVlXCIpJiYoby5pZGVudGlmaWVyVmFsdWU9ZS5pZGVudGlmaWVyVmFsdWUpLG51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc2l0aXZlSW50VmFsdWVcIikmJihcIm51bWJlclwiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlP28ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1N0cmluZyhlLnBvc2l0aXZlSW50VmFsdWUpOmUucG9zaXRpdmVJbnRWYWx1ZTpvLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9wLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5wb3NpdGl2ZUludFZhbHVlKTp0LmxvbmdzPT09TnVtYmVyP25ldyBwLkxvbmdCaXRzKGUucG9zaXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUucG9zaXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoITApOmUucG9zaXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwibmVnYXRpdmVJbnRWYWx1ZVwiKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWU/by5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGUubmVnYXRpdmVJbnRWYWx1ZSk6ZS5uZWdhdGl2ZUludFZhbHVlOm8ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP3AuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLm5lZ2F0aXZlSW50VmFsdWUpOnQubG9uZ3M9PT1OdW1iZXI/bmV3IHAuTG9uZ0JpdHMoZS5uZWdhdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5uZWdhdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcigpOmUubmVnYXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5kb3VibGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRvdWJsZVZhbHVlXCIpJiYoby5kb3VibGVWYWx1ZT10Lmpzb24mJiFpc0Zpbml0ZShlLmRvdWJsZVZhbHVlKT9TdHJpbmcoZS5kb3VibGVWYWx1ZSk6ZS5kb3VibGVWYWx1ZSksbnVsbCE9ZS5zdHJpbmdWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInN0cmluZ1ZhbHVlXCIpJiYoby5zdHJpbmdWYWx1ZT10LmJ5dGVzPT09U3RyaW5nP3AuYmFzZTY0LmVuY29kZShlLnN0cmluZ1ZhbHVlLDAsZS5zdHJpbmdWYWx1ZS5sZW5ndGgpOnQuYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnN0cmluZ1ZhbHVlKTplLnN0cmluZ1ZhbHVlKSxudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiYWdncmVnYXRlVmFsdWVcIikmJihvLmFnZ3JlZ2F0ZVZhbHVlPWUuYWdncmVnYXRlVmFsdWUpLG99LFIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxSLk5hbWVQYXJ0PShaLnByb3RvdHlwZS5uYW1lUGFydD1cIlwiLFoucHJvdG90eXBlLmlzRXh0ZW5zaW9uPSExLFouY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgWihlKX0sWi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHxpLmNyZWF0ZSgpKS51aW50MzIoMTApLnN0cmluZyhlLm5hbWVQYXJ0KSx0LnVpbnQzMigxNikuYm9vbChlLmlzRXh0ZW5zaW9uKSx0fSxaLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxaLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZVBhcnQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5pc0V4dGVuc2lvbj1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19aWYoIW8uaGFzT3duUHJvcGVydHkoXCJuYW1lUGFydFwiKSl0aHJvdyBwLlByb3RvY29sRXJyb3IoXCJtaXNzaW5nIHJlcXVpcmVkICduYW1lUGFydCdcIix7aW5zdGFuY2U6b30pO2lmKG8uaGFzT3duUHJvcGVydHkoXCJpc0V4dGVuc2lvblwiKSlyZXR1cm4gbzt0aHJvdyBwLlByb3RvY29sRXJyb3IoXCJtaXNzaW5nIHJlcXVpcmVkICdpc0V4dGVuc2lvbidcIix7aW5zdGFuY2U6b30pfSxaLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxaLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpwLmlzU3RyaW5nKGUubmFtZVBhcnQpP1wiYm9vbGVhblwiIT10eXBlb2YgZS5pc0V4dGVuc2lvbj9cImlzRXh0ZW5zaW9uOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbDpcIm5hbWVQYXJ0OiBzdHJpbmcgZXhwZWN0ZWRcIn0sWi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydD9lOih0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LG51bGwhPWUubmFtZVBhcnQmJih0Lm5hbWVQYXJ0PVN0cmluZyhlLm5hbWVQYXJ0KSksbnVsbCE9ZS5pc0V4dGVuc2lvbiYmKHQuaXNFeHRlbnNpb249Qm9vbGVhbihlLmlzRXh0ZW5zaW9uKSksdCl9LFoudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWVQYXJ0PVwiXCIsbi5pc0V4dGVuc2lvbj0hMSksbnVsbCE9ZS5uYW1lUGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVQYXJ0XCIpJiYobi5uYW1lUGFydD1lLm5hbWVQYXJ0KSxudWxsIT1lLmlzRXh0ZW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiaXNFeHRlbnNpb25cIikmJihuLmlzRXh0ZW5zaW9uPWUuaXNFeHRlbnNpb24pLG59LFoucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxaKSxSKSxuLlNvdXJjZUNvZGVJbmZvPSgkLnByb3RvdHlwZS5sb2NhdGlvbj1wLmVtcHR5QXJyYXksJC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyAkKGUpfSwkLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUubG9jYXRpb24ubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5lbmNvZGUoZS5sb2NhdGlvbltuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sJC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sJC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/KG8ubG9jYXRpb24mJm8ubG9jYXRpb24ubGVuZ3RofHwoby5sb2NhdGlvbj1bXSksby5sb2NhdGlvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSwkLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSwkLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxvY2F0aW9uJiZlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUubG9jYXRpb24pKXJldHVyblwibG9jYXRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmxvY2F0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnZlcmlmeShlLmxvY2F0aW9uW3RdKTtpZihuKXJldHVyblwibG9jYXRpb24uXCIrbn19cmV0dXJuIG51bGx9LCQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvO2lmKGUubG9jYXRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUubG9jYXRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8ubG9jYXRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QubG9jYXRpb249W107Zm9yKHZhciBuPTA7bjxlLmxvY2F0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmxvY2F0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8ubG9jYXRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmxvY2F0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmZyb21PYmplY3QoZS5sb2NhdGlvbltuXSl9fXJldHVybiB0fSwkLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5sb2NhdGlvbj1bXSksZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5sZW5ndGgpe24ubG9jYXRpb249W107Zm9yKHZhciBvPTA7bzxlLmxvY2F0aW9uLmxlbmd0aDsrK28pbi5sb2NhdGlvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi50b09iamVjdChlLmxvY2F0aW9uW29dLHQpfXJldHVybiBufSwkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sJC5Mb2NhdGlvbj0oSS5wcm90b3R5cGUucGF0aD1wLmVtcHR5QXJyYXksSS5wcm90b3R5cGUuc3Bhbj1wLmVtcHR5QXJyYXksSS5wcm90b3R5cGUubGVhZGluZ0NvbW1lbnRzPVwiXCIsSS5wcm90b3R5cGUudHJhaWxpbmdDb21tZW50cz1cIlwiLEkucHJvdG90eXBlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPXAuZW1wdHlBcnJheSxJLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEkoZSl9LEkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucGF0aCYmZS5wYXRoLmxlbmd0aCl7dC51aW50MzIoMTApLmZvcmsoKTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQuaW50MzIoZS5wYXRoW25dKTt0LmxkZWxpbSgpfWlmKG51bGwhPWUuc3BhbiYmZS5zcGFuLmxlbmd0aCl7dC51aW50MzIoMTgpLmZvcmsoKTtmb3Iobj0wO248ZS5zcGFuLmxlbmd0aDsrK24pdC5pbnQzMihlLnNwYW5bbl0pO3QubGRlbGltKCl9aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsZWFkaW5nQ29tbWVudHNcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5sZWFkaW5nQ29tbWVudHMpLG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRyYWlsaW5nQ29tbWVudHNcIikmJnQudWludDMyKDM0KS5zdHJpbmcoZS50cmFpbGluZ0NvbW1lbnRzKSxudWxsIT1lLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aClmb3Iobj0wO248ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7KytuKXQudWludDMyKDUwKS5zdHJpbmcoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tuXSk7cmV0dXJuIHR9LEkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOmlmKG8ucGF0aCYmby5wYXRoLmxlbmd0aHx8KG8ucGF0aD1bXSksMj09KDcmcikpZm9yKHZhciBpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5wYXRoLnB1c2goZS5pbnQzMigpKTtlbHNlIG8ucGF0aC5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAyOmlmKG8uc3BhbiYmby5zcGFuLmxlbmd0aHx8KG8uc3Bhbj1bXSksMj09KDcmcikpZm9yKGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnNwYW4ucHVzaChlLmludDMyKCkpO2Vsc2Ugby5zcGFuLnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDM6by5sZWFkaW5nQ29tbWVudHM9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by50cmFpbGluZ0NvbW1lbnRzPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA2Om8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJm8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RofHwoby5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXSksby5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sSS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sSS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSlyZXR1cm5cInBhdGg6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnBhdGgubGVuZ3RoOysrdClpZighcC5pc0ludGVnZXIoZS5wYXRoW3RdKSlyZXR1cm5cInBhdGg6IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUuc3BhbiYmZS5oYXNPd25Qcm9wZXJ0eShcInNwYW5cIikpe2lmKCFBcnJheS5pc0FycmF5KGUuc3BhbikpcmV0dXJuXCJzcGFuOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnNwYW4ubGVuZ3RoOysrdClpZighcC5pc0ludGVnZXIoZS5zcGFuW3RdKSlyZXR1cm5cInNwYW46IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwibGVhZGluZ0NvbW1lbnRzXCIpJiYhcC5pc1N0cmluZyhlLmxlYWRpbmdDb21tZW50cykpcmV0dXJuXCJsZWFkaW5nQ29tbWVudHM6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcInRyYWlsaW5nQ29tbWVudHNcIikmJiFwLmlzU3RyaW5nKGUudHJhaWxpbmdDb21tZW50cykpcmV0dXJuXCJ0cmFpbGluZ0NvbW1lbnRzOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwibGVhZGluZ0RldGFjaGVkQ29tbWVudHNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMpKXJldHVyblwibGVhZGluZ0RldGFjaGVkQ29tbWVudHM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrdClpZighcC5pc1N0cmluZyhlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW3RdKSlyZXR1cm5cImxlYWRpbmdEZXRhY2hlZENvbW1lbnRzOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSxJLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbjtpZihlLnBhdGgpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5wYXRoOiBhcnJheSBleHBlY3RlZFwiKTt0LnBhdGg9W107Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LnBhdGhbbl09MHxlLnBhdGhbbl19aWYoZS5zcGFuKXtpZighQXJyYXkuaXNBcnJheShlLnNwYW4pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uc3BhbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5zcGFuPVtdO2ZvcihuPTA7bjxlLnNwYW4ubGVuZ3RoOysrbil0LnNwYW5bbl09MHxlLnNwYW5bbl19aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJih0LmxlYWRpbmdDb21tZW50cz1TdHJpbmcoZS5sZWFkaW5nQ29tbWVudHMpKSxudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJih0LnRyYWlsaW5nQ29tbWVudHM9U3RyaW5nKGUudHJhaWxpbmdDb21tZW50cykpLGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMpe2lmKCFBcnJheS5pc0FycmF5KGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM6IGFycmF5IGV4cGVjdGVkXCIpO3QubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W107Zm9yKG49MDtuPGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrbil0LmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW25dPVN0cmluZyhlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW25dKX1yZXR1cm4gdH0sSS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucGF0aD1bXSxuLnNwYW49W10sbi5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXSksdC5kZWZhdWx0cyYmKG4ubGVhZGluZ0NvbW1lbnRzPVwiXCIsbi50cmFpbGluZ0NvbW1lbnRzPVwiXCIpLGUucGF0aCYmZS5wYXRoLmxlbmd0aCl7bi5wYXRoPVtdO2Zvcih2YXIgbz0wO288ZS5wYXRoLmxlbmd0aDsrK28pbi5wYXRoW29dPWUucGF0aFtvXX1pZihlLnNwYW4mJmUuc3Bhbi5sZW5ndGgpe24uc3Bhbj1bXTtmb3Iobz0wO288ZS5zcGFuLmxlbmd0aDsrK28pbi5zcGFuW29dPWUuc3BhbltvXX1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcImxlYWRpbmdDb21tZW50c1wiKSYmKG4ubGVhZGluZ0NvbW1lbnRzPWUubGVhZGluZ0NvbW1lbnRzKSxudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJ0cmFpbGluZ0NvbW1lbnRzXCIpJiYobi50cmFpbGluZ0NvbW1lbnRzPWUudHJhaWxpbmdDb21tZW50cyksZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGgpe24ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W107Zm9yKG89MDtvPGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrbyluLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW29dPWUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbb119cmV0dXJuIG59LEkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxJKSwkKSxuLkdlbmVyYXRlZENvZGVJbmZvPShlZS5wcm90b3R5cGUuYW5ub3RhdGlvbj1wLmVtcHR5QXJyYXksZWUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZWUoZSl9LGVlLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmFubm90YXRpb24mJmUuYW5ub3RhdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmFubm90YXRpb24ubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLmVuY29kZShlLmFubm90YXRpb25bbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGVlLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxlZS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/KG8uYW5ub3RhdGlvbiYmby5hbm5vdGF0aW9uLmxlbmd0aHx8KG8uYW5ub3RhdGlvbj1bXSksby5hbm5vdGF0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sZWUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGVlLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFubm90YXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJhbm5vdGF0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmFubm90YXRpb24pKXJldHVyblwiYW5ub3RhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuYW5ub3RhdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnZlcmlmeShlLmFubm90YXRpb25bdF0pO2lmKG4pcmV0dXJuXCJhbm5vdGF0aW9uLlwiK259fXJldHVybiBudWxsfSxlZS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mbylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm87aWYoZS5hbm5vdGF0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLmFubm90YXRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uYW5ub3RhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5hbm5vdGF0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmFubm90YXRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5hbm5vdGF0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbm5vdGF0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uZnJvbU9iamVjdChlLmFubm90YXRpb25bbl0pfX1yZXR1cm4gdH0sZWUudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmFubm90YXRpb249W10pLGUuYW5ub3RhdGlvbiYmZS5hbm5vdGF0aW9uLmxlbmd0aCl7bi5hbm5vdGF0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK28pbi5hbm5vdGF0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24udG9PYmplY3QoZS5hbm5vdGF0aW9uW29dLHQpfXJldHVybiBufSxlZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGVlLkFubm90YXRpb249KEMucHJvdG90eXBlLnBhdGg9cC5lbXB0eUFycmF5LEMucHJvdG90eXBlLnNvdXJjZUZpbGU9XCJcIixDLnByb3RvdHlwZS5iZWdpbj0wLEMucHJvdG90eXBlLmVuZD0wLEMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQyhlKX0sQy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXt0LnVpbnQzMigxMCkuZm9yaygpO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5pbnQzMihlLnBhdGhbbl0pO3QubGRlbGltKCl9cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNvdXJjZUZpbGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5zb3VyY2VGaWxlKSxudWxsIT1lLmJlZ2luJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYmVnaW5cIikmJnQudWludDMyKDI0KS5pbnQzMihlLmJlZ2luKSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMzIpLmludDMyKGUuZW5kKSx0fSxDLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxDLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOmlmKG8ucGF0aCYmby5wYXRoLmxlbmd0aHx8KG8ucGF0aD1bXSksMj09KDcmcikpZm9yKHZhciBpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5wYXRoLnB1c2goZS5pbnQzMigpKTtlbHNlIG8ucGF0aC5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8uc291cmNlRmlsZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLmJlZ2luPWUuaW50MzIoKTticmVhaztjYXNlIDQ6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sQy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sQy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSlyZXR1cm5cInBhdGg6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnBhdGgubGVuZ3RoOysrdClpZighcC5pc0ludGVnZXIoZS5wYXRoW3RdKSlyZXR1cm5cInBhdGg6IGludGVnZXJbXSBleHBlY3RlZFwifXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VGaWxlXCIpJiYhcC5pc1N0cmluZyhlLnNvdXJjZUZpbGUpP1wic291cmNlRmlsZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5iZWdpbiYmZS5oYXNPd25Qcm9wZXJ0eShcImJlZ2luXCIpJiYhcC5pc0ludGVnZXIoZS5iZWdpbik/XCJiZWdpbjogaW50ZWdlciBleHBlY3RlZFwiOm51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhcC5pc0ludGVnZXIoZS5lbmQpP1wiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbH0sQy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uO2lmKGUucGF0aCl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24ucGF0aDogYXJyYXkgZXhwZWN0ZWRcIik7dC5wYXRoPVtdO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5wYXRoW25dPTB8ZS5wYXRoW25dfXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJih0LnNvdXJjZUZpbGU9U3RyaW5nKGUuc291cmNlRmlsZSkpLG51bGwhPWUuYmVnaW4mJih0LmJlZ2luPTB8ZS5iZWdpbiksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSx0fSxDLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5wYXRoPVtdKSx0LmRlZmF1bHRzJiYobi5zb3VyY2VGaWxlPVwiXCIsbi5iZWdpbj0wLG4uZW5kPTApLGUucGF0aCYmZS5wYXRoLmxlbmd0aCl7bi5wYXRoPVtdO2Zvcih2YXIgbz0wO288ZS5wYXRoLmxlbmd0aDsrK28pbi5wYXRoW29dPWUucGF0aFtvXX1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiZlLmhhc093blByb3BlcnR5KFwic291cmNlRmlsZVwiKSYmKG4uc291cmNlRmlsZT1lLnNvdXJjZUZpbGUpLG51bGwhPWUuYmVnaW4mJmUuaGFzT3duUHJvcGVydHkoXCJiZWdpblwiKSYmKG4uYmVnaW49ZS5iZWdpbiksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbn0sQy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEMpLGVlKSxuKSxGLnR5cGU9KChyPXt9KS5FeHByPShWLnByb3RvdHlwZS5leHByZXNzaW9uPVwiXCIsVi5wcm90b3R5cGUudGl0bGU9XCJcIixWLnByb3RvdHlwZS5kZXNjcmlwdGlvbj1cIlwiLFYucHJvdG90eXBlLmxvY2F0aW9uPVwiXCIsVi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBWKGUpfSxWLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5leHByZXNzaW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXhwcmVzc2lvblwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLmV4cHJlc3Npb24pLG51bGwhPWUudGl0bGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0aXRsZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnRpdGxlKSxudWxsIT1lLmRlc2NyaXB0aW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVzY3JpcHRpb25cIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5kZXNjcmlwdGlvbiksbnVsbCE9ZS5sb2NhdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImxvY2F0aW9uXCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUubG9jYXRpb24pLHR9LFYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnR5cGUuRXhwcjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmV4cHJlc3Npb249ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by50aXRsZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLmRlc2NyaXB0aW9uPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ubG9jYXRpb249ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFYuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFYudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUuZXhwcmVzc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImV4cHJlc3Npb25cIikmJiFwLmlzU3RyaW5nKGUuZXhwcmVzc2lvbik/XCJleHByZXNzaW9uOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnRpdGxlJiZlLmhhc093blByb3BlcnR5KFwidGl0bGVcIikmJiFwLmlzU3RyaW5nKGUudGl0bGUpP1widGl0bGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUuZGVzY3JpcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSYmIXAuaXNTdHJpbmcoZS5kZXNjcmlwdGlvbik/XCJkZXNjcmlwdGlvbjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5sb2NhdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpJiYhcC5pc1N0cmluZyhlLmxvY2F0aW9uKT9cImxvY2F0aW9uOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxWLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBsLmdvb2dsZS50eXBlLkV4cHI/ZToodD1uZXcgbC5nb29nbGUudHlwZS5FeHByLG51bGwhPWUuZXhwcmVzc2lvbiYmKHQuZXhwcmVzc2lvbj1TdHJpbmcoZS5leHByZXNzaW9uKSksbnVsbCE9ZS50aXRsZSYmKHQudGl0bGU9U3RyaW5nKGUudGl0bGUpKSxudWxsIT1lLmRlc2NyaXB0aW9uJiYodC5kZXNjcmlwdGlvbj1TdHJpbmcoZS5kZXNjcmlwdGlvbikpLG51bGwhPWUubG9jYXRpb24mJih0LmxvY2F0aW9uPVN0cmluZyhlLmxvY2F0aW9uKSksdCl9LFYudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLmV4cHJlc3Npb249XCJcIixuLnRpdGxlPVwiXCIsbi5kZXNjcmlwdGlvbj1cIlwiLG4ubG9jYXRpb249XCJcIiksbnVsbCE9ZS5leHByZXNzaW9uJiZlLmhhc093blByb3BlcnR5KFwiZXhwcmVzc2lvblwiKSYmKG4uZXhwcmVzc2lvbj1lLmV4cHJlc3Npb24pLG51bGwhPWUudGl0bGUmJmUuaGFzT3duUHJvcGVydHkoXCJ0aXRsZVwiKSYmKG4udGl0bGU9ZS50aXRsZSksbnVsbCE9ZS5kZXNjcmlwdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpJiYobi5kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uKSxudWxsIT1lLmxvY2F0aW9uJiZlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikmJihuLmxvY2F0aW9uPWUubG9jYXRpb24pLG59LFYucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxWKSxyKSxGKSxsfSk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/protos/iam_service.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/protos/iam_service.json":
/*!***************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/iam_service.json ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"iam":{"nested":{"v1":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.Cloud.Iam.V1","go_package":"google.golang.org/genproto/googleapis/iam/v1;iam","java_multiple_files":true,"java_outer_classname":"PolicyProto","java_package":"com.google.iam.v1","php_namespace":"Google\\\\Cloud\\\\Iam\\\\V1"},"nested":{"IAMPolicy":{"options":{"(google.api.default_host)":"iam-meta-api.googleapis.com"},"methods":{"SetIamPolicy":{"requestType":"SetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:setIamPolicy","body":"*"}}]},"GetIamPolicy":{"requestType":"GetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:getIamPolicy","body":"*"}}]},"TestIamPermissions":{"requestType":"TestIamPermissionsRequest","responseType":"TestIamPermissionsResponse","options":{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:testIamPermissions","body":"*"}}]}}},"SetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"policy":{"type":"Policy","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"options":{"type":"GetPolicyOptions","id":2}}},"TestIamPermissionsRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"permissions":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"TestIamPermissionsResponse":{"fields":{"permissions":{"rule":"repeated","type":"string","id":1}}},"GetPolicyOptions":{"fields":{"requestedPolicyVersion":{"type":"int32","id":1}}},"Policy":{"fields":{"version":{"type":"int32","id":1},"bindings":{"rule":"repeated","type":"Binding","id":4},"etag":{"type":"bytes","id":3}}},"Binding":{"fields":{"role":{"type":"string","id":1},"members":{"rule":"repeated","type":"string","id":2},"condition":{"type":"google.type.Expr","id":3}}},"PolicyDelta":{"fields":{"bindingDeltas":{"rule":"repeated","type":"BindingDelta","id":1},"auditConfigDeltas":{"rule":"repeated","type":"AuditConfigDelta","id":2}}},"BindingDelta":{"fields":{"action":{"type":"Action","id":1},"role":{"type":"string","id":2},"member":{"type":"string","id":3},"condition":{"type":"google.type.Expr","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"AuditConfigDelta":{"fields":{"action":{"type":"Action","id":1},"service":{"type":"string","id":2},"exemptedMember":{"type":"string","id":3},"logType":{"type":"string","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"logging":{"options":{"csharp_namespace":"Google.Cloud.Iam.V1.Logging","go_package":"google.golang.org/genproto/googleapis/iam/v1/logging;logging","java_multiple_files":true,"java_outer_classname":"AuditDataProto","java_package":"com.google.iam.v1.logging"},"nested":{"AuditData":{"fields":{"policyDelta":{"type":"google.iam.v1.PolicyDelta","id":2}}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions"},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/expr;expr","java_multiple_files":true,"java_outer_classname":"ExprProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"Expr":{"fields":{"expression":{"type":"string","id":1},"title":{"type":"string","id":2},"description":{"type":"string","id":3},"location":{"type":"string","id":4}}}}}}}}}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/protos/locations.js":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/protos/locations.js ***!
  \***********************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(e=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! protobufjs/minimal */ \"(action-browser)/./node_modules/protobufjs/minimal.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(function(o){var e,t,n,F,s=o.Reader,r=o.Writer,u=o.util,c=o.roots.locations_protos||(o.roots.locations_protos={});function L(e,t,n){o.rpc.Service.call(this,e,t,n)}function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function a(e){if(this.locations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function G(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function p(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function l(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function B(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function O(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function x(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function S(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function k(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function D(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function M(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function A(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function N(e){if(this.uninterpretedOption=[],this[\".google.api.methodSignature\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function I(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function R(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function C(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function J(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return c.google=((F={}).cloud=((n={}).location=((e={}).Locations=(((L.prototype=Object.create(o.rpc.Service.prototype)).constructor=L).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(L.prototype.listLocations=function e(t,n){return this.rpcCall(e,c.google.cloud.location.ListLocationsRequest,c.google.cloud.location.ListLocationsResponse,t,n)},\"name\",{value:\"ListLocations\"}),Object.defineProperty(L.prototype.getLocation=function e(t,n){return this.rpcCall(e,c.google.cloud.location.GetLocationRequest,c.google.cloud.location.Location,t,n)},\"name\",{value:\"GetLocation\"}),L),e.ListLocationsRequest=(i.prototype.name=\"\",i.prototype.filter=\"\",i.prototype.pageSize=0,i.prototype.pageToken=\"\",i.create=function(e){return new i(e)},i.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.filter&&Object.hasOwnProperty.call(e,\"filter\")&&t.uint32(18).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,\"pageSize\")&&t.uint32(24).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,\"pageToken\")&&t.uint32(34).string(e.pageToken),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.ListLocationsRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.filter=e.string();break;case 3:o.pageSize=e.int32();break;case 4:o.pageToken=e.string();break;default:e.skipType(7&r)}}return o},i.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},i.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name)?\"name: string expected\":null!=e.filter&&e.hasOwnProperty(\"filter\")&&!u.isString(e.filter)?\"filter: string expected\":null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&!u.isInteger(e.pageSize)?\"pageSize: integer expected\":null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&!u.isString(e.pageToken)?\"pageToken: string expected\":null},i.fromObject=function(e){var t;return e instanceof c.google.cloud.location.ListLocationsRequest?e:(t=new c.google.cloud.location.ListLocationsRequest,null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t)},i.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.filter=\"\",n.pageSize=0,n.pageToken=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.filter&&e.hasOwnProperty(\"filter\")&&(n.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&(n.pageToken=e.pageToken),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},i),e.ListLocationsResponse=(a.prototype.locations=u.emptyArray,a.prototype.nextPageToken=\"\",a.create=function(e){return new a(e)},a.encode=function(e,t){if(t=t||r.create(),null!=e.locations&&e.locations.length)for(var n=0;n<e.locations.length;++n)c.google.cloud.location.Location.encode(e.locations[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,\"nextPageToken\")&&t.uint32(18).string(e.nextPageToken),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.ListLocationsResponse;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.locations&&o.locations.length||(o.locations=[]),o.locations.push(c.google.cloud.location.Location.decode(e,e.uint32()));break;case 2:o.nextPageToken=e.string();break;default:e.skipType(7&r)}}return o},a.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},a.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.locations&&e.hasOwnProperty(\"locations\")){if(!Array.isArray(e.locations))return\"locations: array expected\";for(var t=0;t<e.locations.length;++t){var n=c.google.cloud.location.Location.verify(e.locations[t]);if(n)return\"locations.\"+n}}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&!u.isString(e.nextPageToken)?\"nextPageToken: string expected\":null},a.fromObject=function(e){if(e instanceof c.google.cloud.location.ListLocationsResponse)return e;var t=new c.google.cloud.location.ListLocationsResponse;if(e.locations){if(!Array.isArray(e.locations))throw TypeError(\".google.cloud.location.ListLocationsResponse.locations: array expected\");t.locations=[];for(var n=0;n<e.locations.length;++n){if(\"object\"!=typeof e.locations[n])throw TypeError(\".google.cloud.location.ListLocationsResponse.locations: object expected\");t.locations[n]=c.google.cloud.location.Location.fromObject(e.locations[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},a.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.locations=[]),t.defaults&&(n.nextPageToken=\"\"),e.locations&&e.locations.length){n.locations=[];for(var o=0;o<e.locations.length;++o)n.locations[o]=c.google.cloud.location.Location.toObject(e.locations[o],t)}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&(n.nextPageToken=e.nextPageToken),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a),e.GetLocationRequest=(G.prototype.name=\"\",G.create=function(e){return new G(e)},G.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},G.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},G.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.GetLocationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},G.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},G.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name)?\"name: string expected\":null},G.fromObject=function(e){var t;return e instanceof c.google.cloud.location.GetLocationRequest?e:(t=new c.google.cloud.location.GetLocationRequest,null!=e.name&&(t.name=String(e.name)),t)},G.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},G.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},G),e.Location=(p.prototype.name=\"\",p.prototype.locationId=\"\",p.prototype.displayName=\"\",p.prototype.labels=u.emptyObject,p.prototype.metadata=null,p.create=function(e){return new p(e)},p.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.labels&&Object.hasOwnProperty.call(e,\"labels\"))for(var n=Object.keys(e.labels),o=0;o<n.length;++o)t.uint32(18).fork().uint32(10).string(n[o]).uint32(18).string(e.labels[n[o]]).ldelim();return null!=e.metadata&&Object.hasOwnProperty.call(e,\"metadata\")&&c.google.protobuf.Any.encode(e.metadata,t.uint32(26).fork()).ldelim(),null!=e.locationId&&Object.hasOwnProperty.call(e,\"locationId\")&&t.uint32(34).string(e.locationId),null!=e.displayName&&Object.hasOwnProperty.call(e,\"displayName\")&&t.uint32(42).string(e.displayName),t},p.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},p.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 4:o.locationId=e.string();break;case 5:o.displayName=e.string();break;case 2:o.labels===u.emptyObject&&(o.labels={});for(var i=e.uint32()+e.pos,a=\"\",p=\"\";e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:a=e.string();break;case 2:p=e.string();break;default:e.skipType(7&l)}}o.labels[a]=p;break;case 3:o.metadata=c.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},p.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},p.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.locationId&&e.hasOwnProperty(\"locationId\")&&!u.isString(e.locationId))return\"locationId: string expected\";if(null!=e.displayName&&e.hasOwnProperty(\"displayName\")&&!u.isString(e.displayName))return\"displayName: string expected\";if(null!=e.labels&&e.hasOwnProperty(\"labels\")){if(!u.isObject(e.labels))return\"labels: object expected\";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return\"labels: string{k:string} expected\"}if(null!=e.metadata&&e.hasOwnProperty(\"metadata\")){var o=c.google.protobuf.Any.verify(e.metadata);if(o)return\"metadata.\"+o}return null},p.fromObject=function(e){if(e instanceof c.google.cloud.location.Location)return e;var t=new c.google.cloud.location.Location;if(null!=e.name&&(t.name=String(e.name)),null!=e.locationId&&(t.locationId=String(e.locationId)),null!=e.displayName&&(t.displayName=String(e.displayName)),e.labels){if(\"object\"!=typeof e.labels)throw TypeError(\".google.cloud.location.Location.labels: object expected\");t.labels={};for(var n=Object.keys(e.labels),o=0;o<n.length;++o)t.labels[n[o]]=String(e.labels[n[o]])}if(null!=e.metadata){if(\"object\"!=typeof e.metadata)throw TypeError(\".google.cloud.location.Location.metadata: object expected\");t.metadata=c.google.protobuf.Any.fromObject(e.metadata)}return t},p.toObject=function(e,t){var n,o={};if(((t=t||{}).objects||t.defaults)&&(o.labels={}),t.defaults&&(o.name=\"\",o.metadata=null,o.locationId=\"\",o.displayName=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(o.name=e.name),e.labels&&(n=Object.keys(e.labels)).length){o.labels={};for(var r=0;r<n.length;++r)o.labels[n[r]]=e.labels[n[r]]}return null!=e.metadata&&e.hasOwnProperty(\"metadata\")&&(o.metadata=c.google.protobuf.Any.toObject(e.metadata,t)),null!=e.locationId&&e.hasOwnProperty(\"locationId\")&&(o.locationId=e.locationId),null!=e.displayName&&e.hasOwnProperty(\"displayName\")&&(o.displayName=e.displayName),o},p.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},p),e),n),F.api=((e={}).Http=(l.prototype.rules=u.emptyArray,l.prototype.fullyDecodeReservedExpansion=!1,l.create=function(e){return new l(e)},l.encode=function(e,t){if(t=t||r.create(),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)c.google.api.HttpRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,\"fullyDecodeReservedExpansion\")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.api.Http;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.rules&&o.rules.length||(o.rules=[]),o.rules.push(c.google.api.HttpRule.decode(e,e.uint32()));break;case 2:o.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&r)}}return o},l.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},l.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.rules&&e.hasOwnProperty(\"rules\")){if(!Array.isArray(e.rules))return\"rules: array expected\";for(var t=0;t<e.rules.length;++t){var n=c.google.api.HttpRule.verify(e.rules[t]);if(n)return\"rules.\"+n}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&\"boolean\"!=typeof e.fullyDecodeReservedExpansion?\"fullyDecodeReservedExpansion: boolean expected\":null},l.fromObject=function(e){if(e instanceof c.google.api.Http)return e;var t=new c.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(\".google.api.Http.rules: array expected\");t.rules=[];for(var n=0;n<e.rules.length;++n){if(\"object\"!=typeof e.rules[n])throw TypeError(\".google.api.Http.rules: object expected\");t.rules[n]=c.google.api.HttpRule.fromObject(e.rules[n])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},l.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){n.rules=[];for(var o=0;o<e.rules.length;++o)n.rules[o]=c.google.api.HttpRule.toObject(e.rules[o],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&(n.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},l),e.HttpRule=(d.prototype.selector=\"\",d.prototype.get=null,d.prototype.put=null,d.prototype.post=null,d.prototype.delete=null,d.prototype.patch=null,d.prototype.custom=null,d.prototype.body=\"\",d.prototype.responseBody=\"\",d.prototype.additionalBindings=u.emptyArray,Object.defineProperty(d.prototype,\"pattern\",{get:u.oneOfGetter(n=[\"get\",\"put\",\"post\",\"delete\",\"patch\",\"custom\"]),set:u.oneOfSetter(n)}),d.create=function(e){return new d(e)},d.encode=function(e,t){if(t=t||r.create(),null!=e.selector&&Object.hasOwnProperty.call(e,\"selector\")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,\"get\")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,\"put\")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,\"post\")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,\"delete\")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,\"patch\")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,\"body\")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,\"custom\")&&c.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var n=0;n<e.additionalBindings.length;++n)c.google.api.HttpRule.encode(e.additionalBindings[n],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,\"responseBody\")&&t.uint32(98).string(e.responseBody),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.api.HttpRule;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.selector=e.string();break;case 2:o.get=e.string();break;case 3:o.put=e.string();break;case 4:o.post=e.string();break;case 5:o.delete=e.string();break;case 6:o.patch=e.string();break;case 8:o.custom=c.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:o.body=e.string();break;case 12:o.responseBody=e.string();break;case 11:o.additionalBindings&&o.additionalBindings.length||(o.additionalBindings=[]),o.additionalBindings.push(c.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},d.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},d.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t={};if(null!=e.selector&&e.hasOwnProperty(\"selector\")&&!u.isString(e.selector))return\"selector: string expected\";if(null!=e.get&&e.hasOwnProperty(\"get\")&&(t.pattern=1,!u.isString(e.get)))return\"get: string expected\";if(null!=e.put&&e.hasOwnProperty(\"put\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.put))return\"put: string expected\"}if(null!=e.post&&e.hasOwnProperty(\"post\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.post))return\"post: string expected\"}if(null!=e.delete&&e.hasOwnProperty(\"delete\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.delete))return\"delete: string expected\"}if(null!=e.patch&&e.hasOwnProperty(\"patch\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.patch))return\"patch: string expected\"}if(null!=e.custom&&e.hasOwnProperty(\"custom\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,n=c.google.api.CustomHttpPattern.verify(e.custom))return\"custom.\"+n}if(null!=e.body&&e.hasOwnProperty(\"body\")&&!u.isString(e.body))return\"body: string expected\";if(null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&!u.isString(e.responseBody))return\"responseBody: string expected\";if(null!=e.additionalBindings&&e.hasOwnProperty(\"additionalBindings\")){if(!Array.isArray(e.additionalBindings))return\"additionalBindings: array expected\";for(var n,o=0;o<e.additionalBindings.length;++o)if(n=c.google.api.HttpRule.verify(e.additionalBindings[o]))return\"additionalBindings.\"+n}return null},d.fromObject=function(e){if(e instanceof c.google.api.HttpRule)return e;var t=new c.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if(\"object\"!=typeof e.custom)throw TypeError(\".google.api.HttpRule.custom: object expected\");t.custom=c.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(\".google.api.HttpRule.additionalBindings: array expected\");t.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n){if(\"object\"!=typeof e.additionalBindings[n])throw TypeError(\".google.api.HttpRule.additionalBindings: object expected\");t.additionalBindings[n]=c.google.api.HttpRule.fromObject(e.additionalBindings[n])}}return t},d.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.additionalBindings=[]),t.defaults&&(n.selector=\"\",n.body=\"\",n.responseBody=\"\"),null!=e.selector&&e.hasOwnProperty(\"selector\")&&(n.selector=e.selector),null!=e.get&&e.hasOwnProperty(\"get\")&&(n.get=e.get,t.oneofs)&&(n.pattern=\"get\"),null!=e.put&&e.hasOwnProperty(\"put\")&&(n.put=e.put,t.oneofs)&&(n.pattern=\"put\"),null!=e.post&&e.hasOwnProperty(\"post\")&&(n.post=e.post,t.oneofs)&&(n.pattern=\"post\"),null!=e.delete&&e.hasOwnProperty(\"delete\")&&(n.delete=e.delete,t.oneofs)&&(n.pattern=\"delete\"),null!=e.patch&&e.hasOwnProperty(\"patch\")&&(n.patch=e.patch,t.oneofs)&&(n.pattern=\"patch\"),null!=e.body&&e.hasOwnProperty(\"body\")&&(n.body=e.body),null!=e.custom&&e.hasOwnProperty(\"custom\")&&(n.custom=c.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(n.pattern=\"custom\"),e.additionalBindings&&e.additionalBindings.length){n.additionalBindings=[];for(var o=0;o<e.additionalBindings.length;++o)n.additionalBindings[o]=c.google.api.HttpRule.toObject(e.additionalBindings[o],t)}return null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&(n.responseBody=e.responseBody),n},d.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},d),e.CustomHttpPattern=(g.prototype.kind=\"\",g.prototype.path=\"\",g.create=function(e){return new g(e)},g.encode=function(e,t){return t=t||r.create(),null!=e.kind&&Object.hasOwnProperty.call(e,\"kind\")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,\"path\")&&t.uint32(18).string(e.path),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.api.CustomHttpPattern;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.kind=e.string();break;case 2:o.path=e.string();break;default:e.skipType(7&r)}}return o},g.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},g.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.kind&&e.hasOwnProperty(\"kind\")&&!u.isString(e.kind)?\"kind: string expected\":null!=e.path&&e.hasOwnProperty(\"path\")&&!u.isString(e.path)?\"path: string expected\":null},g.fromObject=function(e){var t;return e instanceof c.google.api.CustomHttpPattern?e:(t=new c.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},g.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.kind=\"\",n.path=\"\"),null!=e.kind&&e.hasOwnProperty(\"kind\")&&(n.kind=e.kind),null!=e.path&&e.hasOwnProperty(\"path\")&&(n.path=e.path),n},g.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},g),e),F.protobuf=((n={}).FileDescriptorSet=(B.prototype.file=u.emptyArray,B.create=function(e){return new B(e)},B.encode=function(e,t){if(t=t||r.create(),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)c.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},B.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},B.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FileDescriptorSet;e.pos<n;){var r=e.uint32();r>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(c.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&r)}return o},B.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},B.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.file&&e.hasOwnProperty(\"file\")){if(!Array.isArray(e.file))return\"file: array expected\";for(var t=0;t<e.file.length;++t){var n=c.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(n)return\"file.\"+n}}return null},B.fromObject=function(e){if(e instanceof c.google.protobuf.FileDescriptorSet)return e;var t=new c.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(\".google.protobuf.FileDescriptorSet.file: array expected\");t.file=[];for(var n=0;n<e.file.length;++n){if(\"object\"!=typeof e.file[n])throw TypeError(\".google.protobuf.FileDescriptorSet.file: object expected\");t.file[n]=c.google.protobuf.FileDescriptorProto.fromObject(e.file[n])}}return t},B.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.file=[]),e.file&&e.file.length){n.file=[];for(var o=0;o<e.file.length;++o)n.file[o]=c.google.protobuf.FileDescriptorProto.toObject(e.file[o],t)}return n},B.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},B),n.FileDescriptorProto=(f.prototype.name=\"\",f.prototype.package=\"\",f.prototype.dependency=u.emptyArray,f.prototype.publicDependency=u.emptyArray,f.prototype.weakDependency=u.emptyArray,f.prototype.messageType=u.emptyArray,f.prototype.enumType=u.emptyArray,f.prototype.service=u.emptyArray,f.prototype.extension=u.emptyArray,f.prototype.options=null,f.prototype.sourceCodeInfo=null,f.prototype.syntax=\"\",f.create=function(e){return new f(e)},f.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,\"package\")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(n=0;n<e.messageType.length;++n)c.google.protobuf.DescriptorProto.encode(e.messageType[n],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)c.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(n=0;n<e.service.length;++n)c.google.protobuf.ServiceDescriptorProto.encode(e.service[n],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)c.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,\"sourceCodeInfo\")&&c.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(n=0;n<e.publicDependency.length;++n)t.uint32(80).int32(e.publicDependency[n]);if(null!=e.weakDependency&&e.weakDependency.length)for(n=0;n<e.weakDependency.length;++n)t.uint32(88).int32(e.weakDependency[n]);return null!=e.syntax&&Object.hasOwnProperty.call(e,\"syntax\")&&t.uint32(98).string(e.syntax),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FileDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.package=e.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(e.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.publicDependency.push(e.int32());else o.publicDependency.push(e.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.weakDependency.push(e.int32());else o.weakDependency.push(e.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(c.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(c.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(c.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(c.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:o.options=c.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:o.sourceCodeInfo=c.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:o.syntax=e.string();break;default:e.skipType(7&r)}}return o},f.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},f.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.package&&e.hasOwnProperty(\"package\")&&!u.isString(e.package))return\"package: string expected\";if(null!=e.dependency&&e.hasOwnProperty(\"dependency\")){if(!Array.isArray(e.dependency))return\"dependency: array expected\";for(var t=0;t<e.dependency.length;++t)if(!u.isString(e.dependency[t]))return\"dependency: string[] expected\"}if(null!=e.publicDependency&&e.hasOwnProperty(\"publicDependency\")){if(!Array.isArray(e.publicDependency))return\"publicDependency: array expected\";for(t=0;t<e.publicDependency.length;++t)if(!u.isInteger(e.publicDependency[t]))return\"publicDependency: integer[] expected\"}if(null!=e.weakDependency&&e.hasOwnProperty(\"weakDependency\")){if(!Array.isArray(e.weakDependency))return\"weakDependency: array expected\";for(t=0;t<e.weakDependency.length;++t)if(!u.isInteger(e.weakDependency[t]))return\"weakDependency: integer[] expected\"}if(null!=e.messageType&&e.hasOwnProperty(\"messageType\")){if(!Array.isArray(e.messageType))return\"messageType: array expected\";for(t=0;t<e.messageType.length;++t)if(n=c.google.protobuf.DescriptorProto.verify(e.messageType[t]))return\"messageType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=c.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.service&&e.hasOwnProperty(\"service\")){if(!Array.isArray(e.service))return\"service: array expected\";for(t=0;t<e.service.length;++t)if(n=c.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return\"service.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=c.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.FileOptions.verify(e.options)))return\"options.\"+n;if(null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n=c.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo)))return\"sourceCodeInfo.\"+n;return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&!u.isString(e.syntax)?\"syntax: string expected\":null},f.fromObject=function(e){if(e instanceof c.google.protobuf.FileDescriptorProto)return e;var t=new c.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(\".google.protobuf.FileDescriptorProto.dependency: array expected\");t.dependency=[];for(var n=0;n<e.dependency.length;++n)t.dependency[n]=String(e.dependency[n])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.publicDependency: array expected\");t.publicDependency=[];for(n=0;n<e.publicDependency.length;++n)t.publicDependency[n]=0|e.publicDependency[n]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.weakDependency: array expected\");t.weakDependency=[];for(n=0;n<e.weakDependency.length;++n)t.weakDependency[n]=0|e.weakDependency[n]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: array expected\");t.messageType=[];for(n=0;n<e.messageType.length;++n){if(\"object\"!=typeof e.messageType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: object expected\");t.messageType[n]=c.google.protobuf.DescriptorProto.fromObject(e.messageType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: object expected\");t.enumType[n]=c.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(\".google.protobuf.FileDescriptorProto.service: array expected\");t.service=[];for(n=0;n<e.service.length;++n){if(\"object\"!=typeof e.service[n])throw TypeError(\".google.protobuf.FileDescriptorProto.service: object expected\");t.service[n]=c.google.protobuf.ServiceDescriptorProto.fromObject(e.service[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.FileDescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.FileDescriptorProto.extension: object expected\");t.extension[n]=c.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FileDescriptorProto.options: object expected\");t.options=c.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if(\"object\"!=typeof e.sourceCodeInfo)throw TypeError(\".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected\");t.sourceCodeInfo=c.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},f.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dependency=[],n.messageType=[],n.enumType=[],n.service=[],n.extension=[],n.publicDependency=[],n.weakDependency=[]),t.defaults&&(n.name=\"\",n.package=\"\",n.options=null,n.sourceCodeInfo=null,n.syntax=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.package&&e.hasOwnProperty(\"package\")&&(n.package=e.package),e.dependency&&e.dependency.length){n.dependency=[];for(var o=0;o<e.dependency.length;++o)n.dependency[o]=e.dependency[o]}if(e.messageType&&e.messageType.length){n.messageType=[];for(o=0;o<e.messageType.length;++o)n.messageType[o]=c.google.protobuf.DescriptorProto.toObject(e.messageType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=c.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.service&&e.service.length){n.service=[];for(o=0;o<e.service.length;++o)n.service[o]=c.google.protobuf.ServiceDescriptorProto.toObject(e.service[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=c.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n.sourceCodeInfo=c.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length){n.publicDependency=[];for(o=0;o<e.publicDependency.length;++o)n.publicDependency[o]=e.publicDependency[o]}if(e.weakDependency&&e.weakDependency.length){n.weakDependency=[];for(o=0;o<e.weakDependency.length;++o)n.weakDependency[o]=e.weakDependency[o]}return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&(n.syntax=e.syntax),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f),n.DescriptorProto=(y.prototype.name=\"\",y.prototype.field=u.emptyArray,y.prototype.extension=u.emptyArray,y.prototype.nestedType=u.emptyArray,y.prototype.enumType=u.emptyArray,y.prototype.extensionRange=u.emptyArray,y.prototype.oneofDecl=u.emptyArray,y.prototype.options=null,y.prototype.reservedRange=u.emptyArray,y.prototype.reservedName=u.emptyArray,y.create=function(e){return new y(e)},y.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)c.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(n=0;n<e.nestedType.length;++n)c.google.protobuf.DescriptorProto.encode(e.nestedType[n],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)c.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(n=0;n<e.extensionRange.length;++n)c.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[n],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)c.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(n=0;n<e.oneofDecl.length;++n)c.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[n],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)c.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[n],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(82).string(e.reservedName[n]);return t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.DescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(c.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(c.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(c.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(c.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(c.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(c.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:o.options=c.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(c.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},y.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},y.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.field&&e.hasOwnProperty(\"field\")){if(!Array.isArray(e.field))return\"field: array expected\";for(var t=0;t<e.field.length;++t)if(n=c.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return\"field.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=c.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}if(null!=e.nestedType&&e.hasOwnProperty(\"nestedType\")){if(!Array.isArray(e.nestedType))return\"nestedType: array expected\";for(t=0;t<e.nestedType.length;++t)if(n=c.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return\"nestedType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=c.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.extensionRange&&e.hasOwnProperty(\"extensionRange\")){if(!Array.isArray(e.extensionRange))return\"extensionRange: array expected\";for(t=0;t<e.extensionRange.length;++t)if(n=c.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return\"extensionRange.\"+n}if(null!=e.oneofDecl&&e.hasOwnProperty(\"oneofDecl\")){if(!Array.isArray(e.oneofDecl))return\"oneofDecl: array expected\";for(t=0;t<e.oneofDecl.length;++t)if(n=c.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return\"oneofDecl.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.MessageOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=c.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!u.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},y.fromObject=function(e){if(e instanceof c.google.protobuf.DescriptorProto)return e;var t=new c.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(\".google.protobuf.DescriptorProto.field: array expected\");t.field=[];for(var n=0;n<e.field.length;++n){if(\"object\"!=typeof e.field[n])throw TypeError(\".google.protobuf.DescriptorProto.field: object expected\");t.field[n]=c.google.protobuf.FieldDescriptorProto.fromObject(e.field[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.DescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.DescriptorProto.extension: object expected\");t.extension[n]=c.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(\".google.protobuf.DescriptorProto.nestedType: array expected\");t.nestedType=[];for(n=0;n<e.nestedType.length;++n){if(\"object\"!=typeof e.nestedType[n])throw TypeError(\".google.protobuf.DescriptorProto.nestedType: object expected\");t.nestedType[n]=c.google.protobuf.DescriptorProto.fromObject(e.nestedType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.DescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.DescriptorProto.enumType: object expected\");t.enumType[n]=c.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: array expected\");t.extensionRange=[];for(n=0;n<e.extensionRange.length;++n){if(\"object\"!=typeof e.extensionRange[n])throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: object expected\");t.extensionRange[n]=c.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[n])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: array expected\");t.oneofDecl=[];for(n=0;n<e.oneofDecl.length;++n){if(\"object\"!=typeof e.oneofDecl[n])throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: object expected\");t.oneofDecl[n]=c.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.options: object expected\");t.options=c.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: object expected\");t.reservedRange[n]=c.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.DescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},y.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.field=[],n.nestedType=[],n.enumType=[],n.extensionRange=[],n.extension=[],n.oneofDecl=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.field&&e.field.length){n.field=[];for(var o=0;o<e.field.length;++o)n.field[o]=c.google.protobuf.FieldDescriptorProto.toObject(e.field[o],t)}if(e.nestedType&&e.nestedType.length){n.nestedType=[];for(o=0;o<e.nestedType.length;++o)n.nestedType[o]=c.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=c.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.extensionRange&&e.extensionRange.length){n.extensionRange=[];for(o=0;o<e.extensionRange.length;++o)n.extensionRange[o]=c.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=c.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length){n.oneofDecl=[];for(o=0;o<e.oneofDecl.length;++o)n.oneofDecl[o]=c.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[o],t)}if(e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=c.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},y.ExtensionRange=(h.prototype.start=0,h.prototype.end=0,h.prototype.options=null,h.create=function(e){return new h(e)},h.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;case 3:o.options=c.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},h.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},h.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.start&&e.hasOwnProperty(\"start\")&&!u.isInteger(e.start))return\"start: integer expected\";if(null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end))return\"end: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=c.google.protobuf.ExtensionRangeOptions.verify(e.options);if(e)return\"options.\"+e}return null},h.fromObject=function(e){if(e instanceof c.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new c.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.ExtensionRange.options: object expected\");t.options=c.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},h.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0,n.options=null),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},h),y.ReservedRange=(b.prototype.start=0,b.prototype.end=0,b.create=function(e){return new b(e)},b.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},b.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},b.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!u.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end)?\"end: integer expected\":null},b.fromObject=function(e){var t;return e instanceof c.google.protobuf.DescriptorProto.ReservedRange?e:(t=new c.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},b.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},b.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},b),y),n.ExtensionRangeOptions=(U.prototype.uninterpretedOption=u.emptyArray,U.create=function(e){return new U(e)},U.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.ExtensionRangeOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},U.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},U.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},U.fromObject=function(e){if(e instanceof c.google.protobuf.ExtensionRangeOptions)return e;var t=new c.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},U.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},U.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},U),n.FieldDescriptorProto=(O.prototype.name=\"\",O.prototype.number=0,O.prototype.label=1,O.prototype.type=1,O.prototype.typeName=\"\",O.prototype.extendee=\"\",O.prototype.defaultValue=\"\",O.prototype.oneofIndex=0,O.prototype.jsonName=\"\",O.prototype.options=null,O.prototype.proto3Optional=!1,O.create=function(e){return new O(e)},O.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,\"extendee\")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,\"label\")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,\"typeName\")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,\"defaultValue\")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,\"oneofIndex\")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,\"jsonName\")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,\"proto3Optional\")&&t.uint32(136).bool(e.proto3Optional),t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FieldDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 3:o.number=e.int32();break;case 4:o.label=e.int32();break;case 5:o.type=e.int32();break;case 6:o.typeName=e.string();break;case 2:o.extendee=e.string();break;case 7:o.defaultValue=e.string();break;case 9:o.oneofIndex=e.int32();break;case 10:o.jsonName=e.string();break;case 8:o.options=c.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:o.proto3Optional=e.bool();break;default:e.skipType(7&r)}}return o},O.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},O.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!u.isInteger(e.number))return\"number: integer expected\";if(null!=e.label&&e.hasOwnProperty(\"label\"))switch(e.label){default:return\"label: enum value expected\";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty(\"type\"))switch(e.type){default:return\"type: enum value expected\";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&!u.isString(e.typeName))return\"typeName: string expected\";if(null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&!u.isString(e.extendee))return\"extendee: string expected\";if(null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&!u.isString(e.defaultValue))return\"defaultValue: string expected\";if(null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&!u.isInteger(e.oneofIndex))return\"oneofIndex: integer expected\";if(null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&!u.isString(e.jsonName))return\"jsonName: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=c.google.protobuf.FieldOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&\"boolean\"!=typeof e.proto3Optional?\"proto3Optional: boolean expected\":null},O.fromObject=function(e){if(e instanceof c.google.protobuf.FieldDescriptorProto)return e;var t=new c.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case\"LABEL_OPTIONAL\":case 1:t.label=1;break;case\"LABEL_REQUIRED\":case 2:t.label=2;break;case\"LABEL_REPEATED\":case 3:t.label=3}switch(e.type){case\"TYPE_DOUBLE\":case 1:t.type=1;break;case\"TYPE_FLOAT\":case 2:t.type=2;break;case\"TYPE_INT64\":case 3:t.type=3;break;case\"TYPE_UINT64\":case 4:t.type=4;break;case\"TYPE_INT32\":case 5:t.type=5;break;case\"TYPE_FIXED64\":case 6:t.type=6;break;case\"TYPE_FIXED32\":case 7:t.type=7;break;case\"TYPE_BOOL\":case 8:t.type=8;break;case\"TYPE_STRING\":case 9:t.type=9;break;case\"TYPE_GROUP\":case 10:t.type=10;break;case\"TYPE_MESSAGE\":case 11:t.type=11;break;case\"TYPE_BYTES\":case 12:t.type=12;break;case\"TYPE_UINT32\":case 13:t.type=13;break;case\"TYPE_ENUM\":case 14:t.type=14;break;case\"TYPE_SFIXED32\":case 15:t.type=15;break;case\"TYPE_SFIXED64\":case 16:t.type=16;break;case\"TYPE_SINT32\":case 17:t.type=17;break;case\"TYPE_SINT64\":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FieldDescriptorProto.options: object expected\");t.options=c.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},O.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.extendee=\"\",n.number=0,n.label=t.enums===String?\"LABEL_OPTIONAL\":1,n.type=t.enums===String?\"TYPE_DOUBLE\":1,n.typeName=\"\",n.defaultValue=\"\",n.options=null,n.oneofIndex=0,n.jsonName=\"\",n.proto3Optional=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&(n.extendee=e.extendee),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.label&&e.hasOwnProperty(\"label\")&&(n.label=t.enums===String?c.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=t.enums===String?c.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&(n.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&(n.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&(n.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&(n.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&(n.proto3Optional=e.proto3Optional),n},O.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},O.Type=(e={},(t=Object.create(e))[e[1]=\"TYPE_DOUBLE\"]=1,t[e[2]=\"TYPE_FLOAT\"]=2,t[e[3]=\"TYPE_INT64\"]=3,t[e[4]=\"TYPE_UINT64\"]=4,t[e[5]=\"TYPE_INT32\"]=5,t[e[6]=\"TYPE_FIXED64\"]=6,t[e[7]=\"TYPE_FIXED32\"]=7,t[e[8]=\"TYPE_BOOL\"]=8,t[e[9]=\"TYPE_STRING\"]=9,t[e[10]=\"TYPE_GROUP\"]=10,t[e[11]=\"TYPE_MESSAGE\"]=11,t[e[12]=\"TYPE_BYTES\"]=12,t[e[13]=\"TYPE_UINT32\"]=13,t[e[14]=\"TYPE_ENUM\"]=14,t[e[15]=\"TYPE_SFIXED32\"]=15,t[e[16]=\"TYPE_SFIXED64\"]=16,t[e[17]=\"TYPE_SINT32\"]=17,t[e[18]=\"TYPE_SINT64\"]=18,t),O.Label=(e={},(t=Object.create(e))[e[1]=\"LABEL_OPTIONAL\"]=1,t[e[2]=\"LABEL_REQUIRED\"]=2,t[e[3]=\"LABEL_REPEATED\"]=3,t),O),n.OneofDescriptorProto=(m.prototype.name=\"\",m.prototype.options=null,m.create=function(e){return new m(e)},m.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.OneofDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.options=c.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},m.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},m.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=c.google.protobuf.OneofOptions.verify(e.options);if(e)return\"options.\"+e}return null},m.fromObject=function(e){if(e instanceof c.google.protobuf.OneofDescriptorProto)return e;var t=new c.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.OneofDescriptorProto.options: object expected\");t.options=c.google.protobuf.OneofOptions.fromObject(e.options)}return t},m.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.OneofOptions.toObject(e.options,t)),n},m.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},m),n.EnumDescriptorProto=(v.prototype.name=\"\",v.prototype.value=u.emptyArray,v.prototype.options=null,v.prototype.reservedRange=u.emptyArray,v.prototype.reservedName=u.emptyArray,v.create=function(e){return new v(e)},v.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)c.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)c.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[n],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(42).string(e.reservedName[n]);return t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(c.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=c.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(c.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},v.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},v.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.value&&e.hasOwnProperty(\"value\")){if(!Array.isArray(e.value))return\"value: array expected\";for(var t=0;t<e.value.length;++t)if(n=c.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return\"value.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.EnumOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=c.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!u.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},v.fromObject=function(e){if(e instanceof c.google.protobuf.EnumDescriptorProto)return e;var t=new c.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(\".google.protobuf.EnumDescriptorProto.value: array expected\");t.value=[];for(var n=0;n<e.value.length;++n){if(\"object\"!=typeof e.value[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.value: object expected\");t.value[n]=c.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumDescriptorProto.options: object expected\");t.options=c.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: object expected\");t.reservedRange[n]=c.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},v.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.value=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.value&&e.value.length){n.value=[];for(var o=0;o<e.value.length;++o)n.value[o]=c.google.protobuf.EnumValueDescriptorProto.toObject(e.value[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=c.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},v.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},v.EnumReservedRange=(P.prototype.start=0,P.prototype.end=0,P.create=function(e){return new P(e)},P.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},P.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},P.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!u.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end)?\"end: integer expected\":null},P.fromObject=function(e){var t;return e instanceof c.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new c.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},P.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},P.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},P),v),n.EnumValueDescriptorProto=(w.prototype.name=\"\",w.prototype.number=0,w.prototype.options=null,w.create=function(e){return new w(e)},w.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.number=e.int32();break;case 3:o.options=c.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},w.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},w.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!u.isInteger(e.number))return\"number: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=c.google.protobuf.EnumValueOptions.verify(e.options);if(e)return\"options.\"+e}return null},w.fromObject=function(e){if(e instanceof c.google.protobuf.EnumValueDescriptorProto)return e;var t=new c.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumValueDescriptorProto.options: object expected\");t.options=c.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},w.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.number=0,n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.EnumValueOptions.toObject(e.options,t)),n},w.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},w),n.ServiceDescriptorProto=(j.prototype.name=\"\",j.prototype.method=u.emptyArray,j.prototype.options=null,j.create=function(e){return new j(e)},j.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)c.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.ServiceDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(c.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=c.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},j.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},j.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.method&&e.hasOwnProperty(\"method\")){if(!Array.isArray(e.method))return\"method: array expected\";for(var t=0;t<e.method.length;++t)if(n=c.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return\"method.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.ServiceOptions.verify(e.options)))return\"options.\"+n;return null},j.fromObject=function(e){if(e instanceof c.google.protobuf.ServiceDescriptorProto)return e;var t=new c.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: array expected\");t.method=[];for(var n=0;n<e.method.length;++n){if(\"object\"!=typeof e.method[n])throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: object expected\");t.method[n]=c.google.protobuf.MethodDescriptorProto.fromObject(e.method[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.ServiceDescriptorProto.options: object expected\");t.options=c.google.protobuf.ServiceOptions.fromObject(e.options)}return t},j.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.method=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.method&&e.method.length){n.method=[];for(var o=0;o<e.method.length;++o)n.method[o]=c.google.protobuf.MethodDescriptorProto.toObject(e.method[o],t)}return null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.ServiceOptions.toObject(e.options,t)),n},j.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},j),n.MethodDescriptorProto=(x.prototype.name=\"\",x.prototype.inputType=\"\",x.prototype.outputType=\"\",x.prototype.options=null,x.prototype.clientStreaming=!1,x.prototype.serverStreaming=!1,x.create=function(e){return new x(e)},x.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,\"inputType\")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,\"outputType\")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,\"clientStreaming\")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,\"serverStreaming\")&&t.uint32(48).bool(e.serverStreaming),t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.MethodDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.inputType=e.string();break;case 3:o.outputType=e.string();break;case 4:o.options=c.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:o.clientStreaming=e.bool();break;case 6:o.serverStreaming=e.bool();break;default:e.skipType(7&r)}}return o},x.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},x.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&!u.isString(e.inputType))return\"inputType: string expected\";if(null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&!u.isString(e.outputType))return\"outputType: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=c.google.protobuf.MethodOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&\"boolean\"!=typeof e.clientStreaming?\"clientStreaming: boolean expected\":null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&\"boolean\"!=typeof e.serverStreaming?\"serverStreaming: boolean expected\":null},x.fromObject=function(e){if(e instanceof c.google.protobuf.MethodDescriptorProto)return e;var t=new c.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.MethodDescriptorProto.options: object expected\");t.options=c.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},x.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.inputType=\"\",n.outputType=\"\",n.options=null,n.clientStreaming=!1,n.serverStreaming=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&(n.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&(n.outputType=e.outputType),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&(n.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&(n.serverStreaming=e.serverStreaming),n},x.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},x),n.FileOptions=(S.prototype.javaPackage=\"\",S.prototype.javaOuterClassname=\"\",S.prototype.javaMultipleFiles=!1,S.prototype.javaGenerateEqualsAndHash=!1,S.prototype.javaStringCheckUtf8=!1,S.prototype.optimizeFor=1,S.prototype.goPackage=\"\",S.prototype.ccGenericServices=!1,S.prototype.javaGenericServices=!1,S.prototype.pyGenericServices=!1,S.prototype.phpGenericServices=!1,S.prototype.deprecated=!1,S.prototype.ccEnableArenas=!0,S.prototype.objcClassPrefix=\"\",S.prototype.csharpNamespace=\"\",S.prototype.swiftPrefix=\"\",S.prototype.phpClassPrefix=\"\",S.prototype.phpNamespace=\"\",S.prototype.phpMetadataNamespace=\"\",S.prototype.rubyPackage=\"\",S.prototype.uninterpretedOption=u.emptyArray,S.create=function(e){return new S(e)},S.encode=function(e,t){if(t=t||r.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,\"javaPackage\")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,\"javaOuterClassname\")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,\"optimizeFor\")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,\"javaMultipleFiles\")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,\"goPackage\")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,\"ccGenericServices\")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,\"javaGenericServices\")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,\"pyGenericServices\")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,\"javaGenerateEqualsAndHash\")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,\"javaStringCheckUtf8\")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,\"ccEnableArenas\")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,\"objcClassPrefix\")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,\"csharpNamespace\")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,\"swiftPrefix\")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,\"phpClassPrefix\")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,\"phpNamespace\")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,\"phpGenericServices\")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,\"phpMetadataNamespace\")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,\"rubyPackage\")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FileOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.javaPackage=e.string();break;case 8:o.javaOuterClassname=e.string();break;case 10:o.javaMultipleFiles=e.bool();break;case 20:o.javaGenerateEqualsAndHash=e.bool();break;case 27:o.javaStringCheckUtf8=e.bool();break;case 9:o.optimizeFor=e.int32();break;case 11:o.goPackage=e.string();break;case 16:o.ccGenericServices=e.bool();break;case 17:o.javaGenericServices=e.bool();break;case 18:o.pyGenericServices=e.bool();break;case 42:o.phpGenericServices=e.bool();break;case 23:o.deprecated=e.bool();break;case 31:o.ccEnableArenas=e.bool();break;case 36:o.objcClassPrefix=e.string();break;case 37:o.csharpNamespace=e.string();break;case 39:o.swiftPrefix=e.string();break;case 40:o.phpClassPrefix=e.string();break;case 41:o.phpNamespace=e.string();break;case 44:o.phpMetadataNamespace=e.string();break;case 45:o.rubyPackage=e.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},S.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},S.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&!u.isString(e.javaPackage))return\"javaPackage: string expected\";if(null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&!u.isString(e.javaOuterClassname))return\"javaOuterClassname: string expected\";if(null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&\"boolean\"!=typeof e.javaMultipleFiles)return\"javaMultipleFiles: boolean expected\";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&\"boolean\"!=typeof e.javaGenerateEqualsAndHash)return\"javaGenerateEqualsAndHash: boolean expected\";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&\"boolean\"!=typeof e.javaStringCheckUtf8)return\"javaStringCheckUtf8: boolean expected\";if(null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\"))switch(e.optimizeFor){default:return\"optimizeFor: enum value expected\";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&!u.isString(e.goPackage))return\"goPackage: string expected\";if(null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&\"boolean\"!=typeof e.ccGenericServices)return\"ccGenericServices: boolean expected\";if(null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&\"boolean\"!=typeof e.javaGenericServices)return\"javaGenericServices: boolean expected\";if(null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&\"boolean\"!=typeof e.pyGenericServices)return\"pyGenericServices: boolean expected\";if(null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&\"boolean\"!=typeof e.phpGenericServices)return\"phpGenericServices: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&\"boolean\"!=typeof e.ccEnableArenas)return\"ccEnableArenas: boolean expected\";if(null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&!u.isString(e.objcClassPrefix))return\"objcClassPrefix: string expected\";if(null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&!u.isString(e.csharpNamespace))return\"csharpNamespace: string expected\";if(null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&!u.isString(e.swiftPrefix))return\"swiftPrefix: string expected\";if(null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&!u.isString(e.phpClassPrefix))return\"phpClassPrefix: string expected\";if(null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&!u.isString(e.phpNamespace))return\"phpNamespace: string expected\";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&!u.isString(e.phpMetadataNamespace))return\"phpMetadataNamespace: string expected\";if(null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&!u.isString(e.rubyPackage))return\"rubyPackage: string expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},S.fromObject=function(e){if(e instanceof c.google.protobuf.FileOptions)return e;var t=new c.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case\"SPEED\":case 1:t.optimizeFor=1;break;case\"CODE_SIZE\":case 2:t.optimizeFor=2;break;case\"LITE_RUNTIME\":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},S.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.javaPackage=\"\",n.javaOuterClassname=\"\",n.optimizeFor=t.enums===String?\"SPEED\":1,n.javaMultipleFiles=!1,n.goPackage=\"\",n.ccGenericServices=!1,n.javaGenericServices=!1,n.pyGenericServices=!1,n.javaGenerateEqualsAndHash=!1,n.deprecated=!1,n.javaStringCheckUtf8=!1,n.ccEnableArenas=!0,n.objcClassPrefix=\"\",n.csharpNamespace=\"\",n.swiftPrefix=\"\",n.phpClassPrefix=\"\",n.phpNamespace=\"\",n.phpGenericServices=!1,n.phpMetadataNamespace=\"\",n.rubyPackage=\"\"),null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&(n.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&(n.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\")&&(n.optimizeFor=t.enums===String?c.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&(n.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&(n.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&(n.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&(n.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&(n.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&(n.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&(n.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&(n.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&(n.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&(n.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&(n.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&(n.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&(n.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&(n.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&(n.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&(n.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},S.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},S.OptimizeMode=(e={},(t=Object.create(e))[e[1]=\"SPEED\"]=1,t[e[2]=\"CODE_SIZE\"]=2,t[e[3]=\"LITE_RUNTIME\"]=3,t),S),n.MessageOptions=(k.prototype.messageSetWireFormat=!1,k.prototype.noStandardDescriptorAccessor=!1,k.prototype.deprecated=!1,k.prototype.mapEntry=!1,k.prototype.uninterpretedOption=u.emptyArray,k.create=function(e){return new k(e)},k.encode=function(e,t){if(t=t||r.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,\"messageSetWireFormat\")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,\"noStandardDescriptorAccessor\")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,\"mapEntry\")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.MessageOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.messageSetWireFormat=e.bool();break;case 2:o.noStandardDescriptorAccessor=e.bool();break;case 3:o.deprecated=e.bool();break;case 7:o.mapEntry=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},k.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},k.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&\"boolean\"!=typeof e.messageSetWireFormat)return\"messageSetWireFormat: boolean expected\";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&\"boolean\"!=typeof e.noStandardDescriptorAccessor)return\"noStandardDescriptorAccessor: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&\"boolean\"!=typeof e.mapEntry)return\"mapEntry: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},k.fromObject=function(e){if(e instanceof c.google.protobuf.MessageOptions)return e;var t=new c.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},k.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.messageSetWireFormat=!1,n.noStandardDescriptorAccessor=!1,n.deprecated=!1,n.mapEntry=!1),null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&(n.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&(n.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&(n.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},k.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},k),n.FieldOptions=(D.prototype.ctype=0,D.prototype.packed=!1,D.prototype.jstype=0,D.prototype.lazy=!1,D.prototype.deprecated=!1,D.prototype.weak=!1,D.prototype.uninterpretedOption=u.emptyArray,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||r.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,\"ctype\")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,\"packed\")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,\"lazy\")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,\"jstype\")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,\"weak\")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FieldOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.ctype=e.int32();break;case 2:o.packed=e.bool();break;case 6:o.jstype=e.int32();break;case 5:o.lazy=e.bool();break;case 3:o.deprecated=e.bool();break;case 10:o.weak=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},D.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},D.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.ctype&&e.hasOwnProperty(\"ctype\"))switch(e.ctype){default:return\"ctype: enum value expected\";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty(\"packed\")&&\"boolean\"!=typeof e.packed)return\"packed: boolean expected\";if(null!=e.jstype&&e.hasOwnProperty(\"jstype\"))switch(e.jstype){default:return\"jstype: enum value expected\";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&\"boolean\"!=typeof e.lazy)return\"lazy: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.weak&&e.hasOwnProperty(\"weak\")&&\"boolean\"!=typeof e.weak)return\"weak: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},D.fromObject=function(e){if(e instanceof c.google.protobuf.FieldOptions)return e;var t=new c.google.protobuf.FieldOptions;switch(e.ctype){case\"STRING\":case 0:t.ctype=0;break;case\"CORD\":case 1:t.ctype=1;break;case\"STRING_PIECE\":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case\"JS_NORMAL\":case 0:t.jstype=0;break;case\"JS_STRING\":case 1:t.jstype=1;break;case\"JS_NUMBER\":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},D.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.ctype=t.enums===String?\"STRING\":0,n.packed=!1,n.deprecated=!1,n.lazy=!1,n.jstype=t.enums===String?\"JS_NORMAL\":0,n.weak=!1),null!=e.ctype&&e.hasOwnProperty(\"ctype\")&&(n.ctype=t.enums===String?c.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty(\"packed\")&&(n.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&(n.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty(\"jstype\")&&(n.jstype=t.enums===String?c.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty(\"weak\")&&(n.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},D.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},D.CType=(e={},(t=Object.create(e))[e[0]=\"STRING\"]=0,t[e[1]=\"CORD\"]=1,t[e[2]=\"STRING_PIECE\"]=2,t),D.JSType=(e={},(t=Object.create(e))[e[0]=\"JS_NORMAL\"]=0,t[e[1]=\"JS_STRING\"]=1,t[e[2]=\"JS_NUMBER\"]=2,t),D),n.OneofOptions=(M.prototype.uninterpretedOption=u.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.OneofOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},M.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},M.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},M.fromObject=function(e){if(e instanceof c.google.protobuf.OneofOptions)return e;var t=new c.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},M.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},M.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},M),n.EnumOptions=(T.prototype.allowAlias=!1,T.prototype.deprecated=!1,T.prototype.uninterpretedOption=u.emptyArray,T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||r.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,\"allowAlias\")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.allowAlias=e.bool();break;case 3:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},T.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},T.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&\"boolean\"!=typeof e.allowAlias)return\"allowAlias: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},T.fromObject=function(e){if(e instanceof c.google.protobuf.EnumOptions)return e;var t=new c.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},T.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.allowAlias=!1,n.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&(n.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},T.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},T),n.EnumValueOptions=(E.prototype.deprecated=!1,E.prototype.uninterpretedOption=u.emptyArray,E.create=function(e){return new E(e)},E.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumValueOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},E.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},E.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},E.fromObject=function(e){if(e instanceof c.google.protobuf.EnumValueOptions)return e;var t=new c.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},E.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},E.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},E),n.ServiceOptions=(A.prototype.deprecated=!1,A.prototype.uninterpretedOption=u.emptyArray,A.prototype[\".google.api.defaultHost\"]=\"\",A.prototype[\".google.api.oauthScopes\"]=\"\",A.create=function(e){return new A(e)},A.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.defaultHost\"]&&Object.hasOwnProperty.call(e,\".google.api.defaultHost\")&&t.uint32(8394).string(e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&Object.hasOwnProperty.call(e,\".google.api.oauthScopes\")&&t.uint32(8402).string(e[\".google.api.oauthScopes\"]),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.ServiceOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.api.defaultHost\"]=e.string();break;case 1050:o[\".google.api.oauthScopes\"]=e.string();break;default:e.skipType(7&r)}}return o},A.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},A.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&!u.isString(e[\".google.api.defaultHost\"])?\".google.api.defaultHost: string expected\":null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&!u.isString(e[\".google.api.oauthScopes\"])?\".google.api.oauthScopes: string expected\":null},A.fromObject=function(e){if(e instanceof c.google.protobuf.ServiceOptions)return e;var t=new c.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return null!=e[\".google.api.defaultHost\"]&&(t[\".google.api.defaultHost\"]=String(e[\".google.api.defaultHost\"])),null!=e[\".google.api.oauthScopes\"]&&(t[\".google.api.oauthScopes\"]=String(e[\".google.api.oauthScopes\"])),t},A.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1,n[\".google.api.defaultHost\"]=\"\",n[\".google.api.oauthScopes\"]=\"\"),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&(n[\".google.api.defaultHost\"]=e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&(n[\".google.api.oauthScopes\"]=e[\".google.api.oauthScopes\"]),n},A.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},A),n.MethodOptions=(N.prototype.deprecated=!1,N.prototype.idempotencyLevel=0,N.prototype.uninterpretedOption=u.emptyArray,N.prototype[\".google.api.http\"]=null,N.prototype[\".google.api.methodSignature\"]=u.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,\"idempotencyLevel\")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length)for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t.uint32(8410).string(e[\".google.api.methodSignature\"][n]);return null!=e[\".google.api.http\"]&&Object.hasOwnProperty.call(e,\".google.api.http\")&&c.google.api.HttpRule.encode(e[\".google.api.http\"],t.uint32(578365826).fork()).ldelim(),t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.MethodOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 34:o.idempotencyLevel=e.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:o[\".google.api.http\"]=c.google.api.HttpRule.decode(e,e.uint32());break;case 1051:o[\".google.api.methodSignature\"]&&o[\".google.api.methodSignature\"].length||(o[\".google.api.methodSignature\"]=[]),o[\".google.api.methodSignature\"].push(e.string());break;default:e.skipType(7&r)}}return o},N.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},N.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\"))switch(e.idempotencyLevel){default:return\"idempotencyLevel: enum value expected\";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n=c.google.api.HttpRule.verify(e[\".google.api.http\"])))return\".google.api.http.\"+n;if(null!=e[\".google.api.methodSignature\"]&&e.hasOwnProperty(\".google.api.methodSignature\")){if(!Array.isArray(e[\".google.api.methodSignature\"]))return\".google.api.methodSignature: array expected\";for(t=0;t<e[\".google.api.methodSignature\"].length;++t)if(!u.isString(e[\".google.api.methodSignature\"][t]))return\".google.api.methodSignature: string[] expected\"}return null},N.fromObject=function(e){if(e instanceof c.google.protobuf.MethodOptions)return e;var t=new c.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case\"IDEMPOTENCY_UNKNOWN\":case 0:t.idempotencyLevel=0;break;case\"NO_SIDE_EFFECTS\":case 1:t.idempotencyLevel=1;break;case\"IDEMPOTENT\":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.api.http\"]){if(\"object\"!=typeof e[\".google.api.http\"])throw TypeError(\".google.protobuf.MethodOptions..google.api.http: object expected\");t[\".google.api.http\"]=c.google.api.HttpRule.fromObject(e[\".google.api.http\"])}if(e[\".google.api.methodSignature\"]){if(!Array.isArray(e[\".google.api.methodSignature\"]))throw TypeError(\".google.protobuf.MethodOptions..google.api.methodSignature: array expected\");t[\".google.api.methodSignature\"]=[];for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t[\".google.api.methodSignature\"][n]=String(e[\".google.api.methodSignature\"][n])}return t},N.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.methodSignature\"]=[]),t.defaults&&(n.deprecated=!1,n.idempotencyLevel=t.enums===String?\"IDEMPOTENCY_UNKNOWN\":0,n[\".google.api.http\"]=null),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\")&&(n.idempotencyLevel=t.enums===String?c.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length){n[\".google.api.methodSignature\"]=[];for(o=0;o<e[\".google.api.methodSignature\"].length;++o)n[\".google.api.methodSignature\"][o]=e[\".google.api.methodSignature\"][o]}return null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n[\".google.api.http\"]=c.google.api.HttpRule.toObject(e[\".google.api.http\"],t)),n},N.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},N.IdempotencyLevel=(e={},(t=Object.create(e))[e[0]=\"IDEMPOTENCY_UNKNOWN\"]=0,t[e[1]=\"NO_SIDE_EFFECTS\"]=1,t[e[2]=\"IDEMPOTENT\"]=2,t),N),n.UninterpretedOption=(I.prototype.name=u.emptyArray,I.prototype.identifierValue=\"\",I.prototype.positiveIntValue=u.Long?u.Long.fromBits(0,0,!0):0,I.prototype.negativeIntValue=u.Long?u.Long.fromBits(0,0,!1):0,I.prototype.doubleValue=0,I.prototype.stringValue=u.newBuffer([]),I.prototype.aggregateValue=\"\",I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||r.create(),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)c.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,\"identifierValue\")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,\"positiveIntValue\")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,\"negativeIntValue\")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,\"doubleValue\")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,\"stringValue\")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,\"aggregateValue\")&&t.uint32(66).string(e.aggregateValue),t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.UninterpretedOption;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(c.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:o.identifierValue=e.string();break;case 4:o.positiveIntValue=e.uint64();break;case 5:o.negativeIntValue=e.int64();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.bytes();break;case 8:o.aggregateValue=e.string();break;default:e.skipType(7&r)}}return o},I.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},I.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")){if(!Array.isArray(e.name))return\"name: array expected\";for(var t=0;t<e.name.length;++t){var n=c.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(n)return\"name.\"+n}}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&!u.isString(e.identifierValue)?\"identifierValue: string expected\":null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&!(u.isInteger(e.positiveIntValue)||e.positiveIntValue&&u.isInteger(e.positiveIntValue.low)&&u.isInteger(e.positiveIntValue.high))?\"positiveIntValue: integer|Long expected\":null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&!(u.isInteger(e.negativeIntValue)||e.negativeIntValue&&u.isInteger(e.negativeIntValue.low)&&u.isInteger(e.negativeIntValue.high))?\"negativeIntValue: integer|Long expected\":null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&\"number\"!=typeof e.doubleValue?\"doubleValue: number expected\":null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&!(e.stringValue&&\"number\"==typeof e.stringValue.length||u.isString(e.stringValue))?\"stringValue: buffer expected\":null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&!u.isString(e.aggregateValue)?\"aggregateValue: string expected\":null},I.fromObject=function(e){if(e instanceof c.google.protobuf.UninterpretedOption)return e;var t=new c.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(\".google.protobuf.UninterpretedOption.name: array expected\");t.name=[];for(var n=0;n<e.name.length;++n){if(\"object\"!=typeof e.name[n])throw TypeError(\".google.protobuf.UninterpretedOption.name: object expected\");t.name[n]=c.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[n])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(u.Long?(t.positiveIntValue=u.Long.fromValue(e.positiveIntValue)).unsigned=!0:\"string\"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):\"number\"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:\"object\"==typeof e.positiveIntValue&&(t.positiveIntValue=new u.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(u.Long?(t.negativeIntValue=u.Long.fromValue(e.negativeIntValue)).unsigned=!1:\"string\"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):\"number\"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:\"object\"==typeof e.negativeIntValue&&(t.negativeIntValue=new u.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&(\"string\"==typeof e.stringValue?u.base64.decode(e.stringValue,t.stringValue=u.newBuffer(u.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},I.toObject=function(e,t){var n,o={};if(((t=t||{}).arrays||t.defaults)&&(o.name=[]),t.defaults&&(o.identifierValue=\"\",u.Long?(n=new u.Long(0,0,!0),o.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.positiveIntValue=t.longs===String?\"0\":0,u.Long?(n=new u.Long(0,0,!1),o.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.negativeIntValue=t.longs===String?\"0\":0,o.doubleValue=0,t.bytes===String?o.stringValue=\"\":(o.stringValue=[],t.bytes!==Array&&(o.stringValue=u.newBuffer(o.stringValue))),o.aggregateValue=\"\"),e.name&&e.name.length){o.name=[];for(var r=0;r<e.name.length;++r)o.name[r]=c.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[r],t)}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&(o.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&(\"number\"==typeof e.positiveIntValue?o.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:o.positiveIntValue=t.longs===String?u.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new u.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&(\"number\"==typeof e.negativeIntValue?o.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:o.negativeIntValue=t.longs===String?u.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new u.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&(o.stringValue=t.bytes===String?u.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&(o.aggregateValue=e.aggregateValue),o},I.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},I.NamePart=(R.prototype.namePart=\"\",R.prototype.isExtension=!1,R.create=function(e){return new R(e)},R.encode=function(e,t){return(t=t||r.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.namePart=e.string();break;case 2:o.isExtension=e.bool();break;default:e.skipType(7&r)}}if(!o.hasOwnProperty(\"namePart\"))throw u.ProtocolError(\"missing required 'namePart'\",{instance:o});if(o.hasOwnProperty(\"isExtension\"))return o;throw u.ProtocolError(\"missing required 'isExtension'\",{instance:o})},R.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},R.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":u.isString(e.namePart)?\"boolean\"!=typeof e.isExtension?\"isExtension: boolean expected\":null:\"namePart: string expected\"},R.fromObject=function(e){var t;return e instanceof c.google.protobuf.UninterpretedOption.NamePart?e:(t=new c.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},R.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.namePart=\"\",n.isExtension=!1),null!=e.namePart&&e.hasOwnProperty(\"namePart\")&&(n.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty(\"isExtension\")&&(n.isExtension=e.isExtension),n},R.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},R),I),n.SourceCodeInfo=(_.prototype.location=u.emptyArray,_.create=function(e){return new _(e)},_.encode=function(e,t){if(t=t||r.create(),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)c.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.SourceCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(c.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&r)}return o},_.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},_.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.location&&e.hasOwnProperty(\"location\")){if(!Array.isArray(e.location))return\"location: array expected\";for(var t=0;t<e.location.length;++t){var n=c.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(n)return\"location.\"+n}}return null},_.fromObject=function(e){if(e instanceof c.google.protobuf.SourceCodeInfo)return e;var t=new c.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(\".google.protobuf.SourceCodeInfo.location: array expected\");t.location=[];for(var n=0;n<e.location.length;++n){if(\"object\"!=typeof e.location[n])throw TypeError(\".google.protobuf.SourceCodeInfo.location: object expected\");t.location[n]=c.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[n])}}return t},_.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.location=[]),e.location&&e.location.length){n.location=[];for(var o=0;o<e.location.length;++o)n.location[o]=c.google.protobuf.SourceCodeInfo.Location.toObject(e.location[o],t)}return n},_.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},_.Location=(C.prototype.path=u.emptyArray,C.prototype.span=u.emptyArray,C.prototype.leadingComments=\"\",C.prototype.trailingComments=\"\",C.prototype.leadingDetachedComments=u.emptyArray,C.create=function(e){return new C(e)},C.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){t.uint32(18).fork();for(n=0;n<e.span.length;++n)t.int32(e.span[n]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,\"leadingComments\")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,\"trailingComments\")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(n=0;n<e.leadingDetachedComments.length;++n)t.uint32(50).string(e.leadingDetachedComments[n]);return t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.span.push(e.int32());else o.span.push(e.int32());break;case 3:o.leadingComments=e.string();break;case 4:o.trailingComments=e.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(e.string());break;default:e.skipType(7&r)}}return o},C.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},C.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!u.isInteger(e.path[t]))return\"path: integer[] expected\"}if(null!=e.span&&e.hasOwnProperty(\"span\")){if(!Array.isArray(e.span))return\"span: array expected\";for(t=0;t<e.span.length;++t)if(!u.isInteger(e.span[t]))return\"span: integer[] expected\"}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&!u.isString(e.leadingComments))return\"leadingComments: string expected\";if(null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&!u.isString(e.trailingComments))return\"trailingComments: string expected\";if(null!=e.leadingDetachedComments&&e.hasOwnProperty(\"leadingDetachedComments\")){if(!Array.isArray(e.leadingDetachedComments))return\"leadingDetachedComments: array expected\";for(t=0;t<e.leadingDetachedComments.length;++t)if(!u.isString(e.leadingDetachedComments[t]))return\"leadingDetachedComments: string[] expected\"}return null},C.fromObject=function(e){if(e instanceof c.google.protobuf.SourceCodeInfo.Location)return e;var t=new c.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}if(e.span){if(!Array.isArray(e.span))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.span: array expected\");t.span=[];for(n=0;n<e.span.length;++n)t.span[n]=0|e.span[n]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected\");t.leadingDetachedComments=[];for(n=0;n<e.leadingDetachedComments.length;++n)t.leadingDetachedComments[n]=String(e.leadingDetachedComments[n])}return t},C.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[],n.span=[],n.leadingDetachedComments=[]),t.defaults&&(n.leadingComments=\"\",n.trailingComments=\"\"),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}if(e.span&&e.span.length){n.span=[];for(o=0;o<e.span.length;++o)n.span[o]=e.span[o]}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&(n.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&(n.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length){n.leadingDetachedComments=[];for(o=0;o<e.leadingDetachedComments.length;++o)n.leadingDetachedComments[o]=e.leadingDetachedComments[o]}return n},C.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},C),_),n.GeneratedCodeInfo=(J.prototype.annotation=u.emptyArray,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||r.create(),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)c.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.GeneratedCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(c.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&r)}return o},J.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},J.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.annotation&&e.hasOwnProperty(\"annotation\")){if(!Array.isArray(e.annotation))return\"annotation: array expected\";for(var t=0;t<e.annotation.length;++t){var n=c.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(n)return\"annotation.\"+n}}return null},J.fromObject=function(e){if(e instanceof c.google.protobuf.GeneratedCodeInfo)return e;var t=new c.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: array expected\");t.annotation=[];for(var n=0;n<e.annotation.length;++n){if(\"object\"!=typeof e.annotation[n])throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: object expected\");t.annotation[n]=c.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[n])}}return t},J.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.annotation=[]),e.annotation&&e.annotation.length){n.annotation=[];for(var o=0;o<e.annotation.length;++o)n.annotation[o]=c.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[o],t)}return n},J.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},J.Annotation=(V.prototype.path=u.emptyArray,V.prototype.sourceFile=\"\",V.prototype.begin=0,V.prototype.end=0,V.create=function(e){return new V(e)},V.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,\"sourceFile\")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,\"begin\")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(32).int32(e.end),t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:o.sourceFile=e.string();break;case 3:o.begin=e.int32();break;case 4:o.end=e.int32();break;default:e.skipType(7&r)}}return o},V.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},V.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!u.isInteger(e.path[t]))return\"path: integer[] expected\"}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&!u.isString(e.sourceFile)?\"sourceFile: string expected\":null!=e.begin&&e.hasOwnProperty(\"begin\")&&!u.isInteger(e.begin)?\"begin: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end)?\"end: integer expected\":null},V.fromObject=function(e){if(e instanceof c.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new c.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},V.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.sourceFile=\"\",n.begin=0,n.end=0),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&(n.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty(\"begin\")&&(n.begin=e.begin),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},V.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},V),J),n.Any=(H.prototype.type_url=\"\",H.prototype.value=u.newBuffer([]),H.create=function(e){return new H(e)},H.encode=function(e,t){return t=t||r.create(),null!=e.type_url&&Object.hasOwnProperty.call(e,\"type_url\")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,\"value\")&&t.uint32(18).bytes(e.value),t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.Any;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type_url=e.string();break;case 2:o.value=e.bytes();break;default:e.skipType(7&r)}}return o},H.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},H.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&!u.isString(e.type_url)?\"type_url: string expected\":null!=e.value&&e.hasOwnProperty(\"value\")&&!(e.value&&\"number\"==typeof e.value.length||u.isString(e.value))?\"value: buffer expected\":null},H.fromObject=function(e){var t;return e instanceof c.google.protobuf.Any?e:(t=new c.google.protobuf.Any,null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&(\"string\"==typeof e.value?u.base64.decode(e.value,t.value=u.newBuffer(u.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t)},H.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type_url=\"\",t.bytes===String?n.value=\"\":(n.value=[],t.bytes!==Array&&(n.value=u.newBuffer(n.value)))),null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&(n.type_url=e.type_url),null!=e.value&&e.hasOwnProperty(\"value\")&&(n.value=t.bytes===String?u.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},H.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},H),n),F),c});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3Byb3Rvcy9sb2NhdGlvbnMuanMiLCJtYXBwaW5ncyI6IkFBQUEscUdBQUssS0FBcUMsQ0FBQyxpQ0FBTyxDQUFDLHNHQUFvQixDQUFDLG9DQUFDLENBQUM7QUFBQTtBQUFBO0FBQUEsa0dBQUMsQ0FBQyxDQUE4SCxDQUFDLGNBQWMsbUdBQW1HLEVBQUUsa0JBQWtCLCtCQUErQixjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLG9EQUFvRCxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGlCQUFpQixnQ0FBZ0MsV0FBVyx3Q0FBd0MsY0FBYyxnREFBZ0QsV0FBVyx3Q0FBd0MsY0FBYyw2REFBNkQsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYywrQ0FBK0MsV0FBVyx3Q0FBd0MsY0FBYyw0S0FBNEssV0FBVyx3Q0FBd0MsY0FBYywwTEFBMEwsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYywyRkFBMkYsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxpREFBaUQsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyxxR0FBcUcsV0FBVyx3Q0FBd0MsY0FBYywrQ0FBK0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxtREFBbUQsV0FBVyx3Q0FBd0MsY0FBYyw0RkFBNEYsV0FBVyx3Q0FBd0MsY0FBYyxxREFBcUQsV0FBVyx3Q0FBd0MsY0FBYywrQ0FBK0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0Msc0JBQXNCLGNBQWMsaUJBQWlCLHlHQUF5Ryx1QkFBdUIsaUVBQWlFLHNIQUFzSCxTQUFTLHNCQUFzQixnRUFBZ0UsdUdBQXVHLFNBQVMsb0JBQW9CLDRJQUE0SSxnQkFBZ0Isd0JBQXdCLHlYQUF5WCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msc0ZBQXNGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwyQkFBMkIsTUFBTSw0QkFBNEIsTUFBTSw4QkFBOEIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3YkFBd2IsMEJBQTBCLE1BQU0sNlNBQTZTLDBCQUEwQixTQUFTLGNBQWMsOFVBQThVLCtCQUErQiw0REFBNEQsa0hBQWtILGdCQUFnQix3QkFBd0IscUVBQXFFLHFCQUFxQix5RkFBeUYsb0hBQW9ILGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx1RkFBdUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLGlJQUFpSSxNQUFNLGtDQUFrQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxxREFBcUQsaUVBQWlFLFlBQVkscUJBQXFCLEtBQUssOERBQThELDJCQUEyQixvSUFBb0ksMEJBQTBCLHVFQUF1RSx3REFBd0QsZ0JBQWdCLHlIQUF5SCxlQUFlLFlBQVkscUJBQXFCLEtBQUssOEhBQThILDRFQUE0RSwwRUFBMEUsMEJBQTBCLFNBQVMsWUFBWSwwR0FBMEcsZUFBZSxZQUFZLHFCQUFxQiwrRUFBK0UscUdBQXFHLCtCQUErQiw0REFBNEQsbUVBQW1FLGdCQUFnQix3QkFBd0IseUdBQXlHLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxvRkFBb0YsUUFBUSxFQUFFLGlCQUFpQiwyQ0FBMkMsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQiw4SUFBOEksMEJBQTBCLE1BQU0sNEpBQTRKLDBCQUEwQixTQUFTLGNBQWMsa0ZBQWtGLCtCQUErQiw0REFBNEQseUtBQXlLLGdCQUFnQix3QkFBd0IsOExBQThMLFdBQVcsMkZBQTJGLGtWQUFrVixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwrQkFBK0IsTUFBTSxnQ0FBZ0MsTUFBTSw2Q0FBNkMsRUFBRSxxQ0FBcUMsUUFBUSxFQUFFLGlCQUFpQixjQUFjLG9CQUFvQixNQUFNLG9CQUFvQixNQUFNLHlCQUF5QixjQUFjLE1BQU0sNkRBQTZELE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixxSEFBcUgseUhBQXlILCtDQUErQyx5REFBeUQsb0NBQW9DLFdBQVcseURBQXlELFVBQVUsVUFBVSxtREFBbUQsK0NBQStDLHlCQUF5QixZQUFZLDBCQUEwQiwwREFBMEQsMkNBQTJDLHNLQUFzSyx3R0FBd0csWUFBWSxvQ0FBb0MsV0FBVywwQ0FBMEMscUJBQXFCLDRHQUE0Ryx3REFBd0QsU0FBUywwQkFBMEIsV0FBVyxZQUFZLG9DQUFvQywrS0FBK0ssWUFBWSxZQUFZLFdBQVcsa0NBQWtDLHVSQUF1UiwrQkFBK0IsNERBQTRELHNCQUFzQix3R0FBd0csZ0JBQWdCLHdCQUF3Qiw2REFBNkQsaUJBQWlCLDBFQUEwRSwrSkFBK0osaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDJEQUEyRCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsc0dBQXNHLE1BQU0sK0NBQStDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZDQUE2Qyx5REFBeUQsWUFBWSxpQkFBaUIsS0FBSywrQ0FBK0MsdUJBQXVCLHNNQUFzTSwwQkFBMEIsMkNBQTJDLDRCQUE0QixZQUFZLHFGQUFxRixXQUFXLFlBQVksaUJBQWlCLEtBQUssMEZBQTBGLHlEQUF5RCx3SEFBd0gsMEJBQTBCLFNBQVMsWUFBWSw2R0FBNkcsV0FBVyxZQUFZLGlCQUFpQiw0REFBNEQsaUtBQWlLLCtCQUErQiw0REFBNEQsd1RBQXdULHlGQUF5Rix1QkFBdUIsZ0JBQWdCLHdCQUF3QiwyeEJBQTJ4Qiw4QkFBOEIsdUZBQXVGLGlIQUFpSCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0RBQStELFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSx3QkFBd0IsTUFBTSx3QkFBd0IsTUFBTSx5QkFBeUIsTUFBTSwyQkFBMkIsTUFBTSwwQkFBMEIsTUFBTSxvRUFBb0UsTUFBTSx5QkFBeUIsTUFBTSxrQ0FBa0MsTUFBTSwySkFBMkosTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsU0FBUyw2R0FBNkcsdUdBQXVHLHlDQUF5QyxrREFBa0QsK0RBQStELDJDQUEyQyxrREFBa0QsaUVBQWlFLCtDQUErQyxrREFBa0QscUVBQXFFLDZDQUE2QyxrREFBa0QsbUVBQW1FLCtDQUErQyxrREFBa0QsbUZBQW1GLDZGQUE2Riw2SEFBNkgsdUVBQXVFLG1GQUFtRixjQUFjLDhCQUE4Qiw2RkFBNkYsWUFBWSwwQkFBMEIsK0NBQStDLGdDQUFnQyxzUUFBc1EsNkZBQTZGLDZEQUE2RCw2SEFBNkgsbUhBQW1ILHdCQUF3QixZQUFZLDhCQUE4QixLQUFLLHdIQUF3SCxtRkFBbUYsU0FBUywwQkFBMEIsU0FBUyxZQUFZLG8xQkFBbzFCLHdCQUF3QixZQUFZLDhCQUE4QixzRkFBc0YsaUdBQWlHLCtCQUErQiw0REFBNEQsc0ZBQXNGLGdCQUFnQix3QkFBd0IseUxBQXlMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RUFBd0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHlCQUF5QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLGtPQUFrTywwQkFBMEIsTUFBTSwwS0FBMEssMEJBQTBCLFNBQVMsY0FBYyxvSkFBb0osK0JBQStCLDREQUE0RCx3QkFBd0Isd0VBQXdFLGdCQUFnQix3QkFBd0IsMkRBQTJELGdCQUFnQix5RkFBeUYsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsNkVBQTZFLFFBQVEsRUFBRSxpQkFBaUIsc0lBQXNJLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJDQUEyQyx1REFBdUQsWUFBWSxnQkFBZ0IsS0FBSyw4REFBOEQsc0JBQXNCLFlBQVksMEJBQTBCLDZEQUE2RCw4Q0FBOEMsV0FBVyxxR0FBcUcsVUFBVSxZQUFZLGdCQUFnQixLQUFLLDBHQUEwRyx1RUFBdUUsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDBEQUEwRCxVQUFVLFlBQVksZ0JBQWdCLDBFQUEwRSxTQUFTLCtCQUErQiw0REFBNEQsMmFBQTJhLGdCQUFnQix3QkFBd0IsZ1BBQWdQLHNCQUFzQix5Q0FBeUMscURBQXFELHVCQUF1Qiw0RkFBNEYsK0NBQStDLG9CQUFvQiw2RkFBNkYsNkNBQTZDLG1CQUFtQiwrRkFBK0YsaURBQWlELHFCQUFxQiwrRkFBK0YscVdBQXFXLDRCQUE0Qiw4Q0FBOEMsMkRBQTJELDBCQUEwQiw0Q0FBNEMsK0ZBQStGLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywrRUFBK0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDRCQUE0QixNQUFNLDBGQUEwRixNQUFNLHNIQUFzSCxRQUFRLG9DQUFvQyx3Q0FBd0MsTUFBTSw0R0FBNEcsUUFBUSxrQ0FBa0Msc0NBQXNDLE1BQU0sMElBQTBJLE1BQU0sa0lBQWtJLE1BQU0saUlBQWlJLE1BQU0sdUlBQXVJLE1BQU0sb0VBQW9FLE1BQU0sOEVBQThFLE1BQU0sNEJBQTRCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Rix5R0FBeUcsdURBQXVELG1FQUFtRSxZQUFZLHNCQUFzQiwwRUFBMEUsbUVBQW1FLCtFQUErRSxRQUFRLDRCQUE0Qix3RkFBd0YsK0RBQStELDJFQUEyRSxRQUFRLDBCQUEwQixvRkFBb0YseURBQXlELHFFQUFxRSxRQUFRLHVCQUF1QiwyRkFBMkYsbURBQW1ELCtEQUErRCxRQUFRLG9CQUFvQix5RkFBeUYsaURBQWlELDZEQUE2RCxRQUFRLG1CQUFtQiwwRkFBMEYscURBQXFELGlFQUFpRSxRQUFRLHFCQUFxQiw0RkFBNEYsTUFBTSx3SEFBd0gsdUpBQXVKLHdHQUF3RywwQkFBMEIsK0RBQStELGdEQUFnRCxzR0FBc0csbUhBQW1ILGdCQUFnQixZQUFZLHNCQUFzQiw0Q0FBNEMsdUJBQXVCLCtIQUErSCxzQkFBc0IsUUFBUSw0QkFBNEIsa0RBQWtELHFCQUFxQiwySEFBMkgsb0JBQW9CLFFBQVEsMEJBQTBCLDhDQUE4QyxrQkFBa0IscUhBQXFILGlCQUFpQixRQUFRLHVCQUF1QixLQUFLLDBIQUEwSCxpRkFBaUYsZUFBZSwrR0FBK0csY0FBYyxRQUFRLG9CQUFvQixLQUFLLG9IQUFvSCwrRUFBK0UsY0FBYyw2R0FBNkcsYUFBYSxRQUFRLG1CQUFtQixLQUFLLGtIQUFrSCxnRkFBZ0YsZ0JBQWdCLGlIQUFpSCxlQUFlLFFBQVEscUJBQXFCLEtBQUssc0hBQXNILGtGQUFrRixvQkFBb0IsK0dBQStHLDhEQUE4RCwyQkFBMkIsNkhBQTZILCtFQUErRSxxREFBcUQsMEJBQTBCLFNBQVMsWUFBWSxtWUFBbVksZ0JBQWdCLFlBQVksc0JBQXNCLG9DQUFvQyx3Q0FBd0MsaUJBQWlCLFFBQVEsdUJBQXVCLG9GQUFvRixrQ0FBa0MsY0FBYyxRQUFRLG9CQUFvQixrRkFBa0YsZ0NBQWdDLGFBQWEsUUFBUSxtQkFBbUIsbUZBQW1GLG9DQUFvQyxlQUFlLFFBQVEscUJBQXFCLHFGQUFxRiw2U0FBNlMsc0JBQXNCLFFBQVEsNEJBQTRCLGdEQUFnRCw4Q0FBOEMsb0JBQW9CLFFBQVEsMEJBQTBCLDRDQUE0Qyx5RUFBeUUsK0JBQStCLDREQUE0RCx5WEFBeVgsZ0JBQWdCLHdCQUF3Qiw2SUFBNkksaUJBQWlCLDJGQUEyRixtREFBbUQsc0JBQXNCLDJGQUEyRiwrQ0FBK0Msb0JBQW9CLDZGQUE2RiwyREFBMkQsMEJBQTBCLDhHQUE4RyxpREFBaUQscUJBQXFCLCtGQUErRiwyTEFBMkwscUJBQXFCLCtGQUErRix5REFBeUQseUJBQXlCLDRHQUE0Ryx1REFBdUQsd0JBQXdCLDJDQUEyQyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywyRUFBMkUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVIQUF1SCxNQUFNLHVJQUF1SSxNQUFNLHNJQUFzSSxNQUFNLGtJQUFrSSxNQUFNLHFLQUFxSyxNQUFNLHVJQUF1SSxNQUFNLHVFQUF1RSxNQUFNLGdLQUFnSyxNQUFNLG1HQUFtRyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsNkNBQTZDLHlEQUF5RCxZQUFZLGlCQUFpQixvRkFBb0YscURBQXFELGlFQUFpRSxRQUFRLHFCQUFxQiw0RkFBNEYsdURBQXVELG1FQUFtRSxRQUFRLHNCQUFzQix5RkFBeUYsbURBQW1ELCtEQUErRCxRQUFRLG9CQUFvQix5RkFBeUYsK0RBQStELDJFQUEyRSxRQUFRLDBCQUEwQixnSEFBZ0gscURBQXFELGlFQUFpRSxRQUFRLHFCQUFxQiw0RkFBNEYsMkhBQTJILDZEQUE2RCx5RUFBeUUsY0FBYyx5QkFBeUIsNkdBQTZHLDJEQUEyRCx1RUFBdUUsUUFBUSx3QkFBd0IsOEVBQThFLFlBQVksMEJBQTBCLDJEQUEyRCw0Q0FBNEMsa0RBQWtELHFHQUFxRyxXQUFXLFlBQVksaUJBQWlCLEtBQUssMEdBQTBHLDBFQUEwRSxnQkFBZ0IsNkdBQTZHLGVBQWUsUUFBUSxxQkFBcUIsS0FBSyxrSEFBa0gsa0ZBQWtGLGlCQUFpQiwrR0FBK0csZ0JBQWdCLFFBQVEsc0JBQXNCLEtBQUssb0hBQW9ILCtFQUErRSxlQUFlLDJHQUEyRyxjQUFjLFFBQVEsb0JBQW9CLEtBQUssZ0hBQWdILCtFQUErRSxxQkFBcUIsdUhBQXVILG9CQUFvQixRQUFRLDBCQUEwQixLQUFLLDRIQUE0SCxzR0FBc0csZ0JBQWdCLDZHQUE2RyxlQUFlLFFBQVEscUJBQXFCLEtBQUssa0hBQWtILGtGQUFrRixvQkFBb0IsMkdBQTJHLGlFQUFpRSxvQkFBb0IscUhBQXFILG1CQUFtQixRQUFRLHlCQUF5QixLQUFLLDBIQUEwSCxtR0FBbUcsbUJBQW1CLG1IQUFtSCxrQkFBa0IsUUFBUSx3QkFBd0IsZ0RBQWdELFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxpUkFBaVIsV0FBVyxZQUFZLGlCQUFpQiw2RUFBNkUsc0NBQXNDLGdCQUFnQixRQUFRLHNCQUFzQixrRkFBa0Ysa0NBQWtDLGNBQWMsUUFBUSxvQkFBb0Isa0ZBQWtGLDhDQUE4QyxvQkFBb0IsUUFBUSwwQkFBMEIseUdBQXlHLG9DQUFvQyxlQUFlLFFBQVEscUJBQXFCLHFGQUFxRixxSkFBcUosZUFBZSxRQUFRLHFCQUFxQixxRkFBcUYsNENBQTRDLG1CQUFtQixRQUFRLHlCQUF5QixzR0FBc0csMENBQTBDLGtCQUFrQixRQUFRLHdCQUF3Qix3Q0FBd0MsU0FBUywrQkFBK0IsNERBQTRELHVHQUF1RyxnQkFBZ0Isd0JBQXdCLHVVQUF1VSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEZBQTBGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSw4RUFBOEUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsbUdBQW1HLDJGQUEyRixpREFBaUQsNERBQTRELHdCQUF3QixZQUFZLDBCQUEwQiwwRUFBMEUsMkRBQTJELG9GQUFvRiwwSEFBMEgsd0VBQXdFLFNBQVMsMEJBQTBCLFNBQVMsY0FBYyx5UkFBeVIsK0JBQStCLDREQUE0RCxnRkFBZ0YsZ0JBQWdCLHdCQUF3QixzTEFBc0wsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHlGQUF5RixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isc09BQXNPLDBCQUEwQixNQUFNLGdNQUFnTSwwQkFBMEIsU0FBUyxjQUFjLGtKQUFrSiwrQkFBK0IsNERBQTRELGtHQUFrRyxnQkFBZ0Isd0JBQXdCLHlGQUF5RiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlGQUFpRixRQUFRLEVBQUUsaUJBQWlCLG9NQUFvTSxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQixpRUFBaUUsa0RBQWtELDBCQUEwQix1SUFBdUkseUJBQXlCLFlBQVksK0JBQStCLEtBQUssNElBQTRJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksdUdBQXVHLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHFUQUFxVCxnQkFBZ0Isd0JBQXdCLGlqQ0FBaWpDLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxnRkFBZ0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDBCQUEwQixNQUFNLHlCQUF5QixNQUFNLHdCQUF3QixNQUFNLDZCQUE2QixNQUFNLDZCQUE2QixNQUFNLGlDQUFpQyxNQUFNLDhCQUE4QixNQUFNLDhCQUE4QixNQUFNLHFFQUFxRSxNQUFNLGtDQUFrQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsdUdBQXVHLDREQUE0RCwyQ0FBMkMsc0JBQXNCLHlEQUF5RCwwQ0FBMEMsd0lBQXdJLDZHQUE2Ryw2R0FBNkcsNkhBQTZILHVIQUF1SCw2R0FBNkcsaURBQWlELHVEQUF1RCx3QkFBd0IsOElBQThJLDBCQUEwQixnRUFBZ0UsaURBQWlELDRGQUE0RixzQ0FBc0MsTUFBTSxzQ0FBc0MsTUFBTSxzQ0FBc0MsZUFBZSxrQ0FBa0MsTUFBTSxpQ0FBaUMsTUFBTSxpQ0FBaUMsTUFBTSxrQ0FBa0MsTUFBTSxpQ0FBaUMsTUFBTSxtQ0FBbUMsTUFBTSxtQ0FBbUMsTUFBTSxnQ0FBZ0MsTUFBTSxrQ0FBa0MsTUFBTSxtQ0FBbUMsTUFBTSxxQ0FBcUMsTUFBTSxtQ0FBbUMsTUFBTSxvQ0FBb0MsTUFBTSxrQ0FBa0MsTUFBTSxzQ0FBc0MsTUFBTSxzQ0FBc0MsTUFBTSxvQ0FBb0MsTUFBTSxvQ0FBb0MsMFJBQTBSLGdIQUFnSCwrREFBK0QsOEVBQThFLDBCQUEwQixTQUFTLGNBQWMsOHFDQUE4cUMsK0JBQStCLDREQUE0RCxhQUFhLG9lQUFvZSxxTUFBcU0sZ0JBQWdCLHdCQUF3QixpUEFBaVAsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGdGQUFnRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0scUVBQXFFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixpREFBaUQsbURBQW1ELHdCQUF3QixZQUFZLDBCQUEwQixnRUFBZ0UsaURBQWlELDBEQUEwRCxnSEFBZ0gsK0RBQStELFNBQVMsMEJBQTBCLFNBQVMsY0FBYyxnTkFBZ04sK0JBQStCLDREQUE0RCx5TUFBeU0sZ0JBQWdCLHdCQUF3Qiw2SUFBNkksaUJBQWlCLCtGQUErRixnTUFBZ00seUJBQXlCLG9IQUFvSCx1REFBdUQsd0JBQXdCLDJDQUEyQyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywrRUFBK0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDJIQUEySCxNQUFNLG9FQUFvRSxNQUFNLHdLQUF3SyxNQUFNLGtHQUFrRyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsNkNBQTZDLHlEQUF5RCxZQUFZLGlCQUFpQix3RkFBd0Ysd0hBQXdILDZEQUE2RCx5RUFBeUUsY0FBYyx5QkFBeUIscUhBQXFILDJEQUEyRCx1RUFBdUUsUUFBUSx3QkFBd0IsOEVBQThFLFlBQVksMEJBQTBCLCtEQUErRCxnREFBZ0Qsa0RBQWtELHlHQUF5RyxXQUFXLFlBQVksaUJBQWlCLEtBQUssOEdBQThHLDhFQUE4RSxvQkFBb0IsK0dBQStHLDhEQUE4RCxvQkFBb0IseUhBQXlILG1CQUFtQixRQUFRLHlCQUF5QixLQUFLLDhIQUE4SCwyR0FBMkcsbUJBQW1CLHVIQUF1SCxrQkFBa0IsUUFBUSx3QkFBd0IsZ0RBQWdELFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxpTUFBaU0sV0FBVyxZQUFZLGlCQUFpQixpRkFBaUYsMEpBQTBKLG1CQUFtQixRQUFRLHlCQUF5Qiw4R0FBOEcsMENBQTBDLGtCQUFrQixRQUFRLHdCQUF3Qix3Q0FBd0MsU0FBUywrQkFBK0IsNERBQTRELGlGQUFpRixnQkFBZ0Isd0JBQXdCLHNMQUFzTCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsaUdBQWlHLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixzT0FBc08sMEJBQTBCLE1BQU0sZ05BQWdOLDBCQUEwQixTQUFTLGNBQWMsa0pBQWtKLCtCQUErQiw0REFBNEQsMEhBQTBILGdCQUFnQix3QkFBd0IsMFVBQTBVLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxvRkFBb0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDBCQUEwQixNQUFNLHlFQUF5RSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsdUdBQXVHLGlEQUFpRCx1REFBdUQsd0JBQXdCLFlBQVksMEJBQTBCLG9FQUFvRSxxREFBcUQsZ0dBQWdHLG9IQUFvSCxtRUFBbUUsU0FBUywwQkFBMEIsU0FBUyxjQUFjLCtSQUErUiwrQkFBK0IsNERBQTRELGdJQUFnSSxnQkFBZ0Isd0JBQXdCLCtJQUErSSxrQkFBa0IsNkZBQTZGLG1KQUFtSixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msa0ZBQWtGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw0SEFBNEgsTUFBTSx1RUFBdUUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLCtDQUErQywyREFBMkQsWUFBWSxrQkFBa0IsdUZBQXVGLE1BQU0sMkhBQTJILFlBQVksMEJBQTBCLGtFQUFrRSxtREFBbUQsbURBQW1ELDhHQUE4RyxZQUFZLFlBQVksa0JBQWtCLEtBQUssbUhBQW1ILDZFQUE2RSxvQkFBb0Isa0hBQWtILGlFQUFpRSxTQUFTLDBCQUEwQixTQUFTLFlBQVksK0pBQStKLFlBQVksWUFBWSxrQkFBa0IsZ0ZBQWdGLDBIQUEwSCwrQkFBK0IsNERBQTRELGdOQUFnTixnQkFBZ0Isd0JBQXdCLGlwQkFBaXBCLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpRkFBaUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDhCQUE4QixNQUFNLCtCQUErQixNQUFNLHNFQUFzRSxNQUFNLGtDQUFrQyxNQUFNLGtDQUFrQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsaUhBQWlILHFIQUFxSCxpREFBaUQsd0RBQXdELHdCQUF3Qix3UkFBd1IsMEJBQTBCLGlFQUFpRSxrREFBa0QsdUtBQXVLLGlIQUFpSCxnRUFBZ0UseUpBQXlKLDBCQUEwQixTQUFTLGNBQWMsOG5CQUE4bkIsK0JBQStCLDREQUE0RCxtc0JBQW1zQixnQkFBZ0Isd0JBQXdCLGt6RUFBa3pFLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsdUVBQXVFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxnQ0FBZ0MsTUFBTSx1Q0FBdUMsTUFBTSxxQ0FBcUMsTUFBTSw2Q0FBNkMsTUFBTSx1Q0FBdUMsTUFBTSwrQkFBK0IsTUFBTSwrQkFBK0IsTUFBTSxxQ0FBcUMsTUFBTSx1Q0FBdUMsTUFBTSxxQ0FBcUMsTUFBTSxzQ0FBc0MsTUFBTSw4QkFBOEIsTUFBTSxrQ0FBa0MsTUFBTSxxQ0FBcUMsTUFBTSxxQ0FBcUMsTUFBTSxpQ0FBaUMsTUFBTSxvQ0FBb0MsTUFBTSxrQ0FBa0MsTUFBTSwwQ0FBMEMsTUFBTSxpQ0FBaUMsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QseUhBQXlILHFKQUFxSix1SkFBdUosdUxBQXVMLCtKQUErSiw4RUFBOEUsaURBQWlELHNCQUFzQixpSEFBaUgsdUpBQXVKLCtKQUErSix1SkFBdUosMkpBQTJKLDJIQUEySCwySUFBMkkseUlBQXlJLHlJQUF5SSx5SEFBeUgscUlBQXFJLDZIQUE2SCw2SkFBNkoseUhBQXlILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLHVEQUF1RCx3Q0FBd0MseWFBQXlhLG1DQUFtQyxNQUFNLHVDQUF1QyxNQUFNLDBDQUEwQywwK0JBQTArQiw2SEFBNkgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssa0lBQWtJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksMmxGQUEybEYseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQscUJBQXFCLGlUQUFpVCxnQkFBZ0Isd0JBQXdCLHNpQkFBc2lCLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx1Q0FBdUMsTUFBTSwrQ0FBK0MsTUFBTSw2QkFBNkIsTUFBTSwyQkFBMkIsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsbUtBQW1LLG1NQUFtTSwySEFBMkgsbUhBQW1ILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLDBEQUEwRCwyQ0FBMkMsNFVBQTRVLGdJQUFnSSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxxSUFBcUkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSx1bkJBQXVuQix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCx1TkFBdU4sZ0JBQWdCLHdCQUF3Qiwra0JBQStrQiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0seUJBQXlCLE1BQU0sMEJBQTBCLE1BQU0sdUJBQXVCLE1BQU0sNkJBQTZCLE1BQU0sd0JBQXdCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDREQUE0RCwyQ0FBMkMsc0JBQXNCLDJHQUEyRywrREFBK0QsNENBQTRDLHNCQUFzQixtR0FBbUcsMkhBQTJILG1HQUFtRyx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix3REFBd0QseUNBQXlDLGdCQUFnQiw4QkFBOEIsTUFBTSw0QkFBNEIsTUFBTSxvQ0FBb0MsOERBQThELGtDQUFrQyxNQUFNLGtDQUFrQyxNQUFNLGtDQUFrQyxpS0FBaUssOEhBQThILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLG1JQUFtSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDZ1QkFBNnVCLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELGNBQWMsa0dBQWtHLDhLQUE4SyxnQkFBZ0Isd0JBQXdCLHlGQUF5RiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLG9NQUFvTSxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix3REFBd0QseUNBQXlDLDBCQUEwQiw4SEFBOEgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssbUlBQW1JLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksdUdBQXVHLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHlJQUF5SSxnQkFBZ0Isd0JBQXdCLHlSQUF5UiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHVFQUF1RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sNkJBQTZCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCwySEFBMkgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsdURBQXVELHdDQUF3Qyw0SUFBNEksNkhBQTZILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLGtJQUFrSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHFUQUFxVCx5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxvSEFBb0gsZ0JBQWdCLHdCQUF3Qix3TEFBd0wsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw0RUFBNEUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLGdMQUFnTCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwySEFBMkgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsNERBQTRELDZDQUE2QyxtRkFBbUYsa0lBQWtJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLHVJQUF1SSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHFOQUFxTix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxzTUFBc00sZ0JBQWdCLHdCQUF3QiwwTEFBMEwsK0JBQStCLDBHQUEwRywyU0FBMlMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsOEJBQThCLE1BQU0sZ0xBQWdMLE1BQU0sa0RBQWtELE1BQU0sa0RBQWtELE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyx3VkFBd1YsMEJBQTBCLDBEQUEwRCwyQ0FBMkMsbUZBQW1GLGdJQUFnSSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxxSUFBcUkscUdBQXFHLHlOQUF5TiwwQkFBMEIsU0FBUyxZQUFZLHFSQUFxUix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLG1TQUFtUywrQkFBK0IsNERBQTRELDZPQUE2TyxnQkFBZ0Isd0JBQXdCLDhTQUE4UywrQkFBK0IsMEdBQTBHLDJGQUEyRiwwQ0FBMEMsK0RBQStELGdMQUFnTCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MseUVBQXlFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw4QkFBOEIsTUFBTSxxQ0FBcUMsTUFBTSxnTEFBZ0wsTUFBTSwrRUFBK0UsTUFBTSw2S0FBNkssTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILDZGQUE2RixzREFBc0Qsc0JBQXNCLHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsK0dBQStHLE1BQU0sMEpBQTBKLDRGQUE0Rix3R0FBd0csUUFBUSwwQ0FBMEMsK0dBQStHLFlBQVksMEJBQTBCLHlEQUF5RCwwQ0FBMEMsb0ZBQW9GLHNEQUFzRCxNQUFNLGtEQUFrRCxNQUFNLDZDQUE2QywwQkFBMEIsK0hBQStILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLG9JQUFvSSxxR0FBcUcsZ0NBQWdDLDhIQUE4SCw4RUFBOEUscUNBQXFDLGtKQUFrSixvQ0FBb0MsUUFBUSwwQ0FBMEMsb0ZBQW9GLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSw4Z0JBQThnQix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLDhFQUE4RSxvQ0FBb0MsUUFBUSwwQ0FBMEMsNEVBQTRFLDRKQUE0SiwrQkFBK0IsNERBQTRELHlCQUF5QixrYkFBa2IsZ0JBQWdCLHdCQUF3QiwyREFBMkQsZ0JBQWdCLGtHQUFrRyx3cEJBQXdwQixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0VBQStFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYywySEFBMkgsTUFBTSxvQ0FBb0MsTUFBTSxxQ0FBcUMsTUFBTSxvQ0FBb0MsTUFBTSxnQ0FBZ0MsTUFBTSwrQkFBK0IsTUFBTSxtQ0FBbUMsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixLQUFLLHVFQUF1RSxzQkFBc0IsNC9CQUE0L0IsMEJBQTBCLCtEQUErRCxnREFBZ0QsV0FBVyx1R0FBdUcsVUFBVSxZQUFZLGdCQUFnQixLQUFLLDRHQUE0RyxnRkFBZ0Ysa3NDQUFrc0MsMEJBQTBCLFdBQVcsWUFBWSxvaUJBQW9pQixVQUFVLFlBQVksZ0JBQWdCLG1GQUFtRix5ekNBQXl6QywrQkFBK0IsNERBQTRELHFGQUFxRixnQkFBZ0Isd0JBQXdCLHlGQUF5RixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0ZBQXdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSw4QkFBOEIsTUFBTSx5QkFBeUIsc0ZBQXNGLFdBQVcsRUFBRSw0Q0FBNEMsd0RBQXdELFdBQVcsRUFBRSwrQkFBK0IsOERBQThELHNCQUFzQiw2S0FBNkssMEJBQTBCLE1BQU0sNE9BQTRPLDBCQUEwQixTQUFTLGNBQWMsMk1BQTJNLCtCQUErQiw0REFBNEQsZ0ZBQWdGLGdCQUFnQix3QkFBd0IsbUVBQW1FLG9CQUFvQixpR0FBaUcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsMEpBQTBKLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELG1EQUFtRCwrREFBK0QsWUFBWSxvQkFBb0IsS0FBSyxzRUFBc0UsMEJBQTBCLFlBQVksMEJBQTBCLDBEQUEwRCwyQ0FBMkMsZUFBZSwwR0FBMEcsY0FBYyxZQUFZLG9CQUFvQixLQUFLLCtHQUErRyxtRkFBbUYsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHNFQUFzRSxjQUFjLFlBQVksb0JBQW9CLHNGQUFzRixTQUFTLCtCQUErQiw0REFBNEQsOE1BQThNLGdCQUFnQix3QkFBd0IsZ0RBQWdELG9CQUFvQixZQUFZLGdCQUFnQix1QkFBdUIsV0FBVyxnQ0FBZ0Msb0JBQW9CLFFBQVEsZ0JBQWdCLHVCQUF1QixXQUFXLGtUQUFrVCxtQ0FBbUMsc0RBQXNELFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLG1GQUFtRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsaUZBQWlGLFFBQVEsd0JBQXdCLDRCQUE0QixNQUFNLDZFQUE2RSxRQUFRLHdCQUF3Qiw0QkFBNEIsTUFBTSxvQ0FBb0MsTUFBTSxxQ0FBcUMsTUFBTSw4SUFBOEksTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixnRUFBZ0UsMkNBQTJDLHVEQUF1RCxRQUFRLGdCQUFnQixnRUFBZ0UseUlBQXlJLDZJQUE2SSxpRkFBaUYsNkZBQTZGLFFBQVEsbUNBQW1DLG9HQUFvRyxZQUFZLDBCQUEwQixtRUFBbUUsb0RBQW9ELFdBQVcsMkdBQTJHLFVBQVUsWUFBWSxnQkFBZ0IsMEJBQTBCLFdBQVcsMkdBQTJHLFVBQVUsUUFBUSxnQkFBZ0IsMEJBQTBCLCtLQUErSyxpSkFBaUosNkJBQTZCLFFBQVEsbUNBQW1DLHNFQUFzRSxTQUFTLDBCQUEwQixTQUFTLFlBQVksMEpBQTBKLFVBQVUsWUFBWSxnQkFBZ0Isd0JBQXdCLDBCQUEwQixVQUFVLFFBQVEsZ0JBQWdCLHdCQUF3Qiw0UUFBNFEsNkJBQTZCLFFBQVEsbUNBQW1DLDhEQUE4RCxTQUFTLCtCQUErQiw0REFBNEQscUZBQXFGLGdCQUFnQix3QkFBd0IsdUVBQXVFLHNCQUFzQix3R0FBd0csU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsNkVBQTZFLFFBQVEsRUFBRSxpQkFBaUIsdUtBQXVLLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHVEQUF1RCxtRUFBbUUsWUFBWSxzQkFBc0IsS0FBSyw2RUFBNkUsNEJBQTRCLFlBQVksMEJBQTBCLDZEQUE2RCw4Q0FBOEMsaUJBQWlCLGlIQUFpSCxnQkFBZ0IsWUFBWSxzQkFBc0IsS0FBSyxzSEFBc0gsNEZBQTRGLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSw0RUFBNEUsZ0JBQWdCLFlBQVksc0JBQXNCLCtGQUErRixTQUFTLCtCQUErQiw0REFBNEQsa0lBQWtJLGdCQUFnQix3QkFBd0IsZ0RBQWdELG9CQUFvQixZQUFZLGdCQUFnQix1QkFBdUIsV0FBVyx5UUFBeVEsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdGQUF3RixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsaUZBQWlGLFFBQVEsd0JBQXdCLDRCQUE0QixNQUFNLCtCQUErQixNQUFNLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyQ0FBMkMsdURBQXVELFlBQVksZ0JBQWdCLGdFQUFnRSxvU0FBb1MsMEJBQTBCLHdFQUF3RSx5REFBeUQsV0FBVyxnSEFBZ0gsVUFBVSxZQUFZLGdCQUFnQiwwQkFBMEIsaUlBQWlJLDBCQUEwQixTQUFTLFlBQVksMEdBQTBHLFVBQVUsWUFBWSxnQkFBZ0Isd0JBQXdCLHlNQUF5TSwrQkFBK0IsNERBQTRELDZGQUE2RixnQkFBZ0Isd0JBQXdCLHVNQUF1TSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0RBQStELFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSx5QkFBeUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixrU0FBa1MsMEJBQTBCLE1BQU0sbVJBQW1SLDBCQUEwQixTQUFTLGNBQWMsMFdBQTBXLCtCQUErQiw0REFBNEQsWUFBWSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvcHJvdG9zL2xvY2F0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZT0+e1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicHJvdG9idWZqcy9taW5pbWFsXCJdLGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJwcm90b2J1ZmpzL21pbmltYWxcIikpKX0pKGZ1bmN0aW9uKG8pe3ZhciBlLHQsbixGLHM9by5SZWFkZXIscj1vLldyaXRlcix1PW8udXRpbCxjPW8ucm9vdHMubG9jYXRpb25zX3Byb3Rvc3x8KG8ucm9vdHMubG9jYXRpb25zX3Byb3Rvcz17fSk7ZnVuY3Rpb24gTChlLHQsbil7by5ycGMuU2VydmljZS5jYWxsKHRoaXMsZSx0LG4pfWZ1bmN0aW9uIGkoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGEoZSl7aWYodGhpcy5sb2NhdGlvbnM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEcoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHAoZSl7aWYodGhpcy5sYWJlbHM9e30sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGwoZSl7aWYodGhpcy5ydWxlcz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZChlKXtpZih0aGlzLmFkZGl0aW9uYWxCaW5kaW5ncz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZyhlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gQihlKXtpZih0aGlzLmZpbGU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGYoZSl7aWYodGhpcy5kZXBlbmRlbmN5PVtdLHRoaXMucHVibGljRGVwZW5kZW5jeT1bXSx0aGlzLndlYWtEZXBlbmRlbmN5PVtdLHRoaXMubWVzc2FnZVR5cGU9W10sdGhpcy5lbnVtVHlwZT1bXSx0aGlzLnNlcnZpY2U9W10sdGhpcy5leHRlbnNpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHkoZSl7aWYodGhpcy5maWVsZD1bXSx0aGlzLmV4dGVuc2lvbj1bXSx0aGlzLm5lc3RlZFR5cGU9W10sdGhpcy5lbnVtVHlwZT1bXSx0aGlzLmV4dGVuc2lvblJhbmdlPVtdLHRoaXMub25lb2ZEZWNsPVtdLHRoaXMucmVzZXJ2ZWRSYW5nZT1bXSx0aGlzLnJlc2VydmVkTmFtZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gaChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gYihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVShlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIE8oZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIG0oZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHYoZSl7aWYodGhpcy52YWx1ZT1bXSx0aGlzLnJlc2VydmVkUmFuZ2U9W10sdGhpcy5yZXNlcnZlZE5hbWU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFAoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHcoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGooZSl7aWYodGhpcy5tZXRob2Q9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHgoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFMoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBrKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gRChlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIE0oZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBUKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gRShlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEEoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBOKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSx0aGlzW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBJKGUpe2lmKHRoaXMubmFtZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gUihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gXyhlKXtpZih0aGlzLmxvY2F0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBDKGUpe2lmKHRoaXMucGF0aD1bXSx0aGlzLnNwYW49W10sdGhpcy5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSihlKXtpZih0aGlzLmFubm90YXRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFYoZSl7aWYodGhpcy5wYXRoPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBIKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1yZXR1cm4gYy5nb29nbGU9KChGPXt9KS5jbG91ZD0oKG49e30pLmxvY2F0aW9uPSgoZT17fSkuTG9jYXRpb25zPSgoKEwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5ycGMuU2VydmljZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1MKS5jcmVhdGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgdGhpcyhlLHQsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMLnByb3RvdHlwZS5saXN0TG9jYXRpb25zPWZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gdGhpcy5ycGNDYWxsKGUsYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTGlzdExvY2F0aW9uc1JlcXVlc3QsYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTGlzdExvY2F0aW9uc1Jlc3BvbnNlLHQsbil9LFwibmFtZVwiLHt2YWx1ZTpcIkxpc3RMb2NhdGlvbnNcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMLnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHRoaXMucnBjQ2FsbChlLGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkdldExvY2F0aW9uUmVxdWVzdCxjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbix0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJHZXRMb2NhdGlvblwifSksTCksZS5MaXN0TG9jYXRpb25zUmVxdWVzdD0oaS5wcm90b3R5cGUubmFtZT1cIlwiLGkucHJvdG90eXBlLmZpbHRlcj1cIlwiLGkucHJvdG90eXBlLnBhZ2VTaXplPTAsaS5wcm90b3R5cGUucGFnZVRva2VuPVwiXCIsaS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKGUpfSxpLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUuZmlsdGVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZmlsdGVyXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuZmlsdGVyKSxudWxsIT1lLnBhZ2VTaXplJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFnZVNpemVcIikmJnQudWludDMyKDI0KS5pbnQzMihlLnBhZ2VTaXplKSxudWxsIT1lLnBhZ2VUb2tlbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhZ2VUb2tlblwiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLnBhZ2VUb2tlbiksdH0saS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0saS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTGlzdExvY2F0aW9uc1JlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uZmlsdGVyPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8ucGFnZVNpemU9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNDpvLnBhZ2VUb2tlbj1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30saS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0saS52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5uYW1lKT9cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUuZmlsdGVyJiZlLmhhc093blByb3BlcnR5KFwiZmlsdGVyXCIpJiYhdS5pc1N0cmluZyhlLmZpbHRlcik/XCJmaWx0ZXI6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUucGFnZVNpemUmJmUuaGFzT3duUHJvcGVydHkoXCJwYWdlU2l6ZVwiKSYmIXUuaXNJbnRlZ2VyKGUucGFnZVNpemUpP1wicGFnZVNpemU6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsIT1lLnBhZ2VUb2tlbiYmZS5oYXNPd25Qcm9wZXJ0eShcInBhZ2VUb2tlblwiKSYmIXUuaXNTdHJpbmcoZS5wYWdlVG9rZW4pP1wicGFnZVRva2VuOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxpLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5MaXN0TG9jYXRpb25zUmVxdWVzdD9lOih0PW5ldyBjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5MaXN0TG9jYXRpb25zUmVxdWVzdCxudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUuZmlsdGVyJiYodC5maWx0ZXI9U3RyaW5nKGUuZmlsdGVyKSksbnVsbCE9ZS5wYWdlU2l6ZSYmKHQucGFnZVNpemU9MHxlLnBhZ2VTaXplKSxudWxsIT1lLnBhZ2VUb2tlbiYmKHQucGFnZVRva2VuPVN0cmluZyhlLnBhZ2VUb2tlbikpLHQpfSxpLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5maWx0ZXI9XCJcIixuLnBhZ2VTaXplPTAsbi5wYWdlVG9rZW49XCJcIiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUuZmlsdGVyJiZlLmhhc093blByb3BlcnR5KFwiZmlsdGVyXCIpJiYobi5maWx0ZXI9ZS5maWx0ZXIpLG51bGwhPWUucGFnZVNpemUmJmUuaGFzT3duUHJvcGVydHkoXCJwYWdlU2l6ZVwiKSYmKG4ucGFnZVNpemU9ZS5wYWdlU2l6ZSksbnVsbCE9ZS5wYWdlVG9rZW4mJmUuaGFzT3duUHJvcGVydHkoXCJwYWdlVG9rZW5cIikmJihuLnBhZ2VUb2tlbj1lLnBhZ2VUb2tlbiksbn0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGkpLGUuTGlzdExvY2F0aW9uc1Jlc3BvbnNlPShhLnByb3RvdHlwZS5sb2NhdGlvbnM9dS5lbXB0eUFycmF5LGEucHJvdG90eXBlLm5leHRQYWdlVG9rZW49XCJcIixhLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEoZSl9LGEuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubG9jYXRpb25zJiZlLmxvY2F0aW9ucy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmxvY2F0aW9ucy5sZW5ndGg7KytuKWMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9uLmVuY29kZShlLmxvY2F0aW9uc1tuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5uZXh0UGFnZVRva2VuJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmV4dFBhZ2VUb2tlblwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLm5leHRQYWdlVG9rZW4pLHR9LGEuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGEuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxpc3RMb2NhdGlvbnNSZXNwb25zZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmxvY2F0aW9ucyYmby5sb2NhdGlvbnMubGVuZ3RofHwoby5sb2NhdGlvbnM9W10pLG8ubG9jYXRpb25zLnB1c2goYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpvLm5leHRQYWdlVG9rZW49ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGEuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGEudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubG9jYXRpb25zJiZlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25zXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmxvY2F0aW9ucykpcmV0dXJuXCJsb2NhdGlvbnM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmxvY2F0aW9ucy5sZW5ndGg7Kyt0KXt2YXIgbj1jLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbi52ZXJpZnkoZS5sb2NhdGlvbnNbdF0pO2lmKG4pcmV0dXJuXCJsb2NhdGlvbnMuXCIrbn19cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmZS5oYXNPd25Qcm9wZXJ0eShcIm5leHRQYWdlVG9rZW5cIikmJiF1LmlzU3RyaW5nKGUubmV4dFBhZ2VUb2tlbik/XCJuZXh0UGFnZVRva2VuOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxhLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxpc3RMb2NhdGlvbnNSZXNwb25zZSlyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTGlzdExvY2F0aW9uc1Jlc3BvbnNlO2lmKGUubG9jYXRpb25zKXtpZighQXJyYXkuaXNBcnJheShlLmxvY2F0aW9ucykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5MaXN0TG9jYXRpb25zUmVzcG9uc2UubG9jYXRpb25zOiBhcnJheSBleHBlY3RlZFwiKTt0LmxvY2F0aW9ucz1bXTtmb3IodmFyIG49MDtuPGUubG9jYXRpb25zLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmxvY2F0aW9uc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxpc3RMb2NhdGlvbnNSZXNwb25zZS5sb2NhdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0LmxvY2F0aW9uc1tuXT1jLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbi5mcm9tT2JqZWN0KGUubG9jYXRpb25zW25dKX19cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmKHQubmV4dFBhZ2VUb2tlbj1TdHJpbmcoZS5uZXh0UGFnZVRva2VuKSksdH0sYS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ubG9jYXRpb25zPVtdKSx0LmRlZmF1bHRzJiYobi5uZXh0UGFnZVRva2VuPVwiXCIpLGUubG9jYXRpb25zJiZlLmxvY2F0aW9ucy5sZW5ndGgpe24ubG9jYXRpb25zPVtdO2Zvcih2YXIgbz0wO288ZS5sb2NhdGlvbnMubGVuZ3RoOysrbyluLmxvY2F0aW9uc1tvXT1jLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbi50b09iamVjdChlLmxvY2F0aW9uc1tvXSx0KX1yZXR1cm4gbnVsbCE9ZS5uZXh0UGFnZVRva2VuJiZlLmhhc093blByb3BlcnR5KFwibmV4dFBhZ2VUb2tlblwiKSYmKG4ubmV4dFBhZ2VUb2tlbj1lLm5leHRQYWdlVG9rZW4pLG59LGEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxhKSxlLkdldExvY2F0aW9uUmVxdWVzdD0oRy5wcm90b3R5cGUubmFtZT1cIlwiLEcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRyhlKX0sRy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSx0fSxHLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxHLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5HZXRMb2NhdGlvblJlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/by5uYW1lPWUuc3RyaW5nKCk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxHLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxHLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhdS5pc1N0cmluZyhlLm5hbWUpP1wibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sRy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uR2V0TG9jYXRpb25SZXF1ZXN0P2U6KHQ9bmV3IGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkdldExvY2F0aW9uUmVxdWVzdCxudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLHQpfSxHLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxufSxHLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sRyksZS5Mb2NhdGlvbj0ocC5wcm90b3R5cGUubmFtZT1cIlwiLHAucHJvdG90eXBlLmxvY2F0aW9uSWQ9XCJcIixwLnByb3RvdHlwZS5kaXNwbGF5TmFtZT1cIlwiLHAucHJvdG90eXBlLmxhYmVscz11LmVtcHR5T2JqZWN0LHAucHJvdG90eXBlLm1ldGFkYXRhPW51bGwscC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBwKGUpfSxwLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5sYWJlbHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsYWJlbHNcIikpZm9yKHZhciBuPU9iamVjdC5rZXlzKGUubGFiZWxzKSxvPTA7bzxuLmxlbmd0aDsrK28pdC51aW50MzIoMTgpLmZvcmsoKS51aW50MzIoMTApLnN0cmluZyhuW29dKS51aW50MzIoMTgpLnN0cmluZyhlLmxhYmVsc1tuW29dXSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUubWV0YWRhdGEmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtZXRhZGF0YVwiKSYmYy5nb29nbGUucHJvdG9idWYuQW55LmVuY29kZShlLm1ldGFkYXRhLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUubG9jYXRpb25JZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImxvY2F0aW9uSWRcIikmJnQudWludDMyKDM0KS5zdHJpbmcoZS5sb2NhdGlvbklkKSxudWxsIT1lLmRpc3BsYXlOYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGlzcGxheU5hbWVcIikmJnQudWludDMyKDQyKS5zdHJpbmcoZS5kaXNwbGF5TmFtZSksdH0scC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0scC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ubG9jYXRpb25JZD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpvLmRpc3BsYXlOYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ubGFiZWxzPT09dS5lbXB0eU9iamVjdCYmKG8ubGFiZWxzPXt9KTtmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcyxhPVwiXCIscD1cIlwiO2UucG9zPGk7KXt2YXIgbD1lLnVpbnQzMigpO3N3aXRjaChsPj4+Myl7Y2FzZSAxOmE9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6cD1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JmwpfX1vLmxhYmVsc1thXT1wO2JyZWFrO2Nhc2UgMzpvLm1ldGFkYXRhPWMuZ29vZ2xlLnByb3RvYnVmLkFueS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHAuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHAudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxvY2F0aW9uSWQmJmUuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvbklkXCIpJiYhdS5pc1N0cmluZyhlLmxvY2F0aW9uSWQpKXJldHVyblwibG9jYXRpb25JZDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kaXNwbGF5TmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRpc3BsYXlOYW1lXCIpJiYhdS5pc1N0cmluZyhlLmRpc3BsYXlOYW1lKSlyZXR1cm5cImRpc3BsYXlOYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxhYmVscyYmZS5oYXNPd25Qcm9wZXJ0eShcImxhYmVsc1wiKSl7aWYoIXUuaXNPYmplY3QoZS5sYWJlbHMpKXJldHVyblwibGFiZWxzOiBvYmplY3QgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZS5sYWJlbHMpLG49MDtuPHQubGVuZ3RoOysrbilpZighdS5pc1N0cmluZyhlLmxhYmVsc1t0W25dXSkpcmV0dXJuXCJsYWJlbHM6IHN0cmluZ3trOnN0cmluZ30gZXhwZWN0ZWRcIn1pZihudWxsIT1lLm1ldGFkYXRhJiZlLmhhc093blByb3BlcnR5KFwibWV0YWRhdGFcIikpe3ZhciBvPWMuZ29vZ2xlLnByb3RvYnVmLkFueS52ZXJpZnkoZS5tZXRhZGF0YSk7aWYobylyZXR1cm5cIm1ldGFkYXRhLlwiK299cmV0dXJuIG51bGx9LHAuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9uO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5sb2NhdGlvbklkJiYodC5sb2NhdGlvbklkPVN0cmluZyhlLmxvY2F0aW9uSWQpKSxudWxsIT1lLmRpc3BsYXlOYW1lJiYodC5kaXNwbGF5TmFtZT1TdHJpbmcoZS5kaXNwbGF5TmFtZSkpLGUubGFiZWxzKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5sYWJlbHMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbi5sYWJlbHM6IG9iamVjdCBleHBlY3RlZFwiKTt0LmxhYmVscz17fTtmb3IodmFyIG49T2JqZWN0LmtleXMoZS5sYWJlbHMpLG89MDtvPG4ubGVuZ3RoOysrbyl0LmxhYmVsc1tuW29dXT1TdHJpbmcoZS5sYWJlbHNbbltvXV0pfWlmKG51bGwhPWUubWV0YWRhdGEpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm1ldGFkYXRhKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24ubWV0YWRhdGE6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1ldGFkYXRhPWMuZ29vZ2xlLnByb3RvYnVmLkFueS5mcm9tT2JqZWN0KGUubWV0YWRhdGEpfXJldHVybiB0fSxwLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG4sbz17fTtpZigoKHQ9dHx8e30pLm9iamVjdHN8fHQuZGVmYXVsdHMpJiYoby5sYWJlbHM9e30pLHQuZGVmYXVsdHMmJihvLm5hbWU9XCJcIixvLm1ldGFkYXRhPW51bGwsby5sb2NhdGlvbklkPVwiXCIsby5kaXNwbGF5TmFtZT1cIlwiKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYoby5uYW1lPWUubmFtZSksZS5sYWJlbHMmJihuPU9iamVjdC5rZXlzKGUubGFiZWxzKSkubGVuZ3RoKXtvLmxhYmVscz17fTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoOysrcilvLmxhYmVsc1tuW3JdXT1lLmxhYmVsc1tuW3JdXX1yZXR1cm4gbnVsbCE9ZS5tZXRhZGF0YSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1ldGFkYXRhXCIpJiYoby5tZXRhZGF0YT1jLmdvb2dsZS5wcm90b2J1Zi5BbnkudG9PYmplY3QoZS5tZXRhZGF0YSx0KSksbnVsbCE9ZS5sb2NhdGlvbklkJiZlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25JZFwiKSYmKG8ubG9jYXRpb25JZD1lLmxvY2F0aW9uSWQpLG51bGwhPWUuZGlzcGxheU5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5TmFtZVwiKSYmKG8uZGlzcGxheU5hbWU9ZS5kaXNwbGF5TmFtZSksb30scC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHApLGUpLG4pLEYuYXBpPSgoZT17fSkuSHR0cD0obC5wcm90b3R5cGUucnVsZXM9dS5lbXB0eUFycmF5LGwucHJvdG90eXBlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ITEsbC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBsKGUpfSxsLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnJ1bGVzJiZlLnJ1bGVzLmxlbmd0aClmb3IodmFyIG49MDtuPGUucnVsZXMubGVuZ3RoOysrbiljLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZW5jb2RlKGUucnVsZXNbbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb25cIikmJnQudWludDMyKDE2KS5ib29sKGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiksdH0sbC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUuYXBpLkh0dHA7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5ydWxlcyYmby5ydWxlcy5sZW5ndGh8fChvLnJ1bGVzPVtdKSxvLnJ1bGVzLnB1c2goYy5nb29nbGUuYXBpLkh0dHBSdWxlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDI6by5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sbC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5ydWxlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInJ1bGVzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJ1bGVzKSlyZXR1cm5cInJ1bGVzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5ydWxlcy5sZW5ndGg7Kyt0KXt2YXIgbj1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUudmVyaWZ5KGUucnVsZXNbdF0pO2lmKG4pcmV0dXJuXCJydWxlcy5cIitufX1yZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvblwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24/XCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbH0sbC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5hcGkuSHR0cClyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUuYXBpLkh0dHA7aWYoZS5ydWxlcyl7aWYoIUFycmF5LmlzQXJyYXkoZS5ydWxlcykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cC5ydWxlczogYXJyYXkgZXhwZWN0ZWRcIik7dC5ydWxlcz1bXTtmb3IodmFyIG49MDtuPGUucnVsZXMubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucnVsZXNbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cC5ydWxlczogb2JqZWN0IGV4cGVjdGVkXCIpO3QucnVsZXNbbl09Yy5nb29nbGUuYXBpLkh0dHBSdWxlLmZyb21PYmplY3QoZS5ydWxlc1tuXSl9fXJldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJih0LmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249Qm9vbGVhbihlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24pKSx0fSxsLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5ydWxlcz1bXSksdC5kZWZhdWx0cyYmKG4uZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj0hMSksZS5ydWxlcyYmZS5ydWxlcy5sZW5ndGgpe24ucnVsZXM9W107Zm9yKHZhciBvPTA7bzxlLnJ1bGVzLmxlbmd0aDsrK28pbi5ydWxlc1tvXT1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUudG9PYmplY3QoZS5ydWxlc1tvXSx0KX1yZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvblwiKSYmKG4uZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24pLG59LGwucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxsKSxlLkh0dHBSdWxlPShkLnByb3RvdHlwZS5zZWxlY3Rvcj1cIlwiLGQucHJvdG90eXBlLmdldD1udWxsLGQucHJvdG90eXBlLnB1dD1udWxsLGQucHJvdG90eXBlLnBvc3Q9bnVsbCxkLnByb3RvdHlwZS5kZWxldGU9bnVsbCxkLnByb3RvdHlwZS5wYXRjaD1udWxsLGQucHJvdG90eXBlLmN1c3RvbT1udWxsLGQucHJvdG90eXBlLmJvZHk9XCJcIixkLnByb3RvdHlwZS5yZXNwb25zZUJvZHk9XCJcIixkLnByb3RvdHlwZS5hZGRpdGlvbmFsQmluZGluZ3M9dS5lbXB0eUFycmF5LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInBhdHRlcm5cIix7Z2V0OnUub25lT2ZHZXR0ZXIobj1bXCJnZXRcIixcInB1dFwiLFwicG9zdFwiLFwiZGVsZXRlXCIsXCJwYXRjaFwiLFwiY3VzdG9tXCJdKSxzZXQ6dS5vbmVPZlNldHRlcihuKX0pLGQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZChlKX0sZC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5zZWxlY3RvciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlbGVjdG9yXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuc2VsZWN0b3IpLG51bGwhPWUuZ2V0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZ2V0XCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuZ2V0KSxudWxsIT1lLnB1dCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInB1dFwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLnB1dCksbnVsbCE9ZS5wb3N0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicG9zdFwiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLnBvc3QpLG51bGwhPWUuZGVsZXRlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVsZXRlXCIpJiZ0LnVpbnQzMig0Mikuc3RyaW5nKGUuZGVsZXRlKSxudWxsIT1lLnBhdGNoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGF0Y2hcIikmJnQudWludDMyKDUwKS5zdHJpbmcoZS5wYXRjaCksbnVsbCE9ZS5ib2R5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYm9keVwiKSYmdC51aW50MzIoNTgpLnN0cmluZyhlLmJvZHkpLG51bGwhPWUuY3VzdG9tJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3VzdG9tXCIpJiZjLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4uZW5jb2RlKGUuY3VzdG9tLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUuYWRkaXRpb25hbEJpbmRpbmdzJiZlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytuKWMuZ29vZ2xlLmFwaS5IdHRwUnVsZS5lbmNvZGUoZS5hZGRpdGlvbmFsQmluZGluZ3Nbbl0sdC51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUucmVzcG9uc2VCb2R5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzcG9uc2VCb2R5XCIpJiZ0LnVpbnQzMig5OCkuc3RyaW5nKGUucmVzcG9uc2VCb2R5KSx0fSxkLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxkLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5hcGkuSHR0cFJ1bGU7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zZWxlY3Rvcj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmdldD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLnB1dD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLnBvc3Q9ZS5zdHJpbmcoKTticmVhaztjYXNlIDU6by5kZWxldGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDY6by5wYXRjaD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgODpvLmN1c3RvbT1jLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4uZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA3Om8uYm9keT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTI6by5yZXNwb25zZUJvZHk9ZS5zdHJpbmcoKTticmVhaztjYXNlIDExOm8uYWRkaXRpb25hbEJpbmRpbmdzJiZvLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGh8fChvLmFkZGl0aW9uYWxCaW5kaW5ncz1bXSksby5hZGRpdGlvbmFsQmluZGluZ3MucHVzaChjLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sZC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sZC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7dmFyIHQ9e307aWYobnVsbCE9ZS5zZWxlY3RvciYmZS5oYXNPd25Qcm9wZXJ0eShcInNlbGVjdG9yXCIpJiYhdS5pc1N0cmluZyhlLnNlbGVjdG9yKSlyZXR1cm5cInNlbGVjdG9yOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmdldCYmZS5oYXNPd25Qcm9wZXJ0eShcImdldFwiKSYmKHQucGF0dGVybj0xLCF1LmlzU3RyaW5nKGUuZ2V0KSkpcmV0dXJuXCJnZXQ6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucHV0JiZlLmhhc093blByb3BlcnR5KFwicHV0XCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIXUuaXNTdHJpbmcoZS5wdXQpKXJldHVyblwicHV0OiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLnBvc3QmJmUuaGFzT3duUHJvcGVydHkoXCJwb3N0XCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIXUuaXNTdHJpbmcoZS5wb3N0KSlyZXR1cm5cInBvc3Q6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUuZGVsZXRlJiZlLmhhc093blByb3BlcnR5KFwiZGVsZXRlXCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIXUuaXNTdHJpbmcoZS5kZWxldGUpKXJldHVyblwiZGVsZXRlOiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLnBhdGNoJiZlLmhhc093blByb3BlcnR5KFwicGF0Y2hcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhdS5pc1N0cmluZyhlLnBhdGNoKSlyZXR1cm5cInBhdGNoOiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLmN1c3RvbSYmZS5oYXNPd25Qcm9wZXJ0eShcImN1c3RvbVwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLG49Yy5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLnZlcmlmeShlLmN1c3RvbSkpcmV0dXJuXCJjdXN0b20uXCIrbn1pZihudWxsIT1lLmJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJib2R5XCIpJiYhdS5pc1N0cmluZyhlLmJvZHkpKXJldHVyblwiYm9keTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5yZXNwb25zZUJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNwb25zZUJvZHlcIikmJiF1LmlzU3RyaW5nKGUucmVzcG9uc2VCb2R5KSlyZXR1cm5cInJlc3BvbnNlQm9keTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5hZGRpdGlvbmFsQmluZGluZ3MmJmUuaGFzT3duUHJvcGVydHkoXCJhZGRpdGlvbmFsQmluZGluZ3NcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuYWRkaXRpb25hbEJpbmRpbmdzKSlyZXR1cm5cImFkZGl0aW9uYWxCaW5kaW5nczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sbz0wO288ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbylpZihuPWMuZ29vZ2xlLmFwaS5IdHRwUnVsZS52ZXJpZnkoZS5hZGRpdGlvbmFsQmluZGluZ3Nbb10pKXJldHVyblwiYWRkaXRpb25hbEJpbmRpbmdzLlwiK259cmV0dXJuIG51bGx9LGQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUuYXBpLkh0dHBSdWxlKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5hcGkuSHR0cFJ1bGU7aWYobnVsbCE9ZS5zZWxlY3RvciYmKHQuc2VsZWN0b3I9U3RyaW5nKGUuc2VsZWN0b3IpKSxudWxsIT1lLmdldCYmKHQuZ2V0PVN0cmluZyhlLmdldCkpLG51bGwhPWUucHV0JiYodC5wdXQ9U3RyaW5nKGUucHV0KSksbnVsbCE9ZS5wb3N0JiYodC5wb3N0PVN0cmluZyhlLnBvc3QpKSxudWxsIT1lLmRlbGV0ZSYmKHQuZGVsZXRlPVN0cmluZyhlLmRlbGV0ZSkpLG51bGwhPWUucGF0Y2gmJih0LnBhdGNoPVN0cmluZyhlLnBhdGNoKSksbnVsbCE9ZS5jdXN0b20pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmN1c3RvbSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwUnVsZS5jdXN0b206IG9iamVjdCBleHBlY3RlZFwiKTt0LmN1c3RvbT1jLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4uZnJvbU9iamVjdChlLmN1c3RvbSl9aWYobnVsbCE9ZS5ib2R5JiYodC5ib2R5PVN0cmluZyhlLmJvZHkpKSxudWxsIT1lLnJlc3BvbnNlQm9keSYmKHQucmVzcG9uc2VCb2R5PVN0cmluZyhlLnJlc3BvbnNlQm9keSkpLGUuYWRkaXRpb25hbEJpbmRpbmdzKXtpZighQXJyYXkuaXNBcnJheShlLmFkZGl0aW9uYWxCaW5kaW5ncykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cFJ1bGUuYWRkaXRpb25hbEJpbmRpbmdzOiBhcnJheSBleHBlY3RlZFwiKTt0LmFkZGl0aW9uYWxCaW5kaW5ncz1bXTtmb3IodmFyIG49MDtuPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmFkZGl0aW9uYWxCaW5kaW5nc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwUnVsZS5hZGRpdGlvbmFsQmluZGluZ3M6IG9iamVjdCBleHBlY3RlZFwiKTt0LmFkZGl0aW9uYWxCaW5kaW5nc1tuXT1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZnJvbU9iamVjdChlLmFkZGl0aW9uYWxCaW5kaW5nc1tuXSl9fXJldHVybiB0fSxkLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5hZGRpdGlvbmFsQmluZGluZ3M9W10pLHQuZGVmYXVsdHMmJihuLnNlbGVjdG9yPVwiXCIsbi5ib2R5PVwiXCIsbi5yZXNwb25zZUJvZHk9XCJcIiksbnVsbCE9ZS5zZWxlY3RvciYmZS5oYXNPd25Qcm9wZXJ0eShcInNlbGVjdG9yXCIpJiYobi5zZWxlY3Rvcj1lLnNlbGVjdG9yKSxudWxsIT1lLmdldCYmZS5oYXNPd25Qcm9wZXJ0eShcImdldFwiKSYmKG4uZ2V0PWUuZ2V0LHQub25lb2ZzKSYmKG4ucGF0dGVybj1cImdldFwiKSxudWxsIT1lLnB1dCYmZS5oYXNPd25Qcm9wZXJ0eShcInB1dFwiKSYmKG4ucHV0PWUucHV0LHQub25lb2ZzKSYmKG4ucGF0dGVybj1cInB1dFwiKSxudWxsIT1lLnBvc3QmJmUuaGFzT3duUHJvcGVydHkoXCJwb3N0XCIpJiYobi5wb3N0PWUucG9zdCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJwb3N0XCIpLG51bGwhPWUuZGVsZXRlJiZlLmhhc093blByb3BlcnR5KFwiZGVsZXRlXCIpJiYobi5kZWxldGU9ZS5kZWxldGUsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwiZGVsZXRlXCIpLG51bGwhPWUucGF0Y2gmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRjaFwiKSYmKG4ucGF0Y2g9ZS5wYXRjaCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJwYXRjaFwiKSxudWxsIT1lLmJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJib2R5XCIpJiYobi5ib2R5PWUuYm9keSksbnVsbCE9ZS5jdXN0b20mJmUuaGFzT3duUHJvcGVydHkoXCJjdXN0b21cIikmJihuLmN1c3RvbT1jLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4udG9PYmplY3QoZS5jdXN0b20sdCksdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwiY3VzdG9tXCIpLGUuYWRkaXRpb25hbEJpbmRpbmdzJiZlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGgpe24uYWRkaXRpb25hbEJpbmRpbmdzPVtdO2Zvcih2YXIgbz0wO288ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbyluLmFkZGl0aW9uYWxCaW5kaW5nc1tvXT1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUudG9PYmplY3QoZS5hZGRpdGlvbmFsQmluZGluZ3Nbb10sdCl9cmV0dXJuIG51bGwhPWUucmVzcG9uc2VCb2R5JiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VCb2R5XCIpJiYobi5yZXNwb25zZUJvZHk9ZS5yZXNwb25zZUJvZHkpLG59LGQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxkKSxlLkN1c3RvbUh0dHBQYXR0ZXJuPShnLnByb3RvdHlwZS5raW5kPVwiXCIsZy5wcm90b3R5cGUucGF0aD1cIlwiLGcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZyhlKX0sZy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUua2luZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImtpbmRcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5raW5kKSxudWxsIT1lLnBhdGgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYXRoXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUucGF0aCksdH0sZy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sZy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ua2luZD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnBhdGg9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGcuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGcudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUua2luZCYmZS5oYXNPd25Qcm9wZXJ0eShcImtpbmRcIikmJiF1LmlzU3RyaW5nKGUua2luZCk/XCJraW5kOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpJiYhdS5pc1N0cmluZyhlLnBhdGgpP1wicGF0aDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sZy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgYy5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuP2U6KHQ9bmV3IGMuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybixudWxsIT1lLmtpbmQmJih0LmtpbmQ9U3RyaW5nKGUua2luZCkpLG51bGwhPWUucGF0aCYmKHQucGF0aD1TdHJpbmcoZS5wYXRoKSksdCl9LGcudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLmtpbmQ9XCJcIixuLnBhdGg9XCJcIiksbnVsbCE9ZS5raW5kJiZlLmhhc093blByb3BlcnR5KFwia2luZFwiKSYmKG4ua2luZD1lLmtpbmQpLG51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikmJihuLnBhdGg9ZS5wYXRoKSxufSxnLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZyksZSksRi5wcm90b2J1Zj0oKG49e30pLkZpbGVEZXNjcmlwdG9yU2V0PShCLnByb3RvdHlwZS5maWxlPXUuZW1wdHlBcnJheSxCLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEIoZSl9LEIuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuZmlsZSYmZS5maWxlLmxlbmd0aClmb3IodmFyIG49MDtuPGUuZmlsZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZmlsZVtuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sQi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sQi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQ7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/KG8uZmlsZSYmby5maWxlLmxlbmd0aHx8KG8uZmlsZT1bXSksby5maWxlLnB1c2goYy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sQi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sQi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5maWxlJiZlLmhhc093blByb3BlcnR5KFwiZmlsZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWxlKSlyZXR1cm5cImZpbGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmZpbGUubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5maWxlW3RdKTtpZihuKXJldHVyblwiZmlsZS5cIitufX1yZXR1cm4gbnVsbH0sQi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldClyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQ7aWYoZS5maWxlKXtpZighQXJyYXkuaXNBcnJheShlLmZpbGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQuZmlsZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5maWxlPVtdO2Zvcih2YXIgbj0wO248ZS5maWxlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmZpbGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldC5maWxlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5maWxlW25dPWMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmZpbGVbbl0pfX1yZXR1cm4gdH0sQi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uZmlsZT1bXSksZS5maWxlJiZlLmZpbGUubGVuZ3RoKXtuLmZpbGU9W107Zm9yKHZhciBvPTA7bzxlLmZpbGUubGVuZ3RoOysrbyluLmZpbGVbb109Yy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by50b09iamVjdChlLmZpbGVbb10sdCl9cmV0dXJuIG59LEIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxCKSxuLkZpbGVEZXNjcmlwdG9yUHJvdG89KGYucHJvdG90eXBlLm5hbWU9XCJcIixmLnByb3RvdHlwZS5wYWNrYWdlPVwiXCIsZi5wcm90b3R5cGUuZGVwZW5kZW5jeT11LmVtcHR5QXJyYXksZi5wcm90b3R5cGUucHVibGljRGVwZW5kZW5jeT11LmVtcHR5QXJyYXksZi5wcm90b3R5cGUud2Vha0RlcGVuZGVuY3k9dS5lbXB0eUFycmF5LGYucHJvdG90eXBlLm1lc3NhZ2VUeXBlPXUuZW1wdHlBcnJheSxmLnByb3RvdHlwZS5lbnVtVHlwZT11LmVtcHR5QXJyYXksZi5wcm90b3R5cGUuc2VydmljZT11LmVtcHR5QXJyYXksZi5wcm90b3R5cGUuZXh0ZW5zaW9uPXUuZW1wdHlBcnJheSxmLnByb3RvdHlwZS5vcHRpb25zPW51bGwsZi5wcm90b3R5cGUuc291cmNlQ29kZUluZm89bnVsbCxmLnByb3RvdHlwZS5zeW50YXg9XCJcIixmLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGYoZSl9LGYuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLnBhY2thZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYWNrYWdlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUucGFja2FnZSksbnVsbCE9ZS5kZXBlbmRlbmN5JiZlLmRlcGVuZGVuY3kubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC51aW50MzIoMjYpLnN0cmluZyhlLmRlcGVuZGVuY3lbbl0pO2lmKG51bGwhPWUubWVzc2FnZVR5cGUmJmUubWVzc2FnZVR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm1lc3NhZ2VUeXBlW25dLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5lbnVtVHlwZVtuXSx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnNlcnZpY2UmJmUuc2VydmljZS5sZW5ndGgpZm9yKG49MDtuPGUuc2VydmljZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuc2VydmljZVtuXSx0LnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKWZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmV4dGVuc2lvbltuXSx0LnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZjLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUuc291cmNlQ29kZUluZm8mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzb3VyY2VDb2RlSW5mb1wiKSYmYy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uZW5jb2RlKGUuc291cmNlQ29kZUluZm8sdC51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5wdWJsaWNEZXBlbmRlbmN5JiZlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoKWZvcihuPTA7bjxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LnVpbnQzMig4MCkuaW50MzIoZS5wdWJsaWNEZXBlbmRlbmN5W25dKTtpZihudWxsIT1lLndlYWtEZXBlbmRlbmN5JiZlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aClmb3Iobj0wO248ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQudWludDMyKDg4KS5pbnQzMihlLndlYWtEZXBlbmRlbmN5W25dKTtyZXR1cm4gbnVsbCE9ZS5zeW50YXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzeW50YXhcIikmJnQudWludDMyKDk4KS5zdHJpbmcoZS5zeW50YXgpLHR9LGYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ucGFja2FnZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLmRlcGVuZGVuY3kmJm8uZGVwZW5kZW5jeS5sZW5ndGh8fChvLmRlcGVuZGVuY3k9W10pLG8uZGVwZW5kZW5jeS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2Nhc2UgMTA6aWYoby5wdWJsaWNEZXBlbmRlbmN5JiZvLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RofHwoby5wdWJsaWNEZXBlbmRlbmN5PVtdKSwyPT0oNyZyKSlmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnB1YmxpY0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2Vsc2Ugby5wdWJsaWNEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDExOmlmKG8ud2Vha0RlcGVuZGVuY3kmJm8ud2Vha0RlcGVuZGVuY3kubGVuZ3RofHwoby53ZWFrRGVwZW5kZW5jeT1bXSksMj09KDcmcikpZm9yKGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLndlYWtEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTtlbHNlIG8ud2Vha0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgNDpvLm1lc3NhZ2VUeXBlJiZvLm1lc3NhZ2VUeXBlLmxlbmd0aHx8KG8ubWVzc2FnZVR5cGU9W10pLG8ubWVzc2FnZVR5cGUucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNTpvLmVudW1UeXBlJiZvLmVudW1UeXBlLmxlbmd0aHx8KG8uZW51bVR5cGU9W10pLG8uZW51bVR5cGUucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDY6by5zZXJ2aWNlJiZvLnNlcnZpY2UubGVuZ3RofHwoby5zZXJ2aWNlPVtdKSxvLnNlcnZpY2UucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDc6by5leHRlbnNpb24mJm8uZXh0ZW5zaW9uLmxlbmd0aHx8KG8uZXh0ZW5zaW9uPVtdKSxvLmV4dGVuc2lvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDg6by5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgOTpvLnNvdXJjZUNvZGVJbmZvPWMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMTI6by5zeW50YXg9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGYuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGYudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrYWdlXCIpJiYhdS5pc1N0cmluZyhlLnBhY2thZ2UpKXJldHVyblwicGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXBlbmRlbmN5JiZlLmhhc093blByb3BlcnR5KFwiZGVwZW5kZW5jeVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5kZXBlbmRlbmN5KSlyZXR1cm5cImRlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmRlcGVuZGVuY3kubGVuZ3RoOysrdClpZighdS5pc1N0cmluZyhlLmRlcGVuZGVuY3lbdF0pKXJldHVyblwiZGVwZW5kZW5jeTogc3RyaW5nW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLnB1YmxpY0RlcGVuZGVuY3kmJmUuaGFzT3duUHJvcGVydHkoXCJwdWJsaWNEZXBlbmRlbmN5XCIpKXtpZighQXJyYXkuaXNBcnJheShlLnB1YmxpY0RlcGVuZGVuY3kpKXJldHVyblwicHVibGljRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK3QpaWYoIXUuaXNJbnRlZ2VyKGUucHVibGljRGVwZW5kZW5jeVt0XSkpcmV0dXJuXCJwdWJsaWNEZXBlbmRlbmN5OiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLndlYWtEZXBlbmRlbmN5JiZlLmhhc093blByb3BlcnR5KFwid2Vha0RlcGVuZGVuY3lcIikpe2lmKCFBcnJheS5pc0FycmF5KGUud2Vha0RlcGVuZGVuY3kpKXJldHVyblwid2Vha0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrdClpZighdS5pc0ludGVnZXIoZS53ZWFrRGVwZW5kZW5jeVt0XSkpcmV0dXJuXCJ3ZWFrRGVwZW5kZW5jeTogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5tZXNzYWdlVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VUeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm1lc3NhZ2VUeXBlKSlyZXR1cm5cIm1lc3NhZ2VUeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUubWVzc2FnZVR5cGVbdF0pKXJldHVyblwibWVzc2FnZVR5cGUuXCIrbn1pZihudWxsIT1lLmVudW1UeXBlJiZlLmhhc093blByb3BlcnR5KFwiZW51bVR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXJldHVyblwiZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZW51bVR5cGUubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZW51bVR5cGVbdF0pKXJldHVyblwiZW51bVR5cGUuXCIrbn1pZihudWxsIT1lLnNlcnZpY2UmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2aWNlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnNlcnZpY2UpKXJldHVyblwic2VydmljZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5zZXJ2aWNlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLnNlcnZpY2VbdF0pKXJldHVyblwic2VydmljZS5cIitufWlmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5zaW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpcmV0dXJuXCJleHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZXh0ZW5zaW9uLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5leHRlbnNpb25bdF0pKXJldHVyblwiZXh0ZW5zaW9uLlwiK259dmFyIG47aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49Yy5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO2lmKG51bGwhPWUuc291cmNlQ29kZUluZm8mJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VDb2RlSW5mb1wiKSYmKG49Yy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8udmVyaWZ5KGUuc291cmNlQ29kZUluZm8pKSlyZXR1cm5cInNvdXJjZUNvZGVJbmZvLlwiK247cmV0dXJuIG51bGwhPWUuc3ludGF4JiZlLmhhc093blByb3BlcnR5KFwic3ludGF4XCIpJiYhdS5pc1N0cmluZyhlLnN5bnRheCk/XCJzeW50YXg6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LGYuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUucGFja2FnZSYmKHQucGFja2FnZT1TdHJpbmcoZS5wYWNrYWdlKSksZS5kZXBlbmRlbmN5KXtpZighQXJyYXkuaXNBcnJheShlLmRlcGVuZGVuY3kpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5kZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiKTt0LmRlcGVuZGVuY3k9W107Zm9yKHZhciBuPTA7bjxlLmRlcGVuZGVuY3kubGVuZ3RoOysrbil0LmRlcGVuZGVuY3lbbl09U3RyaW5nKGUuZGVwZW5kZW5jeVtuXSl9aWYoZS5wdWJsaWNEZXBlbmRlbmN5KXtpZighQXJyYXkuaXNBcnJheShlLnB1YmxpY0RlcGVuZGVuY3kpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5wdWJsaWNEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiKTt0LnB1YmxpY0RlcGVuZGVuY3k9W107Zm9yKG49MDtuPGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQucHVibGljRGVwZW5kZW5jeVtuXT0wfGUucHVibGljRGVwZW5kZW5jeVtuXX1pZihlLndlYWtEZXBlbmRlbmN5KXtpZighQXJyYXkuaXNBcnJheShlLndlYWtEZXBlbmRlbmN5KSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ud2Vha0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCIpO3Qud2Vha0RlcGVuZGVuY3k9W107Zm9yKG49MDtuPGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LndlYWtEZXBlbmRlbmN5W25dPTB8ZS53ZWFrRGVwZW5kZW5jeVtuXX1pZihlLm1lc3NhZ2VUeXBlKXtpZighQXJyYXkuaXNBcnJheShlLm1lc3NhZ2VUeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ubWVzc2FnZVR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QubWVzc2FnZVR5cGU9W107Zm9yKG49MDtuPGUubWVzc2FnZVR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubWVzc2FnZVR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLm1lc3NhZ2VUeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5tZXNzYWdlVHlwZVtuXT1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm1lc3NhZ2VUeXBlW25dKX19aWYoZS5lbnVtVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0LmVudW1UeXBlPVtdO2ZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmVudW1UeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZW51bVR5cGVbbl09Yy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZW51bVR5cGVbbl0pfX1pZihlLnNlcnZpY2Upe2lmKCFBcnJheS5pc0FycmF5KGUuc2VydmljZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnNlcnZpY2U6IGFycmF5IGV4cGVjdGVkXCIpO3Quc2VydmljZT1bXTtmb3Iobj0wO248ZS5zZXJ2aWNlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnNlcnZpY2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnNlcnZpY2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LnNlcnZpY2Vbbl09Yy5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuc2VydmljZVtuXSl9fWlmKGUuZXh0ZW5zaW9uKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5leHRlbnNpb249W107Zm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmV4dGVuc2lvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25bbl09Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmV4dGVuc2lvbltuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9aWYobnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuc291cmNlQ29kZUluZm8pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnNvdXJjZUNvZGVJbmZvOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5zb3VyY2VDb2RlSW5mbz1jLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5mcm9tT2JqZWN0KGUuc291cmNlQ29kZUluZm8pfXJldHVybiBudWxsIT1lLnN5bnRheCYmKHQuc3ludGF4PVN0cmluZyhlLnN5bnRheCkpLHR9LGYudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmRlcGVuZGVuY3k9W10sbi5tZXNzYWdlVHlwZT1bXSxuLmVudW1UeXBlPVtdLG4uc2VydmljZT1bXSxuLmV4dGVuc2lvbj1bXSxuLnB1YmxpY0RlcGVuZGVuY3k9W10sbi53ZWFrRGVwZW5kZW5jeT1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ucGFja2FnZT1cIlwiLG4ub3B0aW9ucz1udWxsLG4uc291cmNlQ29kZUluZm89bnVsbCxuLnN5bnRheD1cIlwiKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5wYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicGFja2FnZVwiKSYmKG4ucGFja2FnZT1lLnBhY2thZ2UpLGUuZGVwZW5kZW5jeSYmZS5kZXBlbmRlbmN5Lmxlbmd0aCl7bi5kZXBlbmRlbmN5PVtdO2Zvcih2YXIgbz0wO288ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK28pbi5kZXBlbmRlbmN5W29dPWUuZGVwZW5kZW5jeVtvXX1pZihlLm1lc3NhZ2VUeXBlJiZlLm1lc3NhZ2VUeXBlLmxlbmd0aCl7bi5tZXNzYWdlVHlwZT1bXTtmb3Iobz0wO288ZS5tZXNzYWdlVHlwZS5sZW5ndGg7KytvKW4ubWVzc2FnZVR5cGVbb109Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUubWVzc2FnZVR5cGVbb10sdCl9aWYoZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpe24uZW51bVR5cGU9W107Zm9yKG89MDtvPGUuZW51bVR5cGUubGVuZ3RoOysrbyluLmVudW1UeXBlW29dPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5lbnVtVHlwZVtvXSx0KX1pZihlLnNlcnZpY2UmJmUuc2VydmljZS5sZW5ndGgpe24uc2VydmljZT1bXTtmb3Iobz0wO288ZS5zZXJ2aWNlLmxlbmd0aDsrK28pbi5zZXJ2aWNlW29dPWMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5zZXJ2aWNlW29dLHQpfWlmKGUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpe24uZXh0ZW5zaW9uPVtdO2ZvcihvPTA7bzxlLmV4dGVuc2lvbi5sZW5ndGg7KytvKW4uZXh0ZW5zaW9uW29dPWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZXh0ZW5zaW9uW29dLHQpfWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxudWxsIT1lLnNvdXJjZUNvZGVJbmZvJiZlLmhhc093blByb3BlcnR5KFwic291cmNlQ29kZUluZm9cIikmJihuLnNvdXJjZUNvZGVJbmZvPWMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLnRvT2JqZWN0KGUuc291cmNlQ29kZUluZm8sdCkpLGUucHVibGljRGVwZW5kZW5jeSYmZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aCl7bi5wdWJsaWNEZXBlbmRlbmN5PVtdO2ZvcihvPTA7bzxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrbyluLnB1YmxpY0RlcGVuZGVuY3lbb109ZS5wdWJsaWNEZXBlbmRlbmN5W29dfWlmKGUud2Vha0RlcGVuZGVuY3kmJmUud2Vha0RlcGVuZGVuY3kubGVuZ3RoKXtuLndlYWtEZXBlbmRlbmN5PVtdO2ZvcihvPTA7bzxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK28pbi53ZWFrRGVwZW5kZW5jeVtvXT1lLndlYWtEZXBlbmRlbmN5W29dfXJldHVybiBudWxsIT1lLnN5bnRheCYmZS5oYXNPd25Qcm9wZXJ0eShcInN5bnRheFwiKSYmKG4uc3ludGF4PWUuc3ludGF4KSxufSxmLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZiksbi5EZXNjcmlwdG9yUHJvdG89KHkucHJvdG90eXBlLm5hbWU9XCJcIix5LnByb3RvdHlwZS5maWVsZD11LmVtcHR5QXJyYXkseS5wcm90b3R5cGUuZXh0ZW5zaW9uPXUuZW1wdHlBcnJheSx5LnByb3RvdHlwZS5uZXN0ZWRUeXBlPXUuZW1wdHlBcnJheSx5LnByb3RvdHlwZS5lbnVtVHlwZT11LmVtcHR5QXJyYXkseS5wcm90b3R5cGUuZXh0ZW5zaW9uUmFuZ2U9dS5lbXB0eUFycmF5LHkucHJvdG90eXBlLm9uZW9mRGVjbD11LmVtcHR5QXJyYXkseS5wcm90b3R5cGUub3B0aW9ucz1udWxsLHkucHJvdG90eXBlLnJlc2VydmVkUmFuZ2U9dS5lbXB0eUFycmF5LHkucHJvdG90eXBlLnJlc2VydmVkTmFtZT11LmVtcHR5QXJyYXkseS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB5KGUpfSx5LmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5maWVsZCYmZS5maWVsZC5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmZpZWxkLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZmllbGRbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5uZXN0ZWRUeXBlJiZlLm5lc3RlZFR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLm5lc3RlZFR5cGUubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUubmVzdGVkVHlwZVtuXSx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aClmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZW51bVR5cGVbbl0sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5leHRlbnNpb25SYW5nZSYmZS5leHRlbnNpb25SYW5nZS5sZW5ndGgpZm9yKG49MDtuPGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UuZW5jb2RlKGUuZXh0ZW5zaW9uUmFuZ2Vbbl0sdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aClmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5leHRlbnNpb25bbl0sdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLm9uZW9mRGVjbCYmZS5vbmVvZkRlY2wubGVuZ3RoKWZvcihuPTA7bjxlLm9uZW9mRGVjbC5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm9uZW9mRGVjbFtuXSx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLmVuY29kZShlLnJlc2VydmVkUmFuZ2Vbbl0sdC51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnVpbnQzMig4Mikuc3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKTtyZXR1cm4gdH0seS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0seS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmZpZWxkJiZvLmZpZWxkLmxlbmd0aHx8KG8uZmllbGQ9W10pLG8uZmllbGQucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA2Om8uZXh0ZW5zaW9uJiZvLmV4dGVuc2lvbi5sZW5ndGh8fChvLmV4dGVuc2lvbj1bXSksby5leHRlbnNpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8ubmVzdGVkVHlwZSYmby5uZXN0ZWRUeXBlLmxlbmd0aHx8KG8ubmVzdGVkVHlwZT1bXSksby5uZXN0ZWRUeXBlLnB1c2goYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDQ6by5lbnVtVHlwZSYmby5lbnVtVHlwZS5sZW5ndGh8fChvLmVudW1UeXBlPVtdKSxvLmVudW1UeXBlLnB1c2goYy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA1Om8uZXh0ZW5zaW9uUmFuZ2UmJm8uZXh0ZW5zaW9uUmFuZ2UubGVuZ3RofHwoby5leHRlbnNpb25SYW5nZT1bXSksby5leHRlbnNpb25SYW5nZS5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA4Om8ub25lb2ZEZWNsJiZvLm9uZW9mRGVjbC5sZW5ndGh8fChvLm9uZW9mRGVjbD1bXSksby5vbmVvZkRlY2wucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA3Om8ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDk6by5yZXNlcnZlZFJhbmdlJiZvLnJlc2VydmVkUmFuZ2UubGVuZ3RofHwoby5yZXNlcnZlZFJhbmdlPVtdKSxvLnJlc2VydmVkUmFuZ2UucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMDpvLnJlc2VydmVkTmFtZSYmby5yZXNlcnZlZE5hbWUubGVuZ3RofHwoby5yZXNlcnZlZE5hbWU9W10pLG8ucmVzZXJ2ZWROYW1lLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx5LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx5LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhdS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5maWVsZCYmZS5oYXNPd25Qcm9wZXJ0eShcImZpZWxkXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmZpZWxkKSlyZXR1cm5cImZpZWxkOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5maWVsZC5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZmllbGRbdF0pKXJldHVyblwiZmllbGQuXCIrbn1pZihudWxsIT1lLmV4dGVuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuc2lvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXJldHVyblwiZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmV4dGVuc2lvbi5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZXh0ZW5zaW9uW3RdKSlyZXR1cm5cImV4dGVuc2lvbi5cIitufWlmKG51bGwhPWUubmVzdGVkVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5lc3RlZFR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubmVzdGVkVHlwZSkpcmV0dXJuXCJuZXN0ZWRUeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLm5lc3RlZFR5cGUubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5uZXN0ZWRUeXBlW3RdKSlyZXR1cm5cIm5lc3RlZFR5cGUuXCIrbn1pZihudWxsIT1lLmVudW1UeXBlJiZlLmhhc093blByb3BlcnR5KFwiZW51bVR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXJldHVyblwiZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZW51bVR5cGUubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZW51bVR5cGVbdF0pKXJldHVyblwiZW51bVR5cGUuXCIrbn1pZihudWxsIT1lLmV4dGVuc2lvblJhbmdlJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5zaW9uUmFuZ2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uUmFuZ2UpKXJldHVyblwiZXh0ZW5zaW9uUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS52ZXJpZnkoZS5leHRlbnNpb25SYW5nZVt0XSkpcmV0dXJuXCJleHRlbnNpb25SYW5nZS5cIitufWlmKG51bGwhPWUub25lb2ZEZWNsJiZlLmhhc093blByb3BlcnR5KFwib25lb2ZEZWNsXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm9uZW9mRGVjbCkpcmV0dXJuXCJvbmVvZkRlY2w6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUub25lb2ZEZWNsLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5vbmVvZkRlY2xbdF0pKXJldHVyblwib25lb2ZEZWNsLlwiK259aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49Yy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO2lmKG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkUmFuZ2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgbix0PTA7dDxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLnZlcmlmeShlLnJlc2VydmVkUmFuZ2VbdF0pKXJldHVyblwicmVzZXJ2ZWRSYW5nZS5cIitufWlmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWROYW1lXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK3QpaWYoIXUuaXNTdHJpbmcoZS5yZXNlcnZlZE5hbWVbdF0pKXJldHVyblwicmVzZXJ2ZWROYW1lOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSx5LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksZS5maWVsZCl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWVsZCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZmllbGQ6IGFycmF5IGV4cGVjdGVkXCIpO3QuZmllbGQ9W107Zm9yKHZhciBuPTA7bjxlLmZpZWxkLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmZpZWxkW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZpZWxkOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5maWVsZFtuXT1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZmllbGRbbl0pfX1pZihlLmV4dGVuc2lvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5leHRlbnNpb249W107Zm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmV4dGVuc2lvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZXh0ZW5zaW9uW25dKX19aWYoZS5uZXN0ZWRUeXBlKXtpZighQXJyYXkuaXNBcnJheShlLm5lc3RlZFR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm5lc3RlZFR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QubmVzdGVkVHlwZT1bXTtmb3Iobj0wO248ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm5lc3RlZFR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ubmVzdGVkVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QubmVzdGVkVHlwZVtuXT1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm5lc3RlZFR5cGVbbl0pfX1pZihlLmVudW1UeXBlKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZT1bXTtmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5lbnVtVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZW51bVR5cGVbbl09Yy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZW51bVR5cGVbbl0pfX1pZihlLmV4dGVuc2lvblJhbmdlKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvblJhbmdlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb25SYW5nZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25SYW5nZT1bXTtmb3Iobj0wO248ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5leHRlbnNpb25SYW5nZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb25SYW5nZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uUmFuZ2Vbbl09Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLmZyb21PYmplY3QoZS5leHRlbnNpb25SYW5nZVtuXSl9fWlmKGUub25lb2ZEZWNsKXtpZighQXJyYXkuaXNBcnJheShlLm9uZW9mRGVjbCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ub25lb2ZEZWNsOiBhcnJheSBleHBlY3RlZFwiKTt0Lm9uZW9mRGVjbD1bXTtmb3Iobj0wO248ZS5vbmVvZkRlY2wubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub25lb2ZEZWNsW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm9uZW9mRGVjbDogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub25lb2ZEZWNsW25dPWMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5vbmVvZkRlY2xbbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9aWYoZS5yZXNlcnZlZFJhbmdlKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnJlc2VydmVkUmFuZ2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZVtuXT1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS5mcm9tT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtuXSl9fWlmKGUucmVzZXJ2ZWROYW1lKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkTmFtZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnJlc2VydmVkTmFtZVtuXT1TdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pfXJldHVybiB0fSx5LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5maWVsZD1bXSxuLm5lc3RlZFR5cGU9W10sbi5lbnVtVHlwZT1bXSxuLmV4dGVuc2lvblJhbmdlPVtdLG4uZXh0ZW5zaW9uPVtdLG4ub25lb2ZEZWNsPVtdLG4ucmVzZXJ2ZWRSYW5nZT1bXSxuLnJlc2VydmVkTmFtZT1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksZS5maWVsZCYmZS5maWVsZC5sZW5ndGgpe24uZmllbGQ9W107Zm9yKHZhciBvPTA7bzxlLmZpZWxkLmxlbmd0aDsrK28pbi5maWVsZFtvXT1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLmZpZWxkW29dLHQpfWlmKGUubmVzdGVkVHlwZSYmZS5uZXN0ZWRUeXBlLmxlbmd0aCl7bi5uZXN0ZWRUeXBlPVtdO2ZvcihvPTA7bzxlLm5lc3RlZFR5cGUubGVuZ3RoOysrbyluLm5lc3RlZFR5cGVbb109Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUubmVzdGVkVHlwZVtvXSx0KX1pZihlLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aCl7bi5lbnVtVHlwZT1bXTtmb3Iobz0wO288ZS5lbnVtVHlwZS5sZW5ndGg7KytvKW4uZW51bVR5cGVbb109Yy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by50b09iamVjdChlLmVudW1UeXBlW29dLHQpfWlmKGUuZXh0ZW5zaW9uUmFuZ2UmJmUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoKXtuLmV4dGVuc2lvblJhbmdlPVtdO2ZvcihvPTA7bzxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK28pbi5leHRlbnNpb25SYW5nZVtvXT1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UudG9PYmplY3QoZS5leHRlbnNpb25SYW5nZVtvXSx0KX1pZihlLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKXtuLmV4dGVuc2lvbj1bXTtmb3Iobz0wO288ZS5leHRlbnNpb24ubGVuZ3RoOysrbyluLmV4dGVuc2lvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLmV4dGVuc2lvbltvXSx0KX1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksZS5vbmVvZkRlY2wmJmUub25lb2ZEZWNsLmxlbmd0aCl7bi5vbmVvZkRlY2w9W107Zm9yKG89MDtvPGUub25lb2ZEZWNsLmxlbmd0aDsrK28pbi5vbmVvZkRlY2xbb109Yy5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5vbmVvZkRlY2xbb10sdCl9aWYoZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKXtuLnJlc2VydmVkUmFuZ2U9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWRSYW5nZVtvXT1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS50b09iamVjdChlLnJlc2VydmVkUmFuZ2Vbb10sdCl9aWYoZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aCl7bi5yZXNlcnZlZE5hbWU9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK28pbi5yZXNlcnZlZE5hbWVbb109ZS5yZXNlcnZlZE5hbWVbb119cmV0dXJuIG59LHkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx5LkV4dGVuc2lvblJhbmdlPShoLnByb3RvdHlwZS5zdGFydD0wLGgucHJvdG90eXBlLmVuZD0wLGgucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxoLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGgoZSl9LGguZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnN0YXJ0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RhcnRcIikmJnQudWludDMyKDgpLmludDMyKGUuc3RhcnQpLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5lbmQpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmMuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnN0YXJ0PWUuaW50MzIoKTticmVhaztjYXNlIDI6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30saC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0saC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYhdS5pc0ludGVnZXIoZS5zdGFydCkpcmV0dXJuXCJzdGFydDogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhdS5pc0ludGVnZXIoZS5lbmQpKXJldHVyblwiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7ZT1jLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYoZSlyZXR1cm5cIm9wdGlvbnMuXCIrZX1yZXR1cm4gbnVsbH0saC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZTtpZihudWxsIT1lLnN0YXJ0JiYodC5zdGFydD0wfGUuc3RhcnQpLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0saC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uc3RhcnQ9MCxuLmVuZD0wLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJihuLnN0YXJ0PWUuc3RhcnQpLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0saC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGgpLHkuUmVzZXJ2ZWRSYW5nZT0oYi5wcm90b3R5cGUuc3RhcnQ9MCxiLnByb3RvdHlwZS5lbmQ9MCxiLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGIoZSl9LGIuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnN0YXJ0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RhcnRcIikmJnQudWludDMyKDgpLmludDMyKGUuc3RhcnQpLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5lbmQpLHR9LGIuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGIuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc3RhcnQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLmVuZD1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxiLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxiLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJiF1LmlzSW50ZWdlcihlLnN0YXJ0KT9cInN0YXJ0OiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiF1LmlzSW50ZWdlcihlLmVuZCk/XCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsfSxiLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZT9lOih0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZSxudWxsIT1lLnN0YXJ0JiYodC5zdGFydD0wfGUuc3RhcnQpLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksdCl9LGIudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnN0YXJ0PTAsbi5lbmQ9MCksbnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYobi5zdGFydD1lLnN0YXJ0KSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxufSxiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sYikseSksbi5FeHRlbnNpb25SYW5nZU9wdGlvbnM9KFUucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249dS5lbXB0eUFycmF5LFUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVShlKX0sVS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LFUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09OTk5PyhvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LFUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFUudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LFUuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnM7aWYoZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxVLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sVS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFUpLG4uRmllbGREZXNjcmlwdG9yUHJvdG89KE8ucHJvdG90eXBlLm5hbWU9XCJcIixPLnByb3RvdHlwZS5udW1iZXI9MCxPLnByb3RvdHlwZS5sYWJlbD0xLE8ucHJvdG90eXBlLnR5cGU9MSxPLnByb3RvdHlwZS50eXBlTmFtZT1cIlwiLE8ucHJvdG90eXBlLmV4dGVuZGVlPVwiXCIsTy5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPVwiXCIsTy5wcm90b3R5cGUub25lb2ZJbmRleD0wLE8ucHJvdG90eXBlLmpzb25OYW1lPVwiXCIsTy5wcm90b3R5cGUub3B0aW9ucz1udWxsLE8ucHJvdG90eXBlLnByb3RvM09wdGlvbmFsPSExLE8uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTyhlKX0sTy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLmV4dGVuZGVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXh0ZW5kZWVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5leHRlbmRlZSksbnVsbCE9ZS5udW1iZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJudW1iZXJcIikmJnQudWludDMyKDI0KS5pbnQzMihlLm51bWJlciksbnVsbCE9ZS5sYWJlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImxhYmVsXCIpJiZ0LnVpbnQzMigzMikuaW50MzIoZS5sYWJlbCksbnVsbCE9ZS50eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHlwZVwiKSYmdC51aW50MzIoNDApLmludDMyKGUudHlwZSksbnVsbCE9ZS50eXBlTmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVOYW1lXCIpJiZ0LnVpbnQzMig1MCkuc3RyaW5nKGUudHlwZU5hbWUpLG51bGwhPWUuZGVmYXVsdFZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFZhbHVlXCIpJiZ0LnVpbnQzMig1OCkuc3RyaW5nKGUuZGVmYXVsdFZhbHVlKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLm9uZW9mSW5kZXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvbmVvZkluZGV4XCIpJiZ0LnVpbnQzMig3MikuaW50MzIoZS5vbmVvZkluZGV4KSxudWxsIT1lLmpzb25OYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwianNvbk5hbWVcIikmJnQudWludDMyKDgyKS5zdHJpbmcoZS5qc29uTmFtZSksbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInByb3RvM09wdGlvbmFsXCIpJiZ0LnVpbnQzMigxMzYpLmJvb2woZS5wcm90bzNPcHRpb25hbCksdH0sTy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8ubnVtYmVyPWUuaW50MzIoKTticmVhaztjYXNlIDQ6by5sYWJlbD1lLmludDMyKCk7YnJlYWs7Y2FzZSA1Om8udHlwZT1lLmludDMyKCk7YnJlYWs7Y2FzZSA2Om8udHlwZU5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5leHRlbmRlZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNzpvLmRlZmF1bHRWYWx1ZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgOTpvLm9uZW9mSW5kZXg9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMTA6by5qc29uTmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgODpvLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMTc6by5wcm90bzNPcHRpb25hbD1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LE8uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LE8udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmIXUuaXNJbnRlZ2VyKGUubnVtYmVyKSlyZXR1cm5cIm51bWJlcjogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUubGFiZWwmJmUuaGFzT3duUHJvcGVydHkoXCJsYWJlbFwiKSlzd2l0Y2goZS5sYWJlbCl7ZGVmYXVsdDpyZXR1cm5cImxhYmVsOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6fWlmKG51bGwhPWUudHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpc3dpdGNoKGUudHlwZSl7ZGVmYXVsdDpyZXR1cm5cInR5cGU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpjYXNlIDc6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMTE6Y2FzZSAxMjpjYXNlIDEzOmNhc2UgMTQ6Y2FzZSAxNTpjYXNlIDE2OmNhc2UgMTc6Y2FzZSAxODp9aWYobnVsbCE9ZS50eXBlTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVOYW1lXCIpJiYhdS5pc1N0cmluZyhlLnR5cGVOYW1lKSlyZXR1cm5cInR5cGVOYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmV4dGVuZGVlJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5kZWVcIikmJiF1LmlzU3RyaW5nKGUuZXh0ZW5kZWUpKXJldHVyblwiZXh0ZW5kZWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVmYXVsdFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZGVmYXVsdFZhbHVlXCIpJiYhdS5pc1N0cmluZyhlLmRlZmF1bHRWYWx1ZSkpcmV0dXJuXCJkZWZhdWx0VmFsdWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub25lb2ZJbmRleCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9uZW9mSW5kZXhcIikmJiF1LmlzSW50ZWdlcihlLm9uZW9mSW5kZXgpKXJldHVyblwib25lb2ZJbmRleDogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUuanNvbk5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqc29uTmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5qc29uTmFtZSkpcmV0dXJuXCJqc29uTmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7dmFyIHQ9Yy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKHQpcmV0dXJuXCJvcHRpb25zLlwiK3R9cmV0dXJuIG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJmUuaGFzT3duUHJvcGVydHkoXCJwcm90bzNPcHRpb25hbFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnByb3RvM09wdGlvbmFsP1wicHJvdG8zT3B0aW9uYWw6IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsfSxPLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90bztzd2l0Y2gobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLm51bWJlciYmKHQubnVtYmVyPTB8ZS5udW1iZXIpLGUubGFiZWwpe2Nhc2VcIkxBQkVMX09QVElPTkFMXCI6Y2FzZSAxOnQubGFiZWw9MTticmVhaztjYXNlXCJMQUJFTF9SRVFVSVJFRFwiOmNhc2UgMjp0LmxhYmVsPTI7YnJlYWs7Y2FzZVwiTEFCRUxfUkVQRUFURURcIjpjYXNlIDM6dC5sYWJlbD0zfXN3aXRjaChlLnR5cGUpe2Nhc2VcIlRZUEVfRE9VQkxFXCI6Y2FzZSAxOnQudHlwZT0xO2JyZWFrO2Nhc2VcIlRZUEVfRkxPQVRcIjpjYXNlIDI6dC50eXBlPTI7YnJlYWs7Y2FzZVwiVFlQRV9JTlQ2NFwiOmNhc2UgMzp0LnR5cGU9MzticmVhaztjYXNlXCJUWVBFX1VJTlQ2NFwiOmNhc2UgNDp0LnR5cGU9NDticmVhaztjYXNlXCJUWVBFX0lOVDMyXCI6Y2FzZSA1OnQudHlwZT01O2JyZWFrO2Nhc2VcIlRZUEVfRklYRUQ2NFwiOmNhc2UgNjp0LnR5cGU9NjticmVhaztjYXNlXCJUWVBFX0ZJWEVEMzJcIjpjYXNlIDc6dC50eXBlPTc7YnJlYWs7Y2FzZVwiVFlQRV9CT09MXCI6Y2FzZSA4OnQudHlwZT04O2JyZWFrO2Nhc2VcIlRZUEVfU1RSSU5HXCI6Y2FzZSA5OnQudHlwZT05O2JyZWFrO2Nhc2VcIlRZUEVfR1JPVVBcIjpjYXNlIDEwOnQudHlwZT0xMDticmVhaztjYXNlXCJUWVBFX01FU1NBR0VcIjpjYXNlIDExOnQudHlwZT0xMTticmVhaztjYXNlXCJUWVBFX0JZVEVTXCI6Y2FzZSAxMjp0LnR5cGU9MTI7YnJlYWs7Y2FzZVwiVFlQRV9VSU5UMzJcIjpjYXNlIDEzOnQudHlwZT0xMzticmVhaztjYXNlXCJUWVBFX0VOVU1cIjpjYXNlIDE0OnQudHlwZT0xNDticmVhaztjYXNlXCJUWVBFX1NGSVhFRDMyXCI6Y2FzZSAxNTp0LnR5cGU9MTU7YnJlYWs7Y2FzZVwiVFlQRV9TRklYRUQ2NFwiOmNhc2UgMTY6dC50eXBlPTE2O2JyZWFrO2Nhc2VcIlRZUEVfU0lOVDMyXCI6Y2FzZSAxNzp0LnR5cGU9MTc7YnJlYWs7Y2FzZVwiVFlQRV9TSU5UNjRcIjpjYXNlIDE4OnQudHlwZT0xOH1pZihudWxsIT1lLnR5cGVOYW1lJiYodC50eXBlTmFtZT1TdHJpbmcoZS50eXBlTmFtZSkpLG51bGwhPWUuZXh0ZW5kZWUmJih0LmV4dGVuZGVlPVN0cmluZyhlLmV4dGVuZGVlKSksbnVsbCE9ZS5kZWZhdWx0VmFsdWUmJih0LmRlZmF1bHRWYWx1ZT1TdHJpbmcoZS5kZWZhdWx0VmFsdWUpKSxudWxsIT1lLm9uZW9mSW5kZXgmJih0Lm9uZW9mSW5kZXg9MHxlLm9uZW9mSW5kZXgpLG51bGwhPWUuanNvbk5hbWUmJih0Lmpzb25OYW1lPVN0cmluZyhlLmpzb25OYW1lKSksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiBudWxsIT1lLnByb3RvM09wdGlvbmFsJiYodC5wcm90bzNPcHRpb25hbD1Cb29sZWFuKGUucHJvdG8zT3B0aW9uYWwpKSx0fSxPLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5leHRlbmRlZT1cIlwiLG4ubnVtYmVyPTAsbi5sYWJlbD10LmVudW1zPT09U3RyaW5nP1wiTEFCRUxfT1BUSU9OQUxcIjoxLG4udHlwZT10LmVudW1zPT09U3RyaW5nP1wiVFlQRV9ET1VCTEVcIjoxLG4udHlwZU5hbWU9XCJcIixuLmRlZmF1bHRWYWx1ZT1cIlwiLG4ub3B0aW9ucz1udWxsLG4ub25lb2ZJbmRleD0wLG4uanNvbk5hbWU9XCJcIixuLnByb3RvM09wdGlvbmFsPSExKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5leHRlbmRlZSYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuZGVlXCIpJiYobi5leHRlbmRlZT1lLmV4dGVuZGVlKSxudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmKG4ubnVtYmVyPWUubnVtYmVyKSxudWxsIT1lLmxhYmVsJiZlLmhhc093blByb3BlcnR5KFwibGFiZWxcIikmJihuLmxhYmVsPXQuZW51bXM9PT1TdHJpbmc/Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uTGFiZWxbZS5sYWJlbF06ZS5sYWJlbCksbnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmKG4udHlwZT10LmVudW1zPT09U3RyaW5nP2MuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGVbZS50eXBlXTplLnR5cGUpLG51bGwhPWUudHlwZU5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlTmFtZVwiKSYmKG4udHlwZU5hbWU9ZS50eXBlTmFtZSksbnVsbCE9ZS5kZWZhdWx0VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0VmFsdWVcIikmJihuLmRlZmF1bHRWYWx1ZT1lLmRlZmF1bHRWYWx1ZSksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxudWxsIT1lLm9uZW9mSW5kZXgmJmUuaGFzT3duUHJvcGVydHkoXCJvbmVvZkluZGV4XCIpJiYobi5vbmVvZkluZGV4PWUub25lb2ZJbmRleCksbnVsbCE9ZS5qc29uTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzb25OYW1lXCIpJiYobi5qc29uTmFtZT1lLmpzb25OYW1lKSxudWxsIT1lLnByb3RvM09wdGlvbmFsJiZlLmhhc093blByb3BlcnR5KFwicHJvdG8zT3B0aW9uYWxcIikmJihuLnByb3RvM09wdGlvbmFsPWUucHJvdG8zT3B0aW9uYWwpLG59LE8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxPLlR5cGU9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVsxXT1cIlRZUEVfRE9VQkxFXCJdPTEsdFtlWzJdPVwiVFlQRV9GTE9BVFwiXT0yLHRbZVszXT1cIlRZUEVfSU5UNjRcIl09Myx0W2VbNF09XCJUWVBFX1VJTlQ2NFwiXT00LHRbZVs1XT1cIlRZUEVfSU5UMzJcIl09NSx0W2VbNl09XCJUWVBFX0ZJWEVENjRcIl09Nix0W2VbN109XCJUWVBFX0ZJWEVEMzJcIl09Nyx0W2VbOF09XCJUWVBFX0JPT0xcIl09OCx0W2VbOV09XCJUWVBFX1NUUklOR1wiXT05LHRbZVsxMF09XCJUWVBFX0dST1VQXCJdPTEwLHRbZVsxMV09XCJUWVBFX01FU1NBR0VcIl09MTEsdFtlWzEyXT1cIlRZUEVfQllURVNcIl09MTIsdFtlWzEzXT1cIlRZUEVfVUlOVDMyXCJdPTEzLHRbZVsxNF09XCJUWVBFX0VOVU1cIl09MTQsdFtlWzE1XT1cIlRZUEVfU0ZJWEVEMzJcIl09MTUsdFtlWzE2XT1cIlRZUEVfU0ZJWEVENjRcIl09MTYsdFtlWzE3XT1cIlRZUEVfU0lOVDMyXCJdPTE3LHRbZVsxOF09XCJUWVBFX1NJTlQ2NFwiXT0xOCx0KSxPLkxhYmVsPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMV09XCJMQUJFTF9PUFRJT05BTFwiXT0xLHRbZVsyXT1cIkxBQkVMX1JFUVVJUkVEXCJdPTIsdFtlWzNdPVwiTEFCRUxfUkVQRUFURURcIl09Myx0KSxPKSxuLk9uZW9mRGVzY3JpcHRvclByb3RvPShtLnByb3RvdHlwZS5uYW1lPVwiXCIsbS5wcm90b3R5cGUub3B0aW9ucz1udWxsLG0uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbShlKX0sbS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZjLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0fSxtLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxtLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LG0uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LG0udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXtlPWMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZihlKXJldHVyblwib3B0aW9ucy5cIitlfXJldHVybiBudWxsfSxtLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sbS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSxtLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sbSksbi5FbnVtRGVzY3JpcHRvclByb3RvPSh2LnByb3RvdHlwZS5uYW1lPVwiXCIsdi5wcm90b3R5cGUudmFsdWU9dS5lbXB0eUFycmF5LHYucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx2LnByb3RvdHlwZS5yZXNlcnZlZFJhbmdlPXUuZW1wdHlBcnJheSx2LnByb3RvdHlwZS5yZXNlcnZlZE5hbWU9dS5lbXB0eUFycmF5LHYuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdihlKX0sdi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUudmFsdWUmJmUudmFsdWUubGVuZ3RoKWZvcih2YXIgbj0wO248ZS52YWx1ZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS52YWx1ZVtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZjLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS5lbmNvZGUoZS5yZXNlcnZlZFJhbmdlW25dLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC51aW50MzIoNDIpLnN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSk7cmV0dXJuIHR9LHYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8udmFsdWUmJm8udmFsdWUubGVuZ3RofHwoby52YWx1ZT1bXSksby52YWx1ZS5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDQ6by5yZXNlcnZlZFJhbmdlJiZvLnJlc2VydmVkUmFuZ2UubGVuZ3RofHwoby5yZXNlcnZlZFJhbmdlPVtdKSxvLnJlc2VydmVkUmFuZ2UucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDU6by5yZXNlcnZlZE5hbWUmJm8ucmVzZXJ2ZWROYW1lLmxlbmd0aHx8KG8ucmVzZXJ2ZWROYW1lPVtdKSxvLnJlc2VydmVkTmFtZS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUudmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS52YWx1ZSkpcmV0dXJuXCJ2YWx1ZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudmFsdWUubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS52YWx1ZVt0XSkpcmV0dXJuXCJ2YWx1ZS5cIitufWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtpZihudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZFJhbmdlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXJldHVyblwicmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sdD0wO3Q8ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLnZlcmlmeShlLnJlc2VydmVkUmFuZ2VbdF0pKXJldHVyblwicmVzZXJ2ZWRSYW5nZS5cIitufWlmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWROYW1lXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK3QpaWYoIXUuaXNTdHJpbmcoZS5yZXNlcnZlZE5hbWVbdF0pKXJldHVyblwicmVzZXJ2ZWROYW1lOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSx2LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxlLnZhbHVlKXtpZighQXJyYXkuaXNBcnJheShlLnZhbHVlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmFsdWU6IGFycmF5IGV4cGVjdGVkXCIpO3QudmFsdWU9W107Zm9yKHZhciBuPTA7bjxlLnZhbHVlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnZhbHVlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52YWx1ZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QudmFsdWVbbl09Yy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS52YWx1ZVtuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9aWYoZS5yZXNlcnZlZFJhbmdlKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2U9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5yZXNlcnZlZFJhbmdlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlW25dPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UuZnJvbU9iamVjdChlLnJlc2VydmVkUmFuZ2Vbbl0pfX1pZihlLnJlc2VydmVkTmFtZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5yZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWROYW1lPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQucmVzZXJ2ZWROYW1lW25dPVN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSl9cmV0dXJuIHR9LHYudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnZhbHVlPVtdLG4ucmVzZXJ2ZWRSYW5nZT1bXSxuLnJlc2VydmVkTmFtZT1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksZS52YWx1ZSYmZS52YWx1ZS5sZW5ndGgpe24udmFsdWU9W107Zm9yKHZhciBvPTA7bzxlLnZhbHVlLmxlbmd0aDsrK28pbi52YWx1ZVtvXT1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS52YWx1ZVtvXSx0KX1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKXtuLnJlc2VydmVkUmFuZ2U9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWRSYW5nZVtvXT1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLnRvT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtvXSx0KX1pZihlLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKXtuLnJlc2VydmVkTmFtZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbyluLnJlc2VydmVkTmFtZVtvXT1lLnJlc2VydmVkTmFtZVtvXX1yZXR1cm4gbn0sdi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHYuRW51bVJlc2VydmVkUmFuZ2U9KFAucHJvdG90eXBlLnN0YXJ0PTAsUC5wcm90b3R5cGUuZW5kPTAsUC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQKGUpfSxQLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5zdGFydCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0YXJ0XCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnN0YXJ0KSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMTYpLmludDMyKGUuZW5kKSx0fSxQLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxQLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc3RhcnQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLmVuZD1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxQLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxQLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJiF1LmlzSW50ZWdlcihlLnN0YXJ0KT9cInN0YXJ0OiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiF1LmlzSW50ZWdlcihlLmVuZCk/XCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsfSxQLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlP2U6KHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UsbnVsbCE9ZS5zdGFydCYmKHQuc3RhcnQ9MHxlLnN0YXJ0KSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLHQpfSxQLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5zdGFydD0wLG4uZW5kPTApLG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmKG4uc3RhcnQ9ZS5zdGFydCksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbn0sUC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFApLHYpLG4uRW51bVZhbHVlRGVzY3JpcHRvclByb3RvPSh3LnByb3RvdHlwZS5uYW1lPVwiXCIsdy5wcm90b3R5cGUubnVtYmVyPTAsdy5wcm90b3R5cGUub3B0aW9ucz1udWxsLHcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdyhlKX0sdy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLm51bWJlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm51bWJlclwiKSYmdC51aW50MzIoMTYpLmludDMyKGUubnVtYmVyKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZjLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdH0sdy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sdy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm51bWJlcj1lLmludDMyKCk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYhdS5pc0ludGVnZXIoZS5udW1iZXIpKXJldHVyblwibnVtYmVyOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7ZT1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKGUpcmV0dXJuXCJvcHRpb25zLlwiK2V9cmV0dXJuIG51bGx9LHcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLm51bWJlciYmKHQubnVtYmVyPTB8ZS5udW1iZXIpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSx3LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5udW1iZXI9MCxuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYobi5udW1iZXI9ZS5udW1iZXIpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LHcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx3KSxuLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG89KGoucHJvdG90eXBlLm5hbWU9XCJcIixqLnByb3RvdHlwZS5tZXRob2Q9dS5lbXB0eUFycmF5LGoucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxqLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGooZSl9LGouZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLm1ldGhvZCYmZS5tZXRob2QubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5tZXRob2QubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUubWV0aG9kW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZjLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGouZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGouZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ubWV0aG9kJiZvLm1ldGhvZC5sZW5ndGh8fChvLm1ldGhvZD1bXSksby5tZXRob2QucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxqLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxqLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhdS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tZXRob2QmJmUuaGFzT3duUHJvcGVydHkoXCJtZXRob2RcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubWV0aG9kKSlyZXR1cm5cIm1ldGhvZDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUubWV0aG9kLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUubWV0aG9kW3RdKSlyZXR1cm5cIm1ldGhvZC5cIitufXZhciBuO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPWMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtyZXR1cm4gbnVsbH0sai5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksZS5tZXRob2Qpe2lmKCFBcnJheS5pc0FycmF5KGUubWV0aG9kKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8ubWV0aG9kOiBhcnJheSBleHBlY3RlZFwiKTt0Lm1ldGhvZD1bXTtmb3IodmFyIG49MDtuPGUubWV0aG9kLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm1ldGhvZFtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8ubWV0aG9kOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5tZXRob2Rbbl09Yy5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5tZXRob2Rbbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSxqLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5tZXRob2Q9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLGUubWV0aG9kJiZlLm1ldGhvZC5sZW5ndGgpe24ubWV0aG9kPVtdO2Zvcih2YXIgbz0wO288ZS5tZXRob2QubGVuZ3RoOysrbyluLm1ldGhvZFtvXT1jLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5tZXRob2Rbb10sdCl9cmV0dXJuIG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSxqLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0saiksbi5NZXRob2REZXNjcmlwdG9yUHJvdG89KHgucHJvdG90eXBlLm5hbWU9XCJcIix4LnByb3RvdHlwZS5pbnB1dFR5cGU9XCJcIix4LnByb3RvdHlwZS5vdXRwdXRUeXBlPVwiXCIseC5wcm90b3R5cGUub3B0aW9ucz1udWxsLHgucHJvdG90eXBlLmNsaWVudFN0cmVhbWluZz0hMSx4LnByb3RvdHlwZS5zZXJ2ZXJTdHJlYW1pbmc9ITEseC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB4KGUpfSx4LmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUuaW5wdXRUeXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaW5wdXRUeXBlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuaW5wdXRUeXBlKSxudWxsIT1lLm91dHB1dFR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvdXRwdXRUeXBlXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUub3V0cHV0VHlwZSksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2xpZW50U3RyZWFtaW5nXCIpJiZ0LnVpbnQzMig0MCkuYm9vbChlLmNsaWVudFN0cmVhbWluZyksbnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZXJ2ZXJTdHJlYW1pbmdcIikmJnQudWludDMyKDQ4KS5ib29sKGUuc2VydmVyU3RyZWFtaW5nKSx0fSx4LmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSx4LmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uaW5wdXRUeXBlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8ub3V0cHV0VHlwZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDU6by5jbGllbnRTdHJlYW1pbmc9ZS5ib29sKCk7YnJlYWs7Y2FzZSA2Om8uc2VydmVyU3RyZWFtaW5nPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30seC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0seC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuaW5wdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwiaW5wdXRUeXBlXCIpJiYhdS5pc1N0cmluZyhlLmlucHV0VHlwZSkpcmV0dXJuXCJpbnB1dFR5cGU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3V0cHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm91dHB1dFR5cGVcIikmJiF1LmlzU3RyaW5nKGUub3V0cHV0VHlwZSkpcmV0dXJuXCJvdXRwdXRUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXt2YXIgdD1jLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKHQpcmV0dXJuXCJvcHRpb25zLlwiK3R9cmV0dXJuIG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwiY2xpZW50U3RyZWFtaW5nXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuY2xpZW50U3RyZWFtaW5nP1wiY2xpZW50U3RyZWFtaW5nOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2ZXJTdHJlYW1pbmdcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5zZXJ2ZXJTdHJlYW1pbmc/XCJzZXJ2ZXJTdHJlYW1pbmc6IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsfSx4LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5pbnB1dFR5cGUmJih0LmlucHV0VHlwZT1TdHJpbmcoZS5pbnB1dFR5cGUpKSxudWxsIT1lLm91dHB1dFR5cGUmJih0Lm91dHB1dFR5cGU9U3RyaW5nKGUub3V0cHV0VHlwZSkpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiBudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmKHQuY2xpZW50U3RyZWFtaW5nPUJvb2xlYW4oZS5jbGllbnRTdHJlYW1pbmcpKSxudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmKHQuc2VydmVyU3RyZWFtaW5nPUJvb2xlYW4oZS5zZXJ2ZXJTdHJlYW1pbmcpKSx0fSx4LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5pbnB1dFR5cGU9XCJcIixuLm91dHB1dFR5cGU9XCJcIixuLm9wdGlvbnM9bnVsbCxuLmNsaWVudFN0cmVhbWluZz0hMSxuLnNlcnZlclN0cmVhbWluZz0hMSksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUuaW5wdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwiaW5wdXRUeXBlXCIpJiYobi5pbnB1dFR5cGU9ZS5pbnB1dFR5cGUpLG51bGwhPWUub3V0cHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm91dHB1dFR5cGVcIikmJihuLm91dHB1dFR5cGU9ZS5vdXRwdXRUeXBlKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudFN0cmVhbWluZ1wiKSYmKG4uY2xpZW50U3RyZWFtaW5nPWUuY2xpZW50U3RyZWFtaW5nKSxudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZlclN0cmVhbWluZ1wiKSYmKG4uc2VydmVyU3RyZWFtaW5nPWUuc2VydmVyU3RyZWFtaW5nKSxufSx4LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0seCksbi5GaWxlT3B0aW9ucz0oUy5wcm90b3R5cGUuamF2YVBhY2thZ2U9XCJcIixTLnByb3RvdHlwZS5qYXZhT3V0ZXJDbGFzc25hbWU9XCJcIixTLnByb3RvdHlwZS5qYXZhTXVsdGlwbGVGaWxlcz0hMSxTLnByb3RvdHlwZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPSExLFMucHJvdG90eXBlLmphdmFTdHJpbmdDaGVja1V0Zjg9ITEsUy5wcm90b3R5cGUub3B0aW1pemVGb3I9MSxTLnByb3RvdHlwZS5nb1BhY2thZ2U9XCJcIixTLnByb3RvdHlwZS5jY0dlbmVyaWNTZXJ2aWNlcz0hMSxTLnByb3RvdHlwZS5qYXZhR2VuZXJpY1NlcnZpY2VzPSExLFMucHJvdG90eXBlLnB5R2VuZXJpY1NlcnZpY2VzPSExLFMucHJvdG90eXBlLnBocEdlbmVyaWNTZXJ2aWNlcz0hMSxTLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLFMucHJvdG90eXBlLmNjRW5hYmxlQXJlbmFzPSEwLFMucHJvdG90eXBlLm9iamNDbGFzc1ByZWZpeD1cIlwiLFMucHJvdG90eXBlLmNzaGFycE5hbWVzcGFjZT1cIlwiLFMucHJvdG90eXBlLnN3aWZ0UHJlZml4PVwiXCIsUy5wcm90b3R5cGUucGhwQ2xhc3NQcmVmaXg9XCJcIixTLnByb3RvdHlwZS5waHBOYW1lc3BhY2U9XCJcIixTLnByb3RvdHlwZS5waHBNZXRhZGF0YU5hbWVzcGFjZT1cIlwiLFMucHJvdG90eXBlLnJ1YnlQYWNrYWdlPVwiXCIsUy5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj11LmVtcHR5QXJyYXksUy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTKGUpfSxTLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmphdmFQYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YVBhY2thZ2VcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5qYXZhUGFja2FnZSksbnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhT3V0ZXJDbGFzc25hbWVcIikmJnQudWludDMyKDY2KS5zdHJpbmcoZS5qYXZhT3V0ZXJDbGFzc25hbWUpLG51bGwhPWUub3B0aW1pemVGb3ImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpbWl6ZUZvclwiKSYmdC51aW50MzIoNzIpLmludDMyKGUub3B0aW1pemVGb3IpLG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhTXVsdGlwbGVGaWxlc1wiKSYmdC51aW50MzIoODApLmJvb2woZS5qYXZhTXVsdGlwbGVGaWxlcyksbnVsbCE9ZS5nb1BhY2thZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJnb1BhY2thZ2VcIikmJnQudWludDMyKDkwKS5zdHJpbmcoZS5nb1BhY2thZ2UpLG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjY0dlbmVyaWNTZXJ2aWNlc1wiKSYmdC51aW50MzIoMTI4KS5ib29sKGUuY2NHZW5lcmljU2VydmljZXMpLG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDEzNikuYm9vbChlLmphdmFHZW5lcmljU2VydmljZXMpLG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJweUdlbmVyaWNTZXJ2aWNlc1wiKSYmdC51aW50MzIoMTQ0KS5ib29sKGUucHlHZW5lcmljU2VydmljZXMpLG51bGwhPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2hcIikmJnQudWludDMyKDE2MCkuYm9vbChlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDE4NCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFTdHJpbmdDaGVja1V0ZjhcIikmJnQudWludDMyKDIxNikuYm9vbChlLmphdmFTdHJpbmdDaGVja1V0ZjgpLG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjY0VuYWJsZUFyZW5hc1wiKSYmdC51aW50MzIoMjQ4KS5ib29sKGUuY2NFbmFibGVBcmVuYXMpLG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib2JqY0NsYXNzUHJlZml4XCIpJiZ0LnVpbnQzMigyOTApLnN0cmluZyhlLm9iamNDbGFzc1ByZWZpeCksbnVsbCE9ZS5jc2hhcnBOYW1lc3BhY2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjc2hhcnBOYW1lc3BhY2VcIikmJnQudWludDMyKDI5OCkuc3RyaW5nKGUuY3NoYXJwTmFtZXNwYWNlKSxudWxsIT1lLnN3aWZ0UHJlZml4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3dpZnRQcmVmaXhcIikmJnQudWludDMyKDMxNCkuc3RyaW5nKGUuc3dpZnRQcmVmaXgpLG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBDbGFzc1ByZWZpeFwiKSYmdC51aW50MzIoMzIyKS5zdHJpbmcoZS5waHBDbGFzc1ByZWZpeCksbnVsbCE9ZS5waHBOYW1lc3BhY2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBOYW1lc3BhY2VcIikmJnQudWludDMyKDMzMCkuc3RyaW5nKGUucGhwTmFtZXNwYWNlKSxudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmdC51aW50MzIoMzM2KS5ib29sKGUucGhwR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwTWV0YWRhdGFOYW1lc3BhY2VcIikmJnQudWludDMyKDM1NCkuc3RyaW5nKGUucGhwTWV0YWRhdGFOYW1lc3BhY2UpLG51bGwhPWUucnVieVBhY2thZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJydWJ5UGFja2FnZVwiKSYmdC51aW50MzIoMzYyKS5zdHJpbmcoZS5ydWJ5UGFja2FnZSksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LFMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uamF2YVBhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDg6by5qYXZhT3V0ZXJDbGFzc25hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDEwOm8uamF2YU11bHRpcGxlRmlsZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyMDpvLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyNzpvLmphdmFTdHJpbmdDaGVja1V0Zjg9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5Om8ub3B0aW1pemVGb3I9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMTE6by5nb1BhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDE2Om8uY2NHZW5lcmljU2VydmljZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAxNzpvLmphdmFHZW5lcmljU2VydmljZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAxODpvLnB5R2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNDI6by5waHBHZW5lcmljU2VydmljZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzMTpvLmNjRW5hYmxlQXJlbmFzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzY6by5vYmpjQ2xhc3NQcmVmaXg9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM3Om8uY3NoYXJwTmFtZXNwYWNlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOTpvLnN3aWZ0UHJlZml4PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0MDpvLnBocENsYXNzUHJlZml4PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0MTpvLnBocE5hbWVzcGFjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDQ6by5waHBNZXRhZGF0YU5hbWVzcGFjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDU6by5ydWJ5UGFja2FnZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxTLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxTLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFQYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwiamF2YVBhY2thZ2VcIikmJiF1LmlzU3RyaW5nKGUuamF2YVBhY2thZ2UpKXJldHVyblwiamF2YVBhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YU91dGVyQ2xhc3NuYW1lJiZlLmhhc093blByb3BlcnR5KFwiamF2YU91dGVyQ2xhc3NuYW1lXCIpJiYhdS5pc1N0cmluZyhlLmphdmFPdXRlckNsYXNzbmFtZSkpcmV0dXJuXCJqYXZhT3V0ZXJDbGFzc25hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhTXVsdGlwbGVGaWxlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFNdWx0aXBsZUZpbGVzKXJldHVyblwiamF2YU11bHRpcGxlRmlsZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaClyZXR1cm5cImphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhU3RyaW5nQ2hlY2tVdGY4XCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuamF2YVN0cmluZ0NoZWNrVXRmOClyZXR1cm5cImphdmFTdHJpbmdDaGVja1V0Zjg6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGltaXplRm9yJiZlLmhhc093blByb3BlcnR5KFwib3B0aW1pemVGb3JcIikpc3dpdGNoKGUub3B0aW1pemVGb3Ipe2RlZmF1bHQ6cmV0dXJuXCJvcHRpbWl6ZUZvcjogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMTpjYXNlIDI6Y2FzZSAzOn1pZihudWxsIT1lLmdvUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImdvUGFja2FnZVwiKSYmIXUuaXNTdHJpbmcoZS5nb1BhY2thZ2UpKXJldHVyblwiZ29QYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmNjR2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwiY2NHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5jY0dlbmVyaWNTZXJ2aWNlcylyZXR1cm5cImNjR2VuZXJpY1NlcnZpY2VzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhR2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFHZW5lcmljU2VydmljZXMpcmV0dXJuXCJqYXZhR2VuZXJpY1NlcnZpY2VzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5weUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInB5R2VuZXJpY1NlcnZpY2VzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUucHlHZW5lcmljU2VydmljZXMpcmV0dXJuXCJweUdlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwR2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwicGhwR2VuZXJpY1NlcnZpY2VzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUucGhwR2VuZXJpY1NlcnZpY2VzKXJldHVyblwicGhwR2VuZXJpY1NlcnZpY2VzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jY0VuYWJsZUFyZW5hcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjRW5hYmxlQXJlbmFzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuY2NFbmFibGVBcmVuYXMpcmV0dXJuXCJjY0VuYWJsZUFyZW5hczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiZlLmhhc093blByb3BlcnR5KFwib2JqY0NsYXNzUHJlZml4XCIpJiYhdS5pc1N0cmluZyhlLm9iamNDbGFzc1ByZWZpeCkpcmV0dXJuXCJvYmpjQ2xhc3NQcmVmaXg6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwiY3NoYXJwTmFtZXNwYWNlXCIpJiYhdS5pc1N0cmluZyhlLmNzaGFycE5hbWVzcGFjZSkpcmV0dXJuXCJjc2hhcnBOYW1lc3BhY2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuc3dpZnRQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJzd2lmdFByZWZpeFwiKSYmIXUuaXNTdHJpbmcoZS5zd2lmdFByZWZpeCkpcmV0dXJuXCJzd2lmdFByZWZpeDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcInBocENsYXNzUHJlZml4XCIpJiYhdS5pc1N0cmluZyhlLnBocENsYXNzUHJlZml4KSlyZXR1cm5cInBocENsYXNzUHJlZml4OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBocE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE5hbWVzcGFjZVwiKSYmIXUuaXNTdHJpbmcoZS5waHBOYW1lc3BhY2UpKXJldHVyblwicGhwTmFtZXNwYWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwicGhwTWV0YWRhdGFOYW1lc3BhY2VcIikmJiF1LmlzU3RyaW5nKGUucGhwTWV0YWRhdGFOYW1lc3BhY2UpKXJldHVyblwicGhwTWV0YWRhdGFOYW1lc3BhY2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucnVieVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJydWJ5UGFja2FnZVwiKSYmIXUuaXNTdHJpbmcoZS5ydWJ5UGFja2FnZSkpcmV0dXJuXCJydWJ5UGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sUy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnM7c3dpdGNoKG51bGwhPWUuamF2YVBhY2thZ2UmJih0LmphdmFQYWNrYWdlPVN0cmluZyhlLmphdmFQYWNrYWdlKSksbnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJih0LmphdmFPdXRlckNsYXNzbmFtZT1TdHJpbmcoZS5qYXZhT3V0ZXJDbGFzc25hbWUpKSxudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiYodC5qYXZhTXVsdGlwbGVGaWxlcz1Cb29sZWFuKGUuamF2YU11bHRpcGxlRmlsZXMpKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJih0LmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9Qm9vbGVhbihlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpKSxudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJih0LmphdmFTdHJpbmdDaGVja1V0Zjg9Qm9vbGVhbihlLmphdmFTdHJpbmdDaGVja1V0ZjgpKSxlLm9wdGltaXplRm9yKXtjYXNlXCJTUEVFRFwiOmNhc2UgMTp0Lm9wdGltaXplRm9yPTE7YnJlYWs7Y2FzZVwiQ09ERV9TSVpFXCI6Y2FzZSAyOnQub3B0aW1pemVGb3I9MjticmVhaztjYXNlXCJMSVRFX1JVTlRJTUVcIjpjYXNlIDM6dC5vcHRpbWl6ZUZvcj0zfWlmKG51bGwhPWUuZ29QYWNrYWdlJiYodC5nb1BhY2thZ2U9U3RyaW5nKGUuZ29QYWNrYWdlKSksbnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmKHQuY2NHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLmNjR2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5qYXZhR2VuZXJpY1NlcnZpY2VzJiYodC5qYXZhR2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5qYXZhR2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5weUdlbmVyaWNTZXJ2aWNlcyYmKHQucHlHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLnB5R2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJih0LnBocEdlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUucGhwR2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksbnVsbCE9ZS5jY0VuYWJsZUFyZW5hcyYmKHQuY2NFbmFibGVBcmVuYXM9Qm9vbGVhbihlLmNjRW5hYmxlQXJlbmFzKSksbnVsbCE9ZS5vYmpjQ2xhc3NQcmVmaXgmJih0Lm9iamNDbGFzc1ByZWZpeD1TdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpKSxudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmKHQuY3NoYXJwTmFtZXNwYWNlPVN0cmluZyhlLmNzaGFycE5hbWVzcGFjZSkpLG51bGwhPWUuc3dpZnRQcmVmaXgmJih0LnN3aWZ0UHJlZml4PVN0cmluZyhlLnN3aWZ0UHJlZml4KSksbnVsbCE9ZS5waHBDbGFzc1ByZWZpeCYmKHQucGhwQ2xhc3NQcmVmaXg9U3RyaW5nKGUucGhwQ2xhc3NQcmVmaXgpKSxudWxsIT1lLnBocE5hbWVzcGFjZSYmKHQucGhwTmFtZXNwYWNlPVN0cmluZyhlLnBocE5hbWVzcGFjZSkpLG51bGwhPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UmJih0LnBocE1ldGFkYXRhTmFtZXNwYWNlPVN0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSksbnVsbCE9ZS5ydWJ5UGFja2FnZSYmKHQucnVieVBhY2thZ2U9U3RyaW5nKGUucnVieVBhY2thZ2UpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxTLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5qYXZhUGFja2FnZT1cIlwiLG4uamF2YU91dGVyQ2xhc3NuYW1lPVwiXCIsbi5vcHRpbWl6ZUZvcj10LmVudW1zPT09U3RyaW5nP1wiU1BFRURcIjoxLG4uamF2YU11bHRpcGxlRmlsZXM9ITEsbi5nb1BhY2thZ2U9XCJcIixuLmNjR2VuZXJpY1NlcnZpY2VzPSExLG4uamF2YUdlbmVyaWNTZXJ2aWNlcz0hMSxuLnB5R2VuZXJpY1NlcnZpY2VzPSExLG4uamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD0hMSxuLmRlcHJlY2F0ZWQ9ITEsbi5qYXZhU3RyaW5nQ2hlY2tVdGY4PSExLG4uY2NFbmFibGVBcmVuYXM9ITAsbi5vYmpjQ2xhc3NQcmVmaXg9XCJcIixuLmNzaGFycE5hbWVzcGFjZT1cIlwiLG4uc3dpZnRQcmVmaXg9XCJcIixuLnBocENsYXNzUHJlZml4PVwiXCIsbi5waHBOYW1lc3BhY2U9XCJcIixuLnBocEdlbmVyaWNTZXJ2aWNlcz0hMSxuLnBocE1ldGFkYXRhTmFtZXNwYWNlPVwiXCIsbi5ydWJ5UGFja2FnZT1cIlwiKSxudWxsIT1lLmphdmFQYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwiamF2YVBhY2thZ2VcIikmJihuLmphdmFQYWNrYWdlPWUuamF2YVBhY2thZ2UpLG51bGwhPWUuamF2YU91dGVyQ2xhc3NuYW1lJiZlLmhhc093blByb3BlcnR5KFwiamF2YU91dGVyQ2xhc3NuYW1lXCIpJiYobi5qYXZhT3V0ZXJDbGFzc25hbWU9ZS5qYXZhT3V0ZXJDbGFzc25hbWUpLG51bGwhPWUub3B0aW1pemVGb3ImJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpbWl6ZUZvclwiKSYmKG4ub3B0aW1pemVGb3I9dC5lbnVtcz09PVN0cmluZz9jLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5PcHRpbWl6ZU1vZGVbZS5vcHRpbWl6ZUZvcl06ZS5vcHRpbWl6ZUZvciksbnVsbCE9ZS5qYXZhTXVsdGlwbGVGaWxlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFNdWx0aXBsZUZpbGVzXCIpJiYobi5qYXZhTXVsdGlwbGVGaWxlcz1lLmphdmFNdWx0aXBsZUZpbGVzKSxudWxsIT1lLmdvUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImdvUGFja2FnZVwiKSYmKG4uZ29QYWNrYWdlPWUuZ29QYWNrYWdlKSxudWxsIT1lLmNjR2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwiY2NHZW5lcmljU2VydmljZXNcIikmJihuLmNjR2VuZXJpY1NlcnZpY2VzPWUuY2NHZW5lcmljU2VydmljZXMpLG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFHZW5lcmljU2VydmljZXNcIikmJihuLmphdmFHZW5lcmljU2VydmljZXM9ZS5qYXZhR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwicHlHZW5lcmljU2VydmljZXNcIikmJihuLnB5R2VuZXJpY1NlcnZpY2VzPWUucHlHZW5lcmljU2VydmljZXMpLG51bGwhPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2hcIikmJihuLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksbnVsbCE9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4JiZlLmhhc093blByb3BlcnR5KFwiamF2YVN0cmluZ0NoZWNrVXRmOFwiKSYmKG4uamF2YVN0cmluZ0NoZWNrVXRmOD1lLmphdmFTdHJpbmdDaGVja1V0ZjgpLG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0VuYWJsZUFyZW5hc1wiKSYmKG4uY2NFbmFibGVBcmVuYXM9ZS5jY0VuYWJsZUFyZW5hcyksbnVsbCE9ZS5vYmpjQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJvYmpjQ2xhc3NQcmVmaXhcIikmJihuLm9iamNDbGFzc1ByZWZpeD1lLm9iamNDbGFzc1ByZWZpeCksbnVsbCE9ZS5jc2hhcnBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJjc2hhcnBOYW1lc3BhY2VcIikmJihuLmNzaGFycE5hbWVzcGFjZT1lLmNzaGFycE5hbWVzcGFjZSksbnVsbCE9ZS5zd2lmdFByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcInN3aWZ0UHJlZml4XCIpJiYobi5zd2lmdFByZWZpeD1lLnN3aWZ0UHJlZml4KSxudWxsIT1lLnBocENsYXNzUHJlZml4JiZlLmhhc093blByb3BlcnR5KFwicGhwQ2xhc3NQcmVmaXhcIikmJihuLnBocENsYXNzUHJlZml4PWUucGhwQ2xhc3NQcmVmaXgpLG51bGwhPWUucGhwTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwicGhwTmFtZXNwYWNlXCIpJiYobi5waHBOYW1lc3BhY2U9ZS5waHBOYW1lc3BhY2UpLG51bGwhPWUucGhwR2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwicGhwR2VuZXJpY1NlcnZpY2VzXCIpJiYobi5waHBHZW5lcmljU2VydmljZXM9ZS5waHBHZW5lcmljU2VydmljZXMpLG51bGwhPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBNZXRhZGF0YU5hbWVzcGFjZVwiKSYmKG4ucGhwTWV0YWRhdGFOYW1lc3BhY2U9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSksbnVsbCE9ZS5ydWJ5UGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJ1YnlQYWNrYWdlXCIpJiYobi5ydWJ5UGFja2FnZT1lLnJ1YnlQYWNrYWdlKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sUy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFMuT3B0aW1pemVNb2RlPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMV09XCJTUEVFRFwiXT0xLHRbZVsyXT1cIkNPREVfU0laRVwiXT0yLHRbZVszXT1cIkxJVEVfUlVOVElNRVwiXT0zLHQpLFMpLG4uTWVzc2FnZU9wdGlvbnM9KGsucHJvdG90eXBlLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PSExLGsucHJvdG90eXBlLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9ITEsay5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxrLnByb3RvdHlwZS5tYXBFbnRyeT0hMSxrLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXUuZW1wdHlBcnJheSxrLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGsoZSl9LGsuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubWVzc2FnZVNldFdpcmVGb3JtYXQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtZXNzYWdlU2V0V2lyZUZvcm1hdFwiKSYmdC51aW50MzIoOCkuYm9vbChlLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KSxudWxsIT1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3ImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3IpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS5tYXBFbnRyeSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1hcEVudHJ5XCIpJiZ0LnVpbnQzMig1NikuYm9vbChlLm1hcEVudHJ5KSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0say5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0say5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5tZXNzYWdlU2V0V2lyZUZvcm1hdD1lLmJvb2woKTticmVhaztjYXNlIDI6by5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA3Om8ubWFwRW50cnk9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGsuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGsudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubWVzc2FnZVNldFdpcmVGb3JtYXQmJmUuaGFzT3duUHJvcGVydHkoXCJtZXNzYWdlU2V0V2lyZUZvcm1hdFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KXJldHVyblwibWVzc2FnZVNldFdpcmVGb3JtYXQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3ImJmUuaGFzT3duUHJvcGVydHkoXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvcilyZXR1cm5cIm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1hcEVudHJ5JiZlLmhhc093blByb3BlcnR5KFwibWFwRW50cnlcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5tYXBFbnRyeSlyZXR1cm5cIm1hcEVudHJ5OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0say5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnM7aWYobnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmKHQubWVzc2FnZVNldFdpcmVGb3JtYXQ9Qm9vbGVhbihlLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KSksbnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiYodC5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPUJvb2xlYW4oZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKSksbnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksbnVsbCE9ZS5tYXBFbnRyeSYmKHQubWFwRW50cnk9Qm9vbGVhbihlLm1hcEVudHJ5KSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0say50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4ubWVzc2FnZVNldFdpcmVGb3JtYXQ9ITEsbi5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPSExLG4uZGVwcmVjYXRlZD0hMSxuLm1hcEVudHJ5PSExKSxudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJihuLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PWUubWVzc2FnZVNldFdpcmVGb3JtYXQpLG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3JcIikmJihuLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksbnVsbCE9ZS5tYXBFbnRyeSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1hcEVudHJ5XCIpJiYobi5tYXBFbnRyeT1lLm1hcEVudHJ5KSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0say5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGspLG4uRmllbGRPcHRpb25zPShELnByb3RvdHlwZS5jdHlwZT0wLEQucHJvdG90eXBlLnBhY2tlZD0hMSxELnByb3RvdHlwZS5qc3R5cGU9MCxELnByb3RvdHlwZS5sYXp5PSExLEQucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsRC5wcm90b3R5cGUud2Vhaz0hMSxELnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXUuZW1wdHlBcnJheSxELmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEQoZSl9LEQuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuY3R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjdHlwZVwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5jdHlwZSksbnVsbCE9ZS5wYWNrZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYWNrZWRcIikmJnQudWludDMyKDE2KS5ib29sKGUucGFja2VkKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUubGF6eSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImxhenlcIikmJnQudWludDMyKDQwKS5ib29sKGUubGF6eSksbnVsbCE9ZS5qc3R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqc3R5cGVcIikmJnQudWludDMyKDQ4KS5pbnQzMihlLmpzdHlwZSksbnVsbCE9ZS53ZWFrJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwid2Vha1wiKSYmdC51aW50MzIoODApLmJvb2woZS53ZWFrKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sRC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sRC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uY3R5cGU9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLnBhY2tlZD1lLmJvb2woKTticmVhaztjYXNlIDY6by5qc3R5cGU9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNTpvLmxhenk9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDEwOm8ud2Vhaz1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sRC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sRC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImN0eXBlXCIpKXN3aXRjaChlLmN0eXBlKXtkZWZhdWx0OnJldHVyblwiY3R5cGU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9aWYobnVsbCE9ZS5wYWNrZWQmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5wYWNrZWQpcmV0dXJuXCJwYWNrZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmpzdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzdHlwZVwiKSlzd2l0Y2goZS5qc3R5cGUpe2RlZmF1bHQ6cmV0dXJuXCJqc3R5cGU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9aWYobnVsbCE9ZS5sYXp5JiZlLmhhc093blByb3BlcnR5KFwibGF6eVwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmxhenkpcmV0dXJuXCJsYXp5OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS53ZWFrJiZlLmhhc093blByb3BlcnR5KFwid2Vha1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLndlYWspcmV0dXJuXCJ3ZWFrOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sRC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucztzd2l0Y2goZS5jdHlwZSl7Y2FzZVwiU1RSSU5HXCI6Y2FzZSAwOnQuY3R5cGU9MDticmVhaztjYXNlXCJDT1JEXCI6Y2FzZSAxOnQuY3R5cGU9MTticmVhaztjYXNlXCJTVFJJTkdfUElFQ0VcIjpjYXNlIDI6dC5jdHlwZT0yfXN3aXRjaChudWxsIT1lLnBhY2tlZCYmKHQucGFja2VkPUJvb2xlYW4oZS5wYWNrZWQpKSxlLmpzdHlwZSl7Y2FzZVwiSlNfTk9STUFMXCI6Y2FzZSAwOnQuanN0eXBlPTA7YnJlYWs7Y2FzZVwiSlNfU1RSSU5HXCI6Y2FzZSAxOnQuanN0eXBlPTE7YnJlYWs7Y2FzZVwiSlNfTlVNQkVSXCI6Y2FzZSAyOnQuanN0eXBlPTJ9aWYobnVsbCE9ZS5sYXp5JiYodC5sYXp5PUJvb2xlYW4oZS5sYXp5KSksbnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksbnVsbCE9ZS53ZWFrJiYodC53ZWFrPUJvb2xlYW4oZS53ZWFrKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxELnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5jdHlwZT10LmVudW1zPT09U3RyaW5nP1wiU1RSSU5HXCI6MCxuLnBhY2tlZD0hMSxuLmRlcHJlY2F0ZWQ9ITEsbi5sYXp5PSExLG4uanN0eXBlPXQuZW51bXM9PT1TdHJpbmc/XCJKU19OT1JNQUxcIjowLG4ud2Vhaz0hMSksbnVsbCE9ZS5jdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImN0eXBlXCIpJiYobi5jdHlwZT10LmVudW1zPT09U3RyaW5nP2MuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5DVHlwZVtlLmN0eXBlXTplLmN0eXBlKSxudWxsIT1lLnBhY2tlZCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2tlZFwiKSYmKG4ucGFja2VkPWUucGFja2VkKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksbnVsbCE9ZS5sYXp5JiZlLmhhc093blByb3BlcnR5KFwibGF6eVwiKSYmKG4ubGF6eT1lLmxhenkpLG51bGwhPWUuanN0eXBlJiZlLmhhc093blByb3BlcnR5KFwianN0eXBlXCIpJiYobi5qc3R5cGU9dC5lbnVtcz09PVN0cmluZz9jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuSlNUeXBlW2UuanN0eXBlXTplLmpzdHlwZSksbnVsbCE9ZS53ZWFrJiZlLmhhc093blByb3BlcnR5KFwid2Vha1wiKSYmKG4ud2Vhaz1lLndlYWspLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxELnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sRC5DVHlwZT0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzBdPVwiU1RSSU5HXCJdPTAsdFtlWzFdPVwiQ09SRFwiXT0xLHRbZVsyXT1cIlNUUklOR19QSUVDRVwiXT0yLHQpLEQuSlNUeXBlPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJKU19OT1JNQUxcIl09MCx0W2VbMV09XCJKU19TVFJJTkdcIl09MSx0W2VbMl09XCJKU19OVU1CRVJcIl09Mix0KSxEKSxuLk9uZW9mT3B0aW9ucz0oTS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj11LmVtcHR5QXJyYXksTS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNKGUpfSxNLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sTS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT05OTk/KG8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sTS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sTS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucztpZihlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LE0udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxNLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTSksbi5FbnVtT3B0aW9ucz0oVC5wcm90b3R5cGUuYWxsb3dBbGlhcz0hMSxULnByb3RvdHlwZS5kZXByZWNhdGVkPSExLFQucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249dS5lbXB0eUFycmF5LFQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVChlKX0sVC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5hbGxvd0FsaWFzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYWxsb3dBbGlhc1wiKSYmdC51aW50MzIoMTYpLmJvb2woZS5hbGxvd0FsaWFzKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxULmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxULmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMjpvLmFsbG93QWxpYXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sVC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sVC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5hbGxvd0FsaWFzJiZlLmhhc093blByb3BlcnR5KFwiYWxsb3dBbGlhc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmFsbG93QWxpYXMpcmV0dXJuXCJhbGxvd0FsaWFzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sVC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnM7aWYobnVsbCE9ZS5hbGxvd0FsaWFzJiYodC5hbGxvd0FsaWFzPUJvb2xlYW4oZS5hbGxvd0FsaWFzKSksbnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sVC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uYWxsb3dBbGlhcz0hMSxuLmRlcHJlY2F0ZWQ9ITEpLG51bGwhPWUuYWxsb3dBbGlhcyYmZS5oYXNPd25Qcm9wZXJ0eShcImFsbG93QWxpYXNcIikmJihuLmFsbG93QWxpYXM9ZS5hbGxvd0FsaWFzKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LFQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxUKSxuLkVudW1WYWx1ZU9wdGlvbnM9KEUucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsRS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj11LmVtcHR5QXJyYXksRS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBFKGUpfSxFLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMig4KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxFLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxFLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxFLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnM7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LEUudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmRlcHJlY2F0ZWQ9ITEpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sRS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEUpLG4uU2VydmljZU9wdGlvbnM9KEEucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsQS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj11LmVtcHR5QXJyYXksQS5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1cIlwiLEEucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09XCJcIixBLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEEoZSl9LEEuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI2NCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiKSYmdC51aW50MzIoODM5NCkuc3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSksbnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIikmJnQudWludDMyKDg0MDIpLnN0cmluZyhlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pLHR9LEEuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEEuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAzMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwNDk6b1tcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDUwOm9bXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sQS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sQS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIikmJiF1LmlzU3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSk/XCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIikmJiF1LmlzU3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSk/XCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blczogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sQS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnM7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiYodFtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPVN0cmluZyhlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pKSxudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJih0W1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09U3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSkpLHR9LEEudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmRlcHJlY2F0ZWQ9ITEsbltcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPVwiXCIsbltcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPVwiXCIpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIikmJihuW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKSxudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiKSYmKG5bXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pLG59LEEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxBKSxuLk1ldGhvZE9wdGlvbnM9KE4ucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsTi5wcm90b3R5cGUuaWRlbXBvdGVuY3lMZXZlbD0wLE4ucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249dS5lbXB0eUFycmF5LE4ucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1udWxsLE4ucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPXUuZW1wdHlBcnJheSxOLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE4oZSl9LE4uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI2NCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlkZW1wb3RlbmN5TGV2ZWxcIikmJnQudWludDMyKDI3MikuaW50MzIoZS5pZGVtcG90ZW5jeUxldmVsKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aClmb3Iobj0wO248ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7KytuKXQudWludDMyKDg0MTApLnN0cmluZyhlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW25dKTtyZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5odHRwXCIpJiZjLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZW5jb2RlKGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdLHQudWludDMyKDU3ODM2NTgyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxOLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxOLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAzMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzNDpvLmlkZW1wb3RlbmN5TGV2ZWw9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA3MjI5NTcyODpvW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMDUxOm9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJm9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RofHwob1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXSksb1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sTi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5pZGVtcG90ZW5jeUxldmVsJiZlLmhhc093blByb3BlcnR5KFwiaWRlbXBvdGVuY3lMZXZlbFwiKSlzd2l0Y2goZS5pZGVtcG90ZW5jeUxldmVsKXtkZWZhdWx0OnJldHVyblwiaWRlbXBvdGVuY3lMZXZlbDogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1pZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn12YXIgbjtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmh0dHBcIikmJihuPWMuZ29vZ2xlLmFwaS5IdHRwUnVsZS52ZXJpZnkoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pKSlyZXR1cm5cIi5nb29nbGUuYXBpLmh0dHAuXCIrbjtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCIpKXtpZighQXJyYXkuaXNBcnJheShlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdKSlyZXR1cm5cIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7Kyt0KWlmKCF1LmlzU3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bdF0pKXJldHVyblwiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSxOLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnM7c3dpdGNoKG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUuaWRlbXBvdGVuY3lMZXZlbCl7Y2FzZVwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiOmNhc2UgMDp0LmlkZW1wb3RlbmN5TGV2ZWw9MDticmVhaztjYXNlXCJOT19TSURFX0VGRkVDVFNcIjpjYXNlIDE6dC5pZGVtcG90ZW5jeUxldmVsPTE7YnJlYWs7Y2FzZVwiSURFTVBPVEVOVFwiOmNhc2UgMjp0LmlkZW1wb3RlbmN5TGV2ZWw9Mn1pZihlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1pZihudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy4uZ29vZ2xlLmFwaS5odHRwOiBvYmplY3QgZXhwZWN0ZWRcIik7dFtcIi5nb29nbGUuYXBpLmh0dHBcIl09Yy5nb29nbGUuYXBpLkh0dHBSdWxlLmZyb21PYmplY3QoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pfWlmKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0pe2lmKCFBcnJheS5pc0FycmF5KGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy4uZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmU6IGFycmF5IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W107Zm9yKG49MDtuPGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrbil0W1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW25dPVN0cmluZyhlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW25dKX1yZXR1cm4gdH0sTi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSxuW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdKSx0LmRlZmF1bHRzJiYobi5kZXByZWNhdGVkPSExLG4uaWRlbXBvdGVuY3lMZXZlbD10LmVudW1zPT09U3RyaW5nP1wiSURFTVBPVEVOQ1lfVU5LTk9XTlwiOjAsbltcIi5nb29nbGUuYXBpLmh0dHBcIl09bnVsbCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW1wb3RlbmN5TGV2ZWxcIikmJihuLmlkZW1wb3RlbmN5TGV2ZWw9dC5lbnVtcz09PVN0cmluZz9jLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLklkZW1wb3RlbmN5TGV2ZWxbZS5pZGVtcG90ZW5jeUxldmVsXTplLmlkZW1wb3RlbmN5TGV2ZWwpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfWlmKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJmVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoKXtuW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdO2ZvcihvPTA7bzxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aDsrK28pbltcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtvXT1lW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW29dfXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmh0dHBcIikmJihuW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUudG9PYmplY3QoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0sdCkpLG59LE4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxOLklkZW1wb3RlbmN5TGV2ZWw9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVswXT1cIklERU1QT1RFTkNZX1VOS05PV05cIl09MCx0W2VbMV09XCJOT19TSURFX0VGRkVDVFNcIl09MSx0W2VbMl09XCJJREVNUE9URU5UXCJdPTIsdCksTiksbi5VbmludGVycHJldGVkT3B0aW9uPShJLnByb3RvdHlwZS5uYW1lPXUuZW1wdHlBcnJheSxJLnByb3RvdHlwZS5pZGVudGlmaWVyVmFsdWU9XCJcIixJLnByb3RvdHlwZS5wb3NpdGl2ZUludFZhbHVlPXUuTG9uZz91LkxvbmcuZnJvbUJpdHMoMCwwLCEwKTowLEkucHJvdG90eXBlLm5lZ2F0aXZlSW50VmFsdWU9dS5Mb25nP3UuTG9uZy5mcm9tQml0cygwLDAsITEpOjAsSS5wcm90b3R5cGUuZG91YmxlVmFsdWU9MCxJLnByb3RvdHlwZS5zdHJpbmdWYWx1ZT11Lm5ld0J1ZmZlcihbXSksSS5wcm90b3R5cGUuYWdncmVnYXRlVmFsdWU9XCJcIixJLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEkoZSl9LEkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmZS5uYW1lLmxlbmd0aClmb3IodmFyIG49MDtuPGUubmFtZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQuZW5jb2RlKGUubmFtZVtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpZGVudGlmaWVyVmFsdWVcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5pZGVudGlmaWVyVmFsdWUpLG51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBvc2l0aXZlSW50VmFsdWVcIikmJnQudWludDMyKDMyKS51aW50NjQoZS5wb3NpdGl2ZUludFZhbHVlKSxudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuZWdhdGl2ZUludFZhbHVlXCIpJiZ0LnVpbnQzMig0MCkuaW50NjQoZS5uZWdhdGl2ZUludFZhbHVlKSxudWxsIT1lLmRvdWJsZVZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZG91YmxlVmFsdWVcIikmJnQudWludDMyKDQ5KS5kb3VibGUoZS5kb3VibGVWYWx1ZSksbnVsbCE9ZS5zdHJpbmdWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0cmluZ1ZhbHVlXCIpJiZ0LnVpbnQzMig1OCkuYnl0ZXMoZS5zdHJpbmdWYWx1ZSksbnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFnZ3JlZ2F0ZVZhbHVlXCIpJiZ0LnVpbnQzMig2Nikuc3RyaW5nKGUuYWdncmVnYXRlVmFsdWUpLHR9LEkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDI6by5uYW1lJiZvLm5hbWUubGVuZ3RofHwoby5uYW1lPVtdKSxvLm5hbWUucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5pZGVudGlmaWVyVmFsdWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5wb3NpdGl2ZUludFZhbHVlPWUudWludDY0KCk7YnJlYWs7Y2FzZSA1Om8ubmVnYXRpdmVJbnRWYWx1ZT1lLmludDY0KCk7YnJlYWs7Y2FzZSA2Om8uZG91YmxlVmFsdWU9ZS5kb3VibGUoKTticmVhaztjYXNlIDc6by5zdHJpbmdWYWx1ZT1lLmJ5dGVzKCk7YnJlYWs7Y2FzZSA4Om8uYWdncmVnYXRlVmFsdWU9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEkudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubmFtZSkpcmV0dXJuXCJuYW1lOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5uYW1lLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQudmVyaWZ5KGUubmFtZVt0XSk7aWYobilyZXR1cm5cIm5hbWUuXCIrbn19cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiaWRlbnRpZmllclZhbHVlXCIpJiYhdS5pc1N0cmluZyhlLmlkZW50aWZpZXJWYWx1ZSk/XCJpZGVudGlmaWVyVmFsdWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc2l0aXZlSW50VmFsdWVcIikmJiEodS5pc0ludGVnZXIoZS5wb3NpdGl2ZUludFZhbHVlKXx8ZS5wb3NpdGl2ZUludFZhbHVlJiZ1LmlzSW50ZWdlcihlLnBvc2l0aXZlSW50VmFsdWUubG93KSYmdS5pc0ludGVnZXIoZS5wb3NpdGl2ZUludFZhbHVlLmhpZ2gpKT9cInBvc2l0aXZlSW50VmFsdWU6IGludGVnZXJ8TG9uZyBleHBlY3RlZFwiOm51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5lZ2F0aXZlSW50VmFsdWVcIikmJiEodS5pc0ludGVnZXIoZS5uZWdhdGl2ZUludFZhbHVlKXx8ZS5uZWdhdGl2ZUludFZhbHVlJiZ1LmlzSW50ZWdlcihlLm5lZ2F0aXZlSW50VmFsdWUubG93KSYmdS5pc0ludGVnZXIoZS5uZWdhdGl2ZUludFZhbHVlLmhpZ2gpKT9cIm5lZ2F0aXZlSW50VmFsdWU6IGludGVnZXJ8TG9uZyBleHBlY3RlZFwiOm51bGwhPWUuZG91YmxlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkb3VibGVWYWx1ZVwiKSYmXCJudW1iZXJcIiE9dHlwZW9mIGUuZG91YmxlVmFsdWU/XCJkb3VibGVWYWx1ZTogbnVtYmVyIGV4cGVjdGVkXCI6bnVsbCE9ZS5zdHJpbmdWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInN0cmluZ1ZhbHVlXCIpJiYhKGUuc3RyaW5nVmFsdWUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnN0cmluZ1ZhbHVlLmxlbmd0aHx8dS5pc1N0cmluZyhlLnN0cmluZ1ZhbHVlKSk/XCJzdHJpbmdWYWx1ZTogYnVmZmVyIGV4cGVjdGVkXCI6bnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImFnZ3JlZ2F0ZVZhbHVlXCIpJiYhdS5pc1N0cmluZyhlLmFnZ3JlZ2F0ZVZhbHVlKT9cImFnZ3JlZ2F0ZVZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxJLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb247aWYoZS5uYW1lKXtpZighQXJyYXkuaXNBcnJheShlLm5hbWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5uYW1lOiBhcnJheSBleHBlY3RlZFwiKTt0Lm5hbWU9W107Zm9yKHZhciBuPTA7bjxlLm5hbWUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubmFtZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24ubmFtZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QubmFtZVtuXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LmZyb21PYmplY3QoZS5uYW1lW25dKX19cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiYodC5pZGVudGlmaWVyVmFsdWU9U3RyaW5nKGUuaWRlbnRpZmllclZhbHVlKSksbnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiYodS5Mb25nPyh0LnBvc2l0aXZlSW50VmFsdWU9dS5Mb25nLmZyb21WYWx1ZShlLnBvc2l0aXZlSW50VmFsdWUpKS51bnNpZ25lZD0hMDpcInN0cmluZ1wiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlP3QucG9zaXRpdmVJbnRWYWx1ZT1wYXJzZUludChlLnBvc2l0aXZlSW50VmFsdWUsMTApOlwibnVtYmVyXCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWU/dC5wb3NpdGl2ZUludFZhbHVlPWUucG9zaXRpdmVJbnRWYWx1ZTpcIm9iamVjdFwiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlJiYodC5wb3NpdGl2ZUludFZhbHVlPW5ldyB1LkxvbmdCaXRzKGUucG9zaXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUucG9zaXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoITApKSksbnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiYodS5Mb25nPyh0Lm5lZ2F0aXZlSW50VmFsdWU9dS5Mb25nLmZyb21WYWx1ZShlLm5lZ2F0aXZlSW50VmFsdWUpKS51bnNpZ25lZD0hMTpcInN0cmluZ1wiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlP3QubmVnYXRpdmVJbnRWYWx1ZT1wYXJzZUludChlLm5lZ2F0aXZlSW50VmFsdWUsMTApOlwibnVtYmVyXCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWU/dC5uZWdhdGl2ZUludFZhbHVlPWUubmVnYXRpdmVJbnRWYWx1ZTpcIm9iamVjdFwiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlJiYodC5uZWdhdGl2ZUludFZhbHVlPW5ldyB1LkxvbmdCaXRzKGUubmVnYXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUubmVnYXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoKSkpLG51bGwhPWUuZG91YmxlVmFsdWUmJih0LmRvdWJsZVZhbHVlPU51bWJlcihlLmRvdWJsZVZhbHVlKSksbnVsbCE9ZS5zdHJpbmdWYWx1ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlLnN0cmluZ1ZhbHVlP3UuYmFzZTY0LmRlY29kZShlLnN0cmluZ1ZhbHVlLHQuc3RyaW5nVmFsdWU9dS5uZXdCdWZmZXIodS5iYXNlNjQubGVuZ3RoKGUuc3RyaW5nVmFsdWUpKSwwKTplLnN0cmluZ1ZhbHVlLmxlbmd0aCYmKHQuc3RyaW5nVmFsdWU9ZS5zdHJpbmdWYWx1ZSkpLG51bGwhPWUuYWdncmVnYXRlVmFsdWUmJih0LmFnZ3JlZ2F0ZVZhbHVlPVN0cmluZyhlLmFnZ3JlZ2F0ZVZhbHVlKSksdH0sSS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuLG89e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYoby5uYW1lPVtdKSx0LmRlZmF1bHRzJiYoby5pZGVudGlmaWVyVmFsdWU9XCJcIix1Lkxvbmc/KG49bmV3IHUuTG9uZygwLDAsITApLG8ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP24udG9TdHJpbmcoKTp0LmxvbmdzPT09TnVtYmVyP24udG9OdW1iZXIoKTpuKTpvLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9cIjBcIjowLHUuTG9uZz8obj1uZXcgdS5Mb25nKDAsMCwhMSksby5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/bi50b1N0cmluZygpOnQubG9uZ3M9PT1OdW1iZXI/bi50b051bWJlcigpOm4pOm8ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1wiMFwiOjAsby5kb3VibGVWYWx1ZT0wLHQuYnl0ZXM9PT1TdHJpbmc/by5zdHJpbmdWYWx1ZT1cIlwiOihvLnN0cmluZ1ZhbHVlPVtdLHQuYnl0ZXMhPT1BcnJheSYmKG8uc3RyaW5nVmFsdWU9dS5uZXdCdWZmZXIoby5zdHJpbmdWYWx1ZSkpKSxvLmFnZ3JlZ2F0ZVZhbHVlPVwiXCIpLGUubmFtZSYmZS5uYW1lLmxlbmd0aCl7by5uYW1lPVtdO2Zvcih2YXIgcj0wO3I8ZS5uYW1lLmxlbmd0aDsrK3Ipby5uYW1lW3JdPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQudG9PYmplY3QoZS5uYW1lW3JdLHQpfXJldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW50aWZpZXJWYWx1ZVwiKSYmKG8uaWRlbnRpZmllclZhbHVlPWUuaWRlbnRpZmllclZhbHVlKSxudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJwb3NpdGl2ZUludFZhbHVlXCIpJiYoXCJudW1iZXJcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZT9vLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9TdHJpbmcoZS5wb3NpdGl2ZUludFZhbHVlKTplLnBvc2l0aXZlSW50VmFsdWU6by5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/dS5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUucG9zaXRpdmVJbnRWYWx1ZSk6dC5sb25ncz09PU51bWJlcj9uZXcgdS5Mb25nQml0cyhlLnBvc2l0aXZlSW50VmFsdWUubG93Pj4+MCxlLnBvc2l0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCEwKTplLnBvc2l0aXZlSW50VmFsdWUpLG51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5lZ2F0aXZlSW50VmFsdWVcIikmJihcIm51bWJlclwiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlP28ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1N0cmluZyhlLm5lZ2F0aXZlSW50VmFsdWUpOmUubmVnYXRpdmVJbnRWYWx1ZTpvLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz91LkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5uZWdhdGl2ZUludFZhbHVlKTp0LmxvbmdzPT09TnVtYmVyP25ldyB1LkxvbmdCaXRzKGUubmVnYXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUubmVnYXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoKTplLm5lZ2F0aXZlSW50VmFsdWUpLG51bGwhPWUuZG91YmxlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkb3VibGVWYWx1ZVwiKSYmKG8uZG91YmxlVmFsdWU9dC5qc29uJiYhaXNGaW5pdGUoZS5kb3VibGVWYWx1ZSk/U3RyaW5nKGUuZG91YmxlVmFsdWUpOmUuZG91YmxlVmFsdWUpLG51bGwhPWUuc3RyaW5nVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJzdHJpbmdWYWx1ZVwiKSYmKG8uc3RyaW5nVmFsdWU9dC5ieXRlcz09PVN0cmluZz91LmJhc2U2NC5lbmNvZGUoZS5zdHJpbmdWYWx1ZSwwLGUuc3RyaW5nVmFsdWUubGVuZ3RoKTp0LmJ5dGVzPT09QXJyYXk/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5zdHJpbmdWYWx1ZSk6ZS5zdHJpbmdWYWx1ZSksbnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImFnZ3JlZ2F0ZVZhbHVlXCIpJiYoby5hZ2dyZWdhdGVWYWx1ZT1lLmFnZ3JlZ2F0ZVZhbHVlKSxvfSxJLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSS5OYW1lUGFydD0oUi5wcm90b3R5cGUubmFtZVBhcnQ9XCJcIixSLnByb3RvdHlwZS5pc0V4dGVuc2lvbj0hMSxSLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFIoZSl9LFIuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8ci5jcmVhdGUoKSkudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lUGFydCksdC51aW50MzIoMTYpLmJvb2woZS5pc0V4dGVuc2lvbiksdH0sUi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWVQYXJ0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uaXNFeHRlbnNpb249ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fWlmKCFvLmhhc093blByb3BlcnR5KFwibmFtZVBhcnRcIikpdGhyb3cgdS5Qcm90b2NvbEVycm9yKFwibWlzc2luZyByZXF1aXJlZCAnbmFtZVBhcnQnXCIse2luc3RhbmNlOm99KTtpZihvLmhhc093blByb3BlcnR5KFwiaXNFeHRlbnNpb25cIikpcmV0dXJuIG87dGhyb3cgdS5Qcm90b2NvbEVycm9yKFwibWlzc2luZyByZXF1aXJlZCAnaXNFeHRlbnNpb24nXCIse2luc3RhbmNlOm99KX0sUi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUi52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6dS5pc1N0cmluZyhlLm5hbWVQYXJ0KT9cImJvb2xlYW5cIiE9dHlwZW9mIGUuaXNFeHRlbnNpb24/XCJpc0V4dGVuc2lvbjogYm9vbGVhbiBleHBlY3RlZFwiOm51bGw6XCJuYW1lUGFydDogc3RyaW5nIGV4cGVjdGVkXCJ9LFIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQ/ZToodD1uZXcgYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydCxudWxsIT1lLm5hbWVQYXJ0JiYodC5uYW1lUGFydD1TdHJpbmcoZS5uYW1lUGFydCkpLG51bGwhPWUuaXNFeHRlbnNpb24mJih0LmlzRXh0ZW5zaW9uPUJvb2xlYW4oZS5pc0V4dGVuc2lvbikpLHQpfSxSLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lUGFydD1cIlwiLG4uaXNFeHRlbnNpb249ITEpLG51bGwhPWUubmFtZVBhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lUGFydFwiKSYmKG4ubmFtZVBhcnQ9ZS5uYW1lUGFydCksbnVsbCE9ZS5pc0V4dGVuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImlzRXh0ZW5zaW9uXCIpJiYobi5pc0V4dGVuc2lvbj1lLmlzRXh0ZW5zaW9uKSxufSxSLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sUiksSSksbi5Tb3VyY2VDb2RlSW5mbz0oXy5wcm90b3R5cGUubG9jYXRpb249dS5lbXB0eUFycmF5LF8uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgXyhlKX0sXy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmxvY2F0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uZW5jb2RlKGUubG9jYXRpb25bbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LF8uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LF8uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xPyhvLmxvY2F0aW9uJiZvLmxvY2F0aW9uLmxlbmd0aHx8KG8ubG9jYXRpb249W10pLG8ubG9jYXRpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sXy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sXy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sb2NhdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmxvY2F0aW9uKSlyZXR1cm5cImxvY2F0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5sb2NhdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1jLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi52ZXJpZnkoZS5sb2NhdGlvblt0XSk7aWYobilyZXR1cm5cImxvY2F0aW9uLlwiK259fXJldHVybiBudWxsfSxfLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mbztpZihlLmxvY2F0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLmxvY2F0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmxvY2F0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmxvY2F0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS5sb2NhdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5sb2NhdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5sb2NhdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5mcm9tT2JqZWN0KGUubG9jYXRpb25bbl0pfX1yZXR1cm4gdH0sXy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ubG9jYXRpb249W10pLGUubG9jYXRpb24mJmUubG9jYXRpb24ubGVuZ3RoKXtuLmxvY2F0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS5sb2NhdGlvbi5sZW5ndGg7KytvKW4ubG9jYXRpb25bb109Yy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24udG9PYmplY3QoZS5sb2NhdGlvbltvXSx0KX1yZXR1cm4gbn0sXy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LF8uTG9jYXRpb249KEMucHJvdG90eXBlLnBhdGg9dS5lbXB0eUFycmF5LEMucHJvdG90eXBlLnNwYW49dS5lbXB0eUFycmF5LEMucHJvdG90eXBlLmxlYWRpbmdDb21tZW50cz1cIlwiLEMucHJvdG90eXBlLnRyYWlsaW5nQ29tbWVudHM9XCJcIixDLnByb3RvdHlwZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz11LmVtcHR5QXJyYXksQy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBDKGUpfSxDLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnBhdGgmJmUucGF0aC5sZW5ndGgpe3QudWludDMyKDEwKS5mb3JrKCk7Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LmludDMyKGUucGF0aFtuXSk7dC5sZGVsaW0oKX1pZihudWxsIT1lLnNwYW4mJmUuc3Bhbi5sZW5ndGgpe3QudWludDMyKDE4KS5mb3JrKCk7Zm9yKG49MDtuPGUuc3Bhbi5sZW5ndGg7KytuKXQuaW50MzIoZS5zcGFuW25dKTt0LmxkZWxpbSgpfWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGVhZGluZ0NvbW1lbnRzXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUubGVhZGluZ0NvbW1lbnRzKSxudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0cmFpbGluZ0NvbW1lbnRzXCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUudHJhaWxpbmdDb21tZW50cyksbnVsbCE9ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGgpZm9yKG49MDtuPGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrbil0LnVpbnQzMig1MCkuc3RyaW5nKGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbbl0pO3JldHVybiB0fSxDLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxDLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTppZihvLnBhdGgmJm8ucGF0aC5sZW5ndGh8fChvLnBhdGg9W10pLDI9PSg3JnIpKWZvcih2YXIgaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ucGF0aC5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnBhdGgucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMjppZihvLnNwYW4mJm8uc3Bhbi5sZW5ndGh8fChvLnNwYW49W10pLDI9PSg3JnIpKWZvcihpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5zcGFuLnB1c2goZS5pbnQzMigpKTtlbHNlIG8uc3Bhbi5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAzOm8ubGVhZGluZ0NvbW1lbnRzPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8udHJhaWxpbmdDb21tZW50cz1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNjpvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aHx8KG8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W10pLG8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHMucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpcmV0dXJuXCJwYXRoOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5wYXRoLmxlbmd0aDsrK3QpaWYoIXUuaXNJbnRlZ2VyKGUucGF0aFt0XSkpcmV0dXJuXCJwYXRoOiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLnNwYW4mJmUuaGFzT3duUHJvcGVydHkoXCJzcGFuXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnNwYW4pKXJldHVyblwic3BhbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5zcGFuLmxlbmd0aDsrK3QpaWYoIXUuaXNJbnRlZ2VyKGUuc3Bhblt0XSkpcmV0dXJuXCJzcGFuOiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcImxlYWRpbmdDb21tZW50c1wiKSYmIXUuaXNTdHJpbmcoZS5sZWFkaW5nQ29tbWVudHMpKXJldHVyblwibGVhZGluZ0NvbW1lbnRzOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJ0cmFpbGluZ0NvbW1lbnRzXCIpJiYhdS5pc1N0cmluZyhlLnRyYWlsaW5nQ29tbWVudHMpKXJldHVyblwidHJhaWxpbmdDb21tZW50czogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcImxlYWRpbmdEZXRhY2hlZENvbW1lbnRzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzKSlyZXR1cm5cImxlYWRpbmdEZXRhY2hlZENvbW1lbnRzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK3QpaWYoIXUuaXNTdHJpbmcoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1t0XSkpcmV0dXJuXCJsZWFkaW5nRGV0YWNoZWRDb21tZW50czogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sQy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbilyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb247aWYoZS5wYXRoKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24ucGF0aDogYXJyYXkgZXhwZWN0ZWRcIik7dC5wYXRoPVtdO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5wYXRoW25dPTB8ZS5wYXRoW25dfWlmKGUuc3Bhbil7aWYoIUFycmF5LmlzQXJyYXkoZS5zcGFuKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnNwYW46IGFycmF5IGV4cGVjdGVkXCIpO3Quc3Bhbj1bXTtmb3Iobj0wO248ZS5zcGFuLmxlbmd0aDsrK24pdC5zcGFuW25dPTB8ZS5zcGFuW25dfWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiYodC5sZWFkaW5nQ29tbWVudHM9U3RyaW5nKGUubGVhZGluZ0NvbW1lbnRzKSksbnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiYodC50cmFpbGluZ0NvbW1lbnRzPVN0cmluZyhlLnRyYWlsaW5nQ29tbWVudHMpKSxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzKXtpZighQXJyYXkuaXNBcnJheShlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzOiBhcnJheSBleHBlY3RlZFwiKTt0LmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdO2ZvcihuPTA7bjxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK24pdC5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tuXT1TdHJpbmcoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tuXSl9cmV0dXJuIHR9LEMudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnBhdGg9W10sbi5zcGFuPVtdLG4ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W10pLHQuZGVmYXVsdHMmJihuLmxlYWRpbmdDb21tZW50cz1cIlwiLG4udHJhaWxpbmdDb21tZW50cz1cIlwiKSxlLnBhdGgmJmUucGF0aC5sZW5ndGgpe24ucGF0aD1bXTtmb3IodmFyIG89MDtvPGUucGF0aC5sZW5ndGg7KytvKW4ucGF0aFtvXT1lLnBhdGhbb119aWYoZS5zcGFuJiZlLnNwYW4ubGVuZ3RoKXtuLnNwYW49W107Zm9yKG89MDtvPGUuc3Bhbi5sZW5ndGg7KytvKW4uc3BhbltvXT1lLnNwYW5bb119aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJsZWFkaW5nQ29tbWVudHNcIikmJihuLmxlYWRpbmdDb21tZW50cz1lLmxlYWRpbmdDb21tZW50cyksbnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwidHJhaWxpbmdDb21tZW50c1wiKSYmKG4udHJhaWxpbmdDb21tZW50cz1lLnRyYWlsaW5nQ29tbWVudHMpLGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJmUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoKXtuLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdO2ZvcihvPTA7bzxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK28pbi5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tvXT1lLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW29dfXJldHVybiBufSxDLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sQyksXyksbi5HZW5lcmF0ZWRDb2RlSW5mbz0oSi5wcm90b3R5cGUuYW5ub3RhdGlvbj11LmVtcHR5QXJyYXksSi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBKKGUpfSxKLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmFubm90YXRpb24mJmUuYW5ub3RhdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmFubm90YXRpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLmVuY29kZShlLmFubm90YXRpb25bbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEouZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEouZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xPyhvLmFubm90YXRpb24mJm8uYW5ub3RhdGlvbi5sZW5ndGh8fChvLmFubm90YXRpb249W10pLG8uYW5ub3RhdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LEouZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEoudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuYW5ub3RhdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImFubm90YXRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUuYW5ub3RhdGlvbikpcmV0dXJuXCJhbm5vdGF0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24udmVyaWZ5KGUuYW5ub3RhdGlvblt0XSk7aWYobilyZXR1cm5cImFubm90YXRpb24uXCIrbn19cmV0dXJuIG51bGx9LEouZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvO2lmKGUuYW5ub3RhdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5hbm5vdGF0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLmFubm90YXRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QuYW5ub3RhdGlvbj1bXTtmb3IodmFyIG49MDtuPGUuYW5ub3RhdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5hbm5vdGF0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uYW5ub3RhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYW5ub3RhdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLmZyb21PYmplY3QoZS5hbm5vdGF0aW9uW25dKX19cmV0dXJuIHR9LEoudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmFubm90YXRpb249W10pLGUuYW5ub3RhdGlvbiYmZS5hbm5vdGF0aW9uLmxlbmd0aCl7bi5hbm5vdGF0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK28pbi5hbm5vdGF0aW9uW29dPWMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24udG9PYmplY3QoZS5hbm5vdGF0aW9uW29dLHQpfXJldHVybiBufSxKLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSi5Bbm5vdGF0aW9uPShWLnByb3RvdHlwZS5wYXRoPXUuZW1wdHlBcnJheSxWLnByb3RvdHlwZS5zb3VyY2VGaWxlPVwiXCIsVi5wcm90b3R5cGUuYmVnaW49MCxWLnByb3RvdHlwZS5lbmQ9MCxWLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFYoZSl9LFYuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUucGF0aCYmZS5wYXRoLmxlbmd0aCl7dC51aW50MzIoMTApLmZvcmsoKTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQuaW50MzIoZS5wYXRoW25dKTt0LmxkZWxpbSgpfXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzb3VyY2VGaWxlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuc291cmNlRmlsZSksbnVsbCE9ZS5iZWdpbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImJlZ2luXCIpJiZ0LnVpbnQzMigyNCkuaW50MzIoZS5iZWdpbiksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDMyKS5pbnQzMihlLmVuZCksdH0sVi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sVi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTppZihvLnBhdGgmJm8ucGF0aC5sZW5ndGh8fChvLnBhdGg9W10pLDI9PSg3JnIpKWZvcih2YXIgaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ucGF0aC5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnBhdGgucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMjpvLnNvdXJjZUZpbGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5iZWdpbj1lLmludDMyKCk7YnJlYWs7Y2FzZSA0Om8uZW5kPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFYuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFYudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpcmV0dXJuXCJwYXRoOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5wYXRoLmxlbmd0aDsrK3QpaWYoIXUuaXNJbnRlZ2VyKGUucGF0aFt0XSkpcmV0dXJuXCJwYXRoOiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiZlLmhhc093blByb3BlcnR5KFwic291cmNlRmlsZVwiKSYmIXUuaXNTdHJpbmcoZS5zb3VyY2VGaWxlKT9cInNvdXJjZUZpbGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUuYmVnaW4mJmUuaGFzT3duUHJvcGVydHkoXCJiZWdpblwiKSYmIXUuaXNJbnRlZ2VyKGUuYmVnaW4pP1wiYmVnaW46IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIXUuaXNJbnRlZ2VyKGUuZW5kKT9cImVuZDogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LFYuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbilyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbjtpZihlLnBhdGgpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnBhdGg6IGFycmF5IGV4cGVjdGVkXCIpO3QucGF0aD1bXTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQucGF0aFtuXT0wfGUucGF0aFtuXX1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiYodC5zb3VyY2VGaWxlPVN0cmluZyhlLnNvdXJjZUZpbGUpKSxudWxsIT1lLmJlZ2luJiYodC5iZWdpbj0wfGUuYmVnaW4pLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksdH0sVi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucGF0aD1bXSksdC5kZWZhdWx0cyYmKG4uc291cmNlRmlsZT1cIlwiLG4uYmVnaW49MCxuLmVuZD0wKSxlLnBhdGgmJmUucGF0aC5sZW5ndGgpe24ucGF0aD1bXTtmb3IodmFyIG89MDtvPGUucGF0aC5sZW5ndGg7KytvKW4ucGF0aFtvXT1lLnBhdGhbb119cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUZpbGVcIikmJihuLnNvdXJjZUZpbGU9ZS5zb3VyY2VGaWxlKSxudWxsIT1lLmJlZ2luJiZlLmhhc093blByb3BlcnR5KFwiYmVnaW5cIikmJihuLmJlZ2luPWUuYmVnaW4pLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG59LFYucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxWKSxKKSxuLkFueT0oSC5wcm90b3R5cGUudHlwZV91cmw9XCJcIixILnByb3RvdHlwZS52YWx1ZT11Lm5ld0J1ZmZlcihbXSksSC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBIKGUpfSxILmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS50eXBlX3VybCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVfdXJsXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUudHlwZV91cmwpLG51bGwhPWUudmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2YWx1ZVwiKSYmdC51aW50MzIoMTgpLmJ5dGVzKGUudmFsdWUpLHR9LEguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkFueTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnR5cGVfdXJsPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8udmFsdWU9ZS5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sSC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sSC52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS50eXBlX3VybCYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVfdXJsXCIpJiYhdS5pc1N0cmluZyhlLnR5cGVfdXJsKT9cInR5cGVfdXJsOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnZhbHVlJiZlLmhhc093blByb3BlcnR5KFwidmFsdWVcIikmJiEoZS52YWx1ZSYmXCJudW1iZXJcIj09dHlwZW9mIGUudmFsdWUubGVuZ3RofHx1LmlzU3RyaW5nKGUudmFsdWUpKT9cInZhbHVlOiBidWZmZXIgZXhwZWN0ZWRcIjpudWxsfSxILmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5Bbnk/ZToodD1uZXcgYy5nb29nbGUucHJvdG9idWYuQW55LG51bGwhPWUudHlwZV91cmwmJih0LnR5cGVfdXJsPVN0cmluZyhlLnR5cGVfdXJsKSksbnVsbCE9ZS52YWx1ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlLnZhbHVlP3UuYmFzZTY0LmRlY29kZShlLnZhbHVlLHQudmFsdWU9dS5uZXdCdWZmZXIodS5iYXNlNjQubGVuZ3RoKGUudmFsdWUpKSwwKTplLnZhbHVlLmxlbmd0aCYmKHQudmFsdWU9ZS52YWx1ZSkpLHQpfSxILnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi50eXBlX3VybD1cIlwiLHQuYnl0ZXM9PT1TdHJpbmc/bi52YWx1ZT1cIlwiOihuLnZhbHVlPVtdLHQuYnl0ZXMhPT1BcnJheSYmKG4udmFsdWU9dS5uZXdCdWZmZXIobi52YWx1ZSkpKSksbnVsbCE9ZS50eXBlX3VybCYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVfdXJsXCIpJiYobi50eXBlX3VybD1lLnR5cGVfdXJsKSxudWxsIT1lLnZhbHVlJiZlLmhhc093blByb3BlcnR5KFwidmFsdWVcIikmJihuLnZhbHVlPXQuYnl0ZXM9PT1TdHJpbmc/dS5iYXNlNjQuZW5jb2RlKGUudmFsdWUsMCxlLnZhbHVlLmxlbmd0aCk6dC5ieXRlcz09PUFycmF5P0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUudmFsdWUpOmUudmFsdWUpLG59LEgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxIKSxuKSxGKSxjfSk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/protos/locations.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/protos/locations.json":
/*!*************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/locations.json ***!
  \*************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"cloud":{"nested":{"location":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/cloud/location;location","java_multiple_files":true,"java_outer_classname":"LocationsProto","java_package":"com.google.cloud.location"},"nested":{"Locations":{"options":{"(google.api.default_host)":"cloud.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},"methods":{"ListLocations":{"requestType":"ListLocationsRequest","responseType":"ListLocationsResponse","options":{"(google.api.http).get":"/v1/{name=locations}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*}/locations"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations}","additional_bindings":{"get":"/v1/{name=projects/*}/locations"}}}]},"GetLocation":{"requestType":"GetLocationRequest","responseType":"Location","options":{"(google.api.http).get":"/v1/{name=locations/*}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*/locations/*}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations/*}","additional_bindings":{"get":"/v1/{name=projects/*/locations/*}"}}}]}}},"ListLocationsRequest":{"fields":{"name":{"type":"string","id":1},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListLocationsResponse":{"fields":{"locations":{"rule":"repeated","type":"Location","id":1},"nextPageToken":{"type":"string","id":2}}},"GetLocationRequest":{"fields":{"name":{"type":"string","id":1}}},"Location":{"fields":{"name":{"type":"string","id":1},"locationId":{"type":"string","id":4},"displayName":{"type":"string","id":5},"labels":{"keyType":"string","type":"string","id":2},"metadata":{"type":"google.protobuf.Any","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}}}}}}}}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/protos/operations.js":
/*!************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/operations.js ***!
  \************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(e=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! protobufjs/minimal */ \"(action-browser)/./node_modules/protobufjs/minimal.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(function(o){var e,t,n,F,a=o.Reader,r=o.Writer,i=o.util,p=o.roots.operations_protos||(o.roots.operations_protos={});function G(e,t,n){o.rpc.Service.call(this,e,t,n)}function l(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function B(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function u(e){if(this.operations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function L(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function c(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function J(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function O(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function M(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function S(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function x(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function k(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function D(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function z(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function A(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function N(e){if(this.uninterpretedOption=[],this[\".google.api.methodSignature\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function I(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function q(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Y(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function R(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function W(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function C(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function X(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function K(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Q(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(this.details=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return p.google=((F={}).longrunning=((t={}).Operations=(((G.prototype=Object.create(o.rpc.Service.prototype)).constructor=G).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(G.prototype.listOperations=function e(t,n){return this.rpcCall(e,p.google.longrunning.ListOperationsRequest,p.google.longrunning.ListOperationsResponse,t,n)},\"name\",{value:\"ListOperations\"}),Object.defineProperty(G.prototype.getOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.GetOperationRequest,p.google.longrunning.Operation,t,n)},\"name\",{value:\"GetOperation\"}),Object.defineProperty(G.prototype.deleteOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.DeleteOperationRequest,p.google.protobuf.Empty,t,n)},\"name\",{value:\"DeleteOperation\"}),Object.defineProperty(G.prototype.cancelOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.CancelOperationRequest,p.google.protobuf.Empty,t,n)},\"name\",{value:\"CancelOperation\"}),Object.defineProperty(G.prototype.waitOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.WaitOperationRequest,p.google.longrunning.Operation,t,n)},\"name\",{value:\"WaitOperation\"}),G),t.Operation=(l.prototype.name=\"\",l.prototype.metadata=null,l.prototype.done=!1,l.prototype.error=null,l.prototype.response=null,Object.defineProperty(l.prototype,\"result\",{get:i.oneOfGetter(n=[\"error\",\"response\"]),set:i.oneOfSetter(n)}),l.create=function(e){return new l(e)},l.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.metadata&&Object.hasOwnProperty.call(e,\"metadata\")&&p.google.protobuf.Any.encode(e.metadata,t.uint32(18).fork()).ldelim(),null!=e.done&&Object.hasOwnProperty.call(e,\"done\")&&t.uint32(24).bool(e.done),null!=e.error&&Object.hasOwnProperty.call(e,\"error\")&&p.google.rpc.Status.encode(e.error,t.uint32(34).fork()).ldelim(),null!=e.response&&Object.hasOwnProperty.call(e,\"response\")&&p.google.protobuf.Any.encode(e.response,t.uint32(42).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.Operation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.metadata=p.google.protobuf.Any.decode(e,e.uint32());break;case 3:o.done=e.bool();break;case 4:o.error=p.google.rpc.Status.decode(e,e.uint32());break;case 5:o.response=p.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},l.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},l.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t,n={};if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.metadata&&e.hasOwnProperty(\"metadata\")&&(t=p.google.protobuf.Any.verify(e.metadata)))return\"metadata.\"+t;if(null!=e.done&&e.hasOwnProperty(\"done\")&&\"boolean\"!=typeof e.done)return\"done: boolean expected\";if(null!=e.error&&e.hasOwnProperty(\"error\")&&(n.result=1,t=p.google.rpc.Status.verify(e.error)))return\"error.\"+t;if(null!=e.response&&e.hasOwnProperty(\"response\")){if(1===n.result)return\"result: multiple values\";if(n.result=1,t=p.google.protobuf.Any.verify(e.response))return\"response.\"+t}return null},l.fromObject=function(e){if(e instanceof p.google.longrunning.Operation)return e;var t=new p.google.longrunning.Operation;if(null!=e.name&&(t.name=String(e.name)),null!=e.metadata){if(\"object\"!=typeof e.metadata)throw TypeError(\".google.longrunning.Operation.metadata: object expected\");t.metadata=p.google.protobuf.Any.fromObject(e.metadata)}if(null!=e.done&&(t.done=Boolean(e.done)),null!=e.error){if(\"object\"!=typeof e.error)throw TypeError(\".google.longrunning.Operation.error: object expected\");t.error=p.google.rpc.Status.fromObject(e.error)}if(null!=e.response){if(\"object\"!=typeof e.response)throw TypeError(\".google.longrunning.Operation.response: object expected\");t.response=p.google.protobuf.Any.fromObject(e.response)}return t},l.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.metadata=null,n.done=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.metadata&&e.hasOwnProperty(\"metadata\")&&(n.metadata=p.google.protobuf.Any.toObject(e.metadata,t)),null!=e.done&&e.hasOwnProperty(\"done\")&&(n.done=e.done),null!=e.error&&e.hasOwnProperty(\"error\")&&(n.error=p.google.rpc.Status.toObject(e.error,t),t.oneofs)&&(n.result=\"error\"),null!=e.response&&e.hasOwnProperty(\"response\")&&(n.response=p.google.protobuf.Any.toObject(e.response,t),t.oneofs)&&(n.result=\"response\"),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},l),t.GetOperationRequest=(B.prototype.name=\"\",B.create=function(e){return new B(e)},B.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},B.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},B.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.GetOperationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},B.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},B.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null},B.fromObject=function(e){var t;return e instanceof p.google.longrunning.GetOperationRequest?e:(t=new p.google.longrunning.GetOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},B.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},B.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},B),t.ListOperationsRequest=(s.prototype.name=\"\",s.prototype.filter=\"\",s.prototype.pageSize=0,s.prototype.pageToken=\"\",s.create=function(e){return new s(e)},s.encode=function(e,t){return t=t||r.create(),null!=e.filter&&Object.hasOwnProperty.call(e,\"filter\")&&t.uint32(10).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,\"pageSize\")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,\"pageToken\")&&t.uint32(26).string(e.pageToken),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(34).string(e.name),t},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.ListOperationsRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 4:o.name=e.string();break;case 1:o.filter=e.string();break;case 2:o.pageSize=e.int32();break;case 3:o.pageToken=e.string();break;default:e.skipType(7&r)}}return o},s.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},s.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null!=e.filter&&e.hasOwnProperty(\"filter\")&&!i.isString(e.filter)?\"filter: string expected\":null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&!i.isInteger(e.pageSize)?\"pageSize: integer expected\":null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&!i.isString(e.pageToken)?\"pageToken: string expected\":null},s.fromObject=function(e){var t;return e instanceof p.google.longrunning.ListOperationsRequest?e:(t=new p.google.longrunning.ListOperationsRequest,null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t)},s.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.filter=\"\",n.pageSize=0,n.pageToken=\"\",n.name=\"\"),null!=e.filter&&e.hasOwnProperty(\"filter\")&&(n.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&(n.pageToken=e.pageToken),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},s),t.ListOperationsResponse=(u.prototype.operations=i.emptyArray,u.prototype.nextPageToken=\"\",u.create=function(e){return new u(e)},u.encode=function(e,t){if(t=t||r.create(),null!=e.operations&&e.operations.length)for(var n=0;n<e.operations.length;++n)p.google.longrunning.Operation.encode(e.operations[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,\"nextPageToken\")&&t.uint32(18).string(e.nextPageToken),t},u.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},u.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.ListOperationsResponse;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.operations&&o.operations.length||(o.operations=[]),o.operations.push(p.google.longrunning.Operation.decode(e,e.uint32()));break;case 2:o.nextPageToken=e.string();break;default:e.skipType(7&r)}}return o},u.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},u.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.operations&&e.hasOwnProperty(\"operations\")){if(!Array.isArray(e.operations))return\"operations: array expected\";for(var t=0;t<e.operations.length;++t){var n=p.google.longrunning.Operation.verify(e.operations[t]);if(n)return\"operations.\"+n}}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&!i.isString(e.nextPageToken)?\"nextPageToken: string expected\":null},u.fromObject=function(e){if(e instanceof p.google.longrunning.ListOperationsResponse)return e;var t=new p.google.longrunning.ListOperationsResponse;if(e.operations){if(!Array.isArray(e.operations))throw TypeError(\".google.longrunning.ListOperationsResponse.operations: array expected\");t.operations=[];for(var n=0;n<e.operations.length;++n){if(\"object\"!=typeof e.operations[n])throw TypeError(\".google.longrunning.ListOperationsResponse.operations: object expected\");t.operations[n]=p.google.longrunning.Operation.fromObject(e.operations[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},u.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.operations=[]),t.defaults&&(n.nextPageToken=\"\"),e.operations&&e.operations.length){n.operations=[];for(var o=0;o<e.operations.length;++o)n.operations[o]=p.google.longrunning.Operation.toObject(e.operations[o],t)}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&(n.nextPageToken=e.nextPageToken),n},u.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},u),t.CancelOperationRequest=(L.prototype.name=\"\",L.create=function(e){return new L(e)},L.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},L.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},L.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.CancelOperationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},L.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},L.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null},L.fromObject=function(e){var t;return e instanceof p.google.longrunning.CancelOperationRequest?e:(t=new p.google.longrunning.CancelOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},L.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},L.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},L),t.DeleteOperationRequest=(U.prototype.name=\"\",U.create=function(e){return new U(e)},U.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.DeleteOperationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},U.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},U.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null},U.fromObject=function(e){var t;return e instanceof p.google.longrunning.DeleteOperationRequest?e:(t=new p.google.longrunning.DeleteOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},U.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},U.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},U),t.WaitOperationRequest=(c.prototype.name=\"\",c.prototype.timeout=null,c.create=function(e){return new c(e)},c.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.timeout&&Object.hasOwnProperty.call(e,\"timeout\")&&p.google.protobuf.Duration.encode(e.timeout,t.uint32(18).fork()).ldelim(),t},c.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},c.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.WaitOperationRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.timeout=p.google.protobuf.Duration.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},c.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},c.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.timeout&&e.hasOwnProperty(\"timeout\")){e=p.google.protobuf.Duration.verify(e.timeout);if(e)return\"timeout.\"+e}return null},c.fromObject=function(e){if(e instanceof p.google.longrunning.WaitOperationRequest)return e;var t=new p.google.longrunning.WaitOperationRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.timeout){if(\"object\"!=typeof e.timeout)throw TypeError(\".google.longrunning.WaitOperationRequest.timeout: object expected\");t.timeout=p.google.protobuf.Duration.fromObject(e.timeout)}return t},c.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.timeout=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.timeout&&e.hasOwnProperty(\"timeout\")&&(n.timeout=p.google.protobuf.Duration.toObject(e.timeout,t)),n},c.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},c),t.OperationInfo=(d.prototype.responseType=\"\",d.prototype.metadataType=\"\",d.create=function(e){return new d(e)},d.encode=function(e,t){return t=t||r.create(),null!=e.responseType&&Object.hasOwnProperty.call(e,\"responseType\")&&t.uint32(10).string(e.responseType),null!=e.metadataType&&Object.hasOwnProperty.call(e,\"metadataType\")&&t.uint32(18).string(e.metadataType),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.OperationInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.responseType=e.string();break;case 2:o.metadataType=e.string();break;default:e.skipType(7&r)}}return o},d.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},d.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.responseType&&e.hasOwnProperty(\"responseType\")&&!i.isString(e.responseType)?\"responseType: string expected\":null!=e.metadataType&&e.hasOwnProperty(\"metadataType\")&&!i.isString(e.metadataType)?\"metadataType: string expected\":null},d.fromObject=function(e){var t;return e instanceof p.google.longrunning.OperationInfo?e:(t=new p.google.longrunning.OperationInfo,null!=e.responseType&&(t.responseType=String(e.responseType)),null!=e.metadataType&&(t.metadataType=String(e.metadataType)),t)},d.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.responseType=\"\",n.metadataType=\"\"),null!=e.responseType&&e.hasOwnProperty(\"responseType\")&&(n.responseType=e.responseType),null!=e.metadataType&&e.hasOwnProperty(\"metadataType\")&&(n.metadataType=e.metadataType),n},d.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},d),t),F.api=((n={}).Http=(g.prototype.rules=i.emptyArray,g.prototype.fullyDecodeReservedExpansion=!1,g.create=function(e){return new g(e)},g.encode=function(e,t){if(t=t||r.create(),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)p.google.api.HttpRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,\"fullyDecodeReservedExpansion\")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.api.Http;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.rules&&o.rules.length||(o.rules=[]),o.rules.push(p.google.api.HttpRule.decode(e,e.uint32()));break;case 2:o.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&r)}}return o},g.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},g.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.rules&&e.hasOwnProperty(\"rules\")){if(!Array.isArray(e.rules))return\"rules: array expected\";for(var t=0;t<e.rules.length;++t){var n=p.google.api.HttpRule.verify(e.rules[t]);if(n)return\"rules.\"+n}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&\"boolean\"!=typeof e.fullyDecodeReservedExpansion?\"fullyDecodeReservedExpansion: boolean expected\":null},g.fromObject=function(e){if(e instanceof p.google.api.Http)return e;var t=new p.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(\".google.api.Http.rules: array expected\");t.rules=[];for(var n=0;n<e.rules.length;++n){if(\"object\"!=typeof e.rules[n])throw TypeError(\".google.api.Http.rules: object expected\");t.rules[n]=p.google.api.HttpRule.fromObject(e.rules[n])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},g.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){n.rules=[];for(var o=0;o<e.rules.length;++o)n.rules[o]=p.google.api.HttpRule.toObject(e.rules[o],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&(n.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),n},g.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},g),n.HttpRule=(f.prototype.selector=\"\",f.prototype.get=\"\",f.prototype.put=\"\",f.prototype.post=\"\",f.prototype.delete=\"\",f.prototype.patch=\"\",f.prototype.custom=null,f.prototype.body=\"\",f.prototype.responseBody=\"\",f.prototype.additionalBindings=i.emptyArray,Object.defineProperty(f.prototype,\"pattern\",{get:i.oneOfGetter(t=[\"get\",\"put\",\"post\",\"delete\",\"patch\",\"custom\"]),set:i.oneOfSetter(t)}),f.create=function(e){return new f(e)},f.encode=function(e,t){if(t=t||r.create(),null!=e.selector&&Object.hasOwnProperty.call(e,\"selector\")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,\"get\")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,\"put\")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,\"post\")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,\"delete\")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,\"patch\")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,\"body\")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,\"custom\")&&p.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var n=0;n<e.additionalBindings.length;++n)p.google.api.HttpRule.encode(e.additionalBindings[n],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,\"responseBody\")&&t.uint32(98).string(e.responseBody),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.api.HttpRule;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.selector=e.string();break;case 2:o.get=e.string();break;case 3:o.put=e.string();break;case 4:o.post=e.string();break;case 5:o.delete=e.string();break;case 6:o.patch=e.string();break;case 8:o.custom=p.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:o.body=e.string();break;case 12:o.responseBody=e.string();break;case 11:o.additionalBindings&&o.additionalBindings.length||(o.additionalBindings=[]),o.additionalBindings.push(p.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},f.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},f.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t={};if(null!=e.selector&&e.hasOwnProperty(\"selector\")&&!i.isString(e.selector))return\"selector: string expected\";if(null!=e.get&&e.hasOwnProperty(\"get\")&&(t.pattern=1,!i.isString(e.get)))return\"get: string expected\";if(null!=e.put&&e.hasOwnProperty(\"put\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.put))return\"put: string expected\"}if(null!=e.post&&e.hasOwnProperty(\"post\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.post))return\"post: string expected\"}if(null!=e.delete&&e.hasOwnProperty(\"delete\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.delete))return\"delete: string expected\"}if(null!=e.patch&&e.hasOwnProperty(\"patch\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.patch))return\"patch: string expected\"}if(null!=e.custom&&e.hasOwnProperty(\"custom\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,n=p.google.api.CustomHttpPattern.verify(e.custom))return\"custom.\"+n}if(null!=e.body&&e.hasOwnProperty(\"body\")&&!i.isString(e.body))return\"body: string expected\";if(null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&!i.isString(e.responseBody))return\"responseBody: string expected\";if(null!=e.additionalBindings&&e.hasOwnProperty(\"additionalBindings\")){if(!Array.isArray(e.additionalBindings))return\"additionalBindings: array expected\";for(var n,o=0;o<e.additionalBindings.length;++o)if(n=p.google.api.HttpRule.verify(e.additionalBindings[o]))return\"additionalBindings.\"+n}return null},f.fromObject=function(e){if(e instanceof p.google.api.HttpRule)return e;var t=new p.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if(\"object\"!=typeof e.custom)throw TypeError(\".google.api.HttpRule.custom: object expected\");t.custom=p.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(\".google.api.HttpRule.additionalBindings: array expected\");t.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n){if(\"object\"!=typeof e.additionalBindings[n])throw TypeError(\".google.api.HttpRule.additionalBindings: object expected\");t.additionalBindings[n]=p.google.api.HttpRule.fromObject(e.additionalBindings[n])}}return t},f.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.additionalBindings=[]),t.defaults&&(n.selector=\"\",n.body=\"\",n.responseBody=\"\"),null!=e.selector&&e.hasOwnProperty(\"selector\")&&(n.selector=e.selector),null!=e.get&&e.hasOwnProperty(\"get\")&&(n.get=e.get,t.oneofs)&&(n.pattern=\"get\"),null!=e.put&&e.hasOwnProperty(\"put\")&&(n.put=e.put,t.oneofs)&&(n.pattern=\"put\"),null!=e.post&&e.hasOwnProperty(\"post\")&&(n.post=e.post,t.oneofs)&&(n.pattern=\"post\"),null!=e.delete&&e.hasOwnProperty(\"delete\")&&(n.delete=e.delete,t.oneofs)&&(n.pattern=\"delete\"),null!=e.patch&&e.hasOwnProperty(\"patch\")&&(n.patch=e.patch,t.oneofs)&&(n.pattern=\"patch\"),null!=e.body&&e.hasOwnProperty(\"body\")&&(n.body=e.body),null!=e.custom&&e.hasOwnProperty(\"custom\")&&(n.custom=p.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(n.pattern=\"custom\"),e.additionalBindings&&e.additionalBindings.length){n.additionalBindings=[];for(var o=0;o<e.additionalBindings.length;++o)n.additionalBindings[o]=p.google.api.HttpRule.toObject(e.additionalBindings[o],t)}return null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&(n.responseBody=e.responseBody),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f),n.CustomHttpPattern=(y.prototype.kind=\"\",y.prototype.path=\"\",y.create=function(e){return new y(e)},y.encode=function(e,t){return t=t||r.create(),null!=e.kind&&Object.hasOwnProperty.call(e,\"kind\")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,\"path\")&&t.uint32(18).string(e.path),t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.api.CustomHttpPattern;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.kind=e.string();break;case 2:o.path=e.string();break;default:e.skipType(7&r)}}return o},y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},y.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.kind&&e.hasOwnProperty(\"kind\")&&!i.isString(e.kind)?\"kind: string expected\":null!=e.path&&e.hasOwnProperty(\"path\")&&!i.isString(e.path)?\"path: string expected\":null},y.fromObject=function(e){var t;return e instanceof p.google.api.CustomHttpPattern?e:(t=new p.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},y.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.kind=\"\",n.path=\"\"),null!=e.kind&&e.hasOwnProperty(\"kind\")&&(n.kind=e.kind),null!=e.path&&e.hasOwnProperty(\"path\")&&(n.path=e.path),n},y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},y),n),F.protobuf=((t={}).FileDescriptorSet=(J.prototype.file=i.emptyArray,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||r.create(),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)p.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FileDescriptorSet;e.pos<n;){var r=e.uint32();r>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(p.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&r)}return o},J.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},J.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.file&&e.hasOwnProperty(\"file\")){if(!Array.isArray(e.file))return\"file: array expected\";for(var t=0;t<e.file.length;++t){var n=p.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(n)return\"file.\"+n}}return null},J.fromObject=function(e){if(e instanceof p.google.protobuf.FileDescriptorSet)return e;var t=new p.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(\".google.protobuf.FileDescriptorSet.file: array expected\");t.file=[];for(var n=0;n<e.file.length;++n){if(\"object\"!=typeof e.file[n])throw TypeError(\".google.protobuf.FileDescriptorSet.file: object expected\");t.file[n]=p.google.protobuf.FileDescriptorProto.fromObject(e.file[n])}}return t},J.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.file=[]),e.file&&e.file.length){n.file=[];for(var o=0;o<e.file.length;++o)n.file[o]=p.google.protobuf.FileDescriptorProto.toObject(e.file[o],t)}return n},J.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},J),t.FileDescriptorProto=(h.prototype.name=\"\",h.prototype.package=\"\",h.prototype.dependency=i.emptyArray,h.prototype.publicDependency=i.emptyArray,h.prototype.weakDependency=i.emptyArray,h.prototype.messageType=i.emptyArray,h.prototype.enumType=i.emptyArray,h.prototype.service=i.emptyArray,h.prototype.extension=i.emptyArray,h.prototype.options=null,h.prototype.sourceCodeInfo=null,h.prototype.syntax=\"\",h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,\"package\")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(n=0;n<e.messageType.length;++n)p.google.protobuf.DescriptorProto.encode(e.messageType[n],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)p.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(n=0;n<e.service.length;++n)p.google.protobuf.ServiceDescriptorProto.encode(e.service[n],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)p.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,\"sourceCodeInfo\")&&p.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(n=0;n<e.publicDependency.length;++n)t.uint32(80).int32(e.publicDependency[n]);if(null!=e.weakDependency&&e.weakDependency.length)for(n=0;n<e.weakDependency.length;++n)t.uint32(88).int32(e.weakDependency[n]);return null!=e.syntax&&Object.hasOwnProperty.call(e,\"syntax\")&&t.uint32(98).string(e.syntax),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FileDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.package=e.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(e.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.publicDependency.push(e.int32());else o.publicDependency.push(e.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.weakDependency.push(e.int32());else o.weakDependency.push(e.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(p.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(p.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(p.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:o.options=p.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:o.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:o.syntax=e.string();break;default:e.skipType(7&r)}}return o},h.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},h.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.package&&e.hasOwnProperty(\"package\")&&!i.isString(e.package))return\"package: string expected\";if(null!=e.dependency&&e.hasOwnProperty(\"dependency\")){if(!Array.isArray(e.dependency))return\"dependency: array expected\";for(var t=0;t<e.dependency.length;++t)if(!i.isString(e.dependency[t]))return\"dependency: string[] expected\"}if(null!=e.publicDependency&&e.hasOwnProperty(\"publicDependency\")){if(!Array.isArray(e.publicDependency))return\"publicDependency: array expected\";for(t=0;t<e.publicDependency.length;++t)if(!i.isInteger(e.publicDependency[t]))return\"publicDependency: integer[] expected\"}if(null!=e.weakDependency&&e.hasOwnProperty(\"weakDependency\")){if(!Array.isArray(e.weakDependency))return\"weakDependency: array expected\";for(t=0;t<e.weakDependency.length;++t)if(!i.isInteger(e.weakDependency[t]))return\"weakDependency: integer[] expected\"}if(null!=e.messageType&&e.hasOwnProperty(\"messageType\")){if(!Array.isArray(e.messageType))return\"messageType: array expected\";for(t=0;t<e.messageType.length;++t)if(n=p.google.protobuf.DescriptorProto.verify(e.messageType[t]))return\"messageType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=p.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.service&&e.hasOwnProperty(\"service\")){if(!Array.isArray(e.service))return\"service: array expected\";for(t=0;t<e.service.length;++t)if(n=p.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return\"service.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=p.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.FileOptions.verify(e.options)))return\"options.\"+n;if(null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n=p.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo)))return\"sourceCodeInfo.\"+n;return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&!i.isString(e.syntax)?\"syntax: string expected\":null},h.fromObject=function(e){if(e instanceof p.google.protobuf.FileDescriptorProto)return e;var t=new p.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(\".google.protobuf.FileDescriptorProto.dependency: array expected\");t.dependency=[];for(var n=0;n<e.dependency.length;++n)t.dependency[n]=String(e.dependency[n])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.publicDependency: array expected\");t.publicDependency=[];for(n=0;n<e.publicDependency.length;++n)t.publicDependency[n]=0|e.publicDependency[n]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.weakDependency: array expected\");t.weakDependency=[];for(n=0;n<e.weakDependency.length;++n)t.weakDependency[n]=0|e.weakDependency[n]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: array expected\");t.messageType=[];for(n=0;n<e.messageType.length;++n){if(\"object\"!=typeof e.messageType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: object expected\");t.messageType[n]=p.google.protobuf.DescriptorProto.fromObject(e.messageType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: object expected\");t.enumType[n]=p.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(\".google.protobuf.FileDescriptorProto.service: array expected\");t.service=[];for(n=0;n<e.service.length;++n){if(\"object\"!=typeof e.service[n])throw TypeError(\".google.protobuf.FileDescriptorProto.service: object expected\");t.service[n]=p.google.protobuf.ServiceDescriptorProto.fromObject(e.service[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.FileDescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.FileDescriptorProto.extension: object expected\");t.extension[n]=p.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FileDescriptorProto.options: object expected\");t.options=p.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if(\"object\"!=typeof e.sourceCodeInfo)throw TypeError(\".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected\");t.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},h.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dependency=[],n.messageType=[],n.enumType=[],n.service=[],n.extension=[],n.publicDependency=[],n.weakDependency=[]),t.defaults&&(n.name=\"\",n.package=\"\",n.options=null,n.sourceCodeInfo=null,n.syntax=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.package&&e.hasOwnProperty(\"package\")&&(n.package=e.package),e.dependency&&e.dependency.length){n.dependency=[];for(var o=0;o<e.dependency.length;++o)n.dependency[o]=e.dependency[o]}if(e.messageType&&e.messageType.length){n.messageType=[];for(o=0;o<e.messageType.length;++o)n.messageType[o]=p.google.protobuf.DescriptorProto.toObject(e.messageType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=p.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.service&&e.service.length){n.service=[];for(o=0;o<e.service.length;++o)n.service[o]=p.google.protobuf.ServiceDescriptorProto.toObject(e.service[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=p.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length){n.publicDependency=[];for(o=0;o<e.publicDependency.length;++o)n.publicDependency[o]=e.publicDependency[o]}if(e.weakDependency&&e.weakDependency.length){n.weakDependency=[];for(o=0;o<e.weakDependency.length;++o)n.weakDependency[o]=e.weakDependency[o]}return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&(n.syntax=e.syntax),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},h),t.DescriptorProto=(O.prototype.name=\"\",O.prototype.field=i.emptyArray,O.prototype.extension=i.emptyArray,O.prototype.nestedType=i.emptyArray,O.prototype.enumType=i.emptyArray,O.prototype.extensionRange=i.emptyArray,O.prototype.oneofDecl=i.emptyArray,O.prototype.options=null,O.prototype.reservedRange=i.emptyArray,O.prototype.reservedName=i.emptyArray,O.create=function(e){return new O(e)},O.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)p.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(n=0;n<e.nestedType.length;++n)p.google.protobuf.DescriptorProto.encode(e.nestedType[n],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)p.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(n=0;n<e.extensionRange.length;++n)p.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[n],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)p.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(n=0;n<e.oneofDecl.length;++n)p.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[n],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)p.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[n],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(82).string(e.reservedName[n]);return t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.DescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(p.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(p.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(p.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(p.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:o.options=p.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(p.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},O.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},O.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.field&&e.hasOwnProperty(\"field\")){if(!Array.isArray(e.field))return\"field: array expected\";for(var t=0;t<e.field.length;++t)if(n=p.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return\"field.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=p.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}if(null!=e.nestedType&&e.hasOwnProperty(\"nestedType\")){if(!Array.isArray(e.nestedType))return\"nestedType: array expected\";for(t=0;t<e.nestedType.length;++t)if(n=p.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return\"nestedType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=p.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.extensionRange&&e.hasOwnProperty(\"extensionRange\")){if(!Array.isArray(e.extensionRange))return\"extensionRange: array expected\";for(t=0;t<e.extensionRange.length;++t)if(n=p.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return\"extensionRange.\"+n}if(null!=e.oneofDecl&&e.hasOwnProperty(\"oneofDecl\")){if(!Array.isArray(e.oneofDecl))return\"oneofDecl: array expected\";for(t=0;t<e.oneofDecl.length;++t)if(n=p.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return\"oneofDecl.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.MessageOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=p.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!i.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},O.fromObject=function(e){if(e instanceof p.google.protobuf.DescriptorProto)return e;var t=new p.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(\".google.protobuf.DescriptorProto.field: array expected\");t.field=[];for(var n=0;n<e.field.length;++n){if(\"object\"!=typeof e.field[n])throw TypeError(\".google.protobuf.DescriptorProto.field: object expected\");t.field[n]=p.google.protobuf.FieldDescriptorProto.fromObject(e.field[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.DescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.DescriptorProto.extension: object expected\");t.extension[n]=p.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(\".google.protobuf.DescriptorProto.nestedType: array expected\");t.nestedType=[];for(n=0;n<e.nestedType.length;++n){if(\"object\"!=typeof e.nestedType[n])throw TypeError(\".google.protobuf.DescriptorProto.nestedType: object expected\");t.nestedType[n]=p.google.protobuf.DescriptorProto.fromObject(e.nestedType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.DescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.DescriptorProto.enumType: object expected\");t.enumType[n]=p.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: array expected\");t.extensionRange=[];for(n=0;n<e.extensionRange.length;++n){if(\"object\"!=typeof e.extensionRange[n])throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: object expected\");t.extensionRange[n]=p.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[n])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: array expected\");t.oneofDecl=[];for(n=0;n<e.oneofDecl.length;++n){if(\"object\"!=typeof e.oneofDecl[n])throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: object expected\");t.oneofDecl[n]=p.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.options: object expected\");t.options=p.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: object expected\");t.reservedRange[n]=p.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.DescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},O.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.field=[],n.nestedType=[],n.enumType=[],n.extensionRange=[],n.extension=[],n.oneofDecl=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.field&&e.field.length){n.field=[];for(var o=0;o<e.field.length;++o)n.field[o]=p.google.protobuf.FieldDescriptorProto.toObject(e.field[o],t)}if(e.nestedType&&e.nestedType.length){n.nestedType=[];for(o=0;o<e.nestedType.length;++o)n.nestedType[o]=p.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=p.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.extensionRange&&e.extensionRange.length){n.extensionRange=[];for(o=0;o<e.extensionRange.length;++o)n.extensionRange[o]=p.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=p.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length){n.oneofDecl=[];for(o=0;o<e.oneofDecl.length;++o)n.oneofDecl[o]=p.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[o],t)}if(e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=p.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},O.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},O.ExtensionRange=(b.prototype.start=0,b.prototype.end=0,b.prototype.options=null,b.create=function(e){return new b(e)},b.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;case 3:o.options=p.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},b.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},b.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.start&&e.hasOwnProperty(\"start\")&&!i.isInteger(e.start))return\"start: integer expected\";if(null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end))return\"end: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=p.google.protobuf.ExtensionRangeOptions.verify(e.options);if(e)return\"options.\"+e}return null},b.fromObject=function(e){if(e instanceof p.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new p.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.ExtensionRange.options: object expected\");t.options=p.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},b.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0,n.options=null),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),n},b.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},b),O.ReservedRange=(m.prototype.start=0,m.prototype.end=0,m.create=function(e){return new m(e)},m.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},m.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},m.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!i.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end)?\"end: integer expected\":null},m.fromObject=function(e){var t;return e instanceof p.google.protobuf.DescriptorProto.ReservedRange?e:(t=new p.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},m.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},m.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},m),O),t.ExtensionRangeOptions=(M.prototype.uninterpretedOption=i.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.ExtensionRangeOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},M.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},M.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},M.fromObject=function(e){if(e instanceof p.google.protobuf.ExtensionRangeOptions)return e;var t=new p.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},M.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},M.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},M),t.FieldDescriptorProto=(v.prototype.name=\"\",v.prototype.number=0,v.prototype.label=1,v.prototype.type=1,v.prototype.typeName=\"\",v.prototype.extendee=\"\",v.prototype.defaultValue=\"\",v.prototype.oneofIndex=0,v.prototype.jsonName=\"\",v.prototype.options=null,v.prototype.proto3Optional=!1,v.create=function(e){return new v(e)},v.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,\"extendee\")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,\"label\")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,\"typeName\")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,\"defaultValue\")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,\"oneofIndex\")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,\"jsonName\")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,\"proto3Optional\")&&t.uint32(136).bool(e.proto3Optional),t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FieldDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 3:o.number=e.int32();break;case 4:o.label=e.int32();break;case 5:o.type=e.int32();break;case 6:o.typeName=e.string();break;case 2:o.extendee=e.string();break;case 7:o.defaultValue=e.string();break;case 9:o.oneofIndex=e.int32();break;case 10:o.jsonName=e.string();break;case 8:o.options=p.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:o.proto3Optional=e.bool();break;default:e.skipType(7&r)}}return o},v.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},v.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!i.isInteger(e.number))return\"number: integer expected\";if(null!=e.label&&e.hasOwnProperty(\"label\"))switch(e.label){default:return\"label: enum value expected\";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty(\"type\"))switch(e.type){default:return\"type: enum value expected\";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&!i.isString(e.typeName))return\"typeName: string expected\";if(null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&!i.isString(e.extendee))return\"extendee: string expected\";if(null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&!i.isString(e.defaultValue))return\"defaultValue: string expected\";if(null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&!i.isInteger(e.oneofIndex))return\"oneofIndex: integer expected\";if(null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&!i.isString(e.jsonName))return\"jsonName: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=p.google.protobuf.FieldOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&\"boolean\"!=typeof e.proto3Optional?\"proto3Optional: boolean expected\":null},v.fromObject=function(e){if(e instanceof p.google.protobuf.FieldDescriptorProto)return e;var t=new p.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case\"LABEL_OPTIONAL\":case 1:t.label=1;break;case\"LABEL_REQUIRED\":case 2:t.label=2;break;case\"LABEL_REPEATED\":case 3:t.label=3}switch(e.type){case\"TYPE_DOUBLE\":case 1:t.type=1;break;case\"TYPE_FLOAT\":case 2:t.type=2;break;case\"TYPE_INT64\":case 3:t.type=3;break;case\"TYPE_UINT64\":case 4:t.type=4;break;case\"TYPE_INT32\":case 5:t.type=5;break;case\"TYPE_FIXED64\":case 6:t.type=6;break;case\"TYPE_FIXED32\":case 7:t.type=7;break;case\"TYPE_BOOL\":case 8:t.type=8;break;case\"TYPE_STRING\":case 9:t.type=9;break;case\"TYPE_GROUP\":case 10:t.type=10;break;case\"TYPE_MESSAGE\":case 11:t.type=11;break;case\"TYPE_BYTES\":case 12:t.type=12;break;case\"TYPE_UINT32\":case 13:t.type=13;break;case\"TYPE_ENUM\":case 14:t.type=14;break;case\"TYPE_SFIXED32\":case 15:t.type=15;break;case\"TYPE_SFIXED64\":case 16:t.type=16;break;case\"TYPE_SINT32\":case 17:t.type=17;break;case\"TYPE_SINT64\":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FieldDescriptorProto.options: object expected\");t.options=p.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},v.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.extendee=\"\",n.number=0,n.label=t.enums===String?\"LABEL_OPTIONAL\":1,n.type=t.enums===String?\"TYPE_DOUBLE\":1,n.typeName=\"\",n.defaultValue=\"\",n.options=null,n.oneofIndex=0,n.jsonName=\"\",n.proto3Optional=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&(n.extendee=e.extendee),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.label&&e.hasOwnProperty(\"label\")&&(n.label=t.enums===String?p.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=t.enums===String?p.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&(n.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&(n.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&(n.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&(n.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&(n.proto3Optional=e.proto3Optional),n},v.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},v.Type=(n={},(e=Object.create(n))[n[1]=\"TYPE_DOUBLE\"]=1,e[n[2]=\"TYPE_FLOAT\"]=2,e[n[3]=\"TYPE_INT64\"]=3,e[n[4]=\"TYPE_UINT64\"]=4,e[n[5]=\"TYPE_INT32\"]=5,e[n[6]=\"TYPE_FIXED64\"]=6,e[n[7]=\"TYPE_FIXED32\"]=7,e[n[8]=\"TYPE_BOOL\"]=8,e[n[9]=\"TYPE_STRING\"]=9,e[n[10]=\"TYPE_GROUP\"]=10,e[n[11]=\"TYPE_MESSAGE\"]=11,e[n[12]=\"TYPE_BYTES\"]=12,e[n[13]=\"TYPE_UINT32\"]=13,e[n[14]=\"TYPE_ENUM\"]=14,e[n[15]=\"TYPE_SFIXED32\"]=15,e[n[16]=\"TYPE_SFIXED64\"]=16,e[n[17]=\"TYPE_SINT32\"]=17,e[n[18]=\"TYPE_SINT64\"]=18,e),v.Label=(n={},(e=Object.create(n))[n[1]=\"LABEL_OPTIONAL\"]=1,e[n[2]=\"LABEL_REQUIRED\"]=2,e[n[3]=\"LABEL_REPEATED\"]=3,e),v),t.OneofDescriptorProto=(w.prototype.name=\"\",w.prototype.options=null,w.create=function(e){return new w(e)},w.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.OneofDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.options=p.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},w.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},w.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=p.google.protobuf.OneofOptions.verify(e.options);if(e)return\"options.\"+e}return null},w.fromObject=function(e){if(e instanceof p.google.protobuf.OneofDescriptorProto)return e;var t=new p.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.OneofDescriptorProto.options: object expected\");t.options=p.google.protobuf.OneofOptions.fromObject(e.options)}return t},w.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.OneofOptions.toObject(e.options,t)),n},w.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},w),t.EnumDescriptorProto=(P.prototype.name=\"\",P.prototype.value=i.emptyArray,P.prototype.options=null,P.prototype.reservedRange=i.emptyArray,P.prototype.reservedName=i.emptyArray,P.create=function(e){return new P(e)},P.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)p.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)p.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[n],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(42).string(e.reservedName[n]);return t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(p.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=p.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(p.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},P.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},P.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.value&&e.hasOwnProperty(\"value\")){if(!Array.isArray(e.value))return\"value: array expected\";for(var t=0;t<e.value.length;++t)if(n=p.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return\"value.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.EnumOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!i.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},P.fromObject=function(e){if(e instanceof p.google.protobuf.EnumDescriptorProto)return e;var t=new p.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(\".google.protobuf.EnumDescriptorProto.value: array expected\");t.value=[];for(var n=0;n<e.value.length;++n){if(\"object\"!=typeof e.value[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.value: object expected\");t.value[n]=p.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumDescriptorProto.options: object expected\");t.options=p.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: object expected\");t.reservedRange[n]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},P.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.value=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.value&&e.value.length){n.value=[];for(var o=0;o<e.value.length;++o)n.value[o]=p.google.protobuf.EnumValueDescriptorProto.toObject(e.value[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},P.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},P.EnumReservedRange=(_.prototype.start=0,_.prototype.end=0,_.create=function(e){return new _(e)},_.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},_.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},_.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!i.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end)?\"end: integer expected\":null},_.fromObject=function(e){var t;return e instanceof p.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new p.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},_.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},_.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},_),P),t.EnumValueDescriptorProto=(j.prototype.name=\"\",j.prototype.number=0,j.prototype.options=null,j.create=function(e){return new j(e)},j.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.number=e.int32();break;case 3:o.options=p.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},j.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},j.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!i.isInteger(e.number))return\"number: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=p.google.protobuf.EnumValueOptions.verify(e.options);if(e)return\"options.\"+e}return null},j.fromObject=function(e){if(e instanceof p.google.protobuf.EnumValueDescriptorProto)return e;var t=new p.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumValueDescriptorProto.options: object expected\");t.options=p.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},j.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.number=0,n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.EnumValueOptions.toObject(e.options,t)),n},j.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},j),t.ServiceDescriptorProto=(S.prototype.name=\"\",S.prototype.method=i.emptyArray,S.prototype.options=null,S.create=function(e){return new S(e)},S.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)p.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.ServiceDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(p.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=p.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},S.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},S.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.method&&e.hasOwnProperty(\"method\")){if(!Array.isArray(e.method))return\"method: array expected\";for(var t=0;t<e.method.length;++t)if(n=p.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return\"method.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.ServiceOptions.verify(e.options)))return\"options.\"+n;return null},S.fromObject=function(e){if(e instanceof p.google.protobuf.ServiceDescriptorProto)return e;var t=new p.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: array expected\");t.method=[];for(var n=0;n<e.method.length;++n){if(\"object\"!=typeof e.method[n])throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: object expected\");t.method[n]=p.google.protobuf.MethodDescriptorProto.fromObject(e.method[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.ServiceDescriptorProto.options: object expected\");t.options=p.google.protobuf.ServiceOptions.fromObject(e.options)}return t},S.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.method=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.method&&e.method.length){n.method=[];for(var o=0;o<e.method.length;++o)n.method[o]=p.google.protobuf.MethodDescriptorProto.toObject(e.method[o],t)}return null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.ServiceOptions.toObject(e.options,t)),n},S.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},S),t.MethodDescriptorProto=(x.prototype.name=\"\",x.prototype.inputType=\"\",x.prototype.outputType=\"\",x.prototype.options=null,x.prototype.clientStreaming=!1,x.prototype.serverStreaming=!1,x.create=function(e){return new x(e)},x.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,\"inputType\")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,\"outputType\")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,\"clientStreaming\")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,\"serverStreaming\")&&t.uint32(48).bool(e.serverStreaming),t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.MethodDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.inputType=e.string();break;case 3:o.outputType=e.string();break;case 4:o.options=p.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:o.clientStreaming=e.bool();break;case 6:o.serverStreaming=e.bool();break;default:e.skipType(7&r)}}return o},x.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},x.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&!i.isString(e.inputType))return\"inputType: string expected\";if(null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&!i.isString(e.outputType))return\"outputType: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=p.google.protobuf.MethodOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&\"boolean\"!=typeof e.clientStreaming?\"clientStreaming: boolean expected\":null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&\"boolean\"!=typeof e.serverStreaming?\"serverStreaming: boolean expected\":null},x.fromObject=function(e){if(e instanceof p.google.protobuf.MethodDescriptorProto)return e;var t=new p.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.MethodDescriptorProto.options: object expected\");t.options=p.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},x.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.inputType=\"\",n.outputType=\"\",n.options=null,n.clientStreaming=!1,n.serverStreaming=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&(n.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&(n.outputType=e.outputType),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&(n.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&(n.serverStreaming=e.serverStreaming),n},x.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},x),t.FileOptions=(k.prototype.javaPackage=\"\",k.prototype.javaOuterClassname=\"\",k.prototype.javaMultipleFiles=!1,k.prototype.javaGenerateEqualsAndHash=!1,k.prototype.javaStringCheckUtf8=!1,k.prototype.optimizeFor=1,k.prototype.goPackage=\"\",k.prototype.ccGenericServices=!1,k.prototype.javaGenericServices=!1,k.prototype.pyGenericServices=!1,k.prototype.phpGenericServices=!1,k.prototype.deprecated=!1,k.prototype.ccEnableArenas=!0,k.prototype.objcClassPrefix=\"\",k.prototype.csharpNamespace=\"\",k.prototype.swiftPrefix=\"\",k.prototype.phpClassPrefix=\"\",k.prototype.phpNamespace=\"\",k.prototype.phpMetadataNamespace=\"\",k.prototype.rubyPackage=\"\",k.prototype.uninterpretedOption=i.emptyArray,k.create=function(e){return new k(e)},k.encode=function(e,t){if(t=t||r.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,\"javaPackage\")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,\"javaOuterClassname\")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,\"optimizeFor\")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,\"javaMultipleFiles\")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,\"goPackage\")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,\"ccGenericServices\")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,\"javaGenericServices\")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,\"pyGenericServices\")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,\"javaGenerateEqualsAndHash\")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,\"javaStringCheckUtf8\")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,\"ccEnableArenas\")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,\"objcClassPrefix\")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,\"csharpNamespace\")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,\"swiftPrefix\")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,\"phpClassPrefix\")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,\"phpNamespace\")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,\"phpGenericServices\")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,\"phpMetadataNamespace\")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,\"rubyPackage\")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FileOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.javaPackage=e.string();break;case 8:o.javaOuterClassname=e.string();break;case 10:o.javaMultipleFiles=e.bool();break;case 20:o.javaGenerateEqualsAndHash=e.bool();break;case 27:o.javaStringCheckUtf8=e.bool();break;case 9:o.optimizeFor=e.int32();break;case 11:o.goPackage=e.string();break;case 16:o.ccGenericServices=e.bool();break;case 17:o.javaGenericServices=e.bool();break;case 18:o.pyGenericServices=e.bool();break;case 42:o.phpGenericServices=e.bool();break;case 23:o.deprecated=e.bool();break;case 31:o.ccEnableArenas=e.bool();break;case 36:o.objcClassPrefix=e.string();break;case 37:o.csharpNamespace=e.string();break;case 39:o.swiftPrefix=e.string();break;case 40:o.phpClassPrefix=e.string();break;case 41:o.phpNamespace=e.string();break;case 44:o.phpMetadataNamespace=e.string();break;case 45:o.rubyPackage=e.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},k.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},k.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&!i.isString(e.javaPackage))return\"javaPackage: string expected\";if(null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&!i.isString(e.javaOuterClassname))return\"javaOuterClassname: string expected\";if(null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&\"boolean\"!=typeof e.javaMultipleFiles)return\"javaMultipleFiles: boolean expected\";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&\"boolean\"!=typeof e.javaGenerateEqualsAndHash)return\"javaGenerateEqualsAndHash: boolean expected\";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&\"boolean\"!=typeof e.javaStringCheckUtf8)return\"javaStringCheckUtf8: boolean expected\";if(null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\"))switch(e.optimizeFor){default:return\"optimizeFor: enum value expected\";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&!i.isString(e.goPackage))return\"goPackage: string expected\";if(null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&\"boolean\"!=typeof e.ccGenericServices)return\"ccGenericServices: boolean expected\";if(null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&\"boolean\"!=typeof e.javaGenericServices)return\"javaGenericServices: boolean expected\";if(null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&\"boolean\"!=typeof e.pyGenericServices)return\"pyGenericServices: boolean expected\";if(null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&\"boolean\"!=typeof e.phpGenericServices)return\"phpGenericServices: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&\"boolean\"!=typeof e.ccEnableArenas)return\"ccEnableArenas: boolean expected\";if(null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&!i.isString(e.objcClassPrefix))return\"objcClassPrefix: string expected\";if(null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&!i.isString(e.csharpNamespace))return\"csharpNamespace: string expected\";if(null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&!i.isString(e.swiftPrefix))return\"swiftPrefix: string expected\";if(null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&!i.isString(e.phpClassPrefix))return\"phpClassPrefix: string expected\";if(null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&!i.isString(e.phpNamespace))return\"phpNamespace: string expected\";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&!i.isString(e.phpMetadataNamespace))return\"phpMetadataNamespace: string expected\";if(null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&!i.isString(e.rubyPackage))return\"rubyPackage: string expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},k.fromObject=function(e){if(e instanceof p.google.protobuf.FileOptions)return e;var t=new p.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case\"SPEED\":case 1:t.optimizeFor=1;break;case\"CODE_SIZE\":case 2:t.optimizeFor=2;break;case\"LITE_RUNTIME\":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},k.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.javaPackage=\"\",n.javaOuterClassname=\"\",n.optimizeFor=t.enums===String?\"SPEED\":1,n.javaMultipleFiles=!1,n.goPackage=\"\",n.ccGenericServices=!1,n.javaGenericServices=!1,n.pyGenericServices=!1,n.javaGenerateEqualsAndHash=!1,n.deprecated=!1,n.javaStringCheckUtf8=!1,n.ccEnableArenas=!0,n.objcClassPrefix=\"\",n.csharpNamespace=\"\",n.swiftPrefix=\"\",n.phpClassPrefix=\"\",n.phpNamespace=\"\",n.phpGenericServices=!1,n.phpMetadataNamespace=\"\",n.rubyPackage=\"\"),null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&(n.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&(n.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\")&&(n.optimizeFor=t.enums===String?p.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&(n.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&(n.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&(n.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&(n.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&(n.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&(n.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&(n.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&(n.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&(n.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&(n.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&(n.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&(n.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&(n.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&(n.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&(n.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&(n.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},k.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},k.OptimizeMode=(n={},(e=Object.create(n))[n[1]=\"SPEED\"]=1,e[n[2]=\"CODE_SIZE\"]=2,e[n[3]=\"LITE_RUNTIME\"]=3,e),k),t.MessageOptions=(D.prototype.messageSetWireFormat=!1,D.prototype.noStandardDescriptorAccessor=!1,D.prototype.deprecated=!1,D.prototype.mapEntry=!1,D.prototype.uninterpretedOption=i.emptyArray,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||r.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,\"messageSetWireFormat\")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,\"noStandardDescriptorAccessor\")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,\"mapEntry\")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.MessageOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.messageSetWireFormat=e.bool();break;case 2:o.noStandardDescriptorAccessor=e.bool();break;case 3:o.deprecated=e.bool();break;case 7:o.mapEntry=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},D.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},D.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&\"boolean\"!=typeof e.messageSetWireFormat)return\"messageSetWireFormat: boolean expected\";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&\"boolean\"!=typeof e.noStandardDescriptorAccessor)return\"noStandardDescriptorAccessor: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&\"boolean\"!=typeof e.mapEntry)return\"mapEntry: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},D.fromObject=function(e){if(e instanceof p.google.protobuf.MessageOptions)return e;var t=new p.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},D.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.messageSetWireFormat=!1,n.noStandardDescriptorAccessor=!1,n.deprecated=!1,n.mapEntry=!1),null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&(n.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&(n.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&(n.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},D.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},D),t.FieldOptions=(T.prototype.ctype=0,T.prototype.packed=!1,T.prototype.jstype=0,T.prototype.lazy=!1,T.prototype.deprecated=!1,T.prototype.weak=!1,T.prototype.uninterpretedOption=i.emptyArray,T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||r.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,\"ctype\")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,\"packed\")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,\"lazy\")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,\"jstype\")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,\"weak\")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FieldOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.ctype=e.int32();break;case 2:o.packed=e.bool();break;case 6:o.jstype=e.int32();break;case 5:o.lazy=e.bool();break;case 3:o.deprecated=e.bool();break;case 10:o.weak=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},T.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},T.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.ctype&&e.hasOwnProperty(\"ctype\"))switch(e.ctype){default:return\"ctype: enum value expected\";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty(\"packed\")&&\"boolean\"!=typeof e.packed)return\"packed: boolean expected\";if(null!=e.jstype&&e.hasOwnProperty(\"jstype\"))switch(e.jstype){default:return\"jstype: enum value expected\";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&\"boolean\"!=typeof e.lazy)return\"lazy: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.weak&&e.hasOwnProperty(\"weak\")&&\"boolean\"!=typeof e.weak)return\"weak: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},T.fromObject=function(e){if(e instanceof p.google.protobuf.FieldOptions)return e;var t=new p.google.protobuf.FieldOptions;switch(e.ctype){case\"STRING\":case 0:t.ctype=0;break;case\"CORD\":case 1:t.ctype=1;break;case\"STRING_PIECE\":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case\"JS_NORMAL\":case 0:t.jstype=0;break;case\"JS_STRING\":case 1:t.jstype=1;break;case\"JS_NUMBER\":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},T.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.ctype=t.enums===String?\"STRING\":0,n.packed=!1,n.deprecated=!1,n.lazy=!1,n.jstype=t.enums===String?\"JS_NORMAL\":0,n.weak=!1),null!=e.ctype&&e.hasOwnProperty(\"ctype\")&&(n.ctype=t.enums===String?p.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty(\"packed\")&&(n.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&(n.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty(\"jstype\")&&(n.jstype=t.enums===String?p.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty(\"weak\")&&(n.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},T.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},T.CType=(n={},(e=Object.create(n))[n[0]=\"STRING\"]=0,e[n[1]=\"CORD\"]=1,e[n[2]=\"STRING_PIECE\"]=2,e),T.JSType=(n={},(e=Object.create(n))[n[0]=\"JS_NORMAL\"]=0,e[n[1]=\"JS_STRING\"]=1,e[n[2]=\"JS_NUMBER\"]=2,e),T),t.OneofOptions=(H.prototype.uninterpretedOption=i.emptyArray,H.create=function(e){return new H(e)},H.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.OneofOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},H.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},H.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},H.fromObject=function(e){if(e instanceof p.google.protobuf.OneofOptions)return e;var t=new p.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},H.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},H.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},H),t.EnumOptions=(E.prototype.allowAlias=!1,E.prototype.deprecated=!1,E.prototype.uninterpretedOption=i.emptyArray,E.create=function(e){return new E(e)},E.encode=function(e,t){if(t=t||r.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,\"allowAlias\")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.allowAlias=e.bool();break;case 3:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},E.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},E.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&\"boolean\"!=typeof e.allowAlias)return\"allowAlias: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},E.fromObject=function(e){if(e instanceof p.google.protobuf.EnumOptions)return e;var t=new p.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},E.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.allowAlias=!1,n.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&(n.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},E.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},E),t.EnumValueOptions=(z.prototype.deprecated=!1,z.prototype.uninterpretedOption=i.emptyArray,z.create=function(e){return new z(e)},z.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumValueOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},z.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},z.fromObject=function(e){if(e instanceof p.google.protobuf.EnumValueOptions)return e;var t=new p.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},z.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},z.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},z),t.ServiceOptions=(A.prototype.deprecated=!1,A.prototype.uninterpretedOption=i.emptyArray,A.prototype[\".google.api.defaultHost\"]=\"\",A.prototype[\".google.api.oauthScopes\"]=\"\",A.create=function(e){return new A(e)},A.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.defaultHost\"]&&Object.hasOwnProperty.call(e,\".google.api.defaultHost\")&&t.uint32(8394).string(e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&Object.hasOwnProperty.call(e,\".google.api.oauthScopes\")&&t.uint32(8402).string(e[\".google.api.oauthScopes\"]),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.ServiceOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.api.defaultHost\"]=e.string();break;case 1050:o[\".google.api.oauthScopes\"]=e.string();break;default:e.skipType(7&r)}}return o},A.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},A.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&!i.isString(e[\".google.api.defaultHost\"])?\".google.api.defaultHost: string expected\":null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&!i.isString(e[\".google.api.oauthScopes\"])?\".google.api.oauthScopes: string expected\":null},A.fromObject=function(e){if(e instanceof p.google.protobuf.ServiceOptions)return e;var t=new p.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return null!=e[\".google.api.defaultHost\"]&&(t[\".google.api.defaultHost\"]=String(e[\".google.api.defaultHost\"])),null!=e[\".google.api.oauthScopes\"]&&(t[\".google.api.oauthScopes\"]=String(e[\".google.api.oauthScopes\"])),t},A.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1,n[\".google.api.defaultHost\"]=\"\",n[\".google.api.oauthScopes\"]=\"\"),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&(n[\".google.api.defaultHost\"]=e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&(n[\".google.api.oauthScopes\"]=e[\".google.api.oauthScopes\"]),n},A.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},A),t.MethodOptions=(N.prototype.deprecated=!1,N.prototype.idempotencyLevel=0,N.prototype.uninterpretedOption=i.emptyArray,N.prototype[\".google.longrunning.operationInfo\"]=null,N.prototype[\".google.api.http\"]=null,N.prototype[\".google.api.methodSignature\"]=i.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,\"idempotencyLevel\")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.longrunning.operationInfo\"]&&Object.hasOwnProperty.call(e,\".google.longrunning.operationInfo\")&&p.google.longrunning.OperationInfo.encode(e[\".google.longrunning.operationInfo\"],t.uint32(8394).fork()).ldelim(),null!=e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length)for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t.uint32(8410).string(e[\".google.api.methodSignature\"][n]);return null!=e[\".google.api.http\"]&&Object.hasOwnProperty.call(e,\".google.api.http\")&&p.google.api.HttpRule.encode(e[\".google.api.http\"],t.uint32(578365826).fork()).ldelim(),t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.MethodOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 34:o.idempotencyLevel=e.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.longrunning.operationInfo\"]=p.google.longrunning.OperationInfo.decode(e,e.uint32());break;case 72295728:o[\".google.api.http\"]=p.google.api.HttpRule.decode(e,e.uint32());break;case 1051:o[\".google.api.methodSignature\"]&&o[\".google.api.methodSignature\"].length||(o[\".google.api.methodSignature\"]=[]),o[\".google.api.methodSignature\"].push(e.string());break;default:e.skipType(7&r)}}return o},N.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},N.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\"))switch(e.idempotencyLevel){default:return\"idempotencyLevel: enum value expected\";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.longrunning.operationInfo\"]&&e.hasOwnProperty(\".google.longrunning.operationInfo\")&&(n=p.google.longrunning.OperationInfo.verify(e[\".google.longrunning.operationInfo\"])))return\".google.longrunning.operationInfo.\"+n;if(null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n=p.google.api.HttpRule.verify(e[\".google.api.http\"])))return\".google.api.http.\"+n;if(null!=e[\".google.api.methodSignature\"]&&e.hasOwnProperty(\".google.api.methodSignature\")){if(!Array.isArray(e[\".google.api.methodSignature\"]))return\".google.api.methodSignature: array expected\";for(t=0;t<e[\".google.api.methodSignature\"].length;++t)if(!i.isString(e[\".google.api.methodSignature\"][t]))return\".google.api.methodSignature: string[] expected\"}return null},N.fromObject=function(e){if(e instanceof p.google.protobuf.MethodOptions)return e;var t=new p.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case\"IDEMPOTENCY_UNKNOWN\":case 0:t.idempotencyLevel=0;break;case\"NO_SIDE_EFFECTS\":case 1:t.idempotencyLevel=1;break;case\"IDEMPOTENT\":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.longrunning.operationInfo\"]){if(\"object\"!=typeof e[\".google.longrunning.operationInfo\"])throw TypeError(\".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected\");t[\".google.longrunning.operationInfo\"]=p.google.longrunning.OperationInfo.fromObject(e[\".google.longrunning.operationInfo\"])}if(null!=e[\".google.api.http\"]){if(\"object\"!=typeof e[\".google.api.http\"])throw TypeError(\".google.protobuf.MethodOptions..google.api.http: object expected\");t[\".google.api.http\"]=p.google.api.HttpRule.fromObject(e[\".google.api.http\"])}if(e[\".google.api.methodSignature\"]){if(!Array.isArray(e[\".google.api.methodSignature\"]))throw TypeError(\".google.protobuf.MethodOptions..google.api.methodSignature: array expected\");t[\".google.api.methodSignature\"]=[];for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t[\".google.api.methodSignature\"][n]=String(e[\".google.api.methodSignature\"][n])}return t},N.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.methodSignature\"]=[]),t.defaults&&(n.deprecated=!1,n.idempotencyLevel=t.enums===String?\"IDEMPOTENCY_UNKNOWN\":0,n[\".google.longrunning.operationInfo\"]=null,n[\".google.api.http\"]=null),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\")&&(n.idempotencyLevel=t.enums===String?p.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(null!=e[\".google.longrunning.operationInfo\"]&&e.hasOwnProperty(\".google.longrunning.operationInfo\")&&(n[\".google.longrunning.operationInfo\"]=p.google.longrunning.OperationInfo.toObject(e[\".google.longrunning.operationInfo\"],t)),e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length){n[\".google.api.methodSignature\"]=[];for(o=0;o<e[\".google.api.methodSignature\"].length;++o)n[\".google.api.methodSignature\"][o]=e[\".google.api.methodSignature\"][o]}return null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n[\".google.api.http\"]=p.google.api.HttpRule.toObject(e[\".google.api.http\"],t)),n},N.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},N.IdempotencyLevel=(n={},(e=Object.create(n))[n[0]=\"IDEMPOTENCY_UNKNOWN\"]=0,e[n[1]=\"NO_SIDE_EFFECTS\"]=1,e[n[2]=\"IDEMPOTENT\"]=2,e),N),t.UninterpretedOption=(I.prototype.name=i.emptyArray,I.prototype.identifierValue=\"\",I.prototype.positiveIntValue=i.Long?i.Long.fromBits(0,0,!0):0,I.prototype.negativeIntValue=i.Long?i.Long.fromBits(0,0,!1):0,I.prototype.doubleValue=0,I.prototype.stringValue=i.newBuffer([]),I.prototype.aggregateValue=\"\",I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||r.create(),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)p.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,\"identifierValue\")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,\"positiveIntValue\")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,\"negativeIntValue\")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,\"doubleValue\")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,\"stringValue\")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,\"aggregateValue\")&&t.uint32(66).string(e.aggregateValue),t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.UninterpretedOption;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(p.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:o.identifierValue=e.string();break;case 4:o.positiveIntValue=e.uint64();break;case 5:o.negativeIntValue=e.int64();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.bytes();break;case 8:o.aggregateValue=e.string();break;default:e.skipType(7&r)}}return o},I.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},I.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")){if(!Array.isArray(e.name))return\"name: array expected\";for(var t=0;t<e.name.length;++t){var n=p.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(n)return\"name.\"+n}}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&!i.isString(e.identifierValue)?\"identifierValue: string expected\":null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&!(i.isInteger(e.positiveIntValue)||e.positiveIntValue&&i.isInteger(e.positiveIntValue.low)&&i.isInteger(e.positiveIntValue.high))?\"positiveIntValue: integer|Long expected\":null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&!(i.isInteger(e.negativeIntValue)||e.negativeIntValue&&i.isInteger(e.negativeIntValue.low)&&i.isInteger(e.negativeIntValue.high))?\"negativeIntValue: integer|Long expected\":null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&\"number\"!=typeof e.doubleValue?\"doubleValue: number expected\":null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&!(e.stringValue&&\"number\"==typeof e.stringValue.length||i.isString(e.stringValue))?\"stringValue: buffer expected\":null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&!i.isString(e.aggregateValue)?\"aggregateValue: string expected\":null},I.fromObject=function(e){if(e instanceof p.google.protobuf.UninterpretedOption)return e;var t=new p.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(\".google.protobuf.UninterpretedOption.name: array expected\");t.name=[];for(var n=0;n<e.name.length;++n){if(\"object\"!=typeof e.name[n])throw TypeError(\".google.protobuf.UninterpretedOption.name: object expected\");t.name[n]=p.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[n])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(i.Long?(t.positiveIntValue=i.Long.fromValue(e.positiveIntValue)).unsigned=!0:\"string\"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):\"number\"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:\"object\"==typeof e.positiveIntValue&&(t.positiveIntValue=new i.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(i.Long?(t.negativeIntValue=i.Long.fromValue(e.negativeIntValue)).unsigned=!1:\"string\"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):\"number\"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:\"object\"==typeof e.negativeIntValue&&(t.negativeIntValue=new i.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&(\"string\"==typeof e.stringValue?i.base64.decode(e.stringValue,t.stringValue=i.newBuffer(i.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},I.toObject=function(e,t){var n,o={};if(((t=t||{}).arrays||t.defaults)&&(o.name=[]),t.defaults&&(o.identifierValue=\"\",i.Long?(n=new i.Long(0,0,!0),o.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.positiveIntValue=t.longs===String?\"0\":0,i.Long?(n=new i.Long(0,0,!1),o.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.negativeIntValue=t.longs===String?\"0\":0,o.doubleValue=0,t.bytes===String?o.stringValue=\"\":(o.stringValue=[],t.bytes!==Array&&(o.stringValue=i.newBuffer(o.stringValue))),o.aggregateValue=\"\"),e.name&&e.name.length){o.name=[];for(var r=0;r<e.name.length;++r)o.name[r]=p.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[r],t)}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&(o.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&(\"number\"==typeof e.positiveIntValue?o.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:o.positiveIntValue=t.longs===String?i.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new i.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&(\"number\"==typeof e.negativeIntValue?o.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:o.negativeIntValue=t.longs===String?i.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new i.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&(o.stringValue=t.bytes===String?i.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&(o.aggregateValue=e.aggregateValue),o},I.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},I.NamePart=(q.prototype.namePart=\"\",q.prototype.isExtension=!1,q.create=function(e){return new q(e)},q.encode=function(e,t){return(t=t||r.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.namePart=e.string();break;case 2:o.isExtension=e.bool();break;default:e.skipType(7&r)}}if(!o.hasOwnProperty(\"namePart\"))throw i.ProtocolError(\"missing required 'namePart'\",{instance:o});if(o.hasOwnProperty(\"isExtension\"))return o;throw i.ProtocolError(\"missing required 'isExtension'\",{instance:o})},q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},q.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":i.isString(e.namePart)?\"boolean\"!=typeof e.isExtension?\"isExtension: boolean expected\":null:\"namePart: string expected\"},q.fromObject=function(e){var t;return e instanceof p.google.protobuf.UninterpretedOption.NamePart?e:(t=new p.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},q.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.namePart=\"\",n.isExtension=!1),null!=e.namePart&&e.hasOwnProperty(\"namePart\")&&(n.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty(\"isExtension\")&&(n.isExtension=e.isExtension),n},q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},q),I),t.SourceCodeInfo=(Y.prototype.location=i.emptyArray,Y.create=function(e){return new Y(e)},Y.encode=function(e,t){if(t=t||r.create(),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)p.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},Y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.SourceCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(p.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&r)}return o},Y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Y.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.location&&e.hasOwnProperty(\"location\")){if(!Array.isArray(e.location))return\"location: array expected\";for(var t=0;t<e.location.length;++t){var n=p.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(n)return\"location.\"+n}}return null},Y.fromObject=function(e){if(e instanceof p.google.protobuf.SourceCodeInfo)return e;var t=new p.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(\".google.protobuf.SourceCodeInfo.location: array expected\");t.location=[];for(var n=0;n<e.location.length;++n){if(\"object\"!=typeof e.location[n])throw TypeError(\".google.protobuf.SourceCodeInfo.location: object expected\");t.location[n]=p.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[n])}}return t},Y.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.location=[]),e.location&&e.location.length){n.location=[];for(var o=0;o<e.location.length;++o)n.location[o]=p.google.protobuf.SourceCodeInfo.Location.toObject(e.location[o],t)}return n},Y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Y.Location=(R.prototype.path=i.emptyArray,R.prototype.span=i.emptyArray,R.prototype.leadingComments=\"\",R.prototype.trailingComments=\"\",R.prototype.leadingDetachedComments=i.emptyArray,R.create=function(e){return new R(e)},R.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){t.uint32(18).fork();for(n=0;n<e.span.length;++n)t.int32(e.span[n]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,\"leadingComments\")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,\"trailingComments\")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(n=0;n<e.leadingDetachedComments.length;++n)t.uint32(50).string(e.leadingDetachedComments[n]);return t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.span.push(e.int32());else o.span.push(e.int32());break;case 3:o.leadingComments=e.string();break;case 4:o.trailingComments=e.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(e.string());break;default:e.skipType(7&r)}}return o},R.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},R.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!i.isInteger(e.path[t]))return\"path: integer[] expected\"}if(null!=e.span&&e.hasOwnProperty(\"span\")){if(!Array.isArray(e.span))return\"span: array expected\";for(t=0;t<e.span.length;++t)if(!i.isInteger(e.span[t]))return\"span: integer[] expected\"}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&!i.isString(e.leadingComments))return\"leadingComments: string expected\";if(null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&!i.isString(e.trailingComments))return\"trailingComments: string expected\";if(null!=e.leadingDetachedComments&&e.hasOwnProperty(\"leadingDetachedComments\")){if(!Array.isArray(e.leadingDetachedComments))return\"leadingDetachedComments: array expected\";for(t=0;t<e.leadingDetachedComments.length;++t)if(!i.isString(e.leadingDetachedComments[t]))return\"leadingDetachedComments: string[] expected\"}return null},R.fromObject=function(e){if(e instanceof p.google.protobuf.SourceCodeInfo.Location)return e;var t=new p.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}if(e.span){if(!Array.isArray(e.span))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.span: array expected\");t.span=[];for(n=0;n<e.span.length;++n)t.span[n]=0|e.span[n]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected\");t.leadingDetachedComments=[];for(n=0;n<e.leadingDetachedComments.length;++n)t.leadingDetachedComments[n]=String(e.leadingDetachedComments[n])}return t},R.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[],n.span=[],n.leadingDetachedComments=[]),t.defaults&&(n.leadingComments=\"\",n.trailingComments=\"\"),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}if(e.span&&e.span.length){n.span=[];for(o=0;o<e.span.length;++o)n.span[o]=e.span[o]}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&(n.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&(n.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length){n.leadingDetachedComments=[];for(o=0;o<e.leadingDetachedComments.length;++o)n.leadingDetachedComments[o]=e.leadingDetachedComments[o]}return n},R.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},R),Y),t.GeneratedCodeInfo=(W.prototype.annotation=i.emptyArray,W.create=function(e){return new W(e)},W.encode=function(e,t){if(t=t||r.create(),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)p.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},W.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},W.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.GeneratedCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(p.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&r)}return o},W.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},W.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.annotation&&e.hasOwnProperty(\"annotation\")){if(!Array.isArray(e.annotation))return\"annotation: array expected\";for(var t=0;t<e.annotation.length;++t){var n=p.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(n)return\"annotation.\"+n}}return null},W.fromObject=function(e){if(e instanceof p.google.protobuf.GeneratedCodeInfo)return e;var t=new p.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: array expected\");t.annotation=[];for(var n=0;n<e.annotation.length;++n){if(\"object\"!=typeof e.annotation[n])throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: object expected\");t.annotation[n]=p.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[n])}}return t},W.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.annotation=[]),e.annotation&&e.annotation.length){n.annotation=[];for(var o=0;o<e.annotation.length;++o)n.annotation[o]=p.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[o],t)}return n},W.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},W.Annotation=(C.prototype.path=i.emptyArray,C.prototype.sourceFile=\"\",C.prototype.begin=0,C.prototype.end=0,C.create=function(e){return new C(e)},C.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,\"sourceFile\")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,\"begin\")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(32).int32(e.end),t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:o.sourceFile=e.string();break;case 3:o.begin=e.int32();break;case 4:o.end=e.int32();break;default:e.skipType(7&r)}}return o},C.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},C.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!i.isInteger(e.path[t]))return\"path: integer[] expected\"}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&!i.isString(e.sourceFile)?\"sourceFile: string expected\":null!=e.begin&&e.hasOwnProperty(\"begin\")&&!i.isInteger(e.begin)?\"begin: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end)?\"end: integer expected\":null},C.fromObject=function(e){if(e instanceof p.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new p.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},C.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.sourceFile=\"\",n.begin=0,n.end=0),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&(n.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty(\"begin\")&&(n.begin=e.begin),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},C.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},C),W),t.Any=(X.prototype.type_url=\"\",X.prototype.value=i.newBuffer([]),X.create=function(e){return new X(e)},X.encode=function(e,t){return t=t||r.create(),null!=e.type_url&&Object.hasOwnProperty.call(e,\"type_url\")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,\"value\")&&t.uint32(18).bytes(e.value),t},X.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},X.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.Any;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type_url=e.string();break;case 2:o.value=e.bytes();break;default:e.skipType(7&r)}}return o},X.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},X.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&!i.isString(e.type_url)?\"type_url: string expected\":null!=e.value&&e.hasOwnProperty(\"value\")&&!(e.value&&\"number\"==typeof e.value.length||i.isString(e.value))?\"value: buffer expected\":null},X.fromObject=function(e){var t;return e instanceof p.google.protobuf.Any?e:(t=new p.google.protobuf.Any,null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&(\"string\"==typeof e.value?i.base64.decode(e.value,t.value=i.newBuffer(i.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t)},X.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type_url=\"\",t.bytes===String?n.value=\"\":(n.value=[],t.bytes!==Array&&(n.value=i.newBuffer(n.value)))),null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&(n.type_url=e.type_url),null!=e.value&&e.hasOwnProperty(\"value\")&&(n.value=t.bytes===String?i.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},X.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},X),t.Duration=(K.prototype.seconds=i.Long?i.Long.fromBits(0,0,!1):0,K.prototype.nanos=0,K.create=function(e){return new K(e)},K.encode=function(e,t){return t=t||r.create(),null!=e.seconds&&Object.hasOwnProperty.call(e,\"seconds\")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,\"nanos\")&&t.uint32(16).int32(e.nanos),t},K.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},K.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.Duration;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.seconds=e.int64();break;case 2:o.nanos=e.int32();break;default:e.skipType(7&r)}}return o},K.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},K.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.seconds&&e.hasOwnProperty(\"seconds\")&&!(i.isInteger(e.seconds)||e.seconds&&i.isInteger(e.seconds.low)&&i.isInteger(e.seconds.high))?\"seconds: integer|Long expected\":null!=e.nanos&&e.hasOwnProperty(\"nanos\")&&!i.isInteger(e.nanos)?\"nanos: integer expected\":null},K.fromObject=function(e){var t;return e instanceof p.google.protobuf.Duration?e:(t=new p.google.protobuf.Duration,null!=e.seconds&&(i.Long?(t.seconds=i.Long.fromValue(e.seconds)).unsigned=!1:\"string\"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):\"number\"==typeof e.seconds?t.seconds=e.seconds:\"object\"==typeof e.seconds&&(t.seconds=new i.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t)},K.toObject=function(e,t){var n,o={};return(t=t||{}).defaults&&(i.Long?(n=new i.Long(0,0,!1),o.seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.seconds=t.longs===String?\"0\":0,o.nanos=0),null!=e.seconds&&e.hasOwnProperty(\"seconds\")&&(\"number\"==typeof e.seconds?o.seconds=t.longs===String?String(e.seconds):e.seconds:o.seconds=t.longs===String?i.Long.prototype.toString.call(e.seconds):t.longs===Number?new i.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty(\"nanos\")&&(o.nanos=e.nanos),o},K.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},K),t.Empty=(Q.create=function(e){return new Q(e)},Q.encode=function(e,t){return t=t||r.create()},Q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,t=new p.google.protobuf.Empty;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return t},Q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Q.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null},Q.fromObject=function(e){return e instanceof p.google.protobuf.Empty?e:new p.google.protobuf.Empty},Q.toObject=function(){return{}},Q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Q),t),F.rpc=((n={}).Status=(V.prototype.code=0,V.prototype.message=\"\",V.prototype.details=i.emptyArray,V.create=function(e){return new V(e)},V.encode=function(e,t){if(t=t||r.create(),null!=e.code&&Object.hasOwnProperty.call(e,\"code\")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,\"message\")&&t.uint32(18).string(e.message),null!=e.details&&e.details.length)for(var n=0;n<e.details.length;++n)p.google.protobuf.Any.encode(e.details[n],t.uint32(26).fork()).ldelim();return t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.rpc.Status;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.code=e.int32();break;case 2:o.message=e.string();break;case 3:o.details&&o.details.length||(o.details=[]),o.details.push(p.google.protobuf.Any.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},V.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},V.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.code&&e.hasOwnProperty(\"code\")&&!i.isInteger(e.code))return\"code: integer expected\";if(null!=e.message&&e.hasOwnProperty(\"message\")&&!i.isString(e.message))return\"message: string expected\";if(null!=e.details&&e.hasOwnProperty(\"details\")){if(!Array.isArray(e.details))return\"details: array expected\";for(var t=0;t<e.details.length;++t){var n=p.google.protobuf.Any.verify(e.details[t]);if(n)return\"details.\"+n}}return null},V.fromObject=function(e){if(e instanceof p.google.rpc.Status)return e;var t=new p.google.rpc.Status;if(null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(\".google.rpc.Status.details: array expected\");t.details=[];for(var n=0;n<e.details.length;++n){if(\"object\"!=typeof e.details[n])throw TypeError(\".google.rpc.Status.details: object expected\");t.details[n]=p.google.protobuf.Any.fromObject(e.details[n])}}return t},V.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.details=[]),t.defaults&&(n.code=0,n.message=\"\"),null!=e.code&&e.hasOwnProperty(\"code\")&&(n.code=e.code),null!=e.message&&e.hasOwnProperty(\"message\")&&(n.message=e.message),e.details&&e.details.length){n.details=[];for(var o=0;o<e.details.length;++o)n.details[o]=p.google.protobuf.Any.toObject(e.details[o],t)}return n},V.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},V),n),F),p});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3Byb3Rvcy9vcGVyYXRpb25zLmpzIiwibWFwcGluZ3MiOiJBQUFBLHFHQUFLLEtBQXFDLENBQUMsaUNBQU8sQ0FBQyxzR0FBb0IsQ0FBQyxvQ0FBQyxDQUFDO0FBQUE7QUFBQTtBQUFBLGtHQUFDLENBQUMsQ0FBOEgsQ0FBQyxjQUFjLHFHQUFxRyxFQUFFLGtCQUFrQiwrQkFBK0IsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxxREFBcUQsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxnREFBZ0QsV0FBVyx3Q0FBd0MsY0FBYyw2REFBNkQsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYywrQ0FBK0MsV0FBVyx3Q0FBd0MsY0FBYyw0S0FBNEssV0FBVyx3Q0FBd0MsY0FBYywwTEFBMEwsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYywyRkFBMkYsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxpREFBaUQsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyw4REFBOEQsV0FBVyx3Q0FBd0MsY0FBYyxxR0FBcUcsV0FBVyx3Q0FBd0MsY0FBYywrQ0FBK0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxtREFBbUQsV0FBVyx3Q0FBd0MsY0FBYyw0RkFBNEYsV0FBVyx3Q0FBd0MsY0FBYyxxREFBcUQsV0FBVyx3Q0FBd0MsY0FBYywrQ0FBK0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxrREFBa0QsV0FBVyx3Q0FBd0Msc0JBQXNCLG9CQUFvQiwwR0FBMEcsdUJBQXVCLGtFQUFrRSxrSEFBa0gsU0FBUyx1QkFBdUIsaUVBQWlFLG1HQUFtRyxTQUFTLHFCQUFxQixvRUFBb0UsK0ZBQStGLFNBQVMsd0JBQXdCLG9FQUFvRSwrRkFBK0YsU0FBUyx3QkFBd0Isa0VBQWtFLG9HQUFvRyxTQUFTLHNCQUFzQixpTEFBaUwsK0RBQStELHVCQUF1QixnQkFBZ0Isd0JBQXdCLGtqQkFBa2pCLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RUFBd0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDZEQUE2RCxNQUFNLHVCQUF1QixNQUFNLHdEQUF3RCxNQUFNLDZEQUE2RCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxXQUFXLDZGQUE2RixvSEFBb0gsbUdBQW1HLGlIQUFpSCxtREFBbUQsZ0RBQWdELDZFQUE2RSxZQUFZLDBCQUEwQix3REFBd0QseUNBQXlDLDJEQUEyRCwwR0FBMEcsd0RBQXdELHlEQUF5RCxvR0FBb0csZ0RBQWdELHFCQUFxQiwwR0FBMEcsd0RBQXdELFNBQVMsMEJBQTBCLFNBQVMsY0FBYyxpaEJBQWloQiwrQkFBK0IsNERBQTRELG9FQUFvRSxnQkFBZ0Isd0JBQXdCLHlHQUF5RyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msa0ZBQWtGLFFBQVEsRUFBRSxpQkFBaUIsMkNBQTJDLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0IsOElBQThJLDBCQUEwQixNQUFNLHdKQUF3SiwwQkFBMEIsU0FBUyxjQUFjLGtGQUFrRiwrQkFBK0IsNERBQTRELDRJQUE0SSxnQkFBZ0Isd0JBQXdCLHlYQUF5WCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msb0ZBQW9GLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwyQkFBMkIsTUFBTSw0QkFBNEIsTUFBTSw4QkFBOEIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3YkFBd2IsMEJBQTBCLE1BQU0seVNBQXlTLDBCQUEwQixTQUFTLGNBQWMsOFVBQThVLCtCQUErQiw0REFBNEQsb0hBQW9ILGdCQUFnQix3QkFBd0IsdUVBQXVFLHNCQUFzQix3RkFBd0Ysb0hBQW9ILGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxxRkFBcUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLG1JQUFtSSxNQUFNLGtDQUFrQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx1REFBdUQsbUVBQW1FLFlBQVksc0JBQXNCLEtBQUssNkRBQTZELDRCQUE0QixvSUFBb0ksMEJBQTBCLHFFQUFxRSxzREFBc0QsaUJBQWlCLHlIQUF5SCxnQkFBZ0IsWUFBWSxzQkFBc0IsS0FBSyw4SEFBOEgsNEVBQTRFLDBFQUEwRSwwQkFBMEIsU0FBUyxZQUFZLDZHQUE2RyxnQkFBZ0IsWUFBWSxzQkFBc0IsK0VBQStFLHFHQUFxRywrQkFBK0IsNERBQTRELHVFQUF1RSxnQkFBZ0Isd0JBQXdCLHlHQUF5RyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MscUZBQXFGLFFBQVEsRUFBRSxpQkFBaUIsMkNBQTJDLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0IsOElBQThJLDBCQUEwQixNQUFNLDhKQUE4SiwwQkFBMEIsU0FBUyxjQUFjLGtGQUFrRiwrQkFBK0IsNERBQTRELHVFQUF1RSxnQkFBZ0Isd0JBQXdCLHlHQUF5RyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MscUZBQXFGLFFBQVEsRUFBRSxpQkFBaUIsMkNBQTJDLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0IsOElBQThJLDBCQUEwQixNQUFNLDhKQUE4SiwwQkFBMEIsU0FBUyxjQUFjLGtGQUFrRiwrQkFBK0IsNERBQTRELDhGQUE4RixnQkFBZ0Isd0JBQXdCLDZPQUE2TyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsbUZBQW1GLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSxpRUFBaUUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLGlEQUFpRCwrQ0FBK0Msd0JBQXdCLFlBQVksMEJBQTBCLG1FQUFtRSxvREFBb0QsMERBQTBELG1IQUFtSCwyREFBMkQsU0FBUywwQkFBMEIsU0FBUyxjQUFjLDRNQUE0TSwrQkFBK0IsNERBQTRELGtHQUFrRyxnQkFBZ0Isd0JBQXdCLHlPQUF5TyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsNEVBQTRFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxpQ0FBaUMsTUFBTSxpQ0FBaUMsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixrU0FBa1MsMEJBQTBCLE1BQU0sa09BQWtPLDBCQUEwQixTQUFTLGNBQWMsb09BQW9PLCtCQUErQiw0REFBNEQsbUJBQW1CLHdHQUF3RyxnQkFBZ0Isd0JBQXdCLDZEQUE2RCxpQkFBaUIsMEVBQTBFLCtKQUErSixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMkRBQTJELFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxzR0FBc0csTUFBTSwrQ0FBK0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkNBQTZDLHlEQUF5RCxZQUFZLGlCQUFpQixLQUFLLCtDQUErQyx1QkFBdUIsc01BQXNNLDBCQUEwQiwyQ0FBMkMsNEJBQTRCLFlBQVkscUZBQXFGLFdBQVcsWUFBWSxpQkFBaUIsS0FBSywwRkFBMEYseURBQXlELHdIQUF3SCwwQkFBMEIsU0FBUyxZQUFZLDZHQUE2RyxXQUFXLFlBQVksaUJBQWlCLDREQUE0RCxpS0FBaUssK0JBQStCLDREQUE0RCw4U0FBOFMseUZBQXlGLHVCQUF1QixnQkFBZ0Isd0JBQXdCLDJ4QkFBMnhCLDhCQUE4Qix1RkFBdUYsaUhBQWlILGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywrREFBK0QsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLHdCQUF3QixNQUFNLHdCQUF3QixNQUFNLHlCQUF5QixNQUFNLDJCQUEyQixNQUFNLDBCQUEwQixNQUFNLG9FQUFvRSxNQUFNLHlCQUF5QixNQUFNLGtDQUFrQyxNQUFNLDJKQUEySixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxTQUFTLDZHQUE2Ryx1R0FBdUcseUNBQXlDLGtEQUFrRCwrREFBK0QsMkNBQTJDLGtEQUFrRCxpRUFBaUUsK0NBQStDLGtEQUFrRCxxRUFBcUUsNkNBQTZDLGtEQUFrRCxtRUFBbUUsK0NBQStDLGtEQUFrRCxtRkFBbUYsNkZBQTZGLDZIQUE2SCx1RUFBdUUsbUZBQW1GLGNBQWMsOEJBQThCLDZGQUE2RixZQUFZLDBCQUEwQiwrQ0FBK0MsZ0NBQWdDLHNRQUFzUSw2RkFBNkYsNkRBQTZELDZIQUE2SCxtSEFBbUgsd0JBQXdCLFlBQVksOEJBQThCLEtBQUssd0hBQXdILG1GQUFtRixTQUFTLDBCQUEwQixTQUFTLFlBQVksbzFCQUFvMUIsd0JBQXdCLFlBQVksOEJBQThCLHNGQUFzRixpR0FBaUcsK0JBQStCLDREQUE0RCxzRkFBc0YsZ0JBQWdCLHdCQUF3Qix5TEFBeUwsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0seUJBQXlCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isa09BQWtPLDBCQUEwQixNQUFNLDBLQUEwSywwQkFBMEIsU0FBUyxjQUFjLG9KQUFvSiwrQkFBK0IsNERBQTRELHdCQUF3Qix3RUFBd0UsZ0JBQWdCLHdCQUF3QiwyREFBMkQsZ0JBQWdCLHlGQUF5RixTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw2RUFBNkUsUUFBUSxFQUFFLGlCQUFpQixzSUFBc0ksU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixLQUFLLDhEQUE4RCxzQkFBc0IsWUFBWSwwQkFBMEIsNkRBQTZELDhDQUE4QyxXQUFXLHFHQUFxRyxVQUFVLFlBQVksZ0JBQWdCLEtBQUssMEdBQTBHLHVFQUF1RSxTQUFTLDBCQUEwQixTQUFTLFlBQVksMERBQTBELFVBQVUsWUFBWSxnQkFBZ0IsMEVBQTBFLFNBQVMsK0JBQStCLDREQUE0RCwyYUFBMmEsZ0JBQWdCLHdCQUF3QixnUEFBZ1Asc0JBQXNCLHlDQUF5QyxxREFBcUQsdUJBQXVCLDRGQUE0RiwrQ0FBK0Msb0JBQW9CLDZGQUE2Riw2Q0FBNkMsbUJBQW1CLCtGQUErRixpREFBaUQscUJBQXFCLCtGQUErRixxV0FBcVcsNEJBQTRCLDhDQUE4QywyREFBMkQsMEJBQTBCLDRDQUE0QywrRkFBK0YsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtFQUErRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sNEJBQTRCLE1BQU0sMEZBQTBGLE1BQU0sc0hBQXNILFFBQVEsb0NBQW9DLHdDQUF3QyxNQUFNLDRHQUE0RyxRQUFRLGtDQUFrQyxzQ0FBc0MsTUFBTSwwSUFBMEksTUFBTSxrSUFBa0ksTUFBTSxpSUFBaUksTUFBTSx1SUFBdUksTUFBTSxvRUFBb0UsTUFBTSw4RUFBOEUsTUFBTSw0QkFBNEIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLHlHQUF5Ryx1REFBdUQsbUVBQW1FLFlBQVksc0JBQXNCLDBFQUEwRSxtRUFBbUUsK0VBQStFLFFBQVEsNEJBQTRCLHdGQUF3RiwrREFBK0QsMkVBQTJFLFFBQVEsMEJBQTBCLG9GQUFvRix5REFBeUQscUVBQXFFLFFBQVEsdUJBQXVCLDJGQUEyRixtREFBbUQsK0RBQStELFFBQVEsb0JBQW9CLHlGQUF5RixpREFBaUQsNkRBQTZELFFBQVEsbUJBQW1CLDBGQUEwRixxREFBcUQsaUVBQWlFLFFBQVEscUJBQXFCLDRGQUE0RixNQUFNLHdIQUF3SCx1SkFBdUosd0dBQXdHLDBCQUEwQiwrREFBK0QsZ0RBQWdELHNHQUFzRyxtSEFBbUgsZ0JBQWdCLFlBQVksc0JBQXNCLDRDQUE0Qyx1QkFBdUIsK0hBQStILHNCQUFzQixRQUFRLDRCQUE0QixrREFBa0QscUJBQXFCLDJIQUEySCxvQkFBb0IsUUFBUSwwQkFBMEIsOENBQThDLGtCQUFrQixxSEFBcUgsaUJBQWlCLFFBQVEsdUJBQXVCLEtBQUssMEhBQTBILGlGQUFpRixlQUFlLCtHQUErRyxjQUFjLFFBQVEsb0JBQW9CLEtBQUssb0hBQW9ILCtFQUErRSxjQUFjLDZHQUE2RyxhQUFhLFFBQVEsbUJBQW1CLEtBQUssa0hBQWtILGdGQUFnRixnQkFBZ0IsaUhBQWlILGVBQWUsUUFBUSxxQkFBcUIsS0FBSyxzSEFBc0gsa0ZBQWtGLG9CQUFvQiwrR0FBK0csOERBQThELDJCQUEyQiw2SEFBNkgsK0VBQStFLHFEQUFxRCwwQkFBMEIsU0FBUyxZQUFZLG1ZQUFtWSxnQkFBZ0IsWUFBWSxzQkFBc0Isb0NBQW9DLHdDQUF3QyxpQkFBaUIsUUFBUSx1QkFBdUIsb0ZBQW9GLGtDQUFrQyxjQUFjLFFBQVEsb0JBQW9CLGtGQUFrRixnQ0FBZ0MsYUFBYSxRQUFRLG1CQUFtQixtRkFBbUYsb0NBQW9DLGVBQWUsUUFBUSxxQkFBcUIscUZBQXFGLDZTQUE2UyxzQkFBc0IsUUFBUSw0QkFBNEIsZ0RBQWdELDhDQUE4QyxvQkFBb0IsUUFBUSwwQkFBMEIsNENBQTRDLHlFQUF5RSwrQkFBK0IsNERBQTRELHlYQUF5WCxnQkFBZ0Isd0JBQXdCLDZJQUE2SSxpQkFBaUIsMkZBQTJGLG1EQUFtRCxzQkFBc0IsMkZBQTJGLCtDQUErQyxvQkFBb0IsNkZBQTZGLDJEQUEyRCwwQkFBMEIsOEdBQThHLGlEQUFpRCxxQkFBcUIsK0ZBQStGLDJMQUEyTCxxQkFBcUIsK0ZBQStGLHlEQUF5RCx5QkFBeUIsNEdBQTRHLHVEQUF1RCx3QkFBd0IsMkNBQTJDLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDJFQUEyRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUhBQXVILE1BQU0sdUlBQXVJLE1BQU0sc0lBQXNJLE1BQU0sa0lBQWtJLE1BQU0scUtBQXFLLE1BQU0sdUlBQXVJLE1BQU0sdUVBQXVFLE1BQU0sZ0tBQWdLLE1BQU0sbUdBQW1HLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Riw2Q0FBNkMseURBQXlELFlBQVksaUJBQWlCLG9GQUFvRixxREFBcUQsaUVBQWlFLFFBQVEscUJBQXFCLDRGQUE0Rix1REFBdUQsbUVBQW1FLFFBQVEsc0JBQXNCLHlGQUF5RixtREFBbUQsK0RBQStELFFBQVEsb0JBQW9CLHlGQUF5RiwrREFBK0QsMkVBQTJFLFFBQVEsMEJBQTBCLGdIQUFnSCxxREFBcUQsaUVBQWlFLFFBQVEscUJBQXFCLDRGQUE0RiwySEFBMkgsNkRBQTZELHlFQUF5RSxjQUFjLHlCQUF5Qiw2R0FBNkcsMkRBQTJELHVFQUF1RSxRQUFRLHdCQUF3Qiw4RUFBOEUsWUFBWSwwQkFBMEIsMkRBQTJELDRDQUE0QyxrREFBa0QscUdBQXFHLFdBQVcsWUFBWSxpQkFBaUIsS0FBSywwR0FBMEcsMEVBQTBFLGdCQUFnQiw2R0FBNkcsZUFBZSxRQUFRLHFCQUFxQixLQUFLLGtIQUFrSCxrRkFBa0YsaUJBQWlCLCtHQUErRyxnQkFBZ0IsUUFBUSxzQkFBc0IsS0FBSyxvSEFBb0gsK0VBQStFLGVBQWUsMkdBQTJHLGNBQWMsUUFBUSxvQkFBb0IsS0FBSyxnSEFBZ0gsK0VBQStFLHFCQUFxQix1SEFBdUgsb0JBQW9CLFFBQVEsMEJBQTBCLEtBQUssNEhBQTRILHNHQUFzRyxnQkFBZ0IsNkdBQTZHLGVBQWUsUUFBUSxxQkFBcUIsS0FBSyxrSEFBa0gsa0ZBQWtGLG9CQUFvQiwyR0FBMkcsaUVBQWlFLG9CQUFvQixxSEFBcUgsbUJBQW1CLFFBQVEseUJBQXlCLEtBQUssMEhBQTBILG1HQUFtRyxtQkFBbUIsbUhBQW1ILGtCQUFrQixRQUFRLHdCQUF3QixnREFBZ0QsU0FBUywwQkFBMEIsU0FBUyxZQUFZLGlSQUFpUixXQUFXLFlBQVksaUJBQWlCLDZFQUE2RSxzQ0FBc0MsZ0JBQWdCLFFBQVEsc0JBQXNCLGtGQUFrRixrQ0FBa0MsY0FBYyxRQUFRLG9CQUFvQixrRkFBa0YsOENBQThDLG9CQUFvQixRQUFRLDBCQUEwQix5R0FBeUcsb0NBQW9DLGVBQWUsUUFBUSxxQkFBcUIscUZBQXFGLHFKQUFxSixlQUFlLFFBQVEscUJBQXFCLHFGQUFxRiw0Q0FBNEMsbUJBQW1CLFFBQVEseUJBQXlCLHNHQUFzRywwQ0FBMEMsa0JBQWtCLFFBQVEsd0JBQXdCLHdDQUF3QyxTQUFTLCtCQUErQiw0REFBNEQsdUdBQXVHLGdCQUFnQix3QkFBd0IsdVVBQXVVLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywwRkFBMEYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLDhFQUE4RSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxtR0FBbUcsMkZBQTJGLGlEQUFpRCw0REFBNEQsd0JBQXdCLFlBQVksMEJBQTBCLDBFQUEwRSwyREFBMkQsb0ZBQW9GLDBIQUEwSCx3RUFBd0UsU0FBUywwQkFBMEIsU0FBUyxjQUFjLHlSQUF5UiwrQkFBK0IsNERBQTRELGdGQUFnRixnQkFBZ0Isd0JBQXdCLHNMQUFzTCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MseUZBQXlGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixzT0FBc08sMEJBQTBCLE1BQU0sZ01BQWdNLDBCQUEwQixTQUFTLGNBQWMsa0pBQWtKLCtCQUErQiw0REFBNEQsa0dBQWtHLGdCQUFnQix3QkFBd0IseUZBQXlGLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsaUZBQWlGLFFBQVEsRUFBRSxpQkFBaUIsb01BQW9NLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLGlFQUFpRSxrREFBa0QsMEJBQTBCLHVJQUF1SSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyw0SUFBNEkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSx1R0FBdUcseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQscVRBQXFULGdCQUFnQix3QkFBd0IsaWpDQUFpakMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGdGQUFnRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMEJBQTBCLE1BQU0seUJBQXlCLE1BQU0sd0JBQXdCLE1BQU0sNkJBQTZCLE1BQU0sNkJBQTZCLE1BQU0saUNBQWlDLE1BQU0sOEJBQThCLE1BQU0sOEJBQThCLE1BQU0scUVBQXFFLE1BQU0sa0NBQWtDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Rix1R0FBdUcsNERBQTRELDJDQUEyQyxzQkFBc0IseURBQXlELDBDQUEwQyx3SUFBd0ksNkdBQTZHLDZHQUE2Ryw2SEFBNkgsdUhBQXVILDZHQUE2RyxpREFBaUQsdURBQXVELHdCQUF3Qiw4SUFBOEksMEJBQTBCLGdFQUFnRSxpREFBaUQsNEZBQTRGLHNDQUFzQyxNQUFNLHNDQUFzQyxNQUFNLHNDQUFzQyxlQUFlLGtDQUFrQyxNQUFNLGlDQUFpQyxNQUFNLGlDQUFpQyxNQUFNLGtDQUFrQyxNQUFNLGlDQUFpQyxNQUFNLG1DQUFtQyxNQUFNLG1DQUFtQyxNQUFNLGdDQUFnQyxNQUFNLGtDQUFrQyxNQUFNLG1DQUFtQyxNQUFNLHFDQUFxQyxNQUFNLG1DQUFtQyxNQUFNLG9DQUFvQyxNQUFNLGtDQUFrQyxNQUFNLHNDQUFzQyxNQUFNLHNDQUFzQyxNQUFNLG9DQUFvQyxNQUFNLG9DQUFvQywwUkFBMFIsZ0hBQWdILCtEQUErRCw4RUFBOEUsMEJBQTBCLFNBQVMsY0FBYyw4cUNBQThxQywrQkFBK0IsNERBQTRELGFBQWEsb2VBQW9lLHFNQUFxTSxnQkFBZ0Isd0JBQXdCLGlQQUFpUCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsZ0ZBQWdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSxxRUFBcUUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLGlEQUFpRCxtREFBbUQsd0JBQXdCLFlBQVksMEJBQTBCLGdFQUFnRSxpREFBaUQsMERBQTBELGdIQUFnSCwrREFBK0QsU0FBUywwQkFBMEIsU0FBUyxjQUFjLGdOQUFnTiwrQkFBK0IsNERBQTRELHlNQUF5TSxnQkFBZ0Isd0JBQXdCLDZJQUE2SSxpQkFBaUIsK0ZBQStGLGdNQUFnTSx5QkFBeUIsb0hBQW9ILHVEQUF1RCx3QkFBd0IsMkNBQTJDLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtFQUErRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMkhBQTJILE1BQU0sb0VBQW9FLE1BQU0sd0tBQXdLLE1BQU0sa0dBQWtHLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Riw2Q0FBNkMseURBQXlELFlBQVksaUJBQWlCLHdGQUF3Rix3SEFBd0gsNkRBQTZELHlFQUF5RSxjQUFjLHlCQUF5QixxSEFBcUgsMkRBQTJELHVFQUF1RSxRQUFRLHdCQUF3Qiw4RUFBOEUsWUFBWSwwQkFBMEIsK0RBQStELGdEQUFnRCxrREFBa0QseUdBQXlHLFdBQVcsWUFBWSxpQkFBaUIsS0FBSyw4R0FBOEcsOEVBQThFLG9CQUFvQiwrR0FBK0csOERBQThELG9CQUFvQix5SEFBeUgsbUJBQW1CLFFBQVEseUJBQXlCLEtBQUssOEhBQThILDJHQUEyRyxtQkFBbUIsdUhBQXVILGtCQUFrQixRQUFRLHdCQUF3QixnREFBZ0QsU0FBUywwQkFBMEIsU0FBUyxZQUFZLGlNQUFpTSxXQUFXLFlBQVksaUJBQWlCLGlGQUFpRiwwSkFBMEosbUJBQW1CLFFBQVEseUJBQXlCLDhHQUE4RywwQ0FBMEMsa0JBQWtCLFFBQVEsd0JBQXdCLHdDQUF3QyxTQUFTLCtCQUErQiw0REFBNEQsaUZBQWlGLGdCQUFnQix3QkFBd0Isc0xBQXNMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpR0FBaUcsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHNPQUFzTywwQkFBMEIsTUFBTSxnTkFBZ04sMEJBQTBCLFNBQVMsY0FBYyxrSkFBa0osK0JBQStCLDREQUE0RCwwSEFBMEgsZ0JBQWdCLHdCQUF3QiwwVUFBMFUsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLG9GQUFvRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMEJBQTBCLE1BQU0seUVBQXlFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Rix1R0FBdUcsaURBQWlELHVEQUF1RCx3QkFBd0IsWUFBWSwwQkFBMEIsb0VBQW9FLHFEQUFxRCxnR0FBZ0csb0hBQW9ILG1FQUFtRSxTQUFTLDBCQUEwQixTQUFTLGNBQWMsK1JBQStSLCtCQUErQiw0REFBNEQsZ0lBQWdJLGdCQUFnQix3QkFBd0IsK0lBQStJLGtCQUFrQiw2RkFBNkYsbUpBQW1KLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxrRkFBa0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDRIQUE0SCxNQUFNLHVFQUF1RSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsK0NBQStDLDJEQUEyRCxZQUFZLGtCQUFrQix1RkFBdUYsTUFBTSwySEFBMkgsWUFBWSwwQkFBMEIsa0VBQWtFLG1EQUFtRCxtREFBbUQsOEdBQThHLFlBQVksWUFBWSxrQkFBa0IsS0FBSyxtSEFBbUgsNkVBQTZFLG9CQUFvQixrSEFBa0gsaUVBQWlFLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwrSkFBK0osWUFBWSxZQUFZLGtCQUFrQixnRkFBZ0YsMEhBQTBILCtCQUErQiw0REFBNEQsZ05BQWdOLGdCQUFnQix3QkFBd0IsaXBCQUFpcEIsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlGQUFpRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sOEJBQThCLE1BQU0sK0JBQStCLE1BQU0sc0VBQXNFLE1BQU0sa0NBQWtDLE1BQU0sa0NBQWtDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixpSEFBaUgscUhBQXFILGlEQUFpRCx3REFBd0Qsd0JBQXdCLHdSQUF3UiwwQkFBMEIsaUVBQWlFLGtEQUFrRCx1S0FBdUssaUhBQWlILGdFQUFnRSx5SkFBeUosMEJBQTBCLFNBQVMsY0FBYyw4bkJBQThuQiwrQkFBK0IsNERBQTRELG1zQkFBbXNCLGdCQUFnQix3QkFBd0Isa3pFQUFrekUsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx1RUFBdUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLGdDQUFnQyxNQUFNLHVDQUF1QyxNQUFNLHFDQUFxQyxNQUFNLDZDQUE2QyxNQUFNLHVDQUF1QyxNQUFNLCtCQUErQixNQUFNLCtCQUErQixNQUFNLHFDQUFxQyxNQUFNLHVDQUF1QyxNQUFNLHFDQUFxQyxNQUFNLHNDQUFzQyxNQUFNLDhCQUE4QixNQUFNLGtDQUFrQyxNQUFNLHFDQUFxQyxNQUFNLHFDQUFxQyxNQUFNLGlDQUFpQyxNQUFNLG9DQUFvQyxNQUFNLGtDQUFrQyxNQUFNLDBDQUEwQyxNQUFNLGlDQUFpQyxNQUFNLGdMQUFnTCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx5SEFBeUgscUpBQXFKLHVKQUF1Six1TEFBdUwsK0pBQStKLDhFQUE4RSxpREFBaUQsc0JBQXNCLGlIQUFpSCx1SkFBdUosK0pBQStKLHVKQUF1SiwySkFBMkosMkhBQTJILDJJQUEySSx5SUFBeUkseUlBQXlJLHlIQUF5SCxxSUFBcUksNkhBQTZILDZKQUE2Six5SEFBeUgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsdURBQXVELHdDQUF3Qyx5YUFBeWEsbUNBQW1DLE1BQU0sdUNBQXVDLE1BQU0sMENBQTBDLDArQkFBMCtCLDZIQUE2SCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxrSUFBa0kscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwybEZBQTJsRix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxxQkFBcUIsaVRBQWlULGdCQUFnQix3QkFBd0Isc2lCQUFzaUIsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywwRUFBMEUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHVDQUF1QyxNQUFNLCtDQUErQyxNQUFNLDZCQUE2QixNQUFNLDJCQUEyQixNQUFNLGdMQUFnTCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxtS0FBbUssbU1BQW1NLDJIQUEySCxtSEFBbUgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsMERBQTBELDJDQUEyQyw0VUFBNFUsZ0lBQWdJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLHFJQUFxSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHVuQkFBdW5CLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHVOQUF1TixnQkFBZ0Isd0JBQXdCLCtrQkFBK2tCLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0VBQXdFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx5QkFBeUIsTUFBTSwwQkFBMEIsTUFBTSx1QkFBdUIsTUFBTSw2QkFBNkIsTUFBTSx3QkFBd0IsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNERBQTRELDJDQUEyQyxzQkFBc0IsMkdBQTJHLCtEQUErRCw0Q0FBNEMsc0JBQXNCLG1HQUFtRywySEFBMkgsbUdBQW1HLHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLHdEQUF3RCx5Q0FBeUMsZ0JBQWdCLDhCQUE4QixNQUFNLDRCQUE0QixNQUFNLG9DQUFvQyw4REFBOEQsa0NBQWtDLE1BQU0sa0NBQWtDLE1BQU0sa0NBQWtDLGlLQUFpSyw4SEFBOEgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssbUlBQW1JLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksNnVCQUE2dUIseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQsY0FBYyxrR0FBa0csOEtBQThLLGdCQUFnQix3QkFBd0IseUZBQXlGLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0VBQXdFLFFBQVEsRUFBRSxpQkFBaUIsb01BQW9NLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLHdEQUF3RCx5Q0FBeUMsMEJBQTBCLDhIQUE4SCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxtSUFBbUkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSx1R0FBdUcseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQseUlBQXlJLGdCQUFnQix3QkFBd0IseVJBQXlSLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsdUVBQXVFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSw2QkFBNkIsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILDJIQUEySCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix1REFBdUQsd0NBQXdDLDRJQUE0SSw2SEFBNkgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssa0lBQWtJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVkscVRBQXFULHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELG9IQUFvSCxnQkFBZ0Isd0JBQXdCLHdMQUF3TCwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDRFQUE0RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQiw0REFBNEQsNkNBQTZDLG1GQUFtRixrSUFBa0kseUJBQXlCLFlBQVksK0JBQStCLEtBQUssdUlBQXVJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVkscU5BQXFOLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHNNQUFzTSxnQkFBZ0Isd0JBQXdCLDBMQUEwTCwrQkFBK0IsMEdBQTBHLDJTQUEyUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw4QkFBOEIsTUFBTSxnTEFBZ0wsTUFBTSxrREFBa0QsTUFBTSxrREFBa0QsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLHdWQUF3ViwwQkFBMEIsMERBQTBELDJDQUEyQyxtRkFBbUYsZ0lBQWdJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLHFJQUFxSSxxR0FBcUcseU5BQXlOLDBCQUEwQixTQUFTLFlBQVkscVJBQXFSLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csbVNBQW1TLCtCQUErQiw0REFBNEQsbVNBQW1TLGdCQUFnQix3QkFBd0IsOFNBQThTLCtCQUErQiwwR0FBMEcsNlRBQTZULDBDQUEwQywrREFBK0QsZ0xBQWdMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx5RUFBeUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDhCQUE4QixNQUFNLHFDQUFxQyxNQUFNLGdMQUFnTCxNQUFNLHlHQUF5RyxNQUFNLCtFQUErRSxNQUFNLDZLQUE2SyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwySEFBMkgsNkZBQTZGLHNEQUFzRCxzQkFBc0IseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQiwrR0FBK0csTUFBTSwyT0FBMk8sMEpBQTBKLDRGQUE0Rix3R0FBd0csUUFBUSwwQ0FBMEMsK0dBQStHLFlBQVksMEJBQTBCLHlEQUF5RCwwQ0FBMEMsb0ZBQW9GLHNEQUFzRCxNQUFNLGtEQUFrRCxNQUFNLDZDQUE2QywwQkFBMEIsK0hBQStILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLG9JQUFvSSxxR0FBcUcsaURBQWlELGdLQUFnSyw2SEFBNkgsZ0NBQWdDLDhIQUE4SCw4RUFBOEUscUNBQXFDLGtKQUFrSixvQ0FBb0MsUUFBUSwwQ0FBMEMsb0ZBQW9GLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwwakJBQTBqQix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLGtUQUFrVCxvQ0FBb0MsUUFBUSwwQ0FBMEMsNEVBQTRFLDRKQUE0SiwrQkFBK0IsNERBQTRELHlCQUF5QixrYkFBa2IsZ0JBQWdCLHdCQUF3QiwyREFBMkQsZ0JBQWdCLGtHQUFrRyx3cEJBQXdwQixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0VBQStFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYywySEFBMkgsTUFBTSxvQ0FBb0MsTUFBTSxxQ0FBcUMsTUFBTSxvQ0FBb0MsTUFBTSxnQ0FBZ0MsTUFBTSwrQkFBK0IsTUFBTSxtQ0FBbUMsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixLQUFLLHVFQUF1RSxzQkFBc0IsNC9CQUE0L0IsMEJBQTBCLCtEQUErRCxnREFBZ0QsV0FBVyx1R0FBdUcsVUFBVSxZQUFZLGdCQUFnQixLQUFLLDRHQUE0RyxnRkFBZ0Ysa3NDQUFrc0MsMEJBQTBCLFdBQVcsWUFBWSxvaUJBQW9pQixVQUFVLFlBQVksZ0JBQWdCLG1GQUFtRix5ekNBQXl6QywrQkFBK0IsNERBQTRELHFGQUFxRixnQkFBZ0Isd0JBQXdCLHlGQUF5RixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0ZBQXdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSw4QkFBOEIsTUFBTSx5QkFBeUIsc0ZBQXNGLFdBQVcsRUFBRSw0Q0FBNEMsd0RBQXdELFdBQVcsRUFBRSwrQkFBK0IsOERBQThELHNCQUFzQiw2S0FBNkssMEJBQTBCLE1BQU0sNE9BQTRPLDBCQUEwQixTQUFTLGNBQWMsMk1BQTJNLCtCQUErQiw0REFBNEQsZ0ZBQWdGLGdCQUFnQix3QkFBd0IsbUVBQW1FLG9CQUFvQixpR0FBaUcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsMEpBQTBKLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELG1EQUFtRCwrREFBK0QsWUFBWSxvQkFBb0IsS0FBSyxzRUFBc0UsMEJBQTBCLFlBQVksMEJBQTBCLDBEQUEwRCwyQ0FBMkMsZUFBZSwwR0FBMEcsY0FBYyxZQUFZLG9CQUFvQixLQUFLLCtHQUErRyxtRkFBbUYsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHNFQUFzRSxjQUFjLFlBQVksb0JBQW9CLHNGQUFzRixTQUFTLCtCQUErQiw0REFBNEQsOE1BQThNLGdCQUFnQix3QkFBd0IsZ0RBQWdELG9CQUFvQixZQUFZLGdCQUFnQix1QkFBdUIsV0FBVyxnQ0FBZ0Msb0JBQW9CLFFBQVEsZ0JBQWdCLHVCQUF1QixXQUFXLGtUQUFrVCxtQ0FBbUMsc0RBQXNELFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLG1GQUFtRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsaUZBQWlGLFFBQVEsd0JBQXdCLDRCQUE0QixNQUFNLDZFQUE2RSxRQUFRLHdCQUF3Qiw0QkFBNEIsTUFBTSxvQ0FBb0MsTUFBTSxxQ0FBcUMsTUFBTSw4SUFBOEksTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixnRUFBZ0UsMkNBQTJDLHVEQUF1RCxRQUFRLGdCQUFnQixnRUFBZ0UseUlBQXlJLDZJQUE2SSxpRkFBaUYsNkZBQTZGLFFBQVEsbUNBQW1DLG9HQUFvRyxZQUFZLDBCQUEwQixtRUFBbUUsb0RBQW9ELFdBQVcsMkdBQTJHLFVBQVUsWUFBWSxnQkFBZ0IsMEJBQTBCLFdBQVcsMkdBQTJHLFVBQVUsUUFBUSxnQkFBZ0IsMEJBQTBCLCtLQUErSyxpSkFBaUosNkJBQTZCLFFBQVEsbUNBQW1DLHNFQUFzRSxTQUFTLDBCQUEwQixTQUFTLFlBQVksMEpBQTBKLFVBQVUsWUFBWSxnQkFBZ0Isd0JBQXdCLDBCQUEwQixVQUFVLFFBQVEsZ0JBQWdCLHdCQUF3Qiw0UUFBNFEsNkJBQTZCLFFBQVEsbUNBQW1DLDhEQUE4RCxTQUFTLCtCQUErQiw0REFBNEQscUZBQXFGLGdCQUFnQix3QkFBd0IsdUVBQXVFLHNCQUFzQix3R0FBd0csU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsNkVBQTZFLFFBQVEsRUFBRSxpQkFBaUIsdUtBQXVLLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHVEQUF1RCxtRUFBbUUsWUFBWSxzQkFBc0IsS0FBSyw2RUFBNkUsNEJBQTRCLFlBQVksMEJBQTBCLDZEQUE2RCw4Q0FBOEMsaUJBQWlCLGlIQUFpSCxnQkFBZ0IsWUFBWSxzQkFBc0IsS0FBSyxzSEFBc0gsNEZBQTRGLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSw0RUFBNEUsZ0JBQWdCLFlBQVksc0JBQXNCLCtGQUErRixTQUFTLCtCQUErQiw0REFBNEQsa0lBQWtJLGdCQUFnQix3QkFBd0IsZ0RBQWdELG9CQUFvQixZQUFZLGdCQUFnQix1QkFBdUIsV0FBVyx5UUFBeVEsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdGQUF3RixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsaUZBQWlGLFFBQVEsd0JBQXdCLDRCQUE0QixNQUFNLCtCQUErQixNQUFNLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyQ0FBMkMsdURBQXVELFlBQVksZ0JBQWdCLGdFQUFnRSxvU0FBb1MsMEJBQTBCLHdFQUF3RSx5REFBeUQsV0FBVyxnSEFBZ0gsVUFBVSxZQUFZLGdCQUFnQiwwQkFBMEIsaUlBQWlJLDBCQUEwQixTQUFTLFlBQVksMEdBQTBHLFVBQVUsWUFBWSxnQkFBZ0Isd0JBQXdCLHlNQUF5TSwrQkFBK0IsNERBQTRELDZGQUE2RixnQkFBZ0Isd0JBQXdCLHVNQUF1TSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0RBQStELFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSx5QkFBeUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixrU0FBa1MsMEJBQTBCLE1BQU0sbVJBQW1SLDBCQUEwQixTQUFTLGNBQWMsMFdBQTBXLCtCQUErQiw0REFBNEQsOEdBQThHLGdCQUFnQix3QkFBd0Isa01BQWtNLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxvRUFBb0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDJCQUEyQixNQUFNLHlCQUF5QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLGlVQUFpVSwwQkFBMEIsTUFBTSwwWkFBMFosMEJBQTBCLFdBQVcsY0FBYywrZkFBK2YsK0JBQStCLDREQUE0RCxrQ0FBa0MsZ0JBQWdCLHdCQUF3Qix1QkFBdUIsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlFQUFpRSxRQUFRLEVBQUUsaUJBQWlCLGdCQUFnQixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLDBEQUEwRCwwQkFBMEIsMEVBQTBFLHVCQUF1QixTQUFTLCtCQUErQiw0REFBNEQsbUJBQW1CLDBHQUEwRyxnQkFBZ0Isd0JBQXdCLHdPQUF3TyxtQkFBbUIsNEVBQTRFLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDZEQUE2RCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsd0JBQXdCLE1BQU0sNEJBQTRCLE1BQU0sOEdBQThHLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELCtGQUErRix5R0FBeUcsaURBQWlELDZEQUE2RCxZQUFZLG1CQUFtQixLQUFLLGlEQUFpRCx5QkFBeUIsWUFBWSwwQkFBMEIsNkNBQTZDLDhCQUE4Qiw2RkFBNkYsMkZBQTJGLGFBQWEsWUFBWSxtQkFBbUIsS0FBSyxnR0FBZ0csNkRBQTZELFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxtT0FBbU8sYUFBYSxZQUFZLG1CQUFtQixnRUFBZ0UsU0FBUywrQkFBK0IsNERBQTRELFlBQVkiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3Byb3Rvcy9vcGVyYXRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihlPT57XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJwcm90b2J1ZmpzL21pbmltYWxcIl0sZSk6XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPWUocmVxdWlyZShcInByb3RvYnVmanMvbWluaW1hbFwiKSkpfSkoZnVuY3Rpb24obyl7dmFyIGUsdCxuLEYsYT1vLlJlYWRlcixyPW8uV3JpdGVyLGk9by51dGlsLHA9by5yb290cy5vcGVyYXRpb25zX3Byb3Rvc3x8KG8ucm9vdHMub3BlcmF0aW9uc19wcm90b3M9e30pO2Z1bmN0aW9uIEcoZSx0LG4pe28ucnBjLlNlcnZpY2UuY2FsbCh0aGlzLGUsdCxuKX1mdW5jdGlvbiBsKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBCKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBzKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB1KGUpe2lmKHRoaXMub3BlcmF0aW9ucz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gTChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gYyhlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZyhlKXtpZih0aGlzLnJ1bGVzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBmKGUpe2lmKHRoaXMuYWRkaXRpb25hbEJpbmRpbmdzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB5KGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBKKGUpe2lmKHRoaXMuZmlsZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gaChlKXtpZih0aGlzLmRlcGVuZGVuY3k9W10sdGhpcy5wdWJsaWNEZXBlbmRlbmN5PVtdLHRoaXMud2Vha0RlcGVuZGVuY3k9W10sdGhpcy5tZXNzYWdlVHlwZT1bXSx0aGlzLmVudW1UeXBlPVtdLHRoaXMuc2VydmljZT1bXSx0aGlzLmV4dGVuc2lvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gTyhlKXtpZih0aGlzLmZpZWxkPVtdLHRoaXMuZXh0ZW5zaW9uPVtdLHRoaXMubmVzdGVkVHlwZT1bXSx0aGlzLmVudW1UeXBlPVtdLHRoaXMuZXh0ZW5zaW9uUmFuZ2U9W10sdGhpcy5vbmVvZkRlY2w9W10sdGhpcy5yZXNlcnZlZFJhbmdlPVtdLHRoaXMucmVzZXJ2ZWROYW1lPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBiKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBtKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBNKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gdihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gdyhlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gUChlKXtpZih0aGlzLnZhbHVlPVtdLHRoaXMucmVzZXJ2ZWRSYW5nZT1bXSx0aGlzLnJlc2VydmVkTmFtZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gXyhlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gaihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gUyhlKXtpZih0aGlzLm1ldGhvZD1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24geChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gayhlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEQoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBUKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSChlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEUoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB6KGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gQShlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIE4oZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLHRoaXNbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEkoZSl7aWYodGhpcy5uYW1lPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBxKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBZKGUpe2lmKHRoaXMubG9jYXRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFIoZSl7aWYodGhpcy5wYXRoPVtdLHRoaXMuc3Bhbj1bXSx0aGlzLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBXKGUpe2lmKHRoaXMuYW5ub3RhdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gQyhlKXtpZih0aGlzLnBhdGg9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFgoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEsoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFEoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFYoZSl7aWYodGhpcy5kZXRhaWxzPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1yZXR1cm4gcC5nb29nbGU9KChGPXt9KS5sb25ncnVubmluZz0oKHQ9e30pLk9wZXJhdGlvbnM9KCgoRy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnJwYy5TZXJ2aWNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPUcpLmNyZWF0ZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyB0aGlzKGUsdCxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEcucHJvdG90eXBlLmxpc3RPcGVyYXRpb25zPWZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gdGhpcy5ycGNDYWxsKGUscC5nb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXF1ZXN0LHAuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVzcG9uc2UsdCxuKX0sXCJuYW1lXCIse3ZhbHVlOlwiTGlzdE9wZXJhdGlvbnNcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHLnByb3RvdHlwZS5nZXRPcGVyYXRpb249ZnVuY3Rpb24gZSh0LG4pe3JldHVybiB0aGlzLnJwY0NhbGwoZSxwLmdvb2dsZS5sb25ncnVubmluZy5HZXRPcGVyYXRpb25SZXF1ZXN0LHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbix0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJHZXRPcGVyYXRpb25cIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHLnByb3RvdHlwZS5kZWxldGVPcGVyYXRpb249ZnVuY3Rpb24gZSh0LG4pe3JldHVybiB0aGlzLnJwY0NhbGwoZSxwLmdvb2dsZS5sb25ncnVubmluZy5EZWxldGVPcGVyYXRpb25SZXF1ZXN0LHAuZ29vZ2xlLnByb3RvYnVmLkVtcHR5LHQsbil9LFwibmFtZVwiLHt2YWx1ZTpcIkRlbGV0ZU9wZXJhdGlvblwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEcucHJvdG90eXBlLmNhbmNlbE9wZXJhdGlvbj1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHRoaXMucnBjQ2FsbChlLHAuZ29vZ2xlLmxvbmdydW5uaW5nLkNhbmNlbE9wZXJhdGlvblJlcXVlc3QscC5nb29nbGUucHJvdG9idWYuRW1wdHksdCxuKX0sXCJuYW1lXCIse3ZhbHVlOlwiQ2FuY2VsT3BlcmF0aW9uXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRy5wcm90b3R5cGUud2FpdE9wZXJhdGlvbj1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHRoaXMucnBjQ2FsbChlLHAuZ29vZ2xlLmxvbmdydW5uaW5nLldhaXRPcGVyYXRpb25SZXF1ZXN0LHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbix0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJXYWl0T3BlcmF0aW9uXCJ9KSxHKSx0Lk9wZXJhdGlvbj0obC5wcm90b3R5cGUubmFtZT1cIlwiLGwucHJvdG90eXBlLm1ldGFkYXRhPW51bGwsbC5wcm90b3R5cGUuZG9uZT0hMSxsLnByb3RvdHlwZS5lcnJvcj1udWxsLGwucHJvdG90eXBlLnJlc3BvbnNlPW51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KGwucHJvdG90eXBlLFwicmVzdWx0XCIse2dldDppLm9uZU9mR2V0dGVyKG49W1wiZXJyb3JcIixcInJlc3BvbnNlXCJdKSxzZXQ6aS5vbmVPZlNldHRlcihuKX0pLGwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbChlKX0sbC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLm1ldGFkYXRhJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWV0YWRhdGFcIikmJnAuZ29vZ2xlLnByb3RvYnVmLkFueS5lbmNvZGUoZS5tZXRhZGF0YSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLmRvbmUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkb25lXCIpJiZ0LnVpbnQzMigyNCkuYm9vbChlLmRvbmUpLG51bGwhPWUuZXJyb3ImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlcnJvclwiKSYmcC5nb29nbGUucnBjLlN0YXR1cy5lbmNvZGUoZS5lcnJvcix0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnJlc3BvbnNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzcG9uc2VcIikmJnAuZ29vZ2xlLnByb3RvYnVmLkFueS5lbmNvZGUoZS5yZXNwb25zZSx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKSx0fSxsLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxsLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ubWV0YWRhdGE9cC5nb29nbGUucHJvdG9idWYuQW55LmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpvLmRvbmU9ZS5ib29sKCk7YnJlYWs7Y2FzZSA0Om8uZXJyb3I9cC5nb29nbGUucnBjLlN0YXR1cy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDU6by5yZXNwb25zZT1wLmdvb2dsZS5wcm90b2J1Zi5BbnkuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxsLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxsLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjt2YXIgdCxuPXt9O2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1ldGFkYXRhJiZlLmhhc093blByb3BlcnR5KFwibWV0YWRhdGFcIikmJih0PXAuZ29vZ2xlLnByb3RvYnVmLkFueS52ZXJpZnkoZS5tZXRhZGF0YSkpKXJldHVyblwibWV0YWRhdGEuXCIrdDtpZihudWxsIT1lLmRvbmUmJmUuaGFzT3duUHJvcGVydHkoXCJkb25lXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZG9uZSlyZXR1cm5cImRvbmU6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmVycm9yJiZlLmhhc093blByb3BlcnR5KFwiZXJyb3JcIikmJihuLnJlc3VsdD0xLHQ9cC5nb29nbGUucnBjLlN0YXR1cy52ZXJpZnkoZS5lcnJvcikpKXJldHVyblwiZXJyb3IuXCIrdDtpZihudWxsIT1lLnJlc3BvbnNlJiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VcIikpe2lmKDE9PT1uLnJlc3VsdClyZXR1cm5cInJlc3VsdDogbXVsdGlwbGUgdmFsdWVzXCI7aWYobi5yZXN1bHQ9MSx0PXAuZ29vZ2xlLnByb3RvYnVmLkFueS52ZXJpZnkoZS5yZXNwb25zZSkpcmV0dXJuXCJyZXNwb25zZS5cIit0fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbilyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5tZXRhZGF0YSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubWV0YWRhdGEpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24ubWV0YWRhdGE6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1ldGFkYXRhPXAuZ29vZ2xlLnByb3RvYnVmLkFueS5mcm9tT2JqZWN0KGUubWV0YWRhdGEpfWlmKG51bGwhPWUuZG9uZSYmKHQuZG9uZT1Cb29sZWFuKGUuZG9uZSkpLG51bGwhPWUuZXJyb3Ipe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmVycm9yKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uLmVycm9yOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5lcnJvcj1wLmdvb2dsZS5ycGMuU3RhdHVzLmZyb21PYmplY3QoZS5lcnJvcil9aWYobnVsbCE9ZS5yZXNwb25zZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucmVzcG9uc2UpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24ucmVzcG9uc2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LnJlc3BvbnNlPXAuZ29vZ2xlLnByb3RvYnVmLkFueS5mcm9tT2JqZWN0KGUucmVzcG9uc2UpfXJldHVybiB0fSxsLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5tZXRhZGF0YT1udWxsLG4uZG9uZT0hMSksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUubWV0YWRhdGEmJmUuaGFzT3duUHJvcGVydHkoXCJtZXRhZGF0YVwiKSYmKG4ubWV0YWRhdGE9cC5nb29nbGUucHJvdG9idWYuQW55LnRvT2JqZWN0KGUubWV0YWRhdGEsdCkpLG51bGwhPWUuZG9uZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRvbmVcIikmJihuLmRvbmU9ZS5kb25lKSxudWxsIT1lLmVycm9yJiZlLmhhc093blByb3BlcnR5KFwiZXJyb3JcIikmJihuLmVycm9yPXAuZ29vZ2xlLnJwYy5TdGF0dXMudG9PYmplY3QoZS5lcnJvcix0KSx0Lm9uZW9mcykmJihuLnJlc3VsdD1cImVycm9yXCIpLG51bGwhPWUucmVzcG9uc2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNwb25zZVwiKSYmKG4ucmVzcG9uc2U9cC5nb29nbGUucHJvdG9idWYuQW55LnRvT2JqZWN0KGUucmVzcG9uc2UsdCksdC5vbmVvZnMpJiYobi5yZXN1bHQ9XCJyZXNwb25zZVwiKSxufSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sbCksdC5HZXRPcGVyYXRpb25SZXF1ZXN0PShCLnByb3RvdHlwZS5uYW1lPVwiXCIsQi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBCKGUpfSxCLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLHR9LEIuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEIuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLkdldE9wZXJhdGlvblJlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/by5uYW1lPWUuc3RyaW5nKCk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxCLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxCLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpP1wibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sQi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUubG9uZ3J1bm5pbmcuR2V0T3BlcmF0aW9uUmVxdWVzdD9lOih0PW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5HZXRPcGVyYXRpb25SZXF1ZXN0LG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksdCl9LEIudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG59LEIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxCKSx0Lkxpc3RPcGVyYXRpb25zUmVxdWVzdD0ocy5wcm90b3R5cGUubmFtZT1cIlwiLHMucHJvdG90eXBlLmZpbHRlcj1cIlwiLHMucHJvdG90eXBlLnBhZ2VTaXplPTAscy5wcm90b3R5cGUucGFnZVRva2VuPVwiXCIscy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBzKGUpfSxzLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5maWx0ZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJmaWx0ZXJcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5maWx0ZXIpLG51bGwhPWUucGFnZVNpemUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYWdlU2l6ZVwiKSYmdC51aW50MzIoMTYpLmludDMyKGUucGFnZVNpemUpLG51bGwhPWUucGFnZVRva2VuJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFnZVRva2VuXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUucGFnZVRva2VuKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUubmFtZSksdH0scy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0scy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSA0Om8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTpvLmZpbHRlcj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnBhZ2VTaXplPWUuaW50MzIoKTticmVhaztjYXNlIDM6by5wYWdlVG9rZW49ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHMudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSk/XCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmZpbHRlciYmZS5oYXNPd25Qcm9wZXJ0eShcImZpbHRlclwiKSYmIWkuaXNTdHJpbmcoZS5maWx0ZXIpP1wiZmlsdGVyOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnBhZ2VTaXplJiZlLmhhc093blByb3BlcnR5KFwicGFnZVNpemVcIikmJiFpLmlzSW50ZWdlcihlLnBhZ2VTaXplKT9cInBhZ2VTaXplOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5wYWdlVG9rZW4mJmUuaGFzT3duUHJvcGVydHkoXCJwYWdlVG9rZW5cIikmJiFpLmlzU3RyaW5nKGUucGFnZVRva2VuKT9cInBhZ2VUb2tlbjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0scy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXF1ZXN0P2U6KHQ9bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVxdWVzdCxudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUuZmlsdGVyJiYodC5maWx0ZXI9U3RyaW5nKGUuZmlsdGVyKSksbnVsbCE9ZS5wYWdlU2l6ZSYmKHQucGFnZVNpemU9MHxlLnBhZ2VTaXplKSxudWxsIT1lLnBhZ2VUb2tlbiYmKHQucGFnZVRva2VuPVN0cmluZyhlLnBhZ2VUb2tlbikpLHQpfSxzLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5maWx0ZXI9XCJcIixuLnBhZ2VTaXplPTAsbi5wYWdlVG9rZW49XCJcIixuLm5hbWU9XCJcIiksbnVsbCE9ZS5maWx0ZXImJmUuaGFzT3duUHJvcGVydHkoXCJmaWx0ZXJcIikmJihuLmZpbHRlcj1lLmZpbHRlciksbnVsbCE9ZS5wYWdlU2l6ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBhZ2VTaXplXCIpJiYobi5wYWdlU2l6ZT1lLnBhZ2VTaXplKSxudWxsIT1lLnBhZ2VUb2tlbiYmZS5oYXNPd25Qcm9wZXJ0eShcInBhZ2VUb2tlblwiKSYmKG4ucGFnZVRva2VuPWUucGFnZVRva2VuKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbn0scy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHMpLHQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZT0odS5wcm90b3R5cGUub3BlcmF0aW9ucz1pLmVtcHR5QXJyYXksdS5wcm90b3R5cGUubmV4dFBhZ2VUb2tlbj1cIlwiLHUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdShlKX0sdS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5vcGVyYXRpb25zJiZlLm9wZXJhdGlvbnMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5vcGVyYXRpb25zLmxlbmd0aDsrK24pcC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uLmVuY29kZShlLm9wZXJhdGlvbnNbbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5leHRQYWdlVG9rZW5cIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5uZXh0UGFnZVRva2VuKSx0fSx1LmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSx1LmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ub3BlcmF0aW9ucyYmby5vcGVyYXRpb25zLmxlbmd0aHx8KG8ub3BlcmF0aW9ucz1bXSksby5vcGVyYXRpb25zLnB1c2gocC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDI6by5uZXh0UGFnZVRva2VuPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx1LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx1LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wZXJhdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcGVyYXRpb25zXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm9wZXJhdGlvbnMpKXJldHVyblwib3BlcmF0aW9uczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUub3BlcmF0aW9ucy5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24udmVyaWZ5KGUub3BlcmF0aW9uc1t0XSk7aWYobilyZXR1cm5cIm9wZXJhdGlvbnMuXCIrbn19cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmZS5oYXNPd25Qcm9wZXJ0eShcIm5leHRQYWdlVG9rZW5cIikmJiFpLmlzU3RyaW5nKGUubmV4dFBhZ2VUb2tlbik/XCJuZXh0UGFnZVRva2VuOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSx1LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVzcG9uc2UpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVzcG9uc2U7aWYoZS5vcGVyYXRpb25zKXtpZighQXJyYXkuaXNBcnJheShlLm9wZXJhdGlvbnMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXNwb25zZS5vcGVyYXRpb25zOiBhcnJheSBleHBlY3RlZFwiKTt0Lm9wZXJhdGlvbnM9W107Zm9yKHZhciBuPTA7bjxlLm9wZXJhdGlvbnMubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3BlcmF0aW9uc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVzcG9uc2Uub3BlcmF0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3BlcmF0aW9uc1tuXT1wLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24uZnJvbU9iamVjdChlLm9wZXJhdGlvbnNbbl0pfX1yZXR1cm4gbnVsbCE9ZS5uZXh0UGFnZVRva2VuJiYodC5uZXh0UGFnZVRva2VuPVN0cmluZyhlLm5leHRQYWdlVG9rZW4pKSx0fSx1LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5vcGVyYXRpb25zPVtdKSx0LmRlZmF1bHRzJiYobi5uZXh0UGFnZVRva2VuPVwiXCIpLGUub3BlcmF0aW9ucyYmZS5vcGVyYXRpb25zLmxlbmd0aCl7bi5vcGVyYXRpb25zPVtdO2Zvcih2YXIgbz0wO288ZS5vcGVyYXRpb25zLmxlbmd0aDsrK28pbi5vcGVyYXRpb25zW29dPXAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbi50b09iamVjdChlLm9wZXJhdGlvbnNbb10sdCl9cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmZS5oYXNPd25Qcm9wZXJ0eShcIm5leHRQYWdlVG9rZW5cIikmJihuLm5leHRQYWdlVG9rZW49ZS5uZXh0UGFnZVRva2VuKSxufSx1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sdSksdC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0PShMLnByb3RvdHlwZS5uYW1lPVwiXCIsTC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBMKGUpfSxMLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLHR9LEwuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEwuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLkNhbmNlbE9wZXJhdGlvblJlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/by5uYW1lPWUuc3RyaW5nKCk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxMLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxMLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpP1wibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sTC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUubG9uZ3J1bm5pbmcuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdD9lOih0PW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0LG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksdCl9LEwudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG59LEwucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxMKSx0LkRlbGV0ZU9wZXJhdGlvblJlcXVlc3Q9KFUucHJvdG90eXBlLm5hbWU9XCJcIixVLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFUoZSl9LFUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksdH0sVS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sVS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuRGVsZXRlT3BlcmF0aW9uUmVxdWVzdDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT9vLm5hbWU9ZS5zdHJpbmcoKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LFUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFUudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSk/XCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxVLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5sb25ncnVubmluZy5EZWxldGVPcGVyYXRpb25SZXF1ZXN0P2U6KHQ9bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLkRlbGV0ZU9wZXJhdGlvblJlcXVlc3QsbnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSx0KX0sVS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbn0sVS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFUpLHQuV2FpdE9wZXJhdGlvblJlcXVlc3Q9KGMucHJvdG90eXBlLm5hbWU9XCJcIixjLnByb3RvdHlwZS50aW1lb3V0PW51bGwsYy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBjKGUpfSxjLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUudGltZW91dCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRpbWVvdXRcIikmJnAuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uLmVuY29kZShlLnRpbWVvdXQsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sYy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sYy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuV2FpdE9wZXJhdGlvblJlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8udGltZW91dD1wLmdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnRpbWVvdXQmJmUuaGFzT3duUHJvcGVydHkoXCJ0aW1lb3V0XCIpKXtlPXAuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uLnZlcmlmeShlLnRpbWVvdXQpO2lmKGUpcmV0dXJuXCJ0aW1lb3V0LlwiK2V9cmV0dXJuIG51bGx9LGMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUubG9uZ3J1bm5pbmcuV2FpdE9wZXJhdGlvblJlcXVlc3QpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLldhaXRPcGVyYXRpb25SZXF1ZXN0O2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS50aW1lb3V0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS50aW1lb3V0KXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUubG9uZ3J1bm5pbmcuV2FpdE9wZXJhdGlvblJlcXVlc3QudGltZW91dDogb2JqZWN0IGV4cGVjdGVkXCIpO3QudGltZW91dD1wLmdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvbi5mcm9tT2JqZWN0KGUudGltZW91dCl9cmV0dXJuIHR9LGMudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLnRpbWVvdXQ9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUudGltZW91dCYmZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVvdXRcIikmJihuLnRpbWVvdXQ9cC5nb29nbGUucHJvdG9idWYuRHVyYXRpb24udG9PYmplY3QoZS50aW1lb3V0LHQpKSxufSxjLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sYyksdC5PcGVyYXRpb25JbmZvPShkLnByb3RvdHlwZS5yZXNwb25zZVR5cGU9XCJcIixkLnByb3RvdHlwZS5tZXRhZGF0YVR5cGU9XCJcIixkLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGQoZSl9LGQuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnJlc3BvbnNlVHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc3BvbnNlVHlwZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLnJlc3BvbnNlVHlwZSksbnVsbCE9ZS5tZXRhZGF0YVR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtZXRhZGF0YVR5cGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5tZXRhZGF0YVR5cGUpLHR9LGQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbkluZm87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5yZXNwb25zZVR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5tZXRhZGF0YVR5cGU9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGQuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGQudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUucmVzcG9uc2VUeXBlJiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VUeXBlXCIpJiYhaS5pc1N0cmluZyhlLnJlc3BvbnNlVHlwZSk/XCJyZXNwb25zZVR5cGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUubWV0YWRhdGFUeXBlJiZlLmhhc093blByb3BlcnR5KFwibWV0YWRhdGFUeXBlXCIpJiYhaS5pc1N0cmluZyhlLm1ldGFkYXRhVHlwZSk/XCJtZXRhZGF0YVR5cGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LGQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbkluZm8/ZToodD1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uSW5mbyxudWxsIT1lLnJlc3BvbnNlVHlwZSYmKHQucmVzcG9uc2VUeXBlPVN0cmluZyhlLnJlc3BvbnNlVHlwZSkpLG51bGwhPWUubWV0YWRhdGFUeXBlJiYodC5tZXRhZGF0YVR5cGU9U3RyaW5nKGUubWV0YWRhdGFUeXBlKSksdCl9LGQudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnJlc3BvbnNlVHlwZT1cIlwiLG4ubWV0YWRhdGFUeXBlPVwiXCIpLG51bGwhPWUucmVzcG9uc2VUeXBlJiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VUeXBlXCIpJiYobi5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGUpLG51bGwhPWUubWV0YWRhdGFUeXBlJiZlLmhhc093blByb3BlcnR5KFwibWV0YWRhdGFUeXBlXCIpJiYobi5tZXRhZGF0YVR5cGU9ZS5tZXRhZGF0YVR5cGUpLG59LGQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxkKSx0KSxGLmFwaT0oKG49e30pLkh0dHA9KGcucHJvdG90eXBlLnJ1bGVzPWkuZW1wdHlBcnJheSxnLnByb3RvdHlwZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPSExLGcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZyhlKX0sZy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5ydWxlcyYmZS5ydWxlcy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnJ1bGVzLmxlbmd0aDsrK24pcC5nb29nbGUuYXBpLkh0dHBSdWxlLmVuY29kZShlLnJ1bGVzW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24pLHR9LGcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmFwaS5IdHRwO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ucnVsZXMmJm8ucnVsZXMubGVuZ3RofHwoby5ydWxlcz1bXSksby5ydWxlcy5wdXNoKHAuZ29vZ2xlLmFwaS5IdHRwUnVsZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOm8uZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGcuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGcudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucnVsZXMmJmUuaGFzT3duUHJvcGVydHkoXCJydWxlc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5ydWxlcykpcmV0dXJuXCJydWxlczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUucnVsZXMubGVuZ3RoOysrdCl7dmFyIG49cC5nb29nbGUuYXBpLkh0dHBSdWxlLnZlcmlmeShlLnJ1bGVzW3RdKTtpZihuKXJldHVyblwicnVsZXMuXCIrbn19cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb25cIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uP1wiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbjogYm9vbGVhbiBleHBlY3RlZFwiOm51bGx9LGcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUuYXBpLkh0dHApcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLmFwaS5IdHRwO2lmKGUucnVsZXMpe2lmKCFBcnJheS5pc0FycmF5KGUucnVsZXMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHAucnVsZXM6IGFycmF5IGV4cGVjdGVkXCIpO3QucnVsZXM9W107Zm9yKHZhciBuPTA7bjxlLnJ1bGVzLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnJ1bGVzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHAucnVsZXM6IG9iamVjdCBleHBlY3RlZFwiKTt0LnJ1bGVzW25dPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS5mcm9tT2JqZWN0KGUucnVsZXNbbl0pfX1yZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiYodC5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPUJvb2xlYW4oZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uKSksdH0sZy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucnVsZXM9W10pLHQuZGVmYXVsdHMmJihuLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ITEpLGUucnVsZXMmJmUucnVsZXMubGVuZ3RoKXtuLnJ1bGVzPVtdO2Zvcih2YXIgbz0wO288ZS5ydWxlcy5sZW5ndGg7KytvKW4ucnVsZXNbb109cC5nb29nbGUuYXBpLkh0dHBSdWxlLnRvT2JqZWN0KGUucnVsZXNbb10sdCl9cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb25cIikmJihuLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uKSxufSxnLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZyksbi5IdHRwUnVsZT0oZi5wcm90b3R5cGUuc2VsZWN0b3I9XCJcIixmLnByb3RvdHlwZS5nZXQ9XCJcIixmLnByb3RvdHlwZS5wdXQ9XCJcIixmLnByb3RvdHlwZS5wb3N0PVwiXCIsZi5wcm90b3R5cGUuZGVsZXRlPVwiXCIsZi5wcm90b3R5cGUucGF0Y2g9XCJcIixmLnByb3RvdHlwZS5jdXN0b209bnVsbCxmLnByb3RvdHlwZS5ib2R5PVwiXCIsZi5wcm90b3R5cGUucmVzcG9uc2VCb2R5PVwiXCIsZi5wcm90b3R5cGUuYWRkaXRpb25hbEJpbmRpbmdzPWkuZW1wdHlBcnJheSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZi5wcm90b3R5cGUsXCJwYXR0ZXJuXCIse2dldDppLm9uZU9mR2V0dGVyKHQ9W1wiZ2V0XCIsXCJwdXRcIixcInBvc3RcIixcImRlbGV0ZVwiLFwicGF0Y2hcIixcImN1c3RvbVwiXSksc2V0Omkub25lT2ZTZXR0ZXIodCl9KSxmLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGYoZSl9LGYuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuc2VsZWN0b3ImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZWxlY3RvclwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLnNlbGVjdG9yKSxudWxsIT1lLmdldCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImdldFwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmdldCksbnVsbCE9ZS5wdXQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwdXRcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5wdXQpLG51bGwhPWUucG9zdCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBvc3RcIikmJnQudWludDMyKDM0KS5zdHJpbmcoZS5wb3N0KSxudWxsIT1lLmRlbGV0ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlbGV0ZVwiKSYmdC51aW50MzIoNDIpLnN0cmluZyhlLmRlbGV0ZSksbnVsbCE9ZS5wYXRjaCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhdGNoXCIpJiZ0LnVpbnQzMig1MCkuc3RyaW5nKGUucGF0Y2gpLG51bGwhPWUuYm9keSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImJvZHlcIikmJnQudWludDMyKDU4KS5zdHJpbmcoZS5ib2R5KSxudWxsIT1lLmN1c3RvbSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImN1c3RvbVwiKSYmcC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLmVuY29kZShlLmN1c3RvbSx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLmFkZGl0aW9uYWxCaW5kaW5ncyYmZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbilwLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZW5jb2RlKGUuYWRkaXRpb25hbEJpbmRpbmdzW25dLHQudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLnJlc3BvbnNlQm9keSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc3BvbnNlQm9keVwiKSYmdC51aW50MzIoOTgpLnN0cmluZyhlLnJlc3BvbnNlQm9keSksdH0sZi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sZi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUuYXBpLkh0dHBSdWxlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc2VsZWN0b3I9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5nZXQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5wdXQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5wb3N0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA1Om8uZGVsZXRlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA2Om8ucGF0Y2g9ZS5zdHJpbmcoKTticmVhaztjYXNlIDg6by5jdXN0b209cC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNzpvLmJvZHk9ZS5zdHJpbmcoKTticmVhaztjYXNlIDEyOm8ucmVzcG9uc2VCb2R5PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMTpvLmFkZGl0aW9uYWxCaW5kaW5ncyYmby5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RofHwoby5hZGRpdGlvbmFsQmluZGluZ3M9W10pLG8uYWRkaXRpb25hbEJpbmRpbmdzLnB1c2gocC5nb29nbGUuYXBpLkh0dHBSdWxlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGYuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGYudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO3ZhciB0PXt9O2lmKG51bGwhPWUuc2VsZWN0b3ImJmUuaGFzT3duUHJvcGVydHkoXCJzZWxlY3RvclwiKSYmIWkuaXNTdHJpbmcoZS5zZWxlY3RvcikpcmV0dXJuXCJzZWxlY3Rvcjogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5nZXQmJmUuaGFzT3duUHJvcGVydHkoXCJnZXRcIikmJih0LnBhdHRlcm49MSwhaS5pc1N0cmluZyhlLmdldCkpKXJldHVyblwiZ2V0OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnB1dCYmZS5oYXNPd25Qcm9wZXJ0eShcInB1dFwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCFpLmlzU3RyaW5nKGUucHV0KSlyZXR1cm5cInB1dDogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5wb3N0JiZlLmhhc093blByb3BlcnR5KFwicG9zdFwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCFpLmlzU3RyaW5nKGUucG9zdCkpcmV0dXJuXCJwb3N0OiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLmRlbGV0ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlbGV0ZVwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCFpLmlzU3RyaW5nKGUuZGVsZXRlKSlyZXR1cm5cImRlbGV0ZTogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5wYXRjaCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGNoXCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIWkuaXNTdHJpbmcoZS5wYXRjaCkpcmV0dXJuXCJwYXRjaDogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5jdXN0b20mJmUuaGFzT3duUHJvcGVydHkoXCJjdXN0b21cIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSxuPXAuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi52ZXJpZnkoZS5jdXN0b20pKXJldHVyblwiY3VzdG9tLlwiK259aWYobnVsbCE9ZS5ib2R5JiZlLmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmIWkuaXNTdHJpbmcoZS5ib2R5KSlyZXR1cm5cImJvZHk6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucmVzcG9uc2VCb2R5JiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VCb2R5XCIpJiYhaS5pc1N0cmluZyhlLnJlc3BvbnNlQm9keSkpcmV0dXJuXCJyZXNwb25zZUJvZHk6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuYWRkaXRpb25hbEJpbmRpbmdzJiZlLmhhc093blByb3BlcnR5KFwiYWRkaXRpb25hbEJpbmRpbmdzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmFkZGl0aW9uYWxCaW5kaW5ncykpcmV0dXJuXCJhZGRpdGlvbmFsQmluZGluZ3M6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciBuLG89MDtvPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK28paWYobj1wLmdvb2dsZS5hcGkuSHR0cFJ1bGUudmVyaWZ5KGUuYWRkaXRpb25hbEJpbmRpbmdzW29dKSlyZXR1cm5cImFkZGl0aW9uYWxCaW5kaW5ncy5cIitufXJldHVybiBudWxsfSxmLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmFwaS5IdHRwUnVsZSlyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUuYXBpLkh0dHBSdWxlO2lmKG51bGwhPWUuc2VsZWN0b3ImJih0LnNlbGVjdG9yPVN0cmluZyhlLnNlbGVjdG9yKSksbnVsbCE9ZS5nZXQmJih0LmdldD1TdHJpbmcoZS5nZXQpKSxudWxsIT1lLnB1dCYmKHQucHV0PVN0cmluZyhlLnB1dCkpLG51bGwhPWUucG9zdCYmKHQucG9zdD1TdHJpbmcoZS5wb3N0KSksbnVsbCE9ZS5kZWxldGUmJih0LmRlbGV0ZT1TdHJpbmcoZS5kZWxldGUpKSxudWxsIT1lLnBhdGNoJiYodC5wYXRjaD1TdHJpbmcoZS5wYXRjaCkpLG51bGwhPWUuY3VzdG9tKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5jdXN0b20pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cFJ1bGUuY3VzdG9tOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5jdXN0b209cC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLmZyb21PYmplY3QoZS5jdXN0b20pfWlmKG51bGwhPWUuYm9keSYmKHQuYm9keT1TdHJpbmcoZS5ib2R5KSksbnVsbCE9ZS5yZXNwb25zZUJvZHkmJih0LnJlc3BvbnNlQm9keT1TdHJpbmcoZS5yZXNwb25zZUJvZHkpKSxlLmFkZGl0aW9uYWxCaW5kaW5ncyl7aWYoIUFycmF5LmlzQXJyYXkoZS5hZGRpdGlvbmFsQmluZGluZ3MpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHBSdWxlLmFkZGl0aW9uYWxCaW5kaW5nczogYXJyYXkgZXhwZWN0ZWRcIik7dC5hZGRpdGlvbmFsQmluZGluZ3M9W107Zm9yKHZhciBuPTA7bjxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5hZGRpdGlvbmFsQmluZGluZ3Nbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cFJ1bGUuYWRkaXRpb25hbEJpbmRpbmdzOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hZGRpdGlvbmFsQmluZGluZ3Nbbl09cC5nb29nbGUuYXBpLkh0dHBSdWxlLmZyb21PYmplY3QoZS5hZGRpdGlvbmFsQmluZGluZ3Nbbl0pfX1yZXR1cm4gdH0sZi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uYWRkaXRpb25hbEJpbmRpbmdzPVtdKSx0LmRlZmF1bHRzJiYobi5zZWxlY3Rvcj1cIlwiLG4uYm9keT1cIlwiLG4ucmVzcG9uc2VCb2R5PVwiXCIpLG51bGwhPWUuc2VsZWN0b3ImJmUuaGFzT3duUHJvcGVydHkoXCJzZWxlY3RvclwiKSYmKG4uc2VsZWN0b3I9ZS5zZWxlY3RvciksbnVsbCE9ZS5nZXQmJmUuaGFzT3duUHJvcGVydHkoXCJnZXRcIikmJihuLmdldD1lLmdldCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJnZXRcIiksbnVsbCE9ZS5wdXQmJmUuaGFzT3duUHJvcGVydHkoXCJwdXRcIikmJihuLnB1dD1lLnB1dCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJwdXRcIiksbnVsbCE9ZS5wb3N0JiZlLmhhc093blByb3BlcnR5KFwicG9zdFwiKSYmKG4ucG9zdD1lLnBvc3QsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwicG9zdFwiKSxudWxsIT1lLmRlbGV0ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlbGV0ZVwiKSYmKG4uZGVsZXRlPWUuZGVsZXRlLHQub25lb2ZzKSYmKG4ucGF0dGVybj1cImRlbGV0ZVwiKSxudWxsIT1lLnBhdGNoJiZlLmhhc093blByb3BlcnR5KFwicGF0Y2hcIikmJihuLnBhdGNoPWUucGF0Y2gsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwicGF0Y2hcIiksbnVsbCE9ZS5ib2R5JiZlLmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmKG4uYm9keT1lLmJvZHkpLG51bGwhPWUuY3VzdG9tJiZlLmhhc093blByb3BlcnR5KFwiY3VzdG9tXCIpJiYobi5jdXN0b209cC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLnRvT2JqZWN0KGUuY3VzdG9tLHQpLHQub25lb2ZzKSYmKG4ucGF0dGVybj1cImN1c3RvbVwiKSxlLmFkZGl0aW9uYWxCaW5kaW5ncyYmZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoKXtuLmFkZGl0aW9uYWxCaW5kaW5ncz1bXTtmb3IodmFyIG89MDtvPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK28pbi5hZGRpdGlvbmFsQmluZGluZ3Nbb109cC5nb29nbGUuYXBpLkh0dHBSdWxlLnRvT2JqZWN0KGUuYWRkaXRpb25hbEJpbmRpbmdzW29dLHQpfXJldHVybiBudWxsIT1lLnJlc3BvbnNlQm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc3BvbnNlQm9keVwiKSYmKG4ucmVzcG9uc2VCb2R5PWUucmVzcG9uc2VCb2R5KSxufSxmLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZiksbi5DdXN0b21IdHRwUGF0dGVybj0oeS5wcm90b3R5cGUua2luZD1cIlwiLHkucHJvdG90eXBlLnBhdGg9XCJcIix5LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHkoZSl9LHkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmtpbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJraW5kXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUua2luZCksbnVsbCE9ZS5wYXRoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGF0aFwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnBhdGgpLHR9LHkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmtpbmQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wYXRoPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx5LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx5LnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLmtpbmQmJmUuaGFzT3duUHJvcGVydHkoXCJraW5kXCIpJiYhaS5pc1N0cmluZyhlLmtpbmQpP1wia2luZDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSYmIWkuaXNTdHJpbmcoZS5wYXRoKT9cInBhdGg6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LHkuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybj9lOih0PW5ldyBwLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4sbnVsbCE9ZS5raW5kJiYodC5raW5kPVN0cmluZyhlLmtpbmQpKSxudWxsIT1lLnBhdGgmJih0LnBhdGg9U3RyaW5nKGUucGF0aCkpLHQpfSx5LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5raW5kPVwiXCIsbi5wYXRoPVwiXCIpLG51bGwhPWUua2luZCYmZS5oYXNPd25Qcm9wZXJ0eShcImtpbmRcIikmJihuLmtpbmQ9ZS5raW5kKSxudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpJiYobi5wYXRoPWUucGF0aCksbn0seS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHkpLG4pLEYucHJvdG9idWY9KCh0PXt9KS5GaWxlRGVzY3JpcHRvclNldD0oSi5wcm90b3R5cGUuZmlsZT1pLmVtcHR5QXJyYXksSi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBKKGUpfSxKLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmZpbGUmJmUuZmlsZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmZpbGUubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmZpbGVbbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEouZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEouZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xPyhvLmZpbGUmJm8uZmlsZS5sZW5ndGh8fChvLmZpbGU9W10pLG8uZmlsZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LEouZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEoudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZmlsZSYmZS5oYXNPd25Qcm9wZXJ0eShcImZpbGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZmlsZSkpcmV0dXJuXCJmaWxlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5maWxlLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZmlsZVt0XSk7aWYobilyZXR1cm5cImZpbGUuXCIrbn19cmV0dXJuIG51bGx9LEouZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0O2lmKGUuZmlsZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWxlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0LmZpbGU6IGFycmF5IGV4cGVjdGVkXCIpO3QuZmlsZT1bXTtmb3IodmFyIG49MDtuPGUuZmlsZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5maWxlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQuZmlsZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZmlsZVtuXT1wLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5maWxlW25dKX19cmV0dXJuIHR9LEoudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmZpbGU9W10pLGUuZmlsZSYmZS5maWxlLmxlbmd0aCl7bi5maWxlPVtdO2Zvcih2YXIgbz0wO288ZS5maWxlLmxlbmd0aDsrK28pbi5maWxlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5maWxlW29dLHQpfXJldHVybiBufSxKLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSiksdC5GaWxlRGVzY3JpcHRvclByb3RvPShoLnByb3RvdHlwZS5uYW1lPVwiXCIsaC5wcm90b3R5cGUucGFja2FnZT1cIlwiLGgucHJvdG90eXBlLmRlcGVuZGVuY3k9aS5lbXB0eUFycmF5LGgucHJvdG90eXBlLnB1YmxpY0RlcGVuZGVuY3k9aS5lbXB0eUFycmF5LGgucHJvdG90eXBlLndlYWtEZXBlbmRlbmN5PWkuZW1wdHlBcnJheSxoLnByb3RvdHlwZS5tZXNzYWdlVHlwZT1pLmVtcHR5QXJyYXksaC5wcm90b3R5cGUuZW51bVR5cGU9aS5lbXB0eUFycmF5LGgucHJvdG90eXBlLnNlcnZpY2U9aS5lbXB0eUFycmF5LGgucHJvdG90eXBlLmV4dGVuc2lvbj1pLmVtcHR5QXJyYXksaC5wcm90b3R5cGUub3B0aW9ucz1udWxsLGgucHJvdG90eXBlLnNvdXJjZUNvZGVJbmZvPW51bGwsaC5wcm90b3R5cGUuc3ludGF4PVwiXCIsaC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBoKGUpfSxoLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5wYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFja2FnZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnBhY2thZ2UpLG51bGwhPWUuZGVwZW5kZW5jeSYmZS5kZXBlbmRlbmN5Lmxlbmd0aClmb3IodmFyIG49MDtuPGUuZGVwZW5kZW5jeS5sZW5ndGg7KytuKXQudWludDMyKDI2KS5zdHJpbmcoZS5kZXBlbmRlbmN5W25dKTtpZihudWxsIT1lLm1lc3NhZ2VUeXBlJiZlLm1lc3NhZ2VUeXBlLmxlbmd0aClmb3Iobj0wO248ZS5tZXNzYWdlVHlwZS5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5tZXNzYWdlVHlwZVtuXSx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aClmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZW51bVR5cGVbbl0sdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5zZXJ2aWNlJiZlLnNlcnZpY2UubGVuZ3RoKWZvcihuPTA7bjxlLnNlcnZpY2UubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLmVuY29kZShlLnNlcnZpY2Vbbl0sdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aClmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5leHRlbnNpb25bbl0sdC51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmcC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnNvdXJjZUNvZGVJbmZvJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic291cmNlQ29kZUluZm9cIikmJnAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmVuY29kZShlLnNvdXJjZUNvZGVJbmZvLHQudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUucHVibGljRGVwZW5kZW5jeSYmZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aClmb3Iobj0wO248ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC51aW50MzIoODApLmludDMyKGUucHVibGljRGVwZW5kZW5jeVtuXSk7aWYobnVsbCE9ZS53ZWFrRGVwZW5kZW5jeSYmZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGgpZm9yKG49MDtuPGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LnVpbnQzMig4OCkuaW50MzIoZS53ZWFrRGVwZW5kZW5jeVtuXSk7cmV0dXJuIG51bGwhPWUuc3ludGF4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3ludGF4XCIpJiZ0LnVpbnQzMig5OCkuc3RyaW5nKGUuc3ludGF4KSx0fSxoLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxoLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnBhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5kZXBlbmRlbmN5JiZvLmRlcGVuZGVuY3kubGVuZ3RofHwoby5kZXBlbmRlbmN5PVtdKSxvLmRlcGVuZGVuY3kucHVzaChlLnN0cmluZygpKTticmVhaztjYXNlIDEwOmlmKG8ucHVibGljRGVwZW5kZW5jeSYmby5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aHx8KG8ucHVibGljRGVwZW5kZW5jeT1bXSksMj09KDcmcikpZm9yKHZhciBpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5wdWJsaWNEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTtlbHNlIG8ucHVibGljRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAxMTppZihvLndlYWtEZXBlbmRlbmN5JiZvLndlYWtEZXBlbmRlbmN5Lmxlbmd0aHx8KG8ud2Vha0RlcGVuZGVuY3k9W10pLDI9PSg3JnIpKWZvcihpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby53ZWFrRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLndlYWtEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDQ6by5tZXNzYWdlVHlwZSYmby5tZXNzYWdlVHlwZS5sZW5ndGh8fChvLm1lc3NhZ2VUeXBlPVtdKSxvLm1lc3NhZ2VUeXBlLnB1c2gocC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDU6by5lbnVtVHlwZSYmby5lbnVtVHlwZS5sZW5ndGh8fChvLmVudW1UeXBlPVtdKSxvLmVudW1UeXBlLnB1c2gocC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA2Om8uc2VydmljZSYmby5zZXJ2aWNlLmxlbmd0aHx8KG8uc2VydmljZT1bXSksby5zZXJ2aWNlLnB1c2gocC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA3Om8uZXh0ZW5zaW9uJiZvLmV4dGVuc2lvbi5sZW5ndGh8fChvLmV4dGVuc2lvbj1bXSksby5leHRlbnNpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA4Om8ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDk6by5zb3VyY2VDb2RlSW5mbz1wLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDEyOm8uc3ludGF4PWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxoLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxoLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicGFja2FnZVwiKSYmIWkuaXNTdHJpbmcoZS5wYWNrYWdlKSlyZXR1cm5cInBhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwZW5kZW5jeSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcGVuZGVuY3lcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZGVwZW5kZW5jeSkpcmV0dXJuXCJkZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK3QpaWYoIWkuaXNTdHJpbmcoZS5kZXBlbmRlbmN5W3RdKSlyZXR1cm5cImRlcGVuZGVuY3k6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5wdWJsaWNEZXBlbmRlbmN5JiZlLmhhc093blByb3BlcnR5KFwicHVibGljRGVwZW5kZW5jeVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wdWJsaWNEZXBlbmRlbmN5KSlyZXR1cm5cInB1YmxpY0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7Kyt0KWlmKCFpLmlzSW50ZWdlcihlLnB1YmxpY0RlcGVuZGVuY3lbdF0pKXJldHVyblwicHVibGljRGVwZW5kZW5jeTogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS53ZWFrRGVwZW5kZW5jeSYmZS5oYXNPd25Qcm9wZXJ0eShcIndlYWtEZXBlbmRlbmN5XCIpKXtpZighQXJyYXkuaXNBcnJheShlLndlYWtEZXBlbmRlbmN5KSlyZXR1cm5cIndlYWtEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK3QpaWYoIWkuaXNJbnRlZ2VyKGUud2Vha0RlcGVuZGVuY3lbdF0pKXJldHVyblwid2Vha0RlcGVuZGVuY3k6IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUubWVzc2FnZVR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJtZXNzYWdlVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXNzYWdlVHlwZSkpcmV0dXJuXCJtZXNzYWdlVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5tZXNzYWdlVHlwZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm1lc3NhZ2VUeXBlW3RdKSlyZXR1cm5cIm1lc3NhZ2VUeXBlLlwiK259aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImVudW1UeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSlyZXR1cm5cImVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmVudW1UeXBlLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmVudW1UeXBlW3RdKSlyZXR1cm5cImVudW1UeXBlLlwiK259aWYobnVsbCE9ZS5zZXJ2aWNlJiZlLmhhc093blByb3BlcnR5KFwic2VydmljZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5zZXJ2aWNlKSlyZXR1cm5cInNlcnZpY2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuc2VydmljZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5zZXJ2aWNlW3RdKSlyZXR1cm5cInNlcnZpY2UuXCIrbn1pZihudWxsIT1lLmV4dGVuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuc2lvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXJldHVyblwiZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmV4dGVuc2lvbi5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZXh0ZW5zaW9uW3RdKSlyZXR1cm5cImV4dGVuc2lvbi5cIitufXZhciBuO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPXAuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtpZihudWxsIT1lLnNvdXJjZUNvZGVJbmZvJiZlLmhhc093blByb3BlcnR5KFwic291cmNlQ29kZUluZm9cIikmJihuPXAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLnZlcmlmeShlLnNvdXJjZUNvZGVJbmZvKSkpcmV0dXJuXCJzb3VyY2VDb2RlSW5mby5cIituO3JldHVybiBudWxsIT1lLnN5bnRheCYmZS5oYXNPd25Qcm9wZXJ0eShcInN5bnRheFwiKSYmIWkuaXNTdHJpbmcoZS5zeW50YXgpP1wic3ludGF4OiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxoLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLnBhY2thZ2UmJih0LnBhY2thZ2U9U3RyaW5nKGUucGFja2FnZSkpLGUuZGVwZW5kZW5jeSl7aWYoIUFycmF5LmlzQXJyYXkoZS5kZXBlbmRlbmN5KSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIik7dC5kZXBlbmRlbmN5PVtdO2Zvcih2YXIgbj0wO248ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC5kZXBlbmRlbmN5W25dPVN0cmluZyhlLmRlcGVuZGVuY3lbbl0pfWlmKGUucHVibGljRGVwZW5kZW5jeSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wdWJsaWNEZXBlbmRlbmN5KSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ucHVibGljRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIik7dC5wdWJsaWNEZXBlbmRlbmN5PVtdO2ZvcihuPTA7bjxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LnB1YmxpY0RlcGVuZGVuY3lbbl09MHxlLnB1YmxpY0RlcGVuZGVuY3lbbl19aWYoZS53ZWFrRGVwZW5kZW5jeSl7aWYoIUFycmF5LmlzQXJyYXkoZS53ZWFrRGVwZW5kZW5jeSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLndlYWtEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiKTt0LndlYWtEZXBlbmRlbmN5PVtdO2ZvcihuPTA7bjxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC53ZWFrRGVwZW5kZW5jeVtuXT0wfGUud2Vha0RlcGVuZGVuY3lbbl19aWYoZS5tZXNzYWdlVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXNzYWdlVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLm1lc3NhZ2VUeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0Lm1lc3NhZ2VUeXBlPVtdO2ZvcihuPTA7bjxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm1lc3NhZ2VUeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5tZXNzYWdlVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QubWVzc2FnZVR5cGVbbl09cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5tZXNzYWdlVHlwZVtuXSl9fWlmKGUuZW51bVR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZT1bXTtmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5lbnVtVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmVudW1UeXBlW25dPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmVudW1UeXBlW25dKX19aWYoZS5zZXJ2aWNlKXtpZighQXJyYXkuaXNBcnJheShlLnNlcnZpY2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5zZXJ2aWNlOiBhcnJheSBleHBlY3RlZFwiKTt0LnNlcnZpY2U9W107Zm9yKG49MDtuPGUuc2VydmljZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5zZXJ2aWNlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5zZXJ2aWNlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5zZXJ2aWNlW25dPXAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLnNlcnZpY2Vbbl0pfX1pZihlLmV4dGVuc2lvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5leHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uPVtdO2ZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5leHRlbnNpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5leHRlbnNpb25bbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfWlmKG51bGwhPWUuc291cmNlQ29kZUluZm8pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnNvdXJjZUNvZGVJbmZvKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5zb3VyY2VDb2RlSW5mbzogb2JqZWN0IGV4cGVjdGVkXCIpO3Quc291cmNlQ29kZUluZm89cC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uZnJvbU9iamVjdChlLnNvdXJjZUNvZGVJbmZvKX1yZXR1cm4gbnVsbCE9ZS5zeW50YXgmJih0LnN5bnRheD1TdHJpbmcoZS5zeW50YXgpKSx0fSxoLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5kZXBlbmRlbmN5PVtdLG4ubWVzc2FnZVR5cGU9W10sbi5lbnVtVHlwZT1bXSxuLnNlcnZpY2U9W10sbi5leHRlbnNpb249W10sbi5wdWJsaWNEZXBlbmRlbmN5PVtdLG4ud2Vha0RlcGVuZGVuY3k9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLnBhY2thZ2U9XCJcIixuLm9wdGlvbnM9bnVsbCxuLnNvdXJjZUNvZGVJbmZvPW51bGwsbi5zeW50YXg9XCJcIiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUucGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2thZ2VcIikmJihuLnBhY2thZ2U9ZS5wYWNrYWdlKSxlLmRlcGVuZGVuY3kmJmUuZGVwZW5kZW5jeS5sZW5ndGgpe24uZGVwZW5kZW5jeT1bXTtmb3IodmFyIG89MDtvPGUuZGVwZW5kZW5jeS5sZW5ndGg7KytvKW4uZGVwZW5kZW5jeVtvXT1lLmRlcGVuZGVuY3lbb119aWYoZS5tZXNzYWdlVHlwZSYmZS5tZXNzYWdlVHlwZS5sZW5ndGgpe24ubWVzc2FnZVR5cGU9W107Zm9yKG89MDtvPGUubWVzc2FnZVR5cGUubGVuZ3RoOysrbyluLm1lc3NhZ2VUeXBlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by50b09iamVjdChlLm1lc3NhZ2VUeXBlW29dLHQpfWlmKGUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKXtuLmVudW1UeXBlPVtdO2ZvcihvPTA7bzxlLmVudW1UeXBlLmxlbmd0aDsrK28pbi5lbnVtVHlwZVtvXT1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZW51bVR5cGVbb10sdCl9aWYoZS5zZXJ2aWNlJiZlLnNlcnZpY2UubGVuZ3RoKXtuLnNlcnZpY2U9W107Zm9yKG89MDtvPGUuc2VydmljZS5sZW5ndGg7KytvKW4uc2VydmljZVtvXT1wLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuc2VydmljZVtvXSx0KX1pZihlLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKXtuLmV4dGVuc2lvbj1bXTtmb3Iobz0wO288ZS5leHRlbnNpb24ubGVuZ3RoOysrbyluLmV4dGVuc2lvbltvXT1wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLmV4dGVuc2lvbltvXSx0KX1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUNvZGVJbmZvXCIpJiYobi5zb3VyY2VDb2RlSW5mbz1wLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby50b09iamVjdChlLnNvdXJjZUNvZGVJbmZvLHQpKSxlLnB1YmxpY0RlcGVuZGVuY3kmJmUucHVibGljRGVwZW5kZW5jeS5sZW5ndGgpe24ucHVibGljRGVwZW5kZW5jeT1bXTtmb3Iobz0wO288ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK28pbi5wdWJsaWNEZXBlbmRlbmN5W29dPWUucHVibGljRGVwZW5kZW5jeVtvXX1pZihlLndlYWtEZXBlbmRlbmN5JiZlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aCl7bi53ZWFrRGVwZW5kZW5jeT1bXTtmb3Iobz0wO288ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7KytvKW4ud2Vha0RlcGVuZGVuY3lbb109ZS53ZWFrRGVwZW5kZW5jeVtvXX1yZXR1cm4gbnVsbCE9ZS5zeW50YXgmJmUuaGFzT3duUHJvcGVydHkoXCJzeW50YXhcIikmJihuLnN5bnRheD1lLnN5bnRheCksbn0saC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGgpLHQuRGVzY3JpcHRvclByb3RvPShPLnByb3RvdHlwZS5uYW1lPVwiXCIsTy5wcm90b3R5cGUuZmllbGQ9aS5lbXB0eUFycmF5LE8ucHJvdG90eXBlLmV4dGVuc2lvbj1pLmVtcHR5QXJyYXksTy5wcm90b3R5cGUubmVzdGVkVHlwZT1pLmVtcHR5QXJyYXksTy5wcm90b3R5cGUuZW51bVR5cGU9aS5lbXB0eUFycmF5LE8ucHJvdG90eXBlLmV4dGVuc2lvblJhbmdlPWkuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5vbmVvZkRlY2w9aS5lbXB0eUFycmF5LE8ucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxPLnByb3RvdHlwZS5yZXNlcnZlZFJhbmdlPWkuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5yZXNlcnZlZE5hbWU9aS5lbXB0eUFycmF5LE8uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTyhlKX0sTy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUuZmllbGQmJmUuZmllbGQubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5maWVsZC5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmZpZWxkW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUubmVzdGVkVHlwZSYmZS5uZXN0ZWRUeXBlLmxlbmd0aClmb3Iobj0wO248ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm5lc3RlZFR5cGVbbl0sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmVudW1UeXBlW25dLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZXh0ZW5zaW9uUmFuZ2UmJmUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoKWZvcihuPTA7bjxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLmVuY29kZShlLmV4dGVuc2lvblJhbmdlW25dLHQudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpZm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZXh0ZW5zaW9uW25dLHQudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5vbmVvZkRlY2wmJmUub25lb2ZEZWNsLmxlbmd0aClmb3Iobj0wO248ZS5vbmVvZkRlY2wubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5vbmVvZkRlY2xbbl0sdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS5lbmNvZGUoZS5yZXNlcnZlZFJhbmdlW25dLHQudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC51aW50MzIoODIpLnN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSk7cmV0dXJuIHR9LE8uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LE8uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5maWVsZCYmby5maWVsZC5sZW5ndGh8fChvLmZpZWxkPVtdKSxvLmZpZWxkLnB1c2gocC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNjpvLmV4dGVuc2lvbiYmby5leHRlbnNpb24ubGVuZ3RofHwoby5leHRlbnNpb249W10pLG8uZXh0ZW5zaW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLm5lc3RlZFR5cGUmJm8ubmVzdGVkVHlwZS5sZW5ndGh8fChvLm5lc3RlZFR5cGU9W10pLG8ubmVzdGVkVHlwZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA0Om8uZW51bVR5cGUmJm8uZW51bVR5cGUubGVuZ3RofHwoby5lbnVtVHlwZT1bXSksby5lbnVtVHlwZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNTpvLmV4dGVuc2lvblJhbmdlJiZvLmV4dGVuc2lvblJhbmdlLmxlbmd0aHx8KG8uZXh0ZW5zaW9uUmFuZ2U9W10pLG8uZXh0ZW5zaW9uUmFuZ2UucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgODpvLm9uZW9mRGVjbCYmby5vbmVvZkRlY2wubGVuZ3RofHwoby5vbmVvZkRlY2w9W10pLG8ub25lb2ZEZWNsLnB1c2gocC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNzpvLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA5Om8ucmVzZXJ2ZWRSYW5nZSYmby5yZXNlcnZlZFJhbmdlLmxlbmd0aHx8KG8ucmVzZXJ2ZWRSYW5nZT1bXSksby5yZXNlcnZlZFJhbmdlLnB1c2gocC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTA6by5yZXNlcnZlZE5hbWUmJm8ucmVzZXJ2ZWROYW1lLmxlbmd0aHx8KG8ucmVzZXJ2ZWROYW1lPVtdKSxvLnJlc2VydmVkTmFtZS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sTy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZmllbGQmJmUuaGFzT3duUHJvcGVydHkoXCJmaWVsZFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWVsZCkpcmV0dXJuXCJmaWVsZDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuZmllbGQubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmZpZWxkW3RdKSlyZXR1cm5cImZpZWxkLlwiK259aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbnNpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSlyZXR1cm5cImV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5leHRlbnNpb24ubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmV4dGVuc2lvblt0XSkpcmV0dXJuXCJleHRlbnNpb24uXCIrbn1pZihudWxsIT1lLm5lc3RlZFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJuZXN0ZWRUeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm5lc3RlZFR5cGUpKXJldHVyblwibmVzdGVkVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUubmVzdGVkVHlwZVt0XSkpcmV0dXJuXCJuZXN0ZWRUeXBlLlwiK259aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImVudW1UeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSlyZXR1cm5cImVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmVudW1UeXBlLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmVudW1UeXBlW3RdKSlyZXR1cm5cImVudW1UeXBlLlwiK259aWYobnVsbCE9ZS5leHRlbnNpb25SYW5nZSYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuc2lvblJhbmdlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvblJhbmdlKSlyZXR1cm5cImV4dGVuc2lvblJhbmdlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UudmVyaWZ5KGUuZXh0ZW5zaW9uUmFuZ2VbdF0pKXJldHVyblwiZXh0ZW5zaW9uUmFuZ2UuXCIrbn1pZihudWxsIT1lLm9uZW9mRGVjbCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9uZW9mRGVjbFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5vbmVvZkRlY2wpKXJldHVyblwib25lb2ZEZWNsOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLm9uZW9mRGVjbC5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUub25lb2ZEZWNsW3RdKSlyZXR1cm5cIm9uZW9mRGVjbC5cIitufWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPXAuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtpZihudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZFJhbmdlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXJldHVyblwicmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sdD0wO3Q8ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS52ZXJpZnkoZS5yZXNlcnZlZFJhbmdlW3RdKSlyZXR1cm5cInJlc2VydmVkUmFuZ2UuXCIrbn1pZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkTmFtZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXJldHVyblwicmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnJlc2VydmVkTmFtZS5sZW5ndGg7Kyt0KWlmKCFpLmlzU3RyaW5nKGUucmVzZXJ2ZWROYW1lW3RdKSlyZXR1cm5cInJlc2VydmVkTmFtZTogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sTy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLGUuZmllbGQpe2lmKCFBcnJheS5pc0FycmF5KGUuZmllbGQpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZpZWxkOiBhcnJheSBleHBlY3RlZFwiKTt0LmZpZWxkPVtdO2Zvcih2YXIgbj0wO248ZS5maWVsZC5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5maWVsZFtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5maWVsZDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZmllbGRbbl09cC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmZpZWxkW25dKX19aWYoZS5leHRlbnNpb24pe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uPVtdO2ZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5leHRlbnNpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25bbl09cC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmV4dGVuc2lvbltuXSl9fWlmKGUubmVzdGVkVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uZXN0ZWRUeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5uZXN0ZWRUeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0Lm5lc3RlZFR5cGU9W107Zm9yKG49MDtuPGUubmVzdGVkVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5uZXN0ZWRUeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm5lc3RlZFR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm5lc3RlZFR5cGVbbl09cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5uZXN0ZWRUeXBlW25dKX19aWYoZS5lbnVtVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QuZW51bVR5cGU9W107Zm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZW51bVR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmVudW1UeXBlW25dPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmVudW1UeXBlW25dKX19aWYoZS5leHRlbnNpb25SYW5nZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb25SYW5nZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uUmFuZ2U9W107Zm9yKG49MDtuPGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZXh0ZW5zaW9uUmFuZ2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uUmFuZ2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LmV4dGVuc2lvblJhbmdlW25dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5mcm9tT2JqZWN0KGUuZXh0ZW5zaW9uUmFuZ2Vbbl0pfX1pZihlLm9uZW9mRGVjbCl7aWYoIUFycmF5LmlzQXJyYXkoZS5vbmVvZkRlY2wpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm9uZW9mRGVjbDogYXJyYXkgZXhwZWN0ZWRcIik7dC5vbmVvZkRlY2w9W107Zm9yKG49MDtuPGUub25lb2ZEZWNsLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9uZW9mRGVjbFtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5vbmVvZkRlY2w6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9uZW9mRGVjbFtuXT1wLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUub25lb2ZEZWNsW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfWlmKGUucmVzZXJ2ZWRSYW5nZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2U9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5yZXNlcnZlZFJhbmdlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2Vbbl09cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuZnJvbU9iamVjdChlLnJlc2VydmVkUmFuZ2Vbbl0pfX1pZihlLnJlc2VydmVkTmFtZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZE5hbWU9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC5yZXNlcnZlZE5hbWVbbl09U3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKX1yZXR1cm4gdH0sTy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uZmllbGQ9W10sbi5uZXN0ZWRUeXBlPVtdLG4uZW51bVR5cGU9W10sbi5leHRlbnNpb25SYW5nZT1bXSxuLmV4dGVuc2lvbj1bXSxuLm9uZW9mRGVjbD1bXSxuLnJlc2VydmVkUmFuZ2U9W10sbi5yZXNlcnZlZE5hbWU9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLGUuZmllbGQmJmUuZmllbGQubGVuZ3RoKXtuLmZpZWxkPVtdO2Zvcih2YXIgbz0wO288ZS5maWVsZC5sZW5ndGg7KytvKW4uZmllbGRbb109cC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5maWVsZFtvXSx0KX1pZihlLm5lc3RlZFR5cGUmJmUubmVzdGVkVHlwZS5sZW5ndGgpe24ubmVzdGVkVHlwZT1bXTtmb3Iobz0wO288ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK28pbi5uZXN0ZWRUeXBlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by50b09iamVjdChlLm5lc3RlZFR5cGVbb10sdCl9aWYoZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpe24uZW51bVR5cGU9W107Zm9yKG89MDtvPGUuZW51bVR5cGUubGVuZ3RoOysrbyluLmVudW1UeXBlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5lbnVtVHlwZVtvXSx0KX1pZihlLmV4dGVuc2lvblJhbmdlJiZlLmV4dGVuc2lvblJhbmdlLmxlbmd0aCl7bi5leHRlbnNpb25SYW5nZT1bXTtmb3Iobz0wO288ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7KytvKW4uZXh0ZW5zaW9uUmFuZ2Vbb109cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLnRvT2JqZWN0KGUuZXh0ZW5zaW9uUmFuZ2Vbb10sdCl9aWYoZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aCl7bi5leHRlbnNpb249W107Zm9yKG89MDtvPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK28pbi5leHRlbnNpb25bb109cC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5leHRlbnNpb25bb10sdCl9aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLGUub25lb2ZEZWNsJiZlLm9uZW9mRGVjbC5sZW5ndGgpe24ub25lb2ZEZWNsPVtdO2ZvcihvPTA7bzxlLm9uZW9mRGVjbC5sZW5ndGg7KytvKW4ub25lb2ZEZWNsW29dPXAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUub25lb2ZEZWNsW29dLHQpfWlmKGUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aCl7bi5yZXNlcnZlZFJhbmdlPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbyluLnJlc2VydmVkUmFuZ2Vbb109cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UudG9PYmplY3QoZS5yZXNlcnZlZFJhbmdlW29dLHQpfWlmKGUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpe24ucmVzZXJ2ZWROYW1lPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWROYW1lW29dPWUucmVzZXJ2ZWROYW1lW29dfXJldHVybiBufSxPLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTy5FeHRlbnNpb25SYW5nZT0oYi5wcm90b3R5cGUuc3RhcnQ9MCxiLnByb3RvdHlwZS5lbmQ9MCxiLnByb3RvdHlwZS5vcHRpb25zPW51bGwsYi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBiKGUpfSxiLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5zdGFydCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0YXJ0XCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnN0YXJ0KSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMTYpLmludDMyKGUuZW5kKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZwLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxiLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxiLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2U7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zdGFydD1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8uZW5kPWUuaW50MzIoKTticmVhaztjYXNlIDM6by5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGIuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGIudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmIWkuaXNJbnRlZ2VyKGUuc3RhcnQpKXJldHVyblwic3RhcnQ6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIWkuaXNJbnRlZ2VyKGUuZW5kKSlyZXR1cm5cImVuZDogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe2U9cC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKGUpcmV0dXJuXCJvcHRpb25zLlwiK2V9cmV0dXJuIG51bGx9LGIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2U7aWYobnVsbCE9ZS5zdGFydCYmKHQuc3RhcnQ9MHxlLnN0YXJ0KSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LGIudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnN0YXJ0PTAsbi5lbmQ9MCxuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYobi5zdGFydD1lLnN0YXJ0KSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LGIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxiKSxPLlJlc2VydmVkUmFuZ2U9KG0ucHJvdG90eXBlLnN0YXJ0PTAsbS5wcm90b3R5cGUuZW5kPTAsbS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBtKGUpfSxtLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5zdGFydCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0YXJ0XCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnN0YXJ0KSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMTYpLmludDMyKGUuZW5kKSx0fSxtLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxtLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnN0YXJ0PWUuaW50MzIoKTticmVhaztjYXNlIDI6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sbS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbS52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYhaS5pc0ludGVnZXIoZS5zdGFydCk/XCJzdGFydDogaW50ZWdlciBleHBlY3RlZFwiOm51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhaS5pc0ludGVnZXIoZS5lbmQpP1wiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbH0sbS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2U/ZToodD1uZXcgcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UsbnVsbCE9ZS5zdGFydCYmKHQuc3RhcnQ9MHxlLnN0YXJ0KSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLHQpfSxtLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5zdGFydD0wLG4uZW5kPTApLG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmKG4uc3RhcnQ9ZS5zdGFydCksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbn0sbS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LG0pLE8pLHQuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zPShNLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPWkuZW1wdHlBcnJheSxNLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE0oZSl9LE0uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxNLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxNLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTk5OT8oby51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxNLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxNLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxNLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zO2lmKGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sTS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LE0ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxNKSx0LkZpZWxkRGVzY3JpcHRvclByb3RvPSh2LnByb3RvdHlwZS5uYW1lPVwiXCIsdi5wcm90b3R5cGUubnVtYmVyPTAsdi5wcm90b3R5cGUubGFiZWw9MSx2LnByb3RvdHlwZS50eXBlPTEsdi5wcm90b3R5cGUudHlwZU5hbWU9XCJcIix2LnByb3RvdHlwZS5leHRlbmRlZT1cIlwiLHYucHJvdG90eXBlLmRlZmF1bHRWYWx1ZT1cIlwiLHYucHJvdG90eXBlLm9uZW9mSW5kZXg9MCx2LnByb3RvdHlwZS5qc29uTmFtZT1cIlwiLHYucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx2LnByb3RvdHlwZS5wcm90bzNPcHRpb25hbD0hMSx2LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHYoZSl9LHYuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5leHRlbmRlZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImV4dGVuZGVlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuZXh0ZW5kZWUpLG51bGwhPWUubnVtYmVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibnVtYmVyXCIpJiZ0LnVpbnQzMigyNCkuaW50MzIoZS5udW1iZXIpLG51bGwhPWUubGFiZWwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsYWJlbFwiKSYmdC51aW50MzIoMzIpLmludDMyKGUubGFiZWwpLG51bGwhPWUudHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVcIikmJnQudWludDMyKDQwKS5pbnQzMihlLnR5cGUpLG51bGwhPWUudHlwZU5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlTmFtZVwiKSYmdC51aW50MzIoNTApLnN0cmluZyhlLnR5cGVOYW1lKSxudWxsIT1lLmRlZmF1bHRWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlZmF1bHRWYWx1ZVwiKSYmdC51aW50MzIoNTgpLnN0cmluZyhlLmRlZmF1bHRWYWx1ZSksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmcC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5vbmVvZkluZGV4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib25lb2ZJbmRleFwiKSYmdC51aW50MzIoNzIpLmludDMyKGUub25lb2ZJbmRleCksbnVsbCE9ZS5qc29uTmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImpzb25OYW1lXCIpJiZ0LnVpbnQzMig4Mikuc3RyaW5nKGUuanNvbk5hbWUpLG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwcm90bzNPcHRpb25hbFwiKSYmdC51aW50MzIoMTM2KS5ib29sKGUucHJvdG8zT3B0aW9uYWwpLHR9LHYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLm51bWJlcj1lLmludDMyKCk7YnJlYWs7Y2FzZSA0Om8ubGFiZWw9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNTpvLnR5cGU9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNjpvLnR5cGVOYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uZXh0ZW5kZWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDc6by5kZWZhdWx0VmFsdWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDk6by5vbmVvZkluZGV4PWUuaW50MzIoKTticmVhaztjYXNlIDEwOm8uanNvbk5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDg6by5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDE3Om8ucHJvdG8zT3B0aW9uYWw9ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx2LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx2LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJiFpLmlzSW50ZWdlcihlLm51bWJlcikpcmV0dXJuXCJudW1iZXI6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxhYmVsJiZlLmhhc093blByb3BlcnR5KFwibGFiZWxcIikpc3dpdGNoKGUubGFiZWwpe2RlZmF1bHQ6cmV0dXJuXCJsYWJlbDogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMTpjYXNlIDI6Y2FzZSAzOn1pZihudWxsIT1lLnR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpKXN3aXRjaChlLnR5cGUpe2RlZmF1bHQ6cmV0dXJuXCJ0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDY6Y2FzZSA3OmNhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAxNjpjYXNlIDE3OmNhc2UgMTg6fWlmKG51bGwhPWUudHlwZU5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlTmFtZVwiKSYmIWkuaXNTdHJpbmcoZS50eXBlTmFtZSkpcmV0dXJuXCJ0eXBlTmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5leHRlbmRlZSYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuZGVlXCIpJiYhaS5pc1N0cmluZyhlLmV4dGVuZGVlKSlyZXR1cm5cImV4dGVuZGVlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlZmF1bHRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmIWkuaXNTdHJpbmcoZS5kZWZhdWx0VmFsdWUpKXJldHVyblwiZGVmYXVsdFZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9uZW9mSW5kZXgmJmUuaGFzT3duUHJvcGVydHkoXCJvbmVvZkluZGV4XCIpJiYhaS5pc0ludGVnZXIoZS5vbmVvZkluZGV4KSlyZXR1cm5cIm9uZW9mSW5kZXg6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmpzb25OYW1lJiZlLmhhc093blByb3BlcnR5KFwianNvbk5hbWVcIikmJiFpLmlzU3RyaW5nKGUuanNvbk5hbWUpKXJldHVyblwianNvbk5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe3ZhciB0PXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZih0KXJldHVyblwib3B0aW9ucy5cIit0fXJldHVybiBudWxsIT1lLnByb3RvM09wdGlvbmFsJiZlLmhhc093blByb3BlcnR5KFwicHJvdG8zT3B0aW9uYWxcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5wcm90bzNPcHRpb25hbD9cInByb3RvM09wdGlvbmFsOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbH0sdi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG87c3dpdGNoKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5udW1iZXImJih0Lm51bWJlcj0wfGUubnVtYmVyKSxlLmxhYmVsKXtjYXNlXCJMQUJFTF9PUFRJT05BTFwiOmNhc2UgMTp0LmxhYmVsPTE7YnJlYWs7Y2FzZVwiTEFCRUxfUkVRVUlSRURcIjpjYXNlIDI6dC5sYWJlbD0yO2JyZWFrO2Nhc2VcIkxBQkVMX1JFUEVBVEVEXCI6Y2FzZSAzOnQubGFiZWw9M31zd2l0Y2goZS50eXBlKXtjYXNlXCJUWVBFX0RPVUJMRVwiOmNhc2UgMTp0LnR5cGU9MTticmVhaztjYXNlXCJUWVBFX0ZMT0FUXCI6Y2FzZSAyOnQudHlwZT0yO2JyZWFrO2Nhc2VcIlRZUEVfSU5UNjRcIjpjYXNlIDM6dC50eXBlPTM7YnJlYWs7Y2FzZVwiVFlQRV9VSU5UNjRcIjpjYXNlIDQ6dC50eXBlPTQ7YnJlYWs7Y2FzZVwiVFlQRV9JTlQzMlwiOmNhc2UgNTp0LnR5cGU9NTticmVhaztjYXNlXCJUWVBFX0ZJWEVENjRcIjpjYXNlIDY6dC50eXBlPTY7YnJlYWs7Y2FzZVwiVFlQRV9GSVhFRDMyXCI6Y2FzZSA3OnQudHlwZT03O2JyZWFrO2Nhc2VcIlRZUEVfQk9PTFwiOmNhc2UgODp0LnR5cGU9ODticmVhaztjYXNlXCJUWVBFX1NUUklOR1wiOmNhc2UgOTp0LnR5cGU9OTticmVhaztjYXNlXCJUWVBFX0dST1VQXCI6Y2FzZSAxMDp0LnR5cGU9MTA7YnJlYWs7Y2FzZVwiVFlQRV9NRVNTQUdFXCI6Y2FzZSAxMTp0LnR5cGU9MTE7YnJlYWs7Y2FzZVwiVFlQRV9CWVRFU1wiOmNhc2UgMTI6dC50eXBlPTEyO2JyZWFrO2Nhc2VcIlRZUEVfVUlOVDMyXCI6Y2FzZSAxMzp0LnR5cGU9MTM7YnJlYWs7Y2FzZVwiVFlQRV9FTlVNXCI6Y2FzZSAxNDp0LnR5cGU9MTQ7YnJlYWs7Y2FzZVwiVFlQRV9TRklYRUQzMlwiOmNhc2UgMTU6dC50eXBlPTE1O2JyZWFrO2Nhc2VcIlRZUEVfU0ZJWEVENjRcIjpjYXNlIDE2OnQudHlwZT0xNjticmVhaztjYXNlXCJUWVBFX1NJTlQzMlwiOmNhc2UgMTc6dC50eXBlPTE3O2JyZWFrO2Nhc2VcIlRZUEVfU0lOVDY0XCI6Y2FzZSAxODp0LnR5cGU9MTh9aWYobnVsbCE9ZS50eXBlTmFtZSYmKHQudHlwZU5hbWU9U3RyaW5nKGUudHlwZU5hbWUpKSxudWxsIT1lLmV4dGVuZGVlJiYodC5leHRlbmRlZT1TdHJpbmcoZS5leHRlbmRlZSkpLG51bGwhPWUuZGVmYXVsdFZhbHVlJiYodC5kZWZhdWx0VmFsdWU9U3RyaW5nKGUuZGVmYXVsdFZhbHVlKSksbnVsbCE9ZS5vbmVvZkluZGV4JiYodC5vbmVvZkluZGV4PTB8ZS5vbmVvZkluZGV4KSxudWxsIT1lLmpzb25OYW1lJiYodC5qc29uTmFtZT1TdHJpbmcoZS5qc29uTmFtZSkpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmKHQucHJvdG8zT3B0aW9uYWw9Qm9vbGVhbihlLnByb3RvM09wdGlvbmFsKSksdH0sdi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4uZXh0ZW5kZWU9XCJcIixuLm51bWJlcj0wLG4ubGFiZWw9dC5lbnVtcz09PVN0cmluZz9cIkxBQkVMX09QVElPTkFMXCI6MSxuLnR5cGU9dC5lbnVtcz09PVN0cmluZz9cIlRZUEVfRE9VQkxFXCI6MSxuLnR5cGVOYW1lPVwiXCIsbi5kZWZhdWx0VmFsdWU9XCJcIixuLm9wdGlvbnM9bnVsbCxuLm9uZW9mSW5kZXg9MCxuLmpzb25OYW1lPVwiXCIsbi5wcm90bzNPcHRpb25hbD0hMSksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUuZXh0ZW5kZWUmJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbmRlZVwiKSYmKG4uZXh0ZW5kZWU9ZS5leHRlbmRlZSksbnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJihuLm51bWJlcj1lLm51bWJlciksbnVsbCE9ZS5sYWJlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImxhYmVsXCIpJiYobi5sYWJlbD10LmVudW1zPT09U3RyaW5nP3AuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsW2UubGFiZWxdOmUubGFiZWwpLG51bGwhPWUudHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikmJihuLnR5cGU9dC5lbnVtcz09PVN0cmluZz9wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlW2UudHlwZV06ZS50eXBlKSxudWxsIT1lLnR5cGVOYW1lJiZlLmhhc093blByb3BlcnR5KFwidHlwZU5hbWVcIikmJihuLnR5cGVOYW1lPWUudHlwZU5hbWUpLG51bGwhPWUuZGVmYXVsdFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZGVmYXVsdFZhbHVlXCIpJiYobi5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbnVsbCE9ZS5vbmVvZkluZGV4JiZlLmhhc093blByb3BlcnR5KFwib25lb2ZJbmRleFwiKSYmKG4ub25lb2ZJbmRleD1lLm9uZW9mSW5kZXgpLG51bGwhPWUuanNvbk5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqc29uTmFtZVwiKSYmKG4uanNvbk5hbWU9ZS5qc29uTmFtZSksbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmZS5oYXNPd25Qcm9wZXJ0eShcInByb3RvM09wdGlvbmFsXCIpJiYobi5wcm90bzNPcHRpb25hbD1lLnByb3RvM09wdGlvbmFsKSxufSx2LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sdi5UeXBlPShuPXt9LChlPU9iamVjdC5jcmVhdGUobikpW25bMV09XCJUWVBFX0RPVUJMRVwiXT0xLGVbblsyXT1cIlRZUEVfRkxPQVRcIl09MixlW25bM109XCJUWVBFX0lOVDY0XCJdPTMsZVtuWzRdPVwiVFlQRV9VSU5UNjRcIl09NCxlW25bNV09XCJUWVBFX0lOVDMyXCJdPTUsZVtuWzZdPVwiVFlQRV9GSVhFRDY0XCJdPTYsZVtuWzddPVwiVFlQRV9GSVhFRDMyXCJdPTcsZVtuWzhdPVwiVFlQRV9CT09MXCJdPTgsZVtuWzldPVwiVFlQRV9TVFJJTkdcIl09OSxlW25bMTBdPVwiVFlQRV9HUk9VUFwiXT0xMCxlW25bMTFdPVwiVFlQRV9NRVNTQUdFXCJdPTExLGVbblsxMl09XCJUWVBFX0JZVEVTXCJdPTEyLGVbblsxM109XCJUWVBFX1VJTlQzMlwiXT0xMyxlW25bMTRdPVwiVFlQRV9FTlVNXCJdPTE0LGVbblsxNV09XCJUWVBFX1NGSVhFRDMyXCJdPTE1LGVbblsxNl09XCJUWVBFX1NGSVhFRDY0XCJdPTE2LGVbblsxN109XCJUWVBFX1NJTlQzMlwiXT0xNyxlW25bMThdPVwiVFlQRV9TSU5UNjRcIl09MTgsZSksdi5MYWJlbD0obj17fSwoZT1PYmplY3QuY3JlYXRlKG4pKVtuWzFdPVwiTEFCRUxfT1BUSU9OQUxcIl09MSxlW25bMl09XCJMQUJFTF9SRVFVSVJFRFwiXT0yLGVbblszXT1cIkxBQkVMX1JFUEVBVEVEXCJdPTMsZSksdiksdC5PbmVvZkRlc2NyaXB0b3JQcm90bz0ody5wcm90b3R5cGUubmFtZT1cIlwiLHcucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx3LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHcoZSl9LHcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmcC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sdy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sdy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx3LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx3LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7ZT1wLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYoZSlyZXR1cm5cIm9wdGlvbnMuXCIrZX1yZXR1cm4gbnVsbH0sdy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LHcudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sdy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHcpLHQuRW51bURlc2NyaXB0b3JQcm90bz0oUC5wcm90b3R5cGUubmFtZT1cIlwiLFAucHJvdG90eXBlLnZhbHVlPWkuZW1wdHlBcnJheSxQLnByb3RvdHlwZS5vcHRpb25zPW51bGwsUC5wcm90b3R5cGUucmVzZXJ2ZWRSYW5nZT1pLmVtcHR5QXJyYXksUC5wcm90b3R5cGUucmVzZXJ2ZWROYW1lPWkuZW1wdHlBcnJheSxQLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFAoZSl9LFAuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLnZhbHVlJiZlLnZhbHVlLmxlbmd0aClmb3IodmFyIG49MDtuPGUudmFsdWUubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUudmFsdWVbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmcC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UuZW5jb2RlKGUucmVzZXJ2ZWRSYW5nZVtuXSx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQudWludDMyKDQyKS5zdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pO3JldHVybiB0fSxQLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxQLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnZhbHVlJiZvLnZhbHVlLmxlbmd0aHx8KG8udmFsdWU9W10pLG8udmFsdWUucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA0Om8ucmVzZXJ2ZWRSYW5nZSYmby5yZXNlcnZlZFJhbmdlLmxlbmd0aHx8KG8ucmVzZXJ2ZWRSYW5nZT1bXSksby5yZXNlcnZlZFJhbmdlLnB1c2gocC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA1Om8ucmVzZXJ2ZWROYW1lJiZvLnJlc2VydmVkTmFtZS5sZW5ndGh8fChvLnJlc2VydmVkTmFtZT1bXSksby5yZXNlcnZlZE5hbWUucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFAuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFAudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnZhbHVlJiZlLmhhc093blByb3BlcnR5KFwidmFsdWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUudmFsdWUpKXJldHVyblwidmFsdWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnZhbHVlLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUudmFsdWVbdF0pKXJldHVyblwidmFsdWUuXCIrbn1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247aWYobnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWRSYW5nZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSlyZXR1cm5cInJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciBuLHQ9MDt0PGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS52ZXJpZnkoZS5yZXNlcnZlZFJhbmdlW3RdKSlyZXR1cm5cInJlc2VydmVkUmFuZ2UuXCIrbn1pZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkTmFtZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXJldHVyblwicmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnJlc2VydmVkTmFtZS5sZW5ndGg7Kyt0KWlmKCFpLmlzU3RyaW5nKGUucmVzZXJ2ZWROYW1lW3RdKSlyZXR1cm5cInJlc2VydmVkTmFtZTogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sUC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksZS52YWx1ZSl7aWYoIUFycmF5LmlzQXJyYXkoZS52YWx1ZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZhbHVlOiBhcnJheSBleHBlY3RlZFwiKTt0LnZhbHVlPVtdO2Zvcih2YXIgbj0wO248ZS52YWx1ZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS52YWx1ZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmFsdWU6IG9iamVjdCBleHBlY3RlZFwiKTt0LnZhbHVlW25dPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUudmFsdWVbbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfWlmKGUucmVzZXJ2ZWRSYW5nZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucmVzZXJ2ZWRSYW5nZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZVtuXT1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLmZyb21PYmplY3QoZS5yZXNlcnZlZFJhbmdlW25dKX19aWYoZS5yZXNlcnZlZE5hbWUpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkTmFtZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnJlc2VydmVkTmFtZVtuXT1TdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pfXJldHVybiB0fSxQLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi52YWx1ZT1bXSxuLnJlc2VydmVkUmFuZ2U9W10sbi5yZXNlcnZlZE5hbWU9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLGUudmFsdWUmJmUudmFsdWUubGVuZ3RoKXtuLnZhbHVlPVtdO2Zvcih2YXIgbz0wO288ZS52YWx1ZS5sZW5ndGg7KytvKW4udmFsdWVbb109cC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUudmFsdWVbb10sdCl9aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLGUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aCl7bi5yZXNlcnZlZFJhbmdlPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbyluLnJlc2VydmVkUmFuZ2Vbb109cC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS50b09iamVjdChlLnJlc2VydmVkUmFuZ2Vbb10sdCl9aWYoZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aCl7bi5yZXNlcnZlZE5hbWU9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK28pbi5yZXNlcnZlZE5hbWVbb109ZS5yZXNlcnZlZE5hbWVbb119cmV0dXJuIG59LFAucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxQLkVudW1SZXNlcnZlZFJhbmdlPShfLnByb3RvdHlwZS5zdGFydD0wLF8ucHJvdG90eXBlLmVuZD0wLF8uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgXyhlKX0sXy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuc3RhcnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdGFydFwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5zdGFydCksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDE2KS5pbnQzMihlLmVuZCksdH0sXy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sXy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnN0YXJ0PWUuaW50MzIoKTticmVhaztjYXNlIDI6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sXy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sXy52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYhaS5pc0ludGVnZXIoZS5zdGFydCk/XCJzdGFydDogaW50ZWdlciBleHBlY3RlZFwiOm51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhaS5pc0ludGVnZXIoZS5lbmQpP1wiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbH0sXy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZT9lOih0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLG51bGwhPWUuc3RhcnQmJih0LnN0YXJ0PTB8ZS5zdGFydCksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSx0KX0sXy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uc3RhcnQ9MCxuLmVuZD0wKSxudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJihuLnN0YXJ0PWUuc3RhcnQpLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG59LF8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxfKSxQKSx0LkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bz0oai5wcm90b3R5cGUubmFtZT1cIlwiLGoucHJvdG90eXBlLm51bWJlcj0wLGoucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxqLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGooZSl9LGouZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5udW1iZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJudW1iZXJcIikmJnQudWludDMyKDE2KS5pbnQzMihlLm51bWJlciksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmcC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGouZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGouZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5udW1iZXI9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGouZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGoudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmIWkuaXNJbnRlZ2VyKGUubnVtYmVyKSlyZXR1cm5cIm51bWJlcjogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe2U9cC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZihlKXJldHVyblwib3B0aW9ucy5cIitlfXJldHVybiBudWxsfSxqLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5udW1iZXImJih0Lm51bWJlcj0wfGUubnVtYmVyKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sai50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ubnVtYmVyPTAsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmKG4ubnVtYmVyPWUubnVtYmVyKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSxqLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0saiksdC5TZXJ2aWNlRGVzY3JpcHRvclByb3RvPShTLnByb3RvdHlwZS5uYW1lPVwiXCIsUy5wcm90b3R5cGUubWV0aG9kPWkuZW1wdHlBcnJheSxTLnByb3RvdHlwZS5vcHRpb25zPW51bGwsUy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTKGUpfSxTLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5tZXRob2QmJmUubWV0aG9kLmxlbmd0aClmb3IodmFyIG49MDtuPGUubWV0aG9kLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm1ldGhvZFtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmcC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxTLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxTLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm1ldGhvZCYmby5tZXRob2QubGVuZ3RofHwoby5tZXRob2Q9W10pLG8ubWV0aG9kLnB1c2gocC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sUy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubWV0aG9kJiZlLmhhc093blByb3BlcnR5KFwibWV0aG9kXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm1ldGhvZCkpcmV0dXJuXCJtZXRob2Q6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLm1ldGhvZC5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm1ldGhvZFt0XSkpcmV0dXJuXCJtZXRob2QuXCIrbn12YXIgbjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1wLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247cmV0dXJuIG51bGx9LFMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLGUubWV0aG9kKXtpZighQXJyYXkuaXNBcnJheShlLm1ldGhvZCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLm1ldGhvZDogYXJyYXkgZXhwZWN0ZWRcIik7dC5tZXRob2Q9W107Zm9yKHZhciBuPTA7bjxlLm1ldGhvZC5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5tZXRob2Rbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLm1ldGhvZDogb2JqZWN0IGV4cGVjdGVkXCIpO3QubWV0aG9kW25dPXAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUubWV0aG9kW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sUy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ubWV0aG9kPVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxlLm1ldGhvZCYmZS5tZXRob2QubGVuZ3RoKXtuLm1ldGhvZD1bXTtmb3IodmFyIG89MDtvPGUubWV0aG9kLmxlbmd0aDsrK28pbi5tZXRob2Rbb109cC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUubWV0aG9kW29dLHQpfXJldHVybiBudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sUy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFMpLHQuTWV0aG9kRGVzY3JpcHRvclByb3RvPSh4LnByb3RvdHlwZS5uYW1lPVwiXCIseC5wcm90b3R5cGUuaW5wdXRUeXBlPVwiXCIseC5wcm90b3R5cGUub3V0cHV0VHlwZT1cIlwiLHgucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx4LnByb3RvdHlwZS5jbGllbnRTdHJlYW1pbmc9ITEseC5wcm90b3R5cGUuc2VydmVyU3RyZWFtaW5nPSExLHguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeChlKX0seC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLmlucHV0VHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlucHV0VHlwZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmlucHV0VHlwZSksbnVsbCE9ZS5vdXRwdXRUeXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3V0cHV0VHlwZVwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLm91dHB1dFR5cGUpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNsaWVudFN0cmVhbWluZ1wiKSYmdC51aW50MzIoNDApLmJvb2woZS5jbGllbnRTdHJlYW1pbmcpLG51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2VydmVyU3RyZWFtaW5nXCIpJiZ0LnVpbnQzMig0OCkuYm9vbChlLnNlcnZlclN0cmVhbWluZyksdH0seC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0seC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmlucHV0VHlwZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLm91dHB1dFR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA1Om8uY2xpZW50U3RyZWFtaW5nPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNjpvLnNlcnZlclN0cmVhbWluZz1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHgudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmlucHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlucHV0VHlwZVwiKSYmIWkuaXNTdHJpbmcoZS5pbnB1dFR5cGUpKXJldHVyblwiaW5wdXRUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm91dHB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJvdXRwdXRUeXBlXCIpJiYhaS5pc1N0cmluZyhlLm91dHB1dFR5cGUpKXJldHVyblwib3V0cHV0VHlwZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7dmFyIHQ9cC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZih0KXJldHVyblwib3B0aW9ucy5cIit0fXJldHVybiBudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudFN0cmVhbWluZ1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmNsaWVudFN0cmVhbWluZz9cImNsaWVudFN0cmVhbWluZzogYm9vbGVhbiBleHBlY3RlZFwiOm51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwic2VydmVyU3RyZWFtaW5nXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuc2VydmVyU3RyZWFtaW5nP1wic2VydmVyU3RyZWFtaW5nOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbH0seC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUuaW5wdXRUeXBlJiYodC5pbnB1dFR5cGU9U3RyaW5nKGUuaW5wdXRUeXBlKSksbnVsbCE9ZS5vdXRwdXRUeXBlJiYodC5vdXRwdXRUeXBlPVN0cmluZyhlLm91dHB1dFR5cGUpKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJih0LmNsaWVudFN0cmVhbWluZz1Cb29sZWFuKGUuY2xpZW50U3RyZWFtaW5nKSksbnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJih0LnNlcnZlclN0cmVhbWluZz1Cb29sZWFuKGUuc2VydmVyU3RyZWFtaW5nKSksdH0seC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4uaW5wdXRUeXBlPVwiXCIsbi5vdXRwdXRUeXBlPVwiXCIsbi5vcHRpb25zPW51bGwsbi5jbGllbnRTdHJlYW1pbmc9ITEsbi5zZXJ2ZXJTdHJlYW1pbmc9ITEpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLmlucHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlucHV0VHlwZVwiKSYmKG4uaW5wdXRUeXBlPWUuaW5wdXRUeXBlKSxudWxsIT1lLm91dHB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJvdXRwdXRUeXBlXCIpJiYobi5vdXRwdXRUeXBlPWUub3V0cHV0VHlwZSksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJjbGllbnRTdHJlYW1pbmdcIikmJihuLmNsaWVudFN0cmVhbWluZz1lLmNsaWVudFN0cmVhbWluZyksbnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2ZXJTdHJlYW1pbmdcIikmJihuLnNlcnZlclN0cmVhbWluZz1lLnNlcnZlclN0cmVhbWluZyksbn0seC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHgpLHQuRmlsZU9wdGlvbnM9KGsucHJvdG90eXBlLmphdmFQYWNrYWdlPVwiXCIsay5wcm90b3R5cGUuamF2YU91dGVyQ2xhc3NuYW1lPVwiXCIsay5wcm90b3R5cGUuamF2YU11bHRpcGxlRmlsZXM9ITEsay5wcm90b3R5cGUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD0hMSxrLnByb3RvdHlwZS5qYXZhU3RyaW5nQ2hlY2tVdGY4PSExLGsucHJvdG90eXBlLm9wdGltaXplRm9yPTEsay5wcm90b3R5cGUuZ29QYWNrYWdlPVwiXCIsay5wcm90b3R5cGUuY2NHZW5lcmljU2VydmljZXM9ITEsay5wcm90b3R5cGUuamF2YUdlbmVyaWNTZXJ2aWNlcz0hMSxrLnByb3RvdHlwZS5weUdlbmVyaWNTZXJ2aWNlcz0hMSxrLnByb3RvdHlwZS5waHBHZW5lcmljU2VydmljZXM9ITEsay5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxrLnByb3RvdHlwZS5jY0VuYWJsZUFyZW5hcz0hMCxrLnByb3RvdHlwZS5vYmpjQ2xhc3NQcmVmaXg9XCJcIixrLnByb3RvdHlwZS5jc2hhcnBOYW1lc3BhY2U9XCJcIixrLnByb3RvdHlwZS5zd2lmdFByZWZpeD1cIlwiLGsucHJvdG90eXBlLnBocENsYXNzUHJlZml4PVwiXCIsay5wcm90b3R5cGUucGhwTmFtZXNwYWNlPVwiXCIsay5wcm90b3R5cGUucGhwTWV0YWRhdGFOYW1lc3BhY2U9XCJcIixrLnByb3RvdHlwZS5ydWJ5UGFja2FnZT1cIlwiLGsucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249aS5lbXB0eUFycmF5LGsuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgayhlKX0say5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5qYXZhUGFja2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFQYWNrYWdlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuamF2YVBhY2thZ2UpLG51bGwhPWUuamF2YU91dGVyQ2xhc3NuYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YU91dGVyQ2xhc3NuYW1lXCIpJiZ0LnVpbnQzMig2Nikuc3RyaW5nKGUuamF2YU91dGVyQ2xhc3NuYW1lKSxudWxsIT1lLm9wdGltaXplRm9yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW1pemVGb3JcIikmJnQudWludDMyKDcyKS5pbnQzMihlLm9wdGltaXplRm9yKSxudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YU11bHRpcGxlRmlsZXNcIikmJnQudWludDMyKDgwKS5ib29sKGUuamF2YU11bHRpcGxlRmlsZXMpLG51bGwhPWUuZ29QYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZ29QYWNrYWdlXCIpJiZ0LnVpbnQzMig5MCkuc3RyaW5nKGUuZ29QYWNrYWdlKSxudWxsIT1lLmNjR2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2NHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDEyOCkuYm9vbChlLmNjR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiZ0LnVpbnQzMigxMzYpLmJvb2woZS5qYXZhR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHlHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDE0NCkuYm9vbChlLnB5R2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoXCIpJiZ0LnVpbnQzMigxNjApLmJvb2woZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigxODQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhU3RyaW5nQ2hlY2tVdGY4XCIpJiZ0LnVpbnQzMigyMTYpLmJvb2woZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2NFbmFibGVBcmVuYXNcIikmJnQudWludDMyKDI0OCkuYm9vbChlLmNjRW5hYmxlQXJlbmFzKSxudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9iamNDbGFzc1ByZWZpeFwiKSYmdC51aW50MzIoMjkwKS5zdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3NoYXJwTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigyOTgpLnN0cmluZyhlLmNzaGFycE5hbWVzcGFjZSksbnVsbCE9ZS5zd2lmdFByZWZpeCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN3aWZ0UHJlZml4XCIpJiZ0LnVpbnQzMigzMTQpLnN0cmluZyhlLnN3aWZ0UHJlZml4KSxudWxsIT1lLnBocENsYXNzUHJlZml4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwQ2xhc3NQcmVmaXhcIikmJnQudWludDMyKDMyMikuc3RyaW5nKGUucGhwQ2xhc3NQcmVmaXgpLG51bGwhPWUucGhwTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigzMzApLnN0cmluZyhlLnBocE5hbWVzcGFjZSksbnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDMzNikuYm9vbChlLnBocEdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigzNTQpLnN0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSxudWxsIT1lLnJ1YnlQYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicnVieVBhY2thZ2VcIikmJnQudWludDMyKDM2Mikuc3RyaW5nKGUucnVieVBhY2thZ2UpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxrLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxrLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmphdmFQYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Om8uamF2YU91dGVyQ2xhc3NuYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDpvLmphdmFNdWx0aXBsZUZpbGVzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjA6by5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjc6by5qYXZhU3RyaW5nQ2hlY2tVdGY4PWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTpvLm9wdGltaXplRm9yPWUuaW50MzIoKTticmVhaztjYXNlIDExOm8uZ29QYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxNjpvLmNjR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTc6by5qYXZhR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTg6by5weUdlbmVyaWNTZXJ2aWNlcz1lLmJvb2woKTticmVhaztjYXNlIDQyOm8ucGhwR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzE6by5jY0VuYWJsZUFyZW5hcz1lLmJvb2woKTticmVhaztjYXNlIDM2Om8ub2JqY0NsYXNzUHJlZml4PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzNzpvLmNzaGFycE5hbWVzcGFjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzk6by5zd2lmdFByZWZpeD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDA6by5waHBDbGFzc1ByZWZpeD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDE6by5waHBOYW1lc3BhY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ0Om8ucGhwTWV0YWRhdGFOYW1lc3BhY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ1Om8ucnVieVBhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30say5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0say52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFQYWNrYWdlXCIpJiYhaS5pc1N0cmluZyhlLmphdmFQYWNrYWdlKSlyZXR1cm5cImphdmFQYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFPdXRlckNsYXNzbmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5qYXZhT3V0ZXJDbGFzc25hbWUpKXJldHVyblwiamF2YU91dGVyQ2xhc3NuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZlLmhhc093blByb3BlcnR5KFwiamF2YU11bHRpcGxlRmlsZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhTXVsdGlwbGVGaWxlcylyZXR1cm5cImphdmFNdWx0aXBsZUZpbGVzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpcmV0dXJuXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4JiZlLmhhc093blByb3BlcnR5KFwiamF2YVN0cmluZ0NoZWNrVXRmOFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFTdHJpbmdDaGVja1V0ZjgpcmV0dXJuXCJqYXZhU3RyaW5nQ2hlY2tVdGY4OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpbWl6ZUZvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGltaXplRm9yXCIpKXN3aXRjaChlLm9wdGltaXplRm9yKXtkZWZhdWx0OnJldHVyblwib3B0aW1pemVGb3I6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDE6Y2FzZSAyOmNhc2UgMzp9aWYobnVsbCE9ZS5nb1BhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJnb1BhY2thZ2VcIikmJiFpLmlzU3RyaW5nKGUuZ29QYWNrYWdlKSlyZXR1cm5cImdvUGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjR2VuZXJpY1NlcnZpY2VzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuY2NHZW5lcmljU2VydmljZXMpcmV0dXJuXCJjY0dlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhR2VuZXJpY1NlcnZpY2VzKXJldHVyblwiamF2YUdlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJweUdlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnB5R2VuZXJpY1NlcnZpY2VzKXJldHVyblwicHlHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnBocEdlbmVyaWNTZXJ2aWNlcylyZXR1cm5cInBocEdlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0VuYWJsZUFyZW5hc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmNjRW5hYmxlQXJlbmFzKXJldHVyblwiY2NFbmFibGVBcmVuYXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9iamNDbGFzc1ByZWZpeFwiKSYmIWkuaXNTdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpKXJldHVyblwib2JqY0NsYXNzUHJlZml4OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNzaGFycE5hbWVzcGFjZVwiKSYmIWkuaXNTdHJpbmcoZS5jc2hhcnBOYW1lc3BhY2UpKXJldHVyblwiY3NoYXJwTmFtZXNwYWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnN3aWZ0UHJlZml4JiZlLmhhc093blByb3BlcnR5KFwic3dpZnRQcmVmaXhcIikmJiFpLmlzU3RyaW5nKGUuc3dpZnRQcmVmaXgpKXJldHVyblwic3dpZnRQcmVmaXg6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBDbGFzc1ByZWZpeFwiKSYmIWkuaXNTdHJpbmcoZS5waHBDbGFzc1ByZWZpeCkpcmV0dXJuXCJwaHBDbGFzc1ByZWZpeDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBOYW1lc3BhY2VcIikmJiFpLmlzU3RyaW5nKGUucGhwTmFtZXNwYWNlKSlyZXR1cm5cInBocE5hbWVzcGFjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiYhaS5pc1N0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSlyZXR1cm5cInBocE1ldGFkYXRhTmFtZXNwYWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJ1YnlQYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicnVieVBhY2thZ2VcIikmJiFpLmlzU3RyaW5nKGUucnVieVBhY2thZ2UpKXJldHVyblwicnVieVBhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LGsuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zO3N3aXRjaChudWxsIT1lLmphdmFQYWNrYWdlJiYodC5qYXZhUGFja2FnZT1TdHJpbmcoZS5qYXZhUGFja2FnZSkpLG51bGwhPWUuamF2YU91dGVyQ2xhc3NuYW1lJiYodC5qYXZhT3V0ZXJDbGFzc25hbWU9U3RyaW5nKGUuamF2YU91dGVyQ2xhc3NuYW1lKSksbnVsbCE9ZS5qYXZhTXVsdGlwbGVGaWxlcyYmKHQuamF2YU11bHRpcGxlRmlsZXM9Qm9vbGVhbihlLmphdmFNdWx0aXBsZUZpbGVzKSksbnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiYodC5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPUJvb2xlYW4oZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKSksbnVsbCE9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4JiYodC5qYXZhU3RyaW5nQ2hlY2tVdGY4PUJvb2xlYW4oZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSksZS5vcHRpbWl6ZUZvcil7Y2FzZVwiU1BFRURcIjpjYXNlIDE6dC5vcHRpbWl6ZUZvcj0xO2JyZWFrO2Nhc2VcIkNPREVfU0laRVwiOmNhc2UgMjp0Lm9wdGltaXplRm9yPTI7YnJlYWs7Y2FzZVwiTElURV9SVU5USU1FXCI6Y2FzZSAzOnQub3B0aW1pemVGb3I9M31pZihudWxsIT1lLmdvUGFja2FnZSYmKHQuZ29QYWNrYWdlPVN0cmluZyhlLmdvUGFja2FnZSkpLG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJih0LmNjR2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5jY0dlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmKHQuamF2YUdlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUuamF2YUdlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJih0LnB5R2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5weUdlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUucGhwR2VuZXJpY1NlcnZpY2VzJiYodC5waHBHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLnBocEdlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJih0LmNjRW5hYmxlQXJlbmFzPUJvb2xlYW4oZS5jY0VuYWJsZUFyZW5hcykpLG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiYodC5vYmpjQ2xhc3NQcmVmaXg9U3RyaW5nKGUub2JqY0NsYXNzUHJlZml4KSksbnVsbCE9ZS5jc2hhcnBOYW1lc3BhY2UmJih0LmNzaGFycE5hbWVzcGFjZT1TdHJpbmcoZS5jc2hhcnBOYW1lc3BhY2UpKSxudWxsIT1lLnN3aWZ0UHJlZml4JiYodC5zd2lmdFByZWZpeD1TdHJpbmcoZS5zd2lmdFByZWZpeCkpLG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJih0LnBocENsYXNzUHJlZml4PVN0cmluZyhlLnBocENsYXNzUHJlZml4KSksbnVsbCE9ZS5waHBOYW1lc3BhY2UmJih0LnBocE5hbWVzcGFjZT1TdHJpbmcoZS5waHBOYW1lc3BhY2UpKSxudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiYodC5waHBNZXRhZGF0YU5hbWVzcGFjZT1TdHJpbmcoZS5waHBNZXRhZGF0YU5hbWVzcGFjZSkpLG51bGwhPWUucnVieVBhY2thZ2UmJih0LnJ1YnlQYWNrYWdlPVN0cmluZyhlLnJ1YnlQYWNrYWdlKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0say50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uamF2YVBhY2thZ2U9XCJcIixuLmphdmFPdXRlckNsYXNzbmFtZT1cIlwiLG4ub3B0aW1pemVGb3I9dC5lbnVtcz09PVN0cmluZz9cIlNQRUVEXCI6MSxuLmphdmFNdWx0aXBsZUZpbGVzPSExLG4uZ29QYWNrYWdlPVwiXCIsbi5jY0dlbmVyaWNTZXJ2aWNlcz0hMSxuLmphdmFHZW5lcmljU2VydmljZXM9ITEsbi5weUdlbmVyaWNTZXJ2aWNlcz0hMSxuLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ITEsbi5kZXByZWNhdGVkPSExLG4uamF2YVN0cmluZ0NoZWNrVXRmOD0hMSxuLmNjRW5hYmxlQXJlbmFzPSEwLG4ub2JqY0NsYXNzUHJlZml4PVwiXCIsbi5jc2hhcnBOYW1lc3BhY2U9XCJcIixuLnN3aWZ0UHJlZml4PVwiXCIsbi5waHBDbGFzc1ByZWZpeD1cIlwiLG4ucGhwTmFtZXNwYWNlPVwiXCIsbi5waHBHZW5lcmljU2VydmljZXM9ITEsbi5waHBNZXRhZGF0YU5hbWVzcGFjZT1cIlwiLG4ucnVieVBhY2thZ2U9XCJcIiksbnVsbCE9ZS5qYXZhUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFQYWNrYWdlXCIpJiYobi5qYXZhUGFja2FnZT1lLmphdmFQYWNrYWdlKSxudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFPdXRlckNsYXNzbmFtZVwiKSYmKG4uamF2YU91dGVyQ2xhc3NuYW1lPWUuamF2YU91dGVyQ2xhc3NuYW1lKSxudWxsIT1lLm9wdGltaXplRm9yJiZlLmhhc093blByb3BlcnR5KFwib3B0aW1pemVGb3JcIikmJihuLm9wdGltaXplRm9yPXQuZW51bXM9PT1TdHJpbmc/cC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuT3B0aW1pemVNb2RlW2Uub3B0aW1pemVGb3JdOmUub3B0aW1pemVGb3IpLG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhTXVsdGlwbGVGaWxlc1wiKSYmKG4uamF2YU11bHRpcGxlRmlsZXM9ZS5qYXZhTXVsdGlwbGVGaWxlcyksbnVsbCE9ZS5nb1BhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJnb1BhY2thZ2VcIikmJihuLmdvUGFja2FnZT1lLmdvUGFja2FnZSksbnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjR2VuZXJpY1NlcnZpY2VzXCIpJiYobi5jY0dlbmVyaWNTZXJ2aWNlcz1lLmNjR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiYobi5qYXZhR2VuZXJpY1NlcnZpY2VzPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5weUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInB5R2VuZXJpY1NlcnZpY2VzXCIpJiYobi5weUdlbmVyaWNTZXJ2aWNlcz1lLnB5R2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoXCIpJiYobi5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFTdHJpbmdDaGVja1V0ZjhcIikmJihuLmphdmFTdHJpbmdDaGVja1V0Zjg9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZlLmhhc093blByb3BlcnR5KFwiY2NFbmFibGVBcmVuYXNcIikmJihuLmNjRW5hYmxlQXJlbmFzPWUuY2NFbmFibGVBcmVuYXMpLG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiZlLmhhc093blByb3BlcnR5KFwib2JqY0NsYXNzUHJlZml4XCIpJiYobi5vYmpjQ2xhc3NQcmVmaXg9ZS5vYmpjQ2xhc3NQcmVmaXgpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwiY3NoYXJwTmFtZXNwYWNlXCIpJiYobi5jc2hhcnBOYW1lc3BhY2U9ZS5jc2hhcnBOYW1lc3BhY2UpLG51bGwhPWUuc3dpZnRQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJzd2lmdFByZWZpeFwiKSYmKG4uc3dpZnRQcmVmaXg9ZS5zd2lmdFByZWZpeCksbnVsbCE9ZS5waHBDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcInBocENsYXNzUHJlZml4XCIpJiYobi5waHBDbGFzc1ByZWZpeD1lLnBocENsYXNzUHJlZml4KSxudWxsIT1lLnBocE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE5hbWVzcGFjZVwiKSYmKG4ucGhwTmFtZXNwYWNlPWUucGhwTmFtZXNwYWNlKSxudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmKG4ucGhwR2VuZXJpY1NlcnZpY2VzPWUucGhwR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwicGhwTWV0YWRhdGFOYW1lc3BhY2VcIikmJihuLnBocE1ldGFkYXRhTmFtZXNwYWNlPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UpLG51bGwhPWUucnVieVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJydWJ5UGFja2FnZVwiKSYmKG4ucnVieVBhY2thZ2U9ZS5ydWJ5UGFja2FnZSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LGsucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxrLk9wdGltaXplTW9kZT0obj17fSwoZT1PYmplY3QuY3JlYXRlKG4pKVtuWzFdPVwiU1BFRURcIl09MSxlW25bMl09XCJDT0RFX1NJWkVcIl09MixlW25bM109XCJMSVRFX1JVTlRJTUVcIl09MyxlKSxrKSx0Lk1lc3NhZ2VPcHRpb25zPShELnByb3RvdHlwZS5tZXNzYWdlU2V0V2lyZUZvcm1hdD0hMSxELnByb3RvdHlwZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPSExLEQucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsRC5wcm90b3R5cGUubWFwRW50cnk9ITEsRC5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1pLmVtcHR5QXJyYXksRC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEKGUpfSxELmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJnQudWludDMyKDgpLmJvb2woZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCksbnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvclwiKSYmdC51aW50MzIoMTYpLmJvb2woZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUubWFwRW50cnkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtYXBFbnRyeVwiKSYmdC51aW50MzIoNTYpLmJvb2woZS5tYXBFbnRyeSksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubWVzc2FnZVNldFdpcmVGb3JtYXQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyOm8ubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj1lLmJvb2woKTticmVhaztjYXNlIDM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNzpvLm1hcEVudHJ5PWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxELmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxELnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5tZXNzYWdlU2V0V2lyZUZvcm1hdClyZXR1cm5cIm1lc3NhZ2VTZXRXaXJlRm9ybWF0OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiZlLmhhc093blByb3BlcnR5KFwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvclwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3IpcmV0dXJuXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tYXBFbnRyeSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1hcEVudHJ5XCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubWFwRW50cnkpcmV0dXJuXCJtYXBFbnRyeTogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LEQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zO2lmKG51bGwhPWUubWVzc2FnZVNldFdpcmVGb3JtYXQmJih0Lm1lc3NhZ2VTZXRXaXJlRm9ybWF0PUJvb2xlYW4oZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCkpLG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmKHQubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj1Cb29sZWFuKGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvcikpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUubWFwRW50cnkmJih0Lm1hcEVudHJ5PUJvb2xlYW4oZS5tYXBFbnRyeSkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LEQudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PSExLG4ubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj0hMSxuLmRlcHJlY2F0ZWQ9ITEsbi5tYXBFbnRyeT0hMSksbnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VTZXRXaXJlRm9ybWF0XCIpJiYobi5tZXNzYWdlU2V0V2lyZUZvcm1hdD1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KSxudWxsIT1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3ImJmUuaGFzT3duUHJvcGVydHkoXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yXCIpJiYobi5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUubWFwRW50cnkmJmUuaGFzT3duUHJvcGVydHkoXCJtYXBFbnRyeVwiKSYmKG4ubWFwRW50cnk9ZS5tYXBFbnRyeSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LEQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxEKSx0LkZpZWxkT3B0aW9ucz0oVC5wcm90b3R5cGUuY3R5cGU9MCxULnByb3RvdHlwZS5wYWNrZWQ9ITEsVC5wcm90b3R5cGUuanN0eXBlPTAsVC5wcm90b3R5cGUubGF6eT0hMSxULnByb3RvdHlwZS5kZXByZWNhdGVkPSExLFQucHJvdG90eXBlLndlYWs9ITEsVC5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1pLmVtcHR5QXJyYXksVC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBUKGUpfSxULmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmN0eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3R5cGVcIikmJnQudWludDMyKDgpLmludDMyKGUuY3R5cGUpLG51bGwhPWUucGFja2VkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFja2VkXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLnBhY2tlZCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmxhenkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsYXp5XCIpJiZ0LnVpbnQzMig0MCkuYm9vbChlLmxhenkpLG51bGwhPWUuanN0eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwianN0eXBlXCIpJiZ0LnVpbnQzMig0OCkuaW50MzIoZS5qc3R5cGUpLG51bGwhPWUud2VhayYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIndlYWtcIikmJnQudWludDMyKDgwKS5ib29sKGUud2VhayksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LFQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmN0eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDI6by5wYWNrZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA2Om8uanN0eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDU6by5sYXp5PWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAxMDpvLndlYWs9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFQuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFQudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuY3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJjdHlwZVwiKSlzd2l0Y2goZS5jdHlwZSl7ZGVmYXVsdDpyZXR1cm5cImN0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6fWlmKG51bGwhPWUucGFja2VkJiZlLmhhc093blByb3BlcnR5KFwicGFja2VkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUucGFja2VkKXJldHVyblwicGFja2VkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qc3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJqc3R5cGVcIikpc3dpdGNoKGUuanN0eXBlKXtkZWZhdWx0OnJldHVyblwianN0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6fWlmKG51bGwhPWUubGF6eSYmZS5oYXNPd25Qcm9wZXJ0eShcImxhenlcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5sYXp5KXJldHVyblwibGF6eTogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUud2VhayYmZS5oYXNPd25Qcm9wZXJ0eShcIndlYWtcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS53ZWFrKXJldHVyblwid2VhazogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LFQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnM7c3dpdGNoKGUuY3R5cGUpe2Nhc2VcIlNUUklOR1wiOmNhc2UgMDp0LmN0eXBlPTA7YnJlYWs7Y2FzZVwiQ09SRFwiOmNhc2UgMTp0LmN0eXBlPTE7YnJlYWs7Y2FzZVwiU1RSSU5HX1BJRUNFXCI6Y2FzZSAyOnQuY3R5cGU9Mn1zd2l0Y2gobnVsbCE9ZS5wYWNrZWQmJih0LnBhY2tlZD1Cb29sZWFuKGUucGFja2VkKSksZS5qc3R5cGUpe2Nhc2VcIkpTX05PUk1BTFwiOmNhc2UgMDp0LmpzdHlwZT0wO2JyZWFrO2Nhc2VcIkpTX1NUUklOR1wiOmNhc2UgMTp0LmpzdHlwZT0xO2JyZWFrO2Nhc2VcIkpTX05VTUJFUlwiOmNhc2UgMjp0LmpzdHlwZT0yfWlmKG51bGwhPWUubGF6eSYmKHQubGF6eT1Cb29sZWFuKGUubGF6eSkpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUud2VhayYmKHQud2Vhaz1Cb29sZWFuKGUud2VhaykpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sVC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uY3R5cGU9dC5lbnVtcz09PVN0cmluZz9cIlNUUklOR1wiOjAsbi5wYWNrZWQ9ITEsbi5kZXByZWNhdGVkPSExLG4ubGF6eT0hMSxuLmpzdHlwZT10LmVudW1zPT09U3RyaW5nP1wiSlNfTk9STUFMXCI6MCxuLndlYWs9ITEpLG51bGwhPWUuY3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJjdHlwZVwiKSYmKG4uY3R5cGU9dC5lbnVtcz09PVN0cmluZz9wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuQ1R5cGVbZS5jdHlwZV06ZS5jdHlwZSksbnVsbCE9ZS5wYWNrZWQmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrZWRcIikmJihuLnBhY2tlZD1lLnBhY2tlZCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUubGF6eSYmZS5oYXNPd25Qcm9wZXJ0eShcImxhenlcIikmJihuLmxhenk9ZS5sYXp5KSxudWxsIT1lLmpzdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzdHlwZVwiKSYmKG4uanN0eXBlPXQuZW51bXM9PT1TdHJpbmc/cC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkpTVHlwZVtlLmpzdHlwZV06ZS5qc3R5cGUpLG51bGwhPWUud2VhayYmZS5oYXNPd25Qcm9wZXJ0eShcIndlYWtcIikmJihuLndlYWs9ZS53ZWFrKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sVC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFQuQ1R5cGU9KG49e30sKGU9T2JqZWN0LmNyZWF0ZShuKSlbblswXT1cIlNUUklOR1wiXT0wLGVbblsxXT1cIkNPUkRcIl09MSxlW25bMl09XCJTVFJJTkdfUElFQ0VcIl09MixlKSxULkpTVHlwZT0obj17fSwoZT1PYmplY3QuY3JlYXRlKG4pKVtuWzBdPVwiSlNfTk9STUFMXCJdPTAsZVtuWzFdPVwiSlNfU1RSSU5HXCJdPTEsZVtuWzJdPVwiSlNfTlVNQkVSXCJdPTIsZSksVCksdC5PbmVvZk9wdGlvbnM9KEgucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249aS5lbXB0eUFycmF5LEguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSChlKX0sSC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09OTk5PyhvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LEguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEgudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LEguZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnM7aWYoZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxILnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sSC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEgpLHQuRW51bU9wdGlvbnM9KEUucHJvdG90eXBlLmFsbG93QWxpYXM9ITEsRS5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxFLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPWkuZW1wdHlBcnJheSxFLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEUoZSl9LEUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuYWxsb3dBbGlhcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFsbG93QWxpYXNcIikmJnQudWludDMyKDE2KS5ib29sKGUuYWxsb3dBbGlhcyksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sRS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sRS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDI6by5hbGxvd0FsaWFzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEUudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuYWxsb3dBbGlhcyYmZS5oYXNPd25Qcm9wZXJ0eShcImFsbG93QWxpYXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5hbGxvd0FsaWFzKXJldHVyblwiYWxsb3dBbGlhczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LEUuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zO2lmKG51bGwhPWUuYWxsb3dBbGlhcyYmKHQuYWxsb3dBbGlhcz1Cb29sZWFuKGUuYWxsb3dBbGlhcykpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LEUudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmFsbG93QWxpYXM9ITEsbi5kZXByZWNhdGVkPSExKSxudWxsIT1lLmFsbG93QWxpYXMmJmUuaGFzT3duUHJvcGVydHkoXCJhbGxvd0FsaWFzXCIpJiYobi5hbGxvd0FsaWFzPWUuYWxsb3dBbGlhcyksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxFLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sRSksdC5FbnVtVmFsdWVPcHRpb25zPSh6LnByb3RvdHlwZS5kZXByZWNhdGVkPSExLHoucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249aS5lbXB0eUFycmF5LHouY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeihlKX0sei5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoOCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSx6LmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSx6LmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sei5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sei52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sei5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSx6LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5kZXByZWNhdGVkPSExKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LHoucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx6KSx0LlNlcnZpY2VPcHRpb25zPShBLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLEEucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249aS5lbXB0eUFycmF5LEEucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09XCJcIixBLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPVwiXCIsQS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBBKGUpfSxBLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIikmJnQudWludDMyKDgzOTQpLnN0cmluZyhlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pLG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCIpJiZ0LnVpbnQzMig4NDAyKS5zdHJpbmcoZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKSx0fSxBLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxBLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMzM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMDQ5Om9bXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTA1MDpvW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEEuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEEudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCIpJiYhaS5pc1N0cmluZyhlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pP1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3Q6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCIpJiYhaS5pc1N0cmluZyhlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pP1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXM6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LEEuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmKHRbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1TdHJpbmcoZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKSksbnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiYodFtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPVN0cmluZyhlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pKSx0fSxBLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5kZXByZWNhdGVkPSExLG5bXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1cIlwiLG5bXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1cIlwiKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCIpJiYobltcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSksbnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIikmJihuW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKSxufSxBLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sQSksdC5NZXRob2RPcHRpb25zPShOLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLE4ucHJvdG90eXBlLmlkZW1wb3RlbmN5TGV2ZWw9MCxOLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPWkuZW1wdHlBcnJheSxOLnByb3RvdHlwZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXT1udWxsLE4ucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1udWxsLE4ucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPWkuZW1wdHlBcnJheSxOLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE4oZSl9LE4uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI2NCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlkZW1wb3RlbmN5TGV2ZWxcIikmJnQudWludDMyKDI3MikuaW50MzIoZS5pZGVtcG90ZW5jeUxldmVsKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCIpJiZwLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25JbmZvLmVuY29kZShlW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdLHQudWludDMyKDgzOTQpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSYmZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGgpZm9yKG49MDtuPGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrbil0LnVpbnQzMig4NDEwKS5zdHJpbmcoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtuXSk7cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiLmdvb2dsZS5hcGkuaHR0cFwiKSYmcC5nb29nbGUuYXBpLkh0dHBSdWxlLmVuY29kZShlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSx0LnVpbnQzMig1NzgzNjU4MjYpLmZvcmsoKSkubGRlbGltKCksdH0sTi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMzM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzQ6by5pZGVtcG90ZW5jeUxldmVsPWUuaW50MzIoKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTA0OTpvW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdPXAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbkluZm8uZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA3MjI5NTcyODpvW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1wLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMDUxOm9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJm9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RofHwob1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXSksb1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sTi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5pZGVtcG90ZW5jeUxldmVsJiZlLmhhc093blByb3BlcnR5KFwiaWRlbXBvdGVuY3lMZXZlbFwiKSlzd2l0Y2goZS5pZGVtcG90ZW5jeUxldmVsKXtkZWZhdWx0OnJldHVyblwiaWRlbXBvdGVuY3lMZXZlbDogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1pZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn12YXIgbjtpZihudWxsIT1lW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCIpJiYobj1wLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25JbmZvLnZlcmlmeShlW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdKSkpcmV0dXJuXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm8uXCIrbjtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmh0dHBcIikmJihuPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS52ZXJpZnkoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pKSlyZXR1cm5cIi5nb29nbGUuYXBpLmh0dHAuXCIrbjtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCIpKXtpZighQXJyYXkuaXNBcnJheShlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdKSlyZXR1cm5cIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7Kyt0KWlmKCFpLmlzU3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bdF0pKXJldHVyblwiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSxOLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnM7c3dpdGNoKG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUuaWRlbXBvdGVuY3lMZXZlbCl7Y2FzZVwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiOmNhc2UgMDp0LmlkZW1wb3RlbmN5TGV2ZWw9MDticmVhaztjYXNlXCJOT19TSURFX0VGRkVDVFNcIjpjYXNlIDE6dC5pZGVtcG90ZW5jeUxldmVsPTE7YnJlYWs7Y2FzZVwiSURFTVBPVEVOVFwiOmNhc2UgMjp0LmlkZW1wb3RlbmN5TGV2ZWw9Mn1pZihlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1pZihudWxsIT1lW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvOiBvYmplY3QgZXhwZWN0ZWRcIik7dFtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXT1wLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25JbmZvLmZyb21PYmplY3QoZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSl9aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuLmdvb2dsZS5hcGkuaHR0cDogb2JqZWN0IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5odHRwXCJdPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS5mcm9tT2JqZWN0KGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKX1pZihlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdKXtpZighQXJyYXkuaXNBcnJheShlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlOiBhcnJheSBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdO2ZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aDsrK24pdFtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtuXT1TdHJpbmcoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtuXSl9cmV0dXJuIHR9LE4udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sbltcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXSksdC5kZWZhdWx0cyYmKG4uZGVwcmVjYXRlZD0hMSxuLmlkZW1wb3RlbmN5TGV2ZWw9dC5lbnVtcz09PVN0cmluZz9cIklERU1QT1RFTkNZX1VOS05PV05cIjowLG5bXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIl09bnVsbCxuW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1udWxsKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksbnVsbCE9ZS5pZGVtcG90ZW5jeUxldmVsJiZlLmhhc093blByb3BlcnR5KFwiaWRlbXBvdGVuY3lMZXZlbFwiKSYmKG4uaWRlbXBvdGVuY3lMZXZlbD10LmVudW1zPT09U3RyaW5nP3AuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuSWRlbXBvdGVuY3lMZXZlbFtlLmlkZW1wb3RlbmN5TGV2ZWxdOmUuaWRlbXBvdGVuY3lMZXZlbCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9aWYobnVsbCE9ZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiKSYmKG5bXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIl09cC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uSW5mby50b09iamVjdChlW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdLHQpKSxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aCl7bltcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXTtmb3Iobz0wO288ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7KytvKW5bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bb109ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtvXX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5odHRwXCIpJiYobltcIi5nb29nbGUuYXBpLmh0dHBcIl09cC5nb29nbGUuYXBpLkh0dHBSdWxlLnRvT2JqZWN0KGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdLHQpKSxufSxOLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTi5JZGVtcG90ZW5jeUxldmVsPShuPXt9LChlPU9iamVjdC5jcmVhdGUobikpW25bMF09XCJJREVNUE9URU5DWV9VTktOT1dOXCJdPTAsZVtuWzFdPVwiTk9fU0lERV9FRkZFQ1RTXCJdPTEsZVtuWzJdPVwiSURFTVBPVEVOVFwiXT0yLGUpLE4pLHQuVW5pbnRlcnByZXRlZE9wdGlvbj0oSS5wcm90b3R5cGUubmFtZT1pLmVtcHR5QXJyYXksSS5wcm90b3R5cGUuaWRlbnRpZmllclZhbHVlPVwiXCIsSS5wcm90b3R5cGUucG9zaXRpdmVJbnRWYWx1ZT1pLkxvbmc/aS5Mb25nLmZyb21CaXRzKDAsMCwhMCk6MCxJLnByb3RvdHlwZS5uZWdhdGl2ZUludFZhbHVlPWkuTG9uZz9pLkxvbmcuZnJvbUJpdHMoMCwwLCExKTowLEkucHJvdG90eXBlLmRvdWJsZVZhbHVlPTAsSS5wcm90b3R5cGUuc3RyaW5nVmFsdWU9aS5uZXdCdWZmZXIoW10pLEkucHJvdG90eXBlLmFnZ3JlZ2F0ZVZhbHVlPVwiXCIsSS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBJKGUpfSxJLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJmUubmFtZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLm5hbWUubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LmVuY29kZShlLm5hbWVbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaWRlbnRpZmllclZhbHVlXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUuaWRlbnRpZmllclZhbHVlKSxudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwb3NpdGl2ZUludFZhbHVlXCIpJiZ0LnVpbnQzMigzMikudWludDY0KGUucG9zaXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmVnYXRpdmVJbnRWYWx1ZVwiKSYmdC51aW50MzIoNDApLmludDY0KGUubmVnYXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5kb3VibGVWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRvdWJsZVZhbHVlXCIpJiZ0LnVpbnQzMig0OSkuZG91YmxlKGUuZG91YmxlVmFsdWUpLG51bGwhPWUuc3RyaW5nVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdHJpbmdWYWx1ZVwiKSYmdC51aW50MzIoNTgpLmJ5dGVzKGUuc3RyaW5nVmFsdWUpLG51bGwhPWUuYWdncmVnYXRlVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhZ2dyZWdhdGVWYWx1ZVwiKSYmdC51aW50MzIoNjYpLnN0cmluZyhlLmFnZ3JlZ2F0ZVZhbHVlKSx0fSxJLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxJLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAyOm8ubmFtZSYmby5uYW1lLmxlbmd0aHx8KG8ubmFtZT1bXSksby5uYW1lLnB1c2gocC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8uaWRlbnRpZmllclZhbHVlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ucG9zaXRpdmVJbnRWYWx1ZT1lLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgNTpvLm5lZ2F0aXZlSW50VmFsdWU9ZS5pbnQ2NCgpO2JyZWFrO2Nhc2UgNjpvLmRvdWJsZVZhbHVlPWUuZG91YmxlKCk7YnJlYWs7Y2FzZSA3Om8uc3RyaW5nVmFsdWU9ZS5ieXRlcygpO2JyZWFrO2Nhc2UgODpvLmFnZ3JlZ2F0ZVZhbHVlPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxJLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxJLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm5hbWUpKXJldHVyblwibmFtZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUubmFtZS5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LnZlcmlmeShlLm5hbWVbdF0pO2lmKG4pcmV0dXJuXCJuYW1lLlwiK259fXJldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW50aWZpZXJWYWx1ZVwiKSYmIWkuaXNTdHJpbmcoZS5pZGVudGlmaWVyVmFsdWUpP1wiaWRlbnRpZmllclZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJwb3NpdGl2ZUludFZhbHVlXCIpJiYhKGkuaXNJbnRlZ2VyKGUucG9zaXRpdmVJbnRWYWx1ZSl8fGUucG9zaXRpdmVJbnRWYWx1ZSYmaS5pc0ludGVnZXIoZS5wb3NpdGl2ZUludFZhbHVlLmxvdykmJmkuaXNJbnRlZ2VyKGUucG9zaXRpdmVJbnRWYWx1ZS5oaWdoKSk/XCJwb3NpdGl2ZUludFZhbHVlOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWRcIjpudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJuZWdhdGl2ZUludFZhbHVlXCIpJiYhKGkuaXNJbnRlZ2VyKGUubmVnYXRpdmVJbnRWYWx1ZSl8fGUubmVnYXRpdmVJbnRWYWx1ZSYmaS5pc0ludGVnZXIoZS5uZWdhdGl2ZUludFZhbHVlLmxvdykmJmkuaXNJbnRlZ2VyKGUubmVnYXRpdmVJbnRWYWx1ZS5oaWdoKSk/XCJuZWdhdGl2ZUludFZhbHVlOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmRvdWJsZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZG91YmxlVmFsdWVcIikmJlwibnVtYmVyXCIhPXR5cGVvZiBlLmRvdWJsZVZhbHVlP1wiZG91YmxlVmFsdWU6IG51bWJlciBleHBlY3RlZFwiOm51bGwhPWUuc3RyaW5nVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJzdHJpbmdWYWx1ZVwiKSYmIShlLnN0cmluZ1ZhbHVlJiZcIm51bWJlclwiPT10eXBlb2YgZS5zdHJpbmdWYWx1ZS5sZW5ndGh8fGkuaXNTdHJpbmcoZS5zdHJpbmdWYWx1ZSkpP1wic3RyaW5nVmFsdWU6IGJ1ZmZlciBleHBlY3RlZFwiOm51bGwhPWUuYWdncmVnYXRlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJhZ2dyZWdhdGVWYWx1ZVwiKSYmIWkuaXNTdHJpbmcoZS5hZ2dyZWdhdGVWYWx1ZSk/XCJhZ2dyZWdhdGVWYWx1ZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sSS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uO2lmKGUubmFtZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uYW1lKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24ubmFtZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5uYW1lPVtdO2Zvcih2YXIgbj0wO248ZS5uYW1lLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm5hbWVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLm5hbWU6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm5hbWVbbl09cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC5mcm9tT2JqZWN0KGUubmFtZVtuXSl9fXJldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmKHQuaWRlbnRpZmllclZhbHVlPVN0cmluZyhlLmlkZW50aWZpZXJWYWx1ZSkpLG51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmKGkuTG9uZz8odC5wb3NpdGl2ZUludFZhbHVlPWkuTG9uZy5mcm9tVmFsdWUoZS5wb3NpdGl2ZUludFZhbHVlKSkudW5zaWduZWQ9ITA6XCJzdHJpbmdcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZT90LnBvc2l0aXZlSW50VmFsdWU9cGFyc2VJbnQoZS5wb3NpdGl2ZUludFZhbHVlLDEwKTpcIm51bWJlclwiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlP3QucG9zaXRpdmVJbnRWYWx1ZT1lLnBvc2l0aXZlSW50VmFsdWU6XCJvYmplY3RcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZSYmKHQucG9zaXRpdmVJbnRWYWx1ZT1uZXcgaS5Mb25nQml0cyhlLnBvc2l0aXZlSW50VmFsdWUubG93Pj4+MCxlLnBvc2l0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCEwKSkpLG51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmKGkuTG9uZz8odC5uZWdhdGl2ZUludFZhbHVlPWkuTG9uZy5mcm9tVmFsdWUoZS5uZWdhdGl2ZUludFZhbHVlKSkudW5zaWduZWQ9ITE6XCJzdHJpbmdcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZT90Lm5lZ2F0aXZlSW50VmFsdWU9cGFyc2VJbnQoZS5uZWdhdGl2ZUludFZhbHVlLDEwKTpcIm51bWJlclwiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlP3QubmVnYXRpdmVJbnRWYWx1ZT1lLm5lZ2F0aXZlSW50VmFsdWU6XCJvYmplY3RcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZSYmKHQubmVnYXRpdmVJbnRWYWx1ZT1uZXcgaS5Mb25nQml0cyhlLm5lZ2F0aXZlSW50VmFsdWUubG93Pj4+MCxlLm5lZ2F0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCkpKSxudWxsIT1lLmRvdWJsZVZhbHVlJiYodC5kb3VibGVWYWx1ZT1OdW1iZXIoZS5kb3VibGVWYWx1ZSkpLG51bGwhPWUuc3RyaW5nVmFsdWUmJihcInN0cmluZ1wiPT10eXBlb2YgZS5zdHJpbmdWYWx1ZT9pLmJhc2U2NC5kZWNvZGUoZS5zdHJpbmdWYWx1ZSx0LnN0cmluZ1ZhbHVlPWkubmV3QnVmZmVyKGkuYmFzZTY0Lmxlbmd0aChlLnN0cmluZ1ZhbHVlKSksMCk6ZS5zdHJpbmdWYWx1ZS5sZW5ndGgmJih0LnN0cmluZ1ZhbHVlPWUuc3RyaW5nVmFsdWUpKSxudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiYodC5hZ2dyZWdhdGVWYWx1ZT1TdHJpbmcoZS5hZ2dyZWdhdGVWYWx1ZSkpLHR9LEkudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbixvPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG8ubmFtZT1bXSksdC5kZWZhdWx0cyYmKG8uaWRlbnRpZmllclZhbHVlPVwiXCIsaS5Mb25nPyhuPW5ldyBpLkxvbmcoMCwwLCEwKSxvLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9uLnRvU3RyaW5nKCk6dC5sb25ncz09PU51bWJlcj9uLnRvTnVtYmVyKCk6bik6by5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/XCIwXCI6MCxpLkxvbmc/KG49bmV3IGkuTG9uZygwLDAsITEpLG8ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP24udG9TdHJpbmcoKTp0LmxvbmdzPT09TnVtYmVyP24udG9OdW1iZXIoKTpuKTpvLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9cIjBcIjowLG8uZG91YmxlVmFsdWU9MCx0LmJ5dGVzPT09U3RyaW5nP28uc3RyaW5nVmFsdWU9XCJcIjooby5zdHJpbmdWYWx1ZT1bXSx0LmJ5dGVzIT09QXJyYXkmJihvLnN0cmluZ1ZhbHVlPWkubmV3QnVmZmVyKG8uc3RyaW5nVmFsdWUpKSksby5hZ2dyZWdhdGVWYWx1ZT1cIlwiKSxlLm5hbWUmJmUubmFtZS5sZW5ndGgpe28ubmFtZT1bXTtmb3IodmFyIHI9MDtyPGUubmFtZS5sZW5ndGg7KytyKW8ubmFtZVtyXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LnRvT2JqZWN0KGUubmFtZVtyXSx0KX1yZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJpZGVudGlmaWVyVmFsdWVcIikmJihvLmlkZW50aWZpZXJWYWx1ZT1lLmlkZW50aWZpZXJWYWx1ZSksbnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwicG9zaXRpdmVJbnRWYWx1ZVwiKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWU/by5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGUucG9zaXRpdmVJbnRWYWx1ZSk6ZS5wb3NpdGl2ZUludFZhbHVlOm8ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP2kuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLnBvc2l0aXZlSW50VmFsdWUpOnQubG9uZ3M9PT1OdW1iZXI/bmV3IGkuTG9uZ0JpdHMoZS5wb3NpdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5wb3NpdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcighMCk6ZS5wb3NpdGl2ZUludFZhbHVlKSxudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJuZWdhdGl2ZUludFZhbHVlXCIpJiYoXCJudW1iZXJcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZT9vLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9TdHJpbmcoZS5uZWdhdGl2ZUludFZhbHVlKTplLm5lZ2F0aXZlSW50VmFsdWU6by5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/aS5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUubmVnYXRpdmVJbnRWYWx1ZSk6dC5sb25ncz09PU51bWJlcj9uZXcgaS5Mb25nQml0cyhlLm5lZ2F0aXZlSW50VmFsdWUubG93Pj4+MCxlLm5lZ2F0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCk6ZS5uZWdhdGl2ZUludFZhbHVlKSxudWxsIT1lLmRvdWJsZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZG91YmxlVmFsdWVcIikmJihvLmRvdWJsZVZhbHVlPXQuanNvbiYmIWlzRmluaXRlKGUuZG91YmxlVmFsdWUpP1N0cmluZyhlLmRvdWJsZVZhbHVlKTplLmRvdWJsZVZhbHVlKSxudWxsIT1lLnN0cmluZ1ZhbHVlJiZlLmhhc093blByb3BlcnR5KFwic3RyaW5nVmFsdWVcIikmJihvLnN0cmluZ1ZhbHVlPXQuYnl0ZXM9PT1TdHJpbmc/aS5iYXNlNjQuZW5jb2RlKGUuc3RyaW5nVmFsdWUsMCxlLnN0cmluZ1ZhbHVlLmxlbmd0aCk6dC5ieXRlcz09PUFycmF5P0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuc3RyaW5nVmFsdWUpOmUuc3RyaW5nVmFsdWUpLG51bGwhPWUuYWdncmVnYXRlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJhZ2dyZWdhdGVWYWx1ZVwiKSYmKG8uYWdncmVnYXRlVmFsdWU9ZS5hZ2dyZWdhdGVWYWx1ZSksb30sSS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEkuTmFtZVBhcnQ9KHEucHJvdG90eXBlLm5hbWVQYXJ0PVwiXCIscS5wcm90b3R5cGUuaXNFeHRlbnNpb249ITEscS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBxKGUpfSxxLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHIuY3JlYXRlKCkpLnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZVBhcnQpLHQudWludDMyKDE2KS5ib29sKGUuaXNFeHRlbnNpb24pLHR9LHEuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHEuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQ7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lUGFydD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmlzRXh0ZW5zaW9uPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1pZighby5oYXNPd25Qcm9wZXJ0eShcIm5hbWVQYXJ0XCIpKXRocm93IGkuUHJvdG9jb2xFcnJvcihcIm1pc3NpbmcgcmVxdWlyZWQgJ25hbWVQYXJ0J1wiLHtpbnN0YW5jZTpvfSk7aWYoby5oYXNPd25Qcm9wZXJ0eShcImlzRXh0ZW5zaW9uXCIpKXJldHVybiBvO3Rocm93IGkuUHJvdG9jb2xFcnJvcihcIm1pc3NpbmcgcmVxdWlyZWQgJ2lzRXh0ZW5zaW9uJ1wiLHtpbnN0YW5jZTpvfSl9LHEuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHEudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOmkuaXNTdHJpbmcoZS5uYW1lUGFydCk/XCJib29sZWFuXCIhPXR5cGVvZiBlLmlzRXh0ZW5zaW9uP1wiaXNFeHRlbnNpb246IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsOlwibmFtZVBhcnQ6IHN0cmluZyBleHBlY3RlZFwifSxxLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0P2U6KHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQsbnVsbCE9ZS5uYW1lUGFydCYmKHQubmFtZVBhcnQ9U3RyaW5nKGUubmFtZVBhcnQpKSxudWxsIT1lLmlzRXh0ZW5zaW9uJiYodC5pc0V4dGVuc2lvbj1Cb29sZWFuKGUuaXNFeHRlbnNpb24pKSx0KX0scS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZVBhcnQ9XCJcIixuLmlzRXh0ZW5zaW9uPSExKSxudWxsIT1lLm5hbWVQYXJ0JiZlLmhhc093blByb3BlcnR5KFwibmFtZVBhcnRcIikmJihuLm5hbWVQYXJ0PWUubmFtZVBhcnQpLG51bGwhPWUuaXNFeHRlbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJpc0V4dGVuc2lvblwiKSYmKG4uaXNFeHRlbnNpb249ZS5pc0V4dGVuc2lvbiksbn0scS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHEpLEkpLHQuU291cmNlQ29kZUluZm89KFkucHJvdG90eXBlLmxvY2F0aW9uPWkuZW1wdHlBcnJheSxZLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFkoZSl9LFkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubG9jYXRpb24mJmUubG9jYXRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5sb2NhdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmVuY29kZShlLmxvY2F0aW9uW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxZLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxZLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mbztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT8oby5sb2NhdGlvbiYmby5sb2NhdGlvbi5sZW5ndGh8fChvLmxvY2F0aW9uPVtdKSxvLmxvY2F0aW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LFkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFkudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubG9jYXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5sb2NhdGlvbikpcmV0dXJuXCJsb2NhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUubG9jYXRpb24ubGVuZ3RoOysrdCl7dmFyIG49cC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24udmVyaWZ5KGUubG9jYXRpb25bdF0pO2lmKG4pcmV0dXJuXCJsb2NhdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sWS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mbylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm87aWYoZS5sb2NhdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5sb2NhdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5sb2NhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5sb2NhdGlvbj1bXTtmb3IodmFyIG49MDtuPGUubG9jYXRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubG9jYXRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5sb2NhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QubG9jYXRpb25bbl09cC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uZnJvbU9iamVjdChlLmxvY2F0aW9uW25dKX19cmV0dXJuIHR9LFkudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmxvY2F0aW9uPVtdKSxlLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmxlbmd0aCl7bi5sb2NhdGlvbj1bXTtmb3IodmFyIG89MDtvPGUubG9jYXRpb24ubGVuZ3RoOysrbyluLmxvY2F0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnRvT2JqZWN0KGUubG9jYXRpb25bb10sdCl9cmV0dXJuIG59LFkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxZLkxvY2F0aW9uPShSLnByb3RvdHlwZS5wYXRoPWkuZW1wdHlBcnJheSxSLnByb3RvdHlwZS5zcGFuPWkuZW1wdHlBcnJheSxSLnByb3RvdHlwZS5sZWFkaW5nQ29tbWVudHM9XCJcIixSLnByb3RvdHlwZS50cmFpbGluZ0NvbW1lbnRzPVwiXCIsUi5wcm90b3R5cGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9aS5lbXB0eUFycmF5LFIuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUihlKX0sUi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXt0LnVpbnQzMigxMCkuZm9yaygpO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5pbnQzMihlLnBhdGhbbl0pO3QubGRlbGltKCl9aWYobnVsbCE9ZS5zcGFuJiZlLnNwYW4ubGVuZ3RoKXt0LnVpbnQzMigxOCkuZm9yaygpO2ZvcihuPTA7bjxlLnNwYW4ubGVuZ3RoOysrbil0LmludDMyKGUuc3BhbltuXSk7dC5sZGVsaW0oKX1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImxlYWRpbmdDb21tZW50c1wiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLmxlYWRpbmdDb21tZW50cyksbnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHJhaWxpbmdDb21tZW50c1wiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLnRyYWlsaW5nQ29tbWVudHMpLG51bGwhPWUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJmUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoKWZvcihuPTA7bjxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK24pdC51aW50MzIoNTApLnN0cmluZyhlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW25dKTtyZXR1cm4gdH0sUi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6aWYoby5wYXRoJiZvLnBhdGgubGVuZ3RofHwoby5wYXRoPVtdKSwyPT0oNyZyKSlmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnBhdGgucHVzaChlLmludDMyKCkpO2Vsc2Ugby5wYXRoLnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDI6aWYoby5zcGFuJiZvLnNwYW4ubGVuZ3RofHwoby5zcGFuPVtdKSwyPT0oNyZyKSlmb3IoaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8uc3Bhbi5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnNwYW4ucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMzpvLmxlYWRpbmdDb21tZW50cz1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLnRyYWlsaW5nQ29tbWVudHM9ZS5zdHJpbmcoKTticmVhaztjYXNlIDY6by5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmby5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGh8fChvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdKSxvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxSLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxSLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXJldHVyblwicGF0aDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUucGF0aC5sZW5ndGg7Kyt0KWlmKCFpLmlzSW50ZWdlcihlLnBhdGhbdF0pKXJldHVyblwicGF0aDogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5zcGFuJiZlLmhhc093blByb3BlcnR5KFwic3BhblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5zcGFuKSlyZXR1cm5cInNwYW46IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuc3Bhbi5sZW5ndGg7Kyt0KWlmKCFpLmlzSW50ZWdlcihlLnNwYW5bdF0pKXJldHVyblwic3BhbjogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJsZWFkaW5nQ29tbWVudHNcIikmJiFpLmlzU3RyaW5nKGUubGVhZGluZ0NvbW1lbnRzKSlyZXR1cm5cImxlYWRpbmdDb21tZW50czogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwidHJhaWxpbmdDb21tZW50c1wiKSYmIWkuaXNTdHJpbmcoZS50cmFpbGluZ0NvbW1lbnRzKSlyZXR1cm5cInRyYWlsaW5nQ29tbWVudHM6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJsZWFkaW5nRGV0YWNoZWRDb21tZW50c1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cykpcmV0dXJuXCJsZWFkaW5nRGV0YWNoZWRDb21tZW50czogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7Kyt0KWlmKCFpLmlzU3RyaW5nKGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbdF0pKXJldHVyblwibGVhZGluZ0RldGFjaGVkQ29tbWVudHM6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LFIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uO2lmKGUucGF0aCl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnBhdGg6IGFycmF5IGV4cGVjdGVkXCIpO3QucGF0aD1bXTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQucGF0aFtuXT0wfGUucGF0aFtuXX1pZihlLnNwYW4pe2lmKCFBcnJheS5pc0FycmF5KGUuc3BhbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5zcGFuOiBhcnJheSBleHBlY3RlZFwiKTt0LnNwYW49W107Zm9yKG49MDtuPGUuc3Bhbi5sZW5ndGg7KytuKXQuc3BhbltuXT0wfGUuc3BhbltuXX1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmKHQubGVhZGluZ0NvbW1lbnRzPVN0cmluZyhlLmxlYWRpbmdDb21tZW50cykpLG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmKHQudHJhaWxpbmdDb21tZW50cz1TdHJpbmcoZS50cmFpbGluZ0NvbW1lbnRzKSksZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyl7aWYoIUFycmF5LmlzQXJyYXkoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5sZWFkaW5nRGV0YWNoZWRDb21tZW50czogYXJyYXkgZXhwZWN0ZWRcIik7dC5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXTtmb3Iobj0wO248ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7KytuKXQubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbbl09U3RyaW5nKGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbbl0pfXJldHVybiB0fSxSLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5wYXRoPVtdLG4uc3Bhbj1bXSxuLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdKSx0LmRlZmF1bHRzJiYobi5sZWFkaW5nQ29tbWVudHM9XCJcIixuLnRyYWlsaW5nQ29tbWVudHM9XCJcIiksZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXtuLnBhdGg9W107Zm9yKHZhciBvPTA7bzxlLnBhdGgubGVuZ3RoOysrbyluLnBhdGhbb109ZS5wYXRoW29dfWlmKGUuc3BhbiYmZS5zcGFuLmxlbmd0aCl7bi5zcGFuPVtdO2ZvcihvPTA7bzxlLnNwYW4ubGVuZ3RoOysrbyluLnNwYW5bb109ZS5zcGFuW29dfWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwibGVhZGluZ0NvbW1lbnRzXCIpJiYobi5sZWFkaW5nQ29tbWVudHM9ZS5sZWFkaW5nQ29tbWVudHMpLG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcInRyYWlsaW5nQ29tbWVudHNcIikmJihuLnRyYWlsaW5nQ29tbWVudHM9ZS50cmFpbGluZ0NvbW1lbnRzKSxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aCl7bi5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXTtmb3Iobz0wO288ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7KytvKW4ubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbb109ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tvXX1yZXR1cm4gbn0sUi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFIpLFkpLHQuR2VuZXJhdGVkQ29kZUluZm89KFcucHJvdG90eXBlLmFubm90YXRpb249aS5lbXB0eUFycmF5LFcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVyhlKX0sVy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5hbm5vdGF0aW9uJiZlLmFubm90YXRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5lbmNvZGUoZS5hbm5vdGF0aW9uW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxXLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxXLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mbztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT8oby5hbm5vdGF0aW9uJiZvLmFubm90YXRpb24ubGVuZ3RofHwoby5hbm5vdGF0aW9uPVtdKSxvLmFubm90YXRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxXLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxXLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFubm90YXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJhbm5vdGF0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmFubm90YXRpb24pKXJldHVyblwiYW5ub3RhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuYW5ub3RhdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnZlcmlmeShlLmFubm90YXRpb25bdF0pO2lmKG4pcmV0dXJuXCJhbm5vdGF0aW9uLlwiK259fXJldHVybiBudWxsfSxXLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mbztpZihlLmFubm90YXRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUuYW5ub3RhdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5hbm5vdGF0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmFubm90YXRpb249W107Zm9yKHZhciBuPTA7bjxlLmFubm90YXRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuYW5ub3RhdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLmFubm90YXRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmFubm90YXRpb25bbl09cC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5mcm9tT2JqZWN0KGUuYW5ub3RhdGlvbltuXSl9fXJldHVybiB0fSxXLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5hbm5vdGF0aW9uPVtdKSxlLmFubm90YXRpb24mJmUuYW5ub3RhdGlvbi5sZW5ndGgpe24uYW5ub3RhdGlvbj1bXTtmb3IodmFyIG89MDtvPGUuYW5ub3RhdGlvbi5sZW5ndGg7KytvKW4uYW5ub3RhdGlvbltvXT1wLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnRvT2JqZWN0KGUuYW5ub3RhdGlvbltvXSx0KX1yZXR1cm4gbn0sVy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFcuQW5ub3RhdGlvbj0oQy5wcm90b3R5cGUucGF0aD1pLmVtcHR5QXJyYXksQy5wcm90b3R5cGUuc291cmNlRmlsZT1cIlwiLEMucHJvdG90eXBlLmJlZ2luPTAsQy5wcm90b3R5cGUuZW5kPTAsQy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBDKGUpfSxDLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnBhdGgmJmUucGF0aC5sZW5ndGgpe3QudWludDMyKDEwKS5mb3JrKCk7Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LmludDMyKGUucGF0aFtuXSk7dC5sZGVsaW0oKX1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic291cmNlRmlsZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnNvdXJjZUZpbGUpLG51bGwhPWUuYmVnaW4mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJiZWdpblwiKSYmdC51aW50MzIoMjQpLmludDMyKGUuYmVnaW4pLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigzMikuaW50MzIoZS5lbmQpLHR9LEMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6aWYoby5wYXRoJiZvLnBhdGgubGVuZ3RofHwoby5wYXRoPVtdKSwyPT0oNyZyKSlmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnBhdGgucHVzaChlLmludDMyKCkpO2Vsc2Ugby5wYXRoLnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDI6by5zb3VyY2VGaWxlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8uYmVnaW49ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNDpvLmVuZD1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxDLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxDLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXJldHVyblwicGF0aDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUucGF0aC5sZW5ndGg7Kyt0KWlmKCFpLmlzSW50ZWdlcihlLnBhdGhbdF0pKXJldHVyblwicGF0aDogaW50ZWdlcltdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUZpbGVcIikmJiFpLmlzU3RyaW5nKGUuc291cmNlRmlsZSk/XCJzb3VyY2VGaWxlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmJlZ2luJiZlLmhhc093blByb3BlcnR5KFwiYmVnaW5cIikmJiFpLmlzSW50ZWdlcihlLmJlZ2luKT9cImJlZ2luOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiFpLmlzSW50ZWdlcihlLmVuZCk/XCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsfSxDLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb247aWYoZS5wYXRoKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5wYXRoOiBhcnJheSBleHBlY3RlZFwiKTt0LnBhdGg9W107Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LnBhdGhbbl09MHxlLnBhdGhbbl19cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmKHQuc291cmNlRmlsZT1TdHJpbmcoZS5zb3VyY2VGaWxlKSksbnVsbCE9ZS5iZWdpbiYmKHQuYmVnaW49MHxlLmJlZ2luKSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLHR9LEMudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnBhdGg9W10pLHQuZGVmYXVsdHMmJihuLnNvdXJjZUZpbGU9XCJcIixuLmJlZ2luPTAsbi5lbmQ9MCksZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXtuLnBhdGg9W107Zm9yKHZhciBvPTA7bzxlLnBhdGgubGVuZ3RoOysrbyluLnBhdGhbb109ZS5wYXRoW29dfXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VGaWxlXCIpJiYobi5zb3VyY2VGaWxlPWUuc291cmNlRmlsZSksbnVsbCE9ZS5iZWdpbiYmZS5oYXNPd25Qcm9wZXJ0eShcImJlZ2luXCIpJiYobi5iZWdpbj1lLmJlZ2luKSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxufSxDLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sQyksVyksdC5Bbnk9KFgucHJvdG90eXBlLnR5cGVfdXJsPVwiXCIsWC5wcm90b3R5cGUudmFsdWU9aS5uZXdCdWZmZXIoW10pLFguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgWChlKX0sWC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUudHlwZV91cmwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlX3VybFwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLnR5cGVfdXJsKSxudWxsIT1lLnZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmFsdWVcIikmJnQudWludDMyKDE4KS5ieXRlcyhlLnZhbHVlKSx0fSxYLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxYLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5Bbnk7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by50eXBlX3VybD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnZhbHVlPWUuYnl0ZXMoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFgudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUudHlwZV91cmwmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlX3VybFwiKSYmIWkuaXNTdHJpbmcoZS50eXBlX3VybCk/XCJ0eXBlX3VybDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiYhKGUudmFsdWUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnZhbHVlLmxlbmd0aHx8aS5pc1N0cmluZyhlLnZhbHVlKSk/XCJ2YWx1ZTogYnVmZmVyIGV4cGVjdGVkXCI6bnVsbH0sWC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuQW55P2U6KHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkFueSxudWxsIT1lLnR5cGVfdXJsJiYodC50eXBlX3VybD1TdHJpbmcoZS50eXBlX3VybCkpLG51bGwhPWUudmFsdWUmJihcInN0cmluZ1wiPT10eXBlb2YgZS52YWx1ZT9pLmJhc2U2NC5kZWNvZGUoZS52YWx1ZSx0LnZhbHVlPWkubmV3QnVmZmVyKGkuYmFzZTY0Lmxlbmd0aChlLnZhbHVlKSksMCk6ZS52YWx1ZS5sZW5ndGgmJih0LnZhbHVlPWUudmFsdWUpKSx0KX0sWC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4udHlwZV91cmw9XCJcIix0LmJ5dGVzPT09U3RyaW5nP24udmFsdWU9XCJcIjoobi52YWx1ZT1bXSx0LmJ5dGVzIT09QXJyYXkmJihuLnZhbHVlPWkubmV3QnVmZmVyKG4udmFsdWUpKSkpLG51bGwhPWUudHlwZV91cmwmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlX3VybFwiKSYmKG4udHlwZV91cmw9ZS50eXBlX3VybCksbnVsbCE9ZS52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiYobi52YWx1ZT10LmJ5dGVzPT09U3RyaW5nP2kuYmFzZTY0LmVuY29kZShlLnZhbHVlLDAsZS52YWx1ZS5sZW5ndGgpOnQuYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnZhbHVlKTplLnZhbHVlKSxufSxYLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sWCksdC5EdXJhdGlvbj0oSy5wcm90b3R5cGUuc2Vjb25kcz1pLkxvbmc/aS5Mb25nLmZyb21CaXRzKDAsMCwhMSk6MCxLLnByb3RvdHlwZS5uYW5vcz0wLEsuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSyhlKX0sSy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuc2Vjb25kcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlY29uZHNcIikmJnQudWludDMyKDgpLmludDY0KGUuc2Vjb25kcyksbnVsbCE9ZS5uYW5vcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbm9zXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5uYW5vcyksdH0sSy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sSy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRHVyYXRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zZWNvbmRzPWUuaW50NjQoKTticmVhaztjYXNlIDI6by5uYW5vcz1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxLLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxLLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnNlY29uZHMmJmUuaGFzT3duUHJvcGVydHkoXCJzZWNvbmRzXCIpJiYhKGkuaXNJbnRlZ2VyKGUuc2Vjb25kcyl8fGUuc2Vjb25kcyYmaS5pc0ludGVnZXIoZS5zZWNvbmRzLmxvdykmJmkuaXNJbnRlZ2VyKGUuc2Vjb25kcy5oaWdoKSk/XCJzZWNvbmRzOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWRcIjpudWxsIT1lLm5hbm9zJiZlLmhhc093blByb3BlcnR5KFwibmFub3NcIikmJiFpLmlzSW50ZWdlcihlLm5hbm9zKT9cIm5hbm9zOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbH0sSy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRHVyYXRpb24/ZToodD1uZXcgcC5nb29nbGUucHJvdG9idWYuRHVyYXRpb24sbnVsbCE9ZS5zZWNvbmRzJiYoaS5Mb25nPyh0LnNlY29uZHM9aS5Mb25nLmZyb21WYWx1ZShlLnNlY29uZHMpKS51bnNpZ25lZD0hMTpcInN0cmluZ1wiPT10eXBlb2YgZS5zZWNvbmRzP3Quc2Vjb25kcz1wYXJzZUludChlLnNlY29uZHMsMTApOlwibnVtYmVyXCI9PXR5cGVvZiBlLnNlY29uZHM/dC5zZWNvbmRzPWUuc2Vjb25kczpcIm9iamVjdFwiPT10eXBlb2YgZS5zZWNvbmRzJiYodC5zZWNvbmRzPW5ldyBpLkxvbmdCaXRzKGUuc2Vjb25kcy5sb3c+Pj4wLGUuc2Vjb25kcy5oaWdoPj4+MCkudG9OdW1iZXIoKSkpLG51bGwhPWUubmFub3MmJih0Lm5hbm9zPTB8ZS5uYW5vcyksdCl9LEsudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbixvPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKGkuTG9uZz8obj1uZXcgaS5Mb25nKDAsMCwhMSksby5zZWNvbmRzPXQubG9uZ3M9PT1TdHJpbmc/bi50b1N0cmluZygpOnQubG9uZ3M9PT1OdW1iZXI/bi50b051bWJlcigpOm4pOm8uc2Vjb25kcz10LmxvbmdzPT09U3RyaW5nP1wiMFwiOjAsby5uYW5vcz0wKSxudWxsIT1lLnNlY29uZHMmJmUuaGFzT3duUHJvcGVydHkoXCJzZWNvbmRzXCIpJiYoXCJudW1iZXJcIj09dHlwZW9mIGUuc2Vjb25kcz9vLnNlY29uZHM9dC5sb25ncz09PVN0cmluZz9TdHJpbmcoZS5zZWNvbmRzKTplLnNlY29uZHM6by5zZWNvbmRzPXQubG9uZ3M9PT1TdHJpbmc/aS5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUuc2Vjb25kcyk6dC5sb25ncz09PU51bWJlcj9uZXcgaS5Mb25nQml0cyhlLnNlY29uZHMubG93Pj4+MCxlLnNlY29uZHMuaGlnaD4+PjApLnRvTnVtYmVyKCk6ZS5zZWNvbmRzKSxudWxsIT1lLm5hbm9zJiZlLmhhc093blByb3BlcnR5KFwibmFub3NcIikmJihvLm5hbm9zPWUubmFub3MpLG99LEsucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxLKSx0LkVtcHR5PShRLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFEoZSl9LFEuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKX0sUS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3QsdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRW1wdHk7ZS5wb3M8bjspe3ZhciBvPWUudWludDMyKCk7ZS5za2lwVHlwZSg3Jm8pfXJldHVybiB0fSxRLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxRLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsfSxRLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5FbXB0eT9lOm5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbXB0eX0sUS50b09iamVjdD1mdW5jdGlvbigpe3JldHVybnt9fSxRLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sUSksdCksRi5ycGM9KChuPXt9KS5TdGF0dXM9KFYucHJvdG90eXBlLmNvZGU9MCxWLnByb3RvdHlwZS5tZXNzYWdlPVwiXCIsVi5wcm90b3R5cGUuZGV0YWlscz1pLmVtcHR5QXJyYXksVi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBWKGUpfSxWLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmNvZGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjb2RlXCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLmNvZGUpLG51bGwhPWUubWVzc2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1lc3NhZ2VcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5tZXNzYWdlKSxudWxsIT1lLmRldGFpbHMmJmUuZGV0YWlscy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmRldGFpbHMubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5BbnkuZW5jb2RlKGUuZGV0YWlsc1tuXSx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sVi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sVi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucnBjLlN0YXR1cztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmNvZGU9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLm1lc3NhZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5kZXRhaWxzJiZvLmRldGFpbHMubGVuZ3RofHwoby5kZXRhaWxzPVtdKSxvLmRldGFpbHMucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5BbnkuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sVi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sVi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jb2RlJiZlLmhhc093blByb3BlcnR5KFwiY29kZVwiKSYmIWkuaXNJbnRlZ2VyKGUuY29kZSkpcmV0dXJuXCJjb2RlOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tZXNzYWdlJiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVwiKSYmIWkuaXNTdHJpbmcoZS5tZXNzYWdlKSlyZXR1cm5cIm1lc3NhZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGV0YWlscyYmZS5oYXNPd25Qcm9wZXJ0eShcImRldGFpbHNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZGV0YWlscykpcmV0dXJuXCJkZXRhaWxzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5kZXRhaWxzLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLkFueS52ZXJpZnkoZS5kZXRhaWxzW3RdKTtpZihuKXJldHVyblwiZGV0YWlscy5cIitufX1yZXR1cm4gbnVsbH0sVi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5ycGMuU3RhdHVzKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5ycGMuU3RhdHVzO2lmKG51bGwhPWUuY29kZSYmKHQuY29kZT0wfGUuY29kZSksbnVsbCE9ZS5tZXNzYWdlJiYodC5tZXNzYWdlPVN0cmluZyhlLm1lc3NhZ2UpKSxlLmRldGFpbHMpe2lmKCFBcnJheS5pc0FycmF5KGUuZGV0YWlscykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5ycGMuU3RhdHVzLmRldGFpbHM6IGFycmF5IGV4cGVjdGVkXCIpO3QuZGV0YWlscz1bXTtmb3IodmFyIG49MDtuPGUuZGV0YWlscy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5kZXRhaWxzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucnBjLlN0YXR1cy5kZXRhaWxzOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5kZXRhaWxzW25dPXAuZ29vZ2xlLnByb3RvYnVmLkFueS5mcm9tT2JqZWN0KGUuZGV0YWlsc1tuXSl9fXJldHVybiB0fSxWLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5kZXRhaWxzPVtdKSx0LmRlZmF1bHRzJiYobi5jb2RlPTAsbi5tZXNzYWdlPVwiXCIpLG51bGwhPWUuY29kZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNvZGVcIikmJihuLmNvZGU9ZS5jb2RlKSxudWxsIT1lLm1lc3NhZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJtZXNzYWdlXCIpJiYobi5tZXNzYWdlPWUubWVzc2FnZSksZS5kZXRhaWxzJiZlLmRldGFpbHMubGVuZ3RoKXtuLmRldGFpbHM9W107Zm9yKHZhciBvPTA7bzxlLmRldGFpbHMubGVuZ3RoOysrbyluLmRldGFpbHNbb109cC5nb29nbGUucHJvdG9idWYuQW55LnRvT2JqZWN0KGUuZGV0YWlsc1tvXSx0KX1yZXR1cm4gbn0sVi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFYpLG4pLEYpLHB9KTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/protos/operations.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/protos/operations.json":
/*!**************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/operations.json ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"google.golang.org/genproto/googleapis/longrunning;longrunning","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Empty":{"fields":{}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/protos/status.json":
/*!**********************************************************!*\
  !*** ./node_modules/google-gax/build/protos/status.json ***!
  \**********************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails","java_multiple_files":true,"java_outer_classname":"ErrorDetailsProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}},"RetryInfo":{"fields":{"retryDelay":{"type":"google.protobuf.Duration","id":1}}},"DebugInfo":{"fields":{"stackEntries":{"rule":"repeated","type":"string","id":1},"detail":{"type":"string","id":2}}},"QuotaFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"subject":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"ErrorInfo":{"fields":{"reason":{"type":"string","id":1},"domain":{"type":"string","id":2},"metadata":{"keyType":"string","type":"string","id":3}}},"PreconditionFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"type":{"type":"string","id":1},"subject":{"type":"string","id":2},"description":{"type":"string","id":3}}}}},"BadRequest":{"fields":{"fieldViolations":{"rule":"repeated","type":"FieldViolation","id":1}},"nested":{"FieldViolation":{"fields":{"field":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"RequestInfo":{"fields":{"requestId":{"type":"string","id":1},"servingData":{"type":"string","id":2}}},"ResourceInfo":{"fields":{"resourceType":{"type":"string","id":1},"resourceName":{"type":"string","id":2},"owner":{"type":"string","id":3},"description":{"type":"string","id":4}}},"Help":{"fields":{"links":{"rule":"repeated","type":"Link","id":1}},"nested":{"Link":{"fields":{"description":{"type":"string","id":1},"url":{"type":"string","id":2}}}}},"LocalizedMessage":{"fields":{"locale":{"type":"string","id":1},"message":{"type":"string","id":2}}}}}}}}}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/apiCaller.js":
/*!********************************************************!*\
  !*** ./node_modules/google-gax/build/src/apiCaller.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createAPICaller = createAPICaller;\nconst normalApiCaller_1 = __webpack_require__(/*! ./normalCalls/normalApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\");\nfunction createAPICaller(settings, descriptor) {\n    if (!descriptor) {\n        return new normalApiCaller_1.NormalApiCaller();\n    }\n    return descriptor.getApiCaller(settings);\n}\n//# sourceMappingURL=apiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9hcGlDYWxsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLDBCQUEwQixtQkFBTyxDQUFDLDBIQUErQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2FwaUNhbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQVBJQ2FsbGVyID0gY3JlYXRlQVBJQ2FsbGVyO1xuY29uc3Qgbm9ybWFsQXBpQ2FsbGVyXzEgPSByZXF1aXJlKFwiLi9ub3JtYWxDYWxscy9ub3JtYWxBcGlDYWxsZXJcIik7XG5mdW5jdGlvbiBjcmVhdGVBUElDYWxsZXIoc2V0dGluZ3MsIGRlc2NyaXB0b3IpIHtcbiAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBub3JtYWxBcGlDYWxsZXJfMS5Ob3JtYWxBcGlDYWxsZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0QXBpQ2FsbGVyKHNldHRpbmdzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaUNhbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/apiCaller.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js":
/*!****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(action-browser)/./node_modules/google-gax/build/src/call.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\n/**\n * An implementation of APICaller for bundled calls.\n * Uses BundleExecutor to do bundling.\n */\nclass BundleApiCaller {\n    constructor(bundler) {\n        this.bundler = bundler;\n    }\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    wrap(func) {\n        return func;\n    }\n    call(apiCall, argument, settings, status) {\n        if (!settings.isBundling) {\n            throw new googleError_1.GoogleError('Bundling enabled with no isBundling!');\n        }\n        status.call((argument, callback) => {\n            this.bundler.schedule(apiCall, argument, callback);\n            return status;\n        }, argument);\n    }\n    fail(canceller, err) {\n        canceller.callback(err);\n    }\n    result(canceller) {\n        return canceller.promise;\n    }\n}\nexports.BundleApiCaller = BundleApiCaller;\n//# sourceMappingURL=bundleApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9idW5kbGluZ0NhbGxzL2J1bmRsZUFwaUNhbGxlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsZUFBZSxtQkFBTyxDQUFDLDZFQUFTO0FBQ2hDLHNCQUFzQixtQkFBTyxDQUFDLDJGQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2J1bmRsaW5nQ2FsbHMvYnVuZGxlQXBpQ2FsbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CdW5kbGVBcGlDYWxsZXIgPSB2b2lkIDA7XG5jb25zdCBjYWxsXzEgPSByZXF1aXJlKFwiLi4vY2FsbFwiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vZ29vZ2xlRXJyb3JcIik7XG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIEFQSUNhbGxlciBmb3IgYnVuZGxlZCBjYWxscy5cbiAqIFVzZXMgQnVuZGxlRXhlY3V0b3IgdG8gZG8gYnVuZGxpbmcuXG4gKi9cbmNsYXNzIEJ1bmRsZUFwaUNhbGxlciB7XG4gICAgY29uc3RydWN0b3IoYnVuZGxlcikge1xuICAgICAgICB0aGlzLmJ1bmRsZXIgPSBidW5kbGVyO1xuICAgIH1cbiAgICBpbml0KGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjYWxsXzEuT25nb2luZ0NhbGwoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY2FsbF8xLk9uZ29pbmdDYWxsUHJvbWlzZSgpO1xuICAgIH1cbiAgICB3cmFwKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfVxuICAgIGNhbGwoYXBpQ2FsbCwgYXJndW1lbnQsIHNldHRpbmdzLCBzdGF0dXMpIHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5pc0J1bmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignQnVuZGxpbmcgZW5hYmxlZCB3aXRoIG5vIGlzQnVuZGxpbmchJyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdHVzLmNhbGwoKGFyZ3VtZW50LCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5idW5kbGVyLnNjaGVkdWxlKGFwaUNhbGwsIGFyZ3VtZW50LCBjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICB9LCBhcmd1bWVudCk7XG4gICAgfVxuICAgIGZhaWwoY2FuY2VsbGVyLCBlcnIpIHtcbiAgICAgICAgY2FuY2VsbGVyLmNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHJlc3VsdChjYW5jZWxsZXIpIHtcbiAgICAgICAgcmV0dXJuIGNhbmNlbGxlci5wcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuQnVuZGxlQXBpQ2FsbGVyID0gQnVuZGxlQXBpQ2FsbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVuZGxlQXBpQ2FsbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleDescriptor = void 0;\nconst normalApiCaller_1 = __webpack_require__(/*! ../normalCalls/normalApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\");\nconst bundleApiCaller_1 = __webpack_require__(/*! ./bundleApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js\");\nconst bundleExecutor_1 = __webpack_require__(/*! ./bundleExecutor */ \"(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js\");\nconst util_1 = __webpack_require__(/*! ../util */ \"(action-browser)/./node_modules/google-gax/build/src/util.js\");\n/**\n * A descriptor for calls that can be bundled into one call.\n */\nclass BundleDescriptor {\n    /**\n     * Describes the structure of bundled call.\n     *\n     * requestDiscriminatorFields may include '.' as a separator, which is used to\n     * indicate object traversal. This allows fields in nested objects to be used\n     * to determine what request to bundle.\n     *\n     * @property {String} bundledField\n     * @property {String} requestDiscriminatorFields\n     * @property {String} subresponseField\n     * @property {Function} byteLengthFunction\n     *\n     * @param {String} bundledField - the repeated field in the request message\n     *   that will have its elements aggregated by bundling.\n     * @param {String} requestDiscriminatorFields - a list of fields in the\n     *   target request message class that are used to detemrine which request\n     *   messages should be bundled together.\n     * @param {String} subresponseField - an optional field, when present it\n     *   indicates the field in the response message that should be used to\n     *   demultiplex the response into multiple response messages.\n     * @param {Function} byteLengthFunction - a function to obtain the byte\n     *   length to be consumed for the bundled field messages. Because Node.JS\n     *   protobuf.js/gRPC uses builtin Objects for the user-visible data and\n     *   internally they are encoded/decoded in protobuf manner, this function\n     *   is actually necessary to calculate the byte length.\n     * @constructor\n     */\n    constructor(bundledField, requestDiscriminatorFields, subresponseField, byteLengthFunction) {\n        if (!byteLengthFunction && typeof subresponseField === 'function') {\n            byteLengthFunction = subresponseField;\n            subresponseField = null;\n        }\n        this.bundledField = bundledField;\n        this.requestDiscriminatorFields =\n            requestDiscriminatorFields.map(util_1.toCamelCase);\n        this.subresponseField = subresponseField;\n        this.byteLengthFunction = byteLengthFunction;\n    }\n    getApiCaller(settings) {\n        if (settings.isBundling === false) {\n            return new normalApiCaller_1.NormalApiCaller();\n        }\n        return new bundleApiCaller_1.BundleApiCaller(new bundleExecutor_1.BundleExecutor(settings.bundleOptions, this));\n    }\n}\nexports.BundleDescriptor = BundleDescriptor;\n//# sourceMappingURL=bundleDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9idW5kbGluZ0NhbGxzL2J1bmRsZURlc2NyaXB0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLDBCQUEwQixtQkFBTyxDQUFDLDJIQUFnQztBQUNsRSwwQkFBMEIsbUJBQU8sQ0FBQyxnSEFBbUI7QUFDckQseUJBQXlCLG1CQUFPLENBQUMsOEdBQWtCO0FBQ25ELGVBQWUsbUJBQU8sQ0FBQyw2RUFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUIsa0JBQWtCLFFBQVE7QUFDMUIsa0JBQWtCLFFBQVE7QUFDMUIsa0JBQWtCLFVBQVU7QUFDNUI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2J1bmRsaW5nQ2FsbHMvYnVuZGxlRGVzY3JpcHRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnVuZGxlRGVzY3JpcHRvciA9IHZvaWQgMDtcbmNvbnN0IG5vcm1hbEFwaUNhbGxlcl8xID0gcmVxdWlyZShcIi4uL25vcm1hbENhbGxzL25vcm1hbEFwaUNhbGxlclwiKTtcbmNvbnN0IGJ1bmRsZUFwaUNhbGxlcl8xID0gcmVxdWlyZShcIi4vYnVuZGxlQXBpQ2FsbGVyXCIpO1xuY29uc3QgYnVuZGxlRXhlY3V0b3JfMSA9IHJlcXVpcmUoXCIuL2J1bmRsZUV4ZWN1dG9yXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL3V0aWxcIik7XG4vKipcbiAqIEEgZGVzY3JpcHRvciBmb3IgY2FsbHMgdGhhdCBjYW4gYmUgYnVuZGxlZCBpbnRvIG9uZSBjYWxsLlxuICovXG5jbGFzcyBCdW5kbGVEZXNjcmlwdG9yIHtcbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgdGhlIHN0cnVjdHVyZSBvZiBidW5kbGVkIGNhbGwuXG4gICAgICpcbiAgICAgKiByZXF1ZXN0RGlzY3JpbWluYXRvckZpZWxkcyBtYXkgaW5jbHVkZSAnLicgYXMgYSBzZXBhcmF0b3IsIHdoaWNoIGlzIHVzZWQgdG9cbiAgICAgKiBpbmRpY2F0ZSBvYmplY3QgdHJhdmVyc2FsLiBUaGlzIGFsbG93cyBmaWVsZHMgaW4gbmVzdGVkIG9iamVjdHMgdG8gYmUgdXNlZFxuICAgICAqIHRvIGRldGVybWluZSB3aGF0IHJlcXVlc3QgdG8gYnVuZGxlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IGJ1bmRsZWRGaWVsZFxuICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSByZXF1ZXN0RGlzY3JpbWluYXRvckZpZWxkc1xuICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzdWJyZXNwb25zZUZpZWxkXG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gYnl0ZUxlbmd0aEZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYnVuZGxlZEZpZWxkIC0gdGhlIHJlcGVhdGVkIGZpZWxkIGluIHRoZSByZXF1ZXN0IG1lc3NhZ2VcbiAgICAgKiAgIHRoYXQgd2lsbCBoYXZlIGl0cyBlbGVtZW50cyBhZ2dyZWdhdGVkIGJ5IGJ1bmRsaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0RGlzY3JpbWluYXRvckZpZWxkcyAtIGEgbGlzdCBvZiBmaWVsZHMgaW4gdGhlXG4gICAgICogICB0YXJnZXQgcmVxdWVzdCBtZXNzYWdlIGNsYXNzIHRoYXQgYXJlIHVzZWQgdG8gZGV0ZW1yaW5lIHdoaWNoIHJlcXVlc3RcbiAgICAgKiAgIG1lc3NhZ2VzIHNob3VsZCBiZSBidW5kbGVkIHRvZ2V0aGVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWJyZXNwb25zZUZpZWxkIC0gYW4gb3B0aW9uYWwgZmllbGQsIHdoZW4gcHJlc2VudCBpdFxuICAgICAqICAgaW5kaWNhdGVzIHRoZSBmaWVsZCBpbiB0aGUgcmVzcG9uc2UgbWVzc2FnZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvXG4gICAgICogICBkZW11bHRpcGxleCB0aGUgcmVzcG9uc2UgaW50byBtdWx0aXBsZSByZXNwb25zZSBtZXNzYWdlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBieXRlTGVuZ3RoRnVuY3Rpb24gLSBhIGZ1bmN0aW9uIHRvIG9idGFpbiB0aGUgYnl0ZVxuICAgICAqICAgbGVuZ3RoIHRvIGJlIGNvbnN1bWVkIGZvciB0aGUgYnVuZGxlZCBmaWVsZCBtZXNzYWdlcy4gQmVjYXVzZSBOb2RlLkpTXG4gICAgICogICBwcm90b2J1Zi5qcy9nUlBDIHVzZXMgYnVpbHRpbiBPYmplY3RzIGZvciB0aGUgdXNlci12aXNpYmxlIGRhdGEgYW5kXG4gICAgICogICBpbnRlcm5hbGx5IHRoZXkgYXJlIGVuY29kZWQvZGVjb2RlZCBpbiBwcm90b2J1ZiBtYW5uZXIsIHRoaXMgZnVuY3Rpb25cbiAgICAgKiAgIGlzIGFjdHVhbGx5IG5lY2Vzc2FyeSB0byBjYWxjdWxhdGUgdGhlIGJ5dGUgbGVuZ3RoLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJ1bmRsZWRGaWVsZCwgcmVxdWVzdERpc2NyaW1pbmF0b3JGaWVsZHMsIHN1YnJlc3BvbnNlRmllbGQsIGJ5dGVMZW5ndGhGdW5jdGlvbikge1xuICAgICAgICBpZiAoIWJ5dGVMZW5ndGhGdW5jdGlvbiAmJiB0eXBlb2Ygc3VicmVzcG9uc2VGaWVsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYnl0ZUxlbmd0aEZ1bmN0aW9uID0gc3VicmVzcG9uc2VGaWVsZDtcbiAgICAgICAgICAgIHN1YnJlc3BvbnNlRmllbGQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVuZGxlZEZpZWxkID0gYnVuZGxlZEZpZWxkO1xuICAgICAgICB0aGlzLnJlcXVlc3REaXNjcmltaW5hdG9yRmllbGRzID1cbiAgICAgICAgICAgIHJlcXVlc3REaXNjcmltaW5hdG9yRmllbGRzLm1hcCh1dGlsXzEudG9DYW1lbENhc2UpO1xuICAgICAgICB0aGlzLnN1YnJlc3BvbnNlRmllbGQgPSBzdWJyZXNwb25zZUZpZWxkO1xuICAgICAgICB0aGlzLmJ5dGVMZW5ndGhGdW5jdGlvbiA9IGJ5dGVMZW5ndGhGdW5jdGlvbjtcbiAgICB9XG4gICAgZ2V0QXBpQ2FsbGVyKHNldHRpbmdzKSB7XG4gICAgICAgIGlmIChzZXR0aW5ncy5pc0J1bmRsaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBub3JtYWxBcGlDYWxsZXJfMS5Ob3JtYWxBcGlDYWxsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGJ1bmRsZUFwaUNhbGxlcl8xLkJ1bmRsZUFwaUNhbGxlcihuZXcgYnVuZGxlRXhlY3V0b3JfMS5CdW5kbGVFeGVjdXRvcihzZXR0aW5ncy5idW5kbGVPcHRpb25zLCB0aGlzKSk7XG4gICAgfVxufVxuZXhwb3J0cy5CdW5kbGVEZXNjcmlwdG9yID0gQnVuZGxlRGVzY3JpcHRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZURlc2NyaXB0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js":
/*!***************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleExecutor = void 0;\nconst status_1 = __webpack_require__(/*! ../status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nconst warnings_1 = __webpack_require__(/*! ../warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nconst bundlingUtils_1 = __webpack_require__(/*! ./bundlingUtils */ \"(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js\");\nconst task_1 = __webpack_require__(/*! ./task */ \"(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/task.js\");\nfunction noop() { }\n/**\n * BundleExecutor stores several timers for each bundle (calls are bundled based\n * on the options passed, each bundle has unique ID that is calculated based on\n * field values). Each timer fires and sends a call after certain amount of\n * time, and if a new request comes to the same bundle, the timer can be\n * restarted.\n */\nclass BundleExecutor {\n    /**\n     * Organizes requests for an api service that requires to bundle them.\n     *\n     * @param {BundleOptions} bundleOptions - configures strategy this instance\n     *   uses when executing bundled functions.\n     * @param {BundleDescriptor} bundleDescriptor - the description of the bundling.\n     * @constructor\n     */\n    constructor(bundleOptions, bundleDescriptor) {\n        this._options = bundleOptions;\n        this._descriptor = bundleDescriptor;\n        this._tasks = {};\n        this._timers = {};\n        this._invocations = {};\n        this._invocationId = 0;\n    }\n    /**\n     * Schedule a method call.\n     *\n     * @param {function} apiCall - the function for an API call.\n     * @param {Object} request - the request object to be bundled with others.\n     * @param {APICallback} callback - the callback to be called when the method finished.\n     * @return {function()} - the function to cancel the scheduled invocation.\n     */\n    schedule(apiCall, request, callback) {\n        const bundleId = (0, bundlingUtils_1.computeBundleId)(request, this._descriptor.requestDiscriminatorFields);\n        callback = (callback || noop);\n        if (bundleId === undefined) {\n            (0, warnings_1.warn)('bundling_schedule_bundleid_undefined', 'The request does not have enough information for request bundling. ' +\n                `Invoking immediately. Request: ${JSON.stringify(request)} ` +\n                `discriminator fields: ${this._descriptor.requestDiscriminatorFields}`);\n            return apiCall(request, callback);\n        }\n        if (request[this._descriptor.bundledField] === undefined) {\n            (0, warnings_1.warn)('bundling_no_bundled_field', `Request does not contain field ${this._descriptor.bundledField} that must present for bundling. ` +\n                `Invoking immediately. Request: ${JSON.stringify(request)}`);\n            return apiCall(request, callback);\n        }\n        if (!(bundleId in this._tasks)) {\n            this._tasks[bundleId] = new task_1.Task(apiCall, request, this._descriptor.bundledField, this._descriptor.subresponseField);\n        }\n        let task = this._tasks[bundleId];\n        callback.id = String(this._invocationId++);\n        this._invocations[callback.id] = bundleId;\n        const bundledField = request[this._descriptor.bundledField];\n        const elementCount = bundledField.length;\n        let requestBytes = 0;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        bundledField.forEach(obj => {\n            requestBytes += this._descriptor.byteLengthFunction(obj);\n        });\n        const countLimit = this._options.elementCountLimit || 0;\n        const byteLimit = this._options.requestByteLimit || 0;\n        if ((countLimit > 0 && elementCount > countLimit) ||\n            (byteLimit > 0 && requestBytes >= byteLimit)) {\n            let message;\n            if (countLimit > 0 && elementCount > countLimit) {\n                message =\n                    'The number of elements ' +\n                        elementCount +\n                        ' exceeds the limit ' +\n                        this._options.elementCountLimit;\n            }\n            else {\n                message =\n                    'The required bytes ' +\n                        requestBytes +\n                        ' exceeds the limit ' +\n                        this._options.requestByteLimit;\n            }\n            const error = new googleError_1.GoogleError(message);\n            error.code = status_1.Status.INVALID_ARGUMENT;\n            callback(error);\n            return {\n                cancel: noop,\n            };\n        }\n        const existingCount = task.getElementCount();\n        const existingBytes = task.getRequestByteSize();\n        if ((countLimit > 0 && elementCount + existingCount >= countLimit) ||\n            (byteLimit > 0 && requestBytes + existingBytes >= byteLimit)) {\n            this._runNow(bundleId);\n            this._tasks[bundleId] = new task_1.Task(apiCall, request, this._descriptor.bundledField, this._descriptor.subresponseField);\n            task = this._tasks[bundleId];\n        }\n        task.extend(bundledField, requestBytes, callback);\n        const ret = {\n            cancel() {\n                self._cancel(callback.id);\n            },\n        };\n        const countThreshold = this._options.elementCountThreshold || 0;\n        const sizeThreshold = this._options.requestByteThreshold || 0;\n        if ((countThreshold > 0 && task.getElementCount() >= countThreshold) ||\n            (sizeThreshold > 0 && task.getRequestByteSize() >= sizeThreshold)) {\n            this._runNow(bundleId);\n            return ret;\n        }\n        if (!(bundleId in this._timers) && this._options.delayThreshold > 0) {\n            this._timers[bundleId] = setTimeout(() => {\n                delete this._timers[bundleId];\n                this._runNow(bundleId);\n            }, this._options.delayThreshold);\n        }\n        return ret;\n    }\n    /**\n     * Clears scheduled timeout if it exists.\n     *\n     * @param {String} bundleId - the id for the task whose timeout needs to be\n     *   cleared.\n     * @private\n     */\n    _maybeClearTimeout(bundleId) {\n        if (bundleId in this._timers) {\n            const timerId = this._timers[bundleId];\n            delete this._timers[bundleId];\n            clearTimeout(timerId);\n        }\n    }\n    /**\n     * Cancels an event.\n     *\n     * @param {String} id - The id for the event in the task.\n     * @private\n     */\n    _cancel(id) {\n        if (!(id in this._invocations)) {\n            return;\n        }\n        const bundleId = this._invocations[id];\n        if (!(bundleId in this._tasks)) {\n            return;\n        }\n        const task = this._tasks[bundleId];\n        delete this._invocations[id];\n        if (task.cancel(id)) {\n            this._maybeClearTimeout(bundleId);\n            delete this._tasks[bundleId];\n        }\n    }\n    /**\n     * Invokes a task.\n     *\n     * @param {String} bundleId - The id for the task.\n     * @private\n     */\n    _runNow(bundleId) {\n        if (!(bundleId in this._tasks)) {\n            (0, warnings_1.warn)('bundle_runnow_bundleid_unknown', `No such bundleid: ${bundleId}`);\n            return;\n        }\n        this._maybeClearTimeout(bundleId);\n        const task = this._tasks[bundleId];\n        delete this._tasks[bundleId];\n        task.run().forEach(id => {\n            delete this._invocations[id];\n        });\n    }\n}\nexports.BundleExecutor = BundleExecutor;\n//# sourceMappingURL=bundleExecutor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9idW5kbGluZ0NhbGxzL2J1bmRsZUV4ZWN1dG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQyxzQkFBc0IsbUJBQU8sQ0FBQywyRkFBZ0I7QUFDOUMsbUJBQW1CLG1CQUFPLENBQUMscUZBQWE7QUFDeEMsd0JBQXdCLG1CQUFPLENBQUMsNEdBQWlCO0FBQ2pELGVBQWUsbUJBQU8sQ0FBQywwRkFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQSxlQUFlLGtCQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxhQUFhO0FBQzVCLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx5QkFBeUI7QUFDM0UseUNBQXlDLDRDQUE0QztBQUNyRjtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0csK0JBQStCO0FBQy9ILGtEQUFrRCx3QkFBd0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLFNBQVM7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2J1bmRsaW5nQ2FsbHMvYnVuZGxlRXhlY3V0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1bmRsZUV4ZWN1dG9yID0gdm9pZCAwO1xuY29uc3Qgc3RhdHVzXzEgPSByZXF1aXJlKFwiLi4vc3RhdHVzXCIpO1xuY29uc3QgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9nb29nbGVFcnJvclwiKTtcbmNvbnN0IHdhcm5pbmdzXzEgPSByZXF1aXJlKFwiLi4vd2FybmluZ3NcIik7XG5jb25zdCBidW5kbGluZ1V0aWxzXzEgPSByZXF1aXJlKFwiLi9idW5kbGluZ1V0aWxzXCIpO1xuY29uc3QgdGFza18xID0gcmVxdWlyZShcIi4vdGFza1wiKTtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbi8qKlxuICogQnVuZGxlRXhlY3V0b3Igc3RvcmVzIHNldmVyYWwgdGltZXJzIGZvciBlYWNoIGJ1bmRsZSAoY2FsbHMgYXJlIGJ1bmRsZWQgYmFzZWRcbiAqIG9uIHRoZSBvcHRpb25zIHBhc3NlZCwgZWFjaCBidW5kbGUgaGFzIHVuaXF1ZSBJRCB0aGF0IGlzIGNhbGN1bGF0ZWQgYmFzZWQgb25cbiAqIGZpZWxkIHZhbHVlcykuIEVhY2ggdGltZXIgZmlyZXMgYW5kIHNlbmRzIGEgY2FsbCBhZnRlciBjZXJ0YWluIGFtb3VudCBvZlxuICogdGltZSwgYW5kIGlmIGEgbmV3IHJlcXVlc3QgY29tZXMgdG8gdGhlIHNhbWUgYnVuZGxlLCB0aGUgdGltZXIgY2FuIGJlXG4gKiByZXN0YXJ0ZWQuXG4gKi9cbmNsYXNzIEJ1bmRsZUV4ZWN1dG9yIHtcbiAgICAvKipcbiAgICAgKiBPcmdhbml6ZXMgcmVxdWVzdHMgZm9yIGFuIGFwaSBzZXJ2aWNlIHRoYXQgcmVxdWlyZXMgdG8gYnVuZGxlIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1bmRsZU9wdGlvbnN9IGJ1bmRsZU9wdGlvbnMgLSBjb25maWd1cmVzIHN0cmF0ZWd5IHRoaXMgaW5zdGFuY2VcbiAgICAgKiAgIHVzZXMgd2hlbiBleGVjdXRpbmcgYnVuZGxlZCBmdW5jdGlvbnMuXG4gICAgICogQHBhcmFtIHtCdW5kbGVEZXNjcmlwdG9yfSBidW5kbGVEZXNjcmlwdG9yIC0gdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidW5kbGluZy5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihidW5kbGVPcHRpb25zLCBidW5kbGVEZXNjcmlwdG9yKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBidW5kbGVPcHRpb25zO1xuICAgICAgICB0aGlzLl9kZXNjcmlwdG9yID0gYnVuZGxlRGVzY3JpcHRvcjtcbiAgICAgICAgdGhpcy5fdGFza3MgPSB7fTtcbiAgICAgICAgdGhpcy5fdGltZXJzID0ge307XG4gICAgICAgIHRoaXMuX2ludm9jYXRpb25zID0ge307XG4gICAgICAgIHRoaXMuX2ludm9jYXRpb25JZCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGEgbWV0aG9kIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBhcGlDYWxsIC0gdGhlIGZ1bmN0aW9uIGZvciBhbiBBUEkgY2FsbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdCAtIHRoZSByZXF1ZXN0IG9iamVjdCB0byBiZSBidW5kbGVkIHdpdGggb3RoZXJzLlxuICAgICAqIEBwYXJhbSB7QVBJQ2FsbGJhY2t9IGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBtZXRob2QgZmluaXNoZWQuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oKX0gLSB0aGUgZnVuY3Rpb24gdG8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICBzY2hlZHVsZShhcGlDYWxsLCByZXF1ZXN0LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBidW5kbGVJZCA9ICgwLCBidW5kbGluZ1V0aWxzXzEuY29tcHV0ZUJ1bmRsZUlkKShyZXF1ZXN0LCB0aGlzLl9kZXNjcmlwdG9yLnJlcXVlc3REaXNjcmltaW5hdG9yRmllbGRzKTtcbiAgICAgICAgY2FsbGJhY2sgPSAoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIGlmIChidW5kbGVJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnYnVuZGxpbmdfc2NoZWR1bGVfYnVuZGxlaWRfdW5kZWZpbmVkJywgJ1RoZSByZXF1ZXN0IGRvZXMgbm90IGhhdmUgZW5vdWdoIGluZm9ybWF0aW9uIGZvciByZXF1ZXN0IGJ1bmRsaW5nLiAnICtcbiAgICAgICAgICAgICAgICBgSW52b2tpbmcgaW1tZWRpYXRlbHkuIFJlcXVlc3Q6ICR7SlNPTi5zdHJpbmdpZnkocmVxdWVzdCl9IGAgK1xuICAgICAgICAgICAgICAgIGBkaXNjcmltaW5hdG9yIGZpZWxkczogJHt0aGlzLl9kZXNjcmlwdG9yLnJlcXVlc3REaXNjcmltaW5hdG9yRmllbGRzfWApO1xuICAgICAgICAgICAgcmV0dXJuIGFwaUNhbGwocmVxdWVzdCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1ZXN0W3RoaXMuX2Rlc2NyaXB0b3IuYnVuZGxlZEZpZWxkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnYnVuZGxpbmdfbm9fYnVuZGxlZF9maWVsZCcsIGBSZXF1ZXN0IGRvZXMgbm90IGNvbnRhaW4gZmllbGQgJHt0aGlzLl9kZXNjcmlwdG9yLmJ1bmRsZWRGaWVsZH0gdGhhdCBtdXN0IHByZXNlbnQgZm9yIGJ1bmRsaW5nLiBgICtcbiAgICAgICAgICAgICAgICBgSW52b2tpbmcgaW1tZWRpYXRlbHkuIFJlcXVlc3Q6ICR7SlNPTi5zdHJpbmdpZnkocmVxdWVzdCl9YCk7XG4gICAgICAgICAgICByZXR1cm4gYXBpQ2FsbChyZXF1ZXN0LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoYnVuZGxlSWQgaW4gdGhpcy5fdGFza3MpKSB7XG4gICAgICAgICAgICB0aGlzLl90YXNrc1tidW5kbGVJZF0gPSBuZXcgdGFza18xLlRhc2soYXBpQ2FsbCwgcmVxdWVzdCwgdGhpcy5fZGVzY3JpcHRvci5idW5kbGVkRmllbGQsIHRoaXMuX2Rlc2NyaXB0b3Iuc3VicmVzcG9uc2VGaWVsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhc2sgPSB0aGlzLl90YXNrc1tidW5kbGVJZF07XG4gICAgICAgIGNhbGxiYWNrLmlkID0gU3RyaW5nKHRoaXMuX2ludm9jYXRpb25JZCsrKTtcbiAgICAgICAgdGhpcy5faW52b2NhdGlvbnNbY2FsbGJhY2suaWRdID0gYnVuZGxlSWQ7XG4gICAgICAgIGNvbnN0IGJ1bmRsZWRGaWVsZCA9IHJlcXVlc3RbdGhpcy5fZGVzY3JpcHRvci5idW5kbGVkRmllbGRdO1xuICAgICAgICBjb25zdCBlbGVtZW50Q291bnQgPSBidW5kbGVkRmllbGQubGVuZ3RoO1xuICAgICAgICBsZXQgcmVxdWVzdEJ5dGVzID0gMDtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBidW5kbGVkRmllbGQuZm9yRWFjaChvYmogPT4ge1xuICAgICAgICAgICAgcmVxdWVzdEJ5dGVzICs9IHRoaXMuX2Rlc2NyaXB0b3IuYnl0ZUxlbmd0aEZ1bmN0aW9uKG9iaik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjb3VudExpbWl0ID0gdGhpcy5fb3B0aW9ucy5lbGVtZW50Q291bnRMaW1pdCB8fCAwO1xuICAgICAgICBjb25zdCBieXRlTGltaXQgPSB0aGlzLl9vcHRpb25zLnJlcXVlc3RCeXRlTGltaXQgfHwgMDtcbiAgICAgICAgaWYgKChjb3VudExpbWl0ID4gMCAmJiBlbGVtZW50Q291bnQgPiBjb3VudExpbWl0KSB8fFxuICAgICAgICAgICAgKGJ5dGVMaW1pdCA+IDAgJiYgcmVxdWVzdEJ5dGVzID49IGJ5dGVMaW1pdCkpIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGNvdW50TGltaXQgPiAwICYmIGVsZW1lbnRDb3VudCA+IGNvdW50TGltaXQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgJ1RoZSBudW1iZXIgb2YgZWxlbWVudHMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Q291bnQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyBleGNlZWRzIHRoZSBsaW1pdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZWxlbWVudENvdW50TGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgJ1RoZSByZXF1aXJlZCBieXRlcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RCeXRlcyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIGV4Y2VlZHMgdGhlIGxpbWl0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5yZXF1ZXN0Qnl0ZUxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPSBzdGF0dXNfMS5TdGF0dXMuSU5WQUxJRF9BUkdVTUVOVDtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsOiBub29wLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleGlzdGluZ0NvdW50ID0gdGFzay5nZXRFbGVtZW50Q291bnQoKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdCeXRlcyA9IHRhc2suZ2V0UmVxdWVzdEJ5dGVTaXplKCk7XG4gICAgICAgIGlmICgoY291bnRMaW1pdCA+IDAgJiYgZWxlbWVudENvdW50ICsgZXhpc3RpbmdDb3VudCA+PSBjb3VudExpbWl0KSB8fFxuICAgICAgICAgICAgKGJ5dGVMaW1pdCA+IDAgJiYgcmVxdWVzdEJ5dGVzICsgZXhpc3RpbmdCeXRlcyA+PSBieXRlTGltaXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5Ob3coYnVuZGxlSWQpO1xuICAgICAgICAgICAgdGhpcy5fdGFza3NbYnVuZGxlSWRdID0gbmV3IHRhc2tfMS5UYXNrKGFwaUNhbGwsIHJlcXVlc3QsIHRoaXMuX2Rlc2NyaXB0b3IuYnVuZGxlZEZpZWxkLCB0aGlzLl9kZXNjcmlwdG9yLnN1YnJlc3BvbnNlRmllbGQpO1xuICAgICAgICAgICAgdGFzayA9IHRoaXMuX3Rhc2tzW2J1bmRsZUlkXTtcbiAgICAgICAgfVxuICAgICAgICB0YXNrLmV4dGVuZChidW5kbGVkRmllbGQsIHJlcXVlc3RCeXRlcywgY2FsbGJhY2spO1xuICAgICAgICBjb25zdCByZXQgPSB7XG4gICAgICAgICAgICBjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2FuY2VsKGNhbGxiYWNrLmlkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNvdW50VGhyZXNob2xkID0gdGhpcy5fb3B0aW9ucy5lbGVtZW50Q291bnRUaHJlc2hvbGQgfHwgMDtcbiAgICAgICAgY29uc3Qgc2l6ZVRocmVzaG9sZCA9IHRoaXMuX29wdGlvbnMucmVxdWVzdEJ5dGVUaHJlc2hvbGQgfHwgMDtcbiAgICAgICAgaWYgKChjb3VudFRocmVzaG9sZCA+IDAgJiYgdGFzay5nZXRFbGVtZW50Q291bnQoKSA+PSBjb3VudFRocmVzaG9sZCkgfHxcbiAgICAgICAgICAgIChzaXplVGhyZXNob2xkID4gMCAmJiB0YXNrLmdldFJlcXVlc3RCeXRlU2l6ZSgpID49IHNpemVUaHJlc2hvbGQpKSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5Ob3coYnVuZGxlSWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShidW5kbGVJZCBpbiB0aGlzLl90aW1lcnMpICYmIHRoaXMuX29wdGlvbnMuZGVsYXlUaHJlc2hvbGQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl90aW1lcnNbYnVuZGxlSWRdID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVyc1tidW5kbGVJZF07XG4gICAgICAgICAgICAgICAgdGhpcy5fcnVuTm93KGJ1bmRsZUlkKTtcbiAgICAgICAgICAgIH0sIHRoaXMuX29wdGlvbnMuZGVsYXlUaHJlc2hvbGQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBzY2hlZHVsZWQgdGltZW91dCBpZiBpdCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYnVuZGxlSWQgLSB0aGUgaWQgZm9yIHRoZSB0YXNrIHdob3NlIHRpbWVvdXQgbmVlZHMgdG8gYmVcbiAgICAgKiAgIGNsZWFyZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWF5YmVDbGVhclRpbWVvdXQoYnVuZGxlSWQpIHtcbiAgICAgICAgaWYgKGJ1bmRsZUlkIGluIHRoaXMuX3RpbWVycykge1xuICAgICAgICAgICAgY29uc3QgdGltZXJJZCA9IHRoaXMuX3RpbWVyc1tidW5kbGVJZF07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdGltZXJzW2J1bmRsZUlkXTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFuIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gVGhlIGlkIGZvciB0aGUgZXZlbnQgaW4gdGhlIHRhc2suXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FuY2VsKGlkKSB7XG4gICAgICAgIGlmICghKGlkIGluIHRoaXMuX2ludm9jYXRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1bmRsZUlkID0gdGhpcy5faW52b2NhdGlvbnNbaWRdO1xuICAgICAgICBpZiAoIShidW5kbGVJZCBpbiB0aGlzLl90YXNrcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy5fdGFza3NbYnVuZGxlSWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5faW52b2NhdGlvbnNbaWRdO1xuICAgICAgICBpZiAodGFzay5jYW5jZWwoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXliZUNsZWFyVGltZW91dChidW5kbGVJZCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdGFza3NbYnVuZGxlSWRdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYSB0YXNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJ1bmRsZUlkIC0gVGhlIGlkIGZvciB0aGUgdGFzay5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9ydW5Ob3coYnVuZGxlSWQpIHtcbiAgICAgICAgaWYgKCEoYnVuZGxlSWQgaW4gdGhpcy5fdGFza3MpKSB7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnYnVuZGxlX3J1bm5vd19idW5kbGVpZF91bmtub3duJywgYE5vIHN1Y2ggYnVuZGxlaWQ6ICR7YnVuZGxlSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF5YmVDbGVhclRpbWVvdXQoYnVuZGxlSWQpO1xuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy5fdGFza3NbYnVuZGxlSWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5fdGFza3NbYnVuZGxlSWRdO1xuICAgICAgICB0YXNrLnJ1bigpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ludm9jYXRpb25zW2lkXTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5CdW5kbGVFeGVjdXRvciA9IEJ1bmRsZUV4ZWN1dG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVuZGxlRXhlY3V0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.computeBundleId = computeBundleId;\n/**\n * Compute the identifier of the `obj`. The objects of the same ID\n * will be bundled together.\n *\n * @param {RequestType} obj - The request object.\n * @param {String[]} discriminatorFields - The array of field names.\n *   A field name may include '.' as a separator, which is used to\n *   indicate object traversal.\n * @return {String|undefined} - the identifier string, or undefined if any\n *   discriminator fields do not exist.\n */\nfunction computeBundleId(obj, discriminatorFields) {\n    const ids = [];\n    let hasIds = false;\n    for (const field of discriminatorFields) {\n        const id = at(obj, field);\n        if (id === undefined) {\n            ids.push(null);\n        }\n        else {\n            hasIds = true;\n            ids.push(id);\n        }\n    }\n    if (!hasIds) {\n        return undefined;\n    }\n    return JSON.stringify(ids);\n}\n/**\n * Given an object field path that may contain dots, dig into the obj and find\n * the value at the given path.\n * @example\n * const obj = {\n *   a: {\n *     b: 5\n *   }\n * }\n * const id = at(obj, 'a.b');\n * // id = 5\n * @param field Path to the property with `.` notation\n * @param obj The object to traverse\n * @returns the value at the given path\n */\nfunction at(obj, field) {\n    const pathParts = field.split('.');\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let currentObj = obj;\n    for (const pathPart of pathParts) {\n        currentObj = currentObj === null || currentObj === void 0 ? void 0 : currentObj[pathPart];\n    }\n    return currentObj;\n}\n//# sourceMappingURL=bundlingUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9idW5kbGluZ0NhbGxzL2J1bmRsaW5nVXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGluZ1V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21wdXRlQnVuZGxlSWQgPSBjb21wdXRlQnVuZGxlSWQ7XG4vKipcbiAqIENvbXB1dGUgdGhlIGlkZW50aWZpZXIgb2YgdGhlIGBvYmpgLiBUaGUgb2JqZWN0cyBvZiB0aGUgc2FtZSBJRFxuICogd2lsbCBiZSBidW5kbGVkIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7UmVxdWVzdFR5cGV9IG9iaiAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nW119IGRpc2NyaW1pbmF0b3JGaWVsZHMgLSBUaGUgYXJyYXkgb2YgZmllbGQgbmFtZXMuXG4gKiAgIEEgZmllbGQgbmFtZSBtYXkgaW5jbHVkZSAnLicgYXMgYSBzZXBhcmF0b3IsIHdoaWNoIGlzIHVzZWQgdG9cbiAqICAgaW5kaWNhdGUgb2JqZWN0IHRyYXZlcnNhbC5cbiAqIEByZXR1cm4ge1N0cmluZ3x1bmRlZmluZWR9IC0gdGhlIGlkZW50aWZpZXIgc3RyaW5nLCBvciB1bmRlZmluZWQgaWYgYW55XG4gKiAgIGRpc2NyaW1pbmF0b3IgZmllbGRzIGRvIG5vdCBleGlzdC5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUJ1bmRsZUlkKG9iaiwgZGlzY3JpbWluYXRvckZpZWxkcykge1xuICAgIGNvbnN0IGlkcyA9IFtdO1xuICAgIGxldCBoYXNJZHMgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGRpc2NyaW1pbmF0b3JGaWVsZHMpIHtcbiAgICAgICAgY29uc3QgaWQgPSBhdChvYmosIGZpZWxkKTtcbiAgICAgICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlkcy5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFzSWRzID0gdHJ1ZTtcbiAgICAgICAgICAgIGlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWhhc0lkcykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaWRzKTtcbn1cbi8qKlxuICogR2l2ZW4gYW4gb2JqZWN0IGZpZWxkIHBhdGggdGhhdCBtYXkgY29udGFpbiBkb3RzLCBkaWcgaW50byB0aGUgb2JqIGFuZCBmaW5kXG4gKiB0aGUgdmFsdWUgYXQgdGhlIGdpdmVuIHBhdGguXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb2JqID0ge1xuICogICBhOiB7XG4gKiAgICAgYjogNVxuICogICB9XG4gKiB9XG4gKiBjb25zdCBpZCA9IGF0KG9iaiwgJ2EuYicpO1xuICogLy8gaWQgPSA1XG4gKiBAcGFyYW0gZmllbGQgUGF0aCB0byB0aGUgcHJvcGVydHkgd2l0aCBgLmAgbm90YXRpb25cbiAqIEBwYXJhbSBvYmogVGhlIG9iamVjdCB0byB0cmF2ZXJzZVxuICogQHJldHVybnMgdGhlIHZhbHVlIGF0IHRoZSBnaXZlbiBwYXRoXG4gKi9cbmZ1bmN0aW9uIGF0KG9iaiwgZmllbGQpIHtcbiAgICBjb25zdCBwYXRoUGFydHMgPSBmaWVsZC5zcGxpdCgnLicpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IGN1cnJlbnRPYmogPSBvYmo7XG4gICAgZm9yIChjb25zdCBwYXRoUGFydCBvZiBwYXRoUGFydHMpIHtcbiAgICAgICAgY3VycmVudE9iaiA9IGN1cnJlbnRPYmogPT09IG51bGwgfHwgY3VycmVudE9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudE9ialtwYXRoUGFydF07XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50T2JqO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVuZGxpbmdVdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/task.js":
/*!*****************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/task.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Task = void 0;\nexports.deepCopyForResponse = deepCopyForResponse;\nconst status_1 = __webpack_require__(/*! ../status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\n/**\n * Creates a deep copy of the object with the consideration of subresponse\n * fields for bundling.\n *\n * @param {Object} obj - The source object.\n * @param {Object?} subresponseInfo - The information to copy the subset of\n *   the field for the response. Do nothing if it's null.\n * @param {String} subresponseInfo.field - The field name.\n * @param {number} subresponseInfo.start - The offset where the copying\n *   element should starts with.\n * @param {number} subresponseInfo.end - The ending index where the copying\n *   region of the elements ends.\n * @return {Object} The copied object.\n * @private\n */\nfunction deepCopyForResponse(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nobj, subresponseInfo) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let result;\n    if (obj === null) {\n        return null;\n    }\n    if (obj === undefined) {\n        return undefined;\n    }\n    if (Array.isArray(obj)) {\n        result = [];\n        obj.forEach(element => {\n            result.push(deepCopyForResponse(element, null));\n        });\n        return result;\n    }\n    // Some objects (such as ByteBuffer) have copy method.\n    if (obj.copy !== undefined) {\n        return obj.copy();\n    }\n    // ArrayBuffer should be copied through slice().\n    if (obj instanceof ArrayBuffer) {\n        return obj.slice(0);\n    }\n    if (typeof obj === 'object') {\n        result = {};\n        Object.keys(obj).forEach(key => {\n            if (subresponseInfo &&\n                key === subresponseInfo.field &&\n                Array.isArray(obj[key])) {\n                // Note that subresponses are not deep-copied. This is safe because\n                // those subresponses are not shared among callbacks.\n                result[key] = obj[key].slice(subresponseInfo.start, subresponseInfo.end);\n            }\n            else {\n                result[key] = deepCopyForResponse(obj[key], null);\n            }\n        });\n        return result;\n    }\n    return obj;\n}\nclass Task {\n    /**\n     * A task coordinates the execution of a single bundle.\n     *\n     * @param {function} apiCall - The function to conduct calling API.\n     * @param {Object} bundlingRequest - The base request object to be used\n     *   for the actual API call.\n     * @param {string} bundledField - The name of the field in bundlingRequest\n     *   to be bundled.\n     * @param {string=} subresponseField - The name of the field in the response\n     *   to be passed to the callback.\n     * @constructor\n     * @private\n     */\n    constructor(apiCall, bundlingRequest, bundledField, subresponseField) {\n        this._apiCall = apiCall;\n        this._request = bundlingRequest;\n        this._bundledField = bundledField;\n        this._subresponseField = subresponseField;\n        this._data = [];\n    }\n    /**\n     * Returns the number of elements in a task.\n     * @return {number} The number of elements.\n     */\n    getElementCount() {\n        let count = 0;\n        for (let i = 0; i < this._data.length; ++i) {\n            count += this._data[i].elements.length;\n        }\n        return count;\n    }\n    /**\n     * Returns the total byte size of the elements in a task.\n     * @return {number} The byte size.\n     */\n    getRequestByteSize() {\n        let size = 0;\n        for (let i = 0; i < this._data.length; ++i) {\n            size += this._data[i].bytes;\n        }\n        return size;\n    }\n    /**\n     * Invokes the actual API call with current elements.\n     * @return {string[]} - the list of ids for invocations to be run.\n     */\n    run() {\n        if (this._data.length === 0) {\n            return [];\n        }\n        const request = this._request;\n        const elements = [];\n        const ids = [];\n        for (let i = 0; i < this._data.length; ++i) {\n            elements.push(...this._data[i].elements);\n            ids.push(this._data[i].callback.id);\n        }\n        request[this._bundledField] = elements;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        this.callCanceller = this._apiCall(request, (err, response) => {\n            const responses = [];\n            if (err) {\n                self._data.forEach(() => {\n                    responses.push(undefined);\n                });\n            }\n            else {\n                let subresponseInfo = null;\n                if (self._subresponseField) {\n                    subresponseInfo = {\n                        field: self._subresponseField,\n                        start: 0,\n                    };\n                }\n                self._data.forEach(data => {\n                    if (subresponseInfo) {\n                        subresponseInfo.end =\n                            subresponseInfo.start + data.elements.length;\n                    }\n                    responses.push(deepCopyForResponse(response, subresponseInfo));\n                    if (subresponseInfo) {\n                        subresponseInfo.start = subresponseInfo.end;\n                    }\n                });\n            }\n            for (let i = 0; i < self._data.length; ++i) {\n                if (self._data[i].cancelled) {\n                    const error = new googleError_1.GoogleError('cancelled');\n                    error.code = status_1.Status.CANCELLED;\n                    self._data[i].callback(error);\n                }\n                else {\n                    self._data[i].callback(err, responses[i]);\n                }\n            }\n        });\n        return ids;\n    }\n    /**\n     * Appends the list of elements into the task.\n     * @param {Object[]} elements - the new list of elements.\n     * @param {number} bytes - the byte size required to encode elements in the API.\n     * @param {APICallback} callback - the callback of the method call.\n     */\n    extend(elements, bytes, callback) {\n        this._data.push({\n            elements,\n            bytes,\n            callback,\n        });\n    }\n    /**\n     * Cancels a part of elements.\n     * @param {string} id - The identifier of the part of elements.\n     * @return {boolean} Whether the entire task will be canceled or not.\n     */\n    cancel(id) {\n        if (this.callCanceller) {\n            let allCancelled = true;\n            this._data.forEach(d => {\n                if (d.callback.id === id) {\n                    d.cancelled = true;\n                }\n                if (!d.cancelled) {\n                    allCancelled = false;\n                }\n            });\n            if (allCancelled) {\n                this.callCanceller.cancel();\n            }\n            return allCancelled;\n        }\n        for (let i = 0; i < this._data.length; ++i) {\n            if (this._data[i].callback.id === id) {\n                const error = new googleError_1.GoogleError('cancelled');\n                error.code = status_1.Status.CANCELLED;\n                this._data[i].callback(error);\n                this._data.splice(i, 1);\n                break;\n            }\n        }\n        return this._data.length === 0;\n    }\n}\nexports.Task = Task;\n//# sourceMappingURL=task.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9idW5kbGluZ0NhbGxzL3Rhc2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLDJCQUEyQjtBQUMzQixpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQyxzQkFBc0IsbUJBQU8sQ0FBQywyRkFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw0QkFBNEIsdUJBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy90YXNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UYXNrID0gdm9pZCAwO1xuZXhwb3J0cy5kZWVwQ29weUZvclJlc3BvbnNlID0gZGVlcENvcHlGb3JSZXNwb25zZTtcbmNvbnN0IHN0YXR1c18xID0gcmVxdWlyZShcIi4uL3N0YXR1c1wiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vZ29vZ2xlRXJyb3JcIik7XG4vKipcbiAqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRoIHRoZSBjb25zaWRlcmF0aW9uIG9mIHN1YnJlc3BvbnNlXG4gKiBmaWVsZHMgZm9yIGJ1bmRsaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0P30gc3VicmVzcG9uc2VJbmZvIC0gVGhlIGluZm9ybWF0aW9uIHRvIGNvcHkgdGhlIHN1YnNldCBvZlxuICogICB0aGUgZmllbGQgZm9yIHRoZSByZXNwb25zZS4gRG8gbm90aGluZyBpZiBpdCdzIG51bGwuXG4gKiBAcGFyYW0ge1N0cmluZ30gc3VicmVzcG9uc2VJbmZvLmZpZWxkIC0gVGhlIGZpZWxkIG5hbWUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3VicmVzcG9uc2VJbmZvLnN0YXJ0IC0gVGhlIG9mZnNldCB3aGVyZSB0aGUgY29weWluZ1xuICogICBlbGVtZW50IHNob3VsZCBzdGFydHMgd2l0aC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdWJyZXNwb25zZUluZm8uZW5kIC0gVGhlIGVuZGluZyBpbmRleCB3aGVyZSB0aGUgY29weWluZ1xuICogICByZWdpb24gb2YgdGhlIGVsZW1lbnRzIGVuZHMuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb3BpZWQgb2JqZWN0LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlGb3JSZXNwb25zZShcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5vYmosIHN1YnJlc3BvbnNlSW5mbykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgb2JqLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChkZWVwQ29weUZvclJlc3BvbnNlKGVsZW1lbnQsIG51bGwpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIFNvbWUgb2JqZWN0cyAoc3VjaCBhcyBCeXRlQnVmZmVyKSBoYXZlIGNvcHkgbWV0aG9kLlxuICAgIGlmIChvYmouY29weSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvYmouY29weSgpO1xuICAgIH1cbiAgICAvLyBBcnJheUJ1ZmZlciBzaG91bGQgYmUgY29waWVkIHRocm91Z2ggc2xpY2UoKS5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG9iai5zbGljZSgwKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJyZXNwb25zZUluZm8gJiZcbiAgICAgICAgICAgICAgICBrZXkgPT09IHN1YnJlc3BvbnNlSW5mby5maWVsZCAmJlxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHN1YnJlc3BvbnNlcyBhcmUgbm90IGRlZXAtY29waWVkLiBUaGlzIGlzIHNhZmUgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRob3NlIHN1YnJlc3BvbnNlcyBhcmUgbm90IHNoYXJlZCBhbW9uZyBjYWxsYmFja3MuXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XS5zbGljZShzdWJyZXNwb25zZUluZm8uc3RhcnQsIHN1YnJlc3BvbnNlSW5mby5lbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBkZWVwQ29weUZvclJlc3BvbnNlKG9ialtrZXldLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5jbGFzcyBUYXNrIHtcbiAgICAvKipcbiAgICAgKiBBIHRhc2sgY29vcmRpbmF0ZXMgdGhlIGV4ZWN1dGlvbiBvZiBhIHNpbmdsZSBidW5kbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBhcGlDYWxsIC0gVGhlIGZ1bmN0aW9uIHRvIGNvbmR1Y3QgY2FsbGluZyBBUEkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGJ1bmRsaW5nUmVxdWVzdCAtIFRoZSBiYXNlIHJlcXVlc3Qgb2JqZWN0IHRvIGJlIHVzZWRcbiAgICAgKiAgIGZvciB0aGUgYWN0dWFsIEFQSSBjYWxsLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidW5kbGVkRmllbGQgLSBUaGUgbmFtZSBvZiB0aGUgZmllbGQgaW4gYnVuZGxpbmdSZXF1ZXN0XG4gICAgICogICB0byBiZSBidW5kbGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gc3VicmVzcG9uc2VGaWVsZCAtIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBpbiB0aGUgcmVzcG9uc2VcbiAgICAgKiAgIHRvIGJlIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcGlDYWxsLCBidW5kbGluZ1JlcXVlc3QsIGJ1bmRsZWRGaWVsZCwgc3VicmVzcG9uc2VGaWVsZCkge1xuICAgICAgICB0aGlzLl9hcGlDYWxsID0gYXBpQ2FsbDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IGJ1bmRsaW5nUmVxdWVzdDtcbiAgICAgICAgdGhpcy5fYnVuZGxlZEZpZWxkID0gYnVuZGxlZEZpZWxkO1xuICAgICAgICB0aGlzLl9zdWJyZXNwb25zZUZpZWxkID0gc3VicmVzcG9uc2VGaWVsZDtcbiAgICAgICAgdGhpcy5fZGF0YSA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYSB0YXNrLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBnZXRFbGVtZW50Q291bnQoKSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY291bnQgKz0gdGhpcy5fZGF0YVtpXS5lbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBieXRlIHNpemUgb2YgdGhlIGVsZW1lbnRzIGluIGEgdGFzay5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBieXRlIHNpemUuXG4gICAgICovXG4gICAgZ2V0UmVxdWVzdEJ5dGVTaXplKCkge1xuICAgICAgICBsZXQgc2l6ZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgc2l6ZSArPSB0aGlzLl9kYXRhW2ldLmJ5dGVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBhY3R1YWwgQVBJIGNhbGwgd2l0aCBjdXJyZW50IGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSAtIHRoZSBsaXN0IG9mIGlkcyBmb3IgaW52b2NhdGlvbnMgdG8gYmUgcnVuLlxuICAgICAqL1xuICAgIHJ1bigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuX3JlcXVlc3Q7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgIGNvbnN0IGlkcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goLi4udGhpcy5fZGF0YVtpXS5lbGVtZW50cyk7XG4gICAgICAgICAgICBpZHMucHVzaCh0aGlzLl9kYXRhW2ldLmNhbGxiYWNrLmlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0W3RoaXMuX2J1bmRsZWRGaWVsZF0gPSBlbGVtZW50cztcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhbGxDYW5jZWxsZXIgPSB0aGlzLl9hcGlDYWxsKHJlcXVlc3QsIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9kYXRhLmZvckVhY2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHN1YnJlc3BvbnNlSW5mbyA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3N1YnJlc3BvbnNlRmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VicmVzcG9uc2VJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHNlbGYuX3N1YnJlc3BvbnNlRmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5fZGF0YS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VicmVzcG9uc2VJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJyZXNwb25zZUluZm8uZW5kID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJyZXNwb25zZUluZm8uc3RhcnQgKyBkYXRhLmVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZXMucHVzaChkZWVwQ29weUZvclJlc3BvbnNlKHJlc3BvbnNlLCBzdWJyZXNwb25zZUluZm8pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnJlc3BvbnNlSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VicmVzcG9uc2VJbmZvLnN0YXJ0ID0gc3VicmVzcG9uc2VJbmZvLmVuZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLl9kYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2RhdGFbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGF0YVtpXS5jYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXRhW2ldLmNhbGxiYWNrKGVyciwgcmVzcG9uc2VzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaWRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBsaXN0IG9mIGVsZW1lbnRzIGludG8gdGhlIHRhc2suXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gZWxlbWVudHMgLSB0aGUgbmV3IGxpc3Qgb2YgZWxlbWVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ5dGVzIC0gdGhlIGJ5dGUgc2l6ZSByZXF1aXJlZCB0byBlbmNvZGUgZWxlbWVudHMgaW4gdGhlIEFQSS5cbiAgICAgKiBAcGFyYW0ge0FQSUNhbGxiYWNrfSBjYWxsYmFjayAtIHRoZSBjYWxsYmFjayBvZiB0aGUgbWV0aG9kIGNhbGwuXG4gICAgICovXG4gICAgZXh0ZW5kKGVsZW1lbnRzLCBieXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZGF0YS5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnRzLFxuICAgICAgICAgICAgYnl0ZXMsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYSBwYXJ0IG9mIGVsZW1lbnRzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBwYXJ0IG9mIGVsZW1lbnRzLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGVudGlyZSB0YXNrIHdpbGwgYmUgY2FuY2VsZWQgb3Igbm90LlxuICAgICAqL1xuICAgIGNhbmNlbChpZCkge1xuICAgICAgICBpZiAodGhpcy5jYWxsQ2FuY2VsbGVyKSB7XG4gICAgICAgICAgICBsZXQgYWxsQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZC5jYWxsYmFjay5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZC5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWQuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbENhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFsbENhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbENhbmNlbGxlci5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbGxDYW5jZWxsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9kYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YVtpXS5jYWxsYmFjay5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW2ldLmNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxufVxuZXhwb3J0cy5UYXNrID0gVGFzaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhc2suanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/task.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/call.js":
/*!***************************************************!*\
  !*** ./node_modules/google-gax/build/src/call.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OngoingCallPromise = exports.OngoingCall = void 0;\nconst status_1 = __webpack_require__(/*! ./status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ./googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nclass OngoingCall {\n    /**\n     * OngoingCall manages callback, API calls, and cancellation\n     * of the API calls.\n     * @param {APICallback=} callback\n     *   The callback to be called asynchronously when the API call\n     *   finishes.\n     * @constructor\n     * @property {APICallback} callback\n     *   The callback function to be called.\n     * @private\n     */\n    constructor(callback) {\n        this.callback = callback;\n        this.completed = false;\n    }\n    /**\n     * Cancels the ongoing promise.\n     */\n    cancel() {\n        if (this.completed) {\n            return;\n        }\n        this.completed = true;\n        if (this.cancelFunc) {\n            this.cancelFunc();\n        }\n        else {\n            const error = new googleError_1.GoogleError('cancelled');\n            error.code = status_1.Status.CANCELLED;\n            this.callback(error);\n        }\n    }\n    /**\n     * Call calls the specified function. Result will be used to fulfill\n     * the promise.\n     *\n     * @param {SimpleCallbackFunction} func\n     *   A function for an API call.\n     * @param {Object} argument\n     *   A request object.\n     */\n    call(func, argument) {\n        if (this.completed) {\n            return;\n        }\n        const canceller = func(argument, (err, response, next, rawResponse) => {\n            this.completed = true;\n            setImmediate(this.callback, err, response, next, rawResponse);\n        });\n        if (canceller instanceof Promise) {\n            canceller.catch(err => {\n                setImmediate(this.callback, new googleError_1.GoogleError(err), null, null, null);\n            });\n        }\n        this.cancelFunc = () => canceller.cancel();\n    }\n}\nexports.OngoingCall = OngoingCall;\nclass OngoingCallPromise extends OngoingCall {\n    /**\n     * GaxPromise is GRPCCallbackWrapper, but it holds a promise when\n     * the API call finishes.\n     * @constructor\n     * @private\n     */\n    constructor() {\n        let resolveCallback;\n        let rejectCallback;\n        const callback = (err, response, next, rawResponse) => {\n            if (err) {\n                // If gRPC metadata exist, parsed google.rpc.status details.\n                if (err.metadata) {\n                    rejectCallback(googleError_1.GoogleError.parseGRPCStatusDetails(err));\n                }\n                else {\n                    rejectCallback(err);\n                }\n            }\n            else if (response !== undefined) {\n                resolveCallback([response, next || null, rawResponse || null]);\n            }\n            else {\n                throw new googleError_1.GoogleError('Neither error nor response are defined');\n            }\n        };\n        const promise = new Promise((resolve, reject) => {\n            resolveCallback = resolve;\n            rejectCallback = reject;\n        });\n        super(callback);\n        this.promise = promise;\n        this.promise.cancel = () => {\n            this.cancel();\n        };\n    }\n}\nexports.OngoingCallPromise = OngoingCallPromise;\n//# sourceMappingURL=call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9jYWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLG1CQUFtQjtBQUNoRCxpQkFBaUIsbUJBQU8sQ0FBQyxnRkFBVTtBQUNuQyxzQkFBc0IsbUJBQU8sQ0FBQywwRkFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsY0FBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0JBQXdCO0FBQ3ZDO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvY2FsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT25nb2luZ0NhbGxQcm9taXNlID0gZXhwb3J0cy5PbmdvaW5nQ2FsbCA9IHZvaWQgMDtcbmNvbnN0IHN0YXR1c18xID0gcmVxdWlyZShcIi4vc3RhdHVzXCIpO1xuY29uc3QgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuL2dvb2dsZUVycm9yXCIpO1xuY2xhc3MgT25nb2luZ0NhbGwge1xuICAgIC8qKlxuICAgICAqIE9uZ29pbmdDYWxsIG1hbmFnZXMgY2FsbGJhY2ssIEFQSSBjYWxscywgYW5kIGNhbmNlbGxhdGlvblxuICAgICAqIG9mIHRoZSBBUEkgY2FsbHMuXG4gICAgICogQHBhcmFtIHtBUElDYWxsYmFjaz19IGNhbGxiYWNrXG4gICAgICogICBUaGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IHdoZW4gdGhlIEFQSSBjYWxsXG4gICAgICogICBmaW5pc2hlcy5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcHJvcGVydHkge0FQSUNhbGxiYWNrfSBjYWxsYmFja1xuICAgICAqICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyB0aGUgb25nb2luZyBwcm9taXNlLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcGxldGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxGdW5jKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEZ1bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IHN0YXR1c18xLlN0YXR1cy5DQU5DRUxMRUQ7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIGNhbGxzIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24uIFJlc3VsdCB3aWxsIGJlIHVzZWQgdG8gZnVsZmlsbFxuICAgICAqIHRoZSBwcm9taXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTaW1wbGVDYWxsYmFja0Z1bmN0aW9ufSBmdW5jXG4gICAgICogICBBIGZ1bmN0aW9uIGZvciBhbiBBUEkgY2FsbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJndW1lbnRcbiAgICAgKiAgIEEgcmVxdWVzdCBvYmplY3QuXG4gICAgICovXG4gICAgY2FsbChmdW5jLCBhcmd1bWVudCkge1xuICAgICAgICBpZiAodGhpcy5jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5jZWxsZXIgPSBmdW5jKGFyZ3VtZW50LCAoZXJyLCByZXNwb25zZSwgbmV4dCwgcmF3UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZSh0aGlzLmNhbGxiYWNrLCBlcnIsIHJlc3BvbnNlLCBuZXh0LCByYXdSZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2FuY2VsbGVyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgY2FuY2VsbGVyLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKHRoaXMuY2FsbGJhY2ssIG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKGVyciksIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW5jZWxGdW5jID0gKCkgPT4gY2FuY2VsbGVyLmNhbmNlbCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuT25nb2luZ0NhbGwgPSBPbmdvaW5nQ2FsbDtcbmNsYXNzIE9uZ29pbmdDYWxsUHJvbWlzZSBleHRlbmRzIE9uZ29pbmdDYWxsIHtcbiAgICAvKipcbiAgICAgKiBHYXhQcm9taXNlIGlzIEdSUENDYWxsYmFja1dyYXBwZXIsIGJ1dCBpdCBob2xkcyBhIHByb21pc2Ugd2hlblxuICAgICAqIHRoZSBBUEkgY2FsbCBmaW5pc2hlcy5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBsZXQgcmVzb2x2ZUNhbGxiYWNrO1xuICAgICAgICBsZXQgcmVqZWN0Q2FsbGJhY2s7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKGVyciwgcmVzcG9uc2UsIG5leHQsIHJhd1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgZ1JQQyBtZXRhZGF0YSBleGlzdCwgcGFyc2VkIGdvb2dsZS5ycGMuc3RhdHVzIGRldGFpbHMuXG4gICAgICAgICAgICAgICAgaWYgKGVyci5tZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3RDYWxsYmFjayhnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yLnBhcnNlR1JQQ1N0YXR1c0RldGFpbHMoZXJyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3RDYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlQ2FsbGJhY2soW3Jlc3BvbnNlLCBuZXh0IHx8IG51bGwsIHJhd1Jlc3BvbnNlIHx8IG51bGxdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdOZWl0aGVyIGVycm9yIG5vciByZXNwb25zZSBhcmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZUNhbGxiYWNrID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHJlamVjdENhbGxiYWNrID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXIoY2FsbGJhY2spO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgICAgICB0aGlzLnByb21pc2UuY2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLk9uZ29pbmdDYWxsUHJvbWlzZSA9IE9uZ29pbmdDYWxsUHJvbWlzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/call.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/createApiCall.js":
/*!************************************************************!*\
  !*** ./node_modules/google-gax/build/src/createApiCall.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createApiCall = createApiCall;\n/**\n * Provides function wrappers that implement page streaming and retrying.\n */\nconst apiCaller_1 = __webpack_require__(/*! ./apiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/apiCaller.js\");\nconst gax_1 = __webpack_require__(/*! ./gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nconst retries_1 = __webpack_require__(/*! ./normalCalls/retries */ \"(action-browser)/./node_modules/google-gax/build/src/normalCalls/retries.js\");\nconst timeout_1 = __webpack_require__(/*! ./normalCalls/timeout */ \"(action-browser)/./node_modules/google-gax/build/src/normalCalls/timeout.js\");\nconst streamingApiCaller_1 = __webpack_require__(/*! ./streamingCalls/streamingApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js\");\nconst warnings_1 = __webpack_require__(/*! ./warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\n/**\n * Converts an rpc call into an API call governed by the settings.\n *\n * In typical usage, `func` will be a promise to a callable used to make an rpc\n * request. This will mostly likely be a bound method from a request stub used\n * to make an rpc call. It is not a direct function but a Promise instance,\n * because of its asynchronism (typically, obtaining the auth information).\n *\n * The result is a function which manages the API call with the given settings\n * and the options on the invocation.\n *\n * @param {Promise<GRPCCall>|GRPCCall} func - is either a promise to be used to make\n *   a bare RPC call, or just a bare RPC call.\n * @param {CallSettings} settings - provides the settings for this call\n * @param {Descriptor} descriptor - optionally specify the descriptor for\n *   the method call.\n * @return {GaxCall} func - a bound method on a request stub used\n *   to make an rpc call.\n */\nfunction createApiCall(func, settings, descriptor, \n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n_fallback // unused here, used in fallback.ts implementation\n) {\n    // we want to be able to accept both promise resolving to a function and a\n    // function. Currently client librares are only calling this method with a\n    // promise, but it will change.\n    const funcPromise = typeof func === 'function' ? Promise.resolve(func) : func;\n    // the following apiCaller will be used for all calls of this function...\n    const apiCaller = (0, apiCaller_1.createAPICaller)(settings, descriptor);\n    return (request, callOptions, callback) => {\n        var _a, _b;\n        let currentApiCaller = apiCaller;\n        let thisSettings;\n        if (currentApiCaller instanceof streamingApiCaller_1.StreamingApiCaller) {\n            const gaxStreamingRetries = (_b = (_a = currentApiCaller.descriptor) === null || _a === void 0 ? void 0 : _a.gaxStreamingRetries) !== null && _b !== void 0 ? _b : false;\n            // If Gax streaming retries are enabled, check settings passed at call time and convert parameters if needed\n            const convertedRetryOptions = (0, gax_1.convertRetryOptions)(callOptions, gaxStreamingRetries);\n            thisSettings = settings.merge(convertedRetryOptions);\n        }\n        else {\n            thisSettings = settings.merge(callOptions);\n        }\n        // special case: if bundling is disabled for this one call,\n        // use default API caller instead\n        if (settings.isBundling && !thisSettings.isBundling) {\n            currentApiCaller = (0, apiCaller_1.createAPICaller)(settings, undefined);\n        }\n        const ongoingCall = currentApiCaller.init(callback);\n        funcPromise\n            .then((func) => {\n            var _a, _b;\n            var _c;\n            // Initially, the function is just what gRPC server stub contains.\n            func = currentApiCaller.wrap(func);\n            const streaming = (_a = currentApiCaller.descriptor) === null || _a === void 0 ? void 0 : _a.streaming;\n            const retry = thisSettings.retry;\n            if (streaming && retry) {\n                if (retry.retryCodes.length > 0 && retry.shouldRetryFn) {\n                    (0, warnings_1.warn)('either_retrycodes_or_shouldretryfn', 'Only one of retryCodes or shouldRetryFn may be defined. Ignoring retryCodes.');\n                    retry.retryCodes = [];\n                }\n                if (!currentApiCaller.descriptor\n                    .gaxStreamingRetries &&\n                    retry.getResumptionRequestFn) {\n                    throw new Error('getResumptionRequestFn can only be used when gaxStreamingRetries is set to true.');\n                }\n            }\n            if (!streaming && retry) {\n                if (retry.shouldRetryFn) {\n                    throw new Error('Using a function to determine retry eligibility is only supported with server streaming calls');\n                }\n                if (retry.getResumptionRequestFn) {\n                    throw new Error('Resumption strategy can only be used with server streaming retries');\n                }\n                if (retry.retryCodes && retry.retryCodes.length > 0) {\n                    (_b = (_c = retry.backoffSettings).initialRpcTimeoutMillis) !== null && _b !== void 0 ? _b : (_c.initialRpcTimeoutMillis = thisSettings.timeout);\n                    return (0, retries_1.retryable)(func, thisSettings.retry, thisSettings.otherArgs, thisSettings.apiName);\n                }\n            }\n            return (0, timeout_1.addTimeoutArg)(func, thisSettings.timeout, thisSettings.otherArgs);\n        })\n            .then((apiCall) => {\n            // After adding retries / timeouts, the call function becomes simpler:\n            // it only accepts request and callback.\n            currentApiCaller.call(apiCall, request, thisSettings, ongoingCall);\n        })\n            .catch(err => {\n            currentApiCaller.fail(ongoingCall, err);\n        });\n        // Calls normally return a \"cancellable promise\" that can be used to `await` for the actual result,\n        // or to cancel the ongoing call.\n        return currentApiCaller.result(ongoingCall);\n    };\n}\n//# sourceMappingURL=createApiCall.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9jcmVhdGVBcGlDYWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQU8sQ0FBQyxzRkFBYTtBQUN6QyxjQUFjLG1CQUFPLENBQUMsMEVBQU87QUFDN0Isa0JBQWtCLG1CQUFPLENBQUMsMEdBQXVCO0FBQ2pELGtCQUFrQixtQkFBTyxDQUFDLDBHQUF1QjtBQUNqRCw2QkFBNkIsbUJBQU8sQ0FBQyxzSUFBcUM7QUFDMUUsbUJBQW1CLG1CQUFPLENBQUMsb0ZBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9jcmVhdGVBcGlDYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVBcGlDYWxsID0gY3JlYXRlQXBpQ2FsbDtcbi8qKlxuICogUHJvdmlkZXMgZnVuY3Rpb24gd3JhcHBlcnMgdGhhdCBpbXBsZW1lbnQgcGFnZSBzdHJlYW1pbmcgYW5kIHJldHJ5aW5nLlxuICovXG5jb25zdCBhcGlDYWxsZXJfMSA9IHJlcXVpcmUoXCIuL2FwaUNhbGxlclwiKTtcbmNvbnN0IGdheF8xID0gcmVxdWlyZShcIi4vZ2F4XCIpO1xuY29uc3QgcmV0cmllc18xID0gcmVxdWlyZShcIi4vbm9ybWFsQ2FsbHMvcmV0cmllc1wiKTtcbmNvbnN0IHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL25vcm1hbENhbGxzL3RpbWVvdXRcIik7XG5jb25zdCBzdHJlYW1pbmdBcGlDYWxsZXJfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbWluZ0NhbGxzL3N0cmVhbWluZ0FwaUNhbGxlclwiKTtcbmNvbnN0IHdhcm5pbmdzXzEgPSByZXF1aXJlKFwiLi93YXJuaW5nc1wiKTtcbi8qKlxuICogQ29udmVydHMgYW4gcnBjIGNhbGwgaW50byBhbiBBUEkgY2FsbCBnb3Zlcm5lZCBieSB0aGUgc2V0dGluZ3MuXG4gKlxuICogSW4gdHlwaWNhbCB1c2FnZSwgYGZ1bmNgIHdpbGwgYmUgYSBwcm9taXNlIHRvIGEgY2FsbGFibGUgdXNlZCB0byBtYWtlIGFuIHJwY1xuICogcmVxdWVzdC4gVGhpcyB3aWxsIG1vc3RseSBsaWtlbHkgYmUgYSBib3VuZCBtZXRob2QgZnJvbSBhIHJlcXVlc3Qgc3R1YiB1c2VkXG4gKiB0byBtYWtlIGFuIHJwYyBjYWxsLiBJdCBpcyBub3QgYSBkaXJlY3QgZnVuY3Rpb24gYnV0IGEgUHJvbWlzZSBpbnN0YW5jZSxcbiAqIGJlY2F1c2Ugb2YgaXRzIGFzeW5jaHJvbmlzbSAodHlwaWNhbGx5LCBvYnRhaW5pbmcgdGhlIGF1dGggaW5mb3JtYXRpb24pLlxuICpcbiAqIFRoZSByZXN1bHQgaXMgYSBmdW5jdGlvbiB3aGljaCBtYW5hZ2VzIHRoZSBBUEkgY2FsbCB3aXRoIHRoZSBnaXZlbiBzZXR0aW5nc1xuICogYW5kIHRoZSBvcHRpb25zIG9uIHRoZSBpbnZvY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvbWlzZTxHUlBDQ2FsbD58R1JQQ0NhbGx9IGZ1bmMgLSBpcyBlaXRoZXIgYSBwcm9taXNlIHRvIGJlIHVzZWQgdG8gbWFrZVxuICogICBhIGJhcmUgUlBDIGNhbGwsIG9yIGp1c3QgYSBiYXJlIFJQQyBjYWxsLlxuICogQHBhcmFtIHtDYWxsU2V0dGluZ3N9IHNldHRpbmdzIC0gcHJvdmlkZXMgdGhlIHNldHRpbmdzIGZvciB0aGlzIGNhbGxcbiAqIEBwYXJhbSB7RGVzY3JpcHRvcn0gZGVzY3JpcHRvciAtIG9wdGlvbmFsbHkgc3BlY2lmeSB0aGUgZGVzY3JpcHRvciBmb3JcbiAqICAgdGhlIG1ldGhvZCBjYWxsLlxuICogQHJldHVybiB7R2F4Q2FsbH0gZnVuYyAtIGEgYm91bmQgbWV0aG9kIG9uIGEgcmVxdWVzdCBzdHViIHVzZWRcbiAqICAgdG8gbWFrZSBhbiBycGMgY2FsbC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXBpQ2FsbChmdW5jLCBzZXR0aW5ncywgZGVzY3JpcHRvciwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5fZmFsbGJhY2sgLy8gdW51c2VkIGhlcmUsIHVzZWQgaW4gZmFsbGJhY2sudHMgaW1wbGVtZW50YXRpb25cbikge1xuICAgIC8vIHdlIHdhbnQgdG8gYmUgYWJsZSB0byBhY2NlcHQgYm90aCBwcm9taXNlIHJlc29sdmluZyB0byBhIGZ1bmN0aW9uIGFuZCBhXG4gICAgLy8gZnVuY3Rpb24uIEN1cnJlbnRseSBjbGllbnQgbGlicmFyZXMgYXJlIG9ubHkgY2FsbGluZyB0aGlzIG1ldGhvZCB3aXRoIGFcbiAgICAvLyBwcm9taXNlLCBidXQgaXQgd2lsbCBjaGFuZ2UuXG4gICAgY29uc3QgZnVuY1Byb21pc2UgPSB0eXBlb2YgZnVuYyA9PT0gJ2Z1bmN0aW9uJyA/IFByb21pc2UucmVzb2x2ZShmdW5jKSA6IGZ1bmM7XG4gICAgLy8gdGhlIGZvbGxvd2luZyBhcGlDYWxsZXIgd2lsbCBiZSB1c2VkIGZvciBhbGwgY2FsbHMgb2YgdGhpcyBmdW5jdGlvbi4uLlxuICAgIGNvbnN0IGFwaUNhbGxlciA9ICgwLCBhcGlDYWxsZXJfMS5jcmVhdGVBUElDYWxsZXIpKHNldHRpbmdzLCBkZXNjcmlwdG9yKTtcbiAgICByZXR1cm4gKHJlcXVlc3QsIGNhbGxPcHRpb25zLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgY3VycmVudEFwaUNhbGxlciA9IGFwaUNhbGxlcjtcbiAgICAgICAgbGV0IHRoaXNTZXR0aW5ncztcbiAgICAgICAgaWYgKGN1cnJlbnRBcGlDYWxsZXIgaW5zdGFuY2VvZiBzdHJlYW1pbmdBcGlDYWxsZXJfMS5TdHJlYW1pbmdBcGlDYWxsZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGdheFN0cmVhbWluZ1JldHJpZXMgPSAoX2IgPSAoX2EgPSBjdXJyZW50QXBpQ2FsbGVyLmRlc2NyaXB0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nYXhTdHJlYW1pbmdSZXRyaWVzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZTtcbiAgICAgICAgICAgIC8vIElmIEdheCBzdHJlYW1pbmcgcmV0cmllcyBhcmUgZW5hYmxlZCwgY2hlY2sgc2V0dGluZ3MgcGFzc2VkIGF0IGNhbGwgdGltZSBhbmQgY29udmVydCBwYXJhbWV0ZXJzIGlmIG5lZWRlZFxuICAgICAgICAgICAgY29uc3QgY29udmVydGVkUmV0cnlPcHRpb25zID0gKDAsIGdheF8xLmNvbnZlcnRSZXRyeU9wdGlvbnMpKGNhbGxPcHRpb25zLCBnYXhTdHJlYW1pbmdSZXRyaWVzKTtcbiAgICAgICAgICAgIHRoaXNTZXR0aW5ncyA9IHNldHRpbmdzLm1lcmdlKGNvbnZlcnRlZFJldHJ5T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzU2V0dGluZ3MgPSBzZXR0aW5ncy5tZXJnZShjYWxsT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlOiBpZiBidW5kbGluZyBpcyBkaXNhYmxlZCBmb3IgdGhpcyBvbmUgY2FsbCxcbiAgICAgICAgLy8gdXNlIGRlZmF1bHQgQVBJIGNhbGxlciBpbnN0ZWFkXG4gICAgICAgIGlmIChzZXR0aW5ncy5pc0J1bmRsaW5nICYmICF0aGlzU2V0dGluZ3MuaXNCdW5kbGluZykge1xuICAgICAgICAgICAgY3VycmVudEFwaUNhbGxlciA9ICgwLCBhcGlDYWxsZXJfMS5jcmVhdGVBUElDYWxsZXIpKHNldHRpbmdzLCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9uZ29pbmdDYWxsID0gY3VycmVudEFwaUNhbGxlci5pbml0KGNhbGxiYWNrKTtcbiAgICAgICAgZnVuY1Byb21pc2VcbiAgICAgICAgICAgIC50aGVuKChmdW5jKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdmFyIF9jO1xuICAgICAgICAgICAgLy8gSW5pdGlhbGx5LCB0aGUgZnVuY3Rpb24gaXMganVzdCB3aGF0IGdSUEMgc2VydmVyIHN0dWIgY29udGFpbnMuXG4gICAgICAgICAgICBmdW5jID0gY3VycmVudEFwaUNhbGxlci53cmFwKGZ1bmMpO1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtaW5nID0gKF9hID0gY3VycmVudEFwaUNhbGxlci5kZXNjcmlwdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RyZWFtaW5nO1xuICAgICAgICAgICAgY29uc3QgcmV0cnkgPSB0aGlzU2V0dGluZ3MucmV0cnk7XG4gICAgICAgICAgICBpZiAoc3RyZWFtaW5nICYmIHJldHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJldHJ5LnJldHJ5Q29kZXMubGVuZ3RoID4gMCAmJiByZXRyeS5zaG91bGRSZXRyeUZuKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCB3YXJuaW5nc18xLndhcm4pKCdlaXRoZXJfcmV0cnljb2Rlc19vcl9zaG91bGRyZXRyeWZuJywgJ09ubHkgb25lIG9mIHJldHJ5Q29kZXMgb3Igc2hvdWxkUmV0cnlGbiBtYXkgYmUgZGVmaW5lZC4gSWdub3JpbmcgcmV0cnlDb2Rlcy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0cnkucmV0cnlDb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRBcGlDYWxsZXIuZGVzY3JpcHRvclxuICAgICAgICAgICAgICAgICAgICAuZ2F4U3RyZWFtaW5nUmV0cmllcyAmJlxuICAgICAgICAgICAgICAgICAgICByZXRyeS5nZXRSZXN1bXB0aW9uUmVxdWVzdEZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0UmVzdW1wdGlvblJlcXVlc3RGbiBjYW4gb25seSBiZSB1c2VkIHdoZW4gZ2F4U3RyZWFtaW5nUmV0cmllcyBpcyBzZXQgdG8gdHJ1ZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0cmVhbWluZyAmJiByZXRyeSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXRyeS5zaG91bGRSZXRyeUZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNpbmcgYSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgcmV0cnkgZWxpZ2liaWxpdHkgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBzZXJ2ZXIgc3RyZWFtaW5nIGNhbGxzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXRyeS5nZXRSZXN1bXB0aW9uUmVxdWVzdEZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzdW1wdGlvbiBzdHJhdGVneSBjYW4gb25seSBiZSB1c2VkIHdpdGggc2VydmVyIHN0cmVhbWluZyByZXRyaWVzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXRyeS5yZXRyeUNvZGVzICYmIHJldHJ5LnJldHJ5Q29kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSAoX2MgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MpLmluaXRpYWxScGNUaW1lb3V0TWlsbGlzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoX2MuaW5pdGlhbFJwY1RpbWVvdXRNaWxsaXMgPSB0aGlzU2V0dGluZ3MudGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcmV0cmllc18xLnJldHJ5YWJsZSkoZnVuYywgdGhpc1NldHRpbmdzLnJldHJ5LCB0aGlzU2V0dGluZ3Mub3RoZXJBcmdzLCB0aGlzU2V0dGluZ3MuYXBpTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICgwLCB0aW1lb3V0XzEuYWRkVGltZW91dEFyZykoZnVuYywgdGhpc1NldHRpbmdzLnRpbWVvdXQsIHRoaXNTZXR0aW5ncy5vdGhlckFyZ3MpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGFwaUNhbGwpID0+IHtcbiAgICAgICAgICAgIC8vIEFmdGVyIGFkZGluZyByZXRyaWVzIC8gdGltZW91dHMsIHRoZSBjYWxsIGZ1bmN0aW9uIGJlY29tZXMgc2ltcGxlcjpcbiAgICAgICAgICAgIC8vIGl0IG9ubHkgYWNjZXB0cyByZXF1ZXN0IGFuZCBjYWxsYmFjay5cbiAgICAgICAgICAgIGN1cnJlbnRBcGlDYWxsZXIuY2FsbChhcGlDYWxsLCByZXF1ZXN0LCB0aGlzU2V0dGluZ3MsIG9uZ29pbmdDYWxsKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY3VycmVudEFwaUNhbGxlci5mYWlsKG9uZ29pbmdDYWxsLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ2FsbHMgbm9ybWFsbHkgcmV0dXJuIGEgXCJjYW5jZWxsYWJsZSBwcm9taXNlXCIgdGhhdCBjYW4gYmUgdXNlZCB0byBgYXdhaXRgIGZvciB0aGUgYWN0dWFsIHJlc3VsdCxcbiAgICAgICAgLy8gb3IgdG8gY2FuY2VsIHRoZSBvbmdvaW5nIGNhbGwuXG4gICAgICAgIHJldHVybiBjdXJyZW50QXBpQ2FsbGVyLnJlc3VsdChvbmdvaW5nQ2FsbCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUFwaUNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/createApiCall.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/descriptor.js":
/*!*********************************************************!*\
  !*** ./node_modules/google-gax/build/src/descriptor.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleDescriptor = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = void 0;\nvar longRunningDescriptor_1 = __webpack_require__(/*! ./longRunningCalls/longRunningDescriptor */ \"(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js\");\nObject.defineProperty(exports, \"LongrunningDescriptor\", ({ enumerable: true, get: function () { return longRunningDescriptor_1.LongRunningDescriptor; } }));\nvar pageDescriptor_1 = __webpack_require__(/*! ./paginationCalls/pageDescriptor */ \"(action-browser)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js\");\nObject.defineProperty(exports, \"PageDescriptor\", ({ enumerable: true, get: function () { return pageDescriptor_1.PageDescriptor; } }));\nvar streamDescriptor_1 = __webpack_require__(/*! ./streamingCalls/streamDescriptor */ \"(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js\");\nObject.defineProperty(exports, \"StreamDescriptor\", ({ enumerable: true, get: function () { return streamDescriptor_1.StreamDescriptor; } }));\nvar bundleDescriptor_1 = __webpack_require__(/*! ./bundlingCalls/bundleDescriptor */ \"(action-browser)/./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js\");\nObject.defineProperty(exports, \"BundleDescriptor\", ({ enumerable: true, get: function () { return bundleDescriptor_1.BundleDescriptor; } }));\n//# sourceMappingURL=descriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9kZXNjcmlwdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QixHQUFHLHdCQUF3QixHQUFHLHNCQUFzQixHQUFHLDZCQUE2QjtBQUM1Ryw4QkFBOEIsbUJBQU8sQ0FBQyxnSkFBMEM7QUFDaEYseURBQXdELEVBQUUscUNBQXFDLHlEQUF5RCxFQUFDO0FBQ3pKLHVCQUF1QixtQkFBTyxDQUFDLGdJQUFrQztBQUNqRSxrREFBaUQsRUFBRSxxQ0FBcUMsMkNBQTJDLEVBQUM7QUFDcEkseUJBQXlCLG1CQUFPLENBQUMsa0lBQW1DO0FBQ3BFLG9EQUFtRCxFQUFFLHFDQUFxQywrQ0FBK0MsRUFBQztBQUMxSSx5QkFBeUIsbUJBQU8sQ0FBQyxnSUFBa0M7QUFDbkUsb0RBQW1ELEVBQUUscUNBQXFDLCtDQUErQyxFQUFDO0FBQzFJIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZGVzY3JpcHRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnVuZGxlRGVzY3JpcHRvciA9IGV4cG9ydHMuU3RyZWFtRGVzY3JpcHRvciA9IGV4cG9ydHMuUGFnZURlc2NyaXB0b3IgPSBleHBvcnRzLkxvbmdydW5uaW5nRGVzY3JpcHRvciA9IHZvaWQgMDtcbnZhciBsb25nUnVubmluZ0Rlc2NyaXB0b3JfMSA9IHJlcXVpcmUoXCIuL2xvbmdSdW5uaW5nQ2FsbHMvbG9uZ1J1bm5pbmdEZXNjcmlwdG9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTG9uZ3J1bm5pbmdEZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb25nUnVubmluZ0Rlc2NyaXB0b3JfMS5Mb25nUnVubmluZ0Rlc2NyaXB0b3I7IH0gfSk7XG52YXIgcGFnZURlc2NyaXB0b3JfMSA9IHJlcXVpcmUoXCIuL3BhZ2luYXRpb25DYWxscy9wYWdlRGVzY3JpcHRvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBhZ2VEZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwYWdlRGVzY3JpcHRvcl8xLlBhZ2VEZXNjcmlwdG9yOyB9IH0pO1xudmFyIHN0cmVhbURlc2NyaXB0b3JfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbWluZ0NhbGxzL3N0cmVhbURlc2NyaXB0b3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdHJlYW1EZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdHJlYW1EZXNjcmlwdG9yXzEuU3RyZWFtRGVzY3JpcHRvcjsgfSB9KTtcbnZhciBidW5kbGVEZXNjcmlwdG9yXzEgPSByZXF1aXJlKFwiLi9idW5kbGluZ0NhbGxzL2J1bmRsZURlc2NyaXB0b3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCdW5kbGVEZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidW5kbGVEZXNjcmlwdG9yXzEuQnVuZGxlRGVzY3JpcHRvcjsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlc2NyaXB0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/descriptor.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/fallback.js":
/*!*******************************************************!*\
  !*** ./node_modules/google-gax/build/src/fallback.js ***!
  \*******************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fallback = exports.GoogleError = exports.operation = exports.Operation = exports.warn = exports.protobufMinimal = exports.protobuf = exports.LocationProtos = exports.IamProtos = exports.operationsProtos = exports.GrpcClient = exports.defaultToObjectOptions = exports.makeUUID = exports.LocationsClient = exports.IamClient = exports.OperationsClient = exports.StreamType = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = exports.BundleDescriptor = exports.version = exports.createDefaultBackoffSettings = exports.RetryOptions = exports.constructSettings = exports.CallSettings = exports.routingHeader = exports.PathTemplate = void 0;\nexports.lro = lro;\nexports.createApiCall = createApiCall;\nconst objectHash = __webpack_require__(/*! object-hash */ \"(action-browser)/./node_modules/object-hash/index.js\");\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(action-browser)/./node_modules/protobufjs/index.js\");\nexports.protobuf = protobuf;\nconst gax = __webpack_require__(/*! ./gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(action-browser)/./node_modules/google-gax/build/src/routingHeader.js\");\nexports.routingHeader = routingHeader;\nconst status_1 = __webpack_require__(/*! ./status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(action-browser)/./node_modules/google-auth-library/build/src/index.js\");\nconst operationsClient_1 = __webpack_require__(/*! ./operationsClient */ \"(action-browser)/./node_modules/google-gax/build/src/operationsClient.js\");\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(action-browser)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst fallbackRest = __webpack_require__(/*! ./fallbackRest */ \"(action-browser)/./node_modules/google-gax/build/src/fallbackRest.js\");\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(action-browser)/./node_modules/google-gax/build/src/featureDetection.js\");\nconst fallbackServiceStub_1 = __webpack_require__(/*! ./fallbackServiceStub */ \"(action-browser)/./node_modules/google-gax/build/src/fallbackServiceStub.js\");\nconst streaming_1 = __webpack_require__(/*! ./streamingCalls/streaming */ \"(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(action-browser)/./node_modules/google-gax/build/src/util.js\");\nconst IamProtos = __webpack_require__(/*! ../protos/iam_service */ \"(action-browser)/./node_modules/google-gax/build/protos/iam_service.js\");\nexports.IamProtos = IamProtos;\nconst LocationProtos = __webpack_require__(/*! ../protos/locations */ \"(action-browser)/./node_modules/google-gax/build/protos/locations.js\");\nexports.LocationProtos = LocationProtos;\nconst operationsProtos = __webpack_require__(/*! ../protos/operations */ \"(action-browser)/./node_modules/google-gax/build/protos/operations.js\");\nexports.operationsProtos = operationsProtos;\nvar pathTemplate_1 = __webpack_require__(/*! ./pathTemplate */ \"(action-browser)/./node_modules/google-gax/build/src/pathTemplate.js\");\nObject.defineProperty(exports, \"PathTemplate\", ({ enumerable: true, get: function () { return pathTemplate_1.PathTemplate; } }));\nvar gax_1 = __webpack_require__(/*! ./gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nObject.defineProperty(exports, \"CallSettings\", ({ enumerable: true, get: function () { return gax_1.CallSettings; } }));\nObject.defineProperty(exports, \"constructSettings\", ({ enumerable: true, get: function () { return gax_1.constructSettings; } }));\nObject.defineProperty(exports, \"RetryOptions\", ({ enumerable: true, get: function () { return gax_1.RetryOptions; } }));\nObject.defineProperty(exports, \"createDefaultBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createDefaultBackoffSettings; } }));\nexports.version = (__webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/package.json\").version) + '-fallback';\nvar descriptor_1 = __webpack_require__(/*! ./descriptor */ \"(action-browser)/./node_modules/google-gax/build/src/descriptor.js\");\nObject.defineProperty(exports, \"BundleDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.BundleDescriptor; } }));\nObject.defineProperty(exports, \"LongrunningDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.LongrunningDescriptor; } }));\nObject.defineProperty(exports, \"PageDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.PageDescriptor; } }));\nObject.defineProperty(exports, \"StreamDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.StreamDescriptor; } }));\nvar streaming_2 = __webpack_require__(/*! ./streamingCalls/streaming */ \"(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nObject.defineProperty(exports, \"StreamType\", ({ enumerable: true, get: function () { return streaming_2.StreamType; } }));\nvar operationsClient_2 = __webpack_require__(/*! ./operationsClient */ \"(action-browser)/./node_modules/google-gax/build/src/operationsClient.js\");\nObject.defineProperty(exports, \"OperationsClient\", ({ enumerable: true, get: function () { return operationsClient_2.OperationsClient; } }));\nvar iamService_1 = __webpack_require__(/*! ./iamService */ \"(action-browser)/./node_modules/google-gax/build/src/iamService.js\");\nObject.defineProperty(exports, \"IamClient\", ({ enumerable: true, get: function () { return iamService_1.IamClient; } }));\nvar locationService_1 = __webpack_require__(/*! ./locationService */ \"(action-browser)/./node_modules/google-gax/build/src/locationService.js\");\nObject.defineProperty(exports, \"LocationsClient\", ({ enumerable: true, get: function () { return locationService_1.LocationsClient; } }));\nvar util_2 = __webpack_require__(/*! ./util */ \"(action-browser)/./node_modules/google-gax/build/src/util.js\");\nObject.defineProperty(exports, \"makeUUID\", ({ enumerable: true, get: function () { return util_2.makeUUID; } }));\nexports.defaultToObjectOptions = {\n    keepCase: false,\n    longs: String,\n    enums: String,\n    defaults: true,\n    oneofs: true,\n};\nconst CLIENT_VERSION_HEADER = 'x-goog-api-client';\nclass GrpcClient {\n    /**\n     * In rare cases users might need to deallocate all memory consumed by loaded protos.\n     * This method will delete the proto cache content.\n     */\n    static clearProtoCache() {\n        GrpcClient.protoCache.clear();\n    }\n    /**\n     * gRPC-fallback version of GrpcClient\n     * Implements GrpcClient API for a browser using grpc-fallback protocol (sends serialized protobuf to HTTP/1 $rpc endpoint).\n     *\n     * @param {Object=} options.auth - An instance of OAuth2Client to use in browser, or an instance of GoogleAuth from google-auth-library\n     *  to use in Node.js. Required for browser, optional for Node.js.\n     * @constructor\n     */\n    constructor(options = {}) {\n        var _a;\n        if (!(0, featureDetection_1.isNodeJS)()) {\n            if (!options.auth) {\n                throw new Error(JSON.stringify(options) +\n                    'You need to pass auth instance to use gRPC-fallback client in browser or other non-Node.js environments. Use OAuth2Client from google-auth-library.');\n            }\n            this.auth = options.auth;\n        }\n        else {\n            this.auth =\n                options.auth ||\n                    new google_auth_library_1.GoogleAuth(options);\n        }\n        this.fallback = options.fallback ? true : false;\n        this.grpcVersion = (__webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/package.json\").version);\n        this.httpRules = options.httpRules;\n        this.numericEnums = (_a = options.numericEnums) !== null && _a !== void 0 ? _a : false;\n    }\n    /**\n     * gRPC-fallback version of loadProto\n     * Loads the protobuf root object from a JSON object created from a proto file\n     * @param {Object} jsonObject - A JSON version of a protofile created usin protobuf.js\n     * @returns {Object} Root namespace of proto JSON\n     */\n    loadProto(jsonObject) {\n        const rootObject = protobuf.Root.fromJSON(jsonObject);\n        return rootObject;\n    }\n    loadProtoJSON(json, ignoreCache = false) {\n        const hash = objectHash(JSON.stringify(json)).toString();\n        const cached = GrpcClient.protoCache.get(hash);\n        if (cached && !ignoreCache) {\n            return cached;\n        }\n        const root = protobuf.Root.fromJSON(json);\n        GrpcClient.protoCache.set(hash, root);\n        return root;\n    }\n    static getServiceMethods(service) {\n        const methods = {};\n        for (const [methodName, methodObject] of Object.entries(service.methods)) {\n            const methodNameLowerCamelCase = (0, util_1.toLowerCamelCase)(methodName);\n            methods[methodNameLowerCamelCase] = methodObject;\n        }\n        return methods;\n    }\n    /**\n     * gRPC-fallback version of constructSettings\n     * A wrapper of {@link constructSettings} function under the gRPC context.\n     *\n     * Most of parameters are common among constructSettings, please take a look.\n     * @param {string} serviceName - The fullly-qualified name of the service.\n     * @param {Object} clientConfig - A dictionary of the client config.\n     * @param {Object} configOverrides - A dictionary of overriding configs.\n     * @param {Object} headers - A dictionary of additional HTTP header name to\n     *   its value.\n     * @return {Object} A mapping of method names to CallSettings.\n     */\n    constructSettings(serviceName, clientConfig, configOverrides, headers) {\n        function buildMetadata(abTests, moreHeaders) {\n            const metadata = {};\n            if (!headers) {\n                headers = {};\n            }\n            // Since gRPC expects each header to be an array,\n            // we are doing the same for fallback here.\n            for (const key in headers) {\n                metadata[key] = Array.isArray(headers[key])\n                    ? headers[key]\n                    : [headers[key]];\n            }\n            // gRPC-fallback request must have 'grpc-web/' in 'x-goog-api-client'\n            const clientVersions = [];\n            if (metadata[CLIENT_VERSION_HEADER] &&\n                metadata[CLIENT_VERSION_HEADER][0]) {\n                clientVersions.push(...metadata[CLIENT_VERSION_HEADER][0].split(' '));\n            }\n            clientVersions.push(`grpc-web/${exports.version}`);\n            metadata[CLIENT_VERSION_HEADER] = [clientVersions.join(' ')];\n            if (!moreHeaders) {\n                return metadata;\n            }\n            for (const key in moreHeaders) {\n                if (key.toLowerCase() !== CLIENT_VERSION_HEADER) {\n                    const value = moreHeaders[key];\n                    if (Array.isArray(value)) {\n                        if (metadata[key] === undefined) {\n                            metadata[key] = value;\n                        }\n                        else {\n                            if (Array.isArray(metadata[key])) {\n                                metadata[key].push(...value);\n                            }\n                            else {\n                                throw new Error(`Can not add value ${value} to the call metadata.`);\n                            }\n                        }\n                    }\n                    else {\n                        metadata[key] = [value];\n                    }\n                }\n            }\n            return metadata;\n        }\n        return gax.constructSettings(serviceName, clientConfig, configOverrides, status_1.Status, { metadataBuilder: buildMetadata });\n    }\n    /**\n     * gRPC-fallback version of createStub\n     * Creates a gRPC-fallback stub with authentication headers built from supplied OAuth2Client instance\n     *\n     * @param {function} CreateStub - The constructor function of the stub.\n     * @param {Object} service - A protobufjs Service object (as returned by lookupService)\n     * @param {Object} opts - Connection options, as described below.\n     * @param {string} opts.servicePath - The hostname of the API endpoint service.\n     * @param {number} opts.port - The port of the service.\n     * @return {Promise} A promise which resolves to a gRPC-fallback service stub, which is a protobuf.js service stub instance modified to match the gRPC stub API\n     */\n    async createStub(service, opts, \n    // For consistency with createStub in grpc.ts, customServicePath is defined:\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    customServicePath) {\n        if (!this.authClient) {\n            if (this.auth && 'getClient' in this.auth) {\n                this.authClient = (await this.auth.getClient());\n            }\n            else if (this.auth && 'getRequestHeaders' in this.auth) {\n                this.authClient = this.auth;\n            }\n        }\n        if (!this.authClient) {\n            throw new Error('No authentication was provided');\n        }\n        if (!opts.universeDomain) {\n            opts.universeDomain = 'googleapis.com';\n        }\n        if (opts.universeDomain) {\n            const universeFromAuth = this.authClient.universeDomain;\n            if (universeFromAuth && opts.universeDomain !== universeFromAuth) {\n                throw new Error(`The configured universe domain (${opts.universeDomain}) does not match the universe domain found in the credentials (${universeFromAuth}). ` +\n                    \"If you haven't configured the universe domain explicitly, googleapis.com is the default.\");\n            }\n        }\n        service.resolveAll();\n        const methods = GrpcClient.getServiceMethods(service);\n        const protocol = opts.protocol || 'https';\n        let servicePath = opts.servicePath;\n        if (!servicePath &&\n            service.options &&\n            service.options['(google.api.default_host)']) {\n            servicePath = service.options['(google.api.default_host)'];\n        }\n        if (!servicePath) {\n            throw new Error(`Cannot determine service API path for service ${service.name}.`);\n        }\n        let servicePort;\n        const match = servicePath.match(/^(.*):(\\d+)$/);\n        if (match) {\n            servicePath = match[1];\n            servicePort = parseInt(match[2]);\n        }\n        if (opts.port) {\n            servicePort = opts.port;\n        }\n        else if (!servicePort) {\n            servicePort = 443;\n        }\n        const encoder = fallbackRest.encodeRequest;\n        const decoder = fallbackRest.decodeResponse;\n        const serviceStub = (0, fallbackServiceStub_1.generateServiceStub)(methods, protocol, servicePath, servicePort, this.authClient, encoder, decoder, this.numericEnums);\n        return serviceStub;\n    }\n    /**\n     * Creates a 'bytelength' function for a given proto message class.\n     *\n     * See {@link BundleDescriptor} about the meaning of the return value.\n     *\n     * @param {function} message - a constructor function that is generated by\n     *   protobuf.js. Assumes 'encoder' field in the message.\n     * @return {function(Object):number} - a function to compute the byte length\n     *   for an object.\n     */\n    static createByteLengthFunction(message) {\n        return gax.createByteLengthFunction(message);\n    }\n}\nexports.GrpcClient = GrpcClient;\nGrpcClient.protoCache = new Map();\n/**\n * gRPC-fallback version of lro\n *\n * @param {Object=} options.auth - An instance of google-auth-library.\n * @return {Object} A OperationsClientBuilder that will return a OperationsClient\n */\nfunction lro(options) {\n    options = Object.assign({ scopes: [] }, options);\n    if (options.protoJson) {\n        options = Object.assign(options, { fallback: true });\n    }\n    const gaxGrpc = new GrpcClient(options);\n    return new operationsClient_1.OperationsClientBuilder(gaxGrpc, options.protoJson);\n}\n/**\n * gRPC-fallback version of createApiCall\n *\n * Converts an rpc call into an API call governed by the settings.\n *\n * In typical usage, `func` will be a promise to a callable used to make an rpc\n * request. This will mostly likely be a bound method from a request stub used\n * to make an rpc call. It is not a direct function but a Promise instance,\n * because of its asynchronism (typically, obtaining the auth information).\n *\n * The result is a function which manages the API call with the given settings\n * and the options on the invocation.\n *\n * Throws exception on unsupported streaming calls\n *\n * @param {Promise<GRPCCall>|GRPCCall} func - is either a promise to be used to make\n *   a bare RPC call, or just a bare RPC call.\n * @param {CallSettings} settings - provides the settings for this call\n * @param {Descriptor} descriptor - optionally specify the descriptor for\n *   the method call.\n * @return {GaxCall} func - a bound method on a request stub used\n *   to make an rpc call.\n */\nfunction createApiCall(func, settings, descriptor, \n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n_fallback // unused; for compatibility only\n) {\n    if (descriptor &&\n        'streaming' in descriptor &&\n        descriptor.type !== streaming_1.StreamType.SERVER_STREAMING) {\n        return () => {\n            throw new Error('The REST transport currently does not support client-streaming or bidi-stream calls.');\n        };\n    }\n    if (descriptor && 'streaming' in descriptor && !(0, featureDetection_1.isNodeJS)()) {\n        return () => {\n            throw new Error('Server streaming over the REST transport is only supported in Node.js.');\n        };\n    }\n    return (0, createApiCall_1.createApiCall)(func, settings, descriptor);\n}\nexports.protobufMinimal = __webpack_require__(/*! protobufjs/minimal */ \"(action-browser)/./node_modules/protobufjs/minimal.js\");\nvar warnings_1 = __webpack_require__(/*! ./warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nObject.defineProperty(exports, \"warn\", ({ enumerable: true, get: function () { return warnings_1.warn; } }));\nvar longrunning_1 = __webpack_require__(/*! ./longRunningCalls/longrunning */ \"(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\");\nObject.defineProperty(exports, \"Operation\", ({ enumerable: true, get: function () { return longrunning_1.Operation; } }));\nObject.defineProperty(exports, \"operation\", ({ enumerable: true, get: function () { return longrunning_1.operation; } }));\nvar googleError_1 = __webpack_require__(/*! ./googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nObject.defineProperty(exports, \"GoogleError\", ({ enumerable: true, get: function () { return googleError_1.GoogleError; } }));\n// Different environments or bundlers may or may not respect \"browser\" field\n// in package.json (e.g. Electron does not respect it, but if you run the code\n// through webpack first, it will follow the \"browser\" field).\n// To make it safer and more compatible, let's make sure that if you do\n// const gax = require(\"google-gax\");\n// you can always ask for gax.fallback, regardless of \"browser\" field being\n// understood or not.\nconst fallback = module.exports;\nexports.fallback = fallback;\n//# sourceMappingURL=fallback.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9mYWxsYmFjay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRyxtQkFBbUIsR0FBRyxpQkFBaUIsR0FBRyxpQkFBaUIsR0FBRyxZQUFZLEdBQUcsdUJBQXVCLEdBQUcsZ0JBQWdCLEdBQUcsc0JBQXNCLEdBQUcsaUJBQWlCLEdBQUcsd0JBQXdCLEdBQUcsa0JBQWtCLEdBQUcsOEJBQThCLEdBQUcsZ0JBQWdCLEdBQUcsdUJBQXVCLEdBQUcsaUJBQWlCLEdBQUcsd0JBQXdCLEdBQUcsa0JBQWtCLEdBQUcsd0JBQXdCLEdBQUcsc0JBQXNCLEdBQUcsNkJBQTZCLEdBQUcsd0JBQXdCLEdBQUcsZUFBZSxHQUFHLG9DQUFvQyxHQUFHLG9CQUFvQixHQUFHLHlCQUF5QixHQUFHLG9CQUFvQixHQUFHLHFCQUFxQixHQUFHLG9CQUFvQjtBQUMxcEIsV0FBVztBQUNYLHFCQUFxQjtBQUNyQixtQkFBbUIsbUJBQU8sQ0FBQyx5RUFBYTtBQUN4QyxpQkFBaUIsbUJBQU8sQ0FBQyx1RUFBWTtBQUNyQyxnQkFBZ0I7QUFDaEIsWUFBWSxtQkFBTyxDQUFDLDBFQUFPO0FBQzNCLHNCQUFzQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMvQyxxQkFBcUI7QUFDckIsaUJBQWlCLG1CQUFPLENBQUMsZ0ZBQVU7QUFDbkMsOEJBQThCLG1CQUFPLENBQUMsbUdBQXFCO0FBQzNELDJCQUEyQixtQkFBTyxDQUFDLG9HQUFvQjtBQUN2RCx3QkFBd0IsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDakQscUJBQXFCLG1CQUFPLENBQUMsNEZBQWdCO0FBQzdDLDJCQUEyQixtQkFBTyxDQUFDLG9HQUFvQjtBQUN2RCw4QkFBOEIsbUJBQU8sQ0FBQywwR0FBdUI7QUFDN0Qsb0JBQW9CLG1CQUFPLENBQUMsb0hBQTRCO0FBQ3hELGVBQWUsbUJBQU8sQ0FBQyw0RUFBUTtBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQyxxR0FBdUI7QUFDakQsaUJBQWlCO0FBQ2pCLHVCQUF1QixtQkFBTyxDQUFDLGlHQUFxQjtBQUNwRCxzQkFBc0I7QUFDdEIseUJBQXlCLG1CQUFPLENBQUMsbUdBQXNCO0FBQ3ZELHdCQUF3QjtBQUN4QixxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBZ0I7QUFDN0MsZ0RBQStDLEVBQUUscUNBQXFDLHVDQUF1QyxFQUFDO0FBQzlILFlBQVksbUJBQU8sQ0FBQywwRUFBTztBQUMzQixnREFBK0MsRUFBRSxxQ0FBcUMsOEJBQThCLEVBQUM7QUFDckgscURBQW9ELEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQy9ILGdEQUErQyxFQUFFLHFDQUFxQyw4QkFBOEIsRUFBQztBQUNySCxnRUFBK0QsRUFBRSxxQ0FBcUMsOENBQThDLEVBQUM7QUFDckosZUFBZSxHQUFHLGtIQUFxQztBQUN2RCxtQkFBbUIsbUJBQU8sQ0FBQyx3RkFBYztBQUN6QyxvREFBbUQsRUFBRSxxQ0FBcUMseUNBQXlDLEVBQUM7QUFDcEkseURBQXdELEVBQUUscUNBQXFDLDhDQUE4QyxFQUFDO0FBQzlJLGtEQUFpRCxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUNoSSxvREFBbUQsRUFBRSxxQ0FBcUMseUNBQXlDLEVBQUM7QUFDcEksa0JBQWtCLG1CQUFPLENBQUMsb0hBQTRCO0FBQ3RELDhDQUE2QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUN2SCx5QkFBeUIsbUJBQU8sQ0FBQyxvR0FBb0I7QUFDckQsb0RBQW1ELEVBQUUscUNBQXFDLCtDQUErQyxFQUFDO0FBQzFJLG1CQUFtQixtQkFBTyxDQUFDLHdGQUFjO0FBQ3pDLDZDQUE0QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUN0SCx3QkFBd0IsbUJBQU8sQ0FBQyxrR0FBbUI7QUFDbkQsbURBQWtELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQ3ZJLGFBQWEsbUJBQU8sQ0FBQyw0RUFBUTtBQUM3Qiw0Q0FBMkMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDOUcsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtIQUFxQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseUJBQXlCO0FBQzlDO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGdCQUFnQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxPQUFPO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0dBQW9HLGdDQUFnQztBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxvQkFBb0IsaUVBQWlFLGlCQUFpQjtBQUN6SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxhQUFhO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0EsZ0JBQWdCLHlCQUF5QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQSw4QkFBOEIsWUFBWTtBQUMxQztBQUNBLDJDQUEyQyxnQkFBZ0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QztBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0lBQXVEO0FBQ3ZELGlCQUFpQixtQkFBTyxDQUFDLG9GQUFZO0FBQ3JDLHdDQUF1QyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUMxRyxvQkFBb0IsbUJBQU8sQ0FBQyw0SEFBZ0M7QUFDNUQsNkNBQTRDLEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQ3ZILDZDQUE0QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN2SCxvQkFBb0IsbUJBQU8sQ0FBQywwRkFBZTtBQUMzQywrQ0FBOEMsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2ZhbGxiYWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mYWxsYmFjayA9IGV4cG9ydHMuR29vZ2xlRXJyb3IgPSBleHBvcnRzLm9wZXJhdGlvbiA9IGV4cG9ydHMuT3BlcmF0aW9uID0gZXhwb3J0cy53YXJuID0gZXhwb3J0cy5wcm90b2J1Zk1pbmltYWwgPSBleHBvcnRzLnByb3RvYnVmID0gZXhwb3J0cy5Mb2NhdGlvblByb3RvcyA9IGV4cG9ydHMuSWFtUHJvdG9zID0gZXhwb3J0cy5vcGVyYXRpb25zUHJvdG9zID0gZXhwb3J0cy5HcnBjQ2xpZW50ID0gZXhwb3J0cy5kZWZhdWx0VG9PYmplY3RPcHRpb25zID0gZXhwb3J0cy5tYWtlVVVJRCA9IGV4cG9ydHMuTG9jYXRpb25zQ2xpZW50ID0gZXhwb3J0cy5JYW1DbGllbnQgPSBleHBvcnRzLk9wZXJhdGlvbnNDbGllbnQgPSBleHBvcnRzLlN0cmVhbVR5cGUgPSBleHBvcnRzLlN0cmVhbURlc2NyaXB0b3IgPSBleHBvcnRzLlBhZ2VEZXNjcmlwdG9yID0gZXhwb3J0cy5Mb25ncnVubmluZ0Rlc2NyaXB0b3IgPSBleHBvcnRzLkJ1bmRsZURlc2NyaXB0b3IgPSBleHBvcnRzLnZlcnNpb24gPSBleHBvcnRzLmNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3MgPSBleHBvcnRzLlJldHJ5T3B0aW9ucyA9IGV4cG9ydHMuY29uc3RydWN0U2V0dGluZ3MgPSBleHBvcnRzLkNhbGxTZXR0aW5ncyA9IGV4cG9ydHMucm91dGluZ0hlYWRlciA9IGV4cG9ydHMuUGF0aFRlbXBsYXRlID0gdm9pZCAwO1xuZXhwb3J0cy5scm8gPSBscm87XG5leHBvcnRzLmNyZWF0ZUFwaUNhbGwgPSBjcmVhdGVBcGlDYWxsO1xuY29uc3Qgb2JqZWN0SGFzaCA9IHJlcXVpcmUoXCJvYmplY3QtaGFzaFwiKTtcbmNvbnN0IHByb3RvYnVmID0gcmVxdWlyZShcInByb3RvYnVmanNcIik7XG5leHBvcnRzLnByb3RvYnVmID0gcHJvdG9idWY7XG5jb25zdCBnYXggPSByZXF1aXJlKFwiLi9nYXhcIik7XG5jb25zdCByb3V0aW5nSGVhZGVyID0gcmVxdWlyZShcIi4vcm91dGluZ0hlYWRlclwiKTtcbmV4cG9ydHMucm91dGluZ0hlYWRlciA9IHJvdXRpbmdIZWFkZXI7XG5jb25zdCBzdGF0dXNfMSA9IHJlcXVpcmUoXCIuL3N0YXR1c1wiKTtcbmNvbnN0IGdvb2dsZV9hdXRoX2xpYnJhcnlfMSA9IHJlcXVpcmUoXCJnb29nbGUtYXV0aC1saWJyYXJ5XCIpO1xuY29uc3Qgb3BlcmF0aW9uc0NsaWVudF8xID0gcmVxdWlyZShcIi4vb3BlcmF0aW9uc0NsaWVudFwiKTtcbmNvbnN0IGNyZWF0ZUFwaUNhbGxfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUFwaUNhbGxcIik7XG5jb25zdCBmYWxsYmFja1Jlc3QgPSByZXF1aXJlKFwiLi9mYWxsYmFja1Jlc3RcIik7XG5jb25zdCBmZWF0dXJlRGV0ZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9mZWF0dXJlRGV0ZWN0aW9uXCIpO1xuY29uc3QgZmFsbGJhY2tTZXJ2aWNlU3R1Yl8xID0gcmVxdWlyZShcIi4vZmFsbGJhY2tTZXJ2aWNlU3R1YlwiKTtcbmNvbnN0IHN0cmVhbWluZ18xID0gcmVxdWlyZShcIi4vc3RyZWFtaW5nQ2FsbHMvc3RyZWFtaW5nXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IElhbVByb3RvcyA9IHJlcXVpcmUoXCIuLi9wcm90b3MvaWFtX3NlcnZpY2VcIik7XG5leHBvcnRzLklhbVByb3RvcyA9IElhbVByb3RvcztcbmNvbnN0IExvY2F0aW9uUHJvdG9zID0gcmVxdWlyZShcIi4uL3Byb3Rvcy9sb2NhdGlvbnNcIik7XG5leHBvcnRzLkxvY2F0aW9uUHJvdG9zID0gTG9jYXRpb25Qcm90b3M7XG5jb25zdCBvcGVyYXRpb25zUHJvdG9zID0gcmVxdWlyZShcIi4uL3Byb3Rvcy9vcGVyYXRpb25zXCIpO1xuZXhwb3J0cy5vcGVyYXRpb25zUHJvdG9zID0gb3BlcmF0aW9uc1Byb3RvcztcbnZhciBwYXRoVGVtcGxhdGVfMSA9IHJlcXVpcmUoXCIuL3BhdGhUZW1wbGF0ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBhdGhUZW1wbGF0ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGF0aFRlbXBsYXRlXzEuUGF0aFRlbXBsYXRlOyB9IH0pO1xudmFyIGdheF8xID0gcmVxdWlyZShcIi4vZ2F4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2FsbFNldHRpbmdzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5DYWxsU2V0dGluZ3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25zdHJ1Y3RTZXR0aW5nc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuY29uc3RydWN0U2V0dGluZ3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSZXRyeU9wdGlvbnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdheF8xLlJldHJ5T3B0aW9uczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdheF8xLmNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3M7IH0gfSk7XG5leHBvcnRzLnZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uICsgJy1mYWxsYmFjayc7XG52YXIgZGVzY3JpcHRvcl8xID0gcmVxdWlyZShcIi4vZGVzY3JpcHRvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJ1bmRsZURlc2NyaXB0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JfMS5CdW5kbGVEZXNjcmlwdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTG9uZ3J1bm5pbmdEZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXNjcmlwdG9yXzEuTG9uZ3J1bm5pbmdEZXNjcmlwdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUGFnZURlc2NyaXB0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JfMS5QYWdlRGVzY3JpcHRvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0cmVhbURlc2NyaXB0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JfMS5TdHJlYW1EZXNjcmlwdG9yOyB9IH0pO1xudmFyIHN0cmVhbWluZ18yID0gcmVxdWlyZShcIi4vc3RyZWFtaW5nQ2FsbHMvc3RyZWFtaW5nXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtVHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RyZWFtaW5nXzIuU3RyZWFtVHlwZTsgfSB9KTtcbnZhciBvcGVyYXRpb25zQ2xpZW50XzIgPSByZXF1aXJlKFwiLi9vcGVyYXRpb25zQ2xpZW50XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT3BlcmF0aW9uc0NsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb3BlcmF0aW9uc0NsaWVudF8yLk9wZXJhdGlvbnNDbGllbnQ7IH0gfSk7XG52YXIgaWFtU2VydmljZV8xID0gcmVxdWlyZShcIi4vaWFtU2VydmljZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIklhbUNsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaWFtU2VydmljZV8xLklhbUNsaWVudDsgfSB9KTtcbnZhciBsb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2xvY2F0aW9uU2VydmljZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkxvY2F0aW9uc0NsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9jYXRpb25TZXJ2aWNlXzEuTG9jYXRpb25zQ2xpZW50OyB9IH0pO1xudmFyIHV0aWxfMiA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYWtlVVVJRFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbF8yLm1ha2VVVUlEOyB9IH0pO1xuZXhwb3J0cy5kZWZhdWx0VG9PYmplY3RPcHRpb25zID0ge1xuICAgIGtlZXBDYXNlOiBmYWxzZSxcbiAgICBsb25nczogU3RyaW5nLFxuICAgIGVudW1zOiBTdHJpbmcsXG4gICAgZGVmYXVsdHM6IHRydWUsXG4gICAgb25lb2ZzOiB0cnVlLFxufTtcbmNvbnN0IENMSUVOVF9WRVJTSU9OX0hFQURFUiA9ICd4LWdvb2ctYXBpLWNsaWVudCc7XG5jbGFzcyBHcnBjQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBJbiByYXJlIGNhc2VzIHVzZXJzIG1pZ2h0IG5lZWQgdG8gZGVhbGxvY2F0ZSBhbGwgbWVtb3J5IGNvbnN1bWVkIGJ5IGxvYWRlZCBwcm90b3MuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBkZWxldGUgdGhlIHByb3RvIGNhY2hlIGNvbnRlbnQuXG4gICAgICovXG4gICAgc3RhdGljIGNsZWFyUHJvdG9DYWNoZSgpIHtcbiAgICAgICAgR3JwY0NsaWVudC5wcm90b0NhY2hlLmNsZWFyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdSUEMtZmFsbGJhY2sgdmVyc2lvbiBvZiBHcnBjQ2xpZW50XG4gICAgICogSW1wbGVtZW50cyBHcnBjQ2xpZW50IEFQSSBmb3IgYSBicm93c2VyIHVzaW5nIGdycGMtZmFsbGJhY2sgcHJvdG9jb2wgKHNlbmRzIHNlcmlhbGl6ZWQgcHJvdG9idWYgdG8gSFRUUC8xICRycGMgZW5kcG9pbnQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zLmF1dGggLSBBbiBpbnN0YW5jZSBvZiBPQXV0aDJDbGllbnQgdG8gdXNlIGluIGJyb3dzZXIsIG9yIGFuIGluc3RhbmNlIG9mIEdvb2dsZUF1dGggZnJvbSBnb29nbGUtYXV0aC1saWJyYXJ5XG4gICAgICogIHRvIHVzZSBpbiBOb2RlLmpzLiBSZXF1aXJlZCBmb3IgYnJvd3Nlciwgb3B0aW9uYWwgZm9yIE5vZGUuanMuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCEoMCwgZmVhdHVyZURldGVjdGlvbl8xLmlzTm9kZUpTKSgpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYXV0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShvcHRpb25zKSArXG4gICAgICAgICAgICAgICAgICAgICdZb3UgbmVlZCB0byBwYXNzIGF1dGggaW5zdGFuY2UgdG8gdXNlIGdSUEMtZmFsbGJhY2sgY2xpZW50IGluIGJyb3dzZXIgb3Igb3RoZXIgbm9uLU5vZGUuanMgZW52aXJvbm1lbnRzLiBVc2UgT0F1dGgyQ2xpZW50IGZyb20gZ29vZ2xlLWF1dGgtbGlicmFyeS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXV0aCA9IG9wdGlvbnMuYXV0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aCA9XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hdXRoIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ldyBnb29nbGVfYXV0aF9saWJyYXJ5XzEuR29vZ2xlQXV0aChvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZhbGxiYWNrID0gb3B0aW9ucy5mYWxsYmFjayA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5ncnBjVmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG4gICAgICAgIHRoaXMuaHR0cFJ1bGVzID0gb3B0aW9ucy5odHRwUnVsZXM7XG4gICAgICAgIHRoaXMubnVtZXJpY0VudW1zID0gKF9hID0gb3B0aW9ucy5udW1lcmljRW51bXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnUlBDLWZhbGxiYWNrIHZlcnNpb24gb2YgbG9hZFByb3RvXG4gICAgICogTG9hZHMgdGhlIHByb3RvYnVmIHJvb3Qgb2JqZWN0IGZyb20gYSBKU09OIG9iamVjdCBjcmVhdGVkIGZyb20gYSBwcm90byBmaWxlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGpzb25PYmplY3QgLSBBIEpTT04gdmVyc2lvbiBvZiBhIHByb3RvZmlsZSBjcmVhdGVkIHVzaW4gcHJvdG9idWYuanNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSb290IG5hbWVzcGFjZSBvZiBwcm90byBKU09OXG4gICAgICovXG4gICAgbG9hZFByb3RvKGpzb25PYmplY3QpIHtcbiAgICAgICAgY29uc3Qgcm9vdE9iamVjdCA9IHByb3RvYnVmLlJvb3QuZnJvbUpTT04oanNvbk9iamVjdCk7XG4gICAgICAgIHJldHVybiByb290T2JqZWN0O1xuICAgIH1cbiAgICBsb2FkUHJvdG9KU09OKGpzb24sIGlnbm9yZUNhY2hlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IG9iamVjdEhhc2goSlNPTi5zdHJpbmdpZnkoanNvbikpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IEdycGNDbGllbnQucHJvdG9DYWNoZS5nZXQoaGFzaCk7XG4gICAgICAgIGlmIChjYWNoZWQgJiYgIWlnbm9yZUNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvb3QgPSBwcm90b2J1Zi5Sb290LmZyb21KU09OKGpzb24pO1xuICAgICAgICBHcnBjQ2xpZW50LnByb3RvQ2FjaGUuc2V0KGhhc2gsIHJvb3QpO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG4gICAgc3RhdGljIGdldFNlcnZpY2VNZXRob2RzKHNlcnZpY2UpIHtcbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFttZXRob2ROYW1lLCBtZXRob2RPYmplY3RdIG9mIE9iamVjdC5lbnRyaWVzKHNlcnZpY2UubWV0aG9kcykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZE5hbWVMb3dlckNhbWVsQ2FzZSA9ICgwLCB1dGlsXzEudG9Mb3dlckNhbWVsQ2FzZSkobWV0aG9kTmFtZSk7XG4gICAgICAgICAgICBtZXRob2RzW21ldGhvZE5hbWVMb3dlckNhbWVsQ2FzZV0gPSBtZXRob2RPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdSUEMtZmFsbGJhY2sgdmVyc2lvbiBvZiBjb25zdHJ1Y3RTZXR0aW5nc1xuICAgICAqIEEgd3JhcHBlciBvZiB7QGxpbmsgY29uc3RydWN0U2V0dGluZ3N9IGZ1bmN0aW9uIHVuZGVyIHRoZSBnUlBDIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBNb3N0IG9mIHBhcmFtZXRlcnMgYXJlIGNvbW1vbiBhbW9uZyBjb25zdHJ1Y3RTZXR0aW5ncywgcGxlYXNlIHRha2UgYSBsb29rLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlTmFtZSAtIFRoZSBmdWxsbHktcXVhbGlmaWVkIG5hbWUgb2YgdGhlIHNlcnZpY2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNsaWVudENvbmZpZyAtIEEgZGljdGlvbmFyeSBvZiB0aGUgY2xpZW50IGNvbmZpZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT3ZlcnJpZGVzIC0gQSBkaWN0aW9uYXJ5IG9mIG92ZXJyaWRpbmcgY29uZmlncy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGVhZGVycyAtIEEgZGljdGlvbmFyeSBvZiBhZGRpdGlvbmFsIEhUVFAgaGVhZGVyIG5hbWUgdG9cbiAgICAgKiAgIGl0cyB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgbWFwcGluZyBvZiBtZXRob2QgbmFtZXMgdG8gQ2FsbFNldHRpbmdzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdFNldHRpbmdzKHNlcnZpY2VOYW1lLCBjbGllbnRDb25maWcsIGNvbmZpZ092ZXJyaWRlcywgaGVhZGVycykge1xuICAgICAgICBmdW5jdGlvbiBidWlsZE1ldGFkYXRhKGFiVGVzdHMsIG1vcmVIZWFkZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgaWYgKCFoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2luY2UgZ1JQQyBleHBlY3RzIGVhY2ggaGVhZGVyIHRvIGJlIGFuIGFycmF5LFxuICAgICAgICAgICAgLy8gd2UgYXJlIGRvaW5nIHRoZSBzYW1lIGZvciBmYWxsYmFjayBoZXJlLlxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhW2tleV0gPSBBcnJheS5pc0FycmF5KGhlYWRlcnNba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgPyBoZWFkZXJzW2tleV1cbiAgICAgICAgICAgICAgICAgICAgOiBbaGVhZGVyc1trZXldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdSUEMtZmFsbGJhY2sgcmVxdWVzdCBtdXN0IGhhdmUgJ2dycGMtd2ViLycgaW4gJ3gtZ29vZy1hcGktY2xpZW50J1xuICAgICAgICAgICAgY29uc3QgY2xpZW50VmVyc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YVtDTElFTlRfVkVSU0lPTl9IRUFERVJdICYmXG4gICAgICAgICAgICAgICAgbWV0YWRhdGFbQ0xJRU5UX1ZFUlNJT05fSEVBREVSXVswXSkge1xuICAgICAgICAgICAgICAgIGNsaWVudFZlcnNpb25zLnB1c2goLi4ubWV0YWRhdGFbQ0xJRU5UX1ZFUlNJT05fSEVBREVSXVswXS5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsaWVudFZlcnNpb25zLnB1c2goYGdycGMtd2ViLyR7ZXhwb3J0cy52ZXJzaW9ufWApO1xuICAgICAgICAgICAgbWV0YWRhdGFbQ0xJRU5UX1ZFUlNJT05fSEVBREVSXSA9IFtjbGllbnRWZXJzaW9ucy5qb2luKCcgJyldO1xuICAgICAgICAgICAgaWYgKCFtb3JlSGVhZGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1vcmVIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpICE9PSBDTElFTlRfVkVSU0lPTl9IRUFERVIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtb3JlSGVhZGVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhZGF0YVtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YVtrZXldLnB1c2goLi4udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IGFkZCB2YWx1ZSAke3ZhbHVlfSB0byB0aGUgY2FsbCBtZXRhZGF0YS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YVtrZXldID0gW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2F4LmNvbnN0cnVjdFNldHRpbmdzKHNlcnZpY2VOYW1lLCBjbGllbnRDb25maWcsIGNvbmZpZ092ZXJyaWRlcywgc3RhdHVzXzEuU3RhdHVzLCB7IG1ldGFkYXRhQnVpbGRlcjogYnVpbGRNZXRhZGF0YSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ1JQQy1mYWxsYmFjayB2ZXJzaW9uIG9mIGNyZWF0ZVN0dWJcbiAgICAgKiBDcmVhdGVzIGEgZ1JQQy1mYWxsYmFjayBzdHViIHdpdGggYXV0aGVudGljYXRpb24gaGVhZGVycyBidWlsdCBmcm9tIHN1cHBsaWVkIE9BdXRoMkNsaWVudCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gQ3JlYXRlU3R1YiAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvZiB0aGUgc3R1Yi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VydmljZSAtIEEgcHJvdG9idWZqcyBTZXJ2aWNlIG9iamVjdCAoYXMgcmV0dXJuZWQgYnkgbG9va3VwU2VydmljZSlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIENvbm5lY3Rpb24gb3B0aW9ucywgYXMgZGVzY3JpYmVkIGJlbG93LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLnNlcnZpY2VQYXRoIC0gVGhlIGhvc3RuYW1lIG9mIHRoZSBBUEkgZW5kcG9pbnQgc2VydmljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0cy5wb3J0IC0gVGhlIHBvcnQgb2YgdGhlIHNlcnZpY2UuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGEgZ1JQQy1mYWxsYmFjayBzZXJ2aWNlIHN0dWIsIHdoaWNoIGlzIGEgcHJvdG9idWYuanMgc2VydmljZSBzdHViIGluc3RhbmNlIG1vZGlmaWVkIHRvIG1hdGNoIHRoZSBnUlBDIHN0dWIgQVBJXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlU3R1YihzZXJ2aWNlLCBvcHRzLCBcbiAgICAvLyBGb3IgY29uc2lzdGVuY3kgd2l0aCBjcmVhdGVTdHViIGluIGdycGMudHMsIGN1c3RvbVNlcnZpY2VQYXRoIGlzIGRlZmluZWQ6XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGN1c3RvbVNlcnZpY2VQYXRoKSB7XG4gICAgICAgIGlmICghdGhpcy5hdXRoQ2xpZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdXRoICYmICdnZXRDbGllbnQnIGluIHRoaXMuYXV0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0aENsaWVudCA9IChhd2FpdCB0aGlzLmF1dGguZ2V0Q2xpZW50KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRoICYmICdnZXRSZXF1ZXN0SGVhZGVycycgaW4gdGhpcy5hdXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRoQ2xpZW50ID0gdGhpcy5hdXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5hdXRoQ2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGF1dGhlbnRpY2F0aW9uIHdhcyBwcm92aWRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0cy51bml2ZXJzZURvbWFpbikge1xuICAgICAgICAgICAgb3B0cy51bml2ZXJzZURvbWFpbiA9ICdnb29nbGVhcGlzLmNvbSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMudW5pdmVyc2VEb21haW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHVuaXZlcnNlRnJvbUF1dGggPSB0aGlzLmF1dGhDbGllbnQudW5pdmVyc2VEb21haW47XG4gICAgICAgICAgICBpZiAodW5pdmVyc2VGcm9tQXV0aCAmJiBvcHRzLnVuaXZlcnNlRG9tYWluICE9PSB1bml2ZXJzZUZyb21BdXRoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29uZmlndXJlZCB1bml2ZXJzZSBkb21haW4gKCR7b3B0cy51bml2ZXJzZURvbWFpbn0pIGRvZXMgbm90IG1hdGNoIHRoZSB1bml2ZXJzZSBkb21haW4gZm91bmQgaW4gdGhlIGNyZWRlbnRpYWxzICgke3VuaXZlcnNlRnJvbUF1dGh9KS4gYCArXG4gICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IGhhdmVuJ3QgY29uZmlndXJlZCB0aGUgdW5pdmVyc2UgZG9tYWluIGV4cGxpY2l0bHksIGdvb2dsZWFwaXMuY29tIGlzIHRoZSBkZWZhdWx0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXJ2aWNlLnJlc29sdmVBbGwoKTtcbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IEdycGNDbGllbnQuZ2V0U2VydmljZU1ldGhvZHMoc2VydmljZSk7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gb3B0cy5wcm90b2NvbCB8fCAnaHR0cHMnO1xuICAgICAgICBsZXQgc2VydmljZVBhdGggPSBvcHRzLnNlcnZpY2VQYXRoO1xuICAgICAgICBpZiAoIXNlcnZpY2VQYXRoICYmXG4gICAgICAgICAgICBzZXJ2aWNlLm9wdGlvbnMgJiZcbiAgICAgICAgICAgIHNlcnZpY2Uub3B0aW9uc1snKGdvb2dsZS5hcGkuZGVmYXVsdF9ob3N0KSddKSB7XG4gICAgICAgICAgICBzZXJ2aWNlUGF0aCA9IHNlcnZpY2Uub3B0aW9uc1snKGdvb2dsZS5hcGkuZGVmYXVsdF9ob3N0KSddO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VydmljZVBhdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRldGVybWluZSBzZXJ2aWNlIEFQSSBwYXRoIGZvciBzZXJ2aWNlICR7c2VydmljZS5uYW1lfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VydmljZVBvcnQ7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gc2VydmljZVBhdGgubWF0Y2goL14oLiopOihcXGQrKSQvKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBzZXJ2aWNlUGF0aCA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgc2VydmljZVBvcnQgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMucG9ydCkge1xuICAgICAgICAgICAgc2VydmljZVBvcnQgPSBvcHRzLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXNlcnZpY2VQb3J0KSB7XG4gICAgICAgICAgICBzZXJ2aWNlUG9ydCA9IDQ0MztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVyID0gZmFsbGJhY2tSZXN0LmVuY29kZVJlcXVlc3Q7XG4gICAgICAgIGNvbnN0IGRlY29kZXIgPSBmYWxsYmFja1Jlc3QuZGVjb2RlUmVzcG9uc2U7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VTdHViID0gKDAsIGZhbGxiYWNrU2VydmljZVN0dWJfMS5nZW5lcmF0ZVNlcnZpY2VTdHViKShtZXRob2RzLCBwcm90b2NvbCwgc2VydmljZVBhdGgsIHNlcnZpY2VQb3J0LCB0aGlzLmF1dGhDbGllbnQsIGVuY29kZXIsIGRlY29kZXIsIHRoaXMubnVtZXJpY0VudW1zKTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2VTdHViO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgJ2J5dGVsZW5ndGgnIGZ1bmN0aW9uIGZvciBhIGdpdmVuIHByb3RvIG1lc3NhZ2UgY2xhc3MuXG4gICAgICpcbiAgICAgKiBTZWUge0BsaW5rIEJ1bmRsZURlc2NyaXB0b3J9IGFib3V0IHRoZSBtZWFuaW5nIG9mIHRoZSByZXR1cm4gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXNzYWdlIC0gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IGlzIGdlbmVyYXRlZCBieVxuICAgICAqICAgcHJvdG9idWYuanMuIEFzc3VtZXMgJ2VuY29kZXInIGZpZWxkIGluIHRoZSBtZXNzYWdlLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKE9iamVjdCk6bnVtYmVyfSAtIGEgZnVuY3Rpb24gdG8gY29tcHV0ZSB0aGUgYnl0ZSBsZW5ndGhcbiAgICAgKiAgIGZvciBhbiBvYmplY3QuXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUJ5dGVMZW5ndGhGdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBnYXguY3JlYXRlQnl0ZUxlbmd0aEZ1bmN0aW9uKG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuR3JwY0NsaWVudCA9IEdycGNDbGllbnQ7XG5HcnBjQ2xpZW50LnByb3RvQ2FjaGUgPSBuZXcgTWFwKCk7XG4vKipcbiAqIGdSUEMtZmFsbGJhY2sgdmVyc2lvbiBvZiBscm9cbiAqXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMuYXV0aCAtIEFuIGluc3RhbmNlIG9mIGdvb2dsZS1hdXRoLWxpYnJhcnkuXG4gKiBAcmV0dXJuIHtPYmplY3R9IEEgT3BlcmF0aW9uc0NsaWVudEJ1aWxkZXIgdGhhdCB3aWxsIHJldHVybiBhIE9wZXJhdGlvbnNDbGllbnRcbiAqL1xuZnVuY3Rpb24gbHJvKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHNjb3BlczogW10gfSwgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMucHJvdG9Kc29uKSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHsgZmFsbGJhY2s6IHRydWUgfSk7XG4gICAgfVxuICAgIGNvbnN0IGdheEdycGMgPSBuZXcgR3JwY0NsaWVudChvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IG9wZXJhdGlvbnNDbGllbnRfMS5PcGVyYXRpb25zQ2xpZW50QnVpbGRlcihnYXhHcnBjLCBvcHRpb25zLnByb3RvSnNvbik7XG59XG4vKipcbiAqIGdSUEMtZmFsbGJhY2sgdmVyc2lvbiBvZiBjcmVhdGVBcGlDYWxsXG4gKlxuICogQ29udmVydHMgYW4gcnBjIGNhbGwgaW50byBhbiBBUEkgY2FsbCBnb3Zlcm5lZCBieSB0aGUgc2V0dGluZ3MuXG4gKlxuICogSW4gdHlwaWNhbCB1c2FnZSwgYGZ1bmNgIHdpbGwgYmUgYSBwcm9taXNlIHRvIGEgY2FsbGFibGUgdXNlZCB0byBtYWtlIGFuIHJwY1xuICogcmVxdWVzdC4gVGhpcyB3aWxsIG1vc3RseSBsaWtlbHkgYmUgYSBib3VuZCBtZXRob2QgZnJvbSBhIHJlcXVlc3Qgc3R1YiB1c2VkXG4gKiB0byBtYWtlIGFuIHJwYyBjYWxsLiBJdCBpcyBub3QgYSBkaXJlY3QgZnVuY3Rpb24gYnV0IGEgUHJvbWlzZSBpbnN0YW5jZSxcbiAqIGJlY2F1c2Ugb2YgaXRzIGFzeW5jaHJvbmlzbSAodHlwaWNhbGx5LCBvYnRhaW5pbmcgdGhlIGF1dGggaW5mb3JtYXRpb24pLlxuICpcbiAqIFRoZSByZXN1bHQgaXMgYSBmdW5jdGlvbiB3aGljaCBtYW5hZ2VzIHRoZSBBUEkgY2FsbCB3aXRoIHRoZSBnaXZlbiBzZXR0aW5nc1xuICogYW5kIHRoZSBvcHRpb25zIG9uIHRoZSBpbnZvY2F0aW9uLlxuICpcbiAqIFRocm93cyBleGNlcHRpb24gb24gdW5zdXBwb3J0ZWQgc3RyZWFtaW5nIGNhbGxzXG4gKlxuICogQHBhcmFtIHtQcm9taXNlPEdSUENDYWxsPnxHUlBDQ2FsbH0gZnVuYyAtIGlzIGVpdGhlciBhIHByb21pc2UgdG8gYmUgdXNlZCB0byBtYWtlXG4gKiAgIGEgYmFyZSBSUEMgY2FsbCwgb3IganVzdCBhIGJhcmUgUlBDIGNhbGwuXG4gKiBAcGFyYW0ge0NhbGxTZXR0aW5nc30gc2V0dGluZ3MgLSBwcm92aWRlcyB0aGUgc2V0dGluZ3MgZm9yIHRoaXMgY2FsbFxuICogQHBhcmFtIHtEZXNjcmlwdG9yfSBkZXNjcmlwdG9yIC0gb3B0aW9uYWxseSBzcGVjaWZ5IHRoZSBkZXNjcmlwdG9yIGZvclxuICogICB0aGUgbWV0aG9kIGNhbGwuXG4gKiBAcmV0dXJuIHtHYXhDYWxsfSBmdW5jIC0gYSBib3VuZCBtZXRob2Qgb24gYSByZXF1ZXN0IHN0dWIgdXNlZFxuICogICB0byBtYWtlIGFuIHJwYyBjYWxsLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBcGlDYWxsKGZ1bmMsIHNldHRpbmdzLCBkZXNjcmlwdG9yLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbl9mYWxsYmFjayAvLyB1bnVzZWQ7IGZvciBjb21wYXRpYmlsaXR5IG9ubHlcbikge1xuICAgIGlmIChkZXNjcmlwdG9yICYmXG4gICAgICAgICdzdHJlYW1pbmcnIGluIGRlc2NyaXB0b3IgJiZcbiAgICAgICAgZGVzY3JpcHRvci50eXBlICE9PSBzdHJlYW1pbmdfMS5TdHJlYW1UeXBlLlNFUlZFUl9TVFJFQU1JTkcpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFJFU1QgdHJhbnNwb3J0IGN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IGNsaWVudC1zdHJlYW1pbmcgb3IgYmlkaS1zdHJlYW0gY2FsbHMuJyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChkZXNjcmlwdG9yICYmICdzdHJlYW1pbmcnIGluIGRlc2NyaXB0b3IgJiYgISgwLCBmZWF0dXJlRGV0ZWN0aW9uXzEuaXNOb2RlSlMpKCkpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2VydmVyIHN0cmVhbWluZyBvdmVyIHRoZSBSRVNUIHRyYW5zcG9ydCBpcyBvbmx5IHN1cHBvcnRlZCBpbiBOb2RlLmpzLicpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gKDAsIGNyZWF0ZUFwaUNhbGxfMS5jcmVhdGVBcGlDYWxsKShmdW5jLCBzZXR0aW5ncywgZGVzY3JpcHRvcik7XG59XG5leHBvcnRzLnByb3RvYnVmTWluaW1hbCA9IHJlcXVpcmUoXCJwcm90b2J1ZmpzL21pbmltYWxcIik7XG52YXIgd2FybmluZ3NfMSA9IHJlcXVpcmUoXCIuL3dhcm5pbmdzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2FyblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2FybmluZ3NfMS53YXJuOyB9IH0pO1xudmFyIGxvbmdydW5uaW5nXzEgPSByZXF1aXJlKFwiLi9sb25nUnVubmluZ0NhbGxzL2xvbmdydW5uaW5nXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT3BlcmF0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb25ncnVubmluZ18xLk9wZXJhdGlvbjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm9wZXJhdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9uZ3J1bm5pbmdfMS5vcGVyYXRpb247IH0gfSk7XG52YXIgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuL2dvb2dsZUVycm9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR29vZ2xlRXJyb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3I7IH0gfSk7XG4vLyBEaWZmZXJlbnQgZW52aXJvbm1lbnRzIG9yIGJ1bmRsZXJzIG1heSBvciBtYXkgbm90IHJlc3BlY3QgXCJicm93c2VyXCIgZmllbGRcbi8vIGluIHBhY2thZ2UuanNvbiAoZS5nLiBFbGVjdHJvbiBkb2VzIG5vdCByZXNwZWN0IGl0LCBidXQgaWYgeW91IHJ1biB0aGUgY29kZVxuLy8gdGhyb3VnaCB3ZWJwYWNrIGZpcnN0LCBpdCB3aWxsIGZvbGxvdyB0aGUgXCJicm93c2VyXCIgZmllbGQpLlxuLy8gVG8gbWFrZSBpdCBzYWZlciBhbmQgbW9yZSBjb21wYXRpYmxlLCBsZXQncyBtYWtlIHN1cmUgdGhhdCBpZiB5b3UgZG9cbi8vIGNvbnN0IGdheCA9IHJlcXVpcmUoXCJnb29nbGUtZ2F4XCIpO1xuLy8geW91IGNhbiBhbHdheXMgYXNrIGZvciBnYXguZmFsbGJhY2ssIHJlZ2FyZGxlc3Mgb2YgXCJicm93c2VyXCIgZmllbGQgYmVpbmdcbi8vIHVuZGVyc3Rvb2Qgb3Igbm90LlxuY29uc3QgZmFsbGJhY2sgPSBtb2R1bGUuZXhwb3J0cztcbmV4cG9ydHMuZmFsbGJhY2sgPSBmYWxsYmFjaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZhbGxiYWNrLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/fallback.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/fallbackRest.js":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/src/fallbackRest.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.encodeRequest = encodeRequest;\nexports.decodeResponse = decodeResponse;\n// proto-over-HTTP request encoding and decoding\nconst serializer = __webpack_require__(/*! proto3-json-serializer */ \"(action-browser)/./node_modules/proto3-json-serializer/build/src/index.js\");\nconst fallback_1 = __webpack_require__(/*! ./fallback */ \"(action-browser)/./node_modules/google-gax/build/src/fallback.js\");\nconst googleError_1 = __webpack_require__(/*! ./googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nconst transcoding_1 = __webpack_require__(/*! ./transcoding */ \"(action-browser)/./node_modules/google-gax/build/src/transcoding.js\");\nfunction encodeRequest(rpc, protocol, servicePath, servicePort, request, numericEnums) {\n    const headers = {\n        'Content-Type': 'application/json',\n    };\n    const message = rpc.resolvedRequestType.fromObject(request);\n    const json = serializer.toProto3JSON(message, {\n        numericEnums,\n    });\n    if (!json) {\n        throw new Error(`Cannot send null request to RPC ${rpc.name}.`);\n    }\n    if (typeof json !== 'object' || Array.isArray(json)) {\n        throw new Error(`Request to RPC ${rpc.name} must be an object.`);\n    }\n    const transcoded = (0, transcoding_1.transcode)(json, rpc.parsedOptions);\n    if (!transcoded) {\n        throw new Error(`Cannot build HTTP request for ${JSON.stringify(json)}, method: ${rpc.name}`);\n    }\n    // If numeric enums feature is requested, add extra parameter to the query string\n    if (numericEnums) {\n        transcoded.queryString =\n            (transcoded.queryString ? `${transcoded.queryString}&` : '') +\n                '$alt=json%3Benum-encoding=int';\n    }\n    // Converts httpMethod to method that permitted in standard Fetch API spec\n    // https://fetch.spec.whatwg.org/#methods\n    const method = transcoded.httpMethod.toUpperCase();\n    const body = JSON.stringify(transcoded.data);\n    const url = `${protocol}://${servicePath}:${servicePort}/${transcoded.url.replace(/^\\//, '')}?${transcoded.queryString}`;\n    return {\n        method,\n        url,\n        headers,\n        body,\n    };\n}\nfunction decodeResponse(rpc, ok, response) {\n    // eslint-disable-next-line n/no-unsupported-features/node-builtins\n    const decodedString = new TextDecoder().decode(response);\n    if (!decodedString) {\n        throw new Error(`Received null response from RPC ${rpc.name}`);\n    }\n    const json = JSON.parse(decodedString);\n    if (!ok) {\n        const error = googleError_1.GoogleError.parseHttpError(json);\n        throw error;\n    }\n    const message = serializer.fromProto3JSON(rpc.resolvedResponseType, json);\n    if (!message) {\n        throw new Error(`Received null or malformed response from JSON serializer from RPC ${rpc.name}`);\n    }\n    return rpc.resolvedResponseType.toObject(message, fallback_1.defaultToObjectOptions);\n}\n//# sourceMappingURL=fallbackRest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9mYWxsYmFja1Jlc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLHNCQUFzQjtBQUN0QjtBQUNBLG1CQUFtQixtQkFBTyxDQUFDLHlHQUF3QjtBQUNuRCxtQkFBbUIsbUJBQU8sQ0FBQyxvRkFBWTtBQUN2QyxzQkFBc0IsbUJBQU8sQ0FBQywwRkFBZTtBQUM3QyxzQkFBc0IsbUJBQU8sQ0FBQywwRkFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDJEQUEyRCxTQUFTO0FBQ3BFO0FBQ0E7QUFDQSwwQ0FBMEMsVUFBVTtBQUNwRDtBQUNBO0FBQ0E7QUFDQSx5REFBeUQscUJBQXFCLFlBQVksU0FBUztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1QkFBdUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVMsS0FBSyxZQUFZLEdBQUcsWUFBWSxHQUFHLGtDQUFrQyxHQUFHLHVCQUF1QjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELFNBQVM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixTQUFTO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZmFsbGJhY2tSZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbmNvZGVSZXF1ZXN0ID0gZW5jb2RlUmVxdWVzdDtcbmV4cG9ydHMuZGVjb2RlUmVzcG9uc2UgPSBkZWNvZGVSZXNwb25zZTtcbi8vIHByb3RvLW92ZXItSFRUUCByZXF1ZXN0IGVuY29kaW5nIGFuZCBkZWNvZGluZ1xuY29uc3Qgc2VyaWFsaXplciA9IHJlcXVpcmUoXCJwcm90bzMtanNvbi1zZXJpYWxpemVyXCIpO1xuY29uc3QgZmFsbGJhY2tfMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrXCIpO1xuY29uc3QgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuL2dvb2dsZUVycm9yXCIpO1xuY29uc3QgdHJhbnNjb2RpbmdfMSA9IHJlcXVpcmUoXCIuL3RyYW5zY29kaW5nXCIpO1xuZnVuY3Rpb24gZW5jb2RlUmVxdWVzdChycGMsIHByb3RvY29sLCBzZXJ2aWNlUGF0aCwgc2VydmljZVBvcnQsIHJlcXVlc3QsIG51bWVyaWNFbnVtcykge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfTtcbiAgICBjb25zdCBtZXNzYWdlID0gcnBjLnJlc29sdmVkUmVxdWVzdFR5cGUuZnJvbU9iamVjdChyZXF1ZXN0KTtcbiAgICBjb25zdCBqc29uID0gc2VyaWFsaXplci50b1Byb3RvM0pTT04obWVzc2FnZSwge1xuICAgICAgICBudW1lcmljRW51bXMsXG4gICAgfSk7XG4gICAgaWYgKCFqc29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNlbmQgbnVsbCByZXF1ZXN0IHRvIFJQQyAke3JwYy5uYW1lfS5gKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBqc29uICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWVzdCB0byBSUEMgJHtycGMubmFtZX0gbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zY29kZWQgPSAoMCwgdHJhbnNjb2RpbmdfMS50cmFuc2NvZGUpKGpzb24sIHJwYy5wYXJzZWRPcHRpb25zKTtcbiAgICBpZiAoIXRyYW5zY29kZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYnVpbGQgSFRUUCByZXF1ZXN0IGZvciAke0pTT04uc3RyaW5naWZ5KGpzb24pfSwgbWV0aG9kOiAke3JwYy5uYW1lfWApO1xuICAgIH1cbiAgICAvLyBJZiBudW1lcmljIGVudW1zIGZlYXR1cmUgaXMgcmVxdWVzdGVkLCBhZGQgZXh0cmEgcGFyYW1ldGVyIHRvIHRoZSBxdWVyeSBzdHJpbmdcbiAgICBpZiAobnVtZXJpY0VudW1zKSB7XG4gICAgICAgIHRyYW5zY29kZWQucXVlcnlTdHJpbmcgPVxuICAgICAgICAgICAgKHRyYW5zY29kZWQucXVlcnlTdHJpbmcgPyBgJHt0cmFuc2NvZGVkLnF1ZXJ5U3RyaW5nfSZgIDogJycpICtcbiAgICAgICAgICAgICAgICAnJGFsdD1qc29uJTNCZW51bS1lbmNvZGluZz1pbnQnO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0cyBodHRwTWV0aG9kIHRvIG1ldGhvZCB0aGF0IHBlcm1pdHRlZCBpbiBzdGFuZGFyZCBGZXRjaCBBUEkgc3BlY1xuICAgIC8vIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNtZXRob2RzXG4gICAgY29uc3QgbWV0aG9kID0gdHJhbnNjb2RlZC5odHRwTWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRyYW5zY29kZWQuZGF0YSk7XG4gICAgY29uc3QgdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtzZXJ2aWNlUGF0aH06JHtzZXJ2aWNlUG9ydH0vJHt0cmFuc2NvZGVkLnVybC5yZXBsYWNlKC9eXFwvLywgJycpfT8ke3RyYW5zY29kZWQucXVlcnlTdHJpbmd9YDtcbiAgICByZXR1cm4ge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIHVybCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZGVjb2RlUmVzcG9uc2UocnBjLCBvaywgcmVzcG9uc2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9ub2RlLWJ1aWx0aW5zXG4gICAgY29uc3QgZGVjb2RlZFN0cmluZyA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShyZXNwb25zZSk7XG4gICAgaWYgKCFkZWNvZGVkU3RyaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVjZWl2ZWQgbnVsbCByZXNwb25zZSBmcm9tIFJQQyAke3JwYy5uYW1lfWApO1xuICAgIH1cbiAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShkZWNvZGVkU3RyaW5nKTtcbiAgICBpZiAoIW9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvci5wYXJzZUh0dHBFcnJvcihqc29uKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBzZXJpYWxpemVyLmZyb21Qcm90bzNKU09OKHJwYy5yZXNvbHZlZFJlc3BvbnNlVHlwZSwganNvbik7XG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVjZWl2ZWQgbnVsbCBvciBtYWxmb3JtZWQgcmVzcG9uc2UgZnJvbSBKU09OIHNlcmlhbGl6ZXIgZnJvbSBSUEMgJHtycGMubmFtZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJwYy5yZXNvbHZlZFJlc3BvbnNlVHlwZS50b09iamVjdChtZXNzYWdlLCBmYWxsYmFja18xLmRlZmF1bHRUb09iamVjdE9wdGlvbnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFsbGJhY2tSZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/fallbackRest.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/fallbackServiceStub.js":
/*!******************************************************************!*\
  !*** ./node_modules/google-gax/build/src/fallbackServiceStub.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.generateServiceStub = generateServiceStub;\n/* global window */\n/* global AbortController */\nconst node_fetch_1 = __webpack_require__(/*! node-fetch */ \"(action-browser)/./node_modules/google-gax/node_modules/node-fetch/lib/index.mjs\");\nconst abort_controller_1 = __webpack_require__(/*! abort-controller */ \"(action-browser)/./node_modules/abort-controller/dist/abort-controller.js\");\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(action-browser)/./node_modules/google-gax/build/src/featureDetection.js\");\nconst streamArrayParser_1 = __webpack_require__(/*! ./streamArrayParser */ \"(action-browser)/./node_modules/google-gax/build/src/streamArrayParser.js\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nfunction generateServiceStub(rpcs, protocol, servicePath, servicePort, authClient, requestEncoder, responseDecoder, numericEnums) {\n    const fetch = (0, featureDetection_1.hasWindowFetch)()\n        ? window.fetch\n        : node_fetch_1.default;\n    const serviceStub = {\n        // close method should close all cancel controllers. If this feature request in the future, we can have a cancelControllerFactory that tracks created cancel controllers, and abort them all in close method.\n        close: () => {\n            return { cancel: () => { } };\n        },\n    };\n    for (const [rpcName, rpc] of Object.entries(rpcs)) {\n        serviceStub[rpcName] = (request, options, _metadata, callback) => {\n            options !== null && options !== void 0 ? options : (options = {});\n            // We cannot use async-await in this function because we need to return the canceller object as soon as possible.\n            // Using plain old promises instead.\n            let fetchParameters;\n            try {\n                fetchParameters = requestEncoder(rpc, protocol, servicePath, servicePort, request, numericEnums);\n            }\n            catch (err) {\n                // we could not encode parameters; pass error to the callback\n                // and return a no-op canceler object.\n                if (callback) {\n                    callback(err);\n                }\n                return {\n                    cancel() { },\n                };\n            }\n            const cancelController = (0, featureDetection_1.hasAbortController)()\n                ? new AbortController()\n                : new abort_controller_1.AbortController();\n            const cancelSignal = cancelController.signal;\n            let cancelRequested = false;\n            const url = fetchParameters.url;\n            const headers = fetchParameters.headers;\n            for (const key of Object.keys(options)) {\n                headers[key] = options[key][0];\n            }\n            const streamArrayParser = new streamArrayParser_1.StreamArrayParser(rpc);\n            authClient\n                .getRequestHeaders()\n                .then(authHeader => {\n                const fetchRequest = {\n                    headers: {\n                        ...authHeader,\n                        ...headers,\n                    },\n                    body: fetchParameters.body,\n                    method: fetchParameters.method,\n                    signal: cancelSignal,\n                };\n                if (fetchParameters.method === 'GET' ||\n                    fetchParameters.method === 'DELETE') {\n                    delete fetchRequest['body'];\n                }\n                return fetch(url, fetchRequest);\n            })\n                .then((response) => {\n                if (response.ok && rpc.responseStream) {\n                    (0, stream_1.pipeline)(response.body, streamArrayParser, (err) => {\n                        if (err &&\n                            (!cancelRequested ||\n                                (err instanceof Error && err.name !== 'AbortError'))) {\n                            if (callback) {\n                                callback(err);\n                            }\n                            streamArrayParser.emit('error', err);\n                        }\n                    });\n                    return;\n                }\n                else {\n                    return Promise.all([\n                        Promise.resolve(response.ok),\n                        response.arrayBuffer(),\n                    ])\n                        .then(([ok, buffer]) => {\n                        const response = responseDecoder(rpc, ok, buffer);\n                        callback(null, response);\n                    })\n                        .catch((err) => {\n                        if (!cancelRequested || err.name !== 'AbortError') {\n                            if (rpc.responseStream) {\n                                if (callback) {\n                                    callback(err);\n                                }\n                                streamArrayParser.emit('error', err);\n                            }\n                            else if (callback) {\n                                callback(err);\n                            }\n                            else {\n                                throw err;\n                            }\n                        }\n                    });\n                }\n            })\n                .catch((err) => {\n                if (rpc.responseStream) {\n                    if (callback) {\n                        callback(err);\n                    }\n                    streamArrayParser.emit('error', err);\n                }\n                else if (callback) {\n                    callback(err);\n                }\n                else {\n                    throw err;\n                }\n            });\n            if (rpc.responseStream) {\n                return streamArrayParser;\n            }\n            return {\n                cancel: () => {\n                    cancelRequested = true;\n                    cancelController.abort();\n                },\n            };\n        };\n    }\n    return serviceStub;\n}\n//# sourceMappingURL=fallbackServiceStub.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9mYWxsYmFja1NlcnZpY2VTdHViLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EscUJBQXFCLG1CQUFPLENBQUMsb0dBQVk7QUFDekMsMkJBQTJCLG1CQUFPLENBQUMsbUdBQWtCO0FBQ3JELDJCQUEyQixtQkFBTyxDQUFDLG9HQUFvQjtBQUN2RCw0QkFBNEIsbUJBQU8sQ0FBQyxzR0FBcUI7QUFDekQsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2ZhbGxiYWNrU2VydmljZVN0dWIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdlbmVyYXRlU2VydmljZVN0dWIgPSBnZW5lcmF0ZVNlcnZpY2VTdHViO1xuLyogZ2xvYmFsIHdpbmRvdyAqL1xuLyogZ2xvYmFsIEFib3J0Q29udHJvbGxlciAqL1xuY29uc3Qgbm9kZV9mZXRjaF8xID0gcmVxdWlyZShcIm5vZGUtZmV0Y2hcIik7XG5jb25zdCBhYm9ydF9jb250cm9sbGVyXzEgPSByZXF1aXJlKFwiYWJvcnQtY29udHJvbGxlclwiKTtcbmNvbnN0IGZlYXR1cmVEZXRlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2ZlYXR1cmVEZXRlY3Rpb25cIik7XG5jb25zdCBzdHJlYW1BcnJheVBhcnNlcl8xID0gcmVxdWlyZShcIi4vc3RyZWFtQXJyYXlQYXJzZXJcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5mdW5jdGlvbiBnZW5lcmF0ZVNlcnZpY2VTdHViKHJwY3MsIHByb3RvY29sLCBzZXJ2aWNlUGF0aCwgc2VydmljZVBvcnQsIGF1dGhDbGllbnQsIHJlcXVlc3RFbmNvZGVyLCByZXNwb25zZURlY29kZXIsIG51bWVyaWNFbnVtcykge1xuICAgIGNvbnN0IGZldGNoID0gKDAsIGZlYXR1cmVEZXRlY3Rpb25fMS5oYXNXaW5kb3dGZXRjaCkoKVxuICAgICAgICA/IHdpbmRvdy5mZXRjaFxuICAgICAgICA6IG5vZGVfZmV0Y2hfMS5kZWZhdWx0O1xuICAgIGNvbnN0IHNlcnZpY2VTdHViID0ge1xuICAgICAgICAvLyBjbG9zZSBtZXRob2Qgc2hvdWxkIGNsb3NlIGFsbCBjYW5jZWwgY29udHJvbGxlcnMuIElmIHRoaXMgZmVhdHVyZSByZXF1ZXN0IGluIHRoZSBmdXR1cmUsIHdlIGNhbiBoYXZlIGEgY2FuY2VsQ29udHJvbGxlckZhY3RvcnkgdGhhdCB0cmFja3MgY3JlYXRlZCBjYW5jZWwgY29udHJvbGxlcnMsIGFuZCBhYm9ydCB0aGVtIGFsbCBpbiBjbG9zZSBtZXRob2QuXG4gICAgICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBjYW5jZWw6ICgpID0+IHsgfSB9O1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZm9yIChjb25zdCBbcnBjTmFtZSwgcnBjXSBvZiBPYmplY3QuZW50cmllcyhycGNzKSkge1xuICAgICAgICBzZXJ2aWNlU3R1YltycGNOYW1lXSA9IChyZXF1ZXN0LCBvcHRpb25zLCBfbWV0YWRhdGEsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiAob3B0aW9ucyA9IHt9KTtcbiAgICAgICAgICAgIC8vIFdlIGNhbm5vdCB1c2UgYXN5bmMtYXdhaXQgaW4gdGhpcyBmdW5jdGlvbiBiZWNhdXNlIHdlIG5lZWQgdG8gcmV0dXJuIHRoZSBjYW5jZWxsZXIgb2JqZWN0IGFzIHNvb24gYXMgcG9zc2libGUuXG4gICAgICAgICAgICAvLyBVc2luZyBwbGFpbiBvbGQgcHJvbWlzZXMgaW5zdGVhZC5cbiAgICAgICAgICAgIGxldCBmZXRjaFBhcmFtZXRlcnM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZldGNoUGFyYW1ldGVycyA9IHJlcXVlc3RFbmNvZGVyKHJwYywgcHJvdG9jb2wsIHNlcnZpY2VQYXRoLCBzZXJ2aWNlUG9ydCwgcmVxdWVzdCwgbnVtZXJpY0VudW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBjb3VsZCBub3QgZW5jb2RlIHBhcmFtZXRlcnM7IHBhc3MgZXJyb3IgdG8gdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgLy8gYW5kIHJldHVybiBhIG5vLW9wIGNhbmNlbGVyIG9iamVjdC5cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsKCkgeyB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxDb250cm9sbGVyID0gKDAsIGZlYXR1cmVEZXRlY3Rpb25fMS5oYXNBYm9ydENvbnRyb2xsZXIpKClcbiAgICAgICAgICAgICAgICA/IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAgICAgICAgICAgICAgIDogbmV3IGFib3J0X2NvbnRyb2xsZXJfMS5BYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbFNpZ25hbCA9IGNhbmNlbENvbnRyb2xsZXIuc2lnbmFsO1xuICAgICAgICAgICAgbGV0IGNhbmNlbFJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gZmV0Y2hQYXJhbWV0ZXJzLnVybDtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmZXRjaFBhcmFtZXRlcnMuaGVhZGVycztcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1trZXldID0gb3B0aW9uc1trZXldWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtQXJyYXlQYXJzZXIgPSBuZXcgc3RyZWFtQXJyYXlQYXJzZXJfMS5TdHJlYW1BcnJheVBhcnNlcihycGMpO1xuICAgICAgICAgICAgYXV0aENsaWVudFxuICAgICAgICAgICAgICAgIC5nZXRSZXF1ZXN0SGVhZGVycygpXG4gICAgICAgICAgICAgICAgLnRoZW4oYXV0aEhlYWRlciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5hdXRoSGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogZmV0Y2hQYXJhbWV0ZXJzLmJvZHksXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogZmV0Y2hQYXJhbWV0ZXJzLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBjYW5jZWxTaWduYWwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoZmV0Y2hQYXJhbWV0ZXJzLm1ldGhvZCA9PT0gJ0dFVCcgfHxcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hQYXJhbWV0ZXJzLm1ldGhvZCA9PT0gJ0RFTEVURScpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZldGNoUmVxdWVzdFsnYm9keSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsLCBmZXRjaFJlcXVlc3QpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2sgJiYgcnBjLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBzdHJlYW1fMS5waXBlbGluZSkocmVzcG9uc2UuYm9keSwgc3RyZWFtQXJyYXlQYXJzZXIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWNhbmNlbFJlcXVlc3RlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLm5hbWUgIT09ICdBYm9ydEVycm9yJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUFycmF5UGFyc2VyLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUocmVzcG9uc2Uub2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChbb2ssIGJ1ZmZlcl0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzcG9uc2VEZWNvZGVyKHJwYywgb2ssIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5jZWxSZXF1ZXN0ZWQgfHwgZXJyLm5hbWUgIT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChycGMucmVzcG9uc2VTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUFycmF5UGFyc2VyLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocnBjLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1BcnJheVBhcnNlci5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocnBjLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmVhbUFycmF5UGFyc2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQ29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc2VydmljZVN0dWI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mYWxsYmFja1NlcnZpY2VTdHViLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/fallbackServiceStub.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/featureDetection.js":
/*!***************************************************************!*\
  !*** ./node_modules/google-gax/build/src/featureDetection.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.hasWindowFetch = hasWindowFetch;\nexports.isNodeJS = isNodeJS;\nexports.hasAbortController = hasAbortController;\n/* global window */\nconst features = {\n    windowFetch: typeof window !== 'undefined' &&\n        (window === null || window === void 0 ? void 0 : window.fetch) &&\n        typeof (window === null || window === void 0 ? void 0 : window.fetch) === 'function',\n    // eslint-disable-next-line n/no-unsupported-features/node-builtins\n    textEncoder: typeof TextEncoder !== 'undefined',\n    // eslint-disable-next-line n/no-unsupported-features/node-builtins\n    textDecoder: typeof TextDecoder !== 'undefined',\n    nodeJS: typeof process !== 'undefined' && ((_a = process === null || process === void 0 ? void 0 : process.versions) === null || _a === void 0 ? void 0 : _a.node),\n    abortController: typeof AbortController !== 'undefined',\n};\nfunction hasWindowFetch() {\n    return features.windowFetch;\n}\nfunction isNodeJS() {\n    return features.nodeJS;\n}\nfunction hasAbortController() {\n    return features.abortController;\n}\n//# sourceMappingURL=featureDetection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9mZWF0dXJlRGV0ZWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLGdCQUFnQjtBQUNoQiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9mZWF0dXJlRGV0ZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5oYXNXaW5kb3dGZXRjaCA9IGhhc1dpbmRvd0ZldGNoO1xuZXhwb3J0cy5pc05vZGVKUyA9IGlzTm9kZUpTO1xuZXhwb3J0cy5oYXNBYm9ydENvbnRyb2xsZXIgPSBoYXNBYm9ydENvbnRyb2xsZXI7XG4vKiBnbG9iYWwgd2luZG93ICovXG5jb25zdCBmZWF0dXJlcyA9IHtcbiAgICB3aW5kb3dGZXRjaDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgKHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5mZXRjaCkgJiZcbiAgICAgICAgdHlwZW9mICh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuZmV0Y2gpID09PSAnZnVuY3Rpb24nLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuL25vLXVuc3VwcG9ydGVkLWZlYXR1cmVzL25vZGUtYnVpbHRpbnNcbiAgICB0ZXh0RW5jb2RlcjogdHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJyxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9ub2RlLWJ1aWx0aW5zXG4gICAgdGV4dERlY29kZXI6IHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgbm9kZUpTOiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKChfYSA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy52ZXJzaW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5vZGUpLFxuICAgIGFib3J0Q29udHJvbGxlcjogdHlwZW9mIEFib3J0Q29udHJvbGxlciAhPT0gJ3VuZGVmaW5lZCcsXG59O1xuZnVuY3Rpb24gaGFzV2luZG93RmV0Y2goKSB7XG4gICAgcmV0dXJuIGZlYXR1cmVzLndpbmRvd0ZldGNoO1xufVxuZnVuY3Rpb24gaXNOb2RlSlMoKSB7XG4gICAgcmV0dXJuIGZlYXR1cmVzLm5vZGVKUztcbn1cbmZ1bmN0aW9uIGhhc0Fib3J0Q29udHJvbGxlcigpIHtcbiAgICByZXR1cm4gZmVhdHVyZXMuYWJvcnRDb250cm9sbGVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmVhdHVyZURldGVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/featureDetection.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/gax.js":
/*!**************************************************!*\
  !*** ./node_modules/google-gax/build/src/gax.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CallSettings = exports.RetryOptions = void 0;\nexports.convertRetryOptions = convertRetryOptions;\nexports.createRetryOptions = createRetryOptions;\nexports.createBackoffSettings = createBackoffSettings;\nexports.createDefaultBackoffSettings = createDefaultBackoffSettings;\nexports.createMaxRetriesBackoffSettings = createMaxRetriesBackoffSettings;\nexports.createBundleOptions = createBundleOptions;\nexports.constructSettings = constructSettings;\nexports.createByteLengthFunction = createByteLengthFunction;\nconst warnings_1 = __webpack_require__(/*! ./warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(action-browser)/./node_modules/google-gax/build/src/util.js\");\nconst status_1 = __webpack_require__(/*! ./status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\n/**\n * Encapsulates the overridable settings for a particular API call.\n *\n * ``CallOptions`` is an optional arg for all GAX API calls.  It is used to\n * configure the settings of a specific API call.\n *\n * When provided, its values override the GAX service defaults for that\n * particular call.\n *\n * Typically the API clients will accept this as the second to the last\n * argument. See the examples below.\n * @typedef {Object} CallOptions\n * @property {number=} timeout - The client-side timeout for API calls.\n * @property {RetryOptions=} retry - determines whether and how to retry\n *   on transient errors. When set to null, the call will not retry.\n * @property {boolean=} autoPaginate - If set to false and the call is\n *   configured for paged iteration, page unrolling is not performed, instead\n *   the callback will be called with the response object.\n * @property {Object=} pageToken - If set and the call is configured for\n *   paged iteration, paged iteration is not performed and requested with this\n *   pageToken.\n * @property {number} maxResults - If set and the call is configured for\n *   paged iteration, the call will stop when the number of response elements\n *   reaches to the specified size. By default, it will unroll the page to\n *   the end of the list.\n * @property {boolean=} isBundling - If set to false and the call is configured\n *   for bundling, bundling is not performed.\n * @property {BackoffSettings=} longrunning - BackoffSettings used for polling.\n * @example\n * // suppress bundling for bundled method.\n * api.bundlingMethod(\n *     param, {optParam: aValue, isBundling: false}, function(err, response) {\n *   // handle response.\n * });\n * @example\n * // suppress streaming for page-streaming method.\n * api.pageStreamingMethod(\n *     param, {optParam: aValue, autoPaginate: false}, function(err, page) {\n *   // not returning a stream, but callback is called with the paged response.\n * });\n */\n/**\n * Per-call configurable settings for retrying upon transient failure.\n * @implements {RetryOptionsType}\n * @typedef {Object} RetryOptions\n * @property {number[]} retryCodes\n * @property {BackoffSettings} backoffSettings\n * @property {(function)} shouldRetryFn\n * @property {(function)} getResumptionRequestFn\n */\nclass RetryOptions {\n    constructor(retryCodes, backoffSettings, shouldRetryFn, getResumptionRequestFn) {\n        this.retryCodes = retryCodes;\n        this.backoffSettings = backoffSettings;\n        this.shouldRetryFn = shouldRetryFn;\n        this.getResumptionRequestFn = getResumptionRequestFn;\n    }\n}\nexports.RetryOptions = RetryOptions;\nclass CallSettings {\n    /**\n     * @param {Object} settings - An object containing parameters of this settings.\n     * @param {number} settings.timeout - The client-side timeout for API calls.\n     *   This parameter is ignored for retrying calls.\n     * @param {RetryOptions} settings.retry - The configuration for retrying upon\n     *   transient error. If set to null, this call will not retry.\n     * @param {boolean} settings.autoPaginate - If there is no `pageDescriptor`,\n     *   this attrbute has no meaning. Otherwise, determines whether a page\n     * streamed response should make the page structure transparent to the user by\n     *   flattening the repeated field in the returned generator.\n     * @param {number} settings.pageToken - If there is no `pageDescriptor`,\n     *   this attribute has no meaning. Otherwise, determines the page token used\n     * in the page streaming request.\n     * @param {Object} settings.otherArgs - Additional arguments to be passed to\n     *   the API calls.\n     *\n     * @constructor\n     */\n    constructor(settings) {\n        var _a;\n        settings = settings || {};\n        this.timeout = settings.timeout || 30 * 1000;\n        this.retry = settings.retry;\n        this.autoPaginate =\n            'autoPaginate' in settings ? settings.autoPaginate : true;\n        this.maxResults = settings.maxResults;\n        this.otherArgs = settings.otherArgs || {};\n        this.bundleOptions = settings.bundleOptions;\n        this.isBundling = 'isBundling' in settings ? settings.isBundling : true;\n        this.longrunning =\n            'longrunning' in settings ? settings.longrunning : undefined;\n        this.apiName = (_a = settings.apiName) !== null && _a !== void 0 ? _a : undefined;\n        this.retryRequestOptions = settings.retryRequestOptions;\n    }\n    /**\n     * Returns a new CallSettings merged from this and a CallOptions object.\n     *\n     * @param {CallOptions} options - an instance whose values override\n     *   those in this object. If null, ``merge`` returns a copy of this\n     *   object\n     * @return {CallSettings} The merged CallSettings instance.\n     */\n    merge(options) {\n        if (!options) {\n            return new CallSettings(this);\n        }\n        let timeout = this.timeout;\n        let retry = this.retry;\n        let autoPaginate = this.autoPaginate;\n        let maxResults = this.maxResults;\n        let otherArgs = this.otherArgs;\n        let isBundling = this.isBundling;\n        let longrunning = this.longrunning;\n        let apiName = this.apiName;\n        let retryRequestOptions = this.retryRequestOptions;\n        // If the user provides a timeout to the method, that timeout value will be used\n        // to override the backoff settings.\n        if ('timeout' in options) {\n            timeout = options.timeout;\n        }\n        // If a method-specific timeout is set in the service config, and the retry codes for that\n        // method are non-null, then that timeout value will be used to\n        // override backoff settings.\n        if (retry === null || retry === void 0 ? void 0 : retry.retryCodes) {\n            retry.backoffSettings.initialRpcTimeoutMillis = timeout;\n            retry.backoffSettings.maxRpcTimeoutMillis = timeout;\n            retry.backoffSettings.totalTimeoutMillis = timeout;\n        }\n        if ('retry' in options) {\n            retry = mergeRetryOptions(retry || {}, options.retry);\n        }\n        if ('autoPaginate' in options && !options.autoPaginate) {\n            autoPaginate = false;\n        }\n        if ('maxResults' in options) {\n            maxResults = options.maxResults;\n        }\n        if ('otherArgs' in options) {\n            otherArgs = {};\n            for (const key in this.otherArgs) {\n                otherArgs[key] = this.otherArgs[key];\n            }\n            for (const optionsKey in options.otherArgs) {\n                otherArgs[optionsKey] = options.otherArgs[optionsKey];\n            }\n        }\n        if ('isBundling' in options) {\n            isBundling = options.isBundling;\n        }\n        if ('maxRetries' in options && options.maxRetries !== undefined) {\n            retry.backoffSettings.maxRetries = options.maxRetries;\n            delete retry.backoffSettings.totalTimeoutMillis;\n        }\n        if ('longrunning' in options) {\n            longrunning = options.longrunning;\n        }\n        if ('apiName' in options) {\n            apiName = options.apiName;\n        }\n        if ('retryRequestOptions' in options) {\n            retryRequestOptions = options.retryRequestOptions;\n        }\n        return new CallSettings({\n            timeout,\n            retry,\n            bundleOptions: this.bundleOptions,\n            longrunning,\n            autoPaginate,\n            maxResults,\n            otherArgs,\n            isBundling,\n            apiName,\n            retryRequestOptions,\n        });\n    }\n}\nexports.CallSettings = CallSettings;\n/**\n * Validates passed retry options in preparation for eventual parameter deprecation\n * converts retryRequestOptions to retryOptions\n * then sets retryRequestOptions to null\n *\n * @param {CallOptions} options - a list of passed retry option\n * @return {CallOptions} A new CallOptions object.\n *\n */\nfunction convertRetryOptions(options, gaxStreamingRetries) {\n    var _a, _b, _c, _d;\n    // options will be undefined if no CallOptions object is passed at call time\n    if (!options) {\n        return options;\n    }\n    // if a user provided retry AND retryRequestOptions at call time, throw an error\n    // otherwise, convert supported parameters\n    if (!gaxStreamingRetries) {\n        return options;\n    }\n    if (options.retry && options.retryRequestOptions) {\n        throw new Error('Only one of retry or retryRequestOptions may be set');\n    } // handles parameter conversion from retryRequestOptions to retryOptions\n    if (options.retryRequestOptions) {\n        if (options.retryRequestOptions.objectMode !== undefined) {\n            (0, warnings_1.warn)('retry_request_options', 'objectMode override is not supported. It is set to true internally by default in gax.', 'UnsupportedParameterWarning');\n        }\n        if (options.retryRequestOptions.noResponseRetries !== undefined) {\n            (0, warnings_1.warn)('retry_request_options', 'noResponseRetries override is not supported. Please specify retry codes or a function to determine retry eligibility.', 'UnsupportedParameterWarning');\n        }\n        if (options.retryRequestOptions.currentRetryAttempt !== undefined) {\n            (0, warnings_1.warn)('retry_request_options', 'currentRetryAttempt override is not supported. Retry attempts are tracked internally.', 'UnsupportedParameterWarning');\n        }\n        let retryCodes = [status_1.Status.UNAVAILABLE];\n        let shouldRetryFn;\n        if (options.retryRequestOptions.shouldRetryFn) {\n            retryCodes = [];\n            shouldRetryFn = options.retryRequestOptions.shouldRetryFn;\n        }\n        //Backoff settings\n        options.maxRetries =\n            (_b = (_a = options === null || options === void 0 ? void 0 : options.retryRequestOptions) === null || _a === void 0 ? void 0 : _a.retries) !== null && _b !== void 0 ? _b : options.maxRetries;\n        // create a default backoff settings object in case the user didn't provide overrides for everything\n        const backoffSettings = createDefaultBackoffSettings();\n        let maxRetryDelayMillis;\n        let totalTimeoutMillis;\n        // maxRetryDelay - this is in seconds, need to convert to milliseconds\n        if (options.retryRequestOptions.maxRetryDelay !== undefined) {\n            maxRetryDelayMillis = options.retryRequestOptions.maxRetryDelay * 1000;\n        }\n        // retryDelayMultiplier - should be a one to one mapping to retryDelayMultiplier\n        const retryDelayMultiplier = (_d = (_c = options === null || options === void 0 ? void 0 : options.retryRequestOptions) === null || _c === void 0 ? void 0 : _c.retryDelayMultiplier) !== null && _d !== void 0 ? _d : backoffSettings.retryDelayMultiplier;\n        // this is in seconds and needs to be converted to milliseconds and the totalTimeoutMillis parameter\n        if (options.retryRequestOptions.totalTimeout !== undefined) {\n            totalTimeoutMillis = options.retryRequestOptions.totalTimeout * 1000;\n        }\n        else {\n            if (options.maxRetries === undefined) {\n                totalTimeoutMillis = 30000;\n                (0, warnings_1.warn)('retry_request_options_no_max_retries_timeout', 'Neither maxRetries nor totalTimeout were passed. Defaulting to totalTimeout of 30000ms.', 'MissingParameterWarning');\n            }\n        }\n        // for the variables the user wants to override, override in the backoff settings object we made\n        backoffSettings.maxRetryDelayMillis =\n            maxRetryDelayMillis !== null && maxRetryDelayMillis !== void 0 ? maxRetryDelayMillis : backoffSettings.maxRetryDelayMillis;\n        backoffSettings.retryDelayMultiplier =\n            retryDelayMultiplier !== null && retryDelayMultiplier !== void 0 ? retryDelayMultiplier : backoffSettings.retryDelayMultiplier;\n        backoffSettings.totalTimeoutMillis =\n            totalTimeoutMillis !== null && totalTimeoutMillis !== void 0 ? totalTimeoutMillis : backoffSettings.totalTimeoutMillis;\n        const convertedRetryOptions = createRetryOptions(retryCodes, backoffSettings, shouldRetryFn);\n        options.retry = convertedRetryOptions;\n        delete options.retryRequestOptions; // completely remove them to avoid any further confusion\n        (0, warnings_1.warn)('retry_request_options', 'retryRequestOptions will be deprecated in a future release. Please use retryOptions to pass retry options at call time', 'DeprecationWarning');\n    }\n    return options;\n}\n/**\n * Per-call configurable settings for retrying upon transient failure.\n * @param {number[]} retryCodes - a list of Google API canonical error codes OR a function that returns a boolean to determine retry behavior\n *   upon which a retry should be attempted.\n * @param {BackoffSettings} backoffSettings - configures the retry\n *   exponential backoff algorithm.\n * @param {function} shouldRetryFn - a function that determines whether a call should retry. If this is defined retryCodes must be empty\n * @param {function} getResumptionRequestFn - a function with a resumption strategy - only used with server streaming retries\n * @return {RetryOptions} A new RetryOptions object.\n *\n */\nfunction createRetryOptions(retryCodes, backoffSettings, shouldRetryFn, getResumptionRequestFn) {\n    return {\n        retryCodes,\n        backoffSettings,\n        shouldRetryFn,\n        getResumptionRequestFn,\n    };\n}\n/**\n * Parameters to the exponential backoff algorithm for retrying.\n *\n * @param {number} initialRetryDelayMillis - the initial delay time,\n *   in milliseconds, between the completion of the first failed request and the\n *   initiation of the first retrying request.\n * @param {number} retryDelayMultiplier - the multiplier by which to\n *   increase the delay time between the completion of failed requests, and the\n *   initiation of the subsequent retrying request.\n * @param {number} maxRetryDelayMillis - the maximum delay time, in\n *   milliseconds, between requests. When this value is reached,\n *   ``retryDelayMultiplier`` will no longer be used to increase delay time.\n * @param {number} initialRpcTimeoutMillis - the initial timeout parameter\n *   to the request.\n * @param {number} rpcTimeoutMultiplier - the multiplier by which to\n *   increase the timeout parameter between failed requests.\n * @param {number} maxRpcTimeoutMillis - the maximum timeout parameter, in\n *   milliseconds, for a request. When this value is reached,\n *   ``rpcTimeoutMultiplier`` will no longer be used to increase the timeout.\n * @param {number} totalTimeoutMillis - the total time, in milliseconds,\n *   starting from when the initial request is sent, after which an error will\n *   be returned, regardless of the retrying attempts made meanwhile.\n * @return {BackoffSettings} a new settings.\n *\n */\nfunction createBackoffSettings(initialRetryDelayMillis, retryDelayMultiplier, maxRetryDelayMillis, initialRpcTimeoutMillis, rpcTimeoutMultiplier, maxRpcTimeoutMillis, totalTimeoutMillis) {\n    return {\n        initialRetryDelayMillis,\n        retryDelayMultiplier,\n        maxRetryDelayMillis,\n        initialRpcTimeoutMillis,\n        rpcTimeoutMultiplier,\n        maxRpcTimeoutMillis,\n        totalTimeoutMillis,\n    };\n}\nfunction createDefaultBackoffSettings() {\n    return createBackoffSettings(100, 1.3, 60000, null, null, null, null);\n}\n/**\n * Parameters to the exponential backoff algorithm for retrying.\n * This function is unsupported, and intended for internal use only.\n *\n * @param {number} initialRetryDelayMillis - the initial delay time,\n *   in milliseconds, between the completion of the first failed request and the\n *   initiation of the first retrying request.\n * @param {number} retryDelayMultiplier - the multiplier by which to\n *   increase the delay time between the completion of failed requests, and the\n *   initiation of the subsequent retrying request.\n * @param {number} maxRetryDelayMillis - the maximum delay time, in\n *   milliseconds, between requests. When this value is reached,\n *   ``retryDelayMultiplier`` will no longer be used to increase delay time.\n * @param {number} initialRpcTimeoutMillis - the initial timeout parameter\n *   to the request.\n * @param {number} rpcTimeoutMultiplier - the multiplier by which to\n *   increase the timeout parameter between failed requests.\n * @param {number} maxRpcTimeoutMillis - the maximum timeout parameter, in\n *   milliseconds, for a request. When this value is reached,\n *   ``rpcTimeoutMultiplier`` will no longer be used to increase the timeout.\n * @param {number} maxRetries - the maximum number of retrying attempts that\n *   will be made. If reached, an error will be returned.\n * @return {BackoffSettings} a new settings.\n *\n */\nfunction createMaxRetriesBackoffSettings(initialRetryDelayMillis, retryDelayMultiplier, maxRetryDelayMillis, initialRpcTimeoutMillis, rpcTimeoutMultiplier, maxRpcTimeoutMillis, maxRetries) {\n    return {\n        initialRetryDelayMillis,\n        retryDelayMultiplier,\n        maxRetryDelayMillis,\n        initialRpcTimeoutMillis,\n        rpcTimeoutMultiplier,\n        maxRpcTimeoutMillis,\n        maxRetries,\n    };\n}\n/**\n * Creates a new {@link BundleOptions}.\n *\n * @private\n * @param {Object} options - An object to hold optional parameters. See\n *   properties for the content of options.\n * @return {BundleOptions} - A new options.\n */\nfunction createBundleOptions(options) {\n    const params = [\n        'element_count_threshold',\n        'element_count_limit',\n        'request_byte_threshold',\n        'request_byte_limit',\n        'delay_threshold_millis',\n    ];\n    params.forEach(param => {\n        if (param in options && typeof options[param] !== 'number') {\n            throw new Error(`${param} should be a number`);\n        }\n    });\n    const elementCountThreshold = options.element_count_threshold || 0;\n    const elementCountLimit = options.element_count_limit || 0;\n    const requestByteThreshold = options.request_byte_threshold || 0;\n    const requestByteLimit = options.request_byte_limit || 0;\n    const delayThreshold = options.delay_threshold_millis || 0;\n    if (elementCountThreshold === 0 &&\n        requestByteThreshold === 0 &&\n        delayThreshold === 0) {\n        throw new Error('one threshold should be > 0');\n    }\n    return {\n        elementCountThreshold,\n        elementCountLimit,\n        requestByteThreshold,\n        requestByteLimit,\n        delayThreshold,\n    };\n}\n/**\n * Helper for {@link constructSettings}\n *\n * @private\n *\n * @param {Object} methodConfig - A dictionary representing a single\n *   `methods` entry of the standard API client config file. (See\n *   {@link constructSettings} for information on this yaml.)\n * @param {?Object} retryCodes - A dictionary parsed from the\n *   `retry_codes_def` entry of the standard API client config\n *   file. (See {@link constructSettings} for information on this yaml.)\n * @param {Object} retryParams - A dictionary parsed from the\n *   `retry_params` entry of the standard API client config\n *   file. (See {@link constructSettings} for information on this yaml.)\n * @param {Object} retryNames - A dictionary mapping the string names\n *   used in the standard API client config file to API response\n *   status codes.\n * @return {?RetryOptions} The new retry options.\n */\nfunction constructRetry(methodConfig, retryCodes, retryParams, retryNames) {\n    if (!methodConfig) {\n        return null;\n    }\n    let codes = null; // this is one instance where it will NOT be an array OR a function because we do not allow shouldRetryFn in the client\n    if (retryCodes && 'retry_codes_name' in methodConfig) {\n        const retryCodesName = methodConfig['retry_codes_name'];\n        codes = (retryCodes[retryCodesName] || []).map(name => {\n            return Number(retryNames[name]);\n        });\n    }\n    let backoffSettings = null;\n    if (retryParams && 'retry_params_name' in methodConfig) {\n        const params = retryParams[methodConfig.retry_params_name];\n        backoffSettings = createBackoffSettings(params.initial_retry_delay_millis, params.retry_delay_multiplier, params.max_retry_delay_millis, params.initial_rpc_timeout_millis, params.rpc_timeout_multiplier, params.max_rpc_timeout_millis, params.total_timeout_millis);\n    }\n    return createRetryOptions(codes, backoffSettings);\n}\n/**\n * Helper for {@link constructSettings}\n *\n * Takes two retry options, and merges them into a single RetryOption instance.\n *\n * @private\n *\n * @param {RetryOptions} retry - The base RetryOptions.\n * @param {RetryOptions} overrides - The RetryOptions used for overriding\n *   `retry`. Use the values if it is not null. If entire `overrides` is null,\n *   ignore the base retry and return null.\n * @return {?RetryOptions} The merged RetryOptions.\n */\nfunction mergeRetryOptions(retry, overrides) {\n    if (!overrides) {\n        return null;\n    }\n    if (!overrides.retryCodes &&\n        !overrides.backoffSettings &&\n        !overrides.shouldRetryFn &&\n        !overrides.getResumptionRequestFn) {\n        return retry;\n    }\n    const retryCodes = overrides.retryCodes\n        ? overrides.retryCodes\n        : retry.retryCodes;\n    const backoffSettings = overrides.backoffSettings\n        ? overrides.backoffSettings\n        : retry.backoffSettings;\n    const shouldRetryFn = overrides.shouldRetryFn\n        ? overrides.shouldRetryFn\n        : retry.shouldRetryFn;\n    const getResumptionRequestFn = overrides.getResumptionRequestFn\n        ? overrides.getResumptionRequestFn\n        : retry.getResumptionRequestFn;\n    return createRetryOptions(retryCodes, backoffSettings, shouldRetryFn, getResumptionRequestFn);\n}\n/**\n * Constructs a dictionary mapping method names to {@link CallSettings}.\n *\n * The `clientConfig` parameter is parsed from a client configuration JSON\n * file of the form:\n *\n *     {\n *       \"interfaces\": {\n *         \"google.fake.v1.ServiceName\": {\n *           \"retry_codes\": {\n *             \"idempotent\": [\"UNAVAILABLE\", \"DEADLINE_EXCEEDED\"],\n *             \"non_idempotent\": []\n *           },\n *           \"retry_params\": {\n *             \"default\": {\n *               \"initial_retry_delay_millis\": 100,\n *               \"retry_delay_multiplier\": 1.2,\n *               \"max_retry_delay_millis\": 1000,\n *               \"initial_rpc_timeout_millis\": 2000,\n *               \"rpc_timeout_multiplier\": 1.5,\n *               \"max_rpc_timeout_millis\": 30000,\n *               \"total_timeout_millis\": 45000\n *             }\n *           },\n *           \"methods\": {\n *             \"CreateFoo\": {\n *               \"retry_codes_name\": \"idempotent\",\n *               \"retry_params_name\": \"default\"\n *             },\n *             \"Publish\": {\n *               \"retry_codes_name\": \"non_idempotent\",\n *               \"retry_params_name\": \"default\",\n *               \"bundling\": {\n *                 \"element_count_threshold\": 40,\n *                 \"element_count_limit\": 200,\n *                 \"request_byte_threshold\": 90000,\n *                 \"request_byte_limit\": 100000,\n *                 \"delay_threshold_millis\": 100\n *               }\n *             }\n *           }\n *         }\n *       }\n *     }\n *\n * @param {String} serviceName - The fully-qualified name of this\n *   service, used as a key into the client config file (in the\n *   example above, this value should be 'google.fake.v1.ServiceName').\n * @param {Object} clientConfig - A dictionary parsed from the\n *   standard API client config file.\n * @param {Object} configOverrides - A dictionary in the same structure of\n *   client_config to override the settings.\n * @param {Object.<string, string[]>} retryNames - A dictionary mapping the strings\n *   referring to response status codes to objects representing\n *   those codes.\n * @param {Object} otherArgs - the non-request arguments to be passed to the API\n *   calls.\n * @return {Object} A mapping from method name to CallSettings, or null if the\n *   service is not found in the config.\n */\nfunction constructSettings(serviceName, clientConfig, configOverrides, retryNames, otherArgs) {\n    otherArgs = otherArgs || {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const defaults = {};\n    const serviceConfig = (clientConfig.interfaces || {})[serviceName];\n    if (!serviceConfig) {\n        return null;\n    }\n    // users can override the config from client side, like bundling options.\n    // The detailed structure of the clientConfig can be found here: https://github.com/googleapis/gax-nodejs/blob/main/src/gax.ts#L546\n    // The way to override bundling options:\n    //\n    // const customConfig = {\"interfaces\": {\"service\": {\"methods\": {\"methodName\": {\"bundling\": {..}}}}}}\n    // const client = new Client({ projectId, customConfig });\n    const overrides = (configOverrides.interfaces || {})[serviceName] || {};\n    const methods = serviceConfig.methods;\n    const overridingMethods = overrides.methods || {};\n    for (const methodName in methods) {\n        const methodConfig = methods[methodName];\n        const jsName = (0, util_1.toLowerCamelCase)(methodName);\n        let retry = constructRetry(methodConfig, serviceConfig.retry_codes, serviceConfig.retry_params, retryNames);\n        let bundlingConfig = methodConfig.bundling;\n        let timeout = methodConfig.timeout_millis;\n        if (methodName in overridingMethods) {\n            const overridingMethod = overridingMethods[methodName];\n            if (overridingMethod) {\n                if ('bundling' in overridingMethod) {\n                    bundlingConfig = overridingMethod.bundling;\n                }\n                if ('timeout_millis' in overridingMethod) {\n                    timeout = overridingMethod.timeout_millis;\n                }\n            }\n            retry = mergeRetryOptions(retry, constructRetry(overridingMethod, overrides.retry_codes, overrides.retry_params, retryNames));\n        }\n        const apiName = serviceName;\n        defaults[jsName] = new CallSettings({\n            timeout,\n            retry,\n            bundleOptions: bundlingConfig\n                ? createBundleOptions(bundlingConfig)\n                : null,\n            otherArgs,\n            apiName,\n        });\n    }\n    return defaults;\n}\nfunction createByteLengthFunction(message) {\n    return function getByteLength(obj) {\n        try {\n            return message.encode(obj).finish().length;\n        }\n        catch (err) {\n            const stringified = JSON.stringify(obj);\n            (0, warnings_1.warn)('error_encoding_protobufjs_object', `Cannot encode protobuf.js object: ${stringified}: ${err}`);\n            // We failed to encode the object properly, let's just return an upper boundary of its length.\n            // It's only needed for calculating the size of the batch, so it's safe if it's bigger than needed.\n            return stringified.length;\n        }\n    };\n}\n//# sourceMappingURL=gax.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9nYXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsb0JBQW9CO0FBQzNDLDJCQUEyQjtBQUMzQiwwQkFBMEI7QUFDMUIsNkJBQTZCO0FBQzdCLG9DQUFvQztBQUNwQyx1Q0FBdUM7QUFDdkMsMkJBQTJCO0FBQzNCLHlCQUF5QjtBQUN6QixnQ0FBZ0M7QUFDaEMsbUJBQW1CLG1CQUFPLENBQUMsb0ZBQVk7QUFDdkMsZUFBZSxtQkFBTyxDQUFDLDRFQUFRO0FBQy9CLGlCQUFpQixtQkFBTyxDQUFDLGdGQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsZUFBZTtBQUM3QjtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCO0FBQ0EsY0FBYyxrQkFBa0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQ0FBc0M7QUFDckQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLGFBQWEsUUFBUTtBQUNyQixjQUFjLFVBQVU7QUFDeEIsY0FBYyxpQkFBaUI7QUFDL0IsY0FBYyxZQUFZO0FBQzFCLGNBQWMsWUFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLGNBQWM7QUFDN0I7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE9BQU87QUFDdEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsTUFBTSx5QkFBeUI7QUFDL0IsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQyxXQUFXLFFBQVE7QUFDbkI7QUFDQSxpQkFBaUIseUJBQXlCO0FBQzFDLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxtQkFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsMkJBQTJCO0FBQ3RDO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGVBQWUsWUFBWSxZQUFZLGVBQWUsYUFBYTtBQUNoRyxtQ0FBbUMseUJBQXlCO0FBQzVELHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEdBQTBHLFlBQVksSUFBSSxJQUFJO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZ2F4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DYWxsU2V0dGluZ3MgPSBleHBvcnRzLlJldHJ5T3B0aW9ucyA9IHZvaWQgMDtcbmV4cG9ydHMuY29udmVydFJldHJ5T3B0aW9ucyA9IGNvbnZlcnRSZXRyeU9wdGlvbnM7XG5leHBvcnRzLmNyZWF0ZVJldHJ5T3B0aW9ucyA9IGNyZWF0ZVJldHJ5T3B0aW9ucztcbmV4cG9ydHMuY3JlYXRlQmFja29mZlNldHRpbmdzID0gY3JlYXRlQmFja29mZlNldHRpbmdzO1xuZXhwb3J0cy5jcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzID0gY3JlYXRlRGVmYXVsdEJhY2tvZmZTZXR0aW5ncztcbmV4cG9ydHMuY3JlYXRlTWF4UmV0cmllc0JhY2tvZmZTZXR0aW5ncyA9IGNyZWF0ZU1heFJldHJpZXNCYWNrb2ZmU2V0dGluZ3M7XG5leHBvcnRzLmNyZWF0ZUJ1bmRsZU9wdGlvbnMgPSBjcmVhdGVCdW5kbGVPcHRpb25zO1xuZXhwb3J0cy5jb25zdHJ1Y3RTZXR0aW5ncyA9IGNvbnN0cnVjdFNldHRpbmdzO1xuZXhwb3J0cy5jcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb24gPSBjcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb247XG5jb25zdCB3YXJuaW5nc18xID0gcmVxdWlyZShcIi4vd2FybmluZ3NcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3Qgc3RhdHVzXzEgPSByZXF1aXJlKFwiLi9zdGF0dXNcIik7XG4vKipcbiAqIEVuY2Fwc3VsYXRlcyB0aGUgb3ZlcnJpZGFibGUgc2V0dGluZ3MgZm9yIGEgcGFydGljdWxhciBBUEkgY2FsbC5cbiAqXG4gKiBgYENhbGxPcHRpb25zYGAgaXMgYW4gb3B0aW9uYWwgYXJnIGZvciBhbGwgR0FYIEFQSSBjYWxscy4gIEl0IGlzIHVzZWQgdG9cbiAqIGNvbmZpZ3VyZSB0aGUgc2V0dGluZ3Mgb2YgYSBzcGVjaWZpYyBBUEkgY2FsbC5cbiAqXG4gKiBXaGVuIHByb3ZpZGVkLCBpdHMgdmFsdWVzIG92ZXJyaWRlIHRoZSBHQVggc2VydmljZSBkZWZhdWx0cyBmb3IgdGhhdFxuICogcGFydGljdWxhciBjYWxsLlxuICpcbiAqIFR5cGljYWxseSB0aGUgQVBJIGNsaWVudHMgd2lsbCBhY2NlcHQgdGhpcyBhcyB0aGUgc2Vjb25kIHRvIHRoZSBsYXN0XG4gKiBhcmd1bWVudC4gU2VlIHRoZSBleGFtcGxlcyBiZWxvdy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbGxPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcj19IHRpbWVvdXQgLSBUaGUgY2xpZW50LXNpZGUgdGltZW91dCBmb3IgQVBJIGNhbGxzLlxuICogQHByb3BlcnR5IHtSZXRyeU9wdGlvbnM9fSByZXRyeSAtIGRldGVybWluZXMgd2hldGhlciBhbmQgaG93IHRvIHJldHJ5XG4gKiAgIG9uIHRyYW5zaWVudCBlcnJvcnMuIFdoZW4gc2V0IHRvIG51bGwsIHRoZSBjYWxsIHdpbGwgbm90IHJldHJ5LlxuICogQHByb3BlcnR5IHtib29sZWFuPX0gYXV0b1BhZ2luYXRlIC0gSWYgc2V0IHRvIGZhbHNlIGFuZCB0aGUgY2FsbCBpc1xuICogICBjb25maWd1cmVkIGZvciBwYWdlZCBpdGVyYXRpb24sIHBhZ2UgdW5yb2xsaW5nIGlzIG5vdCBwZXJmb3JtZWQsIGluc3RlYWRcbiAqICAgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIHJlc3BvbnNlIG9iamVjdC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PX0gcGFnZVRva2VuIC0gSWYgc2V0IGFuZCB0aGUgY2FsbCBpcyBjb25maWd1cmVkIGZvclxuICogICBwYWdlZCBpdGVyYXRpb24sIHBhZ2VkIGl0ZXJhdGlvbiBpcyBub3QgcGVyZm9ybWVkIGFuZCByZXF1ZXN0ZWQgd2l0aCB0aGlzXG4gKiAgIHBhZ2VUb2tlbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhSZXN1bHRzIC0gSWYgc2V0IGFuZCB0aGUgY2FsbCBpcyBjb25maWd1cmVkIGZvclxuICogICBwYWdlZCBpdGVyYXRpb24sIHRoZSBjYWxsIHdpbGwgc3RvcCB3aGVuIHRoZSBudW1iZXIgb2YgcmVzcG9uc2UgZWxlbWVudHNcbiAqICAgcmVhY2hlcyB0byB0aGUgc3BlY2lmaWVkIHNpemUuIEJ5IGRlZmF1bHQsIGl0IHdpbGwgdW5yb2xsIHRoZSBwYWdlIHRvXG4gKiAgIHRoZSBlbmQgb2YgdGhlIGxpc3QuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW49fSBpc0J1bmRsaW5nIC0gSWYgc2V0IHRvIGZhbHNlIGFuZCB0aGUgY2FsbCBpcyBjb25maWd1cmVkXG4gKiAgIGZvciBidW5kbGluZywgYnVuZGxpbmcgaXMgbm90IHBlcmZvcm1lZC5cbiAqIEBwcm9wZXJ0eSB7QmFja29mZlNldHRpbmdzPX0gbG9uZ3J1bm5pbmcgLSBCYWNrb2ZmU2V0dGluZ3MgdXNlZCBmb3IgcG9sbGluZy5cbiAqIEBleGFtcGxlXG4gKiAvLyBzdXBwcmVzcyBidW5kbGluZyBmb3IgYnVuZGxlZCBtZXRob2QuXG4gKiBhcGkuYnVuZGxpbmdNZXRob2QoXG4gKiAgICAgcGFyYW0sIHtvcHRQYXJhbTogYVZhbHVlLCBpc0J1bmRsaW5nOiBmYWxzZX0sIGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAqICAgLy8gaGFuZGxlIHJlc3BvbnNlLlxuICogfSk7XG4gKiBAZXhhbXBsZVxuICogLy8gc3VwcHJlc3Mgc3RyZWFtaW5nIGZvciBwYWdlLXN0cmVhbWluZyBtZXRob2QuXG4gKiBhcGkucGFnZVN0cmVhbWluZ01ldGhvZChcbiAqICAgICBwYXJhbSwge29wdFBhcmFtOiBhVmFsdWUsIGF1dG9QYWdpbmF0ZTogZmFsc2V9LCBmdW5jdGlvbihlcnIsIHBhZ2UpIHtcbiAqICAgLy8gbm90IHJldHVybmluZyBhIHN0cmVhbSwgYnV0IGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIHRoZSBwYWdlZCByZXNwb25zZS5cbiAqIH0pO1xuICovXG4vKipcbiAqIFBlci1jYWxsIGNvbmZpZ3VyYWJsZSBzZXR0aW5ncyBmb3IgcmV0cnlpbmcgdXBvbiB0cmFuc2llbnQgZmFpbHVyZS5cbiAqIEBpbXBsZW1lbnRzIHtSZXRyeU9wdGlvbnNUeXBlfVxuICogQHR5cGVkZWYge09iamVjdH0gUmV0cnlPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcltdfSByZXRyeUNvZGVzXG4gKiBAcHJvcGVydHkge0JhY2tvZmZTZXR0aW5nc30gYmFja29mZlNldHRpbmdzXG4gKiBAcHJvcGVydHkgeyhmdW5jdGlvbil9IHNob3VsZFJldHJ5Rm5cbiAqIEBwcm9wZXJ0eSB7KGZ1bmN0aW9uKX0gZ2V0UmVzdW1wdGlvblJlcXVlc3RGblxuICovXG5jbGFzcyBSZXRyeU9wdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKHJldHJ5Q29kZXMsIGJhY2tvZmZTZXR0aW5ncywgc2hvdWxkUmV0cnlGbiwgZ2V0UmVzdW1wdGlvblJlcXVlc3RGbikge1xuICAgICAgICB0aGlzLnJldHJ5Q29kZXMgPSByZXRyeUNvZGVzO1xuICAgICAgICB0aGlzLmJhY2tvZmZTZXR0aW5ncyA9IGJhY2tvZmZTZXR0aW5ncztcbiAgICAgICAgdGhpcy5zaG91bGRSZXRyeUZuID0gc2hvdWxkUmV0cnlGbjtcbiAgICAgICAgdGhpcy5nZXRSZXN1bXB0aW9uUmVxdWVzdEZuID0gZ2V0UmVzdW1wdGlvblJlcXVlc3RGbjtcbiAgICB9XG59XG5leHBvcnRzLlJldHJ5T3B0aW9ucyA9IFJldHJ5T3B0aW9ucztcbmNsYXNzIENhbGxTZXR0aW5ncyB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzIC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVycyBvZiB0aGlzIHNldHRpbmdzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZXR0aW5ncy50aW1lb3V0IC0gVGhlIGNsaWVudC1zaWRlIHRpbWVvdXQgZm9yIEFQSSBjYWxscy5cbiAgICAgKiAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIHJldHJ5aW5nIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7UmV0cnlPcHRpb25zfSBzZXR0aW5ncy5yZXRyeSAtIFRoZSBjb25maWd1cmF0aW9uIGZvciByZXRyeWluZyB1cG9uXG4gICAgICogICB0cmFuc2llbnQgZXJyb3IuIElmIHNldCB0byBudWxsLCB0aGlzIGNhbGwgd2lsbCBub3QgcmV0cnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy5hdXRvUGFnaW5hdGUgLSBJZiB0aGVyZSBpcyBubyBgcGFnZURlc2NyaXB0b3JgLFxuICAgICAqICAgdGhpcyBhdHRyYnV0ZSBoYXMgbm8gbWVhbmluZy4gT3RoZXJ3aXNlLCBkZXRlcm1pbmVzIHdoZXRoZXIgYSBwYWdlXG4gICAgICogc3RyZWFtZWQgcmVzcG9uc2Ugc2hvdWxkIG1ha2UgdGhlIHBhZ2Ugc3RydWN0dXJlIHRyYW5zcGFyZW50IHRvIHRoZSB1c2VyIGJ5XG4gICAgICogICBmbGF0dGVuaW5nIHRoZSByZXBlYXRlZCBmaWVsZCBpbiB0aGUgcmV0dXJuZWQgZ2VuZXJhdG9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZXR0aW5ncy5wYWdlVG9rZW4gLSBJZiB0aGVyZSBpcyBubyBgcGFnZURlc2NyaXB0b3JgLFxuICAgICAqICAgdGhpcyBhdHRyaWJ1dGUgaGFzIG5vIG1lYW5pbmcuIE90aGVyd2lzZSwgZGV0ZXJtaW5lcyB0aGUgcGFnZSB0b2tlbiB1c2VkXG4gICAgICogaW4gdGhlIHBhZ2Ugc3RyZWFtaW5nIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzLm90aGVyQXJncyAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0b1xuICAgICAqICAgdGhlIEFQSSBjYWxscy5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0dGluZ3MudGltZW91dCB8fCAzMCAqIDEwMDA7XG4gICAgICAgIHRoaXMucmV0cnkgPSBzZXR0aW5ncy5yZXRyeTtcbiAgICAgICAgdGhpcy5hdXRvUGFnaW5hdGUgPVxuICAgICAgICAgICAgJ2F1dG9QYWdpbmF0ZScgaW4gc2V0dGluZ3MgPyBzZXR0aW5ncy5hdXRvUGFnaW5hdGUgOiB0cnVlO1xuICAgICAgICB0aGlzLm1heFJlc3VsdHMgPSBzZXR0aW5ncy5tYXhSZXN1bHRzO1xuICAgICAgICB0aGlzLm90aGVyQXJncyA9IHNldHRpbmdzLm90aGVyQXJncyB8fCB7fTtcbiAgICAgICAgdGhpcy5idW5kbGVPcHRpb25zID0gc2V0dGluZ3MuYnVuZGxlT3B0aW9ucztcbiAgICAgICAgdGhpcy5pc0J1bmRsaW5nID0gJ2lzQnVuZGxpbmcnIGluIHNldHRpbmdzID8gc2V0dGluZ3MuaXNCdW5kbGluZyA6IHRydWU7XG4gICAgICAgIHRoaXMubG9uZ3J1bm5pbmcgPVxuICAgICAgICAgICAgJ2xvbmdydW5uaW5nJyBpbiBzZXR0aW5ncyA/IHNldHRpbmdzLmxvbmdydW5uaW5nIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaU5hbWUgPSAoX2EgPSBzZXR0aW5ncy5hcGlOYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmV0cnlSZXF1ZXN0T3B0aW9ucyA9IHNldHRpbmdzLnJldHJ5UmVxdWVzdE9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgQ2FsbFNldHRpbmdzIG1lcmdlZCBmcm9tIHRoaXMgYW5kIGEgQ2FsbE9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYWxsT3B0aW9uc30gb3B0aW9ucyAtIGFuIGluc3RhbmNlIHdob3NlIHZhbHVlcyBvdmVycmlkZVxuICAgICAqICAgdGhvc2UgaW4gdGhpcyBvYmplY3QuIElmIG51bGwsIGBgbWVyZ2VgYCByZXR1cm5zIGEgY29weSBvZiB0aGlzXG4gICAgICogICBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtDYWxsU2V0dGluZ3N9IFRoZSBtZXJnZWQgQ2FsbFNldHRpbmdzIGluc3RhbmNlLlxuICAgICAqL1xuICAgIG1lcmdlKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxTZXR0aW5ncyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICAgICAgbGV0IHJldHJ5ID0gdGhpcy5yZXRyeTtcbiAgICAgICAgbGV0IGF1dG9QYWdpbmF0ZSA9IHRoaXMuYXV0b1BhZ2luYXRlO1xuICAgICAgICBsZXQgbWF4UmVzdWx0cyA9IHRoaXMubWF4UmVzdWx0cztcbiAgICAgICAgbGV0IG90aGVyQXJncyA9IHRoaXMub3RoZXJBcmdzO1xuICAgICAgICBsZXQgaXNCdW5kbGluZyA9IHRoaXMuaXNCdW5kbGluZztcbiAgICAgICAgbGV0IGxvbmdydW5uaW5nID0gdGhpcy5sb25ncnVubmluZztcbiAgICAgICAgbGV0IGFwaU5hbWUgPSB0aGlzLmFwaU5hbWU7XG4gICAgICAgIGxldCByZXRyeVJlcXVlc3RPcHRpb25zID0gdGhpcy5yZXRyeVJlcXVlc3RPcHRpb25zO1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBwcm92aWRlcyBhIHRpbWVvdXQgdG8gdGhlIG1ldGhvZCwgdGhhdCB0aW1lb3V0IHZhbHVlIHdpbGwgYmUgdXNlZFxuICAgICAgICAvLyB0byBvdmVycmlkZSB0aGUgYmFja29mZiBzZXR0aW5ncy5cbiAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgbWV0aG9kLXNwZWNpZmljIHRpbWVvdXQgaXMgc2V0IGluIHRoZSBzZXJ2aWNlIGNvbmZpZywgYW5kIHRoZSByZXRyeSBjb2RlcyBmb3IgdGhhdFxuICAgICAgICAvLyBtZXRob2QgYXJlIG5vbi1udWxsLCB0aGVuIHRoYXQgdGltZW91dCB2YWx1ZSB3aWxsIGJlIHVzZWQgdG9cbiAgICAgICAgLy8gb3ZlcnJpZGUgYmFja29mZiBzZXR0aW5ncy5cbiAgICAgICAgaWYgKHJldHJ5ID09PSBudWxsIHx8IHJldHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXRyeS5yZXRyeUNvZGVzKSB7XG4gICAgICAgICAgICByZXRyeS5iYWNrb2ZmU2V0dGluZ3MuaW5pdGlhbFJwY1RpbWVvdXRNaWxsaXMgPSB0aW1lb3V0O1xuICAgICAgICAgICAgcmV0cnkuYmFja29mZlNldHRpbmdzLm1heFJwY1RpbWVvdXRNaWxsaXMgPSB0aW1lb3V0O1xuICAgICAgICAgICAgcmV0cnkuYmFja29mZlNldHRpbmdzLnRvdGFsVGltZW91dE1pbGxpcyA9IHRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyZXRyeScgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0cnkgPSBtZXJnZVJldHJ5T3B0aW9ucyhyZXRyeSB8fCB7fSwgb3B0aW9ucy5yZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdhdXRvUGFnaW5hdGUnIGluIG9wdGlvbnMgJiYgIW9wdGlvbnMuYXV0b1BhZ2luYXRlKSB7XG4gICAgICAgICAgICBhdXRvUGFnaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ21heFJlc3VsdHMnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG1heFJlc3VsdHMgPSBvcHRpb25zLm1heFJlc3VsdHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdvdGhlckFyZ3MnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG90aGVyQXJncyA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vdGhlckFyZ3MpIHtcbiAgICAgICAgICAgICAgICBvdGhlckFyZ3Nba2V5XSA9IHRoaXMub3RoZXJBcmdzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbnNLZXkgaW4gb3B0aW9ucy5vdGhlckFyZ3MpIHtcbiAgICAgICAgICAgICAgICBvdGhlckFyZ3Nbb3B0aW9uc0tleV0gPSBvcHRpb25zLm90aGVyQXJnc1tvcHRpb25zS2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2lzQnVuZGxpbmcnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlzQnVuZGxpbmcgPSBvcHRpb25zLmlzQnVuZGxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdtYXhSZXRyaWVzJyBpbiBvcHRpb25zICYmIG9wdGlvbnMubWF4UmV0cmllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXRyeS5iYWNrb2ZmU2V0dGluZ3MubWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcztcbiAgICAgICAgICAgIGRlbGV0ZSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MudG90YWxUaW1lb3V0TWlsbGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnbG9uZ3J1bm5pbmcnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGxvbmdydW5uaW5nID0gb3B0aW9ucy5sb25ncnVubmluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2FwaU5hbWUnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGFwaU5hbWUgPSBvcHRpb25zLmFwaU5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyZXRyeVJlcXVlc3RPcHRpb25zJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXRyeVJlcXVlc3RPcHRpb25zID0gb3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2FsbFNldHRpbmdzKHtcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICByZXRyeSxcbiAgICAgICAgICAgIGJ1bmRsZU9wdGlvbnM6IHRoaXMuYnVuZGxlT3B0aW9ucyxcbiAgICAgICAgICAgIGxvbmdydW5uaW5nLFxuICAgICAgICAgICAgYXV0b1BhZ2luYXRlLFxuICAgICAgICAgICAgbWF4UmVzdWx0cyxcbiAgICAgICAgICAgIG90aGVyQXJncyxcbiAgICAgICAgICAgIGlzQnVuZGxpbmcsXG4gICAgICAgICAgICBhcGlOYW1lLFxuICAgICAgICAgICAgcmV0cnlSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5DYWxsU2V0dGluZ3MgPSBDYWxsU2V0dGluZ3M7XG4vKipcbiAqIFZhbGlkYXRlcyBwYXNzZWQgcmV0cnkgb3B0aW9ucyBpbiBwcmVwYXJhdGlvbiBmb3IgZXZlbnR1YWwgcGFyYW1ldGVyIGRlcHJlY2F0aW9uXG4gKiBjb252ZXJ0cyByZXRyeVJlcXVlc3RPcHRpb25zIHRvIHJldHJ5T3B0aW9uc1xuICogdGhlbiBzZXRzIHJldHJ5UmVxdWVzdE9wdGlvbnMgdG8gbnVsbFxuICpcbiAqIEBwYXJhbSB7Q2FsbE9wdGlvbnN9IG9wdGlvbnMgLSBhIGxpc3Qgb2YgcGFzc2VkIHJldHJ5IG9wdGlvblxuICogQHJldHVybiB7Q2FsbE9wdGlvbnN9IEEgbmV3IENhbGxPcHRpb25zIG9iamVjdC5cbiAqXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRSZXRyeU9wdGlvbnMob3B0aW9ucywgZ2F4U3RyZWFtaW5nUmV0cmllcykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAvLyBvcHRpb25zIHdpbGwgYmUgdW5kZWZpbmVkIGlmIG5vIENhbGxPcHRpb25zIG9iamVjdCBpcyBwYXNzZWQgYXQgY2FsbCB0aW1lXG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cbiAgICAvLyBpZiBhIHVzZXIgcHJvdmlkZWQgcmV0cnkgQU5EIHJldHJ5UmVxdWVzdE9wdGlvbnMgYXQgY2FsbCB0aW1lLCB0aHJvdyBhbiBlcnJvclxuICAgIC8vIG90aGVyd2lzZSwgY29udmVydCBzdXBwb3J0ZWQgcGFyYW1ldGVyc1xuICAgIGlmICghZ2F4U3RyZWFtaW5nUmV0cmllcykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucmV0cnkgJiYgb3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgb2YgcmV0cnkgb3IgcmV0cnlSZXF1ZXN0T3B0aW9ucyBtYXkgYmUgc2V0Jyk7XG4gICAgfSAvLyBoYW5kbGVzIHBhcmFtZXRlciBjb252ZXJzaW9uIGZyb20gcmV0cnlSZXF1ZXN0T3B0aW9ucyB0byByZXRyeU9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnJldHJ5UmVxdWVzdE9wdGlvbnMub2JqZWN0TW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgncmV0cnlfcmVxdWVzdF9vcHRpb25zJywgJ29iamVjdE1vZGUgb3ZlcnJpZGUgaXMgbm90IHN1cHBvcnRlZC4gSXQgaXMgc2V0IHRvIHRydWUgaW50ZXJuYWxseSBieSBkZWZhdWx0IGluIGdheC4nLCAnVW5zdXBwb3J0ZWRQYXJhbWV0ZXJXYXJuaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucy5ub1Jlc3BvbnNlUmV0cmllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgncmV0cnlfcmVxdWVzdF9vcHRpb25zJywgJ25vUmVzcG9uc2VSZXRyaWVzIG92ZXJyaWRlIGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSBzcGVjaWZ5IHJldHJ5IGNvZGVzIG9yIGEgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHJldHJ5IGVsaWdpYmlsaXR5LicsICdVbnN1cHBvcnRlZFBhcmFtZXRlcldhcm5pbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zLmN1cnJlbnRSZXRyeUF0dGVtcHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ3JldHJ5X3JlcXVlc3Rfb3B0aW9ucycsICdjdXJyZW50UmV0cnlBdHRlbXB0IG92ZXJyaWRlIGlzIG5vdCBzdXBwb3J0ZWQuIFJldHJ5IGF0dGVtcHRzIGFyZSB0cmFja2VkIGludGVybmFsbHkuJywgJ1Vuc3VwcG9ydGVkUGFyYW1ldGVyV2FybmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXRyeUNvZGVzID0gW3N0YXR1c18xLlN0YXR1cy5VTkFWQUlMQUJMRV07XG4gICAgICAgIGxldCBzaG91bGRSZXRyeUZuO1xuICAgICAgICBpZiAob3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zLnNob3VsZFJldHJ5Rm4pIHtcbiAgICAgICAgICAgIHJldHJ5Q29kZXMgPSBbXTtcbiAgICAgICAgICAgIHNob3VsZFJldHJ5Rm4gPSBvcHRpb25zLnJldHJ5UmVxdWVzdE9wdGlvbnMuc2hvdWxkUmV0cnlGbjtcbiAgICAgICAgfVxuICAgICAgICAvL0JhY2tvZmYgc2V0dGluZ3NcbiAgICAgICAgb3B0aW9ucy5tYXhSZXRyaWVzID1cbiAgICAgICAgICAgIChfYiA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmV0cmllcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogb3B0aW9ucy5tYXhSZXRyaWVzO1xuICAgICAgICAvLyBjcmVhdGUgYSBkZWZhdWx0IGJhY2tvZmYgc2V0dGluZ3Mgb2JqZWN0IGluIGNhc2UgdGhlIHVzZXIgZGlkbid0IHByb3ZpZGUgb3ZlcnJpZGVzIGZvciBldmVyeXRoaW5nXG4gICAgICAgIGNvbnN0IGJhY2tvZmZTZXR0aW5ncyA9IGNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3MoKTtcbiAgICAgICAgbGV0IG1heFJldHJ5RGVsYXlNaWxsaXM7XG4gICAgICAgIGxldCB0b3RhbFRpbWVvdXRNaWxsaXM7XG4gICAgICAgIC8vIG1heFJldHJ5RGVsYXkgLSB0aGlzIGlzIGluIHNlY29uZHMsIG5lZWQgdG8gY29udmVydCB0byBtaWxsaXNlY29uZHNcbiAgICAgICAgaWYgKG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucy5tYXhSZXRyeURlbGF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1heFJldHJ5RGVsYXlNaWxsaXMgPSBvcHRpb25zLnJldHJ5UmVxdWVzdE9wdGlvbnMubWF4UmV0cnlEZWxheSAqIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0cnlEZWxheU11bHRpcGxpZXIgLSBzaG91bGQgYmUgYSBvbmUgdG8gb25lIG1hcHBpbmcgdG8gcmV0cnlEZWxheU11bHRpcGxpZXJcbiAgICAgICAgY29uc3QgcmV0cnlEZWxheU11bHRpcGxpZXIgPSAoX2QgPSAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJldHJ5RGVsYXlNdWx0aXBsaWVyKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBiYWNrb2ZmU2V0dGluZ3MucmV0cnlEZWxheU11bHRpcGxpZXI7XG4gICAgICAgIC8vIHRoaXMgaXMgaW4gc2Vjb25kcyBhbmQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIG1pbGxpc2Vjb25kcyBhbmQgdGhlIHRvdGFsVGltZW91dE1pbGxpcyBwYXJhbWV0ZXJcbiAgICAgICAgaWYgKG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucy50b3RhbFRpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdG90YWxUaW1lb3V0TWlsbGlzID0gb3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zLnRvdGFsVGltZW91dCAqIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhSZXRyaWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b3RhbFRpbWVvdXRNaWxsaXMgPSAzMDAwMDtcbiAgICAgICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgncmV0cnlfcmVxdWVzdF9vcHRpb25zX25vX21heF9yZXRyaWVzX3RpbWVvdXQnLCAnTmVpdGhlciBtYXhSZXRyaWVzIG5vciB0b3RhbFRpbWVvdXQgd2VyZSBwYXNzZWQuIERlZmF1bHRpbmcgdG8gdG90YWxUaW1lb3V0IG9mIDMwMDAwbXMuJywgJ01pc3NpbmdQYXJhbWV0ZXJXYXJuaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIHRoZSB2YXJpYWJsZXMgdGhlIHVzZXIgd2FudHMgdG8gb3ZlcnJpZGUsIG92ZXJyaWRlIGluIHRoZSBiYWNrb2ZmIHNldHRpbmdzIG9iamVjdCB3ZSBtYWRlXG4gICAgICAgIGJhY2tvZmZTZXR0aW5ncy5tYXhSZXRyeURlbGF5TWlsbGlzID1cbiAgICAgICAgICAgIG1heFJldHJ5RGVsYXlNaWxsaXMgIT09IG51bGwgJiYgbWF4UmV0cnlEZWxheU1pbGxpcyAhPT0gdm9pZCAwID8gbWF4UmV0cnlEZWxheU1pbGxpcyA6IGJhY2tvZmZTZXR0aW5ncy5tYXhSZXRyeURlbGF5TWlsbGlzO1xuICAgICAgICBiYWNrb2ZmU2V0dGluZ3MucmV0cnlEZWxheU11bHRpcGxpZXIgPVxuICAgICAgICAgICAgcmV0cnlEZWxheU11bHRpcGxpZXIgIT09IG51bGwgJiYgcmV0cnlEZWxheU11bHRpcGxpZXIgIT09IHZvaWQgMCA/IHJldHJ5RGVsYXlNdWx0aXBsaWVyIDogYmFja29mZlNldHRpbmdzLnJldHJ5RGVsYXlNdWx0aXBsaWVyO1xuICAgICAgICBiYWNrb2ZmU2V0dGluZ3MudG90YWxUaW1lb3V0TWlsbGlzID1cbiAgICAgICAgICAgIHRvdGFsVGltZW91dE1pbGxpcyAhPT0gbnVsbCAmJiB0b3RhbFRpbWVvdXRNaWxsaXMgIT09IHZvaWQgMCA/IHRvdGFsVGltZW91dE1pbGxpcyA6IGJhY2tvZmZTZXR0aW5ncy50b3RhbFRpbWVvdXRNaWxsaXM7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZFJldHJ5T3B0aW9ucyA9IGNyZWF0ZVJldHJ5T3B0aW9ucyhyZXRyeUNvZGVzLCBiYWNrb2ZmU2V0dGluZ3MsIHNob3VsZFJldHJ5Rm4pO1xuICAgICAgICBvcHRpb25zLnJldHJ5ID0gY29udmVydGVkUmV0cnlPcHRpb25zO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zOyAvLyBjb21wbGV0ZWx5IHJlbW92ZSB0aGVtIHRvIGF2b2lkIGFueSBmdXJ0aGVyIGNvbmZ1c2lvblxuICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgncmV0cnlfcmVxdWVzdF9vcHRpb25zJywgJ3JldHJ5UmVxdWVzdE9wdGlvbnMgd2lsbCBiZSBkZXByZWNhdGVkIGluIGEgZnV0dXJlIHJlbGVhc2UuIFBsZWFzZSB1c2UgcmV0cnlPcHRpb25zIHRvIHBhc3MgcmV0cnkgb3B0aW9ucyBhdCBjYWxsIHRpbWUnLCAnRGVwcmVjYXRpb25XYXJuaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufVxuLyoqXG4gKiBQZXItY2FsbCBjb25maWd1cmFibGUgc2V0dGluZ3MgZm9yIHJldHJ5aW5nIHVwb24gdHJhbnNpZW50IGZhaWx1cmUuXG4gKiBAcGFyYW0ge251bWJlcltdfSByZXRyeUNvZGVzIC0gYSBsaXN0IG9mIEdvb2dsZSBBUEkgY2Fub25pY2FsIGVycm9yIGNvZGVzIE9SIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgYm9vbGVhbiB0byBkZXRlcm1pbmUgcmV0cnkgYmVoYXZpb3JcbiAqICAgdXBvbiB3aGljaCBhIHJldHJ5IHNob3VsZCBiZSBhdHRlbXB0ZWQuXG4gKiBAcGFyYW0ge0JhY2tvZmZTZXR0aW5nc30gYmFja29mZlNldHRpbmdzIC0gY29uZmlndXJlcyB0aGUgcmV0cnlcbiAqICAgZXhwb25lbnRpYWwgYmFja29mZiBhbGdvcml0aG0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzaG91bGRSZXRyeUZuIC0gYSBmdW5jdGlvbiB0aGF0IGRldGVybWluZXMgd2hldGhlciBhIGNhbGwgc2hvdWxkIHJldHJ5LiBJZiB0aGlzIGlzIGRlZmluZWQgcmV0cnlDb2RlcyBtdXN0IGJlIGVtcHR5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBnZXRSZXN1bXB0aW9uUmVxdWVzdEZuIC0gYSBmdW5jdGlvbiB3aXRoIGEgcmVzdW1wdGlvbiBzdHJhdGVneSAtIG9ubHkgdXNlZCB3aXRoIHNlcnZlciBzdHJlYW1pbmcgcmV0cmllc1xuICogQHJldHVybiB7UmV0cnlPcHRpb25zfSBBIG5ldyBSZXRyeU9wdGlvbnMgb2JqZWN0LlxuICpcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmV0cnlPcHRpb25zKHJldHJ5Q29kZXMsIGJhY2tvZmZTZXR0aW5ncywgc2hvdWxkUmV0cnlGbiwgZ2V0UmVzdW1wdGlvblJlcXVlc3RGbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJldHJ5Q29kZXMsXG4gICAgICAgIGJhY2tvZmZTZXR0aW5ncyxcbiAgICAgICAgc2hvdWxkUmV0cnlGbixcbiAgICAgICAgZ2V0UmVzdW1wdGlvblJlcXVlc3RGbixcbiAgICB9O1xufVxuLyoqXG4gKiBQYXJhbWV0ZXJzIHRvIHRoZSBleHBvbmVudGlhbCBiYWNrb2ZmIGFsZ29yaXRobSBmb3IgcmV0cnlpbmcuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxSZXRyeURlbGF5TWlsbGlzIC0gdGhlIGluaXRpYWwgZGVsYXkgdGltZSxcbiAqICAgaW4gbWlsbGlzZWNvbmRzLCBiZXR3ZWVuIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBmaXJzdCBmYWlsZWQgcmVxdWVzdCBhbmQgdGhlXG4gKiAgIGluaXRpYXRpb24gb2YgdGhlIGZpcnN0IHJldHJ5aW5nIHJlcXVlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gcmV0cnlEZWxheU11bHRpcGxpZXIgLSB0aGUgbXVsdGlwbGllciBieSB3aGljaCB0b1xuICogICBpbmNyZWFzZSB0aGUgZGVsYXkgdGltZSBiZXR3ZWVuIHRoZSBjb21wbGV0aW9uIG9mIGZhaWxlZCByZXF1ZXN0cywgYW5kIHRoZVxuICogICBpbml0aWF0aW9uIG9mIHRoZSBzdWJzZXF1ZW50IHJldHJ5aW5nIHJlcXVlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmV0cnlEZWxheU1pbGxpcyAtIHRoZSBtYXhpbXVtIGRlbGF5IHRpbWUsIGluXG4gKiAgIG1pbGxpc2Vjb25kcywgYmV0d2VlbiByZXF1ZXN0cy4gV2hlbiB0aGlzIHZhbHVlIGlzIHJlYWNoZWQsXG4gKiAgIGBgcmV0cnlEZWxheU11bHRpcGxpZXJgYCB3aWxsIG5vIGxvbmdlciBiZSB1c2VkIHRvIGluY3JlYXNlIGRlbGF5IHRpbWUuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbFJwY1RpbWVvdXRNaWxsaXMgLSB0aGUgaW5pdGlhbCB0aW1lb3V0IHBhcmFtZXRlclxuICogICB0byB0aGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBycGNUaW1lb3V0TXVsdGlwbGllciAtIHRoZSBtdWx0aXBsaWVyIGJ5IHdoaWNoIHRvXG4gKiAgIGluY3JlYXNlIHRoZSB0aW1lb3V0IHBhcmFtZXRlciBiZXR3ZWVuIGZhaWxlZCByZXF1ZXN0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhScGNUaW1lb3V0TWlsbGlzIC0gdGhlIG1heGltdW0gdGltZW91dCBwYXJhbWV0ZXIsIGluXG4gKiAgIG1pbGxpc2Vjb25kcywgZm9yIGEgcmVxdWVzdC4gV2hlbiB0aGlzIHZhbHVlIGlzIHJlYWNoZWQsXG4gKiAgIGBgcnBjVGltZW91dE11bHRpcGxpZXJgYCB3aWxsIG5vIGxvbmdlciBiZSB1c2VkIHRvIGluY3JlYXNlIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHRvdGFsVGltZW91dE1pbGxpcyAtIHRoZSB0b3RhbCB0aW1lLCBpbiBtaWxsaXNlY29uZHMsXG4gKiAgIHN0YXJ0aW5nIGZyb20gd2hlbiB0aGUgaW5pdGlhbCByZXF1ZXN0IGlzIHNlbnQsIGFmdGVyIHdoaWNoIGFuIGVycm9yIHdpbGxcbiAqICAgYmUgcmV0dXJuZWQsIHJlZ2FyZGxlc3Mgb2YgdGhlIHJldHJ5aW5nIGF0dGVtcHRzIG1hZGUgbWVhbndoaWxlLlxuICogQHJldHVybiB7QmFja29mZlNldHRpbmdzfSBhIG5ldyBzZXR0aW5ncy5cbiAqXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhY2tvZmZTZXR0aW5ncyhpbml0aWFsUmV0cnlEZWxheU1pbGxpcywgcmV0cnlEZWxheU11bHRpcGxpZXIsIG1heFJldHJ5RGVsYXlNaWxsaXMsIGluaXRpYWxScGNUaW1lb3V0TWlsbGlzLCBycGNUaW1lb3V0TXVsdGlwbGllciwgbWF4UnBjVGltZW91dE1pbGxpcywgdG90YWxUaW1lb3V0TWlsbGlzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGlhbFJldHJ5RGVsYXlNaWxsaXMsXG4gICAgICAgIHJldHJ5RGVsYXlNdWx0aXBsaWVyLFxuICAgICAgICBtYXhSZXRyeURlbGF5TWlsbGlzLFxuICAgICAgICBpbml0aWFsUnBjVGltZW91dE1pbGxpcyxcbiAgICAgICAgcnBjVGltZW91dE11bHRpcGxpZXIsXG4gICAgICAgIG1heFJwY1RpbWVvdXRNaWxsaXMsXG4gICAgICAgIHRvdGFsVGltZW91dE1pbGxpcyxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEJhY2tvZmZTZXR0aW5ncygpIHtcbiAgICByZXR1cm4gY3JlYXRlQmFja29mZlNldHRpbmdzKDEwMCwgMS4zLCA2MDAwMCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCk7XG59XG4vKipcbiAqIFBhcmFtZXRlcnMgdG8gdGhlIGV4cG9uZW50aWFsIGJhY2tvZmYgYWxnb3JpdGhtIGZvciByZXRyeWluZy5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgdW5zdXBwb3J0ZWQsIGFuZCBpbnRlbmRlZCBmb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxSZXRyeURlbGF5TWlsbGlzIC0gdGhlIGluaXRpYWwgZGVsYXkgdGltZSxcbiAqICAgaW4gbWlsbGlzZWNvbmRzLCBiZXR3ZWVuIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBmaXJzdCBmYWlsZWQgcmVxdWVzdCBhbmQgdGhlXG4gKiAgIGluaXRpYXRpb24gb2YgdGhlIGZpcnN0IHJldHJ5aW5nIHJlcXVlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gcmV0cnlEZWxheU11bHRpcGxpZXIgLSB0aGUgbXVsdGlwbGllciBieSB3aGljaCB0b1xuICogICBpbmNyZWFzZSB0aGUgZGVsYXkgdGltZSBiZXR3ZWVuIHRoZSBjb21wbGV0aW9uIG9mIGZhaWxlZCByZXF1ZXN0cywgYW5kIHRoZVxuICogICBpbml0aWF0aW9uIG9mIHRoZSBzdWJzZXF1ZW50IHJldHJ5aW5nIHJlcXVlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmV0cnlEZWxheU1pbGxpcyAtIHRoZSBtYXhpbXVtIGRlbGF5IHRpbWUsIGluXG4gKiAgIG1pbGxpc2Vjb25kcywgYmV0d2VlbiByZXF1ZXN0cy4gV2hlbiB0aGlzIHZhbHVlIGlzIHJlYWNoZWQsXG4gKiAgIGBgcmV0cnlEZWxheU11bHRpcGxpZXJgYCB3aWxsIG5vIGxvbmdlciBiZSB1c2VkIHRvIGluY3JlYXNlIGRlbGF5IHRpbWUuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbFJwY1RpbWVvdXRNaWxsaXMgLSB0aGUgaW5pdGlhbCB0aW1lb3V0IHBhcmFtZXRlclxuICogICB0byB0aGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBycGNUaW1lb3V0TXVsdGlwbGllciAtIHRoZSBtdWx0aXBsaWVyIGJ5IHdoaWNoIHRvXG4gKiAgIGluY3JlYXNlIHRoZSB0aW1lb3V0IHBhcmFtZXRlciBiZXR3ZWVuIGZhaWxlZCByZXF1ZXN0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhScGNUaW1lb3V0TWlsbGlzIC0gdGhlIG1heGltdW0gdGltZW91dCBwYXJhbWV0ZXIsIGluXG4gKiAgIG1pbGxpc2Vjb25kcywgZm9yIGEgcmVxdWVzdC4gV2hlbiB0aGlzIHZhbHVlIGlzIHJlYWNoZWQsXG4gKiAgIGBgcnBjVGltZW91dE11bHRpcGxpZXJgYCB3aWxsIG5vIGxvbmdlciBiZSB1c2VkIHRvIGluY3JlYXNlIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJldHJpZXMgLSB0aGUgbWF4aW11bSBudW1iZXIgb2YgcmV0cnlpbmcgYXR0ZW1wdHMgdGhhdFxuICogICB3aWxsIGJlIG1hZGUuIElmIHJlYWNoZWQsIGFuIGVycm9yIHdpbGwgYmUgcmV0dXJuZWQuXG4gKiBAcmV0dXJuIHtCYWNrb2ZmU2V0dGluZ3N9IGEgbmV3IHNldHRpbmdzLlxuICpcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWF4UmV0cmllc0JhY2tvZmZTZXR0aW5ncyhpbml0aWFsUmV0cnlEZWxheU1pbGxpcywgcmV0cnlEZWxheU11bHRpcGxpZXIsIG1heFJldHJ5RGVsYXlNaWxsaXMsIGluaXRpYWxScGNUaW1lb3V0TWlsbGlzLCBycGNUaW1lb3V0TXVsdGlwbGllciwgbWF4UnBjVGltZW91dE1pbGxpcywgbWF4UmV0cmllcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGluaXRpYWxSZXRyeURlbGF5TWlsbGlzLFxuICAgICAgICByZXRyeURlbGF5TXVsdGlwbGllcixcbiAgICAgICAgbWF4UmV0cnlEZWxheU1pbGxpcyxcbiAgICAgICAgaW5pdGlhbFJwY1RpbWVvdXRNaWxsaXMsXG4gICAgICAgIHJwY1RpbWVvdXRNdWx0aXBsaWVyLFxuICAgICAgICBtYXhScGNUaW1lb3V0TWlsbGlzLFxuICAgICAgICBtYXhSZXRyaWVzLFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcge0BsaW5rIEJ1bmRsZU9wdGlvbnN9LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFuIG9iamVjdCB0byBob2xkIG9wdGlvbmFsIHBhcmFtZXRlcnMuIFNlZVxuICogICBwcm9wZXJ0aWVzIGZvciB0aGUgY29udGVudCBvZiBvcHRpb25zLlxuICogQHJldHVybiB7QnVuZGxlT3B0aW9uc30gLSBBIG5ldyBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCdW5kbGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBbXG4gICAgICAgICdlbGVtZW50X2NvdW50X3RocmVzaG9sZCcsXG4gICAgICAgICdlbGVtZW50X2NvdW50X2xpbWl0JyxcbiAgICAgICAgJ3JlcXVlc3RfYnl0ZV90aHJlc2hvbGQnLFxuICAgICAgICAncmVxdWVzdF9ieXRlX2xpbWl0JyxcbiAgICAgICAgJ2RlbGF5X3RocmVzaG9sZF9taWxsaXMnLFxuICAgIF07XG4gICAgcGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xuICAgICAgICBpZiAocGFyYW0gaW4gb3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9uc1twYXJhbV0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cGFyYW19IHNob3VsZCBiZSBhIG51bWJlcmApO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZWxlbWVudENvdW50VGhyZXNob2xkID0gb3B0aW9ucy5lbGVtZW50X2NvdW50X3RocmVzaG9sZCB8fCAwO1xuICAgIGNvbnN0IGVsZW1lbnRDb3VudExpbWl0ID0gb3B0aW9ucy5lbGVtZW50X2NvdW50X2xpbWl0IHx8IDA7XG4gICAgY29uc3QgcmVxdWVzdEJ5dGVUaHJlc2hvbGQgPSBvcHRpb25zLnJlcXVlc3RfYnl0ZV90aHJlc2hvbGQgfHwgMDtcbiAgICBjb25zdCByZXF1ZXN0Qnl0ZUxpbWl0ID0gb3B0aW9ucy5yZXF1ZXN0X2J5dGVfbGltaXQgfHwgMDtcbiAgICBjb25zdCBkZWxheVRocmVzaG9sZCA9IG9wdGlvbnMuZGVsYXlfdGhyZXNob2xkX21pbGxpcyB8fCAwO1xuICAgIGlmIChlbGVtZW50Q291bnRUaHJlc2hvbGQgPT09IDAgJiZcbiAgICAgICAgcmVxdWVzdEJ5dGVUaHJlc2hvbGQgPT09IDAgJiZcbiAgICAgICAgZGVsYXlUaHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbmUgdGhyZXNob2xkIHNob3VsZCBiZSA+IDAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudENvdW50VGhyZXNob2xkLFxuICAgICAgICBlbGVtZW50Q291bnRMaW1pdCxcbiAgICAgICAgcmVxdWVzdEJ5dGVUaHJlc2hvbGQsXG4gICAgICAgIHJlcXVlc3RCeXRlTGltaXQsXG4gICAgICAgIGRlbGF5VGhyZXNob2xkLFxuICAgIH07XG59XG4vKipcbiAqIEhlbHBlciBmb3Ige0BsaW5rIGNvbnN0cnVjdFNldHRpbmdzfVxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1ldGhvZENvbmZpZyAtIEEgZGljdGlvbmFyeSByZXByZXNlbnRpbmcgYSBzaW5nbGVcbiAqICAgYG1ldGhvZHNgIGVudHJ5IG9mIHRoZSBzdGFuZGFyZCBBUEkgY2xpZW50IGNvbmZpZyBmaWxlLiAoU2VlXG4gKiAgIHtAbGluayBjb25zdHJ1Y3RTZXR0aW5nc30gZm9yIGluZm9ybWF0aW9uIG9uIHRoaXMgeWFtbC4pXG4gKiBAcGFyYW0gez9PYmplY3R9IHJldHJ5Q29kZXMgLSBBIGRpY3Rpb25hcnkgcGFyc2VkIGZyb20gdGhlXG4gKiAgIGByZXRyeV9jb2Rlc19kZWZgIGVudHJ5IG9mIHRoZSBzdGFuZGFyZCBBUEkgY2xpZW50IGNvbmZpZ1xuICogICBmaWxlLiAoU2VlIHtAbGluayBjb25zdHJ1Y3RTZXR0aW5nc30gZm9yIGluZm9ybWF0aW9uIG9uIHRoaXMgeWFtbC4pXG4gKiBAcGFyYW0ge09iamVjdH0gcmV0cnlQYXJhbXMgLSBBIGRpY3Rpb25hcnkgcGFyc2VkIGZyb20gdGhlXG4gKiAgIGByZXRyeV9wYXJhbXNgIGVudHJ5IG9mIHRoZSBzdGFuZGFyZCBBUEkgY2xpZW50IGNvbmZpZ1xuICogICBmaWxlLiAoU2VlIHtAbGluayBjb25zdHJ1Y3RTZXR0aW5nc30gZm9yIGluZm9ybWF0aW9uIG9uIHRoaXMgeWFtbC4pXG4gKiBAcGFyYW0ge09iamVjdH0gcmV0cnlOYW1lcyAtIEEgZGljdGlvbmFyeSBtYXBwaW5nIHRoZSBzdHJpbmcgbmFtZXNcbiAqICAgdXNlZCBpbiB0aGUgc3RhbmRhcmQgQVBJIGNsaWVudCBjb25maWcgZmlsZSB0byBBUEkgcmVzcG9uc2VcbiAqICAgc3RhdHVzIGNvZGVzLlxuICogQHJldHVybiB7P1JldHJ5T3B0aW9uc30gVGhlIG5ldyByZXRyeSBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBjb25zdHJ1Y3RSZXRyeShtZXRob2RDb25maWcsIHJldHJ5Q29kZXMsIHJldHJ5UGFyYW1zLCByZXRyeU5hbWVzKSB7XG4gICAgaWYgKCFtZXRob2RDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBjb2RlcyA9IG51bGw7IC8vIHRoaXMgaXMgb25lIGluc3RhbmNlIHdoZXJlIGl0IHdpbGwgTk9UIGJlIGFuIGFycmF5IE9SIGEgZnVuY3Rpb24gYmVjYXVzZSB3ZSBkbyBub3QgYWxsb3cgc2hvdWxkUmV0cnlGbiBpbiB0aGUgY2xpZW50XG4gICAgaWYgKHJldHJ5Q29kZXMgJiYgJ3JldHJ5X2NvZGVzX25hbWUnIGluIG1ldGhvZENvbmZpZykge1xuICAgICAgICBjb25zdCByZXRyeUNvZGVzTmFtZSA9IG1ldGhvZENvbmZpZ1sncmV0cnlfY29kZXNfbmFtZSddO1xuICAgICAgICBjb2RlcyA9IChyZXRyeUNvZGVzW3JldHJ5Q29kZXNOYW1lXSB8fCBbXSkubWFwKG5hbWUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihyZXRyeU5hbWVzW25hbWVdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBiYWNrb2ZmU2V0dGluZ3MgPSBudWxsO1xuICAgIGlmIChyZXRyeVBhcmFtcyAmJiAncmV0cnlfcGFyYW1zX25hbWUnIGluIG1ldGhvZENvbmZpZykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSByZXRyeVBhcmFtc1ttZXRob2RDb25maWcucmV0cnlfcGFyYW1zX25hbWVdO1xuICAgICAgICBiYWNrb2ZmU2V0dGluZ3MgPSBjcmVhdGVCYWNrb2ZmU2V0dGluZ3MocGFyYW1zLmluaXRpYWxfcmV0cnlfZGVsYXlfbWlsbGlzLCBwYXJhbXMucmV0cnlfZGVsYXlfbXVsdGlwbGllciwgcGFyYW1zLm1heF9yZXRyeV9kZWxheV9taWxsaXMsIHBhcmFtcy5pbml0aWFsX3JwY190aW1lb3V0X21pbGxpcywgcGFyYW1zLnJwY190aW1lb3V0X211bHRpcGxpZXIsIHBhcmFtcy5tYXhfcnBjX3RpbWVvdXRfbWlsbGlzLCBwYXJhbXMudG90YWxfdGltZW91dF9taWxsaXMpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlUmV0cnlPcHRpb25zKGNvZGVzLCBiYWNrb2ZmU2V0dGluZ3MpO1xufVxuLyoqXG4gKiBIZWxwZXIgZm9yIHtAbGluayBjb25zdHJ1Y3RTZXR0aW5nc31cbiAqXG4gKiBUYWtlcyB0d28gcmV0cnkgb3B0aW9ucywgYW5kIG1lcmdlcyB0aGVtIGludG8gYSBzaW5nbGUgUmV0cnlPcHRpb24gaW5zdGFuY2UuXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge1JldHJ5T3B0aW9uc30gcmV0cnkgLSBUaGUgYmFzZSBSZXRyeU9wdGlvbnMuXG4gKiBAcGFyYW0ge1JldHJ5T3B0aW9uc30gb3ZlcnJpZGVzIC0gVGhlIFJldHJ5T3B0aW9ucyB1c2VkIGZvciBvdmVycmlkaW5nXG4gKiAgIGByZXRyeWAuIFVzZSB0aGUgdmFsdWVzIGlmIGl0IGlzIG5vdCBudWxsLiBJZiBlbnRpcmUgYG92ZXJyaWRlc2AgaXMgbnVsbCxcbiAqICAgaWdub3JlIHRoZSBiYXNlIHJldHJ5IGFuZCByZXR1cm4gbnVsbC5cbiAqIEByZXR1cm4gez9SZXRyeU9wdGlvbnN9IFRoZSBtZXJnZWQgUmV0cnlPcHRpb25zLlxuICovXG5mdW5jdGlvbiBtZXJnZVJldHJ5T3B0aW9ucyhyZXRyeSwgb3ZlcnJpZGVzKSB7XG4gICAgaWYgKCFvdmVycmlkZXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghb3ZlcnJpZGVzLnJldHJ5Q29kZXMgJiZcbiAgICAgICAgIW92ZXJyaWRlcy5iYWNrb2ZmU2V0dGluZ3MgJiZcbiAgICAgICAgIW92ZXJyaWRlcy5zaG91bGRSZXRyeUZuICYmXG4gICAgICAgICFvdmVycmlkZXMuZ2V0UmVzdW1wdGlvblJlcXVlc3RGbikge1xuICAgICAgICByZXR1cm4gcmV0cnk7XG4gICAgfVxuICAgIGNvbnN0IHJldHJ5Q29kZXMgPSBvdmVycmlkZXMucmV0cnlDb2Rlc1xuICAgICAgICA/IG92ZXJyaWRlcy5yZXRyeUNvZGVzXG4gICAgICAgIDogcmV0cnkucmV0cnlDb2RlcztcbiAgICBjb25zdCBiYWNrb2ZmU2V0dGluZ3MgPSBvdmVycmlkZXMuYmFja29mZlNldHRpbmdzXG4gICAgICAgID8gb3ZlcnJpZGVzLmJhY2tvZmZTZXR0aW5nc1xuICAgICAgICA6IHJldHJ5LmJhY2tvZmZTZXR0aW5ncztcbiAgICBjb25zdCBzaG91bGRSZXRyeUZuID0gb3ZlcnJpZGVzLnNob3VsZFJldHJ5Rm5cbiAgICAgICAgPyBvdmVycmlkZXMuc2hvdWxkUmV0cnlGblxuICAgICAgICA6IHJldHJ5LnNob3VsZFJldHJ5Rm47XG4gICAgY29uc3QgZ2V0UmVzdW1wdGlvblJlcXVlc3RGbiA9IG92ZXJyaWRlcy5nZXRSZXN1bXB0aW9uUmVxdWVzdEZuXG4gICAgICAgID8gb3ZlcnJpZGVzLmdldFJlc3VtcHRpb25SZXF1ZXN0Rm5cbiAgICAgICAgOiByZXRyeS5nZXRSZXN1bXB0aW9uUmVxdWVzdEZuO1xuICAgIHJldHVybiBjcmVhdGVSZXRyeU9wdGlvbnMocmV0cnlDb2RlcywgYmFja29mZlNldHRpbmdzLCBzaG91bGRSZXRyeUZuLCBnZXRSZXN1bXB0aW9uUmVxdWVzdEZuKTtcbn1cbi8qKlxuICogQ29uc3RydWN0cyBhIGRpY3Rpb25hcnkgbWFwcGluZyBtZXRob2QgbmFtZXMgdG8ge0BsaW5rIENhbGxTZXR0aW5nc30uXG4gKlxuICogVGhlIGBjbGllbnRDb25maWdgIHBhcmFtZXRlciBpcyBwYXJzZWQgZnJvbSBhIGNsaWVudCBjb25maWd1cmF0aW9uIEpTT05cbiAqIGZpbGUgb2YgdGhlIGZvcm06XG4gKlxuICogICAgIHtcbiAqICAgICAgIFwiaW50ZXJmYWNlc1wiOiB7XG4gKiAgICAgICAgIFwiZ29vZ2xlLmZha2UudjEuU2VydmljZU5hbWVcIjoge1xuICogICAgICAgICAgIFwicmV0cnlfY29kZXNcIjoge1xuICogICAgICAgICAgICAgXCJpZGVtcG90ZW50XCI6IFtcIlVOQVZBSUxBQkxFXCIsIFwiREVBRExJTkVfRVhDRUVERURcIl0sXG4gKiAgICAgICAgICAgICBcIm5vbl9pZGVtcG90ZW50XCI6IFtdXG4gKiAgICAgICAgICAgfSxcbiAqICAgICAgICAgICBcInJldHJ5X3BhcmFtc1wiOiB7XG4gKiAgICAgICAgICAgICBcImRlZmF1bHRcIjoge1xuICogICAgICAgICAgICAgICBcImluaXRpYWxfcmV0cnlfZGVsYXlfbWlsbGlzXCI6IDEwMCxcbiAqICAgICAgICAgICAgICAgXCJyZXRyeV9kZWxheV9tdWx0aXBsaWVyXCI6IDEuMixcbiAqICAgICAgICAgICAgICAgXCJtYXhfcmV0cnlfZGVsYXlfbWlsbGlzXCI6IDEwMDAsXG4gKiAgICAgICAgICAgICAgIFwiaW5pdGlhbF9ycGNfdGltZW91dF9taWxsaXNcIjogMjAwMCxcbiAqICAgICAgICAgICAgICAgXCJycGNfdGltZW91dF9tdWx0aXBsaWVyXCI6IDEuNSxcbiAqICAgICAgICAgICAgICAgXCJtYXhfcnBjX3RpbWVvdXRfbWlsbGlzXCI6IDMwMDAwLFxuICogICAgICAgICAgICAgICBcInRvdGFsX3RpbWVvdXRfbWlsbGlzXCI6IDQ1MDAwXG4gKiAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgfSxcbiAqICAgICAgICAgICBcIm1ldGhvZHNcIjoge1xuICogICAgICAgICAgICAgXCJDcmVhdGVGb29cIjoge1xuICogICAgICAgICAgICAgICBcInJldHJ5X2NvZGVzX25hbWVcIjogXCJpZGVtcG90ZW50XCIsXG4gKiAgICAgICAgICAgICAgIFwicmV0cnlfcGFyYW1zX25hbWVcIjogXCJkZWZhdWx0XCJcbiAqICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICBcIlB1Ymxpc2hcIjoge1xuICogICAgICAgICAgICAgICBcInJldHJ5X2NvZGVzX25hbWVcIjogXCJub25faWRlbXBvdGVudFwiLFxuICogICAgICAgICAgICAgICBcInJldHJ5X3BhcmFtc19uYW1lXCI6IFwiZGVmYXVsdFwiLFxuICogICAgICAgICAgICAgICBcImJ1bmRsaW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICBcImVsZW1lbnRfY291bnRfdGhyZXNob2xkXCI6IDQwLFxuICogICAgICAgICAgICAgICAgIFwiZWxlbWVudF9jb3VudF9saW1pdFwiOiAyMDAsXG4gKiAgICAgICAgICAgICAgICAgXCJyZXF1ZXN0X2J5dGVfdGhyZXNob2xkXCI6IDkwMDAwLFxuICogICAgICAgICAgICAgICAgIFwicmVxdWVzdF9ieXRlX2xpbWl0XCI6IDEwMDAwMCxcbiAqICAgICAgICAgICAgICAgICBcImRlbGF5X3RocmVzaG9sZF9taWxsaXNcIjogMTAwXG4gKiAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICB9XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNlcnZpY2VOYW1lIC0gVGhlIGZ1bGx5LXF1YWxpZmllZCBuYW1lIG9mIHRoaXNcbiAqICAgc2VydmljZSwgdXNlZCBhcyBhIGtleSBpbnRvIHRoZSBjbGllbnQgY29uZmlnIGZpbGUgKGluIHRoZVxuICogICBleGFtcGxlIGFib3ZlLCB0aGlzIHZhbHVlIHNob3VsZCBiZSAnZ29vZ2xlLmZha2UudjEuU2VydmljZU5hbWUnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnRDb25maWcgLSBBIGRpY3Rpb25hcnkgcGFyc2VkIGZyb20gdGhlXG4gKiAgIHN0YW5kYXJkIEFQSSBjbGllbnQgY29uZmlnIGZpbGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT3ZlcnJpZGVzIC0gQSBkaWN0aW9uYXJ5IGluIHRoZSBzYW1lIHN0cnVjdHVyZSBvZlxuICogICBjbGllbnRfY29uZmlnIHRvIG92ZXJyaWRlIHRoZSBzZXR0aW5ncy5cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIHN0cmluZ1tdPn0gcmV0cnlOYW1lcyAtIEEgZGljdGlvbmFyeSBtYXBwaW5nIHRoZSBzdHJpbmdzXG4gKiAgIHJlZmVycmluZyB0byByZXNwb25zZSBzdGF0dXMgY29kZXMgdG8gb2JqZWN0cyByZXByZXNlbnRpbmdcbiAqICAgdGhvc2UgY29kZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXJBcmdzIC0gdGhlIG5vbi1yZXF1ZXN0IGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gdGhlIEFQSVxuICogICBjYWxscy5cbiAqIEByZXR1cm4ge09iamVjdH0gQSBtYXBwaW5nIGZyb20gbWV0aG9kIG5hbWUgdG8gQ2FsbFNldHRpbmdzLCBvciBudWxsIGlmIHRoZVxuICogICBzZXJ2aWNlIGlzIG5vdCBmb3VuZCBpbiB0aGUgY29uZmlnLlxuICovXG5mdW5jdGlvbiBjb25zdHJ1Y3RTZXR0aW5ncyhzZXJ2aWNlTmFtZSwgY2xpZW50Q29uZmlnLCBjb25maWdPdmVycmlkZXMsIHJldHJ5TmFtZXMsIG90aGVyQXJncykge1xuICAgIG90aGVyQXJncyA9IG90aGVyQXJncyB8fCB7fTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IGRlZmF1bHRzID0ge307XG4gICAgY29uc3Qgc2VydmljZUNvbmZpZyA9IChjbGllbnRDb25maWcuaW50ZXJmYWNlcyB8fCB7fSlbc2VydmljZU5hbWVdO1xuICAgIGlmICghc2VydmljZUNvbmZpZykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gdXNlcnMgY2FuIG92ZXJyaWRlIHRoZSBjb25maWcgZnJvbSBjbGllbnQgc2lkZSwgbGlrZSBidW5kbGluZyBvcHRpb25zLlxuICAgIC8vIFRoZSBkZXRhaWxlZCBzdHJ1Y3R1cmUgb2YgdGhlIGNsaWVudENvbmZpZyBjYW4gYmUgZm91bmQgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9ibG9iL21haW4vc3JjL2dheC50cyNMNTQ2XG4gICAgLy8gVGhlIHdheSB0byBvdmVycmlkZSBidW5kbGluZyBvcHRpb25zOlxuICAgIC8vXG4gICAgLy8gY29uc3QgY3VzdG9tQ29uZmlnID0ge1wiaW50ZXJmYWNlc1wiOiB7XCJzZXJ2aWNlXCI6IHtcIm1ldGhvZHNcIjoge1wibWV0aG9kTmFtZVwiOiB7XCJidW5kbGluZ1wiOiB7Li59fX19fX1cbiAgICAvLyBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KHsgcHJvamVjdElkLCBjdXN0b21Db25maWcgfSk7XG4gICAgY29uc3Qgb3ZlcnJpZGVzID0gKGNvbmZpZ092ZXJyaWRlcy5pbnRlcmZhY2VzIHx8IHt9KVtzZXJ2aWNlTmFtZV0gfHwge307XG4gICAgY29uc3QgbWV0aG9kcyA9IHNlcnZpY2VDb25maWcubWV0aG9kcztcbiAgICBjb25zdCBvdmVycmlkaW5nTWV0aG9kcyA9IG92ZXJyaWRlcy5tZXRob2RzIHx8IHt9O1xuICAgIGZvciAoY29uc3QgbWV0aG9kTmFtZSBpbiBtZXRob2RzKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZENvbmZpZyA9IG1ldGhvZHNbbWV0aG9kTmFtZV07XG4gICAgICAgIGNvbnN0IGpzTmFtZSA9ICgwLCB1dGlsXzEudG9Mb3dlckNhbWVsQ2FzZSkobWV0aG9kTmFtZSk7XG4gICAgICAgIGxldCByZXRyeSA9IGNvbnN0cnVjdFJldHJ5KG1ldGhvZENvbmZpZywgc2VydmljZUNvbmZpZy5yZXRyeV9jb2Rlcywgc2VydmljZUNvbmZpZy5yZXRyeV9wYXJhbXMsIHJldHJ5TmFtZXMpO1xuICAgICAgICBsZXQgYnVuZGxpbmdDb25maWcgPSBtZXRob2RDb25maWcuYnVuZGxpbmc7XG4gICAgICAgIGxldCB0aW1lb3V0ID0gbWV0aG9kQ29uZmlnLnRpbWVvdXRfbWlsbGlzO1xuICAgICAgICBpZiAobWV0aG9kTmFtZSBpbiBvdmVycmlkaW5nTWV0aG9kcykge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcnJpZGluZ01ldGhvZCA9IG92ZXJyaWRpbmdNZXRob2RzW21ldGhvZE5hbWVdO1xuICAgICAgICAgICAgaWYgKG92ZXJyaWRpbmdNZXRob2QpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ2J1bmRsaW5nJyBpbiBvdmVycmlkaW5nTWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1bmRsaW5nQ29uZmlnID0gb3ZlcnJpZGluZ01ldGhvZC5idW5kbGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCd0aW1lb3V0X21pbGxpcycgaW4gb3ZlcnJpZGluZ01ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gb3ZlcnJpZGluZ01ldGhvZC50aW1lb3V0X21pbGxpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXRyeSA9IG1lcmdlUmV0cnlPcHRpb25zKHJldHJ5LCBjb25zdHJ1Y3RSZXRyeShvdmVycmlkaW5nTWV0aG9kLCBvdmVycmlkZXMucmV0cnlfY29kZXMsIG92ZXJyaWRlcy5yZXRyeV9wYXJhbXMsIHJldHJ5TmFtZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcGlOYW1lID0gc2VydmljZU5hbWU7XG4gICAgICAgIGRlZmF1bHRzW2pzTmFtZV0gPSBuZXcgQ2FsbFNldHRpbmdzKHtcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICByZXRyeSxcbiAgICAgICAgICAgIGJ1bmRsZU9wdGlvbnM6IGJ1bmRsaW5nQ29uZmlnXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVCdW5kbGVPcHRpb25zKGJ1bmRsaW5nQ29uZmlnKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgIG90aGVyQXJncyxcbiAgICAgICAgICAgIGFwaU5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdHM7XG59XG5mdW5jdGlvbiBjcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb24obWVzc2FnZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBnZXRCeXRlTGVuZ3RoKG9iaikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuZW5jb2RlKG9iaikuZmluaXNoKCkubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ2lmaWVkID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgICAgICgwLCB3YXJuaW5nc18xLndhcm4pKCdlcnJvcl9lbmNvZGluZ19wcm90b2J1ZmpzX29iamVjdCcsIGBDYW5ub3QgZW5jb2RlIHByb3RvYnVmLmpzIG9iamVjdDogJHtzdHJpbmdpZmllZH06ICR7ZXJyfWApO1xuICAgICAgICAgICAgLy8gV2UgZmFpbGVkIHRvIGVuY29kZSB0aGUgb2JqZWN0IHByb3Blcmx5LCBsZXQncyBqdXN0IHJldHVybiBhbiB1cHBlciBib3VuZGFyeSBvZiBpdHMgbGVuZ3RoLlxuICAgICAgICAgICAgLy8gSXQncyBvbmx5IG5lZWRlZCBmb3IgY2FsY3VsYXRpbmcgdGhlIHNpemUgb2YgdGhlIGJhdGNoLCBzbyBpdCdzIHNhZmUgaWYgaXQncyBiaWdnZXIgdGhhbiBuZWVkZWQuXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZWQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdheC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/gax.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/googleError.js":
/*!**********************************************************!*\
  !*** ./node_modules/google-gax/build/src/googleError.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GoogleErrorDecoder = exports.GoogleError = void 0;\nconst status_1 = __webpack_require__(/*! ./status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(action-browser)/./node_modules/protobufjs/index.js\");\nconst serializer = __webpack_require__(/*! proto3-json-serializer */ \"(action-browser)/./node_modules/proto3-json-serializer/build/src/index.js\");\nconst fallback_1 = __webpack_require__(/*! ./fallback */ \"(action-browser)/./node_modules/google-gax/build/src/fallback.js\");\nclass GoogleError extends Error {\n    // Parse details field in google.rpc.status wire over gRPC medatadata.\n    // Promote google.rpc.ErrorInfo if exist.\n    static parseGRPCStatusDetails(err) {\n        const decoder = new GoogleErrorDecoder();\n        try {\n            if (err.metadata && err.metadata.get('grpc-status-details-bin')) {\n                const statusDetailsObj = decoder.decodeGRPCStatusDetails(err.metadata.get('grpc-status-details-bin'));\n                if (statusDetailsObj &&\n                    statusDetailsObj.details &&\n                    statusDetailsObj.details.length > 0) {\n                    err.statusDetails = statusDetailsObj.details;\n                }\n                if (statusDetailsObj && statusDetailsObj.errorInfo) {\n                    err.reason = statusDetailsObj.errorInfo.reason;\n                    err.domain = statusDetailsObj.errorInfo.domain;\n                    err.errorInfoMetadata = statusDetailsObj.errorInfo.metadata;\n                }\n            }\n        }\n        catch (decodeErr) {\n            // ignoring the error\n        }\n        return err;\n    }\n    // Parse http JSON error and promote google.rpc.ErrorInfo if exist.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static parseHttpError(json) {\n        if (Array.isArray(json)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            json = json.find((obj) => {\n                return 'error' in obj;\n            });\n        }\n        // fallback logic.\n        // related issue: https://github.com/googleapis/gax-nodejs/issues/1303\n        // google error mapping: https://cloud.google.com/apis/design/errors\n        // if input json doesn't have 'error' fields, wrap the whole object with 'error' field\n        if (!json['error']) {\n            json['error'] = {};\n            Object.keys(json)\n                .filter(key => key !== 'error')\n                .forEach(key => {\n                json['error'][key] = json[key];\n                delete json[key];\n            });\n        }\n        const decoder = new GoogleErrorDecoder();\n        const proto3Error = decoder.decodeHTTPError(json['error']);\n        const error = Object.assign(new GoogleError(json['error']['message']), proto3Error);\n        // Map Http Status Code to gRPC Status Code\n        if (json['error']['code']) {\n            error.code = (0, status_1.rpcCodeFromHttpStatusCode)(json['error']['code']);\n        }\n        else {\n            // If error code is absent, proto3 message default value is 0. We should\n            // keep error code as undefined.\n            delete error.code;\n        }\n        // Keep consistency with gRPC statusDetails fields. gRPC details has been occupied before.\n        // Rename \"details\" to \"statusDetails\".\n        if (error.details) {\n            try {\n                const statusDetailsObj = decoder.decodeHttpStatusDetails(error.details);\n                if (statusDetailsObj &&\n                    statusDetailsObj.details &&\n                    statusDetailsObj.details.length > 0) {\n                    error.statusDetails = statusDetailsObj.details;\n                }\n                if (statusDetailsObj && statusDetailsObj.errorInfo) {\n                    error.reason = statusDetailsObj.errorInfo.reason;\n                    error.domain = statusDetailsObj.errorInfo.domain;\n                    // error.metadata has been occupied for gRPC metadata, so we use\n                    // errorInfoMetadata to represent ErrorInfo' metadata field. Keep\n                    // consistency with gRPC ErrorInfo metadata field name.\n                    error.errorInfoMetadata = statusDetailsObj.errorInfo.metadata;\n                }\n            }\n            catch (decodeErr) {\n                // ignoring the error\n            }\n        }\n        return error;\n    }\n}\nexports.GoogleError = GoogleError;\nclass GoogleErrorDecoder {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        const errorProtoJson = __webpack_require__(/*! ../../build/protos/status.json */ \"(action-browser)/./node_modules/google-gax/build/protos/status.json\");\n        this.root = protobuf.Root.fromJSON(errorProtoJson);\n        this.anyType = this.root.lookupType('google.protobuf.Any');\n        this.statusType = this.root.lookupType('google.rpc.Status');\n    }\n    decodeProtobufAny(anyValue) {\n        const match = anyValue.type_url.match(/^type.googleapis.com\\/(.*)/);\n        if (!match) {\n            throw new Error(`Unknown type encoded in google.protobuf.any: ${anyValue.type_url}`);\n        }\n        const typeName = match[1];\n        const type = this.root.lookupType(typeName);\n        if (!type) {\n            throw new Error(`Cannot lookup type ${typeName}`);\n        }\n        return type.decode(anyValue.value);\n    }\n    // Decodes gRPC-fallback error which is an instance of google.rpc.Status.\n    decodeRpcStatus(buffer) {\n        const uint8array = new Uint8Array(buffer);\n        const status = this.statusType.decode(uint8array);\n        // google.rpc.Status contains an array of google.protobuf.Any\n        // which need a special treatment\n        const details = [];\n        let errorInfo;\n        for (const detail of status.details) {\n            try {\n                const decodedDetail = this.decodeProtobufAny(detail);\n                details.push(decodedDetail);\n                if (detail.type_url === 'type.googleapis.com/google.rpc.ErrorInfo') {\n                    errorInfo = decodedDetail;\n                }\n            }\n            catch (err) {\n                // cannot decode detail, likely because of the unknown type - just skip it\n            }\n        }\n        const result = {\n            code: status.code,\n            message: status.message,\n            statusDetails: details,\n            reason: errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.reason,\n            domain: errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.domain,\n            errorInfoMetadata: errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.metadata,\n        };\n        return result;\n    }\n    // Construct an Error from a StatusObject.\n    // Adapted from https://github.com/grpc/grpc-node/blob/main/packages/grpc-js/src/call.ts#L79\n    callErrorFromStatus(status) {\n        status.message = `${status.code} ${status_1.Status[status.code]}: ${status.message}`;\n        return Object.assign(new GoogleError(status.message), status);\n    }\n    // Decodes gRPC-fallback error which is an instance of google.rpc.Status,\n    // and puts it into the object similar to gRPC ServiceError object.\n    decodeErrorFromBuffer(buffer) {\n        return this.callErrorFromStatus(this.decodeRpcStatus(buffer));\n    }\n    // Decodes gRPC metadata error details which is an instance of google.rpc.Status.\n    decodeGRPCStatusDetails(bufferArr) {\n        const details = [];\n        let errorInfo;\n        bufferArr.forEach(buffer => {\n            const uint8array = new Uint8Array(buffer);\n            const rpcStatus = this.statusType.decode(uint8array);\n            for (const detail of rpcStatus.details) {\n                try {\n                    const decodedDetail = this.decodeProtobufAny(detail);\n                    details.push(decodedDetail);\n                    if (detail.type_url === 'type.googleapis.com/google.rpc.ErrorInfo') {\n                        errorInfo = decodedDetail;\n                    }\n                }\n                catch (err) {\n                    // cannot decode detail, likely because of the unknown type - just skip it\n                }\n            }\n        });\n        const result = {\n            details,\n            errorInfo,\n        };\n        return result;\n    }\n    // Decodes http error which is an instance of google.rpc.Status.\n    decodeHTTPError(json) {\n        const errorMessage = serializer.fromProto3JSON(this.statusType, json);\n        if (!errorMessage) {\n            throw new Error(`Received error message ${json}, but failed to serialize as proto3 message`);\n        }\n        return this.statusType.toObject(errorMessage, fallback_1.defaultToObjectOptions);\n    }\n    // Decodes http error details which is an instance of Array<google.protobuf.Any>.\n    decodeHttpStatusDetails(rawDetails) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const details = [];\n        let errorInfo;\n        for (const detail of rawDetails) {\n            try {\n                const decodedDetail = this.decodeProtobufAny(detail);\n                details.push(decodedDetail);\n                if (detail.type_url === 'type.googleapis.com/google.rpc.ErrorInfo') {\n                    errorInfo = decodedDetail;\n                }\n            }\n            catch (err) {\n                // cannot decode detail, likely because of the unknown type - just skip it\n            }\n        }\n        return { details, errorInfo };\n    }\n}\nexports.GoogleErrorDecoder = GoogleErrorDecoder;\n//# sourceMappingURL=googleError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9nb29nbGVFcnJvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsR0FBRyxtQkFBbUI7QUFDaEQsaUJBQWlCLG1CQUFPLENBQUMsZ0ZBQVU7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsdUVBQVk7QUFDckMsbUJBQW1CLG1CQUFPLENBQUMseUdBQXdCO0FBQ25ELG1CQUFtQixtQkFBTyxDQUFDLG9GQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsbUJBQU8sQ0FBQywyR0FBZ0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsa0JBQWtCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFNBQVM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWEsRUFBRSw2QkFBNkIsSUFBSSxlQUFlO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsS0FBSztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9nb29nbGVFcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR29vZ2xlRXJyb3JEZWNvZGVyID0gZXhwb3J0cy5Hb29nbGVFcnJvciA9IHZvaWQgMDtcbmNvbnN0IHN0YXR1c18xID0gcmVxdWlyZShcIi4vc3RhdHVzXCIpO1xuY29uc3QgcHJvdG9idWYgPSByZXF1aXJlKFwicHJvdG9idWZqc1wiKTtcbmNvbnN0IHNlcmlhbGl6ZXIgPSByZXF1aXJlKFwicHJvdG8zLWpzb24tc2VyaWFsaXplclwiKTtcbmNvbnN0IGZhbGxiYWNrXzEgPSByZXF1aXJlKFwiLi9mYWxsYmFja1wiKTtcbmNsYXNzIEdvb2dsZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8vIFBhcnNlIGRldGFpbHMgZmllbGQgaW4gZ29vZ2xlLnJwYy5zdGF0dXMgd2lyZSBvdmVyIGdSUEMgbWVkYXRhZGF0YS5cbiAgICAvLyBQcm9tb3RlIGdvb2dsZS5ycGMuRXJyb3JJbmZvIGlmIGV4aXN0LlxuICAgIHN0YXRpYyBwYXJzZUdSUENTdGF0dXNEZXRhaWxzKGVycikge1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IEdvb2dsZUVycm9yRGVjb2RlcigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGVyci5tZXRhZGF0YSAmJiBlcnIubWV0YWRhdGEuZ2V0KCdncnBjLXN0YXR1cy1kZXRhaWxzLWJpbicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzRGV0YWlsc09iaiA9IGRlY29kZXIuZGVjb2RlR1JQQ1N0YXR1c0RldGFpbHMoZXJyLm1ldGFkYXRhLmdldCgnZ3JwYy1zdGF0dXMtZGV0YWlscy1iaW4nKSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0RldGFpbHNPYmogJiZcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRGV0YWlsc09iai5kZXRhaWxzICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0RldGFpbHNPYmouZGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVyci5zdGF0dXNEZXRhaWxzID0gc3RhdHVzRGV0YWlsc09iai5kZXRhaWxzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzRGV0YWlsc09iaiAmJiBzdGF0dXNEZXRhaWxzT2JqLmVycm9ySW5mbykge1xuICAgICAgICAgICAgICAgICAgICBlcnIucmVhc29uID0gc3RhdHVzRGV0YWlsc09iai5lcnJvckluZm8ucmVhc29uO1xuICAgICAgICAgICAgICAgICAgICBlcnIuZG9tYWluID0gc3RhdHVzRGV0YWlsc09iai5lcnJvckluZm8uZG9tYWluO1xuICAgICAgICAgICAgICAgICAgICBlcnIuZXJyb3JJbmZvTWV0YWRhdGEgPSBzdGF0dXNEZXRhaWxzT2JqLmVycm9ySW5mby5tZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGRlY29kZUVycikge1xuICAgICAgICAgICAgLy8gaWdub3JpbmcgdGhlIGVycm9yXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gICAgLy8gUGFyc2UgaHR0cCBKU09OIGVycm9yIGFuZCBwcm9tb3RlIGdvb2dsZS5ycGMuRXJyb3JJbmZvIGlmIGV4aXN0LlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIHBhcnNlSHR0cEVycm9yKGpzb24pIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBqc29uID0ganNvbi5maW5kKChvYmopID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Vycm9yJyBpbiBvYmo7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWxsYmFjayBsb2dpYy5cbiAgICAgICAgLy8gcmVsYXRlZCBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9pc3N1ZXMvMTMwM1xuICAgICAgICAvLyBnb29nbGUgZXJyb3IgbWFwcGluZzogaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2FwaXMvZGVzaWduL2Vycm9yc1xuICAgICAgICAvLyBpZiBpbnB1dCBqc29uIGRvZXNuJ3QgaGF2ZSAnZXJyb3InIGZpZWxkcywgd3JhcCB0aGUgd2hvbGUgb2JqZWN0IHdpdGggJ2Vycm9yJyBmaWVsZFxuICAgICAgICBpZiAoIWpzb25bJ2Vycm9yJ10pIHtcbiAgICAgICAgICAgIGpzb25bJ2Vycm9yJ10gPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGpzb24pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnZXJyb3InKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAganNvblsnZXJyb3InXVtrZXldID0ganNvbltrZXldO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IEdvb2dsZUVycm9yRGVjb2RlcigpO1xuICAgICAgICBjb25zdCBwcm90bzNFcnJvciA9IGRlY29kZXIuZGVjb2RlSFRUUEVycm9yKGpzb25bJ2Vycm9yJ10pO1xuICAgICAgICBjb25zdCBlcnJvciA9IE9iamVjdC5hc3NpZ24obmV3IEdvb2dsZUVycm9yKGpzb25bJ2Vycm9yJ11bJ21lc3NhZ2UnXSksIHByb3RvM0Vycm9yKTtcbiAgICAgICAgLy8gTWFwIEh0dHAgU3RhdHVzIENvZGUgdG8gZ1JQQyBTdGF0dXMgQ29kZVxuICAgICAgICBpZiAoanNvblsnZXJyb3InXVsnY29kZSddKSB7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gKDAsIHN0YXR1c18xLnJwY0NvZGVGcm9tSHR0cFN0YXR1c0NvZGUpKGpzb25bJ2Vycm9yJ11bJ2NvZGUnXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBlcnJvciBjb2RlIGlzIGFic2VudCwgcHJvdG8zIG1lc3NhZ2UgZGVmYXVsdCB2YWx1ZSBpcyAwLiBXZSBzaG91bGRcbiAgICAgICAgICAgIC8vIGtlZXAgZXJyb3IgY29kZSBhcyB1bmRlZmluZWQuXG4gICAgICAgICAgICBkZWxldGUgZXJyb3IuY29kZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBLZWVwIGNvbnNpc3RlbmN5IHdpdGggZ1JQQyBzdGF0dXNEZXRhaWxzIGZpZWxkcy4gZ1JQQyBkZXRhaWxzIGhhcyBiZWVuIG9jY3VwaWVkIGJlZm9yZS5cbiAgICAgICAgLy8gUmVuYW1lIFwiZGV0YWlsc1wiIHRvIFwic3RhdHVzRGV0YWlsc1wiLlxuICAgICAgICBpZiAoZXJyb3IuZGV0YWlscykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNEZXRhaWxzT2JqID0gZGVjb2Rlci5kZWNvZGVIdHRwU3RhdHVzRGV0YWlscyhlcnJvci5kZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzRGV0YWlsc09iaiAmJlxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNEZXRhaWxzT2JqLmRldGFpbHMgJiZcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRGV0YWlsc09iai5kZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3Iuc3RhdHVzRGV0YWlscyA9IHN0YXR1c0RldGFpbHNPYmouZGV0YWlscztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0RldGFpbHNPYmogJiYgc3RhdHVzRGV0YWlsc09iai5lcnJvckluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucmVhc29uID0gc3RhdHVzRGV0YWlsc09iai5lcnJvckluZm8ucmVhc29uO1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5kb21haW4gPSBzdGF0dXNEZXRhaWxzT2JqLmVycm9ySW5mby5kb21haW47XG4gICAgICAgICAgICAgICAgICAgIC8vIGVycm9yLm1ldGFkYXRhIGhhcyBiZWVuIG9jY3VwaWVkIGZvciBnUlBDIG1ldGFkYXRhLCBzbyB3ZSB1c2VcbiAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3JJbmZvTWV0YWRhdGEgdG8gcmVwcmVzZW50IEVycm9ySW5mbycgbWV0YWRhdGEgZmllbGQuIEtlZXBcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc2lzdGVuY3kgd2l0aCBnUlBDIEVycm9ySW5mbyBtZXRhZGF0YSBmaWVsZCBuYW1lLlxuICAgICAgICAgICAgICAgICAgICBlcnJvci5lcnJvckluZm9NZXRhZGF0YSA9IHN0YXR1c0RldGFpbHNPYmouZXJyb3JJbmZvLm1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChkZWNvZGVFcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmluZyB0aGUgZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxufVxuZXhwb3J0cy5Hb29nbGVFcnJvciA9IEdvb2dsZUVycm9yO1xuY2xhc3MgR29vZ2xlRXJyb3JEZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbiAgICAgICAgY29uc3QgZXJyb3JQcm90b0pzb24gPSByZXF1aXJlKCcuLi8uLi9idWlsZC9wcm90b3Mvc3RhdHVzLmpzb24nKTtcbiAgICAgICAgdGhpcy5yb290ID0gcHJvdG9idWYuUm9vdC5mcm9tSlNPTihlcnJvclByb3RvSnNvbik7XG4gICAgICAgIHRoaXMuYW55VHlwZSA9IHRoaXMucm9vdC5sb29rdXBUeXBlKCdnb29nbGUucHJvdG9idWYuQW55Jyk7XG4gICAgICAgIHRoaXMuc3RhdHVzVHlwZSA9IHRoaXMucm9vdC5sb29rdXBUeXBlKCdnb29nbGUucnBjLlN0YXR1cycpO1xuICAgIH1cbiAgICBkZWNvZGVQcm90b2J1ZkFueShhbnlWYWx1ZSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IGFueVZhbHVlLnR5cGVfdXJsLm1hdGNoKC9edHlwZS5nb29nbGVhcGlzLmNvbVxcLyguKikvKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHR5cGUgZW5jb2RlZCBpbiBnb29nbGUucHJvdG9idWYuYW55OiAke2FueVZhbHVlLnR5cGVfdXJsfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGVOYW1lID0gbWF0Y2hbMV07XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnJvb3QubG9va3VwVHlwZSh0eXBlTmFtZSk7XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbG9va3VwIHR5cGUgJHt0eXBlTmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZS5kZWNvZGUoYW55VmFsdWUudmFsdWUpO1xuICAgIH1cbiAgICAvLyBEZWNvZGVzIGdSUEMtZmFsbGJhY2sgZXJyb3Igd2hpY2ggaXMgYW4gaW5zdGFuY2Ugb2YgZ29vZ2xlLnJwYy5TdGF0dXMuXG4gICAgZGVjb2RlUnBjU3RhdHVzKGJ1ZmZlcikge1xuICAgICAgICBjb25zdCB1aW50OGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zdGF0dXNUeXBlLmRlY29kZSh1aW50OGFycmF5KTtcbiAgICAgICAgLy8gZ29vZ2xlLnJwYy5TdGF0dXMgY29udGFpbnMgYW4gYXJyYXkgb2YgZ29vZ2xlLnByb3RvYnVmLkFueVxuICAgICAgICAvLyB3aGljaCBuZWVkIGEgc3BlY2lhbCB0cmVhdG1lbnRcbiAgICAgICAgY29uc3QgZGV0YWlscyA9IFtdO1xuICAgICAgICBsZXQgZXJyb3JJbmZvO1xuICAgICAgICBmb3IgKGNvbnN0IGRldGFpbCBvZiBzdGF0dXMuZGV0YWlscykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkRGV0YWlsID0gdGhpcy5kZWNvZGVQcm90b2J1ZkFueShkZXRhaWwpO1xuICAgICAgICAgICAgICAgIGRldGFpbHMucHVzaChkZWNvZGVkRGV0YWlsKTtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWlsLnR5cGVfdXJsID09PSAndHlwZS5nb29nbGVhcGlzLmNvbS9nb29nbGUucnBjLkVycm9ySW5mbycpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JJbmZvID0gZGVjb2RlZERldGFpbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gY2Fubm90IGRlY29kZSBkZXRhaWwsIGxpa2VseSBiZWNhdXNlIG9mIHRoZSB1bmtub3duIHR5cGUgLSBqdXN0IHNraXAgaXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICBjb2RlOiBzdGF0dXMuY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHN0YXR1cy5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhdHVzRGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgICAgIHJlYXNvbjogZXJyb3JJbmZvID09PSBudWxsIHx8IGVycm9ySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3JJbmZvLnJlYXNvbixcbiAgICAgICAgICAgIGRvbWFpbjogZXJyb3JJbmZvID09PSBudWxsIHx8IGVycm9ySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3JJbmZvLmRvbWFpbixcbiAgICAgICAgICAgIGVycm9ySW5mb01ldGFkYXRhOiBlcnJvckluZm8gPT09IG51bGwgfHwgZXJyb3JJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvckluZm8ubWV0YWRhdGEsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIENvbnN0cnVjdCBhbiBFcnJvciBmcm9tIGEgU3RhdHVzT2JqZWN0LlxuICAgIC8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjLW5vZGUvYmxvYi9tYWluL3BhY2thZ2VzL2dycGMtanMvc3JjL2NhbGwudHMjTDc5XG4gICAgY2FsbEVycm9yRnJvbVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgc3RhdHVzLm1lc3NhZ2UgPSBgJHtzdGF0dXMuY29kZX0gJHtzdGF0dXNfMS5TdGF0dXNbc3RhdHVzLmNvZGVdfTogJHtzdGF0dXMubWVzc2FnZX1gO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgR29vZ2xlRXJyb3Ioc3RhdHVzLm1lc3NhZ2UpLCBzdGF0dXMpO1xuICAgIH1cbiAgICAvLyBEZWNvZGVzIGdSUEMtZmFsbGJhY2sgZXJyb3Igd2hpY2ggaXMgYW4gaW5zdGFuY2Ugb2YgZ29vZ2xlLnJwYy5TdGF0dXMsXG4gICAgLy8gYW5kIHB1dHMgaXQgaW50byB0aGUgb2JqZWN0IHNpbWlsYXIgdG8gZ1JQQyBTZXJ2aWNlRXJyb3Igb2JqZWN0LlxuICAgIGRlY29kZUVycm9yRnJvbUJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbEVycm9yRnJvbVN0YXR1cyh0aGlzLmRlY29kZVJwY1N0YXR1cyhidWZmZXIpKTtcbiAgICB9XG4gICAgLy8gRGVjb2RlcyBnUlBDIG1ldGFkYXRhIGVycm9yIGRldGFpbHMgd2hpY2ggaXMgYW4gaW5zdGFuY2Ugb2YgZ29vZ2xlLnJwYy5TdGF0dXMuXG4gICAgZGVjb2RlR1JQQ1N0YXR1c0RldGFpbHMoYnVmZmVyQXJyKSB7XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgICAgbGV0IGVycm9ySW5mbztcbiAgICAgICAgYnVmZmVyQXJyLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVpbnQ4YXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgY29uc3QgcnBjU3RhdHVzID0gdGhpcy5zdGF0dXNUeXBlLmRlY29kZSh1aW50OGFycmF5KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGV0YWlsIG9mIHJwY1N0YXR1cy5kZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVjb2RlZERldGFpbCA9IHRoaXMuZGVjb2RlUHJvdG9idWZBbnkoZGV0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5wdXNoKGRlY29kZWREZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlsLnR5cGVfdXJsID09PSAndHlwZS5nb29nbGVhcGlzLmNvbS9nb29nbGUucnBjLkVycm9ySW5mbycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ySW5mbyA9IGRlY29kZWREZXRhaWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYW5ub3QgZGVjb2RlIGRldGFpbCwgbGlrZWx5IGJlY2F1c2Ugb2YgdGhlIHVua25vd24gdHlwZSAtIGp1c3Qgc2tpcCBpdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGRldGFpbHMsXG4gICAgICAgICAgICBlcnJvckluZm8sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIERlY29kZXMgaHR0cCBlcnJvciB3aGljaCBpcyBhbiBpbnN0YW5jZSBvZiBnb29nbGUucnBjLlN0YXR1cy5cbiAgICBkZWNvZGVIVFRQRXJyb3IoanNvbikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBzZXJpYWxpemVyLmZyb21Qcm90bzNKU09OKHRoaXMuc3RhdHVzVHlwZSwganNvbik7XG4gICAgICAgIGlmICghZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY2VpdmVkIGVycm9yIG1lc3NhZ2UgJHtqc29ufSwgYnV0IGZhaWxlZCB0byBzZXJpYWxpemUgYXMgcHJvdG8zIG1lc3NhZ2VgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0dXNUeXBlLnRvT2JqZWN0KGVycm9yTWVzc2FnZSwgZmFsbGJhY2tfMS5kZWZhdWx0VG9PYmplY3RPcHRpb25zKTtcbiAgICB9XG4gICAgLy8gRGVjb2RlcyBodHRwIGVycm9yIGRldGFpbHMgd2hpY2ggaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXk8Z29vZ2xlLnByb3RvYnVmLkFueT4uXG4gICAgZGVjb2RlSHR0cFN0YXR1c0RldGFpbHMocmF3RGV0YWlscykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgICAgbGV0IGVycm9ySW5mbztcbiAgICAgICAgZm9yIChjb25zdCBkZXRhaWwgb2YgcmF3RGV0YWlscykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkRGV0YWlsID0gdGhpcy5kZWNvZGVQcm90b2J1ZkFueShkZXRhaWwpO1xuICAgICAgICAgICAgICAgIGRldGFpbHMucHVzaChkZWNvZGVkRGV0YWlsKTtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWlsLnR5cGVfdXJsID09PSAndHlwZS5nb29nbGVhcGlzLmNvbS9nb29nbGUucnBjLkVycm9ySW5mbycpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JJbmZvID0gZGVjb2RlZERldGFpbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gY2Fubm90IGRlY29kZSBkZXRhaWwsIGxpa2VseSBiZWNhdXNlIG9mIHRoZSB1bmtub3duIHR5cGUgLSBqdXN0IHNraXAgaXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkZXRhaWxzLCBlcnJvckluZm8gfTtcbiAgICB9XG59XG5leHBvcnRzLkdvb2dsZUVycm9yRGVjb2RlciA9IEdvb2dsZUVycm9yRGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdvb2dsZUVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/googleError.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/grpc.js":
/*!***************************************************!*\
  !*** ./node_modules/google-gax/build/src/grpc.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GoogleProtoFilesRoot = exports.GrpcClient = exports.ClientStub = void 0;\nconst grpcProtoLoader = __webpack_require__(/*! @grpc/proto-loader */ \"(action-browser)/./node_modules/@grpc/proto-loader/build/src/index.js\");\nconst child_process_1 = __webpack_require__(/*! child_process */ \"child_process\");\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(action-browser)/./node_modules/google-auth-library/build/src/index.js\");\nconst grpc = __webpack_require__(/*! @grpc/grpc-js */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\");\nconst os = __webpack_require__(/*! os */ \"os\");\nconst path_1 = __webpack_require__(/*! path */ \"path\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(action-browser)/./node_modules/protobufjs/index.js\");\nconst objectHash = __webpack_require__(/*! object-hash */ \"(action-browser)/./node_modules/object-hash/index.js\");\nconst gax = __webpack_require__(/*! ./gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nconst googleProtoFilesDir = path.join(__dirname, '..', '..', 'build', 'protos');\n// INCLUDE_DIRS is passed to @grpc/proto-loader\nconst INCLUDE_DIRS = [];\nINCLUDE_DIRS.push(googleProtoFilesDir);\n// COMMON_PROTO_FILES logic is here for protobufjs loads (see\n// GoogleProtoFilesRoot below)\nconst commonProtoFiles = __webpack_require__(/*! ./protosList.json */ \"(action-browser)/./node_modules/google-gax/build/src/protosList.json\");\n// use the correct path separator for the OS we are running on\nconst COMMON_PROTO_FILES = commonProtoFiles.map(file => file.replace(/[/\\\\]/g, path.sep));\n/*\n * Async version of readFile.\n *\n * @returns {Promise} Contents of file at path.\n */\nasync function readFileAsync(path) {\n    return new Promise((resolve, reject) => {\n        fs.readFile(path, 'utf8', (err, content) => {\n            if (err)\n                return reject(err);\n            else\n                resolve(content);\n        });\n    });\n}\n/*\n * Async version of execFile.\n *\n * @returns {Promise} stdout from command execution.\n */\nasync function execFileAsync(command, args) {\n    return new Promise((resolve, reject) => {\n        (0, child_process_1.execFile)(command, args, (err, stdout) => {\n            if (err)\n                return reject(err);\n            else\n                resolve(stdout);\n        });\n    });\n}\nclass ClientStub extends grpc.Client {\n}\nexports.ClientStub = ClientStub;\nclass GrpcClient {\n    /**\n     * Key for proto cache map. We are doing our best to make sure we respect\n     * the options, so if the same proto file is loaded with different set of\n     * options, the cache won't be used.  Since some of the options are\n     * Functions (e.g. `enums: String` - see below in `loadProto()`),\n     * they will be omitted from the cache key.  If the cache breaks anything\n     * for you, use the `ignoreCache` parameter of `loadProto()` to disable it.\n     */\n    static protoCacheKey(filename, options) {\n        if (!filename ||\n            (Array.isArray(filename) && (filename.length === 0 || !filename[0]))) {\n            return undefined;\n        }\n        return JSON.stringify(filename) + ' ' + JSON.stringify(options);\n    }\n    /**\n     * In rare cases users might need to deallocate all memory consumed by loaded protos.\n     * This method will delete the proto cache content.\n     */\n    static clearProtoCache() {\n        GrpcClient.protoCache.clear();\n    }\n    /**\n     * A class which keeps the context of gRPC and auth for the gRPC.\n     *\n     * @param {Object=} options - The optional parameters. It will be directly\n     *   passed to google-auth-library library, so parameters like keyFile or\n     *   credentials will be valid.\n     * @param {Object=} options.auth - An instance of google-auth-library.\n     *   When specified, this auth instance will be used instead of creating\n     *   a new one.\n     * @param {Object=} options.grpc - When specified, this will be used\n     *   for the 'grpc' module in this context. By default, it will load the grpc\n     *   module in the standard way.\n     * @constructor\n     */\n    constructor(options = {}) {\n        var _a;\n        this.auth = options.auth || new google_auth_library_1.GoogleAuth(options);\n        this.fallback = false;\n        const minimumVersion = 10;\n        const major = Number((_a = process.version.match(/^v(\\d+)/)) === null || _a === void 0 ? void 0 : _a[1]);\n        if (Number.isNaN(major) || major < minimumVersion) {\n            const errorMessage = `Node.js v${minimumVersion}.0.0 is a minimum requirement. To learn about legacy version support visit: ` +\n                'https://github.com/googleapis/google-cloud-node#supported-nodejs-versions';\n            throw new Error(errorMessage);\n        }\n        if ('grpc' in options) {\n            this.grpc = options.grpc;\n            this.grpcVersion = '';\n        }\n        else {\n            this.grpc = grpc;\n            this.grpcVersion = (__webpack_require__(/*! @grpc/grpc-js/package.json */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json\").version);\n        }\n    }\n    /**\n     * Creates a gRPC credentials. It asks the auth data if necessary.\n     * @private\n     * @param {Object} opts - options values for configuring credentials.\n     * @param {Object=} opts.sslCreds - when specified, this is used instead\n     *   of default channel credentials.\n     * @return {Promise} The promise which will be resolved to the gRPC credential.\n     */\n    async _getCredentials(opts) {\n        if (opts.sslCreds) {\n            return opts.sslCreds;\n        }\n        const grpc = this.grpc;\n        const sslCreds = opts.cert && opts.key\n            ? grpc.credentials.createSsl(null, Buffer.from(opts.key), Buffer.from(opts.cert))\n            : grpc.credentials.createSsl();\n        const client = await this.auth.getClient();\n        const credentials = grpc.credentials.combineChannelCredentials(sslCreds, grpc.credentials.createFromGoogleCredential(client));\n        return credentials;\n    }\n    static defaultOptions() {\n        // This set of @grpc/proto-loader options\n        // 'closely approximates the existing behavior of grpc.load'\n        const includeDirs = INCLUDE_DIRS.slice();\n        const options = {\n            keepCase: false,\n            longs: String,\n            enums: String,\n            defaults: true,\n            oneofs: true,\n            includeDirs,\n        };\n        return options;\n    }\n    /**\n     * Loads the gRPC service from the proto file(s) at the given path and with the\n     * given options. Caches the loaded protos so the subsequent loads don't do\n     * any disk reads.\n     * @param filename The path to the proto file(s).\n     * @param options Options for loading the proto file.\n     * @param ignoreCache Defaults to `false`. Set it to `true` if the caching logic\n     *   incorrectly decides that the options object is the same, or if you want to\n     *   re-read the protos from disk for any other reason.\n     */\n    loadFromProto(filename, options, ignoreCache = false) {\n        const cacheKey = GrpcClient.protoCacheKey(filename, options);\n        let grpcPackage = cacheKey\n            ? GrpcClient.protoCache.get(cacheKey)\n            : undefined;\n        if (ignoreCache || !grpcPackage) {\n            const packageDef = grpcProtoLoader.loadSync(filename, options);\n            grpcPackage = this.grpc.loadPackageDefinition(packageDef);\n            if (cacheKey) {\n                GrpcClient.protoCache.set(cacheKey, grpcPackage);\n            }\n        }\n        return grpcPackage;\n    }\n    /**\n     * Load gRPC proto service from a filename looking in googleapis common protos\n     * when necessary. Caches the loaded protos so the subsequent loads don't do\n     * any disk reads.\n     * @param {String} protoPath - The directory to search for the protofile.\n     * @param {String|String[]} filename - The filename(s) of the proto(s) to be loaded.\n     *   If omitted, protoPath will be treated as a file path to load.\n     * @param ignoreCache Defaults to `false`. Set it to `true` if the caching logic\n     *   incorrectly decides that the options object is the same, or if you want to\n     *   re-read the protos from disk for any other reason.\n     * @return {Object<string, *>} The gRPC loaded result (the toplevel namespace\n     *   object).\n     */\n    loadProto(protoPath, filename, ignoreCache = false) {\n        if (!filename) {\n            filename = path.basename(protoPath);\n            protoPath = path.dirname(protoPath);\n        }\n        if (Array.isArray(filename) && filename.length === 0) {\n            return {};\n        }\n        const options = GrpcClient.defaultOptions();\n        options.includeDirs.unshift(protoPath);\n        return this.loadFromProto(filename, options, ignoreCache);\n    }\n    static _resolveFile(protoPath, filename) {\n        if (fs.existsSync(path.join(protoPath, filename))) {\n            return path.join(protoPath, filename);\n        }\n        else if (COMMON_PROTO_FILES.indexOf(filename) > -1) {\n            return path.join(googleProtoFilesDir, filename);\n        }\n        throw new Error(filename + ' could not be found in ' + protoPath);\n    }\n    loadProtoJSON(json, ignoreCache = false) {\n        const hash = objectHash(JSON.stringify(json)).toString();\n        const cached = GrpcClient.protoCache.get(hash);\n        if (cached && !ignoreCache) {\n            return cached;\n        }\n        const options = GrpcClient.defaultOptions();\n        const packageDefinition = grpcProtoLoader.fromJSON(json, options);\n        const grpcPackage = this.grpc.loadPackageDefinition(packageDefinition);\n        GrpcClient.protoCache.set(hash, grpcPackage);\n        return grpcPackage;\n    }\n    metadataBuilder(headers) {\n        const Metadata = this.grpc.Metadata;\n        const baseMetadata = new Metadata();\n        for (const key in headers) {\n            const value = headers[key];\n            if (Array.isArray(value)) {\n                value.forEach(v => baseMetadata.add(key, v));\n            }\n            else {\n                baseMetadata.set(key, `${value}`);\n            }\n        }\n        return function buildMetadata(abTests, moreHeaders) {\n            // TODO: bring the A/B testing info into the metadata.\n            let copied = false;\n            let metadata = baseMetadata;\n            if (moreHeaders) {\n                for (const key in moreHeaders) {\n                    if (key.toLowerCase() !== 'x-goog-api-client') {\n                        if (!copied) {\n                            copied = true;\n                            metadata = metadata.clone();\n                        }\n                        const value = moreHeaders[key];\n                        if (Array.isArray(value)) {\n                            value.forEach(v => metadata.add(key, v));\n                        }\n                        else {\n                            metadata.set(key, `${value}`);\n                        }\n                    }\n                }\n            }\n            return metadata;\n        };\n    }\n    /**\n     * A wrapper of {@link constructSettings} function under the gRPC context.\n     *\n     * Most of parameters are common among constructSettings, please take a look.\n     * @param {string} serviceName - The fullly-qualified name of the service.\n     * @param {Object} clientConfig - A dictionary of the client config.\n     * @param {Object} configOverrides - A dictionary of overriding configs.\n     * @param {Object} headers - A dictionary of additional HTTP header name to\n     *   its value.\n     * @return {Object} A mapping of method names to CallSettings.\n     */\n    constructSettings(serviceName, clientConfig, configOverrides, headers) {\n        return gax.constructSettings(serviceName, clientConfig, configOverrides, this.grpc.status, { metadataBuilder: this.metadataBuilder(headers) });\n    }\n    /**\n     * Creates a gRPC stub with current gRPC and auth.\n     * @param {function} CreateStub - The constructor function of the stub.\n     * @param {Object} options - The optional arguments to customize\n     *   gRPC connection. This options will be passed to the constructor of\n     *   gRPC client too.\n     * @param {string} options.servicePath - The name of the server of the service.\n     * @param {number} options.port - The port of the service.\n     * @param {grpcTypes.ClientCredentials=} options.sslCreds - The credentials to be used\n     *   to set up gRPC connection.\n     * @param {string} defaultServicePath - The default service path.\n     * @return {Promise} A promise which resolves to a gRPC stub instance.\n     */\n    async createStub(CreateStub, options, customServicePath) {\n        // The following options are understood by grpc-gcp and need a special treatment\n        // (should be passed without a `grpc.` prefix)\n        const grpcGcpOptions = [\n            'grpc.callInvocationTransformer',\n            'grpc.channelFactoryOverride',\n            'grpc.gcpApiConfig',\n        ];\n        const [cert, key] = await this._detectClientCertificate(options, options.universeDomain);\n        const servicePath = this._mtlsServicePath(options.servicePath, customServicePath, cert && key);\n        const opts = Object.assign({}, options, { cert, key, servicePath });\n        const serviceAddress = servicePath + ':' + opts.port;\n        if (!options.universeDomain) {\n            options.universeDomain = 'googleapis.com';\n        }\n        if (options.universeDomain) {\n            const universeFromAuth = await this.auth.getUniverseDomain();\n            if (universeFromAuth && options.universeDomain !== universeFromAuth) {\n                throw new Error(`The configured universe domain (${options.universeDomain}) does not match the universe domain found in the credentials (${universeFromAuth}). ` +\n                    \"If you haven't configured the universe domain explicitly, googleapis.com is the default.\");\n            }\n        }\n        const creds = await this._getCredentials(opts);\n        const grpcOptions = {};\n        // @grpc/grpc-js limits max receive/send message length starting from v0.8.0\n        // https://github.com/grpc/grpc-node/releases/tag/%40grpc%2Fgrpc-js%400.8.0\n        // To keep the existing behavior and avoid libraries breakage, we pass -1 there as suggested.\n        grpcOptions['grpc.max_receive_message_length'] = -1;\n        grpcOptions['grpc.max_send_message_length'] = -1;\n        grpcOptions['grpc.initial_reconnect_backoff_ms'] = 1000;\n        Object.keys(opts).forEach(key => {\n            const value = options[key];\n            // the older versions had a bug which required users to call an option\n            // grpc.grpc.* to make it actually pass to gRPC as grpc.*, let's handle\n            // this here until the next major release\n            if (key.startsWith('grpc.grpc.')) {\n                key = key.replace(/^grpc\\./, '');\n            }\n            if (key.startsWith('grpc.')) {\n                if (grpcGcpOptions.includes(key)) {\n                    key = key.replace(/^grpc\\./, '');\n                }\n                grpcOptions[key] = value;\n            }\n            if (key.startsWith('grpc-node.')) {\n                grpcOptions[key] = value;\n            }\n        });\n        const stub = new CreateStub(serviceAddress, creds, grpcOptions);\n        return stub;\n    }\n    /**\n     * Detect mTLS client certificate based on logic described in\n     * https://google.aip.dev/auth/4114.\n     *\n     * @param {object} [options] - The configuration object.\n     * @returns {Promise} Resolves array of strings representing cert and key.\n     */\n    async _detectClientCertificate(opts, universeDomain) {\n        var _a;\n        const certRegex = /(?<cert>-----BEGIN CERTIFICATE-----.*?-----END CERTIFICATE-----)/s;\n        const keyRegex = /(?<key>-----BEGIN PRIVATE KEY-----.*?-----END PRIVATE KEY-----)/s;\n        // If GOOGLE_API_USE_CLIENT_CERTIFICATE is true...:\n        if (typeof process !== 'undefined' &&\n            ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.GOOGLE_API_USE_CLIENT_CERTIFICATE) === 'true') {\n            if (universeDomain && universeDomain !== 'googleapis.com') {\n                throw new Error('mTLS is not supported outside of googleapis.com universe domain.');\n            }\n            if ((opts === null || opts === void 0 ? void 0 : opts.cert) && (opts === null || opts === void 0 ? void 0 : opts.key)) {\n                return [opts.cert, opts.key];\n            }\n            // If context aware metadata exists, run the cert provider command,\n            // parse the output to extract cert and key, and use this cert/key.\n            const metadataPath = (0, path_1.join)(os.homedir(), '.secureConnect', 'context_aware_metadata.json');\n            const metadata = JSON.parse(await readFileAsync(metadataPath));\n            if (!metadata.cert_provider_command) {\n                throw Error('no cert_provider_command found');\n            }\n            const stdout = await execFileAsync(metadata.cert_provider_command[0], metadata.cert_provider_command.slice(1));\n            const matchCert = stdout.toString().match(certRegex);\n            const matchKey = stdout.toString().match(keyRegex);\n            if (!((matchCert === null || matchCert === void 0 ? void 0 : matchCert.groups) && (matchKey === null || matchKey === void 0 ? void 0 : matchKey.groups))) {\n                throw Error('unable to parse certificate and key');\n            }\n            else {\n                return [matchCert.groups.cert, matchKey.groups.key];\n            }\n        }\n        // If GOOGLE_API_USE_CLIENT_CERTIFICATE is not set or false,\n        // use no cert or key:\n        return [undefined, undefined];\n    }\n    /**\n     * Return service path, taking into account mTLS logic.\n     * See: https://google.aip.dev/auth/4114\n     *\n     * @param {string|undefined} servicePath - The path of the service.\n     * @param {string|undefined} customServicePath - Did the user provide a custom service URL.\n     * @param {boolean} hasCertificate - Was a certificate found.\n     * @returns {string} The DNS address for this service.\n     */\n    _mtlsServicePath(servicePath, customServicePath, hasCertificate) {\n        var _a, _b;\n        // If user provides a custom service path, return the current service\n        // path and do not attempt to add mtls subdomain:\n        if (customServicePath || !servicePath)\n            return servicePath;\n        if (typeof process !== 'undefined' &&\n            ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.GOOGLE_API_USE_MTLS_ENDPOINT) === 'never') {\n            // It was explicitly asked that mtls endpoint not be used:\n            return servicePath;\n        }\n        else if ((typeof process !== 'undefined' &&\n            ((_b = process === null || process === void 0 ? void 0 : process.env) === null || _b === void 0 ? void 0 : _b.GOOGLE_API_USE_MTLS_ENDPOINT) === 'always') ||\n            hasCertificate) {\n            // Either auto-detect or explicit setting of endpoint:\n            return servicePath.replace('googleapis.com', 'mtls.googleapis.com');\n        }\n        return servicePath;\n    }\n    /**\n     * Creates a 'bytelength' function for a given proto message class.\n     *\n     * See {@link BundleDescriptor} about the meaning of the return value.\n     *\n     * @param {function} message - a constructor function that is generated by\n     *   protobuf.js. Assumes 'encoder' field in the message.\n     * @return {function(Object):number} - a function to compute the byte length\n     *   for an object.\n     */\n    static createByteLengthFunction(message) {\n        return gax.createByteLengthFunction(message);\n    }\n}\nexports.GrpcClient = GrpcClient;\nGrpcClient.protoCache = new Map();\nclass GoogleProtoFilesRoot extends protobuf.Root {\n    constructor(...args) {\n        super(...args);\n    }\n    // Causes the loading of an included proto to check if it is a common\n    // proto. If it is a common proto, use the bundled proto.\n    resolvePath(originPath, includePath) {\n        originPath = path.normalize(originPath);\n        includePath = path.normalize(includePath);\n        // Fully qualified paths don't need to be resolved.\n        if (path.isAbsolute(includePath)) {\n            if (!fs.existsSync(includePath)) {\n                throw new Error('The include `' + includePath + '` was not found.');\n            }\n            return includePath;\n        }\n        if (COMMON_PROTO_FILES.indexOf(includePath) > -1) {\n            return path.join(googleProtoFilesDir, includePath);\n        }\n        return GoogleProtoFilesRoot._findIncludePath(originPath, includePath);\n    }\n    static _findIncludePath(originPath, includePath) {\n        originPath = path.normalize(originPath);\n        includePath = path.normalize(includePath);\n        let current = originPath;\n        let found = fs.existsSync(path.join(current, includePath));\n        while (!found && current.length > 0) {\n            current = current.substring(0, current.lastIndexOf(path.sep));\n            found = fs.existsSync(path.join(current, includePath));\n        }\n        if (!found) {\n            throw new Error('The include `' + includePath + '` was not found.');\n        }\n        return path.join(current, includePath);\n    }\n}\nexports.GoogleProtoFilesRoot = GoogleProtoFilesRoot;\n//# sourceMappingURL=grpc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ncnBjLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QixHQUFHLGtCQUFrQixHQUFHLGtCQUFrQjtBQUN0RSx3QkFBd0IsbUJBQU8sQ0FBQyxpR0FBb0I7QUFDcEQsd0JBQXdCLG1CQUFPLENBQUMsb0NBQWU7QUFDL0MsV0FBVyxtQkFBTyxDQUFDLGNBQUk7QUFDdkIsOEJBQThCLG1CQUFPLENBQUMsbUdBQXFCO0FBQzNELGFBQWEsbUJBQU8sQ0FBQywrR0FBZTtBQUNwQyxXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixlQUFlLG1CQUFPLENBQUMsa0JBQU07QUFDN0IsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLGlCQUFpQixtQkFBTyxDQUFDLHVFQUFZO0FBQ3JDLG1CQUFtQixtQkFBTyxDQUFDLHlFQUFhO0FBQ3hDLFlBQVksbUJBQU8sQ0FBQywwRUFBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUJBQU8sQ0FBQywrRkFBbUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFKQUE2QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QjtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLE1BQU07QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE1BQU07QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5QkFBeUI7QUFDOUM7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQSxxR0FBcUcsZ0RBQWdEO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSw4QkFBOEI7QUFDN0M7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxhQUFhLHdCQUF3QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSx1QkFBdUIsaUVBQWlFLGlCQUFpQjtBQUM1SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtCQUFrQjtBQUNqQyxlQUFlLGtCQUFrQjtBQUNqQyxlQUFlLFNBQVM7QUFDeEIsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0EsZ0JBQWdCLHlCQUF5QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ncnBjLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Hb29nbGVQcm90b0ZpbGVzUm9vdCA9IGV4cG9ydHMuR3JwY0NsaWVudCA9IGV4cG9ydHMuQ2xpZW50U3R1YiA9IHZvaWQgMDtcbmNvbnN0IGdycGNQcm90b0xvYWRlciA9IHJlcXVpcmUoXCJAZ3JwYy9wcm90by1sb2FkZXJcIik7XG5jb25zdCBjaGlsZF9wcm9jZXNzXzEgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgZ29vZ2xlX2F1dGhfbGlicmFyeV8xID0gcmVxdWlyZShcImdvb2dsZS1hdXRoLWxpYnJhcnlcIik7XG5jb25zdCBncnBjID0gcmVxdWlyZShcIkBncnBjL2dycGMtanNcIik7XG5jb25zdCBvcyA9IHJlcXVpcmUoXCJvc1wiKTtcbmNvbnN0IHBhdGhfMSA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgcHJvdG9idWYgPSByZXF1aXJlKFwicHJvdG9idWZqc1wiKTtcbmNvbnN0IG9iamVjdEhhc2ggPSByZXF1aXJlKFwib2JqZWN0LWhhc2hcIik7XG5jb25zdCBnYXggPSByZXF1aXJlKFwiLi9nYXhcIik7XG5jb25zdCBnb29nbGVQcm90b0ZpbGVzRGlyID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJy4uJywgJ2J1aWxkJywgJ3Byb3RvcycpO1xuLy8gSU5DTFVERV9ESVJTIGlzIHBhc3NlZCB0byBAZ3JwYy9wcm90by1sb2FkZXJcbmNvbnN0IElOQ0xVREVfRElSUyA9IFtdO1xuSU5DTFVERV9ESVJTLnB1c2goZ29vZ2xlUHJvdG9GaWxlc0Rpcik7XG4vLyBDT01NT05fUFJPVE9fRklMRVMgbG9naWMgaXMgaGVyZSBmb3IgcHJvdG9idWZqcyBsb2FkcyAoc2VlXG4vLyBHb29nbGVQcm90b0ZpbGVzUm9vdCBiZWxvdylcbmNvbnN0IGNvbW1vblByb3RvRmlsZXMgPSByZXF1aXJlKFwiLi9wcm90b3NMaXN0Lmpzb25cIik7XG4vLyB1c2UgdGhlIGNvcnJlY3QgcGF0aCBzZXBhcmF0b3IgZm9yIHRoZSBPUyB3ZSBhcmUgcnVubmluZyBvblxuY29uc3QgQ09NTU9OX1BST1RPX0ZJTEVTID0gY29tbW9uUHJvdG9GaWxlcy5tYXAoZmlsZSA9PiBmaWxlLnJlcGxhY2UoL1svXFxcXF0vZywgcGF0aC5zZXApKTtcbi8qXG4gKiBBc3luYyB2ZXJzaW9uIG9mIHJlYWRGaWxlLlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBDb250ZW50cyBvZiBmaWxlIGF0IHBhdGguXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlYWRGaWxlQXN5bmMocGF0aCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGZzLnJlYWRGaWxlKHBhdGgsICd1dGY4JywgKGVyciwgY29udGVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShjb250ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKlxuICogQXN5bmMgdmVyc2lvbiBvZiBleGVjRmlsZS5cbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gc3Rkb3V0IGZyb20gY29tbWFuZCBleGVjdXRpb24uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGV4ZWNGaWxlQXN5bmMoY29tbWFuZCwgYXJncykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICgwLCBjaGlsZF9wcm9jZXNzXzEuZXhlY0ZpbGUpKGNvbW1hbmQsIGFyZ3MsIChlcnIsIHN0ZG91dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzdGRvdXQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmNsYXNzIENsaWVudFN0dWIgZXh0ZW5kcyBncnBjLkNsaWVudCB7XG59XG5leHBvcnRzLkNsaWVudFN0dWIgPSBDbGllbnRTdHViO1xuY2xhc3MgR3JwY0NsaWVudCB7XG4gICAgLyoqXG4gICAgICogS2V5IGZvciBwcm90byBjYWNoZSBtYXAuIFdlIGFyZSBkb2luZyBvdXIgYmVzdCB0byBtYWtlIHN1cmUgd2UgcmVzcGVjdFxuICAgICAqIHRoZSBvcHRpb25zLCBzbyBpZiB0aGUgc2FtZSBwcm90byBmaWxlIGlzIGxvYWRlZCB3aXRoIGRpZmZlcmVudCBzZXQgb2ZcbiAgICAgKiBvcHRpb25zLCB0aGUgY2FjaGUgd29uJ3QgYmUgdXNlZC4gIFNpbmNlIHNvbWUgb2YgdGhlIG9wdGlvbnMgYXJlXG4gICAgICogRnVuY3Rpb25zIChlLmcuIGBlbnVtczogU3RyaW5nYCAtIHNlZSBiZWxvdyBpbiBgbG9hZFByb3RvKClgKSxcbiAgICAgKiB0aGV5IHdpbGwgYmUgb21pdHRlZCBmcm9tIHRoZSBjYWNoZSBrZXkuICBJZiB0aGUgY2FjaGUgYnJlYWtzIGFueXRoaW5nXG4gICAgICogZm9yIHlvdSwgdXNlIHRoZSBgaWdub3JlQ2FjaGVgIHBhcmFtZXRlciBvZiBgbG9hZFByb3RvKClgIHRvIGRpc2FibGUgaXQuXG4gICAgICovXG4gICAgc3RhdGljIHByb3RvQ2FjaGVLZXkoZmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFmaWxlbmFtZSB8fFxuICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkoZmlsZW5hbWUpICYmIChmaWxlbmFtZS5sZW5ndGggPT09IDAgfHwgIWZpbGVuYW1lWzBdKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGZpbGVuYW1lKSArICcgJyArIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbiByYXJlIGNhc2VzIHVzZXJzIG1pZ2h0IG5lZWQgdG8gZGVhbGxvY2F0ZSBhbGwgbWVtb3J5IGNvbnN1bWVkIGJ5IGxvYWRlZCBwcm90b3MuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBkZWxldGUgdGhlIHByb3RvIGNhY2hlIGNvbnRlbnQuXG4gICAgICovXG4gICAgc3RhdGljIGNsZWFyUHJvdG9DYWNoZSgpIHtcbiAgICAgICAgR3JwY0NsaWVudC5wcm90b0NhY2hlLmNsZWFyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgY2xhc3Mgd2hpY2gga2VlcHMgdGhlIGNvbnRleHQgb2YgZ1JQQyBhbmQgYXV0aCBmb3IgdGhlIGdSUEMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgLSBUaGUgb3B0aW9uYWwgcGFyYW1ldGVycy4gSXQgd2lsbCBiZSBkaXJlY3RseVxuICAgICAqICAgcGFzc2VkIHRvIGdvb2dsZS1hdXRoLWxpYnJhcnkgbGlicmFyeSwgc28gcGFyYW1ldGVycyBsaWtlIGtleUZpbGUgb3JcbiAgICAgKiAgIGNyZWRlbnRpYWxzIHdpbGwgYmUgdmFsaWQuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zLmF1dGggLSBBbiBpbnN0YW5jZSBvZiBnb29nbGUtYXV0aC1saWJyYXJ5LlxuICAgICAqICAgV2hlbiBzcGVjaWZpZWQsIHRoaXMgYXV0aCBpbnN0YW5jZSB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiBjcmVhdGluZ1xuICAgICAqICAgYSBuZXcgb25lLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucy5ncnBjIC0gV2hlbiBzcGVjaWZpZWQsIHRoaXMgd2lsbCBiZSB1c2VkXG4gICAgICogICBmb3IgdGhlICdncnBjJyBtb2R1bGUgaW4gdGhpcyBjb250ZXh0LiBCeSBkZWZhdWx0LCBpdCB3aWxsIGxvYWQgdGhlIGdycGNcbiAgICAgKiAgIG1vZHVsZSBpbiB0aGUgc3RhbmRhcmQgd2F5LlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuYXV0aCA9IG9wdGlvbnMuYXV0aCB8fCBuZXcgZ29vZ2xlX2F1dGhfbGlicmFyeV8xLkdvb2dsZUF1dGgob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbWluaW11bVZlcnNpb24gPSAxMDtcbiAgICAgICAgY29uc3QgbWFqb3IgPSBOdW1iZXIoKF9hID0gcHJvY2Vzcy52ZXJzaW9uLm1hdGNoKC9edihcXGQrKS8pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMV0pO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG1ham9yKSB8fCBtYWpvciA8IG1pbmltdW1WZXJzaW9uKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgTm9kZS5qcyB2JHttaW5pbXVtVmVyc2lvbn0uMC4wIGlzIGEgbWluaW11bSByZXF1aXJlbWVudC4gVG8gbGVhcm4gYWJvdXQgbGVnYWN5IHZlcnNpb24gc3VwcG9ydCB2aXNpdDogYCArXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dvb2dsZS1jbG91ZC1ub2RlI3N1cHBvcnRlZC1ub2RlanMtdmVyc2lvbnMnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdncnBjJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmdycGMgPSBvcHRpb25zLmdycGM7XG4gICAgICAgICAgICB0aGlzLmdycGNWZXJzaW9uID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdycGMgPSBncnBjO1xuICAgICAgICAgICAgdGhpcy5ncnBjVmVyc2lvbiA9IHJlcXVpcmUoJ0BncnBjL2dycGMtanMvcGFja2FnZS5qc29uJykudmVyc2lvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZ1JQQyBjcmVkZW50aWFscy4gSXQgYXNrcyB0aGUgYXV0aCBkYXRhIGlmIG5lY2Vzc2FyeS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB2YWx1ZXMgZm9yIGNvbmZpZ3VyaW5nIGNyZWRlbnRpYWxzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0cy5zc2xDcmVkcyAtIHdoZW4gc3BlY2lmaWVkLCB0aGlzIGlzIHVzZWQgaW5zdGVhZFxuICAgICAqICAgb2YgZGVmYXVsdCBjaGFubmVsIGNyZWRlbnRpYWxzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRoZSBwcm9taXNlIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgdG8gdGhlIGdSUEMgY3JlZGVudGlhbC5cbiAgICAgKi9cbiAgICBhc3luYyBfZ2V0Q3JlZGVudGlhbHMob3B0cykge1xuICAgICAgICBpZiAob3B0cy5zc2xDcmVkcykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdHMuc3NsQ3JlZHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JwYyA9IHRoaXMuZ3JwYztcbiAgICAgICAgY29uc3Qgc3NsQ3JlZHMgPSBvcHRzLmNlcnQgJiYgb3B0cy5rZXlcbiAgICAgICAgICAgID8gZ3JwYy5jcmVkZW50aWFscy5jcmVhdGVTc2wobnVsbCwgQnVmZmVyLmZyb20ob3B0cy5rZXkpLCBCdWZmZXIuZnJvbShvcHRzLmNlcnQpKVxuICAgICAgICAgICAgOiBncnBjLmNyZWRlbnRpYWxzLmNyZWF0ZVNzbCgpO1xuICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLmF1dGguZ2V0Q2xpZW50KCk7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gZ3JwYy5jcmVkZW50aWFscy5jb21iaW5lQ2hhbm5lbENyZWRlbnRpYWxzKHNzbENyZWRzLCBncnBjLmNyZWRlbnRpYWxzLmNyZWF0ZUZyb21Hb29nbGVDcmVkZW50aWFsKGNsaWVudCkpO1xuICAgICAgICByZXR1cm4gY3JlZGVudGlhbHM7XG4gICAgfVxuICAgIHN0YXRpYyBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICAgICAgLy8gVGhpcyBzZXQgb2YgQGdycGMvcHJvdG8tbG9hZGVyIG9wdGlvbnNcbiAgICAgICAgLy8gJ2Nsb3NlbHkgYXBwcm94aW1hdGVzIHRoZSBleGlzdGluZyBiZWhhdmlvciBvZiBncnBjLmxvYWQnXG4gICAgICAgIGNvbnN0IGluY2x1ZGVEaXJzID0gSU5DTFVERV9ESVJTLnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBrZWVwQ2FzZTogZmFsc2UsXG4gICAgICAgICAgICBsb25nczogU3RyaW5nLFxuICAgICAgICAgICAgZW51bXM6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHRzOiB0cnVlLFxuICAgICAgICAgICAgb25lb2ZzOiB0cnVlLFxuICAgICAgICAgICAgaW5jbHVkZURpcnMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgZ1JQQyBzZXJ2aWNlIGZyb20gdGhlIHByb3RvIGZpbGUocykgYXQgdGhlIGdpdmVuIHBhdGggYW5kIHdpdGggdGhlXG4gICAgICogZ2l2ZW4gb3B0aW9ucy4gQ2FjaGVzIHRoZSBsb2FkZWQgcHJvdG9zIHNvIHRoZSBzdWJzZXF1ZW50IGxvYWRzIGRvbid0IGRvXG4gICAgICogYW55IGRpc2sgcmVhZHMuXG4gICAgICogQHBhcmFtIGZpbGVuYW1lIFRoZSBwYXRoIHRvIHRoZSBwcm90byBmaWxlKHMpLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIGxvYWRpbmcgdGhlIHByb3RvIGZpbGUuXG4gICAgICogQHBhcmFtIGlnbm9yZUNhY2hlIERlZmF1bHRzIHRvIGBmYWxzZWAuIFNldCBpdCB0byBgdHJ1ZWAgaWYgdGhlIGNhY2hpbmcgbG9naWNcbiAgICAgKiAgIGluY29ycmVjdGx5IGRlY2lkZXMgdGhhdCB0aGUgb3B0aW9ucyBvYmplY3QgaXMgdGhlIHNhbWUsIG9yIGlmIHlvdSB3YW50IHRvXG4gICAgICogICByZS1yZWFkIHRoZSBwcm90b3MgZnJvbSBkaXNrIGZvciBhbnkgb3RoZXIgcmVhc29uLlxuICAgICAqL1xuICAgIGxvYWRGcm9tUHJvdG8oZmlsZW5hbWUsIG9wdGlvbnMsIGlnbm9yZUNhY2hlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBHcnBjQ2xpZW50LnByb3RvQ2FjaGVLZXkoZmlsZW5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBsZXQgZ3JwY1BhY2thZ2UgPSBjYWNoZUtleVxuICAgICAgICAgICAgPyBHcnBjQ2xpZW50LnByb3RvQ2FjaGUuZ2V0KGNhY2hlS2V5KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChpZ25vcmVDYWNoZSB8fCAhZ3JwY1BhY2thZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2thZ2VEZWYgPSBncnBjUHJvdG9Mb2FkZXIubG9hZFN5bmMoZmlsZW5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZ3JwY1BhY2thZ2UgPSB0aGlzLmdycGMubG9hZFBhY2thZ2VEZWZpbml0aW9uKHBhY2thZ2VEZWYpO1xuICAgICAgICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgR3JwY0NsaWVudC5wcm90b0NhY2hlLnNldChjYWNoZUtleSwgZ3JwY1BhY2thZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncnBjUGFja2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBnUlBDIHByb3RvIHNlcnZpY2UgZnJvbSBhIGZpbGVuYW1lIGxvb2tpbmcgaW4gZ29vZ2xlYXBpcyBjb21tb24gcHJvdG9zXG4gICAgICogd2hlbiBuZWNlc3NhcnkuIENhY2hlcyB0aGUgbG9hZGVkIHByb3RvcyBzbyB0aGUgc3Vic2VxdWVudCBsb2FkcyBkb24ndCBkb1xuICAgICAqIGFueSBkaXNrIHJlYWRzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm90b1BhdGggLSBUaGUgZGlyZWN0b3J5IHRvIHNlYXJjaCBmb3IgdGhlIHByb3RvZmlsZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xTdHJpbmdbXX0gZmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUocykgb2YgdGhlIHByb3RvKHMpIHRvIGJlIGxvYWRlZC5cbiAgICAgKiAgIElmIG9taXR0ZWQsIHByb3RvUGF0aCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBmaWxlIHBhdGggdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0gaWdub3JlQ2FjaGUgRGVmYXVsdHMgdG8gYGZhbHNlYC4gU2V0IGl0IHRvIGB0cnVlYCBpZiB0aGUgY2FjaGluZyBsb2dpY1xuICAgICAqICAgaW5jb3JyZWN0bHkgZGVjaWRlcyB0aGF0IHRoZSBvcHRpb25zIG9iamVjdCBpcyB0aGUgc2FtZSwgb3IgaWYgeW91IHdhbnQgdG9cbiAgICAgKiAgIHJlLXJlYWQgdGhlIHByb3RvcyBmcm9tIGRpc2sgZm9yIGFueSBvdGhlciByZWFzb24uXG4gICAgICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgKj59IFRoZSBnUlBDIGxvYWRlZCByZXN1bHQgKHRoZSB0b3BsZXZlbCBuYW1lc3BhY2VcbiAgICAgKiAgIG9iamVjdCkuXG4gICAgICovXG4gICAgbG9hZFByb3RvKHByb3RvUGF0aCwgZmlsZW5hbWUsIGlnbm9yZUNhY2hlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFmaWxlbmFtZSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBwYXRoLmJhc2VuYW1lKHByb3RvUGF0aCk7XG4gICAgICAgICAgICBwcm90b1BhdGggPSBwYXRoLmRpcm5hbWUocHJvdG9QYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWxlbmFtZSkgJiYgZmlsZW5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IEdycGNDbGllbnQuZGVmYXVsdE9wdGlvbnMoKTtcbiAgICAgICAgb3B0aW9ucy5pbmNsdWRlRGlycy51bnNoaWZ0KHByb3RvUGF0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRGcm9tUHJvdG8oZmlsZW5hbWUsIG9wdGlvbnMsIGlnbm9yZUNhY2hlKTtcbiAgICB9XG4gICAgc3RhdGljIF9yZXNvbHZlRmlsZShwcm90b1BhdGgsIGZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHBhdGguam9pbihwcm90b1BhdGgsIGZpbGVuYW1lKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoLmpvaW4ocHJvdG9QYXRoLCBmaWxlbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQ09NTU9OX1BST1RPX0ZJTEVTLmluZGV4T2YoZmlsZW5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoLmpvaW4oZ29vZ2xlUHJvdG9GaWxlc0RpciwgZmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihmaWxlbmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kIGluICcgKyBwcm90b1BhdGgpO1xuICAgIH1cbiAgICBsb2FkUHJvdG9KU09OKGpzb24sIGlnbm9yZUNhY2hlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IG9iamVjdEhhc2goSlNPTi5zdHJpbmdpZnkoanNvbikpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IEdycGNDbGllbnQucHJvdG9DYWNoZS5nZXQoaGFzaCk7XG4gICAgICAgIGlmIChjYWNoZWQgJiYgIWlnbm9yZUNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBHcnBjQ2xpZW50LmRlZmF1bHRPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IHBhY2thZ2VEZWZpbml0aW9uID0gZ3JwY1Byb3RvTG9hZGVyLmZyb21KU09OKGpzb24sIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBncnBjUGFja2FnZSA9IHRoaXMuZ3JwYy5sb2FkUGFja2FnZURlZmluaXRpb24ocGFja2FnZURlZmluaXRpb24pO1xuICAgICAgICBHcnBjQ2xpZW50LnByb3RvQ2FjaGUuc2V0KGhhc2gsIGdycGNQYWNrYWdlKTtcbiAgICAgICAgcmV0dXJuIGdycGNQYWNrYWdlO1xuICAgIH1cbiAgICBtZXRhZGF0YUJ1aWxkZXIoaGVhZGVycykge1xuICAgICAgICBjb25zdCBNZXRhZGF0YSA9IHRoaXMuZ3JwYy5NZXRhZGF0YTtcbiAgICAgICAgY29uc3QgYmFzZU1ldGFkYXRhID0gbmV3IE1ldGFkYXRhKCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCh2ID0+IGJhc2VNZXRhZGF0YS5hZGQoa2V5LCB2KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBiYXNlTWV0YWRhdGEuc2V0KGtleSwgYCR7dmFsdWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGJ1aWxkTWV0YWRhdGEoYWJUZXN0cywgbW9yZUhlYWRlcnMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGJyaW5nIHRoZSBBL0IgdGVzdGluZyBpbmZvIGludG8gdGhlIG1ldGFkYXRhLlxuICAgICAgICAgICAgbGV0IGNvcGllZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IG1ldGFkYXRhID0gYmFzZU1ldGFkYXRhO1xuICAgICAgICAgICAgaWYgKG1vcmVIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbW9yZUhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpICE9PSAneC1nb29nLWFwaS1jbGllbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvcGllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcGllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBtZXRhZGF0YS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtb3JlSGVhZGVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCh2ID0+IG1ldGFkYXRhLmFkZChrZXksIHYpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLnNldChrZXksIGAke3ZhbHVlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHdyYXBwZXIgb2Yge0BsaW5rIGNvbnN0cnVjdFNldHRpbmdzfSBmdW5jdGlvbiB1bmRlciB0aGUgZ1JQQyBjb250ZXh0LlxuICAgICAqXG4gICAgICogTW9zdCBvZiBwYXJhbWV0ZXJzIGFyZSBjb21tb24gYW1vbmcgY29uc3RydWN0U2V0dGluZ3MsIHBsZWFzZSB0YWtlIGEgbG9vay5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZU5hbWUgLSBUaGUgZnVsbGx5LXF1YWxpZmllZCBuYW1lIG9mIHRoZSBzZXJ2aWNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnRDb25maWcgLSBBIGRpY3Rpb25hcnkgb2YgdGhlIGNsaWVudCBjb25maWcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ092ZXJyaWRlcyAtIEEgZGljdGlvbmFyeSBvZiBvdmVycmlkaW5nIGNvbmZpZ3MuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhlYWRlcnMgLSBBIGRpY3Rpb25hcnkgb2YgYWRkaXRpb25hbCBIVFRQIGhlYWRlciBuYW1lIHRvXG4gICAgICogICBpdHMgdmFsdWUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBIG1hcHBpbmcgb2YgbWV0aG9kIG5hbWVzIHRvIENhbGxTZXR0aW5ncy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RTZXR0aW5ncyhzZXJ2aWNlTmFtZSwgY2xpZW50Q29uZmlnLCBjb25maWdPdmVycmlkZXMsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGdheC5jb25zdHJ1Y3RTZXR0aW5ncyhzZXJ2aWNlTmFtZSwgY2xpZW50Q29uZmlnLCBjb25maWdPdmVycmlkZXMsIHRoaXMuZ3JwYy5zdGF0dXMsIHsgbWV0YWRhdGFCdWlsZGVyOiB0aGlzLm1ldGFkYXRhQnVpbGRlcihoZWFkZXJzKSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGdSUEMgc3R1YiB3aXRoIGN1cnJlbnQgZ1JQQyBhbmQgYXV0aC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBDcmVhdGVTdHViIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9mIHRoZSBzdHViLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIGFyZ3VtZW50cyB0byBjdXN0b21pemVcbiAgICAgKiAgIGdSUEMgY29ubmVjdGlvbi4gVGhpcyBvcHRpb25zIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciBvZlxuICAgICAqICAgZ1JQQyBjbGllbnQgdG9vLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnNlcnZpY2VQYXRoIC0gVGhlIG5hbWUgb2YgdGhlIHNlcnZlciBvZiB0aGUgc2VydmljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5wb3J0IC0gVGhlIHBvcnQgb2YgdGhlIHNlcnZpY2UuXG4gICAgICogQHBhcmFtIHtncnBjVHlwZXMuQ2xpZW50Q3JlZGVudGlhbHM9fSBvcHRpb25zLnNzbENyZWRzIC0gVGhlIGNyZWRlbnRpYWxzIHRvIGJlIHVzZWRcbiAgICAgKiAgIHRvIHNldCB1cCBnUlBDIGNvbm5lY3Rpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRTZXJ2aWNlUGF0aCAtIFRoZSBkZWZhdWx0IHNlcnZpY2UgcGF0aC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYSBnUlBDIHN0dWIgaW5zdGFuY2UuXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlU3R1YihDcmVhdGVTdHViLCBvcHRpb25zLCBjdXN0b21TZXJ2aWNlUGF0aCkge1xuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIG9wdGlvbnMgYXJlIHVuZGVyc3Rvb2QgYnkgZ3JwYy1nY3AgYW5kIG5lZWQgYSBzcGVjaWFsIHRyZWF0bWVudFxuICAgICAgICAvLyAoc2hvdWxkIGJlIHBhc3NlZCB3aXRob3V0IGEgYGdycGMuYCBwcmVmaXgpXG4gICAgICAgIGNvbnN0IGdycGNHY3BPcHRpb25zID0gW1xuICAgICAgICAgICAgJ2dycGMuY2FsbEludm9jYXRpb25UcmFuc2Zvcm1lcicsXG4gICAgICAgICAgICAnZ3JwYy5jaGFubmVsRmFjdG9yeU92ZXJyaWRlJyxcbiAgICAgICAgICAgICdncnBjLmdjcEFwaUNvbmZpZycsXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IFtjZXJ0LCBrZXldID0gYXdhaXQgdGhpcy5fZGV0ZWN0Q2xpZW50Q2VydGlmaWNhdGUob3B0aW9ucywgb3B0aW9ucy51bml2ZXJzZURvbWFpbik7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VQYXRoID0gdGhpcy5fbXRsc1NlcnZpY2VQYXRoKG9wdGlvbnMuc2VydmljZVBhdGgsIGN1c3RvbVNlcnZpY2VQYXRoLCBjZXJ0ICYmIGtleSk7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7IGNlcnQsIGtleSwgc2VydmljZVBhdGggfSk7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VBZGRyZXNzID0gc2VydmljZVBhdGggKyAnOicgKyBvcHRzLnBvcnQ7XG4gICAgICAgIGlmICghb3B0aW9ucy51bml2ZXJzZURvbWFpbikge1xuICAgICAgICAgICAgb3B0aW9ucy51bml2ZXJzZURvbWFpbiA9ICdnb29nbGVhcGlzLmNvbSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudW5pdmVyc2VEb21haW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHVuaXZlcnNlRnJvbUF1dGggPSBhd2FpdCB0aGlzLmF1dGguZ2V0VW5pdmVyc2VEb21haW4oKTtcbiAgICAgICAgICAgIGlmICh1bml2ZXJzZUZyb21BdXRoICYmIG9wdGlvbnMudW5pdmVyc2VEb21haW4gIT09IHVuaXZlcnNlRnJvbUF1dGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBjb25maWd1cmVkIHVuaXZlcnNlIGRvbWFpbiAoJHtvcHRpb25zLnVuaXZlcnNlRG9tYWlufSkgZG9lcyBub3QgbWF0Y2ggdGhlIHVuaXZlcnNlIGRvbWFpbiBmb3VuZCBpbiB0aGUgY3JlZGVudGlhbHMgKCR7dW5pdmVyc2VGcm9tQXV0aH0pLiBgICtcbiAgICAgICAgICAgICAgICAgICAgXCJJZiB5b3UgaGF2ZW4ndCBjb25maWd1cmVkIHRoZSB1bml2ZXJzZSBkb21haW4gZXhwbGljaXRseSwgZ29vZ2xlYXBpcy5jb20gaXMgdGhlIGRlZmF1bHQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNyZWRzID0gYXdhaXQgdGhpcy5fZ2V0Q3JlZGVudGlhbHMob3B0cyk7XG4gICAgICAgIGNvbnN0IGdycGNPcHRpb25zID0ge307XG4gICAgICAgIC8vIEBncnBjL2dycGMtanMgbGltaXRzIG1heCByZWNlaXZlL3NlbmQgbWVzc2FnZSBsZW5ndGggc3RhcnRpbmcgZnJvbSB2MC44LjBcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy1ub2RlL3JlbGVhc2VzL3RhZy8lNDBncnBjJTJGZ3JwYy1qcyU0MDAuOC4wXG4gICAgICAgIC8vIFRvIGtlZXAgdGhlIGV4aXN0aW5nIGJlaGF2aW9yIGFuZCBhdm9pZCBsaWJyYXJpZXMgYnJlYWthZ2UsIHdlIHBhc3MgLTEgdGhlcmUgYXMgc3VnZ2VzdGVkLlxuICAgICAgICBncnBjT3B0aW9uc1snZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCddID0gLTE7XG4gICAgICAgIGdycGNPcHRpb25zWydncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJ10gPSAtMTtcbiAgICAgICAgZ3JwY09wdGlvbnNbJ2dycGMuaW5pdGlhbF9yZWNvbm5lY3RfYmFja29mZl9tcyddID0gMTAwMDtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICAvLyB0aGUgb2xkZXIgdmVyc2lvbnMgaGFkIGEgYnVnIHdoaWNoIHJlcXVpcmVkIHVzZXJzIHRvIGNhbGwgYW4gb3B0aW9uXG4gICAgICAgICAgICAvLyBncnBjLmdycGMuKiB0byBtYWtlIGl0IGFjdHVhbGx5IHBhc3MgdG8gZ1JQQyBhcyBncnBjLiosIGxldCdzIGhhbmRsZVxuICAgICAgICAgICAgLy8gdGhpcyBoZXJlIHVudGlsIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnZ3JwYy5ncnBjLicpKSB7XG4gICAgICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL15ncnBjXFwuLywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdncnBjLicpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdycGNHY3BPcHRpb25zLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL15ncnBjXFwuLywgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncnBjT3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2dycGMtbm9kZS4nKSkge1xuICAgICAgICAgICAgICAgIGdycGNPcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0dWIgPSBuZXcgQ3JlYXRlU3R1YihzZXJ2aWNlQWRkcmVzcywgY3JlZHMsIGdycGNPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHN0dWI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVjdCBtVExTIGNsaWVudCBjZXJ0aWZpY2F0ZSBiYXNlZCBvbiBsb2dpYyBkZXNjcmliZWQgaW5cbiAgICAgKiBodHRwczovL2dvb2dsZS5haXAuZGV2L2F1dGgvNDExNC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIGFycmF5IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIGNlcnQgYW5kIGtleS5cbiAgICAgKi9cbiAgICBhc3luYyBfZGV0ZWN0Q2xpZW50Q2VydGlmaWNhdGUob3B0cywgdW5pdmVyc2VEb21haW4pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjZXJ0UmVnZXggPSAvKD88Y2VydD4tLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0uKj8tLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tKS9zO1xuICAgICAgICBjb25zdCBrZXlSZWdleCA9IC8oPzxrZXk+LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tLio/LS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLSkvcztcbiAgICAgICAgLy8gSWYgR09PR0xFX0FQSV9VU0VfQ0xJRU5UX0NFUlRJRklDQVRFIGlzIHRydWUuLi46XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICgoX2EgPSBwcm9jZXNzID09PSBudWxsIHx8IHByb2Nlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb2Nlc3MuZW52KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuR09PR0xFX0FQSV9VU0VfQ0xJRU5UX0NFUlRJRklDQVRFKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICBpZiAodW5pdmVyc2VEb21haW4gJiYgdW5pdmVyc2VEb21haW4gIT09ICdnb29nbGVhcGlzLmNvbScpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21UTFMgaXMgbm90IHN1cHBvcnRlZCBvdXRzaWRlIG9mIGdvb2dsZWFwaXMuY29tIHVuaXZlcnNlIGRvbWFpbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmNlcnQpICYmIChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMua2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbb3B0cy5jZXJ0LCBvcHRzLmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjb250ZXh0IGF3YXJlIG1ldGFkYXRhIGV4aXN0cywgcnVuIHRoZSBjZXJ0IHByb3ZpZGVyIGNvbW1hbmQsXG4gICAgICAgICAgICAvLyBwYXJzZSB0aGUgb3V0cHV0IHRvIGV4dHJhY3QgY2VydCBhbmQga2V5LCBhbmQgdXNlIHRoaXMgY2VydC9rZXkuXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YVBhdGggPSAoMCwgcGF0aF8xLmpvaW4pKG9zLmhvbWVkaXIoKSwgJy5zZWN1cmVDb25uZWN0JywgJ2NvbnRleHRfYXdhcmVfbWV0YWRhdGEuanNvbicpO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBKU09OLnBhcnNlKGF3YWl0IHJlYWRGaWxlQXN5bmMobWV0YWRhdGFQYXRoKSk7XG4gICAgICAgICAgICBpZiAoIW1ldGFkYXRhLmNlcnRfcHJvdmlkZXJfY29tbWFuZCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdubyBjZXJ0X3Byb3ZpZGVyX2NvbW1hbmQgZm91bmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0ZG91dCA9IGF3YWl0IGV4ZWNGaWxlQXN5bmMobWV0YWRhdGEuY2VydF9wcm92aWRlcl9jb21tYW5kWzBdLCBtZXRhZGF0YS5jZXJ0X3Byb3ZpZGVyX2NvbW1hbmQuc2xpY2UoMSkpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hDZXJ0ID0gc3Rkb3V0LnRvU3RyaW5nKCkubWF0Y2goY2VydFJlZ2V4KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoS2V5ID0gc3Rkb3V0LnRvU3RyaW5nKCkubWF0Y2goa2V5UmVnZXgpO1xuICAgICAgICAgICAgaWYgKCEoKG1hdGNoQ2VydCA9PT0gbnVsbCB8fCBtYXRjaENlcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hdGNoQ2VydC5ncm91cHMpICYmIChtYXRjaEtleSA9PT0gbnVsbCB8fCBtYXRjaEtleSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWF0Y2hLZXkuZ3JvdXBzKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigndW5hYmxlIHRvIHBhcnNlIGNlcnRpZmljYXRlIGFuZCBrZXknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBbbWF0Y2hDZXJ0Lmdyb3Vwcy5jZXJ0LCBtYXRjaEtleS5ncm91cHMua2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBHT09HTEVfQVBJX1VTRV9DTElFTlRfQ0VSVElGSUNBVEUgaXMgbm90IHNldCBvciBmYWxzZSxcbiAgICAgICAgLy8gdXNlIG5vIGNlcnQgb3Iga2V5OlxuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHNlcnZpY2UgcGF0aCwgdGFraW5nIGludG8gYWNjb3VudCBtVExTIGxvZ2ljLlxuICAgICAqIFNlZTogaHR0cHM6Ly9nb29nbGUuYWlwLmRldi9hdXRoLzQxMTRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gc2VydmljZVBhdGggLSBUaGUgcGF0aCBvZiB0aGUgc2VydmljZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGN1c3RvbVNlcnZpY2VQYXRoIC0gRGlkIHRoZSB1c2VyIHByb3ZpZGUgYSBjdXN0b20gc2VydmljZSBVUkwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoYXNDZXJ0aWZpY2F0ZSAtIFdhcyBhIGNlcnRpZmljYXRlIGZvdW5kLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBETlMgYWRkcmVzcyBmb3IgdGhpcyBzZXJ2aWNlLlxuICAgICAqL1xuICAgIF9tdGxzU2VydmljZVBhdGgoc2VydmljZVBhdGgsIGN1c3RvbVNlcnZpY2VQYXRoLCBoYXNDZXJ0aWZpY2F0ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAvLyBJZiB1c2VyIHByb3ZpZGVzIGEgY3VzdG9tIHNlcnZpY2UgcGF0aCwgcmV0dXJuIHRoZSBjdXJyZW50IHNlcnZpY2VcbiAgICAgICAgLy8gcGF0aCBhbmQgZG8gbm90IGF0dGVtcHQgdG8gYWRkIG10bHMgc3ViZG9tYWluOlxuICAgICAgICBpZiAoY3VzdG9tU2VydmljZVBhdGggfHwgIXNlcnZpY2VQYXRoKVxuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VQYXRoO1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAoKF9hID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLkdPT0dMRV9BUElfVVNFX01UTFNfRU5EUE9JTlQpID09PSAnbmV2ZXInKSB7XG4gICAgICAgICAgICAvLyBJdCB3YXMgZXhwbGljaXRseSBhc2tlZCB0aGF0IG10bHMgZW5kcG9pbnQgbm90IGJlIHVzZWQ6XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgKChfYiA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5HT09HTEVfQVBJX1VTRV9NVExTX0VORFBPSU5UKSA9PT0gJ2Fsd2F5cycpIHx8XG4gICAgICAgICAgICBoYXNDZXJ0aWZpY2F0ZSkge1xuICAgICAgICAgICAgLy8gRWl0aGVyIGF1dG8tZGV0ZWN0IG9yIGV4cGxpY2l0IHNldHRpbmcgb2YgZW5kcG9pbnQ6XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZVBhdGgucmVwbGFjZSgnZ29vZ2xlYXBpcy5jb20nLCAnbXRscy5nb29nbGVhcGlzLmNvbScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJ2aWNlUGF0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhICdieXRlbGVuZ3RoJyBmdW5jdGlvbiBmb3IgYSBnaXZlbiBwcm90byBtZXNzYWdlIGNsYXNzLlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayBCdW5kbGVEZXNjcmlwdG9yfSBhYm91dCB0aGUgbWVhbmluZyBvZiB0aGUgcmV0dXJuIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWVzc2FnZSAtIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBpcyBnZW5lcmF0ZWQgYnlcbiAgICAgKiAgIHByb3RvYnVmLmpzLiBBc3N1bWVzICdlbmNvZGVyJyBmaWVsZCBpbiB0aGUgbWVzc2FnZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihPYmplY3QpOm51bWJlcn0gLSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgdGhlIGJ5dGUgbGVuZ3RoXG4gICAgICogICBmb3IgYW4gb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gZ2F4LmNyZWF0ZUJ5dGVMZW5ndGhGdW5jdGlvbihtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLkdycGNDbGllbnQgPSBHcnBjQ2xpZW50O1xuR3JwY0NsaWVudC5wcm90b0NhY2hlID0gbmV3IE1hcCgpO1xuY2xhc3MgR29vZ2xlUHJvdG9GaWxlc1Jvb3QgZXh0ZW5kcyBwcm90b2J1Zi5Sb290IHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgIH1cbiAgICAvLyBDYXVzZXMgdGhlIGxvYWRpbmcgb2YgYW4gaW5jbHVkZWQgcHJvdG8gdG8gY2hlY2sgaWYgaXQgaXMgYSBjb21tb25cbiAgICAvLyBwcm90by4gSWYgaXQgaXMgYSBjb21tb24gcHJvdG8sIHVzZSB0aGUgYnVuZGxlZCBwcm90by5cbiAgICByZXNvbHZlUGF0aChvcmlnaW5QYXRoLCBpbmNsdWRlUGF0aCkge1xuICAgICAgICBvcmlnaW5QYXRoID0gcGF0aC5ub3JtYWxpemUob3JpZ2luUGF0aCk7XG4gICAgICAgIGluY2x1ZGVQYXRoID0gcGF0aC5ub3JtYWxpemUoaW5jbHVkZVBhdGgpO1xuICAgICAgICAvLyBGdWxseSBxdWFsaWZpZWQgcGF0aHMgZG9uJ3QgbmVlZCB0byBiZSByZXNvbHZlZC5cbiAgICAgICAgaWYgKHBhdGguaXNBYnNvbHV0ZShpbmNsdWRlUGF0aCkpIHtcbiAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhpbmNsdWRlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbmNsdWRlIGAnICsgaW5jbHVkZVBhdGggKyAnYCB3YXMgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluY2x1ZGVQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDT01NT05fUFJPVE9fRklMRVMuaW5kZXhPZihpbmNsdWRlUGF0aCkgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGguam9pbihnb29nbGVQcm90b0ZpbGVzRGlyLCBpbmNsdWRlUGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEdvb2dsZVByb3RvRmlsZXNSb290Ll9maW5kSW5jbHVkZVBhdGgob3JpZ2luUGF0aCwgaW5jbHVkZVBhdGgpO1xuICAgIH1cbiAgICBzdGF0aWMgX2ZpbmRJbmNsdWRlUGF0aChvcmlnaW5QYXRoLCBpbmNsdWRlUGF0aCkge1xuICAgICAgICBvcmlnaW5QYXRoID0gcGF0aC5ub3JtYWxpemUob3JpZ2luUGF0aCk7XG4gICAgICAgIGluY2x1ZGVQYXRoID0gcGF0aC5ub3JtYWxpemUoaW5jbHVkZVBhdGgpO1xuICAgICAgICBsZXQgY3VycmVudCA9IG9yaWdpblBhdGg7XG4gICAgICAgIGxldCBmb3VuZCA9IGZzLmV4aXN0c1N5bmMocGF0aC5qb2luKGN1cnJlbnQsIGluY2x1ZGVQYXRoKSk7XG4gICAgICAgIHdoaWxlICghZm91bmQgJiYgY3VycmVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zdWJzdHJpbmcoMCwgY3VycmVudC5sYXN0SW5kZXhPZihwYXRoLnNlcCkpO1xuICAgICAgICAgICAgZm91bmQgPSBmcy5leGlzdHNTeW5jKHBhdGguam9pbihjdXJyZW50LCBpbmNsdWRlUGF0aCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluY2x1ZGUgYCcgKyBpbmNsdWRlUGF0aCArICdgIHdhcyBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGguam9pbihjdXJyZW50LCBpbmNsdWRlUGF0aCk7XG4gICAgfVxufVxuZXhwb3J0cy5Hb29nbGVQcm90b0ZpbGVzUm9vdCA9IEdvb2dsZVByb3RvRmlsZXNSb290O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JwYy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/grpc.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/iamService.js":
/*!*********************************************************!*\
  !*** ./node_modules/google-gax/build/src/iamService.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n// Copyright 2020 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// ** This file is automatically generated by gapic-generator-typescript. **\n// ** https://github.com/googleapis/gapic-generator-typescript **\n// ** All changes to this file may be overwritten. **\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IamClient = void 0;\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(action-browser)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(action-browser)/./node_modules/google-gax/build/src/routingHeader.js\");\nconst gapicConfig = __webpack_require__(/*! ./iam_policy_service_client_config.json */ \"(action-browser)/./node_modules/google-gax/build/src/iam_policy_service_client_config.json\");\nconst fallback = __webpack_require__(/*! ./fallback */ \"(action-browser)/./node_modules/google-gax/build/src/fallback.js\");\nlet version = (__webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/package.json\").version);\nconst jsonProtos = __webpack_require__(/*! ../protos/iam_service.json */ \"(action-browser)/./node_modules/google-gax/build/protos/iam_service.json\");\n/**\n *  Google Cloud IAM Client.\n *  This is manually written for providing methods [setIamPolicy, getIamPolicy, testIamPerssion] to the generated client.\n */\nclass IamClient {\n    constructor(gaxGrpc, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    options) {\n        this._terminated = false;\n        this.descriptors = { page: {}, stream: {}, longrunning: {} };\n        this.innerApiCalls = {};\n        this.gaxGrpc = gaxGrpc;\n        // Ensure that options include the service address and port.\n        const opts = Object.assign({\n            servicePath: options.servicePath,\n            port: options.port,\n            clientConfig: options.clientConfig,\n            apiEndpoint: options.apiEndpoint,\n            fallback: options.fallback,\n        }, options);\n        version = opts.fallback ? fallback.version : version;\n        opts.scopes = this.constructor.scopes;\n        // Save options to use in initialize() method.\n        this._opts = opts;\n        // Save the auth object to the client, for use by other methods.\n        this.auth = gaxGrpc.auth;\n        // Determine the client header string.\n        const clientHeader = [`gax/${version}`, `gapic/${version}`];\n        if (typeof process !== 'undefined' && 'versions' in process) {\n            clientHeader.push(`gl-node/${process.versions.node}`);\n        }\n        else {\n            clientHeader.push(`gl-web/${version}`);\n        }\n        if (!opts.fallback) {\n            clientHeader.push(`grpc/${gaxGrpc.grpcVersion}`);\n        }\n        if (opts.libName && opts.libVersion) {\n            clientHeader.push(`${opts.libName}/${opts.libVersion}`);\n        }\n        // Load the applicable protos.\n        this._protos = this.gaxGrpc.loadProtoJSON(jsonProtos);\n        // Put together the default options sent with requests.\n        this._defaults = gaxGrpc.constructSettings('google.iam.v1.IAMPolicy', gapicConfig, opts.clientConfig || {}, { 'x-goog-api-client': clientHeader.join(' ') });\n        this.innerApiCalls = {};\n    }\n    /**\n     * Initialize the client.\n     * Performs asynchronous operations (such as authentication) and prepares the client.\n     * This function will be called automatically when any class method is called for the\n     * first time, but if you need to initialize it before calling an actual method,\n     * feel free to call initialize() directly.\n     *\n     * You can await on this method if you want to make sure the client is initialized.\n     *\n     * @returns {Promise} A promise that resolves to an authenticated service stub.\n     */\n    initialize() {\n        // If the client stub promise is already initialized, return immediately.\n        if (this.iamPolicyStub) {\n            return this.iamPolicyStub;\n        }\n        // Put together the \"service stub\" for\n        // google.iam.v1.IAMPolicy.\n        this.iamPolicyStub = this.gaxGrpc.createStub(this._opts.fallback\n            ? this._protos.lookupService('google.iam.v1.IAMPolicy')\n            : this._protos.google.iam.v1.IAMPolicy, this._opts);\n        // Iterate over each of the methods that the service provides\n        // and create an API call method for each.\n        const iamPolicyStubMethods = [\n            'getIamPolicy',\n            'setIamPolicy',\n            'testIamPermissions',\n        ];\n        for (const methodName of iamPolicyStubMethods) {\n            const innerCallPromise = this.iamPolicyStub.then(stub => (...args) => {\n                if (this._terminated) {\n                    return Promise.reject('The client has already been closed.');\n                }\n                const func = stub[methodName];\n                return func.apply(stub, args);\n            }, (err) => () => {\n                throw err;\n            });\n            this.innerApiCalls[methodName] = (0, createApiCall_1.createApiCall)(innerCallPromise, this._defaults[methodName], this.descriptors.page[methodName]);\n        }\n        return this.iamPolicyStub;\n    }\n    /**\n     * The DNS address for this API service.\n     */\n    static get servicePath() {\n        return 'cloudkms.googleapis.com';\n    }\n    /**\n     * The DNS address for this API service - same as servicePath(),\n     * exists for compatibility reasons.\n     */\n    static get apiEndpoint() {\n        return 'cloudkms.googleapis.com';\n    }\n    /**\n     * The port for this API service.\n     */\n    static get port() {\n        return 443;\n    }\n    /**\n     * The scopes needed to make gRPC calls for every method defined\n     * in this service.\n     */\n    static get scopes() {\n        return [\n            'https://www.googleapis.com/auth/cloud-platform',\n            'https://www.googleapis.com/auth/cloudkms',\n        ];\n    }\n    getProjectId(callback) {\n        if (this.auth && 'getProjectId' in this.auth) {\n            return this.auth.getProjectId(callback);\n        }\n        if (callback) {\n            callback(new Error('Cannot determine project ID.'));\n        }\n        else {\n            return Promise.reject('Cannot determine project ID.');\n        }\n    }\n    getIamPolicy(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                resource: request.resource,\n            });\n        this.initialize();\n        return this.innerApiCalls.getIamPolicy(request, options, callback);\n    }\n    setIamPolicy(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                resource: request.resource,\n            });\n        this.initialize();\n        return this.innerApiCalls.setIamPolicy(request, options, callback);\n    }\n    testIamPermissions(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                resource: request.resource,\n            });\n        this.initialize();\n        return this.innerApiCalls.testIamPermissions(request, options, callback);\n    }\n    /**\n     * Terminate the GRPC channel and close the client.\n     *\n     * The client will no longer be usable and all future behavior is undefined.\n     */\n    close() {\n        this.initialize();\n        if (!this._terminated) {\n            return this.iamPolicyStub.then(stub => {\n                this._terminated = true;\n                stub.close();\n            });\n        }\n        return Promise.resolve();\n    }\n}\nexports.IamClient = IamClient;\n//# sourceMappingURL=iamService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9pYW1TZXJ2aWNlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsd0JBQXdCLG1CQUFPLENBQUMsOEZBQWlCO0FBQ2pELHNCQUFzQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQywySUFBeUM7QUFDckUsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQVk7QUFDckMsY0FBYyxrSEFBcUM7QUFDbkQsbUJBQW1CLG1CQUFPLENBQUMsNEdBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixRQUFRLFlBQVk7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFFBQVEsWUFBWSxRQUFRO0FBQ2pFO0FBQ0EseUNBQXlDLHNCQUFzQjtBQUMvRDtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBLHNDQUFzQyxvQkFBb0I7QUFDMUQ7QUFDQTtBQUNBLGlDQUFpQyxhQUFhLEdBQUcsZ0JBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0hBQWtILElBQUksNkNBQTZDO0FBQ25LO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2lhbVNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8vXG4vLyAqKiBUaGlzIGZpbGUgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgZ2FwaWMtZ2VuZXJhdG9yLXR5cGVzY3JpcHQuICoqXG4vLyAqKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlYXBpcy9nYXBpYy1nZW5lcmF0b3ItdHlwZXNjcmlwdCAqKlxuLy8gKiogQWxsIGNoYW5nZXMgdG8gdGhpcyBmaWxlIG1heSBiZSBvdmVyd3JpdHRlbi4gKipcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSWFtQ2xpZW50ID0gdm9pZCAwO1xuY29uc3QgY3JlYXRlQXBpQ2FsbF8xID0gcmVxdWlyZShcIi4vY3JlYXRlQXBpQ2FsbFwiKTtcbmNvbnN0IHJvdXRpbmdIZWFkZXIgPSByZXF1aXJlKFwiLi9yb3V0aW5nSGVhZGVyXCIpO1xuY29uc3QgZ2FwaWNDb25maWcgPSByZXF1aXJlKFwiLi9pYW1fcG9saWN5X3NlcnZpY2VfY2xpZW50X2NvbmZpZy5qc29uXCIpO1xuY29uc3QgZmFsbGJhY2sgPSByZXF1aXJlKFwiLi9mYWxsYmFja1wiKTtcbmxldCB2ZXJzaW9uID0gcmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbmNvbnN0IGpzb25Qcm90b3MgPSByZXF1aXJlKFwiLi4vcHJvdG9zL2lhbV9zZXJ2aWNlLmpzb25cIik7XG4vKipcbiAqICBHb29nbGUgQ2xvdWQgSUFNIENsaWVudC5cbiAqICBUaGlzIGlzIG1hbnVhbGx5IHdyaXR0ZW4gZm9yIHByb3ZpZGluZyBtZXRob2RzIFtzZXRJYW1Qb2xpY3ksIGdldElhbVBvbGljeSwgdGVzdElhbVBlcnNzaW9uXSB0byB0aGUgZ2VuZXJhdGVkIGNsaWVudC5cbiAqL1xuY2xhc3MgSWFtQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcihnYXhHcnBjLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fdGVybWluYXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0b3JzID0geyBwYWdlOiB7fSwgc3RyZWFtOiB7fSwgbG9uZ3J1bm5pbmc6IHt9IH07XG4gICAgICAgIHRoaXMuaW5uZXJBcGlDYWxscyA9IHt9O1xuICAgICAgICB0aGlzLmdheEdycGMgPSBnYXhHcnBjO1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCBvcHRpb25zIGluY2x1ZGUgdGhlIHNlcnZpY2UgYWRkcmVzcyBhbmQgcG9ydC5cbiAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2VydmljZVBhdGg6IG9wdGlvbnMuc2VydmljZVBhdGgsXG4gICAgICAgICAgICBwb3J0OiBvcHRpb25zLnBvcnQsXG4gICAgICAgICAgICBjbGllbnRDb25maWc6IG9wdGlvbnMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgYXBpRW5kcG9pbnQ6IG9wdGlvbnMuYXBpRW5kcG9pbnQsXG4gICAgICAgICAgICBmYWxsYmFjazogb3B0aW9ucy5mYWxsYmFjayxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHZlcnNpb24gPSBvcHRzLmZhbGxiYWNrID8gZmFsbGJhY2sudmVyc2lvbiA6IHZlcnNpb247XG4gICAgICAgIG9wdHMuc2NvcGVzID0gdGhpcy5jb25zdHJ1Y3Rvci5zY29wZXM7XG4gICAgICAgIC8vIFNhdmUgb3B0aW9ucyB0byB1c2UgaW4gaW5pdGlhbGl6ZSgpIG1ldGhvZC5cbiAgICAgICAgdGhpcy5fb3B0cyA9IG9wdHM7XG4gICAgICAgIC8vIFNhdmUgdGhlIGF1dGggb2JqZWN0IHRvIHRoZSBjbGllbnQsIGZvciB1c2UgYnkgb3RoZXIgbWV0aG9kcy5cbiAgICAgICAgdGhpcy5hdXRoID0gZ2F4R3JwYy5hdXRoO1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGNsaWVudCBoZWFkZXIgc3RyaW5nLlxuICAgICAgICBjb25zdCBjbGllbnRIZWFkZXIgPSBbYGdheC8ke3ZlcnNpb259YCwgYGdhcGljLyR7dmVyc2lvbn1gXTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAndmVyc2lvbnMnIGluIHByb2Nlc3MpIHtcbiAgICAgICAgICAgIGNsaWVudEhlYWRlci5wdXNoKGBnbC1ub2RlLyR7cHJvY2Vzcy52ZXJzaW9ucy5ub2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xpZW50SGVhZGVyLnB1c2goYGdsLXdlYi8ke3ZlcnNpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRzLmZhbGxiYWNrKSB7XG4gICAgICAgICAgICBjbGllbnRIZWFkZXIucHVzaChgZ3JwYy8ke2dheEdycGMuZ3JwY1ZlcnNpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMubGliTmFtZSAmJiBvcHRzLmxpYlZlcnNpb24pIHtcbiAgICAgICAgICAgIGNsaWVudEhlYWRlci5wdXNoKGAke29wdHMubGliTmFtZX0vJHtvcHRzLmxpYlZlcnNpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9hZCB0aGUgYXBwbGljYWJsZSBwcm90b3MuXG4gICAgICAgIHRoaXMuX3Byb3RvcyA9IHRoaXMuZ2F4R3JwYy5sb2FkUHJvdG9KU09OKGpzb25Qcm90b3MpO1xuICAgICAgICAvLyBQdXQgdG9nZXRoZXIgdGhlIGRlZmF1bHQgb3B0aW9ucyBzZW50IHdpdGggcmVxdWVzdHMuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRzID0gZ2F4R3JwYy5jb25zdHJ1Y3RTZXR0aW5ncygnZ29vZ2xlLmlhbS52MS5JQU1Qb2xpY3knLCBnYXBpY0NvbmZpZywgb3B0cy5jbGllbnRDb25maWcgfHwge30sIHsgJ3gtZ29vZy1hcGktY2xpZW50JzogY2xpZW50SGVhZGVyLmpvaW4oJyAnKSB9KTtcbiAgICAgICAgdGhpcy5pbm5lckFwaUNhbGxzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGNsaWVudC5cbiAgICAgKiBQZXJmb3JtcyBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyAoc3VjaCBhcyBhdXRoZW50aWNhdGlvbikgYW5kIHByZXBhcmVzIHRoZSBjbGllbnQuXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IHdoZW4gYW55IGNsYXNzIG1ldGhvZCBpcyBjYWxsZWQgZm9yIHRoZVxuICAgICAqIGZpcnN0IHRpbWUsIGJ1dCBpZiB5b3UgbmVlZCB0byBpbml0aWFsaXplIGl0IGJlZm9yZSBjYWxsaW5nIGFuIGFjdHVhbCBtZXRob2QsXG4gICAgICogZmVlbCBmcmVlIHRvIGNhbGwgaW5pdGlhbGl6ZSgpIGRpcmVjdGx5LlxuICAgICAqXG4gICAgICogWW91IGNhbiBhd2FpdCBvbiB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudCB0byBtYWtlIHN1cmUgdGhlIGNsaWVudCBpcyBpbml0aWFsaXplZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhdXRoZW50aWNhdGVkIHNlcnZpY2Ugc3R1Yi5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICAvLyBJZiB0aGUgY2xpZW50IHN0dWIgcHJvbWlzZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLCByZXR1cm4gaW1tZWRpYXRlbHkuXG4gICAgICAgIGlmICh0aGlzLmlhbVBvbGljeVN0dWIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlhbVBvbGljeVN0dWI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHV0IHRvZ2V0aGVyIHRoZSBcInNlcnZpY2Ugc3R1YlwiIGZvclxuICAgICAgICAvLyBnb29nbGUuaWFtLnYxLklBTVBvbGljeS5cbiAgICAgICAgdGhpcy5pYW1Qb2xpY3lTdHViID0gdGhpcy5nYXhHcnBjLmNyZWF0ZVN0dWIodGhpcy5fb3B0cy5mYWxsYmFja1xuICAgICAgICAgICAgPyB0aGlzLl9wcm90b3MubG9va3VwU2VydmljZSgnZ29vZ2xlLmlhbS52MS5JQU1Qb2xpY3knKVxuICAgICAgICAgICAgOiB0aGlzLl9wcm90b3MuZ29vZ2xlLmlhbS52MS5JQU1Qb2xpY3ksIHRoaXMuX29wdHMpO1xuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgZWFjaCBvZiB0aGUgbWV0aG9kcyB0aGF0IHRoZSBzZXJ2aWNlIHByb3ZpZGVzXG4gICAgICAgIC8vIGFuZCBjcmVhdGUgYW4gQVBJIGNhbGwgbWV0aG9kIGZvciBlYWNoLlxuICAgICAgICBjb25zdCBpYW1Qb2xpY3lTdHViTWV0aG9kcyA9IFtcbiAgICAgICAgICAgICdnZXRJYW1Qb2xpY3knLFxuICAgICAgICAgICAgJ3NldElhbVBvbGljeScsXG4gICAgICAgICAgICAndGVzdElhbVBlcm1pc3Npb25zJyxcbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChjb25zdCBtZXRob2ROYW1lIG9mIGlhbVBvbGljeVN0dWJNZXRob2RzKSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lckNhbGxQcm9taXNlID0gdGhpcy5pYW1Qb2xpY3lTdHViLnRoZW4oc3R1YiA9PiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90ZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuYyA9IHN0dWJbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoc3R1YiwgYXJncyk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmlubmVyQXBpQ2FsbHNbbWV0aG9kTmFtZV0gPSAoMCwgY3JlYXRlQXBpQ2FsbF8xLmNyZWF0ZUFwaUNhbGwpKGlubmVyQ2FsbFByb21pc2UsIHRoaXMuX2RlZmF1bHRzW21ldGhvZE5hbWVdLCB0aGlzLmRlc2NyaXB0b3JzLnBhZ2VbbWV0aG9kTmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmlhbVBvbGljeVN0dWI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBETlMgYWRkcmVzcyBmb3IgdGhpcyBBUEkgc2VydmljZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNlcnZpY2VQYXRoKCkge1xuICAgICAgICByZXR1cm4gJ2Nsb3Vka21zLmdvb2dsZWFwaXMuY29tJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIEROUyBhZGRyZXNzIGZvciB0aGlzIEFQSSBzZXJ2aWNlIC0gc2FtZSBhcyBzZXJ2aWNlUGF0aCgpLFxuICAgICAqIGV4aXN0cyBmb3IgY29tcGF0aWJpbGl0eSByZWFzb25zLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgYXBpRW5kcG9pbnQoKSB7XG4gICAgICAgIHJldHVybiAnY2xvdWRrbXMuZ29vZ2xlYXBpcy5jb20nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcG9ydCBmb3IgdGhpcyBBUEkgc2VydmljZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHBvcnQoKSB7XG4gICAgICAgIHJldHVybiA0NDM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzY29wZXMgbmVlZGVkIHRvIG1ha2UgZ1JQQyBjYWxscyBmb3IgZXZlcnkgbWV0aG9kIGRlZmluZWRcbiAgICAgKiBpbiB0aGlzIHNlcnZpY2UuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBzY29wZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbG91ZC1wbGF0Zm9ybScsXG4gICAgICAgICAgICAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbG91ZGttcycsXG4gICAgICAgIF07XG4gICAgfVxuICAgIGdldFByb2plY3RJZChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5hdXRoICYmICdnZXRQcm9qZWN0SWQnIGluIHRoaXMuYXV0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5nZXRQcm9qZWN0SWQoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdDYW5ub3QgZGV0ZXJtaW5lIHByb2plY3QgSUQuJykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdDYW5ub3QgZGV0ZXJtaW5lIHByb2plY3QgSUQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0SWFtUG9saWN5KHJlcXVlc3QsIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnNPckNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzID0gb3B0aW9ucy5vdGhlckFyZ3MgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgPSBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzWyd4LWdvb2ctcmVxdWVzdC1wYXJhbXMnXSA9XG4gICAgICAgICAgICByb3V0aW5nSGVhZGVyLmZyb21QYXJhbXMoe1xuICAgICAgICAgICAgICAgIHJlc291cmNlOiByZXF1ZXN0LnJlc291cmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLmdldElhbVBvbGljeShyZXF1ZXN0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIHNldElhbVBvbGljeShyZXF1ZXN0LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zT3JDYWxsYmFjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncyA9IG9wdGlvbnMub3RoZXJBcmdzIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzID0gb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVycyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVyc1sneC1nb29nLXJlcXVlc3QtcGFyYW1zJ10gPVxuICAgICAgICAgICAgcm91dGluZ0hlYWRlci5mcm9tUGFyYW1zKHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogcmVxdWVzdC5yZXNvdXJjZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJBcGlDYWxscy5zZXRJYW1Qb2xpY3kocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICB0ZXN0SWFtUGVybWlzc2lvbnMocmVxdWVzdCwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9uc09yQ2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MgPSBvcHRpb25zLm90aGVyQXJncyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVycyA9IG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnNbJ3gtZ29vZy1yZXF1ZXN0LXBhcmFtcyddID1cbiAgICAgICAgICAgIHJvdXRpbmdIZWFkZXIuZnJvbVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IHJlcXVlc3QucmVzb3VyY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyQXBpQ2FsbHMudGVzdElhbVBlcm1pc3Npb25zKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVybWluYXRlIHRoZSBHUlBDIGNoYW5uZWwgYW5kIGNsb3NlIHRoZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBUaGUgY2xpZW50IHdpbGwgbm8gbG9uZ2VyIGJlIHVzYWJsZSBhbmQgYWxsIGZ1dHVyZSBiZWhhdmlvciBpcyB1bmRlZmluZWQuXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX3Rlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlhbVBvbGljeVN0dWIudGhlbihzdHViID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXJtaW5hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHViLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5JYW1DbGllbnQgPSBJYW1DbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pYW1TZXJ2aWNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/iamService.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/iam_policy_service_client_config.json":
/*!*********************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/iam_policy_service_client_config.json ***!
  \*********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"interfaces":{"google.iam.v1.IAMPolicy":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":20000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":20000,"total_timeout_millis":600000}},"methods":{"GetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"SetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"TestIamPermissions":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/google-gax/build/src/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.serializer = exports.warn = exports.ChannelCredentials = exports.makeUUID = exports.fallback = exports.protobufMinimal = exports.protobuf = exports.version = exports.createByteLengthFunction = exports.LocationsClient = exports.IamClient = exports.OperationsClient = exports.LocationProtos = exports.IamProtos = exports.operationsProtos = exports.routingHeader = exports.StreamType = exports.Status = exports.PathTemplate = exports.operation = exports.Operation = exports.GrpcClient = exports.GoogleProtoFilesRoot = exports.ClientStub = exports.GoogleError = exports.createMaxRetriesBackoffSettings = exports.createDefaultBackoffSettings = exports.createBackoffSettings = exports.createBundleOptions = exports.createRetryOptions = exports.RetryOptions = exports.constructSettings = exports.CallSettings = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = exports.BundleDescriptor = exports.createApiCall = exports.OngoingCall = exports.grpc = exports.GoogleAuth = void 0;\nexports.lro = lro;\nconst grpc = __webpack_require__(/*! @grpc/grpc-js */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\");\nexports.grpc = grpc;\nconst grpc_1 = __webpack_require__(/*! ./grpc */ \"(action-browser)/./node_modules/google-gax/build/src/grpc.js\");\nconst IamProtos = __webpack_require__(/*! ../protos/iam_service */ \"(action-browser)/./node_modules/google-gax/build/protos/iam_service.js\");\nexports.IamProtos = IamProtos;\nconst LocationProtos = __webpack_require__(/*! ../protos/locations */ \"(action-browser)/./node_modules/google-gax/build/protos/locations.js\");\nexports.LocationProtos = LocationProtos;\nconst operationsProtos = __webpack_require__(/*! ../protos/operations */ \"(action-browser)/./node_modules/google-gax/build/protos/operations.js\");\nexports.operationsProtos = operationsProtos;\nconst operationsClient = __webpack_require__(/*! ./operationsClient */ \"(action-browser)/./node_modules/google-gax/build/src/operationsClient.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(action-browser)/./node_modules/google-gax/build/src/routingHeader.js\");\nexports.routingHeader = routingHeader;\nvar google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(action-browser)/./node_modules/google-auth-library/build/src/index.js\");\nObject.defineProperty(exports, \"GoogleAuth\", ({ enumerable: true, get: function () { return google_auth_library_1.GoogleAuth; } }));\nvar call_1 = __webpack_require__(/*! ./call */ \"(action-browser)/./node_modules/google-gax/build/src/call.js\");\nObject.defineProperty(exports, \"OngoingCall\", ({ enumerable: true, get: function () { return call_1.OngoingCall; } }));\nvar createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(action-browser)/./node_modules/google-gax/build/src/createApiCall.js\");\nObject.defineProperty(exports, \"createApiCall\", ({ enumerable: true, get: function () { return createApiCall_1.createApiCall; } }));\nvar descriptor_1 = __webpack_require__(/*! ./descriptor */ \"(action-browser)/./node_modules/google-gax/build/src/descriptor.js\");\nObject.defineProperty(exports, \"BundleDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.BundleDescriptor; } }));\nObject.defineProperty(exports, \"LongrunningDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.LongrunningDescriptor; } }));\nObject.defineProperty(exports, \"PageDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.PageDescriptor; } }));\nObject.defineProperty(exports, \"StreamDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.StreamDescriptor; } }));\nvar gax_1 = __webpack_require__(/*! ./gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nObject.defineProperty(exports, \"CallSettings\", ({ enumerable: true, get: function () { return gax_1.CallSettings; } }));\nObject.defineProperty(exports, \"constructSettings\", ({ enumerable: true, get: function () { return gax_1.constructSettings; } }));\nObject.defineProperty(exports, \"RetryOptions\", ({ enumerable: true, get: function () { return gax_1.RetryOptions; } }));\nObject.defineProperty(exports, \"createRetryOptions\", ({ enumerable: true, get: function () { return gax_1.createRetryOptions; } }));\nObject.defineProperty(exports, \"createBundleOptions\", ({ enumerable: true, get: function () { return gax_1.createBundleOptions; } }));\nObject.defineProperty(exports, \"createBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createBackoffSettings; } }));\nObject.defineProperty(exports, \"createDefaultBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createDefaultBackoffSettings; } }));\nObject.defineProperty(exports, \"createMaxRetriesBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createMaxRetriesBackoffSettings; } }));\nvar googleError_1 = __webpack_require__(/*! ./googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nObject.defineProperty(exports, \"GoogleError\", ({ enumerable: true, get: function () { return googleError_1.GoogleError; } }));\nvar grpc_2 = __webpack_require__(/*! ./grpc */ \"(action-browser)/./node_modules/google-gax/build/src/grpc.js\");\nObject.defineProperty(exports, \"ClientStub\", ({ enumerable: true, get: function () { return grpc_2.ClientStub; } }));\nObject.defineProperty(exports, \"GoogleProtoFilesRoot\", ({ enumerable: true, get: function () { return grpc_2.GoogleProtoFilesRoot; } }));\nObject.defineProperty(exports, \"GrpcClient\", ({ enumerable: true, get: function () { return grpc_2.GrpcClient; } }));\nvar longrunning_1 = __webpack_require__(/*! ./longRunningCalls/longrunning */ \"(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\");\nObject.defineProperty(exports, \"Operation\", ({ enumerable: true, get: function () { return longrunning_1.Operation; } }));\nObject.defineProperty(exports, \"operation\", ({ enumerable: true, get: function () { return longrunning_1.operation; } }));\nvar pathTemplate_1 = __webpack_require__(/*! ./pathTemplate */ \"(action-browser)/./node_modules/google-gax/build/src/pathTemplate.js\");\nObject.defineProperty(exports, \"PathTemplate\", ({ enumerable: true, get: function () { return pathTemplate_1.PathTemplate; } }));\nvar status_1 = __webpack_require__(/*! ./status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nObject.defineProperty(exports, \"Status\", ({ enumerable: true, get: function () { return status_1.Status; } }));\nvar streaming_1 = __webpack_require__(/*! ./streamingCalls/streaming */ \"(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nObject.defineProperty(exports, \"StreamType\", ({ enumerable: true, get: function () { return streaming_1.StreamType; } }));\nfunction lro(options) {\n    options = Object.assign({ scopes: lro.ALL_SCOPES }, options);\n    const gaxGrpc = new grpc_1.GrpcClient(options);\n    return new operationsClient.OperationsClientBuilder(gaxGrpc);\n}\nlro.SERVICE_ADDRESS = operationsClient.SERVICE_ADDRESS;\nlro.ALL_SCOPES = operationsClient.ALL_SCOPES;\nvar operationsClient_1 = __webpack_require__(/*! ./operationsClient */ \"(action-browser)/./node_modules/google-gax/build/src/operationsClient.js\");\nObject.defineProperty(exports, \"OperationsClient\", ({ enumerable: true, get: function () { return operationsClient_1.OperationsClient; } }));\nvar iamService_1 = __webpack_require__(/*! ./iamService */ \"(action-browser)/./node_modules/google-gax/build/src/iamService.js\");\nObject.defineProperty(exports, \"IamClient\", ({ enumerable: true, get: function () { return iamService_1.IamClient; } }));\nvar locationService_1 = __webpack_require__(/*! ./locationService */ \"(action-browser)/./node_modules/google-gax/build/src/locationService.js\");\nObject.defineProperty(exports, \"LocationsClient\", ({ enumerable: true, get: function () { return locationService_1.LocationsClient; } }));\nexports.createByteLengthFunction = grpc_1.GrpcClient.createByteLengthFunction;\nexports.version = __webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/package.json\").version;\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(action-browser)/./node_modules/protobufjs/index.js\");\nexports.protobuf = protobuf;\nexports.protobufMinimal = __webpack_require__(/*! protobufjs/minimal */ \"(action-browser)/./node_modules/protobufjs/minimal.js\");\nconst fallback = __webpack_require__(/*! ./fallback */ \"(action-browser)/./node_modules/google-gax/build/src/fallback.js\");\nexports.fallback = fallback;\nvar util_1 = __webpack_require__(/*! ./util */ \"(action-browser)/./node_modules/google-gax/build/src/util.js\");\nObject.defineProperty(exports, \"makeUUID\", ({ enumerable: true, get: function () { return util_1.makeUUID; } }));\nvar grpc_js_1 = __webpack_require__(/*! @grpc/grpc-js */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\");\nObject.defineProperty(exports, \"ChannelCredentials\", ({ enumerable: true, get: function () { return grpc_js_1.ChannelCredentials; } }));\nvar warnings_1 = __webpack_require__(/*! ./warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nObject.defineProperty(exports, \"warn\", ({ enumerable: true, get: function () { return warnings_1.warn; } }));\nconst serializer = __webpack_require__(/*! proto3-json-serializer */ \"(action-browser)/./node_modules/proto3-json-serializer/build/src/index.js\");\nexports.serializer = serializer;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsR0FBRyxZQUFZLEdBQUcsMEJBQTBCLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsdUJBQXVCLEdBQUcsZ0JBQWdCLEdBQUcsZUFBZSxHQUFHLGdDQUFnQyxHQUFHLHVCQUF1QixHQUFHLGlCQUFpQixHQUFHLHdCQUF3QixHQUFHLHNCQUFzQixHQUFHLGlCQUFpQixHQUFHLHdCQUF3QixHQUFHLHFCQUFxQixHQUFHLGtCQUFrQixHQUFHLGNBQWMsR0FBRyxvQkFBb0IsR0FBRyxpQkFBaUIsR0FBRyxpQkFBaUIsR0FBRyxrQkFBa0IsR0FBRyw0QkFBNEIsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyx1Q0FBdUMsR0FBRyxvQ0FBb0MsR0FBRyw2QkFBNkIsR0FBRywyQkFBMkIsR0FBRywwQkFBMEIsR0FBRyxvQkFBb0IsR0FBRyx5QkFBeUIsR0FBRyxvQkFBb0IsR0FBRyx3QkFBd0IsR0FBRyxzQkFBc0IsR0FBRyw2QkFBNkIsR0FBRyx3QkFBd0IsR0FBRyxxQkFBcUIsR0FBRyxtQkFBbUIsR0FBRyxZQUFZLEdBQUcsa0JBQWtCO0FBQzErQixXQUFXO0FBQ1gsYUFBYSxtQkFBTyxDQUFDLCtHQUFlO0FBQ3BDLFlBQVk7QUFDWixlQUFlLG1CQUFPLENBQUMsNEVBQVE7QUFDL0Isa0JBQWtCLG1CQUFPLENBQUMscUdBQXVCO0FBQ2pELGlCQUFpQjtBQUNqQix1QkFBdUIsbUJBQU8sQ0FBQyxpR0FBcUI7QUFDcEQsc0JBQXNCO0FBQ3RCLHlCQUF5QixtQkFBTyxDQUFDLG1HQUFzQjtBQUN2RCx3QkFBd0I7QUFDeEIseUJBQXlCLG1CQUFPLENBQUMsb0dBQW9CO0FBQ3JELHNCQUFzQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMvQyxxQkFBcUI7QUFDckIsNEJBQTRCLG1CQUFPLENBQUMsbUdBQXFCO0FBQ3pELDhDQUE2QyxFQUFFLHFDQUFxQyw0Q0FBNEMsRUFBQztBQUNqSSxhQUFhLG1CQUFPLENBQUMsNEVBQVE7QUFDN0IsK0NBQThDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ3BILHNCQUFzQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMvQyxpREFBZ0QsRUFBRSxxQ0FBcUMseUNBQXlDLEVBQUM7QUFDakksbUJBQW1CLG1CQUFPLENBQUMsd0ZBQWM7QUFDekMsb0RBQW1ELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ3BJLHlEQUF3RCxFQUFFLHFDQUFxQyw4Q0FBOEMsRUFBQztBQUM5SSxrREFBaUQsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDaEksb0RBQW1ELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ3BJLFlBQVksbUJBQU8sQ0FBQywwRUFBTztBQUMzQixnREFBK0MsRUFBRSxxQ0FBcUMsOEJBQThCLEVBQUM7QUFDckgscURBQW9ELEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQy9ILGdEQUErQyxFQUFFLHFDQUFxQyw4QkFBOEIsRUFBQztBQUNySCxzREFBcUQsRUFBRSxxQ0FBcUMsb0NBQW9DLEVBQUM7QUFDakksdURBQXNELEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQ25JLHlEQUF3RCxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUN2SSxnRUFBK0QsRUFBRSxxQ0FBcUMsOENBQThDLEVBQUM7QUFDckosbUVBQWtFLEVBQUUscUNBQXFDLGlEQUFpRCxFQUFDO0FBQzNKLG9CQUFvQixtQkFBTyxDQUFDLDBGQUFlO0FBQzNDLCtDQUE4QyxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUMzSCxhQUFhLG1CQUFPLENBQUMsNEVBQVE7QUFDN0IsOENBQTZDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQ2xILHdEQUF1RCxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUN0SSw4Q0FBNkMsRUFBRSxxQ0FBcUMsNkJBQTZCLEVBQUM7QUFDbEgsb0JBQW9CLG1CQUFPLENBQUMsNEhBQWdDO0FBQzVELDZDQUE0QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN2SCw2Q0FBNEMsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDdkgscUJBQXFCLG1CQUFPLENBQUMsNEZBQWdCO0FBQzdDLGdEQUErQyxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUM5SCxlQUFlLG1CQUFPLENBQUMsZ0ZBQVU7QUFDakMsMENBQXlDLEVBQUUscUNBQXFDLDJCQUEyQixFQUFDO0FBQzVHLGtCQUFrQixtQkFBTyxDQUFDLG9IQUE0QjtBQUN0RCw4Q0FBNkMsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDdkg7QUFDQSw4QkFBOEIsd0JBQXdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUJBQU8sQ0FBQyxvR0FBb0I7QUFDckQsb0RBQW1ELEVBQUUscUNBQXFDLCtDQUErQyxFQUFDO0FBQzFJLG1CQUFtQixtQkFBTyxDQUFDLHdGQUFjO0FBQ3pDLDZDQUE0QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUN0SCx3QkFBd0IsbUJBQU8sQ0FBQyxrR0FBbUI7QUFDbkQsbURBQWtELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQ3ZJLGdDQUFnQztBQUNoQyxrSUFBdUQ7QUFDdkQsaUJBQWlCLG1CQUFPLENBQUMsdUVBQVk7QUFDckMsZ0JBQWdCO0FBQ2hCLGdJQUF1RDtBQUN2RCxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBWTtBQUNyQyxnQkFBZ0I7QUFDaEIsYUFBYSxtQkFBTyxDQUFDLDRFQUFRO0FBQzdCLDRDQUEyQyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUM5RyxnQkFBZ0IsbUJBQU8sQ0FBQywrR0FBZTtBQUN2QyxzREFBcUQsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDckksaUJBQWlCLG1CQUFPLENBQUMsb0ZBQVk7QUFDckMsd0NBQXVDLEVBQUUscUNBQXFDLDJCQUEyQixFQUFDO0FBQzFHLG1CQUFtQixtQkFBTyxDQUFDLHlHQUF3QjtBQUNuRCxrQkFBa0I7QUFDbEIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2VyaWFsaXplciA9IGV4cG9ydHMud2FybiA9IGV4cG9ydHMuQ2hhbm5lbENyZWRlbnRpYWxzID0gZXhwb3J0cy5tYWtlVVVJRCA9IGV4cG9ydHMuZmFsbGJhY2sgPSBleHBvcnRzLnByb3RvYnVmTWluaW1hbCA9IGV4cG9ydHMucHJvdG9idWYgPSBleHBvcnRzLnZlcnNpb24gPSBleHBvcnRzLmNyZWF0ZUJ5dGVMZW5ndGhGdW5jdGlvbiA9IGV4cG9ydHMuTG9jYXRpb25zQ2xpZW50ID0gZXhwb3J0cy5JYW1DbGllbnQgPSBleHBvcnRzLk9wZXJhdGlvbnNDbGllbnQgPSBleHBvcnRzLkxvY2F0aW9uUHJvdG9zID0gZXhwb3J0cy5JYW1Qcm90b3MgPSBleHBvcnRzLm9wZXJhdGlvbnNQcm90b3MgPSBleHBvcnRzLnJvdXRpbmdIZWFkZXIgPSBleHBvcnRzLlN0cmVhbVR5cGUgPSBleHBvcnRzLlN0YXR1cyA9IGV4cG9ydHMuUGF0aFRlbXBsYXRlID0gZXhwb3J0cy5vcGVyYXRpb24gPSBleHBvcnRzLk9wZXJhdGlvbiA9IGV4cG9ydHMuR3JwY0NsaWVudCA9IGV4cG9ydHMuR29vZ2xlUHJvdG9GaWxlc1Jvb3QgPSBleHBvcnRzLkNsaWVudFN0dWIgPSBleHBvcnRzLkdvb2dsZUVycm9yID0gZXhwb3J0cy5jcmVhdGVNYXhSZXRyaWVzQmFja29mZlNldHRpbmdzID0gZXhwb3J0cy5jcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzID0gZXhwb3J0cy5jcmVhdGVCYWNrb2ZmU2V0dGluZ3MgPSBleHBvcnRzLmNyZWF0ZUJ1bmRsZU9wdGlvbnMgPSBleHBvcnRzLmNyZWF0ZVJldHJ5T3B0aW9ucyA9IGV4cG9ydHMuUmV0cnlPcHRpb25zID0gZXhwb3J0cy5jb25zdHJ1Y3RTZXR0aW5ncyA9IGV4cG9ydHMuQ2FsbFNldHRpbmdzID0gZXhwb3J0cy5TdHJlYW1EZXNjcmlwdG9yID0gZXhwb3J0cy5QYWdlRGVzY3JpcHRvciA9IGV4cG9ydHMuTG9uZ3J1bm5pbmdEZXNjcmlwdG9yID0gZXhwb3J0cy5CdW5kbGVEZXNjcmlwdG9yID0gZXhwb3J0cy5jcmVhdGVBcGlDYWxsID0gZXhwb3J0cy5PbmdvaW5nQ2FsbCA9IGV4cG9ydHMuZ3JwYyA9IGV4cG9ydHMuR29vZ2xlQXV0aCA9IHZvaWQgMDtcbmV4cG9ydHMubHJvID0gbHJvO1xuY29uc3QgZ3JwYyA9IHJlcXVpcmUoXCJAZ3JwYy9ncnBjLWpzXCIpO1xuZXhwb3J0cy5ncnBjID0gZ3JwYztcbmNvbnN0IGdycGNfMSA9IHJlcXVpcmUoXCIuL2dycGNcIik7XG5jb25zdCBJYW1Qcm90b3MgPSByZXF1aXJlKFwiLi4vcHJvdG9zL2lhbV9zZXJ2aWNlXCIpO1xuZXhwb3J0cy5JYW1Qcm90b3MgPSBJYW1Qcm90b3M7XG5jb25zdCBMb2NhdGlvblByb3RvcyA9IHJlcXVpcmUoXCIuLi9wcm90b3MvbG9jYXRpb25zXCIpO1xuZXhwb3J0cy5Mb2NhdGlvblByb3RvcyA9IExvY2F0aW9uUHJvdG9zO1xuY29uc3Qgb3BlcmF0aW9uc1Byb3RvcyA9IHJlcXVpcmUoXCIuLi9wcm90b3Mvb3BlcmF0aW9uc1wiKTtcbmV4cG9ydHMub3BlcmF0aW9uc1Byb3RvcyA9IG9wZXJhdGlvbnNQcm90b3M7XG5jb25zdCBvcGVyYXRpb25zQ2xpZW50ID0gcmVxdWlyZShcIi4vb3BlcmF0aW9uc0NsaWVudFwiKTtcbmNvbnN0IHJvdXRpbmdIZWFkZXIgPSByZXF1aXJlKFwiLi9yb3V0aW5nSGVhZGVyXCIpO1xuZXhwb3J0cy5yb3V0aW5nSGVhZGVyID0gcm91dGluZ0hlYWRlcjtcbnZhciBnb29nbGVfYXV0aF9saWJyYXJ5XzEgPSByZXF1aXJlKFwiZ29vZ2xlLWF1dGgtbGlicmFyeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdvb2dsZUF1dGhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdvb2dsZV9hdXRoX2xpYnJhcnlfMS5Hb29nbGVBdXRoOyB9IH0pO1xudmFyIGNhbGxfMSA9IHJlcXVpcmUoXCIuL2NhbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJPbmdvaW5nQ2FsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbF8xLk9uZ29pbmdDYWxsOyB9IH0pO1xudmFyIGNyZWF0ZUFwaUNhbGxfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUFwaUNhbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVBcGlDYWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVBcGlDYWxsXzEuY3JlYXRlQXBpQ2FsbDsgfSB9KTtcbnZhciBkZXNjcmlwdG9yXzEgPSByZXF1aXJlKFwiLi9kZXNjcmlwdG9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQnVuZGxlRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVzY3JpcHRvcl8xLkJ1bmRsZURlc2NyaXB0b3I7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMb25ncnVubmluZ0Rlc2NyaXB0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JfMS5Mb25ncnVubmluZ0Rlc2NyaXB0b3I7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYWdlRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVzY3JpcHRvcl8xLlBhZ2VEZXNjcmlwdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVzY3JpcHRvcl8xLlN0cmVhbURlc2NyaXB0b3I7IH0gfSk7XG52YXIgZ2F4XzEgPSByZXF1aXJlKFwiLi9nYXhcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDYWxsU2V0dGluZ3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdheF8xLkNhbGxTZXR0aW5nczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbnN0cnVjdFNldHRpbmdzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5jb25zdHJ1Y3RTZXR0aW5nczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJldHJ5T3B0aW9uc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuUmV0cnlPcHRpb25zOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlUmV0cnlPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5jcmVhdGVSZXRyeU9wdGlvbnM7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVCdW5kbGVPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5jcmVhdGVCdW5kbGVPcHRpb25zOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlQmFja29mZlNldHRpbmdzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5jcmVhdGVCYWNrb2ZmU2V0dGluZ3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5jcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlTWF4UmV0cmllc0JhY2tvZmZTZXR0aW5nc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuY3JlYXRlTWF4UmV0cmllc0JhY2tvZmZTZXR0aW5nczsgfSB9KTtcbnZhciBnb29nbGVFcnJvcl8xID0gcmVxdWlyZShcIi4vZ29vZ2xlRXJyb3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHb29nbGVFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcjsgfSB9KTtcbnZhciBncnBjXzIgPSByZXF1aXJlKFwiLi9ncnBjXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2xpZW50U3R1YlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JwY18yLkNsaWVudFN0dWI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHb29nbGVQcm90b0ZpbGVzUm9vdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JwY18yLkdvb2dsZVByb3RvRmlsZXNSb290OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR3JwY0NsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JwY18yLkdycGNDbGllbnQ7IH0gfSk7XG52YXIgbG9uZ3J1bm5pbmdfMSA9IHJlcXVpcmUoXCIuL2xvbmdSdW5uaW5nQ2FsbHMvbG9uZ3J1bm5pbmdcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJPcGVyYXRpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvbmdydW5uaW5nXzEuT3BlcmF0aW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwib3BlcmF0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb25ncnVubmluZ18xLm9wZXJhdGlvbjsgfSB9KTtcbnZhciBwYXRoVGVtcGxhdGVfMSA9IHJlcXVpcmUoXCIuL3BhdGhUZW1wbGF0ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBhdGhUZW1wbGF0ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGF0aFRlbXBsYXRlXzEuUGF0aFRlbXBsYXRlOyB9IH0pO1xudmFyIHN0YXR1c18xID0gcmVxdWlyZShcIi4vc3RhdHVzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RhdHVzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0dXNfMS5TdGF0dXM7IH0gfSk7XG52YXIgc3RyZWFtaW5nXzEgPSByZXF1aXJlKFwiLi9zdHJlYW1pbmdDYWxscy9zdHJlYW1pbmdcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdHJlYW1UeXBlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdHJlYW1pbmdfMS5TdHJlYW1UeXBlOyB9IH0pO1xuZnVuY3Rpb24gbHJvKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHNjb3BlczogbHJvLkFMTF9TQ09QRVMgfSwgb3B0aW9ucyk7XG4gICAgY29uc3QgZ2F4R3JwYyA9IG5ldyBncnBjXzEuR3JwY0NsaWVudChvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IG9wZXJhdGlvbnNDbGllbnQuT3BlcmF0aW9uc0NsaWVudEJ1aWxkZXIoZ2F4R3JwYyk7XG59XG5scm8uU0VSVklDRV9BRERSRVNTID0gb3BlcmF0aW9uc0NsaWVudC5TRVJWSUNFX0FERFJFU1M7XG5scm8uQUxMX1NDT1BFUyA9IG9wZXJhdGlvbnNDbGllbnQuQUxMX1NDT1BFUztcbnZhciBvcGVyYXRpb25zQ2xpZW50XzEgPSByZXF1aXJlKFwiLi9vcGVyYXRpb25zQ2xpZW50XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT3BlcmF0aW9uc0NsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb3BlcmF0aW9uc0NsaWVudF8xLk9wZXJhdGlvbnNDbGllbnQ7IH0gfSk7XG52YXIgaWFtU2VydmljZV8xID0gcmVxdWlyZShcIi4vaWFtU2VydmljZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIklhbUNsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaWFtU2VydmljZV8xLklhbUNsaWVudDsgfSB9KTtcbnZhciBsb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2xvY2F0aW9uU2VydmljZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkxvY2F0aW9uc0NsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9jYXRpb25TZXJ2aWNlXzEuTG9jYXRpb25zQ2xpZW50OyB9IH0pO1xuZXhwb3J0cy5jcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb24gPSBncnBjXzEuR3JwY0NsaWVudC5jcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb247XG5leHBvcnRzLnZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuY29uc3QgcHJvdG9idWYgPSByZXF1aXJlKFwicHJvdG9idWZqc1wiKTtcbmV4cG9ydHMucHJvdG9idWYgPSBwcm90b2J1ZjtcbmV4cG9ydHMucHJvdG9idWZNaW5pbWFsID0gcmVxdWlyZShcInByb3RvYnVmanMvbWluaW1hbFwiKTtcbmNvbnN0IGZhbGxiYWNrID0gcmVxdWlyZShcIi4vZmFsbGJhY2tcIik7XG5leHBvcnRzLmZhbGxiYWNrID0gZmFsbGJhY2s7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1ha2VVVUlEXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsXzEubWFrZVVVSUQ7IH0gfSk7XG52YXIgZ3JwY19qc18xID0gcmVxdWlyZShcIkBncnBjL2dycGMtanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaGFubmVsQ3JlZGVudGlhbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdycGNfanNfMS5DaGFubmVsQ3JlZGVudGlhbHM7IH0gfSk7XG52YXIgd2FybmluZ3NfMSA9IHJlcXVpcmUoXCIuL3dhcm5pbmdzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2FyblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2FybmluZ3NfMS53YXJuOyB9IH0pO1xuY29uc3Qgc2VyaWFsaXplciA9IHJlcXVpcmUoXCJwcm90bzMtanNvbi1zZXJpYWxpemVyXCIpO1xuZXhwb3J0cy5zZXJpYWxpemVyID0gc2VyaWFsaXplcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/locationService.js":
/*!**************************************************************!*\
  !*** ./node_modules/google-gax/build/src/locationService.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LocationsClient = void 0;\n/* global window */\nconst gax = __webpack_require__(/*! ./gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nconst warnings_1 = __webpack_require__(/*! ./warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(action-browser)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(action-browser)/./node_modules/google-gax/build/src/routingHeader.js\");\nconst pageDescriptor_1 = __webpack_require__(/*! ./paginationCalls/pageDescriptor */ \"(action-browser)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js\");\nconst jsonProtos = __webpack_require__(/*! ../protos/locations.json */ \"(action-browser)/./node_modules/google-gax/build/protos/locations.json\");\n/**\n * This file defines retry strategy and timeouts for all API methods in this library.\n */\nconst gapicConfig = __webpack_require__(/*! ./locations_client_config.json */ \"(action-browser)/./node_modules/google-gax/build/src/locations_client_config.json\");\nconst version = (__webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/package.json\").version);\n/**\n *  Google Cloud Locations Client.\n *  This is manually written for providing methods [listLocations, getLocations] to the generated client.\n */\nclass LocationsClient {\n    /**\n     * Construct an instance of LocationsClient.\n     *\n     * @param {object} [options] - The configuration object.\n     * The options accepted by the constructor are described in detail\n     * in [this document](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#creating-the-client-instance).\n     * The common options are:\n     * @param {object} [options.credentials] - Credentials object.\n     * @param {string} [options.credentials.client_email]\n     * @param {string} [options.credentials.private_key]\n     * @param {string} [options.email] - Account email address. Required when\n     *     using a .pem or .p12 keyFilename.\n     * @param {string} [options.keyFilename] - Full path to the a .json, .pem, or\n     *     .p12 key downloaded from the Google Developers Console. If you provide\n     *     a path to a JSON file, the projectId option below is not necessary.\n     *     NOTE: .pem and .p12 require you to specify options.email as well.\n     * @param {number} [options.port] - The port on which to connect to\n     *     the remote host.\n     * @param {string} [options.projectId] - The project ID from the Google\n     *     Developer's Console, e.g. 'grape-spaceship-123'. We will also check\n     *     the environment variable GCLOUD_PROJECT for your project ID. If your\n     *     app is running in an environment which supports\n     *     {@link https://developers.google.com/identity/protocols/application-default-credentials Application Default Credentials},\n     *     your project ID will be detected automatically.\n     * @param {string} [options.apiEndpoint] - The domain name of the\n     *     API remote host.\n     * @param {gax.ClientConfig} [options.clientConfig] - Client configuration override.\n     *     Follows the structure of {@link gapicConfig}.\n     * @param {boolean} [options.fallback] - Use HTTP fallback mode.\n     *     In fallback mode, a special browser-compatible transport implementation is used\n     *     instead of gRPC transport. In browser context (if the `window` object is defined)\n     *     the fallback mode is enabled automatically; set `options.fallback` to `false`\n     *     if you need to override this behavior.\n     */\n    constructor(gaxGrpc, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    opts) {\n        var _a, _b;\n        this._terminated = false;\n        this.descriptors = {\n            page: {},\n            stream: {},\n            longrunning: {},\n            batching: {},\n        };\n        // Ensure that options include all the required fields.\n        this.gaxGrpc = gaxGrpc;\n        const staticMembers = this.constructor;\n        const servicePath = (opts === null || opts === void 0 ? void 0 : opts.servicePath) || (opts === null || opts === void 0 ? void 0 : opts.apiEndpoint) || staticMembers.servicePath;\n        this._providedCustomServicePath = !!((opts === null || opts === void 0 ? void 0 : opts.servicePath) || (opts === null || opts === void 0 ? void 0 : opts.apiEndpoint));\n        const port = (opts === null || opts === void 0 ? void 0 : opts.port) || staticMembers.port;\n        const clientConfig = (_a = opts === null || opts === void 0 ? void 0 : opts.clientConfig) !== null && _a !== void 0 ? _a : {};\n        const fallback = (_b = opts === null || opts === void 0 ? void 0 : opts.fallback) !== null && _b !== void 0 ? _b : (typeof window !== 'undefined' && typeof (window === null || window === void 0 ? void 0 : window.fetch) === 'function');\n        opts = Object.assign({ servicePath, port, clientConfig, fallback }, opts);\n        // If scopes are unset in options and we're connecting to a non-default endpoint, set scopes just in case.\n        if (servicePath !== staticMembers.servicePath && !('scopes' in opts)) {\n            opts['scopes'] = staticMembers.scopes;\n        }\n        // Save options to use in initialize() method.\n        this._opts = opts;\n        // Save the auth object to the client, for use by other methods.\n        this.auth = gaxGrpc.auth;\n        // Set the default scopes in auth client if needed.\n        if (servicePath === staticMembers.servicePath) {\n            this.auth.defaultScopes = staticMembers.scopes;\n        }\n        // Determine the client header string.\n        const clientHeader = [`gax/${version}`, `gapic/${version}`];\n        if (typeof process !== 'undefined' && 'versions' in process) {\n            clientHeader.push(`gl-node/${process.versions.node}`);\n        }\n        else {\n            clientHeader.push(`gl-web/${version}`);\n        }\n        if (!opts.fallback) {\n            clientHeader.push(`grpc/${gaxGrpc.grpcVersion}`);\n        }\n        else if (opts.fallback === 'rest') {\n            clientHeader.push(`rest/${gaxGrpc.grpcVersion}`);\n        }\n        if (opts.libName && opts.libVersion) {\n            clientHeader.push(`${opts.libName}/${opts.libVersion}`);\n        }\n        // Load the applicable protos.\n        this._protos = gaxGrpc.loadProtoJSON(jsonProtos);\n        // Some of the methods on this service return \"paged\" results,\n        // (e.g. 50 results at a time, with tokens to get subsequent\n        // pages). Denote the keys used for pagination and results.\n        this.descriptors.page = {\n            listLocations: new pageDescriptor_1.PageDescriptor('pageToken', 'nextPageToken', 'locations'),\n        };\n        // Put together the default options sent with requests.\n        this._defaults = gaxGrpc.constructSettings('google.cloud.location.Locations', gapicConfig, opts.clientConfig || {}, { 'x-goog-api-client': clientHeader.join(' ') });\n        // Set up a dictionary of \"inner API calls\"; the core implementation\n        // of calling the API is handled in `google-gax`, with this code\n        // merely providing the destination and request information.\n        this.innerApiCalls = {};\n        // Add a warn function to the client constructor so it can be easily tested.\n        this.warn = warnings_1.warn;\n    }\n    /**\n     * Initialize the client.\n     * Performs asynchronous operations (such as authentication) and prepares the client.\n     * This function will be called automatically when any class method is called for the\n     * first time, but if you need to initialize it before calling an actual method,\n     * feel free to call initialize() directly.\n     *\n     * You can await on this method if you want to make sure the client is initialized.\n     *\n     * @returns {Promise} A promise that resolves to an authenticated service stub.\n     */\n    initialize() {\n        // If the client stub promise is already initialized, return immediately.\n        if (this.locationsStub) {\n            return this.locationsStub;\n        }\n        // Put together the \"service stub\" for\n        // google.cloud.location.Locations.\n        this.locationsStub = this.gaxGrpc.createStub(this._opts.fallback\n            ? this._protos.lookupService('google.cloud.location.Locations')\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this._protos.google.cloud.location.Locations, this._opts, this._providedCustomServicePath);\n        // Iterate over each of the methods that the service provides\n        // and create an API call method for each.\n        const locationsStubMethods = ['listLocations', 'getLocation'];\n        for (const methodName of locationsStubMethods) {\n            const callPromise = this.locationsStub.then(stub => (...args) => {\n                if (this._terminated) {\n                    return Promise.reject('The client has already been closed.');\n                }\n                const func = stub[methodName];\n                return func.apply(stub, args);\n            }, (err) => () => {\n                throw err;\n            });\n            const descriptor = this.descriptors.page[methodName] || undefined;\n            const apiCall = (0, createApiCall_1.createApiCall)(callPromise, this._defaults[methodName], descriptor);\n            this.innerApiCalls[methodName] = apiCall;\n        }\n        return this.locationsStub;\n    }\n    /**\n     * The DNS address for this API service.\n     * @returns {string} The DNS address for this service.\n     */\n    static get servicePath() {\n        return 'cloud.googleapis.com';\n    }\n    /**\n     * The DNS address for this API service - same as servicePath(),\n     * exists for compatibility reasons.\n     * @returns {string} The DNS address for this service.\n     */\n    static get apiEndpoint() {\n        return 'cloud.googleapis.com';\n    }\n    /**\n     * The port for this API service.\n     * @returns {number} The default port for this service.\n     */\n    static get port() {\n        return 443;\n    }\n    /**\n     * The scopes needed to make gRPC calls for every method defined\n     * in this service.\n     * @returns {string[]} List of default scopes.\n     */\n    static get scopes() {\n        return ['https://www.googleapis.com/auth/cloud-platform'];\n    }\n    getProjectId(callback) {\n        if (callback) {\n            this.auth.getProjectId(callback);\n            return;\n        }\n        return this.auth.getProjectId();\n    }\n    /**\n     * Gets information about a location.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   Resource name for the location.\n     * @param {object} [options]\n     *   Call options. See {@link https://googleapis.dev/nodejs/google-gax/latest/interfaces/CallOptions.html|CallOptions} for more details.\n     * @returns {Promise} - The promise which resolves to an array.\n     *   The first element of the array is an object representing [Location]{@link google.cloud.location.Location}.\n     *   Please see the\n     *   [documentation](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#regular-methods)\n     *   for more details and examples.\n     * @example\n     * const [response] = await client.getLocation(request);\n     */\n    getLocation(request, optionsOrCallback, callback) {\n        request = request || {};\n        let options;\n        if (typeof optionsOrCallback === 'function' && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                name: request.name || '',\n            });\n        this.initialize();\n        return this.innerApiCalls.getLocation(request, options, callback);\n    }\n    /**\n     * Lists information about the supported locations for this service.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The resource that owns the locations collection, if applicable.\n     * @param {string} request.filter\n     *   The standard list filter.\n     * @param {number} request.pageSize\n     *   The standard list page size.\n     * @param {string} request.pageToken\n     *   The standard list page token.\n     * @param {object} [options]\n     *   Call options. See {@link https://googleapis.dev/nodejs/google-gax/latest/interfaces/CallOptions.html|CallOptions} for more details.\n     * @returns {Promise} - The promise which resolves to an array.\n     *   The first element of the array is Array of [Location]{@link google.cloud.location.Location}.\n     *   The client library will perform auto-pagination by default: it will call the API as many\n     *   times as needed and will merge results from all the pages into this array.\n     *   Note that it can affect your quota.\n     *   We recommend using `listLocationsAsync()`\n     *   method described below for async iteration which you can stop as needed.\n     *   Please see the\n     *   [documentation](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination)\n     *   for more details and examples.\n     */\n    listLocations(request, optionsOrCallback, callback) {\n        request = request || {};\n        let options;\n        if (typeof optionsOrCallback === 'function' && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                name: request.name || '',\n            });\n        this.initialize();\n        return this.innerApiCalls.listLocations(request, options, callback);\n    }\n    /**\n     * Equivalent to `listLocations`, but returns an iterable object.\n     *\n     * `for`-`await`-`of` syntax is used with the iterable to get response elements on-demand.\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The resource that owns the locations collection, if applicable.\n     * @param {string} request.filter\n     *   The standard list filter.\n     * @param {number} request.pageSize\n     *   The standard list page size.\n     * @param {string} request.pageToken\n     *   The standard list page token.\n     * @param {object} [options]\n     *   Call options. See {@link https://googleapis.dev/nodejs/google-gax/latest/interfaces/CallOptions.html|CallOptions} for more details.\n     * @returns {Object}\n     *   An iterable Object that allows [async iteration](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols).\n     *   When you iterate the returned iterable, each element will be an object representing\n     *   [Location]{@link google.cloud.location.Location}. The API will be called under the hood as needed, once per the page,\n     *   so you can stop the iteration when you don't need more results.\n     *   Please see the\n     *   [documentation](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination)\n     *   for more details and examples.\n     * @example\n     * const iterable = client.listLocationsAsync(request);\n     * for await (const response of iterable) {\n     *   // process response\n     * }\n     */\n    listLocationsAsync(request, options) {\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                name: request.name || '',\n            });\n        options = options || {};\n        const callSettings = new gax.CallSettings(options);\n        this.initialize();\n        return this.descriptors.page.listLocations.asyncIterate(this.innerApiCalls['listLocations'], request, callSettings);\n    }\n    /**\n     * Terminate the gRPC channel and close the client.\n     *\n     * The client will no longer be usable and all future behavior is undefined.\n     * @returns {Promise} A promise that resolves when the client is closed.\n     */\n    close() {\n        this.initialize();\n        if (!this._terminated) {\n            return this.locationsStub.then(stub => {\n                this._terminated = true;\n                stub.close();\n            });\n        }\n        return Promise.resolve();\n    }\n}\nexports.LocationsClient = LocationsClient;\n//# sourceMappingURL=locationService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9sb2NhdGlvblNlcnZpY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkI7QUFDQSxZQUFZLG1CQUFPLENBQUMsMEVBQU87QUFDM0IsbUJBQW1CLG1CQUFPLENBQUMsb0ZBQVk7QUFDdkMsd0JBQXdCLG1CQUFPLENBQUMsOEZBQWlCO0FBQ2pELHNCQUFzQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMvQyx5QkFBeUIsbUJBQU8sQ0FBQyxnSUFBa0M7QUFDbkUsbUJBQW1CLG1CQUFPLENBQUMsd0dBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLHlIQUFnQztBQUM1RCxnQkFBZ0Isa0hBQXFDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVIQUF1SDtBQUNuSTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDLHFDQUFxQyxrQkFBa0I7QUFDdkQsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixzQkFBc0I7QUFDdEIsMkJBQTJCO0FBQzNCLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMkNBQTJDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFFBQVEsWUFBWSxRQUFRO0FBQ2pFO0FBQ0EseUNBQXlDLHNCQUFzQjtBQUMvRDtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBLHNDQUFzQyxvQkFBb0I7QUFDMUQ7QUFDQTtBQUNBLHNDQUFzQyxvQkFBb0I7QUFDMUQ7QUFDQTtBQUNBLGlDQUFpQyxhQUFhLEdBQUcsZ0JBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEhBQTBILElBQUksNkNBQTZDO0FBQzNLLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixVQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkIsNEJBQTRCLCtGQUErRjtBQUMzSCxpQkFBaUIsU0FBUztBQUMxQiw2RUFBNkUscUNBQXFDO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2Qiw0QkFBNEIsK0ZBQStGO0FBQzNILGlCQUFpQixTQUFTO0FBQzFCLCtEQUErRCxxQ0FBcUM7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkIsNEJBQTRCLCtGQUErRjtBQUMzSCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLG9CQUFvQixxQ0FBcUM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbG9jYXRpb25TZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvY2F0aW9uc0NsaWVudCA9IHZvaWQgMDtcbi8qIGdsb2JhbCB3aW5kb3cgKi9cbmNvbnN0IGdheCA9IHJlcXVpcmUoXCIuL2dheFwiKTtcbmNvbnN0IHdhcm5pbmdzXzEgPSByZXF1aXJlKFwiLi93YXJuaW5nc1wiKTtcbmNvbnN0IGNyZWF0ZUFwaUNhbGxfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUFwaUNhbGxcIik7XG5jb25zdCByb3V0aW5nSGVhZGVyID0gcmVxdWlyZShcIi4vcm91dGluZ0hlYWRlclwiKTtcbmNvbnN0IHBhZ2VEZXNjcmlwdG9yXzEgPSByZXF1aXJlKFwiLi9wYWdpbmF0aW9uQ2FsbHMvcGFnZURlc2NyaXB0b3JcIik7XG5jb25zdCBqc29uUHJvdG9zID0gcmVxdWlyZShcIi4uL3Byb3Rvcy9sb2NhdGlvbnMuanNvblwiKTtcbi8qKlxuICogVGhpcyBmaWxlIGRlZmluZXMgcmV0cnkgc3RyYXRlZ3kgYW5kIHRpbWVvdXRzIGZvciBhbGwgQVBJIG1ldGhvZHMgaW4gdGhpcyBsaWJyYXJ5LlxuICovXG5jb25zdCBnYXBpY0NvbmZpZyA9IHJlcXVpcmUoXCIuL2xvY2F0aW9uc19jbGllbnRfY29uZmlnLmpzb25cIik7XG5jb25zdCB2ZXJzaW9uID0gcmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbi8qKlxuICogIEdvb2dsZSBDbG91ZCBMb2NhdGlvbnMgQ2xpZW50LlxuICogIFRoaXMgaXMgbWFudWFsbHkgd3JpdHRlbiBmb3IgcHJvdmlkaW5nIG1ldGhvZHMgW2xpc3RMb2NhdGlvbnMsIGdldExvY2F0aW9uc10gdG8gdGhlIGdlbmVyYXRlZCBjbGllbnQuXG4gKi9cbmNsYXNzIExvY2F0aW9uc0NsaWVudCB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGFuIGluc3RhbmNlIG9mIExvY2F0aW9uc0NsaWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICogVGhlIG9wdGlvbnMgYWNjZXB0ZWQgYnkgdGhlIGNvbnN0cnVjdG9yIGFyZSBkZXNjcmliZWQgaW4gZGV0YWlsXG4gICAgICogaW4gW3RoaXMgZG9jdW1lbnRdKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL2NsaWVudC1saWJyYXJpZXMubWQjY3JlYXRpbmctdGhlLWNsaWVudC1pbnN0YW5jZSkuXG4gICAgICogVGhlIGNvbW1vbiBvcHRpb25zIGFyZTpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuY3JlZGVudGlhbHNdIC0gQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jcmVkZW50aWFscy5jbGllbnRfZW1haWxdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmNyZWRlbnRpYWxzLnByaXZhdGVfa2V5XVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5lbWFpbF0gLSBBY2NvdW50IGVtYWlsIGFkZHJlc3MuIFJlcXVpcmVkIHdoZW5cbiAgICAgKiAgICAgdXNpbmcgYSAucGVtIG9yIC5wMTIga2V5RmlsZW5hbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmtleUZpbGVuYW1lXSAtIEZ1bGwgcGF0aCB0byB0aGUgYSAuanNvbiwgLnBlbSwgb3JcbiAgICAgKiAgICAgLnAxMiBrZXkgZG93bmxvYWRlZCBmcm9tIHRoZSBHb29nbGUgRGV2ZWxvcGVycyBDb25zb2xlLiBJZiB5b3UgcHJvdmlkZVxuICAgICAqICAgICBhIHBhdGggdG8gYSBKU09OIGZpbGUsIHRoZSBwcm9qZWN0SWQgb3B0aW9uIGJlbG93IGlzIG5vdCBuZWNlc3NhcnkuXG4gICAgICogICAgIE5PVEU6IC5wZW0gYW5kIC5wMTIgcmVxdWlyZSB5b3UgdG8gc3BlY2lmeSBvcHRpb25zLmVtYWlsIGFzIHdlbGwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBvcnRdIC0gVGhlIHBvcnQgb24gd2hpY2ggdG8gY29ubmVjdCB0b1xuICAgICAqICAgICB0aGUgcmVtb3RlIGhvc3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnByb2plY3RJZF0gLSBUaGUgcHJvamVjdCBJRCBmcm9tIHRoZSBHb29nbGVcbiAgICAgKiAgICAgRGV2ZWxvcGVyJ3MgQ29uc29sZSwgZS5nLiAnZ3JhcGUtc3BhY2VzaGlwLTEyMycuIFdlIHdpbGwgYWxzbyBjaGVja1xuICAgICAqICAgICB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgR0NMT1VEX1BST0pFQ1QgZm9yIHlvdXIgcHJvamVjdCBJRC4gSWYgeW91clxuICAgICAqICAgICBhcHAgaXMgcnVubmluZyBpbiBhbiBlbnZpcm9ubWVudCB3aGljaCBzdXBwb3J0c1xuICAgICAqICAgICB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vaWRlbnRpdHkvcHJvdG9jb2xzL2FwcGxpY2F0aW9uLWRlZmF1bHQtY3JlZGVudGlhbHMgQXBwbGljYXRpb24gRGVmYXVsdCBDcmVkZW50aWFsc30sXG4gICAgICogICAgIHlvdXIgcHJvamVjdCBJRCB3aWxsIGJlIGRldGVjdGVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFwaUVuZHBvaW50XSAtIFRoZSBkb21haW4gbmFtZSBvZiB0aGVcbiAgICAgKiAgICAgQVBJIHJlbW90ZSBob3N0LlxuICAgICAqIEBwYXJhbSB7Z2F4LkNsaWVudENvbmZpZ30gW29wdGlvbnMuY2xpZW50Q29uZmlnXSAtIENsaWVudCBjb25maWd1cmF0aW9uIG92ZXJyaWRlLlxuICAgICAqICAgICBGb2xsb3dzIHRoZSBzdHJ1Y3R1cmUgb2Yge0BsaW5rIGdhcGljQ29uZmlnfS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhbGxiYWNrXSAtIFVzZSBIVFRQIGZhbGxiYWNrIG1vZGUuXG4gICAgICogICAgIEluIGZhbGxiYWNrIG1vZGUsIGEgc3BlY2lhbCBicm93c2VyLWNvbXBhdGlibGUgdHJhbnNwb3J0IGltcGxlbWVudGF0aW9uIGlzIHVzZWRcbiAgICAgKiAgICAgaW5zdGVhZCBvZiBnUlBDIHRyYW5zcG9ydC4gSW4gYnJvd3NlciBjb250ZXh0IChpZiB0aGUgYHdpbmRvd2Agb2JqZWN0IGlzIGRlZmluZWQpXG4gICAgICogICAgIHRoZSBmYWxsYmFjayBtb2RlIGlzIGVuYWJsZWQgYXV0b21hdGljYWxseTsgc2V0IGBvcHRpb25zLmZhbGxiYWNrYCB0byBgZmFsc2VgXG4gICAgICogICAgIGlmIHlvdSBuZWVkIHRvIG92ZXJyaWRlIHRoaXMgYmVoYXZpb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2F4R3JwYywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBvcHRzKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdG9ycyA9IHtcbiAgICAgICAgICAgIHBhZ2U6IHt9LFxuICAgICAgICAgICAgc3RyZWFtOiB7fSxcbiAgICAgICAgICAgIGxvbmdydW5uaW5nOiB7fSxcbiAgICAgICAgICAgIGJhdGNoaW5nOiB7fSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgb3B0aW9ucyBpbmNsdWRlIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLlxuICAgICAgICB0aGlzLmdheEdycGMgPSBnYXhHcnBjO1xuICAgICAgICBjb25zdCBzdGF0aWNNZW1iZXJzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3Qgc2VydmljZVBhdGggPSAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLnNlcnZpY2VQYXRoKSB8fCAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmFwaUVuZHBvaW50KSB8fCBzdGF0aWNNZW1iZXJzLnNlcnZpY2VQYXRoO1xuICAgICAgICB0aGlzLl9wcm92aWRlZEN1c3RvbVNlcnZpY2VQYXRoID0gISEoKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5zZXJ2aWNlUGF0aCkgfHwgKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5hcGlFbmRwb2ludCkpO1xuICAgICAgICBjb25zdCBwb3J0ID0gKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5wb3J0KSB8fCBzdGF0aWNNZW1iZXJzLnBvcnQ7XG4gICAgICAgIGNvbnN0IGNsaWVudENvbmZpZyA9IChfYSA9IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5jbGllbnRDb25maWcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgICAgICBjb25zdCBmYWxsYmFjayA9IChfYiA9IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5mYWxsYmFjaykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiAod2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmZldGNoKSA9PT0gJ2Z1bmN0aW9uJyk7XG4gICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHsgc2VydmljZVBhdGgsIHBvcnQsIGNsaWVudENvbmZpZywgZmFsbGJhY2sgfSwgb3B0cyk7XG4gICAgICAgIC8vIElmIHNjb3BlcyBhcmUgdW5zZXQgaW4gb3B0aW9ucyBhbmQgd2UncmUgY29ubmVjdGluZyB0byBhIG5vbi1kZWZhdWx0IGVuZHBvaW50LCBzZXQgc2NvcGVzIGp1c3QgaW4gY2FzZS5cbiAgICAgICAgaWYgKHNlcnZpY2VQYXRoICE9PSBzdGF0aWNNZW1iZXJzLnNlcnZpY2VQYXRoICYmICEoJ3Njb3BlcycgaW4gb3B0cykpIHtcbiAgICAgICAgICAgIG9wdHNbJ3Njb3BlcyddID0gc3RhdGljTWVtYmVycy5zY29wZXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2F2ZSBvcHRpb25zIHRvIHVzZSBpbiBpbml0aWFsaXplKCkgbWV0aG9kLlxuICAgICAgICB0aGlzLl9vcHRzID0gb3B0cztcbiAgICAgICAgLy8gU2F2ZSB0aGUgYXV0aCBvYmplY3QgdG8gdGhlIGNsaWVudCwgZm9yIHVzZSBieSBvdGhlciBtZXRob2RzLlxuICAgICAgICB0aGlzLmF1dGggPSBnYXhHcnBjLmF1dGg7XG4gICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCBzY29wZXMgaW4gYXV0aCBjbGllbnQgaWYgbmVlZGVkLlxuICAgICAgICBpZiAoc2VydmljZVBhdGggPT09IHN0YXRpY01lbWJlcnMuc2VydmljZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aC5kZWZhdWx0U2NvcGVzID0gc3RhdGljTWVtYmVycy5zY29wZXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjbGllbnQgaGVhZGVyIHN0cmluZy5cbiAgICAgICAgY29uc3QgY2xpZW50SGVhZGVyID0gW2BnYXgvJHt2ZXJzaW9ufWAsIGBnYXBpYy8ke3ZlcnNpb259YF07XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3ZlcnNpb25zJyBpbiBwcm9jZXNzKSB7XG4gICAgICAgICAgICBjbGllbnRIZWFkZXIucHVzaChgZ2wtbm9kZS8ke3Byb2Nlc3MudmVyc2lvbnMubm9kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsaWVudEhlYWRlci5wdXNoKGBnbC13ZWIvJHt2ZXJzaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0cy5mYWxsYmFjaykge1xuICAgICAgICAgICAgY2xpZW50SGVhZGVyLnB1c2goYGdycGMvJHtnYXhHcnBjLmdycGNWZXJzaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdHMuZmFsbGJhY2sgPT09ICdyZXN0Jykge1xuICAgICAgICAgICAgY2xpZW50SGVhZGVyLnB1c2goYHJlc3QvJHtnYXhHcnBjLmdycGNWZXJzaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmxpYk5hbWUgJiYgb3B0cy5saWJWZXJzaW9uKSB7XG4gICAgICAgICAgICBjbGllbnRIZWFkZXIucHVzaChgJHtvcHRzLmxpYk5hbWV9LyR7b3B0cy5saWJWZXJzaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvYWQgdGhlIGFwcGxpY2FibGUgcHJvdG9zLlxuICAgICAgICB0aGlzLl9wcm90b3MgPSBnYXhHcnBjLmxvYWRQcm90b0pTT04oanNvblByb3Rvcyk7XG4gICAgICAgIC8vIFNvbWUgb2YgdGhlIG1ldGhvZHMgb24gdGhpcyBzZXJ2aWNlIHJldHVybiBcInBhZ2VkXCIgcmVzdWx0cyxcbiAgICAgICAgLy8gKGUuZy4gNTAgcmVzdWx0cyBhdCBhIHRpbWUsIHdpdGggdG9rZW5zIHRvIGdldCBzdWJzZXF1ZW50XG4gICAgICAgIC8vIHBhZ2VzKS4gRGVub3RlIHRoZSBrZXlzIHVzZWQgZm9yIHBhZ2luYXRpb24gYW5kIHJlc3VsdHMuXG4gICAgICAgIHRoaXMuZGVzY3JpcHRvcnMucGFnZSA9IHtcbiAgICAgICAgICAgIGxpc3RMb2NhdGlvbnM6IG5ldyBwYWdlRGVzY3JpcHRvcl8xLlBhZ2VEZXNjcmlwdG9yKCdwYWdlVG9rZW4nLCAnbmV4dFBhZ2VUb2tlbicsICdsb2NhdGlvbnMnKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUHV0IHRvZ2V0aGVyIHRoZSBkZWZhdWx0IG9wdGlvbnMgc2VudCB3aXRoIHJlcXVlc3RzLlxuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IGdheEdycGMuY29uc3RydWN0U2V0dGluZ3MoJ2dvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbnMnLCBnYXBpY0NvbmZpZywgb3B0cy5jbGllbnRDb25maWcgfHwge30sIHsgJ3gtZ29vZy1hcGktY2xpZW50JzogY2xpZW50SGVhZGVyLmpvaW4oJyAnKSB9KTtcbiAgICAgICAgLy8gU2V0IHVwIGEgZGljdGlvbmFyeSBvZiBcImlubmVyIEFQSSBjYWxsc1wiOyB0aGUgY29yZSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAvLyBvZiBjYWxsaW5nIHRoZSBBUEkgaXMgaGFuZGxlZCBpbiBgZ29vZ2xlLWdheGAsIHdpdGggdGhpcyBjb2RlXG4gICAgICAgIC8vIG1lcmVseSBwcm92aWRpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCByZXF1ZXN0IGluZm9ybWF0aW9uLlxuICAgICAgICB0aGlzLmlubmVyQXBpQ2FsbHMgPSB7fTtcbiAgICAgICAgLy8gQWRkIGEgd2FybiBmdW5jdGlvbiB0byB0aGUgY2xpZW50IGNvbnN0cnVjdG9yIHNvIGl0IGNhbiBiZSBlYXNpbHkgdGVzdGVkLlxuICAgICAgICB0aGlzLndhcm4gPSB3YXJuaW5nc18xLndhcm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGNsaWVudC5cbiAgICAgKiBQZXJmb3JtcyBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyAoc3VjaCBhcyBhdXRoZW50aWNhdGlvbikgYW5kIHByZXBhcmVzIHRoZSBjbGllbnQuXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IHdoZW4gYW55IGNsYXNzIG1ldGhvZCBpcyBjYWxsZWQgZm9yIHRoZVxuICAgICAqIGZpcnN0IHRpbWUsIGJ1dCBpZiB5b3UgbmVlZCB0byBpbml0aWFsaXplIGl0IGJlZm9yZSBjYWxsaW5nIGFuIGFjdHVhbCBtZXRob2QsXG4gICAgICogZmVlbCBmcmVlIHRvIGNhbGwgaW5pdGlhbGl6ZSgpIGRpcmVjdGx5LlxuICAgICAqXG4gICAgICogWW91IGNhbiBhd2FpdCBvbiB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudCB0byBtYWtlIHN1cmUgdGhlIGNsaWVudCBpcyBpbml0aWFsaXplZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhdXRoZW50aWNhdGVkIHNlcnZpY2Ugc3R1Yi5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICAvLyBJZiB0aGUgY2xpZW50IHN0dWIgcHJvbWlzZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLCByZXR1cm4gaW1tZWRpYXRlbHkuXG4gICAgICAgIGlmICh0aGlzLmxvY2F0aW9uc1N0dWIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uc1N0dWI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHV0IHRvZ2V0aGVyIHRoZSBcInNlcnZpY2Ugc3R1YlwiIGZvclxuICAgICAgICAvLyBnb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb25zLlxuICAgICAgICB0aGlzLmxvY2F0aW9uc1N0dWIgPSB0aGlzLmdheEdycGMuY3JlYXRlU3R1Yih0aGlzLl9vcHRzLmZhbGxiYWNrXG4gICAgICAgICAgICA/IHRoaXMuX3Byb3Rvcy5sb29rdXBTZXJ2aWNlKCdnb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb25zJylcbiAgICAgICAgICAgIDogLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm90b3MuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9ucywgdGhpcy5fb3B0cywgdGhpcy5fcHJvdmlkZWRDdXN0b21TZXJ2aWNlUGF0aCk7XG4gICAgICAgIC8vIEl0ZXJhdGUgb3ZlciBlYWNoIG9mIHRoZSBtZXRob2RzIHRoYXQgdGhlIHNlcnZpY2UgcHJvdmlkZXNcbiAgICAgICAgLy8gYW5kIGNyZWF0ZSBhbiBBUEkgY2FsbCBtZXRob2QgZm9yIGVhY2guXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uc1N0dWJNZXRob2RzID0gWydsaXN0TG9jYXRpb25zJywgJ2dldExvY2F0aW9uJ107XG4gICAgICAgIGZvciAoY29uc3QgbWV0aG9kTmFtZSBvZiBsb2NhdGlvbnNTdHViTWV0aG9kcykge1xuICAgICAgICAgICAgY29uc3QgY2FsbFByb21pc2UgPSB0aGlzLmxvY2F0aW9uc1N0dWIudGhlbihzdHViID0+ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Rlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdUaGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmdW5jID0gc3R1YlttZXRob2ROYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShzdHViLCBhcmdzKTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLmRlc2NyaXB0b3JzLnBhZ2VbbWV0aG9kTmFtZV0gfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgYXBpQ2FsbCA9ICgwLCBjcmVhdGVBcGlDYWxsXzEuY3JlYXRlQXBpQ2FsbCkoY2FsbFByb21pc2UsIHRoaXMuX2RlZmF1bHRzW21ldGhvZE5hbWVdLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIHRoaXMuaW5uZXJBcGlDYWxsc1ttZXRob2ROYW1lXSA9IGFwaUNhbGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25zU3R1YjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIEROUyBhZGRyZXNzIGZvciB0aGlzIEFQSSBzZXJ2aWNlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBETlMgYWRkcmVzcyBmb3IgdGhpcyBzZXJ2aWNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2VydmljZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiAnY2xvdWQuZ29vZ2xlYXBpcy5jb20nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgRE5TIGFkZHJlc3MgZm9yIHRoaXMgQVBJIHNlcnZpY2UgLSBzYW1lIGFzIHNlcnZpY2VQYXRoKCksXG4gICAgICogZXhpc3RzIGZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIEROUyBhZGRyZXNzIGZvciB0aGlzIHNlcnZpY2UuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBhcGlFbmRwb2ludCgpIHtcbiAgICAgICAgcmV0dXJuICdjbG91ZC5nb29nbGVhcGlzLmNvbSc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwb3J0IGZvciB0aGlzIEFQSSBzZXJ2aWNlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBkZWZhdWx0IHBvcnQgZm9yIHRoaXMgc2VydmljZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHBvcnQoKSB7XG4gICAgICAgIHJldHVybiA0NDM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzY29wZXMgbmVlZGVkIHRvIG1ha2UgZ1JQQyBjYWxscyBmb3IgZXZlcnkgbWV0aG9kIGRlZmluZWRcbiAgICAgKiBpbiB0aGlzIHNlcnZpY2UuXG4gICAgICogQHJldHVybnMge3N0cmluZ1tdfSBMaXN0IG9mIGRlZmF1bHQgc2NvcGVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2NvcGVzKCkge1xuICAgICAgICByZXR1cm4gWydodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2Nsb3VkLXBsYXRmb3JtJ107XG4gICAgfVxuICAgIGdldFByb2plY3RJZChjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aC5nZXRQcm9qZWN0SWQoY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGguZ2V0UHJvamVjdElkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYSBsb2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0XG4gICAgICogICBUaGUgcmVxdWVzdCBvYmplY3QgdGhhdCB3aWxsIGJlIHNlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QubmFtZVxuICAgICAqICAgUmVzb3VyY2UgbmFtZSBmb3IgdGhlIGxvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgIENhbGwgb3B0aW9ucy4gU2VlIHtAbGluayBodHRwczovL2dvb2dsZWFwaXMuZGV2L25vZGVqcy9nb29nbGUtZ2F4L2xhdGVzdC9pbnRlcmZhY2VzL0NhbGxPcHRpb25zLmh0bWx8Q2FsbE9wdGlvbnN9IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IC0gVGhlIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYW4gYXJyYXkuXG4gICAgICogICBUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkgaXMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBbTG9jYXRpb25de0BsaW5rIGdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbn0uXG4gICAgICogICBQbGVhc2Ugc2VlIHRoZVxuICAgICAqICAgW2RvY3VtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL2NsaWVudC1saWJyYXJpZXMubWQjcmVndWxhci1tZXRob2RzKVxuICAgICAqICAgZm9yIG1vcmUgZGV0YWlscyBhbmQgZXhhbXBsZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBbcmVzcG9uc2VdID0gYXdhaXQgY2xpZW50LmdldExvY2F0aW9uKHJlcXVlc3QpO1xuICAgICAqL1xuICAgIGdldExvY2F0aW9uKHJlcXVlc3QsIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc09yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgJiYgY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MgPSBvcHRpb25zLm90aGVyQXJncyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVycyA9IG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnNbJ3gtZ29vZy1yZXF1ZXN0LXBhcmFtcyddID1cbiAgICAgICAgICAgIHJvdXRpbmdIZWFkZXIuZnJvbVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdC5uYW1lIHx8ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLmdldExvY2F0aW9uKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHN1cHBvcnRlZCBsb2NhdGlvbnMgZm9yIHRoaXMgc2VydmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0XG4gICAgICogICBUaGUgcmVxdWVzdCBvYmplY3QgdGhhdCB3aWxsIGJlIHNlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QubmFtZVxuICAgICAqICAgVGhlIHJlc291cmNlIHRoYXQgb3ducyB0aGUgbG9jYXRpb25zIGNvbGxlY3Rpb24sIGlmIGFwcGxpY2FibGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QuZmlsdGVyXG4gICAgICogICBUaGUgc3RhbmRhcmQgbGlzdCBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlcXVlc3QucGFnZVNpemVcbiAgICAgKiAgIFRoZSBzdGFuZGFyZCBsaXN0IHBhZ2Ugc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5wYWdlVG9rZW5cbiAgICAgKiAgIFRoZSBzdGFuZGFyZCBsaXN0IHBhZ2UgdG9rZW4uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgQ2FsbCBvcHRpb25zLiBTZWUge0BsaW5rIGh0dHBzOi8vZ29vZ2xlYXBpcy5kZXYvbm9kZWpzL2dvb2dsZS1nYXgvbGF0ZXN0L2ludGVyZmFjZXMvQ2FsbE9wdGlvbnMuaHRtbHxDYWxsT3B0aW9uc30gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBUaGUgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBhbiBhcnJheS5cbiAgICAgKiAgIFRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBhcnJheSBpcyBBcnJheSBvZiBbTG9jYXRpb25de0BsaW5rIGdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbn0uXG4gICAgICogICBUaGUgY2xpZW50IGxpYnJhcnkgd2lsbCBwZXJmb3JtIGF1dG8tcGFnaW5hdGlvbiBieSBkZWZhdWx0OiBpdCB3aWxsIGNhbGwgdGhlIEFQSSBhcyBtYW55XG4gICAgICogICB0aW1lcyBhcyBuZWVkZWQgYW5kIHdpbGwgbWVyZ2UgcmVzdWx0cyBmcm9tIGFsbCB0aGUgcGFnZXMgaW50byB0aGlzIGFycmF5LlxuICAgICAqICAgTm90ZSB0aGF0IGl0IGNhbiBhZmZlY3QgeW91ciBxdW90YS5cbiAgICAgKiAgIFdlIHJlY29tbWVuZCB1c2luZyBgbGlzdExvY2F0aW9uc0FzeW5jKClgXG4gICAgICogICBtZXRob2QgZGVzY3JpYmVkIGJlbG93IGZvciBhc3luYyBpdGVyYXRpb24gd2hpY2ggeW91IGNhbiBzdG9wIGFzIG5lZWRlZC5cbiAgICAgKiAgIFBsZWFzZSBzZWUgdGhlXG4gICAgICogICBbZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9ibG9iL21haW4vY2xpZW50LWxpYnJhcmllcy5tZCNhdXRvLXBhZ2luYXRpb24pXG4gICAgICogICBmb3IgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcy5cbiAgICAgKi9cbiAgICBsaXN0TG9jYXRpb25zKHJlcXVlc3QsIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc09yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgJiYgY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MgPSBvcHRpb25zLm90aGVyQXJncyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVycyA9IG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnNbJ3gtZ29vZy1yZXF1ZXN0LXBhcmFtcyddID1cbiAgICAgICAgICAgIHJvdXRpbmdIZWFkZXIuZnJvbVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdC5uYW1lIHx8ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLmxpc3RMb2NhdGlvbnMocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIGBsaXN0TG9jYXRpb25zYCwgYnV0IHJldHVybnMgYW4gaXRlcmFibGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogYGZvcmAtYGF3YWl0YC1gb2ZgIHN5bnRheCBpcyB1c2VkIHdpdGggdGhlIGl0ZXJhYmxlIHRvIGdldCByZXNwb25zZSBlbGVtZW50cyBvbi1kZW1hbmQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3RcbiAgICAgKiAgIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdpbGwgYmUgc2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5uYW1lXG4gICAgICogICBUaGUgcmVzb3VyY2UgdGhhdCBvd25zIHRoZSBsb2NhdGlvbnMgY29sbGVjdGlvbiwgaWYgYXBwbGljYWJsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5maWx0ZXJcbiAgICAgKiAgIFRoZSBzdGFuZGFyZCBsaXN0IGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVxdWVzdC5wYWdlU2l6ZVxuICAgICAqICAgVGhlIHN0YW5kYXJkIGxpc3QgcGFnZSBzaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0LnBhZ2VUb2tlblxuICAgICAqICAgVGhlIHN0YW5kYXJkIGxpc3QgcGFnZSB0b2tlbi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogICBDYWxsIG9wdGlvbnMuIFNlZSB7QGxpbmsgaHR0cHM6Ly9nb29nbGVhcGlzLmRldi9ub2RlanMvZ29vZ2xlLWdheC9sYXRlc3QvaW50ZXJmYWNlcy9DYWxsT3B0aW9ucy5odG1sfENhbGxPcHRpb25zfSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogICBBbiBpdGVyYWJsZSBPYmplY3QgdGhhdCBhbGxvd3MgW2FzeW5jIGl0ZXJhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scykuXG4gICAgICogICBXaGVuIHlvdSBpdGVyYXRlIHRoZSByZXR1cm5lZCBpdGVyYWJsZSwgZWFjaCBlbGVtZW50IHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZ1xuICAgICAqICAgW0xvY2F0aW9uXXtAbGluayBnb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb259LiBUaGUgQVBJIHdpbGwgYmUgY2FsbGVkIHVuZGVyIHRoZSBob29kIGFzIG5lZWRlZCwgb25jZSBwZXIgdGhlIHBhZ2UsXG4gICAgICogICBzbyB5b3UgY2FuIHN0b3AgdGhlIGl0ZXJhdGlvbiB3aGVuIHlvdSBkb24ndCBuZWVkIG1vcmUgcmVzdWx0cy5cbiAgICAgKiAgIFBsZWFzZSBzZWUgdGhlXG4gICAgICogICBbZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9ibG9iL21haW4vY2xpZW50LWxpYnJhcmllcy5tZCNhdXRvLXBhZ2luYXRpb24pXG4gICAgICogICBmb3IgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGl0ZXJhYmxlID0gY2xpZW50Lmxpc3RMb2NhdGlvbnNBc3luYyhyZXF1ZXN0KTtcbiAgICAgKiBmb3IgYXdhaXQgKGNvbnN0IHJlc3BvbnNlIG9mIGl0ZXJhYmxlKSB7XG4gICAgICogICAvLyBwcm9jZXNzIHJlc3BvbnNlXG4gICAgICogfVxuICAgICAqL1xuICAgIGxpc3RMb2NhdGlvbnNBc3luYyhyZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MgPSBvcHRpb25zLm90aGVyQXJncyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVycyA9IG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnNbJ3gtZ29vZy1yZXF1ZXN0LXBhcmFtcyddID1cbiAgICAgICAgICAgIHJvdXRpbmdIZWFkZXIuZnJvbVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdC5uYW1lIHx8ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBuZXcgZ2F4LkNhbGxTZXR0aW5ncyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JzLnBhZ2UubGlzdExvY2F0aW9ucy5hc3luY0l0ZXJhdGUodGhpcy5pbm5lckFwaUNhbGxzWydsaXN0TG9jYXRpb25zJ10sIHJlcXVlc3QsIGNhbGxTZXR0aW5ncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZSB0aGUgZ1JQQyBjaGFubmVsIGFuZCBjbG9zZSB0aGUgY2xpZW50LlxuICAgICAqXG4gICAgICogVGhlIGNsaWVudCB3aWxsIG5vIGxvbmdlciBiZSB1c2FibGUgYW5kIGFsbCBmdXR1cmUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjbGllbnQgaXMgY2xvc2VkLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgaWYgKCF0aGlzLl90ZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbnNTdHViLnRoZW4oc3R1YiA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGVybWluYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3R1Yi5jbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTG9jYXRpb25zQ2xpZW50ID0gTG9jYXRpb25zQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYXRpb25TZXJ2aWNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/locationService.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/locations_client_config.json":
/*!************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/locations_client_config.json ***!
  \************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"interfaces":{"google.cloud.location.Locations":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"ListLocations":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"GetLocation":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LongrunningApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(action-browser)/./node_modules/google-gax/build/src/call.js\");\nconst gax_1 = __webpack_require__(/*! ../gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nconst longrunning_1 = __webpack_require__(/*! ./longrunning */ \"(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\");\nclass LongrunningApiCaller {\n    /**\n     * Creates an API caller that performs polling on a long running operation.\n     *\n     * @private\n     * @constructor\n     * @param {LongRunningDescriptor} longrunningDescriptor - Holds the\n     * decoders used for unpacking responses and the operationsClient\n     * used for polling the operation.\n     */\n    constructor(longrunningDescriptor) {\n        this.longrunningDescriptor = longrunningDescriptor;\n    }\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    wrap(func) {\n        return func;\n    }\n    call(apiCall, argument, settings, canceller) {\n        canceller.call((argument, callback) => {\n            return this._wrapOperation(apiCall, settings, argument, callback);\n        }, argument);\n    }\n    _wrapOperation(apiCall, settings, argument, callback) {\n        let backoffSettings = settings.longrunning;\n        if (!backoffSettings) {\n            backoffSettings = (0, gax_1.createDefaultBackoffSettings)();\n        }\n        const longrunningDescriptor = this.longrunningDescriptor;\n        return apiCall(argument, (err, rawResponse) => {\n            if (err) {\n                callback(err, null, null, rawResponse);\n                return;\n            }\n            const operation = new longrunning_1.Operation(rawResponse, longrunningDescriptor, backoffSettings, settings);\n            callback(null, operation, rawResponse);\n        });\n    }\n    fail(canceller, err) {\n        canceller.callback(err);\n    }\n    result(canceller) {\n        return canceller.promise;\n    }\n}\nexports.LongrunningApiCaller = LongrunningApiCaller;\n//# sourceMappingURL=longRunningApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9sb25nUnVubmluZ0NhbGxzL2xvbmdSdW5uaW5nQXBpQ2FsbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QjtBQUM1QixlQUFlLG1CQUFPLENBQUMsNkVBQVM7QUFDaEMsY0FBYyxtQkFBTyxDQUFDLDJFQUFRO0FBQzlCLHNCQUFzQixtQkFBTyxDQUFDLDJHQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUJBQXVCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9sb25nUnVubmluZ0NhbGxzL2xvbmdSdW5uaW5nQXBpQ2FsbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb25ncnVubmluZ0FwaUNhbGxlciA9IHZvaWQgMDtcbmNvbnN0IGNhbGxfMSA9IHJlcXVpcmUoXCIuLi9jYWxsXCIpO1xuY29uc3QgZ2F4XzEgPSByZXF1aXJlKFwiLi4vZ2F4XCIpO1xuY29uc3QgbG9uZ3J1bm5pbmdfMSA9IHJlcXVpcmUoXCIuL2xvbmdydW5uaW5nXCIpO1xuY2xhc3MgTG9uZ3J1bm5pbmdBcGlDYWxsZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gQVBJIGNhbGxlciB0aGF0IHBlcmZvcm1zIHBvbGxpbmcgb24gYSBsb25nIHJ1bm5pbmcgb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0xvbmdSdW5uaW5nRGVzY3JpcHRvcn0gbG9uZ3J1bm5pbmdEZXNjcmlwdG9yIC0gSG9sZHMgdGhlXG4gICAgICogZGVjb2RlcnMgdXNlZCBmb3IgdW5wYWNraW5nIHJlc3BvbnNlcyBhbmQgdGhlIG9wZXJhdGlvbnNDbGllbnRcbiAgICAgKiB1c2VkIGZvciBwb2xsaW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobG9uZ3J1bm5pbmdEZXNjcmlwdG9yKSB7XG4gICAgICAgIHRoaXMubG9uZ3J1bm5pbmdEZXNjcmlwdG9yID0gbG9uZ3J1bm5pbmdEZXNjcmlwdG9yO1xuICAgIH1cbiAgICBpbml0KGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjYWxsXzEuT25nb2luZ0NhbGwoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY2FsbF8xLk9uZ29pbmdDYWxsUHJvbWlzZSgpO1xuICAgIH1cbiAgICB3cmFwKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfVxuICAgIGNhbGwoYXBpQ2FsbCwgYXJndW1lbnQsIHNldHRpbmdzLCBjYW5jZWxsZXIpIHtcbiAgICAgICAgY2FuY2VsbGVyLmNhbGwoKGFyZ3VtZW50LCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyYXBPcGVyYXRpb24oYXBpQ2FsbCwgc2V0dGluZ3MsIGFyZ3VtZW50LCBjYWxsYmFjayk7XG4gICAgICAgIH0sIGFyZ3VtZW50KTtcbiAgICB9XG4gICAgX3dyYXBPcGVyYXRpb24oYXBpQ2FsbCwgc2V0dGluZ3MsIGFyZ3VtZW50LCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgYmFja29mZlNldHRpbmdzID0gc2V0dGluZ3MubG9uZ3J1bm5pbmc7XG4gICAgICAgIGlmICghYmFja29mZlNldHRpbmdzKSB7XG4gICAgICAgICAgICBiYWNrb2ZmU2V0dGluZ3MgPSAoMCwgZ2F4XzEuY3JlYXRlRGVmYXVsdEJhY2tvZmZTZXR0aW5ncykoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb25ncnVubmluZ0Rlc2NyaXB0b3IgPSB0aGlzLmxvbmdydW5uaW5nRGVzY3JpcHRvcjtcbiAgICAgICAgcmV0dXJuIGFwaUNhbGwoYXJndW1lbnQsIChlcnIsIHJhd1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBudWxsLCBudWxsLCByYXdSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IGxvbmdydW5uaW5nXzEuT3BlcmF0aW9uKHJhd1Jlc3BvbnNlLCBsb25ncnVubmluZ0Rlc2NyaXB0b3IsIGJhY2tvZmZTZXR0aW5ncywgc2V0dGluZ3MpO1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgb3BlcmF0aW9uLCByYXdSZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmYWlsKGNhbmNlbGxlciwgZXJyKSB7XG4gICAgICAgIGNhbmNlbGxlci5jYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICByZXN1bHQoY2FuY2VsbGVyKSB7XG4gICAgICAgIHJldHVybiBjYW5jZWxsZXIucHJvbWlzZTtcbiAgICB9XG59XG5leHBvcnRzLkxvbmdydW5uaW5nQXBpQ2FsbGVyID0gTG9uZ3J1bm5pbmdBcGlDYWxsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb25nUnVubmluZ0FwaUNhbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LongRunningDescriptor = void 0;\nconst longRunningApiCaller_1 = __webpack_require__(/*! ./longRunningApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js\");\n/**\n * A descriptor for long-running operations.\n */\nclass LongRunningDescriptor {\n    constructor(operationsClient, responseDecoder, metadataDecoder) {\n        this.operationsClient = operationsClient;\n        this.responseDecoder = responseDecoder;\n        this.metadataDecoder = metadataDecoder;\n    }\n    getApiCaller() {\n        return new longRunningApiCaller_1.LongrunningApiCaller(this);\n    }\n}\nexports.LongRunningDescriptor = LongRunningDescriptor;\n//# sourceMappingURL=longRunningDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9sb25nUnVubmluZ0NhbGxzL2xvbmdSdW5uaW5nRGVzY3JpcHRvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkI7QUFDN0IsK0JBQStCLG1CQUFPLENBQUMsNkhBQXdCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbG9uZ1J1bm5pbmdDYWxscy9sb25nUnVubmluZ0Rlc2NyaXB0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvbmdSdW5uaW5nRGVzY3JpcHRvciA9IHZvaWQgMDtcbmNvbnN0IGxvbmdSdW5uaW5nQXBpQ2FsbGVyXzEgPSByZXF1aXJlKFwiLi9sb25nUnVubmluZ0FwaUNhbGxlclwiKTtcbi8qKlxuICogQSBkZXNjcmlwdG9yIGZvciBsb25nLXJ1bm5pbmcgb3BlcmF0aW9ucy5cbiAqL1xuY2xhc3MgTG9uZ1J1bm5pbmdEZXNjcmlwdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihvcGVyYXRpb25zQ2xpZW50LCByZXNwb25zZURlY29kZXIsIG1ldGFkYXRhRGVjb2Rlcikge1xuICAgICAgICB0aGlzLm9wZXJhdGlvbnNDbGllbnQgPSBvcGVyYXRpb25zQ2xpZW50O1xuICAgICAgICB0aGlzLnJlc3BvbnNlRGVjb2RlciA9IHJlc3BvbnNlRGVjb2RlcjtcbiAgICAgICAgdGhpcy5tZXRhZGF0YURlY29kZXIgPSBtZXRhZGF0YURlY29kZXI7XG4gICAgfVxuICAgIGdldEFwaUNhbGxlcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBsb25nUnVubmluZ0FwaUNhbGxlcl8xLkxvbmdydW5uaW5nQXBpQ2FsbGVyKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuTG9uZ1J1bm5pbmdEZXNjcmlwdG9yID0gTG9uZ1J1bm5pbmdEZXNjcmlwdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9uZ1J1bm5pbmdEZXNjcmlwdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js":
/*!***************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/longRunningCalls/longrunning.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Operation = void 0;\nexports.operation = operation;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst status_1 = __webpack_require__(/*! ../status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nconst operationProtos = __webpack_require__(/*! ../../protos/operations */ \"(action-browser)/./node_modules/google-gax/build/protos/operations.js\");\nclass Operation extends events_1.EventEmitter {\n    /**\n     * Wrapper for a google.longrunnung.Operation.\n     *\n     * @constructor\n     *\n     * @param {google.longrunning.Operation} grpcOp - The operation to be wrapped.\n     * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n     * operations service client and unpacking mechanisms for the operation.\n     * @param {BackoffSettings} backoffSettings - The backoff settings used in\n     * in polling the operation.\n     * @param {CallOptions} callOptions - CallOptions used in making get operation\n     * requests.\n     */\n    constructor(grpcOp, longrunningDescriptor, backoffSettings, callOptions) {\n        super();\n        this.completeListeners = 0;\n        this.hasActiveListeners = false;\n        this.latestResponse = grpcOp;\n        this.name = this.latestResponse.name;\n        this.done = this.latestResponse.done;\n        this.error = this.latestResponse.error;\n        this.longrunningDescriptor = longrunningDescriptor;\n        this.result = null;\n        this.metadata = null;\n        this.backoffSettings = backoffSettings;\n        this._unpackResponse(grpcOp);\n        this._listenForEvents();\n        this._callOptions = callOptions;\n    }\n    /**\n     * Begin listening for events on the operation. This method keeps track of how\n     * many \"complete\" listeners are registered and removed, making sure polling\n     * is handled automatically.\n     *\n     * As long as there is one active \"complete\" listener, the connection is open.\n     * When there are no more listeners, the polling stops.\n     *\n     * @private\n     */\n    _listenForEvents() {\n        this.on('newListener', event => {\n            if (event === 'complete') {\n                this.completeListeners++;\n                if (!this.hasActiveListeners) {\n                    this.hasActiveListeners = true;\n                    this.startPolling_();\n                }\n            }\n        });\n        this.on('removeListener', event => {\n            if (event === 'complete' && --this.completeListeners === 0) {\n                this.hasActiveListeners = false;\n            }\n        });\n    }\n    /**\n     * Cancels current polling api call and cancels the operation.\n     *\n     * @return {Promise} the promise of the OperationsClient#cancelOperation api\n     * request.\n     */\n    cancel() {\n        if (this.currentCallPromise_) {\n            this.currentCallPromise_.cancel();\n        }\n        const operationsClient = this.longrunningDescriptor.operationsClient;\n        const cancelRequest = new operationProtos.google.longrunning.CancelOperationRequest();\n        cancelRequest.name = this.latestResponse.name;\n        return operationsClient.cancelOperation(cancelRequest);\n    }\n    getOperation(callback) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        const operationsClient = this.longrunningDescriptor.operationsClient;\n        function promisifyResponse() {\n            if (!callback) {\n                return new Promise((resolve, reject) => {\n                    if (self.latestResponse.error) {\n                        const error = new googleError_1.GoogleError(self.latestResponse.error.message);\n                        error.code = self.latestResponse.error.code;\n                        reject(error);\n                    }\n                    else {\n                        resolve([self.result, self.metadata, self.latestResponse]);\n                    }\n                });\n            }\n            return;\n        }\n        if (this.latestResponse.done) {\n            this._unpackResponse(this.latestResponse, callback);\n            return promisifyResponse();\n        }\n        const request = new operationProtos.google.longrunning.GetOperationRequest();\n        request.name = this.latestResponse.name;\n        this.currentCallPromise_ = operationsClient.getOperationInternal(request, this._callOptions);\n        const noCallbackPromise = this.currentCallPromise_.then(responses => {\n            self.latestResponse = responses[0];\n            self._unpackResponse(responses[0], callback);\n            return promisifyResponse();\n        }, (err) => {\n            if (callback) {\n                callback(err);\n                return;\n            }\n            return Promise.reject(err);\n        });\n        if (!callback) {\n            return noCallbackPromise;\n        }\n    }\n    _unpackResponse(op, callback) {\n        const responseDecoder = this.longrunningDescriptor.responseDecoder;\n        const metadataDecoder = this.longrunningDescriptor.metadataDecoder;\n        let response;\n        let metadata;\n        if (op.done) {\n            if (op.result === 'error') {\n                const error = new googleError_1.GoogleError(op.error.message);\n                error.code = op.error.code;\n                this.error = error;\n                if (callback) {\n                    callback(error);\n                }\n                return;\n            }\n            if (responseDecoder && op.response) {\n                this.response = op.response;\n                response = responseDecoder(op.response.value);\n                this.result = response;\n                this.done = true;\n            }\n        }\n        if (metadataDecoder && op.metadata) {\n            metadata = metadataDecoder(op.metadata.value);\n            this.metadata = metadata;\n        }\n        if (callback) {\n            callback(null, response, metadata, op);\n        }\n    }\n    /**\n     * Poll `getOperation` to check the operation's status. This runs a loop to\n     * ping using the backoff strategy specified at initialization.\n     *\n     * Note: This method is automatically called once a \"complete\" event handler\n     * is registered on the operation.\n     *\n     * @private\n     */\n    startPolling_() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        let now = new Date();\n        const delayMult = this.backoffSettings.retryDelayMultiplier;\n        const maxDelay = this.backoffSettings.maxRetryDelayMillis;\n        let delay = this.backoffSettings.initialRetryDelayMillis;\n        let deadline = Infinity;\n        if (this.backoffSettings.totalTimeoutMillis) {\n            deadline = now.getTime() + this.backoffSettings.totalTimeoutMillis;\n        }\n        let previousMetadataBytes;\n        if (this.latestResponse.metadata) {\n            previousMetadataBytes = this.latestResponse.metadata.value;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        function emit(event, ...args) {\n            self.emit(event, ...args);\n        }\n        // Helper function to replace nodejs buffer's equals()\n        function arrayEquals(a, b) {\n            if (a.byteLength !== b.byteLength) {\n                return false;\n            }\n            for (let i = 0; i < a.byteLength; ++i) {\n                if (a[i] !== b[i])\n                    return false;\n            }\n            return true;\n        }\n        function retry() {\n            if (!self.hasActiveListeners) {\n                return;\n            }\n            if (now.getTime() >= deadline) {\n                const error = new googleError_1.GoogleError('Total timeout exceeded before any response was received');\n                error.code = status_1.Status.DEADLINE_EXCEEDED;\n                setImmediate(emit, 'error', error);\n                return;\n            }\n            self.getOperation((err, result, metadata, rawResponse) => {\n                if (err) {\n                    setImmediate(emit, 'error', err);\n                    return;\n                }\n                if (!result) {\n                    if (rawResponse.metadata &&\n                        (!previousMetadataBytes ||\n                            (rawResponse &&\n                                !arrayEquals(rawResponse.metadata.value, previousMetadataBytes)))) {\n                        setImmediate(emit, 'progress', metadata, rawResponse);\n                        previousMetadataBytes = rawResponse.metadata.value;\n                    }\n                    // special case: some APIs fail to set either result or error\n                    // but set done = true (e.g. speech with silent file).\n                    // Some APIs just use this for the normal completion\n                    // (e.g. nodejs-contact-center-insights), so let's just return\n                    // an empty response in this case.\n                    if (rawResponse.done) {\n                        setImmediate(emit, 'complete', {}, metadata, rawResponse);\n                        return;\n                    }\n                    setTimeout(() => {\n                        now = new Date();\n                        delay = Math.min(delay * delayMult, maxDelay);\n                        retry();\n                    }, delay);\n                    return;\n                }\n                setImmediate(emit, 'complete', result, metadata, rawResponse);\n            });\n        }\n        retry();\n    }\n    /**\n     * Wraps the `complete` and `error` events in a Promise.\n     *\n     * @return {promise} - Promise that resolves on operation completion and rejects\n     * on operation error.\n     */\n    promise() {\n        return new Promise((resolve, reject) => {\n            this.on('error', reject).on('complete', (result, metadata, rawResponse) => {\n                resolve([result, metadata, rawResponse]);\n            });\n        });\n    }\n}\nexports.Operation = Operation;\n/**\n * Method used to create Operation objects.\n *\n * @constructor\n *\n * @param {google.longrunning.Operation} op - The operation to be wrapped.\n * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n * operations service client and unpacking mechanisms for the operation.\n * @param {BackoffSettings} backoffSettings - The backoff settings used in\n * in polling the operation.\n * @param {CallOptions=} callOptions - CallOptions used in making get operation\n * requests.\n */\nfunction operation(op, longrunningDescriptor, backoffSettings, callOptions) {\n    return new Operation(op, longrunningDescriptor, backoffSettings, callOptions);\n}\n//# sourceMappingURL=longrunning.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9sb25nUnVubmluZ0NhbGxzL2xvbmdydW5uaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixpQkFBaUI7QUFDakIsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEMsc0JBQXNCLG1CQUFPLENBQUMsMkZBQWdCO0FBQzlDLHdCQUF3QixtQkFBTyxDQUFDLHNHQUF5QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhCQUE4QjtBQUM3QyxlQUFlLHVCQUF1QjtBQUN0QztBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0EsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0JBQWtCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhCQUE4QjtBQUN6QyxXQUFXLHVCQUF1QjtBQUNsQztBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2xvbmdSdW5uaW5nQ2FsbHMvbG9uZ3J1bm5pbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9wZXJhdGlvbiA9IHZvaWQgMDtcbmV4cG9ydHMub3BlcmF0aW9uID0gb3BlcmF0aW9uO1xuY29uc3QgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xuY29uc3Qgc3RhdHVzXzEgPSByZXF1aXJlKFwiLi4vc3RhdHVzXCIpO1xuY29uc3QgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9nb29nbGVFcnJvclwiKTtcbmNvbnN0IG9wZXJhdGlvblByb3RvcyA9IHJlcXVpcmUoXCIuLi8uLi9wcm90b3Mvb3BlcmF0aW9uc1wiKTtcbmNsYXNzIE9wZXJhdGlvbiBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogV3JhcHBlciBmb3IgYSBnb29nbGUubG9uZ3J1bm51bmcuT3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2dvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb259IGdycGNPcCAtIFRoZSBvcGVyYXRpb24gdG8gYmUgd3JhcHBlZC5cbiAgICAgKiBAcGFyYW0ge0xvbmdSdW5uaW5nRGVzY3JpcHRvcn0gbG9uZ3J1bm5pbmdEZXNjcmlwdG9yIC0gVGhpcyBkZWZpbmVzIHRoZVxuICAgICAqIG9wZXJhdGlvbnMgc2VydmljZSBjbGllbnQgYW5kIHVucGFja2luZyBtZWNoYW5pc21zIGZvciB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7QmFja29mZlNldHRpbmdzfSBiYWNrb2ZmU2V0dGluZ3MgLSBUaGUgYmFja29mZiBzZXR0aW5ncyB1c2VkIGluXG4gICAgICogaW4gcG9sbGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Q2FsbE9wdGlvbnN9IGNhbGxPcHRpb25zIC0gQ2FsbE9wdGlvbnMgdXNlZCBpbiBtYWtpbmcgZ2V0IG9wZXJhdGlvblxuICAgICAqIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdycGNPcCwgbG9uZ3J1bm5pbmdEZXNjcmlwdG9yLCBiYWNrb2ZmU2V0dGluZ3MsIGNhbGxPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29tcGxldGVMaXN0ZW5lcnMgPSAwO1xuICAgICAgICB0aGlzLmhhc0FjdGl2ZUxpc3RlbmVycyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhdGVzdFJlc3BvbnNlID0gZ3JwY09wO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmxhdGVzdFJlc3BvbnNlLm5hbWU7XG4gICAgICAgIHRoaXMuZG9uZSA9IHRoaXMubGF0ZXN0UmVzcG9uc2UuZG9uZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRoaXMubGF0ZXN0UmVzcG9uc2UuZXJyb3I7XG4gICAgICAgIHRoaXMubG9uZ3J1bm5pbmdEZXNjcmlwdG9yID0gbG9uZ3J1bm5pbmdEZXNjcmlwdG9yO1xuICAgICAgICB0aGlzLnJlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmJhY2tvZmZTZXR0aW5ncyA9IGJhY2tvZmZTZXR0aW5ncztcbiAgICAgICAgdGhpcy5fdW5wYWNrUmVzcG9uc2UoZ3JwY09wKTtcbiAgICAgICAgdGhpcy5fbGlzdGVuRm9yRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuX2NhbGxPcHRpb25zID0gY2FsbE9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJlZ2luIGxpc3RlbmluZyBmb3IgZXZlbnRzIG9uIHRoZSBvcGVyYXRpb24uIFRoaXMgbWV0aG9kIGtlZXBzIHRyYWNrIG9mIGhvd1xuICAgICAqIG1hbnkgXCJjb21wbGV0ZVwiIGxpc3RlbmVycyBhcmUgcmVnaXN0ZXJlZCBhbmQgcmVtb3ZlZCwgbWFraW5nIHN1cmUgcG9sbGluZ1xuICAgICAqIGlzIGhhbmRsZWQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEFzIGxvbmcgYXMgdGhlcmUgaXMgb25lIGFjdGl2ZSBcImNvbXBsZXRlXCIgbGlzdGVuZXIsIHRoZSBjb25uZWN0aW9uIGlzIG9wZW4uXG4gICAgICogV2hlbiB0aGVyZSBhcmUgbm8gbW9yZSBsaXN0ZW5lcnMsIHRoZSBwb2xsaW5nIHN0b3BzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbGlzdGVuRm9yRXZlbnRzKCkge1xuICAgICAgICB0aGlzLm9uKCduZXdMaXN0ZW5lcicsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVMaXN0ZW5lcnMrKztcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzQWN0aXZlTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzQWN0aXZlTGlzdGVuZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFBvbGxpbmdfKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbigncmVtb3ZlTGlzdGVuZXInLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdjb21wbGV0ZScgJiYgLS10aGlzLmNvbXBsZXRlTGlzdGVuZXJzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNBY3RpdmVMaXN0ZW5lcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgY3VycmVudCBwb2xsaW5nIGFwaSBjYWxsIGFuZCBjYW5jZWxzIHRoZSBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgcHJvbWlzZSBvZiB0aGUgT3BlcmF0aW9uc0NsaWVudCNjYW5jZWxPcGVyYXRpb24gYXBpXG4gICAgICogcmVxdWVzdC5cbiAgICAgKi9cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDYWxsUHJvbWlzZV8pIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENhbGxQcm9taXNlXy5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcGVyYXRpb25zQ2xpZW50ID0gdGhpcy5sb25ncnVubmluZ0Rlc2NyaXB0b3Iub3BlcmF0aW9uc0NsaWVudDtcbiAgICAgICAgY29uc3QgY2FuY2VsUmVxdWVzdCA9IG5ldyBvcGVyYXRpb25Qcm90b3MuZ29vZ2xlLmxvbmdydW5uaW5nLkNhbmNlbE9wZXJhdGlvblJlcXVlc3QoKTtcbiAgICAgICAgY2FuY2VsUmVxdWVzdC5uYW1lID0gdGhpcy5sYXRlc3RSZXNwb25zZS5uYW1lO1xuICAgICAgICByZXR1cm4gb3BlcmF0aW9uc0NsaWVudC5jYW5jZWxPcGVyYXRpb24oY2FuY2VsUmVxdWVzdCk7XG4gICAgfVxuICAgIGdldE9wZXJhdGlvbihjYWxsYmFjaykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbnNDbGllbnQgPSB0aGlzLmxvbmdydW5uaW5nRGVzY3JpcHRvci5vcGVyYXRpb25zQ2xpZW50O1xuICAgICAgICBmdW5jdGlvbiBwcm9taXNpZnlSZXNwb25zZSgpIHtcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5sYXRlc3RSZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcihzZWxmLmxhdGVzdFJlc3BvbnNlLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9IHNlbGYubGF0ZXN0UmVzcG9uc2UuZXJyb3IuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtzZWxmLnJlc3VsdCwgc2VsZi5tZXRhZGF0YSwgc2VsZi5sYXRlc3RSZXNwb25zZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0UmVzcG9uc2UuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5fdW5wYWNrUmVzcG9uc2UodGhpcy5sYXRlc3RSZXNwb25zZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlc3BvbnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBvcGVyYXRpb25Qcm90b3MuZ29vZ2xlLmxvbmdydW5uaW5nLkdldE9wZXJhdGlvblJlcXVlc3QoKTtcbiAgICAgICAgcmVxdWVzdC5uYW1lID0gdGhpcy5sYXRlc3RSZXNwb25zZS5uYW1lO1xuICAgICAgICB0aGlzLmN1cnJlbnRDYWxsUHJvbWlzZV8gPSBvcGVyYXRpb25zQ2xpZW50LmdldE9wZXJhdGlvbkludGVybmFsKHJlcXVlc3QsIHRoaXMuX2NhbGxPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgbm9DYWxsYmFja1Byb21pc2UgPSB0aGlzLmN1cnJlbnRDYWxsUHJvbWlzZV8udGhlbihyZXNwb25zZXMgPT4ge1xuICAgICAgICAgICAgc2VsZi5sYXRlc3RSZXNwb25zZSA9IHJlc3BvbnNlc1swXTtcbiAgICAgICAgICAgIHNlbGYuX3VucGFja1Jlc3BvbnNlKHJlc3BvbnNlc1swXSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlc3BvbnNlKCk7XG4gICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9DYWxsYmFja1Byb21pc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3VucGFja1Jlc3BvbnNlKG9wLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCByZXNwb25zZURlY29kZXIgPSB0aGlzLmxvbmdydW5uaW5nRGVzY3JpcHRvci5yZXNwb25zZURlY29kZXI7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhRGVjb2RlciA9IHRoaXMubG9uZ3J1bm5pbmdEZXNjcmlwdG9yLm1ldGFkYXRhRGVjb2RlcjtcbiAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgIGlmIChvcC5kb25lKSB7XG4gICAgICAgICAgICBpZiAob3AucmVzdWx0ID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcihvcC5lcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gb3AuZXJyb3IuY29kZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGVjb2RlciAmJiBvcC5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSBvcC5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlc3BvbnNlRGVjb2RlcihvcC5yZXNwb25zZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtZXRhZGF0YURlY29kZXIgJiYgb3AubWV0YWRhdGEpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhID0gbWV0YWRhdGFEZWNvZGVyKG9wLm1ldGFkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlLCBtZXRhZGF0YSwgb3ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBvbGwgYGdldE9wZXJhdGlvbmAgdG8gY2hlY2sgdGhlIG9wZXJhdGlvbidzIHN0YXR1cy4gVGhpcyBydW5zIGEgbG9vcCB0b1xuICAgICAqIHBpbmcgdXNpbmcgdGhlIGJhY2tvZmYgc3RyYXRlZ3kgc3BlY2lmaWVkIGF0IGluaXRpYWxpemF0aW9uLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgYXV0b21hdGljYWxseSBjYWxsZWQgb25jZSBhIFwiY29tcGxldGVcIiBldmVudCBoYW5kbGVyXG4gICAgICogaXMgcmVnaXN0ZXJlZCBvbiB0aGUgb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGFydFBvbGxpbmdfKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBkZWxheU11bHQgPSB0aGlzLmJhY2tvZmZTZXR0aW5ncy5yZXRyeURlbGF5TXVsdGlwbGllcjtcbiAgICAgICAgY29uc3QgbWF4RGVsYXkgPSB0aGlzLmJhY2tvZmZTZXR0aW5ncy5tYXhSZXRyeURlbGF5TWlsbGlzO1xuICAgICAgICBsZXQgZGVsYXkgPSB0aGlzLmJhY2tvZmZTZXR0aW5ncy5pbml0aWFsUmV0cnlEZWxheU1pbGxpcztcbiAgICAgICAgbGV0IGRlYWRsaW5lID0gSW5maW5pdHk7XG4gICAgICAgIGlmICh0aGlzLmJhY2tvZmZTZXR0aW5ncy50b3RhbFRpbWVvdXRNaWxsaXMpIHtcbiAgICAgICAgICAgIGRlYWRsaW5lID0gbm93LmdldFRpbWUoKSArIHRoaXMuYmFja29mZlNldHRpbmdzLnRvdGFsVGltZW91dE1pbGxpcztcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJldmlvdXNNZXRhZGF0YUJ5dGVzO1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RSZXNwb25zZS5tZXRhZGF0YSkge1xuICAgICAgICAgICAgcHJldmlvdXNNZXRhZGF0YUJ5dGVzID0gdGhpcy5sYXRlc3RSZXNwb25zZS5tZXRhZGF0YS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBzZWxmLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byByZXBsYWNlIG5vZGVqcyBidWZmZXIncyBlcXVhbHMoKVxuICAgICAgICBmdW5jdGlvbiBhcnJheUVxdWFscyhhLCBiKSB7XG4gICAgICAgICAgICBpZiAoYS5ieXRlTGVuZ3RoICE9PSBiLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEuYnl0ZUxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJldHJ5KCkge1xuICAgICAgICAgICAgaWYgKCFzZWxmLmhhc0FjdGl2ZUxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3cuZ2V0VGltZSgpID49IGRlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignVG90YWwgdGltZW91dCBleGNlZWRlZCBiZWZvcmUgYW55IHJlc3BvbnNlIHdhcyByZWNlaXZlZCcpO1xuICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPSBzdGF0dXNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQ7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGVtaXQsICdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmdldE9wZXJhdGlvbigoZXJyLCByZXN1bHQsIG1ldGFkYXRhLCByYXdSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGVtaXQsICdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1Jlc3BvbnNlLm1ldGFkYXRhICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoIXByZXZpb3VzTWV0YWRhdGFCeXRlcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyYXdSZXNwb25zZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYXJyYXlFcXVhbHMocmF3UmVzcG9uc2UubWV0YWRhdGEudmFsdWUsIHByZXZpb3VzTWV0YWRhdGFCeXRlcykpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGVtaXQsICdwcm9ncmVzcycsIG1ldGFkYXRhLCByYXdSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c01ldGFkYXRhQnl0ZXMgPSByYXdSZXNwb25zZS5tZXRhZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2U6IHNvbWUgQVBJcyBmYWlsIHRvIHNldCBlaXRoZXIgcmVzdWx0IG9yIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBzZXQgZG9uZSA9IHRydWUgKGUuZy4gc3BlZWNoIHdpdGggc2lsZW50IGZpbGUpLlxuICAgICAgICAgICAgICAgICAgICAvLyBTb21lIEFQSXMganVzdCB1c2UgdGhpcyBmb3IgdGhlIG5vcm1hbCBjb21wbGV0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIChlLmcuIG5vZGVqcy1jb250YWN0LWNlbnRlci1pbnNpZ2h0cyksIHNvIGxldCdzIGp1c3QgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuIGVtcHR5IHJlc3BvbnNlIGluIHRoaXMgY2FzZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1Jlc3BvbnNlLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShlbWl0LCAnY29tcGxldGUnLCB7fSwgbWV0YWRhdGEsIHJhd1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheSA9IE1hdGgubWluKGRlbGF5ICogZGVsYXlNdWx0LCBtYXhEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGVtaXQsICdjb21wbGV0ZScsIHJlc3VsdCwgbWV0YWRhdGEsIHJhd1Jlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHJ5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXBzIHRoZSBgY29tcGxldGVgIGFuZCBgZXJyb3JgIGV2ZW50cyBpbiBhIFByb21pc2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtwcm9taXNlfSAtIFByb21pc2UgdGhhdCByZXNvbHZlcyBvbiBvcGVyYXRpb24gY29tcGxldGlvbiBhbmQgcmVqZWN0c1xuICAgICAqIG9uIG9wZXJhdGlvbiBlcnJvci5cbiAgICAgKi9cbiAgICBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbignZXJyb3InLCByZWplY3QpLm9uKCdjb21wbGV0ZScsIChyZXN1bHQsIG1ldGFkYXRhLCByYXdSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoW3Jlc3VsdCwgbWV0YWRhdGEsIHJhd1Jlc3BvbnNlXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5PcGVyYXRpb24gPSBPcGVyYXRpb247XG4vKipcbiAqIE1ldGhvZCB1c2VkIHRvIGNyZWF0ZSBPcGVyYXRpb24gb2JqZWN0cy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge2dvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb259IG9wIC0gVGhlIG9wZXJhdGlvbiB0byBiZSB3cmFwcGVkLlxuICogQHBhcmFtIHtMb25nUnVubmluZ0Rlc2NyaXB0b3J9IGxvbmdydW5uaW5nRGVzY3JpcHRvciAtIFRoaXMgZGVmaW5lcyB0aGVcbiAqIG9wZXJhdGlvbnMgc2VydmljZSBjbGllbnQgYW5kIHVucGFja2luZyBtZWNoYW5pc21zIGZvciB0aGUgb3BlcmF0aW9uLlxuICogQHBhcmFtIHtCYWNrb2ZmU2V0dGluZ3N9IGJhY2tvZmZTZXR0aW5ncyAtIFRoZSBiYWNrb2ZmIHNldHRpbmdzIHVzZWQgaW5cbiAqIGluIHBvbGxpbmcgdGhlIG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7Q2FsbE9wdGlvbnM9fSBjYWxsT3B0aW9ucyAtIENhbGxPcHRpb25zIHVzZWQgaW4gbWFraW5nIGdldCBvcGVyYXRpb25cbiAqIHJlcXVlc3RzLlxuICovXG5mdW5jdGlvbiBvcGVyYXRpb24ob3AsIGxvbmdydW5uaW5nRGVzY3JpcHRvciwgYmFja29mZlNldHRpbmdzLCBjYWxsT3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgT3BlcmF0aW9uKG9wLCBsb25ncnVubmluZ0Rlc2NyaXB0b3IsIGJhY2tvZmZTZXR0aW5ncywgY2FsbE9wdGlvbnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9uZ3J1bm5pbmcuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js":
/*!**************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.NormalApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(action-browser)/./node_modules/google-gax/build/src/call.js\");\n/**\n * Creates an API caller for regular unary methods.\n */\nclass NormalApiCaller {\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    wrap(func) {\n        return func;\n    }\n    call(apiCall, argument, settings, canceller) {\n        canceller.call(apiCall, argument);\n    }\n    fail(canceller, err) {\n        canceller.callback(err);\n    }\n    result(canceller) {\n        return canceller.promise;\n    }\n}\nexports.NormalApiCaller = NormalApiCaller;\n//# sourceMappingURL=normalApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ub3JtYWxDYWxscy9ub3JtYWxBcGlDYWxsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLGVBQWUsbUJBQU8sQ0FBQyw2RUFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbm9ybWFsQ2FsbHMvbm9ybWFsQXBpQ2FsbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ob3JtYWxBcGlDYWxsZXIgPSB2b2lkIDA7XG5jb25zdCBjYWxsXzEgPSByZXF1aXJlKFwiLi4vY2FsbFwiKTtcbi8qKlxuICogQ3JlYXRlcyBhbiBBUEkgY2FsbGVyIGZvciByZWd1bGFyIHVuYXJ5IG1ldGhvZHMuXG4gKi9cbmNsYXNzIE5vcm1hbEFwaUNhbGxlciB7XG4gICAgaW5pdChjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgY2FsbF8xLk9uZ29pbmdDYWxsKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGNhbGxfMS5PbmdvaW5nQ2FsbFByb21pc2UoKTtcbiAgICB9XG4gICAgd3JhcChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cbiAgICBjYWxsKGFwaUNhbGwsIGFyZ3VtZW50LCBzZXR0aW5ncywgY2FuY2VsbGVyKSB7XG4gICAgICAgIGNhbmNlbGxlci5jYWxsKGFwaUNhbGwsIGFyZ3VtZW50KTtcbiAgICB9XG4gICAgZmFpbChjYW5jZWxsZXIsIGVycikge1xuICAgICAgICBjYW5jZWxsZXIuY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgcmVzdWx0KGNhbmNlbGxlcikge1xuICAgICAgICByZXR1cm4gY2FuY2VsbGVyLnByb21pc2U7XG4gICAgfVxufVxuZXhwb3J0cy5Ob3JtYWxBcGlDYWxsZXIgPSBOb3JtYWxBcGlDYWxsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3JtYWxBcGlDYWxsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/normalCalls/retries.js":
/*!******************************************************************!*\
  !*** ./node_modules/google-gax/build/src/normalCalls/retries.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.retryable = retryable;\nconst status_1 = __webpack_require__(/*! ../status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nconst timeout_1 = __webpack_require__(/*! ./timeout */ \"(action-browser)/./node_modules/google-gax/build/src/normalCalls/timeout.js\");\n/**\n * Creates a function equivalent to func, but that retries on certain\n * exceptions.\n *\n * @private\n *\n * @param {GRPCCall} func - A function.\n * @param {RetryOptions} retry - Configures the exceptions upon which the\n *   function eshould retry, and the parameters to the exponential backoff retry\n *   algorithm.\n * @param {GRPCCallOtherArgs} otherArgs - the additional arguments to be passed to func.\n * @return {SimpleCallbackFunction} A function that will retry.\n */\nfunction retryable(func, retry, otherArgs, apiName) {\n    const delayMult = retry.backoffSettings.retryDelayMultiplier;\n    const maxDelay = retry.backoffSettings.maxRetryDelayMillis;\n    const timeoutMult = retry.backoffSettings.rpcTimeoutMultiplier;\n    const maxTimeout = retry.backoffSettings.maxRpcTimeoutMillis;\n    let delay = retry.backoffSettings.initialRetryDelayMillis;\n    let timeout = retry.backoffSettings.initialRpcTimeoutMillis;\n    /**\n     * Equivalent to ``func``, but retries upon transient failure.\n     *\n     * Retrying is done through an exponential backoff algorithm configured\n     * by the options in ``retry``.\n     * @param {RequestType} argument The request object.\n     * @param {APICallback} callback The callback.\n     * @return {GRPCCall}\n     */\n    return (argument, callback) => {\n        let canceller;\n        let timeoutId;\n        let now = new Date();\n        let deadline;\n        if (retry.backoffSettings.totalTimeoutMillis) {\n            deadline = now.getTime() + retry.backoffSettings.totalTimeoutMillis;\n        }\n        let retries = 0;\n        const maxRetries = retry.backoffSettings.maxRetries;\n        // TODO: define A/B testing values for retry behaviors.\n        /** Repeat the API call as long as necessary. */\n        function repeat(err) {\n            timeoutId = null;\n            if (deadline && now.getTime() >= deadline) {\n                const error = new googleError_1.GoogleError(`Total timeout of API ${apiName} exceeded ${retry.backoffSettings.totalTimeoutMillis} milliseconds ${err ? `retrying error ${err} ` : ''} before any response was received.`);\n                error.code = status_1.Status.DEADLINE_EXCEEDED;\n                callback(error);\n                return;\n            }\n            if (retries && retries >= maxRetries) {\n                const error = new googleError_1.GoogleError('Exceeded maximum number of retries ' +\n                    (err ? `retrying error ${err} ` : '') +\n                    'before any response was received');\n                error.code = status_1.Status.DEADLINE_EXCEEDED;\n                callback(error);\n                return;\n            }\n            retries++;\n            let lastError = err;\n            const toCall = (0, timeout_1.addTimeoutArg)(func, timeout, otherArgs);\n            canceller = toCall(argument, (err, response, next, rawResponse) => {\n                // Save only the error before deadline exceeded\n                if (err && err.code !== 4) {\n                    lastError = err;\n                }\n                if (!err) {\n                    callback(null, response, next, rawResponse);\n                    return;\n                }\n                canceller = null;\n                if (retry.retryCodes.length > 0 &&\n                    retry.retryCodes.indexOf(err.code) < 0) {\n                    err.note =\n                        'Exception occurred in retry method that was ' +\n                            'not classified as transient';\n                    callback(err);\n                }\n                else {\n                    const toSleep = Math.random() * delay;\n                    timeoutId = setTimeout(() => {\n                        now = new Date();\n                        delay = Math.min(delay * delayMult, maxDelay);\n                        const timeoutCal = timeout && timeoutMult ? timeout * timeoutMult : 0;\n                        const rpcTimeout = maxTimeout ? maxTimeout : 0;\n                        const newDeadline = deadline ? deadline - now.getTime() : 0;\n                        timeout = Math.min(timeoutCal, rpcTimeout, newDeadline);\n                        repeat(lastError);\n                    }, toSleep);\n                }\n            });\n            if (canceller instanceof Promise) {\n                canceller.catch(err => {\n                    callback(new googleError_1.GoogleError(err));\n                });\n            }\n        }\n        if (maxRetries && deadline) {\n            const error = new googleError_1.GoogleError('Cannot set both totalTimeoutMillis and maxRetries ' +\n                'in backoffSettings.');\n            error.code = status_1.Status.INVALID_ARGUMENT;\n            callback(error);\n        }\n        else {\n            repeat();\n        }\n        return {\n            cancel() {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n                if (canceller) {\n                    canceller.cancel();\n                }\n                else {\n                    const error = new googleError_1.GoogleError('cancelled');\n                    error.code = status_1.Status.CANCELLED;\n                    callback(error);\n                }\n            },\n        };\n    };\n}\n//# sourceMappingURL=retries.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ub3JtYWxDYWxscy9yZXRyaWVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQyxzQkFBc0IsbUJBQU8sQ0FBQywyRkFBZ0I7QUFDOUMsa0JBQWtCLG1CQUFPLENBQUMsOEZBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixTQUFTLFdBQVcsMENBQTBDLGVBQWUsd0JBQXdCLEtBQUssUUFBUTtBQUN0TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsS0FBSztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ub3JtYWxDYWxscy9yZXRyaWVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXRyeWFibGUgPSByZXRyeWFibGU7XG5jb25zdCBzdGF0dXNfMSA9IHJlcXVpcmUoXCIuLi9zdGF0dXNcIik7XG5jb25zdCBnb29nbGVFcnJvcl8xID0gcmVxdWlyZShcIi4uL2dvb2dsZUVycm9yXCIpO1xuY29uc3QgdGltZW91dF8xID0gcmVxdWlyZShcIi4vdGltZW91dFwiKTtcbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGVxdWl2YWxlbnQgdG8gZnVuYywgYnV0IHRoYXQgcmV0cmllcyBvbiBjZXJ0YWluXG4gKiBleGNlcHRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtHUlBDQ2FsbH0gZnVuYyAtIEEgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge1JldHJ5T3B0aW9uc30gcmV0cnkgLSBDb25maWd1cmVzIHRoZSBleGNlcHRpb25zIHVwb24gd2hpY2ggdGhlXG4gKiAgIGZ1bmN0aW9uIGVzaG91bGQgcmV0cnksIGFuZCB0aGUgcGFyYW1ldGVycyB0byB0aGUgZXhwb25lbnRpYWwgYmFja29mZiByZXRyeVxuICogICBhbGdvcml0aG0uXG4gKiBAcGFyYW0ge0dSUENDYWxsT3RoZXJBcmdzfSBvdGhlckFyZ3MgLSB0aGUgYWRkaXRpb25hbCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGZ1bmMuXG4gKiBAcmV0dXJuIHtTaW1wbGVDYWxsYmFja0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZXRyeS5cbiAqL1xuZnVuY3Rpb24gcmV0cnlhYmxlKGZ1bmMsIHJldHJ5LCBvdGhlckFyZ3MsIGFwaU5hbWUpIHtcbiAgICBjb25zdCBkZWxheU11bHQgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MucmV0cnlEZWxheU11bHRpcGxpZXI7XG4gICAgY29uc3QgbWF4RGVsYXkgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MubWF4UmV0cnlEZWxheU1pbGxpcztcbiAgICBjb25zdCB0aW1lb3V0TXVsdCA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5ycGNUaW1lb3V0TXVsdGlwbGllcjtcbiAgICBjb25zdCBtYXhUaW1lb3V0ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLm1heFJwY1RpbWVvdXRNaWxsaXM7XG4gICAgbGV0IGRlbGF5ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLmluaXRpYWxSZXRyeURlbGF5TWlsbGlzO1xuICAgIGxldCB0aW1lb3V0ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLmluaXRpYWxScGNUaW1lb3V0TWlsbGlzO1xuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYGBmdW5jYGAsIGJ1dCByZXRyaWVzIHVwb24gdHJhbnNpZW50IGZhaWx1cmUuXG4gICAgICpcbiAgICAgKiBSZXRyeWluZyBpcyBkb25lIHRocm91Z2ggYW4gZXhwb25lbnRpYWwgYmFja29mZiBhbGdvcml0aG0gY29uZmlndXJlZFxuICAgICAqIGJ5IHRoZSBvcHRpb25zIGluIGBgcmV0cnlgYC5cbiAgICAgKiBAcGFyYW0ge1JlcXVlc3RUeXBlfSBhcmd1bWVudCBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtBUElDYWxsYmFja30gY2FsbGJhY2sgVGhlIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm4ge0dSUENDYWxsfVxuICAgICAqL1xuICAgIHJldHVybiAoYXJndW1lbnQsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGxldCBjYW5jZWxsZXI7XG4gICAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsZXQgZGVhZGxpbmU7XG4gICAgICAgIGlmIChyZXRyeS5iYWNrb2ZmU2V0dGluZ3MudG90YWxUaW1lb3V0TWlsbGlzKSB7XG4gICAgICAgICAgICBkZWFkbGluZSA9IG5vdy5nZXRUaW1lKCkgKyByZXRyeS5iYWNrb2ZmU2V0dGluZ3MudG90YWxUaW1lb3V0TWlsbGlzO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXRyaWVzID0gMDtcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5tYXhSZXRyaWVzO1xuICAgICAgICAvLyBUT0RPOiBkZWZpbmUgQS9CIHRlc3RpbmcgdmFsdWVzIGZvciByZXRyeSBiZWhhdmlvcnMuXG4gICAgICAgIC8qKiBSZXBlYXQgdGhlIEFQSSBjYWxsIGFzIGxvbmcgYXMgbmVjZXNzYXJ5LiAqL1xuICAgICAgICBmdW5jdGlvbiByZXBlYXQoZXJyKSB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGRlYWRsaW5lICYmIG5vdy5nZXRUaW1lKCkgPj0gZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKGBUb3RhbCB0aW1lb3V0IG9mIEFQSSAke2FwaU5hbWV9IGV4Y2VlZGVkICR7cmV0cnkuYmFja29mZlNldHRpbmdzLnRvdGFsVGltZW91dE1pbGxpc30gbWlsbGlzZWNvbmRzICR7ZXJyID8gYHJldHJ5aW5nIGVycm9yICR7ZXJyfSBgIDogJyd9IGJlZm9yZSBhbnkgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkLmApO1xuICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPSBzdGF0dXNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQ7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXRyaWVzICYmIHJldHJpZXMgPj0gbWF4UmV0cmllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ0V4Y2VlZGVkIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgJyArXG4gICAgICAgICAgICAgICAgICAgIChlcnIgPyBgcmV0cnlpbmcgZXJyb3IgJHtlcnJ9IGAgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAnYmVmb3JlIGFueSByZXNwb25zZSB3YXMgcmVjZWl2ZWQnKTtcbiAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVEO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXRyaWVzKys7XG4gICAgICAgICAgICBsZXQgbGFzdEVycm9yID0gZXJyO1xuICAgICAgICAgICAgY29uc3QgdG9DYWxsID0gKDAsIHRpbWVvdXRfMS5hZGRUaW1lb3V0QXJnKShmdW5jLCB0aW1lb3V0LCBvdGhlckFyZ3MpO1xuICAgICAgICAgICAgY2FuY2VsbGVyID0gdG9DYWxsKGFyZ3VtZW50LCAoZXJyLCByZXNwb25zZSwgbmV4dCwgcmF3UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIG9ubHkgdGhlIGVycm9yIGJlZm9yZSBkZWFkbGluZSBleGNlZWRlZFxuICAgICAgICAgICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZSwgbmV4dCwgcmF3UmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbmNlbGxlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJldHJ5LnJldHJ5Q29kZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICByZXRyeS5yZXRyeUNvZGVzLmluZGV4T2YoZXJyLmNvZGUpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBlcnIubm90ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAnRXhjZXB0aW9uIG9jY3VycmVkIGluIHJldHJ5IG1ldGhvZCB0aGF0IHdhcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbm90IGNsYXNzaWZpZWQgYXMgdHJhbnNpZW50JztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvU2xlZXAgPSBNYXRoLnJhbmRvbSgpICogZGVsYXk7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gTWF0aC5taW4oZGVsYXkgKiBkZWxheU11bHQsIG1heERlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRDYWwgPSB0aW1lb3V0ICYmIHRpbWVvdXRNdWx0ID8gdGltZW91dCAqIHRpbWVvdXRNdWx0IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJwY1RpbWVvdXQgPSBtYXhUaW1lb3V0ID8gbWF4VGltZW91dCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEZWFkbGluZSA9IGRlYWRsaW5lID8gZGVhZGxpbmUgLSBub3cuZ2V0VGltZSgpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBNYXRoLm1pbih0aW1lb3V0Q2FsLCBycGNUaW1lb3V0LCBuZXdEZWFkbGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQobGFzdEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdG9TbGVlcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2FuY2VsbGVyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGNhbmNlbGxlci5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcihlcnIpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4UmV0cmllcyAmJiBkZWFkbGluZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignQ2Fubm90IHNldCBib3RoIHRvdGFsVGltZW91dE1pbGxpcyBhbmQgbWF4UmV0cmllcyAnICtcbiAgICAgICAgICAgICAgICAnaW4gYmFja29mZlNldHRpbmdzLicpO1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IHN0YXR1c18xLlN0YXR1cy5JTlZBTElEX0FSR1VNRU5UO1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVwZWF0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGxlci5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJldHJpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/normalCalls/retries.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/normalCalls/timeout.js":
/*!******************************************************************!*\
  !*** ./node_modules/google-gax/build/src/normalCalls/timeout.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.addTimeoutArg = addTimeoutArg;\n/**\n * Updates func so that it gets called with the timeout as its final arg.\n *\n * This converts a function, func, into another function with updated deadline.\n *\n * @private\n *\n * @param {GRPCCall} func - a function to be updated.\n * @param {number} timeout - to be added to the original function as it final\n *   positional arg.\n * @param {Object} otherArgs - the additional arguments to be passed to func.\n * @param {Object=} abTests - the A/B testing key/value pairs.\n * @return {function(Object, APICallback)}\n *  the function with other arguments and the timeout.\n */\nfunction addTimeoutArg(func, timeout, otherArgs, abTests) {\n    // TODO: this assumes the other arguments consist of metadata and options,\n    // which is specific to gRPC calls. Remove the hidden dependency on gRPC.\n    return (argument, callback) => {\n        const now = new Date();\n        const options = otherArgs.options || {};\n        options.deadline = new Date(now.getTime() + timeout);\n        const metadata = otherArgs.metadataBuilder\n            ? otherArgs.metadataBuilder(abTests, otherArgs.headers || {})\n            : null;\n        return func(argument, metadata, options, callback);\n    };\n}\n//# sourceMappingURL=timeout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ub3JtYWxDYWxscy90aW1lb3V0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbm9ybWFsQ2FsbHMvdGltZW91dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYWRkVGltZW91dEFyZyA9IGFkZFRpbWVvdXRBcmc7XG4vKipcbiAqIFVwZGF0ZXMgZnVuYyBzbyB0aGF0IGl0IGdldHMgY2FsbGVkIHdpdGggdGhlIHRpbWVvdXQgYXMgaXRzIGZpbmFsIGFyZy5cbiAqXG4gKiBUaGlzIGNvbnZlcnRzIGEgZnVuY3Rpb24sIGZ1bmMsIGludG8gYW5vdGhlciBmdW5jdGlvbiB3aXRoIHVwZGF0ZWQgZGVhZGxpbmUuXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge0dSUENDYWxsfSBmdW5jIC0gYSBmdW5jdGlvbiB0byBiZSB1cGRhdGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgLSB0byBiZSBhZGRlZCB0byB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYXMgaXQgZmluYWxcbiAqICAgcG9zaXRpb25hbCBhcmcuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXJBcmdzIC0gdGhlIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBmdW5jLlxuICogQHBhcmFtIHtPYmplY3Q9fSBhYlRlc3RzIC0gdGhlIEEvQiB0ZXN0aW5nIGtleS92YWx1ZSBwYWlycy5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKE9iamVjdCwgQVBJQ2FsbGJhY2spfVxuICogIHRoZSBmdW5jdGlvbiB3aXRoIG90aGVyIGFyZ3VtZW50cyBhbmQgdGhlIHRpbWVvdXQuXG4gKi9cbmZ1bmN0aW9uIGFkZFRpbWVvdXRBcmcoZnVuYywgdGltZW91dCwgb3RoZXJBcmdzLCBhYlRlc3RzKSB7XG4gICAgLy8gVE9ETzogdGhpcyBhc3N1bWVzIHRoZSBvdGhlciBhcmd1bWVudHMgY29uc2lzdCBvZiBtZXRhZGF0YSBhbmQgb3B0aW9ucyxcbiAgICAvLyB3aGljaCBpcyBzcGVjaWZpYyB0byBnUlBDIGNhbGxzLiBSZW1vdmUgdGhlIGhpZGRlbiBkZXBlbmRlbmN5IG9uIGdSUEMuXG4gICAgcmV0dXJuIChhcmd1bWVudCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG90aGVyQXJncy5vcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLmRlYWRsaW5lID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIHRpbWVvdXQpO1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IG90aGVyQXJncy5tZXRhZGF0YUJ1aWxkZXJcbiAgICAgICAgICAgID8gb3RoZXJBcmdzLm1ldGFkYXRhQnVpbGRlcihhYlRlc3RzLCBvdGhlckFyZ3MuaGVhZGVycyB8fCB7fSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIGZ1bmMoYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/normalCalls/timeout.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/operationsClient.js":
/*!***************************************************************!*\
  !*** ./node_modules/google-gax/build/src/operationsClient.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OperationsClientBuilder = exports.OperationsClient = exports.ALL_SCOPES = exports.SERVICE_ADDRESS = void 0;\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(action-browser)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst descriptor_1 = __webpack_require__(/*! ./descriptor */ \"(action-browser)/./node_modules/google-gax/build/src/descriptor.js\");\nconst gax = __webpack_require__(/*! ./gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nconst configData = __webpack_require__(/*! ./operations_client_config.json */ \"(action-browser)/./node_modules/google-gax/build/src/operations_client_config.json\");\nconst operationProtoJson = __webpack_require__(/*! ../protos/operations.json */ \"(action-browser)/./node_modules/google-gax/build/protos/operations.json\");\nconst transcoding_1 = __webpack_require__(/*! ./transcoding */ \"(action-browser)/./node_modules/google-gax/build/src/transcoding.js\");\nexports.SERVICE_ADDRESS = 'longrunning.googleapis.com';\nconst version = (__webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/package.json\").version);\nconst DEFAULT_SERVICE_PORT = 443;\nconst CODE_GEN_NAME_VERSION = 'gapic/0.7.1';\n/**\n * The scopes needed to make gRPC calls to all of the methods defined in\n * this service.\n */\nexports.ALL_SCOPES = [];\n/**\n * Manages long-running operations with an API service.\n *\n * When an API method normally takes long time to complete, it can be designed\n * to return {@link Operation} to the client, and the client can use this\n * interface to receive the real response asynchronously by polling the\n * operation resource, or pass the operation resource to another API (such as\n * Google Cloud Pub/Sub API) to receive the response.  Any API service that\n * returns long-running operations should implement the `Operations` interface\n * so developers can have a consistent client experience.\n *\n * This will be created through a builder function which can be obtained by the\n * module. See the following example of how to initialize the module and how to\n * access to the builder.\n * @see {@link operationsClient}\n *\n * @class\n */\nclass OperationsClient {\n    constructor(gaxGrpc, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    operationsProtos, options) {\n        const opts = Object.assign({\n            servicePath: exports.SERVICE_ADDRESS,\n            port: DEFAULT_SERVICE_PORT,\n            clientConfig: {},\n        }, options);\n        const googleApiClient = ['gl-node/' + process.versions.node];\n        if (opts.libName && opts.libVersion) {\n            googleApiClient.push(opts.libName + '/' + opts.libVersion);\n        }\n        googleApiClient.push(CODE_GEN_NAME_VERSION, 'gax/' + version);\n        if (opts.fallback) {\n            googleApiClient.push('gl-web/' + version);\n        }\n        else {\n            googleApiClient.push('grpc/' + gaxGrpc.grpcVersion);\n        }\n        const defaults = gaxGrpc.constructSettings('google.longrunning.Operations', configData, opts.clientConfig || {}, { 'x-goog-api-client': googleApiClient.join(' ') });\n        this.auth = gaxGrpc.auth;\n        // Set up a dictionary of \"inner API calls\"; the core implementation\n        // of calling the API is handled in `google-gax`, with this code\n        // merely providing the destination and request information.\n        this.innerApiCalls = {};\n        this.descriptor = {\n            listOperations: new descriptor_1.PageDescriptor('pageToken', 'nextPageToken', 'operations'),\n        };\n        // Put together the \"service stub\" for\n        // google.longrunning.Operations.\n        this.operationsStub = gaxGrpc.createStub(opts.fallback\n            ? operationsProtos.lookupService('google.longrunning.Operations')\n            : operationsProtos.google.longrunning.Operations, opts);\n        const operationsStubMethods = [\n            'getOperation',\n            'listOperations',\n            'cancelOperation',\n            'deleteOperation',\n        ];\n        for (const methodName of operationsStubMethods) {\n            const innerCallPromise = this.operationsStub.then(stub => (...args) => {\n                const func = stub[methodName];\n                return func.apply(stub, args);\n            }, err => () => {\n                throw err;\n            });\n            this.innerApiCalls[methodName] = (0, createApiCall_1.createApiCall)(innerCallPromise, defaults[methodName], this.descriptor[methodName]);\n        }\n    }\n    /** Closes this operations client. */\n    close() {\n        this.operationsStub.then(stub => stub.close());\n    }\n    getProjectId(callback) {\n        if (this.auth && 'getProjectId' in this.auth) {\n            return this.auth.getProjectId(callback);\n        }\n        if (callback) {\n            callback(new Error('Cannot determine project ID.'));\n        }\n        else {\n            return Promise.reject('Cannot determine project ID.');\n        }\n    }\n    // Service calls\n    getOperationInternal(request, options, callback) {\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.getOperation(request, options, callback);\n    }\n    /**\n     * Gets the latest state of a long-running operation.  Clients can use this\n     * method to poll the operation result at intervals as recommended by the API\n     * service.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation resource.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     *   e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     *   https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     *   details.\n     * @param {function(?Error, ?Object)=} callback\n     *   The function which will be called with the result of the API call.\n     *\n     *   The second parameter to the callback is an object representing\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     * @return {Promise} - The promise which resolves to an array.\n     *   The first element of the array is an object representing\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}. The promise has a method named\n     * \"cancel\" which cancels the ongoing API call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * const name = '';\n     * const [response] = await client.getOperation({name});\n     * // doThingsWith(response)\n     */\n    getOperation(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.getOperation(request, options, callback);\n    }\n    /**\n     * Lists operations that match the specified filter in the request. If the\n     * server doesn't support this method, it returns `UNIMPLEMENTED`.\n     *\n     * NOTE: the `name` binding below allows API services to override the binding\n     * to use different resource name schemes.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation collection.\n     * @param {string} request.filter - The standard list filter.\n     * @param {number=} request.pageSize\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error, ?Array, ?Object, ?Object)=} callback\n     *   The function which will be called with the result of the API call.\n     *\n     *   The second parameter to the callback is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     *\n     *   When autoPaginate: false is specified through options, it contains the\n     * result in a single response. If the response indicates the next page\n     * exists, the third parameter is set to be used for the next request object.\n     * The fourth parameter keeps the raw response object of an object\n     * representing [google.longrunning.ListOperationsResponse]{@link\n     * external:\"google.longrunning.ListOperationsResponse\"}.\n     * @return {Promise} - The promise which resolves to an array.\n     *   The first element of the array is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     *\n     *   When autoPaginate: false is specified through options, the array has\n     * three elements. The first element is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"} in a single response. The second\n     * element is the next request object if the response indicates the next page\n     * exists, or null. The third element is an object representing\n     * [google.longrunning.ListOperationsResponse]{@link\n     * external:\"google.longrunning.ListOperationsResponse\"}.\n     *\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * const request = {\n     *     name: '',\n     *     filter: ''\n     * };\n     * // Iterate over all elements.\n     * const [resources] = await client.listOperations(request);\n     * for (const resource of resources) {\n     *   console.log(resources);\n     * }\n     *\n     * // Or obtain the paged response.\n     * const options = {autoPaginate: false};\n     * let nextRequest = request;\n     * while(nextRequest) {\n     *   const response = await client.listOperations(nextRequest, options);\n     *   const resources = response[0];\n     *   nextRequest = response[1];\n     *   const rawResponse = response[2];\n     *   for (const resource of resources) {\n     *     // doThingsWith(resource);\n     *   }\n     * };\n     */\n    listOperations(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.listOperations(request, options, callback);\n    }\n    /**\n     * Equivalent to {@link listOperations}, but returns a NodeJS Stream object.\n     *\n     * This fetches the paged responses for {@link listOperations} continuously\n     * and invokes the callback registered for 'data' event for each element in\n     * the responses.\n     *\n     * The returned object has 'end' method when no more elements are required.\n     *\n     * autoPaginate option will be ignored.\n     *\n     * @see {@link https://nodejs.org/api/stream.html}\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation collection.\n     * @param {string} request.filter - The standard list filter.\n     * @param {number=} request.pageSize -\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     *   e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     *   https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     *   details.\n     * @return {Stream} - An object stream which emits an object representing [google.longrunning.Operation]{@link external:\"google.longrunning.Operation\"} on 'data' event.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * const request = {\n     *   name: '',\n     *   filter: ''\n     * };\n     * client.listOperationsStream(request)\n     *   .on('data', element => {\n     *     // doThingsWith(element)\n     *   })\n     *   .on('error', err => {\n     *     console.error(err);\n     *   });\n     */\n    listOperationsStream(request, options) {\n        const callSettings = new gax.CallSettings(options);\n        return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations, request, callSettings);\n    }\n    /**\n     * Equivalent to {@link listOperations}, but returns an iterable object.\n     *\n     * for-await-of syntax is used with the iterable to recursively get response element on-demand.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation collection.\n     * @param {string} request.filter - The standard list filter.\n     * @param {number=} request.pageSize -\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     *   e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     *   https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     *   details.\n     * @returns {Object}\n     *   An iterable Object that conforms to @link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols.\n     */\n    listOperationsAsync(request, options) {\n        request = request || {};\n        options = options || {};\n        const callSettings = new gax.CallSettings(options);\n        return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations, request, callSettings);\n    }\n    /**\n     * Starts asynchronous cancellation on a long-running operation.  The server\n     * makes a best effort to cancel the operation, but success is not\n     * guaranteed.  If the server doesn't support this method, it returns\n     * `google.rpc.Code.UNIMPLEMENTED`.  Clients can use\n     * {@link Operations.GetOperation} or\n     * other methods to check whether the cancellation succeeded or whether the\n     * operation completed despite cancellation. On successful cancellation,\n     * the operation is not deleted; instead, it becomes an operation with\n     * an {@link Operation.error} value with a {@link google.rpc.Status.code} of\n     * 1, corresponding to `Code.CANCELLED`.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation resource to be cancelled.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error)=} callback\n     *   The function which will be called with the result of the API call.\n     * @return {Promise} - The promise which resolves when API call finishes.\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * await client.cancelOperation({name: ''});\n     */\n    cancelOperation(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.cancelOperation(request, options, callback);\n    }\n    /**\n     * Deletes a long-running operation. This method indicates that the client is\n     * no longer interested in the operation result. It does not cancel the\n     * operation. If the server doesn't support this method, it returns\n     * `google.rpc.Code.UNIMPLEMENTED`.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation resource to be deleted.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error)=} callback\n     *   The function which will be called with the result of the API call.\n     * @return {Promise} - The promise which resolves when API call finishes.\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * await client.deleteOperation({name: ''});\n     */\n    deleteOperation(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.deleteOperation(request, options, callback);\n    }\n}\nexports.OperationsClient = OperationsClient;\nclass OperationsClientBuilder {\n    /**\n     * Builds a new Operations Client\n     * @param gaxGrpc {GrpcClient}\n     */\n    constructor(gaxGrpc, protoJson) {\n        if (protoJson && gaxGrpc.httpRules) {\n            // overwrite the http rules if provide in service yaml.\n            (0, transcoding_1.overrideHttpRules)(gaxGrpc.httpRules, protoJson);\n        }\n        const operationsProtos = protoJson !== null && protoJson !== void 0 ? protoJson : gaxGrpc.loadProtoJSON(operationProtoJson);\n        /**\n         * Build a new instance of {@link OperationsClient}.\n         *\n         * @param {Object=} opts - The optional parameters.\n         * @param {String=} opts.servicePath - Domain name of the API remote host.\n         * @param {number=} opts.port - The port on which to connect to the remote host.\n         * @param {grpc.ClientCredentials=} opts.sslCreds - A ClientCredentials for use with an SSL-enabled channel.\n         * @param {Object=} opts.clientConfig - The customized config to build the call settings. See {@link gax.constructSettings} for the format.\n         */\n        this.operationsClient = opts => {\n            if (gaxGrpc.fallback) {\n                opts.fallback = gaxGrpc.fallback;\n            }\n            return new OperationsClient(gaxGrpc, operationsProtos, opts);\n        };\n        Object.assign(this.operationsClient, OperationsClient);\n    }\n}\nexports.OperationsClientBuilder = OperationsClientBuilder;\n//# sourceMappingURL=operationsClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9vcGVyYXRpb25zQ2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQixHQUFHLHdCQUF3QixHQUFHLGtCQUFrQixHQUFHLHVCQUF1QjtBQUN6Ryx3QkFBd0IsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDakQscUJBQXFCLG1CQUFPLENBQUMsd0ZBQWM7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDBFQUFPO0FBQzNCLG1CQUFtQixtQkFBTyxDQUFDLDJIQUFpQztBQUM1RCwyQkFBMkIsbUJBQU8sQ0FBQywwR0FBMkI7QUFDOUQsc0JBQXNCLG1CQUFPLENBQUMsMEZBQWU7QUFDN0MsdUJBQXVCO0FBQ3ZCLGdCQUFnQixrSEFBcUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUhBQXVILElBQUksZ0RBQWdEO0FBQzNLO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEI7QUFDQSx3RUFBd0U7QUFDeEUsMEVBQTBFO0FBQzFFO0FBQ0EsZUFBZSw0QkFBNEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLCtDQUErQztBQUMvQyxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBLHNDQUFzQztBQUN0QywrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELEtBQUs7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBLHNFQUFzRTtBQUN0RSx3RUFBd0U7QUFDeEU7QUFDQSxlQUFlLDZDQUE2QztBQUM1RDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEUsNERBQTREO0FBQzVELGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0Esc0NBQXNDO0FBQ3RDLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxQkFBcUI7QUFDM0M7QUFDQSw2Q0FBNkMsc0JBQXNCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQSx3RUFBd0U7QUFDeEUsMEVBQTBFO0FBQzFFO0FBQ0EsZ0JBQWdCLFFBQVEscUZBQXFGLCtDQUErQztBQUM1SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHFCQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBLHdFQUF3RTtBQUN4RSwwRUFBMEU7QUFDMUU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtCQUErQjtBQUN2QztBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLFdBQVcsdUJBQXVCLGNBQWMsOEJBQThCO0FBQzlFO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QjtBQUNBLHNFQUFzRTtBQUN0RSx3RUFBd0U7QUFDeEU7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxTQUFTO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QjtBQUNBLHNFQUFzRTtBQUN0RSx3RUFBd0U7QUFDeEU7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxTQUFTO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx1QkFBdUI7QUFDM0Q7QUFDQSxtQkFBbUIsU0FBUztBQUM1QixtQkFBbUIsU0FBUztBQUM1QixtQkFBbUIsU0FBUztBQUM1QixtQkFBbUIseUJBQXlCO0FBQzVDLG1CQUFtQixTQUFTLDJFQUEyRSw2QkFBNkI7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9vcGVyYXRpb25zQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcGVyYXRpb25zQ2xpZW50QnVpbGRlciA9IGV4cG9ydHMuT3BlcmF0aW9uc0NsaWVudCA9IGV4cG9ydHMuQUxMX1NDT1BFUyA9IGV4cG9ydHMuU0VSVklDRV9BRERSRVNTID0gdm9pZCAwO1xuY29uc3QgY3JlYXRlQXBpQ2FsbF8xID0gcmVxdWlyZShcIi4vY3JlYXRlQXBpQ2FsbFwiKTtcbmNvbnN0IGRlc2NyaXB0b3JfMSA9IHJlcXVpcmUoXCIuL2Rlc2NyaXB0b3JcIik7XG5jb25zdCBnYXggPSByZXF1aXJlKFwiLi9nYXhcIik7XG5jb25zdCBjb25maWdEYXRhID0gcmVxdWlyZShcIi4vb3BlcmF0aW9uc19jbGllbnRfY29uZmlnLmpzb25cIik7XG5jb25zdCBvcGVyYXRpb25Qcm90b0pzb24gPSByZXF1aXJlKFwiLi4vcHJvdG9zL29wZXJhdGlvbnMuanNvblwiKTtcbmNvbnN0IHRyYW5zY29kaW5nXzEgPSByZXF1aXJlKFwiLi90cmFuc2NvZGluZ1wiKTtcbmV4cG9ydHMuU0VSVklDRV9BRERSRVNTID0gJ2xvbmdydW5uaW5nLmdvb2dsZWFwaXMuY29tJztcbmNvbnN0IHZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuY29uc3QgREVGQVVMVF9TRVJWSUNFX1BPUlQgPSA0NDM7XG5jb25zdCBDT0RFX0dFTl9OQU1FX1ZFUlNJT04gPSAnZ2FwaWMvMC43LjEnO1xuLyoqXG4gKiBUaGUgc2NvcGVzIG5lZWRlZCB0byBtYWtlIGdSUEMgY2FsbHMgdG8gYWxsIG9mIHRoZSBtZXRob2RzIGRlZmluZWQgaW5cbiAqIHRoaXMgc2VydmljZS5cbiAqL1xuZXhwb3J0cy5BTExfU0NPUEVTID0gW107XG4vKipcbiAqIE1hbmFnZXMgbG9uZy1ydW5uaW5nIG9wZXJhdGlvbnMgd2l0aCBhbiBBUEkgc2VydmljZS5cbiAqXG4gKiBXaGVuIGFuIEFQSSBtZXRob2Qgbm9ybWFsbHkgdGFrZXMgbG9uZyB0aW1lIHRvIGNvbXBsZXRlLCBpdCBjYW4gYmUgZGVzaWduZWRcbiAqIHRvIHJldHVybiB7QGxpbmsgT3BlcmF0aW9ufSB0byB0aGUgY2xpZW50LCBhbmQgdGhlIGNsaWVudCBjYW4gdXNlIHRoaXNcbiAqIGludGVyZmFjZSB0byByZWNlaXZlIHRoZSByZWFsIHJlc3BvbnNlIGFzeW5jaHJvbm91c2x5IGJ5IHBvbGxpbmcgdGhlXG4gKiBvcGVyYXRpb24gcmVzb3VyY2UsIG9yIHBhc3MgdGhlIG9wZXJhdGlvbiByZXNvdXJjZSB0byBhbm90aGVyIEFQSSAoc3VjaCBhc1xuICogR29vZ2xlIENsb3VkIFB1Yi9TdWIgQVBJKSB0byByZWNlaXZlIHRoZSByZXNwb25zZS4gIEFueSBBUEkgc2VydmljZSB0aGF0XG4gKiByZXR1cm5zIGxvbmctcnVubmluZyBvcGVyYXRpb25zIHNob3VsZCBpbXBsZW1lbnQgdGhlIGBPcGVyYXRpb25zYCBpbnRlcmZhY2VcbiAqIHNvIGRldmVsb3BlcnMgY2FuIGhhdmUgYSBjb25zaXN0ZW50IGNsaWVudCBleHBlcmllbmNlLlxuICpcbiAqIFRoaXMgd2lsbCBiZSBjcmVhdGVkIHRocm91Z2ggYSBidWlsZGVyIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBvYnRhaW5lZCBieSB0aGVcbiAqIG1vZHVsZS4gU2VlIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBvZiBob3cgdG8gaW5pdGlhbGl6ZSB0aGUgbW9kdWxlIGFuZCBob3cgdG9cbiAqIGFjY2VzcyB0byB0aGUgYnVpbGRlci5cbiAqIEBzZWUge0BsaW5rIG9wZXJhdGlvbnNDbGllbnR9XG4gKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIE9wZXJhdGlvbnNDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGdheEdycGMsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb3BlcmF0aW9uc1Byb3Rvcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzZXJ2aWNlUGF0aDogZXhwb3J0cy5TRVJWSUNFX0FERFJFU1MsXG4gICAgICAgICAgICBwb3J0OiBERUZBVUxUX1NFUlZJQ0VfUE9SVCxcbiAgICAgICAgICAgIGNsaWVudENvbmZpZzoge30sXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBnb29nbGVBcGlDbGllbnQgPSBbJ2dsLW5vZGUvJyArIHByb2Nlc3MudmVyc2lvbnMubm9kZV07XG4gICAgICAgIGlmIChvcHRzLmxpYk5hbWUgJiYgb3B0cy5saWJWZXJzaW9uKSB7XG4gICAgICAgICAgICBnb29nbGVBcGlDbGllbnQucHVzaChvcHRzLmxpYk5hbWUgKyAnLycgKyBvcHRzLmxpYlZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGdvb2dsZUFwaUNsaWVudC5wdXNoKENPREVfR0VOX05BTUVfVkVSU0lPTiwgJ2dheC8nICsgdmVyc2lvbik7XG4gICAgICAgIGlmIChvcHRzLmZhbGxiYWNrKSB7XG4gICAgICAgICAgICBnb29nbGVBcGlDbGllbnQucHVzaCgnZ2wtd2ViLycgKyB2ZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdvb2dsZUFwaUNsaWVudC5wdXNoKCdncnBjLycgKyBnYXhHcnBjLmdycGNWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IGdheEdycGMuY29uc3RydWN0U2V0dGluZ3MoJ2dvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25zJywgY29uZmlnRGF0YSwgb3B0cy5jbGllbnRDb25maWcgfHwge30sIHsgJ3gtZ29vZy1hcGktY2xpZW50JzogZ29vZ2xlQXBpQ2xpZW50LmpvaW4oJyAnKSB9KTtcbiAgICAgICAgdGhpcy5hdXRoID0gZ2F4R3JwYy5hdXRoO1xuICAgICAgICAvLyBTZXQgdXAgYSBkaWN0aW9uYXJ5IG9mIFwiaW5uZXIgQVBJIGNhbGxzXCI7IHRoZSBjb3JlIGltcGxlbWVudGF0aW9uXG4gICAgICAgIC8vIG9mIGNhbGxpbmcgdGhlIEFQSSBpcyBoYW5kbGVkIGluIGBnb29nbGUtZ2F4YCwgd2l0aCB0aGlzIGNvZGVcbiAgICAgICAgLy8gbWVyZWx5IHByb3ZpZGluZyB0aGUgZGVzdGluYXRpb24gYW5kIHJlcXVlc3QgaW5mb3JtYXRpb24uXG4gICAgICAgIHRoaXMuaW5uZXJBcGlDYWxscyA9IHt9O1xuICAgICAgICB0aGlzLmRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBsaXN0T3BlcmF0aW9uczogbmV3IGRlc2NyaXB0b3JfMS5QYWdlRGVzY3JpcHRvcigncGFnZVRva2VuJywgJ25leHRQYWdlVG9rZW4nLCAnb3BlcmF0aW9ucycpLFxuICAgICAgICB9O1xuICAgICAgICAvLyBQdXQgdG9nZXRoZXIgdGhlIFwic2VydmljZSBzdHViXCIgZm9yXG4gICAgICAgIC8vIGdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25zLlxuICAgICAgICB0aGlzLm9wZXJhdGlvbnNTdHViID0gZ2F4R3JwYy5jcmVhdGVTdHViKG9wdHMuZmFsbGJhY2tcbiAgICAgICAgICAgID8gb3BlcmF0aW9uc1Byb3Rvcy5sb29rdXBTZXJ2aWNlKCdnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9ucycpXG4gICAgICAgICAgICA6IG9wZXJhdGlvbnNQcm90b3MuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbnMsIG9wdHMpO1xuICAgICAgICBjb25zdCBvcGVyYXRpb25zU3R1Yk1ldGhvZHMgPSBbXG4gICAgICAgICAgICAnZ2V0T3BlcmF0aW9uJyxcbiAgICAgICAgICAgICdsaXN0T3BlcmF0aW9ucycsXG4gICAgICAgICAgICAnY2FuY2VsT3BlcmF0aW9uJyxcbiAgICAgICAgICAgICdkZWxldGVPcGVyYXRpb24nLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGNvbnN0IG1ldGhvZE5hbWUgb2Ygb3BlcmF0aW9uc1N0dWJNZXRob2RzKSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lckNhbGxQcm9taXNlID0gdGhpcy5vcGVyYXRpb25zU3R1Yi50aGVuKHN0dWIgPT4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdW5jID0gc3R1YlttZXRob2ROYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShzdHViLCBhcmdzKTtcbiAgICAgICAgICAgIH0sIGVyciA9PiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmlubmVyQXBpQ2FsbHNbbWV0aG9kTmFtZV0gPSAoMCwgY3JlYXRlQXBpQ2FsbF8xLmNyZWF0ZUFwaUNhbGwpKGlubmVyQ2FsbFByb21pc2UsIGRlZmF1bHRzW21ldGhvZE5hbWVdLCB0aGlzLmRlc2NyaXB0b3JbbWV0aG9kTmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBDbG9zZXMgdGhpcyBvcGVyYXRpb25zIGNsaWVudC4gKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5vcGVyYXRpb25zU3R1Yi50aGVuKHN0dWIgPT4gc3R1Yi5jbG9zZSgpKTtcbiAgICB9XG4gICAgZ2V0UHJvamVjdElkKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dGggJiYgJ2dldFByb2plY3RJZCcgaW4gdGhpcy5hdXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmdldFByb2plY3RJZChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0Nhbm5vdCBkZXRlcm1pbmUgcHJvamVjdCBJRC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0Nhbm5vdCBkZXRlcm1pbmUgcHJvamVjdCBJRC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTZXJ2aWNlIGNhbGxzXG4gICAgZ2V0T3BlcmF0aW9uSW50ZXJuYWwocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLmdldE9wZXJhdGlvbihyZXF1ZXN0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhdGVzdCBzdGF0ZSBvZiBhIGxvbmctcnVubmluZyBvcGVyYXRpb24uICBDbGllbnRzIGNhbiB1c2UgdGhpc1xuICAgICAqIG1ldGhvZCB0byBwb2xsIHRoZSBvcGVyYXRpb24gcmVzdWx0IGF0IGludGVydmFscyBhcyByZWNvbW1lbmRlZCBieSB0aGUgQVBJXG4gICAgICogc2VydmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0IC0gVGhlIHJlcXVlc3Qgb2JqZWN0IHRoYXQgd2lsbCBiZSBzZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0Lm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgb3BlcmF0aW9uIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1xuICAgICAqICAgT3B0aW9uYWwgcGFyYW1ldGVycy4gWW91IGNhbiBvdmVycmlkZSB0aGUgZGVmYXVsdCBzZXR0aW5ncyBmb3IgdGhpcyBjYWxsLFxuICAgICAqICAgZS5nLCB0aW1lb3V0LCByZXRyaWVzLCBwYWdpbmF0aW9ucywgZXRjLiBTZWUgW2dheC5DYWxsT3B0aW9uc117QGxpbmtcbiAgICAgKiAgIGh0dHBzOi8vZ29vZ2xlYXBpcy5naXRodWIuaW8vZ2F4LW5vZGVqcy9nbG9iYWwuaHRtbCNDYWxsT3B0aW9uc30gZm9yIHRoZVxuICAgICAqICAgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD9FcnJvciwgP09iamVjdCk9fSBjYWxsYmFja1xuICAgICAqICAgVGhlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgQVBJIGNhbGwuXG4gICAgICpcbiAgICAgKiAgIFRoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIHRoZSBjYWxsYmFjayBpcyBhbiBvYmplY3QgcmVwcmVzZW50aW5nXG4gICAgICogW2dvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25de0BsaW5rXG4gICAgICogZXh0ZXJuYWw6XCJnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXCJ9LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gVGhlIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYW4gYXJyYXkuXG4gICAgICogICBUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkgaXMgYW4gb2JqZWN0IHJlcHJlc2VudGluZ1xuICAgICAqIFtnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXXtAbGlua1xuICAgICAqIGV4dGVybmFsOlwiZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvblwifS4gVGhlIHByb21pc2UgaGFzIGEgbWV0aG9kIG5hbWVkXG4gICAgICogXCJjYW5jZWxcIiB3aGljaCBjYW5jZWxzIHRoZSBvbmdvaW5nIEFQSSBjYWxsLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGNsaWVudCA9IGxvbmdydW5uaW5nLm9wZXJhdGlvbnNDbGllbnQoKTtcbiAgICAgKiBjb25zdCBuYW1lID0gJyc7XG4gICAgICogY29uc3QgW3Jlc3BvbnNlXSA9IGF3YWl0IGNsaWVudC5nZXRPcGVyYXRpb24oe25hbWV9KTtcbiAgICAgKiAvLyBkb1RoaW5nc1dpdGgocmVzcG9uc2UpXG4gICAgICovXG4gICAgZ2V0T3BlcmF0aW9uKHJlcXVlc3QsIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnNPckNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyQXBpQ2FsbHMuZ2V0T3BlcmF0aW9uKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdHMgb3BlcmF0aW9ucyB0aGF0IG1hdGNoIHRoZSBzcGVjaWZpZWQgZmlsdGVyIGluIHRoZSByZXF1ZXN0LiBJZiB0aGVcbiAgICAgKiBzZXJ2ZXIgZG9lc24ndCBzdXBwb3J0IHRoaXMgbWV0aG9kLCBpdCByZXR1cm5zIGBVTklNUExFTUVOVEVEYC5cbiAgICAgKlxuICAgICAqIE5PVEU6IHRoZSBgbmFtZWAgYmluZGluZyBiZWxvdyBhbGxvd3MgQVBJIHNlcnZpY2VzIHRvIG92ZXJyaWRlIHRoZSBiaW5kaW5nXG4gICAgICogdG8gdXNlIGRpZmZlcmVudCByZXNvdXJjZSBuYW1lIHNjaGVtZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdpbGwgYmUgc2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvbiBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0LmZpbHRlciAtIFRoZSBzdGFuZGFyZCBsaXN0IGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IHJlcXVlc3QucGFnZVNpemVcbiAgICAgKiAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXNvdXJjZXMgY29udGFpbmVkIGluIHRoZSB1bmRlcmx5aW5nIEFQSVxuICAgICAqICAgcmVzcG9uc2UuIElmIHBhZ2Ugc3RyZWFtaW5nIGlzIHBlcmZvcm1lZCBwZXItcmVzb3VyY2UsIHRoaXNcbiAgICAgKiAgIHBhcmFtZXRlciBkb2VzIG5vdCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZS4gSWYgcGFnZSBzdHJlYW1pbmcgaXNcbiAgICAgKiAgIHBlcmZvcm1lZCBwZXItcGFnZSwgdGhpcyBkZXRlcm1pbmVzIHRoZSBtYXhpbXVtIG51bWJlciBvZlxuICAgICAqICAgcmVzb3VyY2VzIGluIGEgcGFnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAgICAgKiAgIE9wdGlvbmFsIHBhcmFtZXRlcnMuIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoaXMgY2FsbCxcbiAgICAgKiBlLmcsIHRpbWVvdXQsIHJldHJpZXMsIHBhZ2luYXRpb25zLCBldGMuIFNlZSBbZ2F4LkNhbGxPcHRpb25zXXtAbGlua1xuICAgICAqIGh0dHBzOi8vZ29vZ2xlYXBpcy5naXRodWIuaW8vZ2F4LW5vZGVqcy9nbG9iYWwuaHRtbCNDYWxsT3B0aW9uc30gZm9yIHRoZVxuICAgICAqIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbig/RXJyb3IsID9BcnJheSwgP09iamVjdCwgP09iamVjdCk9fSBjYWxsYmFja1xuICAgICAqICAgVGhlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgQVBJIGNhbGwuXG4gICAgICpcbiAgICAgKiAgIFRoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIHRoZSBjYWxsYmFjayBpcyBBcnJheSBvZlxuICAgICAqIFtnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXXtAbGlua1xuICAgICAqIGV4dGVybmFsOlwiZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvblwifS5cbiAgICAgKlxuICAgICAqICAgV2hlbiBhdXRvUGFnaW5hdGU6IGZhbHNlIGlzIHNwZWNpZmllZCB0aHJvdWdoIG9wdGlvbnMsIGl0IGNvbnRhaW5zIHRoZVxuICAgICAqIHJlc3VsdCBpbiBhIHNpbmdsZSByZXNwb25zZS4gSWYgdGhlIHJlc3BvbnNlIGluZGljYXRlcyB0aGUgbmV4dCBwYWdlXG4gICAgICogZXhpc3RzLCB0aGUgdGhpcmQgcGFyYW1ldGVyIGlzIHNldCB0byBiZSB1c2VkIGZvciB0aGUgbmV4dCByZXF1ZXN0IG9iamVjdC5cbiAgICAgKiBUaGUgZm91cnRoIHBhcmFtZXRlciBrZWVwcyB0aGUgcmF3IHJlc3BvbnNlIG9iamVjdCBvZiBhbiBvYmplY3RcbiAgICAgKiByZXByZXNlbnRpbmcgW2dvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlXXtAbGlua1xuICAgICAqIGV4dGVybmFsOlwiZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVzcG9uc2VcIn0uXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gLSBUaGUgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBhbiBhcnJheS5cbiAgICAgKiAgIFRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBhcnJheSBpcyBBcnJheSBvZlxuICAgICAqIFtnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXXtAbGlua1xuICAgICAqIGV4dGVybmFsOlwiZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvblwifS5cbiAgICAgKlxuICAgICAqICAgV2hlbiBhdXRvUGFnaW5hdGU6IGZhbHNlIGlzIHNwZWNpZmllZCB0aHJvdWdoIG9wdGlvbnMsIHRoZSBhcnJheSBoYXNcbiAgICAgKiB0aHJlZSBlbGVtZW50cy4gVGhlIGZpcnN0IGVsZW1lbnQgaXMgQXJyYXkgb2ZcbiAgICAgKiBbZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbl17QGxpbmtcbiAgICAgKiBleHRlcm5hbDpcImdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25cIn0gaW4gYSBzaW5nbGUgcmVzcG9uc2UuIFRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGlzIHRoZSBuZXh0IHJlcXVlc3Qgb2JqZWN0IGlmIHRoZSByZXNwb25zZSBpbmRpY2F0ZXMgdGhlIG5leHQgcGFnZVxuICAgICAqIGV4aXN0cywgb3IgbnVsbC4gVGhlIHRoaXJkIGVsZW1lbnQgaXMgYW4gb2JqZWN0IHJlcHJlc2VudGluZ1xuICAgICAqIFtnb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXNwb25zZV17QGxpbmtcbiAgICAgKiBleHRlcm5hbDpcImdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlXCJ9LlxuICAgICAqXG4gICAgICogICBUaGUgcHJvbWlzZSBoYXMgYSBtZXRob2QgbmFtZWQgXCJjYW5jZWxcIiB3aGljaCBjYW5jZWxzIHRoZSBvbmdvaW5nIEFQSVxuICAgICAqIGNhbGwuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogY29uc3QgY2xpZW50ID0gbG9uZ3J1bm5pbmcub3BlcmF0aW9uc0NsaWVudCgpO1xuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICAgIG5hbWU6ICcnLFxuICAgICAqICAgICBmaWx0ZXI6ICcnXG4gICAgICogfTtcbiAgICAgKiAvLyBJdGVyYXRlIG92ZXIgYWxsIGVsZW1lbnRzLlxuICAgICAqIGNvbnN0IFtyZXNvdXJjZXNdID0gYXdhaXQgY2xpZW50Lmxpc3RPcGVyYXRpb25zKHJlcXVlc3QpO1xuICAgICAqIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgcmVzb3VyY2VzKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhyZXNvdXJjZXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIC8vIE9yIG9idGFpbiB0aGUgcGFnZWQgcmVzcG9uc2UuXG4gICAgICogY29uc3Qgb3B0aW9ucyA9IHthdXRvUGFnaW5hdGU6IGZhbHNlfTtcbiAgICAgKiBsZXQgbmV4dFJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAqIHdoaWxlKG5leHRSZXF1ZXN0KSB7XG4gICAgICogICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5saXN0T3BlcmF0aW9ucyhuZXh0UmVxdWVzdCwgb3B0aW9ucyk7XG4gICAgICogICBjb25zdCByZXNvdXJjZXMgPSByZXNwb25zZVswXTtcbiAgICAgKiAgIG5leHRSZXF1ZXN0ID0gcmVzcG9uc2VbMV07XG4gICAgICogICBjb25zdCByYXdSZXNwb25zZSA9IHJlc3BvbnNlWzJdO1xuICAgICAqICAgZm9yIChjb25zdCByZXNvdXJjZSBvZiByZXNvdXJjZXMpIHtcbiAgICAgKiAgICAgLy8gZG9UaGluZ3NXaXRoKHJlc291cmNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqL1xuICAgIGxpc3RPcGVyYXRpb25zKHJlcXVlc3QsIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnNPckNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyQXBpQ2FsbHMubGlzdE9wZXJhdGlvbnMocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBsaXN0T3BlcmF0aW9uc30sIGJ1dCByZXR1cm5zIGEgTm9kZUpTIFN0cmVhbSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBUaGlzIGZldGNoZXMgdGhlIHBhZ2VkIHJlc3BvbnNlcyBmb3Ige0BsaW5rIGxpc3RPcGVyYXRpb25zfSBjb250aW51b3VzbHlcbiAgICAgKiBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgcmVnaXN0ZXJlZCBmb3IgJ2RhdGEnIGV2ZW50IGZvciBlYWNoIGVsZW1lbnQgaW5cbiAgICAgKiB0aGUgcmVzcG9uc2VzLlxuICAgICAqXG4gICAgICogVGhlIHJldHVybmVkIG9iamVjdCBoYXMgJ2VuZCcgbWV0aG9kIHdoZW4gbm8gbW9yZSBlbGVtZW50cyBhcmUgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiBhdXRvUGFnaW5hdGUgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvc3RyZWFtLmh0bWx9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdpbGwgYmUgc2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvbiBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0LmZpbHRlciAtIFRoZSBzdGFuZGFyZCBsaXN0IGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IHJlcXVlc3QucGFnZVNpemUgLVxuICAgICAqICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBjb250YWluZWQgaW4gdGhlIHVuZGVybHlpbmcgQVBJXG4gICAgICogICByZXNwb25zZS4gSWYgcGFnZSBzdHJlYW1pbmcgaXMgcGVyZm9ybWVkIHBlci1yZXNvdXJjZSwgdGhpc1xuICAgICAqICAgcGFyYW1ldGVyIGRvZXMgbm90IGFmZmVjdCB0aGUgcmV0dXJuIHZhbHVlLiBJZiBwYWdlIHN0cmVhbWluZyBpc1xuICAgICAqICAgcGVyZm9ybWVkIHBlci1wYWdlLCB0aGlzIGRldGVybWluZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mXG4gICAgICogICByZXNvdXJjZXMgaW4gYSBwYWdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1xuICAgICAqICAgT3B0aW9uYWwgcGFyYW1ldGVycy4gWW91IGNhbiBvdmVycmlkZSB0aGUgZGVmYXVsdCBzZXR0aW5ncyBmb3IgdGhpcyBjYWxsLFxuICAgICAqICAgZS5nLCB0aW1lb3V0LCByZXRyaWVzLCBwYWdpbmF0aW9ucywgZXRjLiBTZWUgW2dheC5DYWxsT3B0aW9uc117QGxpbmtcbiAgICAgKiAgIGh0dHBzOi8vZ29vZ2xlYXBpcy5naXRodWIuaW8vZ2F4LW5vZGVqcy9nbG9iYWwuaHRtbCNDYWxsT3B0aW9uc30gZm9yIHRoZVxuICAgICAqICAgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJuIHtTdHJlYW19IC0gQW4gb2JqZWN0IHN0cmVhbSB3aGljaCBlbWl0cyBhbiBvYmplY3QgcmVwcmVzZW50aW5nIFtnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXXtAbGluayBleHRlcm5hbDpcImdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25cIn0gb24gJ2RhdGEnIGV2ZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGNsaWVudCA9IGxvbmdydW5uaW5nLm9wZXJhdGlvbnNDbGllbnQoKTtcbiAgICAgKiBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAqICAgbmFtZTogJycsXG4gICAgICogICBmaWx0ZXI6ICcnXG4gICAgICogfTtcbiAgICAgKiBjbGllbnQubGlzdE9wZXJhdGlvbnNTdHJlYW0ocmVxdWVzdClcbiAgICAgKiAgIC5vbignZGF0YScsIGVsZW1lbnQgPT4ge1xuICAgICAqICAgICAvLyBkb1RoaW5nc1dpdGgoZWxlbWVudClcbiAgICAgKiAgIH0pXG4gICAgICogICAub24oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAqICAgfSk7XG4gICAgICovXG4gICAgbGlzdE9wZXJhdGlvbnNTdHJlYW0ocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBuZXcgZ2F4LkNhbGxTZXR0aW5ncyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvci5saXN0T3BlcmF0aW9ucy5jcmVhdGVTdHJlYW0odGhpcy5pbm5lckFwaUNhbGxzLmxpc3RPcGVyYXRpb25zLCByZXF1ZXN0LCBjYWxsU2V0dGluZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBsaXN0T3BlcmF0aW9uc30sIGJ1dCByZXR1cm5zIGFuIGl0ZXJhYmxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIGZvci1hd2FpdC1vZiBzeW50YXggaXMgdXNlZCB3aXRoIHRoZSBpdGVyYWJsZSB0byByZWN1cnNpdmVseSBnZXQgcmVzcG9uc2UgZWxlbWVudCBvbi1kZW1hbmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdpbGwgYmUgc2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvbiBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0LmZpbHRlciAtIFRoZSBzdGFuZGFyZCBsaXN0IGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IHJlcXVlc3QucGFnZVNpemUgLVxuICAgICAqICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBjb250YWluZWQgaW4gdGhlIHVuZGVybHlpbmcgQVBJXG4gICAgICogICByZXNwb25zZS4gSWYgcGFnZSBzdHJlYW1pbmcgaXMgcGVyZm9ybWVkIHBlci1yZXNvdXJjZSwgdGhpc1xuICAgICAqICAgcGFyYW1ldGVyIGRvZXMgbm90IGFmZmVjdCB0aGUgcmV0dXJuIHZhbHVlLiBJZiBwYWdlIHN0cmVhbWluZyBpc1xuICAgICAqICAgcGVyZm9ybWVkIHBlci1wYWdlLCB0aGlzIGRldGVybWluZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mXG4gICAgICogICByZXNvdXJjZXMgaW4gYSBwYWdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1xuICAgICAqICAgT3B0aW9uYWwgcGFyYW1ldGVycy4gWW91IGNhbiBvdmVycmlkZSB0aGUgZGVmYXVsdCBzZXR0aW5ncyBmb3IgdGhpcyBjYWxsLFxuICAgICAqICAgZS5nLCB0aW1lb3V0LCByZXRyaWVzLCBwYWdpbmF0aW9ucywgZXRjLiBTZWUgW2dheC5DYWxsT3B0aW9uc117QGxpbmtcbiAgICAgKiAgIGh0dHBzOi8vZ29vZ2xlYXBpcy5naXRodWIuaW8vZ2F4LW5vZGVqcy9nbG9iYWwuaHRtbCNDYWxsT3B0aW9uc30gZm9yIHRoZVxuICAgICAqICAgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqICAgQW4gaXRlcmFibGUgT2JqZWN0IHRoYXQgY29uZm9ybXMgdG8gQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scy5cbiAgICAgKi9cbiAgICBsaXN0T3BlcmF0aW9uc0FzeW5jKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBuZXcgZ2F4LkNhbGxTZXR0aW5ncyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvci5saXN0T3BlcmF0aW9ucy5hc3luY0l0ZXJhdGUodGhpcy5pbm5lckFwaUNhbGxzLmxpc3RPcGVyYXRpb25zLCByZXF1ZXN0LCBjYWxsU2V0dGluZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYXN5bmNocm9ub3VzIGNhbmNlbGxhdGlvbiBvbiBhIGxvbmctcnVubmluZyBvcGVyYXRpb24uICBUaGUgc2VydmVyXG4gICAgICogbWFrZXMgYSBiZXN0IGVmZm9ydCB0byBjYW5jZWwgdGhlIG9wZXJhdGlvbiwgYnV0IHN1Y2Nlc3MgaXMgbm90XG4gICAgICogZ3VhcmFudGVlZC4gIElmIHRoZSBzZXJ2ZXIgZG9lc24ndCBzdXBwb3J0IHRoaXMgbWV0aG9kLCBpdCByZXR1cm5zXG4gICAgICogYGdvb2dsZS5ycGMuQ29kZS5VTklNUExFTUVOVEVEYC4gIENsaWVudHMgY2FuIHVzZVxuICAgICAqIHtAbGluayBPcGVyYXRpb25zLkdldE9wZXJhdGlvbn0gb3JcbiAgICAgKiBvdGhlciBtZXRob2RzIHRvIGNoZWNrIHdoZXRoZXIgdGhlIGNhbmNlbGxhdGlvbiBzdWNjZWVkZWQgb3Igd2hldGhlciB0aGVcbiAgICAgKiBvcGVyYXRpb24gY29tcGxldGVkIGRlc3BpdGUgY2FuY2VsbGF0aW9uLiBPbiBzdWNjZXNzZnVsIGNhbmNlbGxhdGlvbixcbiAgICAgKiB0aGUgb3BlcmF0aW9uIGlzIG5vdCBkZWxldGVkOyBpbnN0ZWFkLCBpdCBiZWNvbWVzIGFuIG9wZXJhdGlvbiB3aXRoXG4gICAgICogYW4ge0BsaW5rIE9wZXJhdGlvbi5lcnJvcn0gdmFsdWUgd2l0aCBhIHtAbGluayBnb29nbGUucnBjLlN0YXR1cy5jb2RlfSBvZlxuICAgICAqIDEsIGNvcnJlc3BvbmRpbmcgdG8gYENvZGUuQ0FOQ0VMTEVEYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0IC0gVGhlIHJlcXVlc3Qgb2JqZWN0IHRoYXQgd2lsbCBiZSBzZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0Lm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgb3BlcmF0aW9uIHJlc291cmNlIHRvIGJlIGNhbmNlbGxlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAgICAgKiAgIE9wdGlvbmFsIHBhcmFtZXRlcnMuIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoaXMgY2FsbCxcbiAgICAgKiBlLmcsIHRpbWVvdXQsIHJldHJpZXMsIHBhZ2luYXRpb25zLCBldGMuIFNlZSBbZ2F4LkNhbGxPcHRpb25zXXtAbGlua1xuICAgICAqIGh0dHBzOi8vZ29vZ2xlYXBpcy5naXRodWIuaW8vZ2F4LW5vZGVqcy9nbG9iYWwuaHRtbCNDYWxsT3B0aW9uc30gZm9yIHRoZVxuICAgICAqIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbig/RXJyb3IpPX0gY2FsbGJhY2tcbiAgICAgKiAgIFRoZSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIEFQSSBjYWxsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gVGhlIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiBBUEkgY2FsbCBmaW5pc2hlcy5cbiAgICAgKiAgIFRoZSBwcm9taXNlIGhhcyBhIG1ldGhvZCBuYW1lZCBcImNhbmNlbFwiIHdoaWNoIGNhbmNlbHMgdGhlIG9uZ29pbmcgQVBJXG4gICAgICogY2FsbC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBjbGllbnQgPSBsb25ncnVubmluZy5vcGVyYXRpb25zQ2xpZW50KCk7XG4gICAgICogYXdhaXQgY2xpZW50LmNhbmNlbE9wZXJhdGlvbih7bmFtZTogJyd9KTtcbiAgICAgKi9cbiAgICBjYW5jZWxPcGVyYXRpb24ocmVxdWVzdCwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9uc09yQ2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJBcGlDYWxscy5jYW5jZWxPcGVyYXRpb24ocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgbG9uZy1ydW5uaW5nIG9wZXJhdGlvbi4gVGhpcyBtZXRob2QgaW5kaWNhdGVzIHRoYXQgdGhlIGNsaWVudCBpc1xuICAgICAqIG5vIGxvbmdlciBpbnRlcmVzdGVkIGluIHRoZSBvcGVyYXRpb24gcmVzdWx0LiBJdCBkb2VzIG5vdCBjYW5jZWwgdGhlXG4gICAgICogb3BlcmF0aW9uLiBJZiB0aGUgc2VydmVyIGRvZXNuJ3Qgc3VwcG9ydCB0aGlzIG1ldGhvZCwgaXQgcmV0dXJuc1xuICAgICAqIGBnb29nbGUucnBjLkNvZGUuVU5JTVBMRU1FTlRFRGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdpbGwgYmUgc2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvbiByZXNvdXJjZSB0byBiZSBkZWxldGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1xuICAgICAqICAgT3B0aW9uYWwgcGFyYW1ldGVycy4gWW91IGNhbiBvdmVycmlkZSB0aGUgZGVmYXVsdCBzZXR0aW5ncyBmb3IgdGhpcyBjYWxsLFxuICAgICAqIGUuZywgdGltZW91dCwgcmV0cmllcywgcGFnaW5hdGlvbnMsIGV0Yy4gU2VlIFtnYXguQ2FsbE9wdGlvbnNde0BsaW5rXG4gICAgICogaHR0cHM6Ly9nb29nbGVhcGlzLmdpdGh1Yi5pby9nYXgtbm9kZWpzL2dsb2JhbC5odG1sI0NhbGxPcHRpb25zfSBmb3IgdGhlXG4gICAgICogZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD9FcnJvcik9fSBjYWxsYmFja1xuICAgICAqICAgVGhlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgQVBJIGNhbGwuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gLSBUaGUgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIEFQSSBjYWxsIGZpbmlzaGVzLlxuICAgICAqICAgVGhlIHByb21pc2UgaGFzIGEgbWV0aG9kIG5hbWVkIFwiY2FuY2VsXCIgd2hpY2ggY2FuY2VscyB0aGUgb25nb2luZyBBUElcbiAgICAgKiBjYWxsLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGNsaWVudCA9IGxvbmdydW5uaW5nLm9wZXJhdGlvbnNDbGllbnQoKTtcbiAgICAgKiBhd2FpdCBjbGllbnQuZGVsZXRlT3BlcmF0aW9uKHtuYW1lOiAnJ30pO1xuICAgICAqL1xuICAgIGRlbGV0ZU9wZXJhdGlvbihyZXF1ZXN0LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zT3JDYWxsYmFjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLmRlbGV0ZU9wZXJhdGlvbihyZXF1ZXN0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxufVxuZXhwb3J0cy5PcGVyYXRpb25zQ2xpZW50ID0gT3BlcmF0aW9uc0NsaWVudDtcbmNsYXNzIE9wZXJhdGlvbnNDbGllbnRCdWlsZGVyIHtcbiAgICAvKipcbiAgICAgKiBCdWlsZHMgYSBuZXcgT3BlcmF0aW9ucyBDbGllbnRcbiAgICAgKiBAcGFyYW0gZ2F4R3JwYyB7R3JwY0NsaWVudH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihnYXhHcnBjLCBwcm90b0pzb24pIHtcbiAgICAgICAgaWYgKHByb3RvSnNvbiAmJiBnYXhHcnBjLmh0dHBSdWxlcykge1xuICAgICAgICAgICAgLy8gb3ZlcndyaXRlIHRoZSBodHRwIHJ1bGVzIGlmIHByb3ZpZGUgaW4gc2VydmljZSB5YW1sLlxuICAgICAgICAgICAgKDAsIHRyYW5zY29kaW5nXzEub3ZlcnJpZGVIdHRwUnVsZXMpKGdheEdycGMuaHR0cFJ1bGVzLCBwcm90b0pzb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbnNQcm90b3MgPSBwcm90b0pzb24gIT09IG51bGwgJiYgcHJvdG9Kc29uICE9PSB2b2lkIDAgPyBwcm90b0pzb24gOiBnYXhHcnBjLmxvYWRQcm90b0pTT04ob3BlcmF0aW9uUHJvdG9Kc29uKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1aWxkIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBPcGVyYXRpb25zQ2xpZW50fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRzIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nPX0gb3B0cy5zZXJ2aWNlUGF0aCAtIERvbWFpbiBuYW1lIG9mIHRoZSBBUEkgcmVtb3RlIGhvc3QuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0cy5wb3J0IC0gVGhlIHBvcnQgb24gd2hpY2ggdG8gY29ubmVjdCB0byB0aGUgcmVtb3RlIGhvc3QuXG4gICAgICAgICAqIEBwYXJhbSB7Z3JwYy5DbGllbnRDcmVkZW50aWFscz19IG9wdHMuc3NsQ3JlZHMgLSBBIENsaWVudENyZWRlbnRpYWxzIGZvciB1c2Ugd2l0aCBhbiBTU0wtZW5hYmxlZCBjaGFubmVsLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdHMuY2xpZW50Q29uZmlnIC0gVGhlIGN1c3RvbWl6ZWQgY29uZmlnIHRvIGJ1aWxkIHRoZSBjYWxsIHNldHRpbmdzLiBTZWUge0BsaW5rIGdheC5jb25zdHJ1Y3RTZXR0aW5nc30gZm9yIHRoZSBmb3JtYXQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wZXJhdGlvbnNDbGllbnQgPSBvcHRzID0+IHtcbiAgICAgICAgICAgIGlmIChnYXhHcnBjLmZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5mYWxsYmFjayA9IGdheEdycGMuZmFsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9wZXJhdGlvbnNDbGllbnQoZ2F4R3JwYywgb3BlcmF0aW9uc1Byb3Rvcywgb3B0cyk7XG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcGVyYXRpb25zQ2xpZW50LCBPcGVyYXRpb25zQ2xpZW50KTtcbiAgICB9XG59XG5leHBvcnRzLk9wZXJhdGlvbnNDbGllbnRCdWlsZGVyID0gT3BlcmF0aW9uc0NsaWVudEJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVyYXRpb25zQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/operationsClient.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/operations_client_config.json":
/*!*************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/operations_client_config.json ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"interfaces":{"google.longrunning.Operations":{"retry_codes":{"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"non_idempotent":[]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":90000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":90000,"total_timeout_millis":600000}},"methods":{"GetOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListOperations":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"CancelOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"DeleteOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"}}}}}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PageDescriptor = void 0;\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst normalApiCaller_1 = __webpack_require__(/*! ../normalCalls/normalApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\");\nconst warnings_1 = __webpack_require__(/*! .././warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nconst pagedApiCaller_1 = __webpack_require__(/*! ./pagedApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js\");\nconst maxAttemptsEmptyResponse = 10;\n/**\n * A descriptor for methods that support pagination.\n */\nclass PageDescriptor {\n    constructor(requestPageTokenField, responsePageTokenField, resourceField) {\n        this.requestPageTokenField = requestPageTokenField;\n        this.responsePageTokenField = responsePageTokenField;\n        this.resourceField = resourceField;\n    }\n    /**\n     * Creates a new object Stream which emits the resource on 'data' event.\n     */\n    createStream(apiCall, request, options) {\n        if (options === null || options === void 0 ? void 0 : options.autoPaginate) {\n            (0, warnings_1.warn)('autoPaginate true', 'Autopaginate will always be set to false in stream paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls', 'AutopaginateTrueWarning');\n        }\n        const stream = new stream_1.PassThrough({ objectMode: true });\n        options = Object.assign({}, options, { autoPaginate: false });\n        const maxResults = 'maxResults' in options ? options.maxResults : -1;\n        let pushCount = 0;\n        let started = false;\n        function callback(err, resources, next, apiResp) {\n            if (err) {\n                stream.emit('error', err);\n                return;\n            }\n            // emit full api response with every page.\n            stream.emit('response', apiResp);\n            for (let i = 0; i < resources.length; ++i) {\n                // TODO: rewrite without accessing stream internals\n                if (stream\n                    ._readableState.ended) {\n                    return;\n                }\n                if (resources[i] === null) {\n                    continue;\n                }\n                stream.push(resources[i]);\n                pushCount++;\n                if (pushCount === maxResults) {\n                    stream.end();\n                }\n            }\n            // TODO: rewrite without accessing stream internals\n            if (stream._readableState\n                .ended) {\n                return;\n            }\n            if (!next) {\n                stream.end();\n                return;\n            }\n            // When pageToken is specified in the original options, it will overwrite\n            // the page token field in the next request. Therefore it must be cleared.\n            if ('pageToken' in options) {\n                delete options.pageToken;\n            }\n            if (stream.isPaused()) {\n                request = next;\n                started = false;\n            }\n            else {\n                setImmediate(apiCall, next, options, callback);\n            }\n        }\n        stream.on('resume', () => {\n            if (!started) {\n                started = true;\n                apiCall(request, options, callback);\n            }\n        });\n        return stream;\n    }\n    /**\n     * Create an async iterable which can be recursively called for data on-demand.\n     */\n    asyncIterate(apiCall, request, options) {\n        if (options === null || options === void 0 ? void 0 : options.autoPaginate) {\n            (0, warnings_1.warn)('autoPaginate true', 'Autopaginate will always be set to false in Async paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls', 'AutopaginateTrueWarning');\n        }\n        options = Object.assign({}, options, { autoPaginate: false });\n        const iterable = this.createIterator(apiCall, request, options);\n        return iterable;\n    }\n    createIterator(apiCall, request, options) {\n        const asyncIterable = {\n            [Symbol.asyncIterator]() {\n                let nextPageRequest = request;\n                const cache = [];\n                return {\n                    async next() {\n                        if (cache.length > 0) {\n                            return Promise.resolve({\n                                done: false,\n                                value: cache.shift(),\n                            });\n                        }\n                        let attempts = 0;\n                        while (cache.length === 0 && nextPageRequest) {\n                            let result;\n                            [result, nextPageRequest] = (await apiCall(nextPageRequest, options));\n                            // For pagination response with protobuf map type, use tuple as representation.\n                            if (result && !Array.isArray(result)) {\n                                for (const [key, value] of Object.entries(result)) {\n                                    cache.push([key, value]);\n                                }\n                            }\n                            else {\n                                cache.push(...result);\n                            }\n                            if (cache.length === 0) {\n                                ++attempts;\n                                if (attempts > maxAttemptsEmptyResponse) {\n                                    break;\n                                }\n                            }\n                        }\n                        if (cache.length === 0) {\n                            return Promise.resolve({ done: true, value: undefined });\n                        }\n                        return Promise.resolve({ done: false, value: cache.shift() });\n                    },\n                };\n            },\n        };\n        return asyncIterable;\n    }\n    getApiCaller(settings) {\n        if (!settings.autoPaginate) {\n            return new normalApiCaller_1.NormalApiCaller();\n        }\n        return new pagedApiCaller_1.PagedApiCaller(this);\n    }\n}\nexports.PageDescriptor = PageDescriptor;\n//# sourceMappingURL=pageDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9wYWdpbmF0aW9uQ2FsbHMvcGFnZURlc2NyaXB0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDLDBCQUEwQixtQkFBTyxDQUFDLDJIQUFnQztBQUNsRSxtQkFBbUIsbUJBQU8sQ0FBQyx1RkFBZTtBQUMxQyx5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxrQkFBa0I7QUFDcEUsa0NBQWtDLGFBQWEscUJBQXFCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhLHFCQUFxQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDhCQUE4QjtBQUNuRjtBQUNBLGlEQUFpRCxtQ0FBbUM7QUFDcEYscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGFnaW5hdGlvbkNhbGxzL3BhZ2VEZXNjcmlwdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYWdlRGVzY3JpcHRvciA9IHZvaWQgMDtcbmNvbnN0IHN0cmVhbV8xID0gcmVxdWlyZShcInN0cmVhbVwiKTtcbmNvbnN0IG5vcm1hbEFwaUNhbGxlcl8xID0gcmVxdWlyZShcIi4uL25vcm1hbENhbGxzL25vcm1hbEFwaUNhbGxlclwiKTtcbmNvbnN0IHdhcm5pbmdzXzEgPSByZXF1aXJlKFwiLi4vLi93YXJuaW5nc1wiKTtcbmNvbnN0IHBhZ2VkQXBpQ2FsbGVyXzEgPSByZXF1aXJlKFwiLi9wYWdlZEFwaUNhbGxlclwiKTtcbmNvbnN0IG1heEF0dGVtcHRzRW1wdHlSZXNwb25zZSA9IDEwO1xuLyoqXG4gKiBBIGRlc2NyaXB0b3IgZm9yIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHBhZ2luYXRpb24uXG4gKi9cbmNsYXNzIFBhZ2VEZXNjcmlwdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0UGFnZVRva2VuRmllbGQsIHJlc3BvbnNlUGFnZVRva2VuRmllbGQsIHJlc291cmNlRmllbGQpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UGFnZVRva2VuRmllbGQgPSByZXF1ZXN0UGFnZVRva2VuRmllbGQ7XG4gICAgICAgIHRoaXMucmVzcG9uc2VQYWdlVG9rZW5GaWVsZCA9IHJlc3BvbnNlUGFnZVRva2VuRmllbGQ7XG4gICAgICAgIHRoaXMucmVzb3VyY2VGaWVsZCA9IHJlc291cmNlRmllbGQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IFN0cmVhbSB3aGljaCBlbWl0cyB0aGUgcmVzb3VyY2Ugb24gJ2RhdGEnIGV2ZW50LlxuICAgICAqL1xuICAgIGNyZWF0ZVN0cmVhbShhcGlDYWxsLCByZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYXV0b1BhZ2luYXRlKSB7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnYXV0b1BhZ2luYXRlIHRydWUnLCAnQXV0b3BhZ2luYXRlIHdpbGwgYWx3YXlzIGJlIHNldCB0byBmYWxzZSBpbiBzdHJlYW0gcGFnaW5nIG1ldGhvZHMuIFNlZSBtb3JlIGluZm8gYXQgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9ibG9iL21haW4vY2xpZW50LWxpYnJhcmllcy5tZCNhdXRvLXBhZ2luYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIGNvbmZpZ3VyZSBwYWdpbmcgY2FsbHMnLCAnQXV0b3BhZ2luYXRlVHJ1ZVdhcm5pbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHJlYW0gPSBuZXcgc3RyZWFtXzEuUGFzc1Rocm91Z2goeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgeyBhdXRvUGFnaW5hdGU6IGZhbHNlIH0pO1xuICAgICAgICBjb25zdCBtYXhSZXN1bHRzID0gJ21heFJlc3VsdHMnIGluIG9wdGlvbnMgPyBvcHRpb25zLm1heFJlc3VsdHMgOiAtMTtcbiAgICAgICAgbGV0IHB1c2hDb3VudCA9IDA7XG4gICAgICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKGVyciwgcmVzb3VyY2VzLCBuZXh0LCBhcGlSZXNwKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGZ1bGwgYXBpIHJlc3BvbnNlIHdpdGggZXZlcnkgcGFnZS5cbiAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdyZXNwb25zZScsIGFwaVJlc3ApO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZXdyaXRlIHdpdGhvdXQgYWNjZXNzaW5nIHN0cmVhbSBpbnRlcm5hbHNcbiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIC5fcmVhZGFibGVTdGF0ZS5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbaV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0cmVhbS5wdXNoKHJlc291cmNlc1tpXSk7XG4gICAgICAgICAgICAgICAgcHVzaENvdW50Kys7XG4gICAgICAgICAgICAgICAgaWYgKHB1c2hDb3VudCA9PT0gbWF4UmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogcmV3cml0ZSB3aXRob3V0IGFjY2Vzc2luZyBzdHJlYW0gaW50ZXJuYWxzXG4gICAgICAgICAgICBpZiAoc3RyZWFtLl9yZWFkYWJsZVN0YXRlXG4gICAgICAgICAgICAgICAgLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVuZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdoZW4gcGFnZVRva2VuIGlzIHNwZWNpZmllZCBpbiB0aGUgb3JpZ2luYWwgb3B0aW9ucywgaXQgd2lsbCBvdmVyd3JpdGVcbiAgICAgICAgICAgIC8vIHRoZSBwYWdlIHRva2VuIGZpZWxkIGluIHRoZSBuZXh0IHJlcXVlc3QuIFRoZXJlZm9yZSBpdCBtdXN0IGJlIGNsZWFyZWQuXG4gICAgICAgICAgICBpZiAoJ3BhZ2VUb2tlbicgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLnBhZ2VUb2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHJlYW0uaXNQYXVzZWQoKSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBuZXh0O1xuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShhcGlDYWxsLCBuZXh0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RyZWFtLm9uKCdyZXN1bWUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcGlDYWxsKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBhc3luYyBpdGVyYWJsZSB3aGljaCBjYW4gYmUgcmVjdXJzaXZlbHkgY2FsbGVkIGZvciBkYXRhIG9uLWRlbWFuZC5cbiAgICAgKi9cbiAgICBhc3luY0l0ZXJhdGUoYXBpQ2FsbCwgcmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmF1dG9QYWdpbmF0ZSkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ2F1dG9QYWdpbmF0ZSB0cnVlJywgJ0F1dG9wYWdpbmF0ZSB3aWxsIGFsd2F5cyBiZSBzZXQgdG8gZmFsc2UgaW4gQXN5bmMgcGFnaW5nIG1ldGhvZHMuIFNlZSBtb3JlIGluZm8gYXQgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9ibG9iL21haW4vY2xpZW50LWxpYnJhcmllcy5tZCNhdXRvLXBhZ2luYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIGNvbmZpZ3VyZSBwYWdpbmcgY2FsbHMnLCAnQXV0b3BhZ2luYXRlVHJ1ZVdhcm5pbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgeyBhdXRvUGFnaW5hdGU6IGZhbHNlIH0pO1xuICAgICAgICBjb25zdCBpdGVyYWJsZSA9IHRoaXMuY3JlYXRlSXRlcmF0b3IoYXBpQ2FsbCwgcmVxdWVzdCwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICB9XG4gICAgY3JlYXRlSXRlcmF0b3IoYXBpQ2FsbCwgcmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhc3luY0l0ZXJhYmxlID0ge1xuICAgICAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFBhZ2VSZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZSA9IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhY2hlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNhY2hlLmxlbmd0aCA9PT0gMCAmJiBuZXh0UGFnZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIG5leHRQYWdlUmVxdWVzdF0gPSAoYXdhaXQgYXBpQ2FsbChuZXh0UGFnZVJlcXVlc3QsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcGFnaW5hdGlvbiByZXNwb25zZSB3aXRoIHByb3RvYnVmIG1hcCB0eXBlLCB1c2UgdHVwbGUgYXMgcmVwcmVzZW50YXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiAhQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGUucHVzaCguLi5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsrYXR0ZW1wdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0cyA+IG1heEF0dGVtcHRzRW1wdHlSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgZG9uZTogZmFsc2UsIHZhbHVlOiBjYWNoZS5zaGlmdCgpIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYXN5bmNJdGVyYWJsZTtcbiAgICB9XG4gICAgZ2V0QXBpQ2FsbGVyKHNldHRpbmdzKSB7XG4gICAgICAgIGlmICghc2V0dGluZ3MuYXV0b1BhZ2luYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5vcm1hbEFwaUNhbGxlcl8xLk5vcm1hbEFwaUNhbGxlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgcGFnZWRBcGlDYWxsZXJfMS5QYWdlZEFwaUNhbGxlcih0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlBhZ2VEZXNjcmlwdG9yID0gUGFnZURlc2NyaXB0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlRGVzY3JpcHRvci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PagedApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(action-browser)/./node_modules/google-gax/build/src/call.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nconst resourceCollector_1 = __webpack_require__(/*! ./resourceCollector */ \"(action-browser)/./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js\");\nconst warnings_1 = __webpack_require__(/*! .././warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nclass PagedApiCaller {\n    /**\n     * Creates an API caller that returns a stream to performs page-streaming.\n     *\n     * @private\n     * @constructor\n     * @param {PageDescriptor} pageDescriptor - indicates the structure\n     *   of page streaming to be performed.\n     */\n    constructor(pageDescriptor) {\n        this.pageDescriptor = pageDescriptor;\n    }\n    /**\n     * This function translates between regular gRPC calls (that accepts a request and returns a response,\n     * and does not know anything about pages and page tokens) and the users' callback (that expects\n     * to see resources from one page, a request to get the next page, and the raw response from the server).\n     *\n     * It generates a function that can be passed as a callback function to a gRPC call, will understand\n     * pagination-specific fields in the response, and call the users' callback after having those fields\n     * parsed.\n     *\n     * @param request Request object. It needs to be passed to all subsequent next page requests\n     * (the main content of the request object stays unchanged, only the next page token changes)\n     * @param callback The user's callback that expects the page content, next page request, and raw response.\n     */\n    generateParseResponseCallback(request, callback) {\n        const resourceFieldName = this.pageDescriptor.resourceField;\n        const responsePageTokenFieldName = this.pageDescriptor.responsePageTokenField;\n        const requestPageTokenFieldName = this.pageDescriptor.requestPageTokenField;\n        return (err, response) => {\n            if (err) {\n                callback(err);\n                return;\n            }\n            if (!request) {\n                callback(new googleError_1.GoogleError('Undefined request in pagination method callback.'));\n                return;\n            }\n            if (!response) {\n                callback(new googleError_1.GoogleError('Undefined response in pagination method callback.'));\n                return;\n            }\n            const resources = response[resourceFieldName] || [];\n            const pageToken = response[responsePageTokenFieldName];\n            let nextPageRequest = null;\n            if (pageToken) {\n                nextPageRequest = Object.assign({}, request);\n                nextPageRequest[requestPageTokenFieldName] = pageToken;\n            }\n            callback(err, resources, nextPageRequest, response);\n        };\n    }\n    /**\n     * Adds a special ability to understand pagination-specific fields to the existing gRPC call.\n     * The original gRPC call just calls callback(err, result).\n     * The wrapped one will call callback(err, resources, nextPageRequest, rawResponse) instead.\n     *\n     * @param func gRPC call (normally, a service stub call). The gRPC call is expected to accept four parameters:\n     * request, metadata, call options, and callback.\n     */\n    wrap(func) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        return function wrappedCall(argument, metadata, options, callback) {\n            return func(argument, metadata, options, self.generateParseResponseCallback(argument, callback));\n        };\n    }\n    /**\n     * Makes it possible to use both callback-based and promise-based calls.\n     * Returns an OngoingCall or OngoingCallPromise object.\n     * Regardless of which one is returned, it always has a `.callback` to call.\n     *\n     * @param settings Call settings. Can only be used to replace Promise with another promise implementation.\n     * @param [callback] Callback to be called, if any.\n     */\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    /**\n     * Implements auto-pagination logic.\n     *\n     * @param apiCall A function that performs gRPC request and calls its callback with a response or an error.\n     * It's supposed to be a gRPC service stub function wrapped into several layers of wrappers that make it\n     * accept just two parameters: (request, callback).\n     * @param request A request object that came from the user.\n     * @param settings Call settings. We are interested in `maxResults` and `autoPaginate` (they are optional).\n     * @param ongoingCall An instance of OngoingCall or OngoingCallPromise that can be used for call cancellation,\n     * and is used to return results to the user.\n     */\n    call(apiCall, request, settings, ongoingCall) {\n        request = Object.assign({}, request);\n        if (!settings.autoPaginate) {\n            // they don't want auto-pagination this time - okay, just call once\n            ongoingCall.call(apiCall, request);\n            return;\n        }\n        if (request.pageSize && settings.autoPaginate) {\n            (0, warnings_1.warn)('autoPaginate true', 'Providing a pageSize without setting autoPaginate to false will still return all results. See https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure manual paging', 'AutopaginateTrueWarning');\n        }\n        const maxResults = settings.maxResults || -1;\n        const resourceCollector = new resourceCollector_1.ResourceCollector(apiCall, maxResults);\n        resourceCollector.processAllPages(request).then(resources => ongoingCall.callback(null, resources), err => ongoingCall.callback(err));\n    }\n    fail(ongoingCall, err) {\n        ongoingCall.callback(err);\n    }\n    result(ongoingCall) {\n        return ongoingCall.promise;\n    }\n}\nexports.PagedApiCaller = PagedApiCaller;\n//# sourceMappingURL=pagedApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9wYWdpbmF0aW9uQ2FsbHMvcGFnZWRBcGlDYWxsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLGVBQWUsbUJBQU8sQ0FBQyw2RUFBUztBQUNoQyxzQkFBc0IsbUJBQU8sQ0FBQywyRkFBZ0I7QUFDOUMsNEJBQTRCLG1CQUFPLENBQUMsc0hBQXFCO0FBQ3pELG1CQUFtQixtQkFBTyxDQUFDLHVGQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL3BhZ2luYXRpb25DYWxscy9wYWdlZEFwaUNhbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFnZWRBcGlDYWxsZXIgPSB2b2lkIDA7XG5jb25zdCBjYWxsXzEgPSByZXF1aXJlKFwiLi4vY2FsbFwiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vZ29vZ2xlRXJyb3JcIik7XG5jb25zdCByZXNvdXJjZUNvbGxlY3Rvcl8xID0gcmVxdWlyZShcIi4vcmVzb3VyY2VDb2xsZWN0b3JcIik7XG5jb25zdCB3YXJuaW5nc18xID0gcmVxdWlyZShcIi4uLy4vd2FybmluZ3NcIik7XG5jbGFzcyBQYWdlZEFwaUNhbGxlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBBUEkgY2FsbGVyIHRoYXQgcmV0dXJucyBhIHN0cmVhbSB0byBwZXJmb3JtcyBwYWdlLXN0cmVhbWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtQYWdlRGVzY3JpcHRvcn0gcGFnZURlc2NyaXB0b3IgLSBpbmRpY2F0ZXMgdGhlIHN0cnVjdHVyZVxuICAgICAqICAgb2YgcGFnZSBzdHJlYW1pbmcgdG8gYmUgcGVyZm9ybWVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhZ2VEZXNjcmlwdG9yKSB7XG4gICAgICAgIHRoaXMucGFnZURlc2NyaXB0b3IgPSBwYWdlRGVzY3JpcHRvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiB0cmFuc2xhdGVzIGJldHdlZW4gcmVndWxhciBnUlBDIGNhbGxzICh0aGF0IGFjY2VwdHMgYSByZXF1ZXN0IGFuZCByZXR1cm5zIGEgcmVzcG9uc2UsXG4gICAgICogYW5kIGRvZXMgbm90IGtub3cgYW55dGhpbmcgYWJvdXQgcGFnZXMgYW5kIHBhZ2UgdG9rZW5zKSBhbmQgdGhlIHVzZXJzJyBjYWxsYmFjayAodGhhdCBleHBlY3RzXG4gICAgICogdG8gc2VlIHJlc291cmNlcyBmcm9tIG9uZSBwYWdlLCBhIHJlcXVlc3QgdG8gZ2V0IHRoZSBuZXh0IHBhZ2UsIGFuZCB0aGUgcmF3IHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlcikuXG4gICAgICpcbiAgICAgKiBJdCBnZW5lcmF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBwYXNzZWQgYXMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBhIGdSUEMgY2FsbCwgd2lsbCB1bmRlcnN0YW5kXG4gICAgICogcGFnaW5hdGlvbi1zcGVjaWZpYyBmaWVsZHMgaW4gdGhlIHJlc3BvbnNlLCBhbmQgY2FsbCB0aGUgdXNlcnMnIGNhbGxiYWNrIGFmdGVyIGhhdmluZyB0aG9zZSBmaWVsZHNcbiAgICAgKiBwYXJzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCBSZXF1ZXN0IG9iamVjdC4gSXQgbmVlZHMgdG8gYmUgcGFzc2VkIHRvIGFsbCBzdWJzZXF1ZW50IG5leHQgcGFnZSByZXF1ZXN0c1xuICAgICAqICh0aGUgbWFpbiBjb250ZW50IG9mIHRoZSByZXF1ZXN0IG9iamVjdCBzdGF5cyB1bmNoYW5nZWQsIG9ubHkgdGhlIG5leHQgcGFnZSB0b2tlbiBjaGFuZ2VzKVxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgdXNlcidzIGNhbGxiYWNrIHRoYXQgZXhwZWN0cyB0aGUgcGFnZSBjb250ZW50LCBuZXh0IHBhZ2UgcmVxdWVzdCwgYW5kIHJhdyByZXNwb25zZS5cbiAgICAgKi9cbiAgICBnZW5lcmF0ZVBhcnNlUmVzcG9uc2VDYWxsYmFjayhyZXF1ZXN0LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCByZXNvdXJjZUZpZWxkTmFtZSA9IHRoaXMucGFnZURlc2NyaXB0b3IucmVzb3VyY2VGaWVsZDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VQYWdlVG9rZW5GaWVsZE5hbWUgPSB0aGlzLnBhZ2VEZXNjcmlwdG9yLnJlc3BvbnNlUGFnZVRva2VuRmllbGQ7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RQYWdlVG9rZW5GaWVsZE5hbWUgPSB0aGlzLnBhZ2VEZXNjcmlwdG9yLnJlcXVlc3RQYWdlVG9rZW5GaWVsZDtcbiAgICAgICAgcmV0dXJuIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignVW5kZWZpbmVkIHJlcXVlc3QgaW4gcGFnaW5hdGlvbiBtZXRob2QgY2FsbGJhY2suJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignVW5kZWZpbmVkIHJlc3BvbnNlIGluIHBhZ2luYXRpb24gbWV0aG9kIGNhbGxiYWNrLicpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZXMgPSByZXNwb25zZVtyZXNvdXJjZUZpZWxkTmFtZV0gfHwgW107XG4gICAgICAgICAgICBjb25zdCBwYWdlVG9rZW4gPSByZXNwb25zZVtyZXNwb25zZVBhZ2VUb2tlbkZpZWxkTmFtZV07XG4gICAgICAgICAgICBsZXQgbmV4dFBhZ2VSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChwYWdlVG9rZW4pIHtcbiAgICAgICAgICAgICAgICBuZXh0UGFnZVJlcXVlc3QgPSBPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICBuZXh0UGFnZVJlcXVlc3RbcmVxdWVzdFBhZ2VUb2tlbkZpZWxkTmFtZV0gPSBwYWdlVG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlc291cmNlcywgbmV4dFBhZ2VSZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBzcGVjaWFsIGFiaWxpdHkgdG8gdW5kZXJzdGFuZCBwYWdpbmF0aW9uLXNwZWNpZmljIGZpZWxkcyB0byB0aGUgZXhpc3RpbmcgZ1JQQyBjYWxsLlxuICAgICAqIFRoZSBvcmlnaW5hbCBnUlBDIGNhbGwganVzdCBjYWxscyBjYWxsYmFjayhlcnIsIHJlc3VsdCkuXG4gICAgICogVGhlIHdyYXBwZWQgb25lIHdpbGwgY2FsbCBjYWxsYmFjayhlcnIsIHJlc291cmNlcywgbmV4dFBhZ2VSZXF1ZXN0LCByYXdSZXNwb25zZSkgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmdW5jIGdSUEMgY2FsbCAobm9ybWFsbHksIGEgc2VydmljZSBzdHViIGNhbGwpLiBUaGUgZ1JQQyBjYWxsIGlzIGV4cGVjdGVkIHRvIGFjY2VwdCBmb3VyIHBhcmFtZXRlcnM6XG4gICAgICogcmVxdWVzdCwgbWV0YWRhdGEsIGNhbGwgb3B0aW9ucywgYW5kIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIHdyYXAoZnVuYykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB3cmFwcGVkQ2FsbChhcmd1bWVudCwgbWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuYyhhcmd1bWVudCwgbWV0YWRhdGEsIG9wdGlvbnMsIHNlbGYuZ2VuZXJhdGVQYXJzZVJlc3BvbnNlQ2FsbGJhY2soYXJndW1lbnQsIGNhbGxiYWNrKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGl0IHBvc3NpYmxlIHRvIHVzZSBib3RoIGNhbGxiYWNrLWJhc2VkIGFuZCBwcm9taXNlLWJhc2VkIGNhbGxzLlxuICAgICAqIFJldHVybnMgYW4gT25nb2luZ0NhbGwgb3IgT25nb2luZ0NhbGxQcm9taXNlIG9iamVjdC5cbiAgICAgKiBSZWdhcmRsZXNzIG9mIHdoaWNoIG9uZSBpcyByZXR1cm5lZCwgaXQgYWx3YXlzIGhhcyBhIGAuY2FsbGJhY2tgIHRvIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2V0dGluZ3MgQ2FsbCBzZXR0aW5ncy4gQ2FuIG9ubHkgYmUgdXNlZCB0byByZXBsYWNlIFByb21pc2Ugd2l0aCBhbm90aGVyIHByb21pc2UgaW1wbGVtZW50YXRpb24uXG4gICAgICogQHBhcmFtIFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gYmUgY2FsbGVkLCBpZiBhbnkuXG4gICAgICovXG4gICAgaW5pdChjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgY2FsbF8xLk9uZ29pbmdDYWxsKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGNhbGxfMS5PbmdvaW5nQ2FsbFByb21pc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBhdXRvLXBhZ2luYXRpb24gbG9naWMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBpQ2FsbCBBIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgZ1JQQyByZXF1ZXN0IGFuZCBjYWxscyBpdHMgY2FsbGJhY2sgd2l0aCBhIHJlc3BvbnNlIG9yIGFuIGVycm9yLlxuICAgICAqIEl0J3Mgc3VwcG9zZWQgdG8gYmUgYSBnUlBDIHNlcnZpY2Ugc3R1YiBmdW5jdGlvbiB3cmFwcGVkIGludG8gc2V2ZXJhbCBsYXllcnMgb2Ygd3JhcHBlcnMgdGhhdCBtYWtlIGl0XG4gICAgICogYWNjZXB0IGp1c3QgdHdvIHBhcmFtZXRlcnM6IChyZXF1ZXN0LCBjYWxsYmFjaykuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgQSByZXF1ZXN0IG9iamVjdCB0aGF0IGNhbWUgZnJvbSB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0gc2V0dGluZ3MgQ2FsbCBzZXR0aW5ncy4gV2UgYXJlIGludGVyZXN0ZWQgaW4gYG1heFJlc3VsdHNgIGFuZCBgYXV0b1BhZ2luYXRlYCAodGhleSBhcmUgb3B0aW9uYWwpLlxuICAgICAqIEBwYXJhbSBvbmdvaW5nQ2FsbCBBbiBpbnN0YW5jZSBvZiBPbmdvaW5nQ2FsbCBvciBPbmdvaW5nQ2FsbFByb21pc2UgdGhhdCBjYW4gYmUgdXNlZCBmb3IgY2FsbCBjYW5jZWxsYXRpb24sXG4gICAgICogYW5kIGlzIHVzZWQgdG8gcmV0dXJuIHJlc3VsdHMgdG8gdGhlIHVzZXIuXG4gICAgICovXG4gICAgY2FsbChhcGlDYWxsLCByZXF1ZXN0LCBzZXR0aW5ncywgb25nb2luZ0NhbGwpIHtcbiAgICAgICAgcmVxdWVzdCA9IE9iamVjdC5hc3NpZ24oe30sIHJlcXVlc3QpO1xuICAgICAgICBpZiAoIXNldHRpbmdzLmF1dG9QYWdpbmF0ZSkge1xuICAgICAgICAgICAgLy8gdGhleSBkb24ndCB3YW50IGF1dG8tcGFnaW5hdGlvbiB0aGlzIHRpbWUgLSBva2F5LCBqdXN0IGNhbGwgb25jZVxuICAgICAgICAgICAgb25nb2luZ0NhbGwuY2FsbChhcGlDYWxsLCByZXF1ZXN0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWVzdC5wYWdlU2l6ZSAmJiBzZXR0aW5ncy5hdXRvUGFnaW5hdGUpIHtcbiAgICAgICAgICAgICgwLCB3YXJuaW5nc18xLndhcm4pKCdhdXRvUGFnaW5hdGUgdHJ1ZScsICdQcm92aWRpbmcgYSBwYWdlU2l6ZSB3aXRob3V0IHNldHRpbmcgYXV0b1BhZ2luYXRlIHRvIGZhbHNlIHdpbGwgc3RpbGwgcmV0dXJuIGFsbCByZXN1bHRzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9ibG9iL21haW4vY2xpZW50LWxpYnJhcmllcy5tZCNhdXRvLXBhZ2luYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIGNvbmZpZ3VyZSBtYW51YWwgcGFnaW5nJywgJ0F1dG9wYWdpbmF0ZVRydWVXYXJuaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF4UmVzdWx0cyA9IHNldHRpbmdzLm1heFJlc3VsdHMgfHwgLTE7XG4gICAgICAgIGNvbnN0IHJlc291cmNlQ29sbGVjdG9yID0gbmV3IHJlc291cmNlQ29sbGVjdG9yXzEuUmVzb3VyY2VDb2xsZWN0b3IoYXBpQ2FsbCwgbWF4UmVzdWx0cyk7XG4gICAgICAgIHJlc291cmNlQ29sbGVjdG9yLnByb2Nlc3NBbGxQYWdlcyhyZXF1ZXN0KS50aGVuKHJlc291cmNlcyA9PiBvbmdvaW5nQ2FsbC5jYWxsYmFjayhudWxsLCByZXNvdXJjZXMpLCBlcnIgPT4gb25nb2luZ0NhbGwuY2FsbGJhY2soZXJyKSk7XG4gICAgfVxuICAgIGZhaWwob25nb2luZ0NhbGwsIGVycikge1xuICAgICAgICBvbmdvaW5nQ2FsbC5jYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICByZXN1bHQob25nb2luZ0NhbGwpIHtcbiAgICAgICAgcmV0dXJuIG9uZ29pbmdDYWxsLnByb21pc2U7XG4gICAgfVxufVxuZXhwb3J0cy5QYWdlZEFwaUNhbGxlciA9IFBhZ2VkQXBpQ2FsbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZWRBcGlDYWxsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ResourceCollector = void 0;\n/**\n * ResourceCollector class implements asynchronous logic of calling the API call that supports pagination,\n * page by page, collecting all resources (up to `maxResults`) in the array.\n *\n * Usage:\n *   const resourceCollector = new ResourceCollector(apiCall, maxResults); // -1 for unlimited\n *   resourceCollector.processAllPages(request).then(resources => ...);\n */\nclass ResourceCollector {\n    constructor(apiCall, maxResults = -1) {\n        this.apiCall = apiCall;\n        this.resources = [];\n        this.maxResults = maxResults;\n    }\n    callback(err, resources, nextPageRequest) {\n        if (err) {\n            // Something went wrong with this request - failing everything\n            this.rejectCallback(err);\n            return;\n        }\n        // Process one page\n        for (const resource of resources) {\n            this.resources.push(resource);\n            if (this.resources.length === this.maxResults) {\n                nextPageRequest = null;\n                break;\n            }\n        }\n        // All done?\n        if (!nextPageRequest) {\n            this.resolveCallback(this.resources);\n            return;\n        }\n        // Schedule the next call\n        const callback = (...args) => this.callback(...args);\n        setImmediate(this.apiCall, nextPageRequest, callback);\n    }\n    processAllPages(firstRequest) {\n        return new Promise((resolve, reject) => {\n            this.resolveCallback = resolve;\n            this.rejectCallback = reject;\n            // Schedule the first call\n            const callback = (...args) => this.callback(...args);\n            setImmediate(this.apiCall, firstRequest, callback);\n        });\n    }\n}\nexports.ResourceCollector = ResourceCollector;\n//# sourceMappingURL=resourceCollector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9wYWdpbmF0aW9uQ2FsbHMvcmVzb3VyY2VDb2xsZWN0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGFnaW5hdGlvbkNhbGxzL3Jlc291cmNlQ29sbGVjdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXNvdXJjZUNvbGxlY3RvciA9IHZvaWQgMDtcbi8qKlxuICogUmVzb3VyY2VDb2xsZWN0b3IgY2xhc3MgaW1wbGVtZW50cyBhc3luY2hyb25vdXMgbG9naWMgb2YgY2FsbGluZyB0aGUgQVBJIGNhbGwgdGhhdCBzdXBwb3J0cyBwYWdpbmF0aW9uLFxuICogcGFnZSBieSBwYWdlLCBjb2xsZWN0aW5nIGFsbCByZXNvdXJjZXMgKHVwIHRvIGBtYXhSZXN1bHRzYCkgaW4gdGhlIGFycmF5LlxuICpcbiAqIFVzYWdlOlxuICogICBjb25zdCByZXNvdXJjZUNvbGxlY3RvciA9IG5ldyBSZXNvdXJjZUNvbGxlY3RvcihhcGlDYWxsLCBtYXhSZXN1bHRzKTsgLy8gLTEgZm9yIHVubGltaXRlZFxuICogICByZXNvdXJjZUNvbGxlY3Rvci5wcm9jZXNzQWxsUGFnZXMocmVxdWVzdCkudGhlbihyZXNvdXJjZXMgPT4gLi4uKTtcbiAqL1xuY2xhc3MgUmVzb3VyY2VDb2xsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGFwaUNhbGwsIG1heFJlc3VsdHMgPSAtMSkge1xuICAgICAgICB0aGlzLmFwaUNhbGwgPSBhcGlDYWxsO1xuICAgICAgICB0aGlzLnJlc291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLm1heFJlc3VsdHMgPSBtYXhSZXN1bHRzO1xuICAgIH1cbiAgICBjYWxsYmFjayhlcnIsIHJlc291cmNlcywgbmV4dFBhZ2VSZXF1ZXN0KSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggdGhpcyByZXF1ZXN0IC0gZmFpbGluZyBldmVyeXRoaW5nXG4gICAgICAgICAgICB0aGlzLnJlamVjdENhbGxiYWNrKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJvY2VzcyBvbmUgcGFnZVxuICAgICAgICBmb3IgKGNvbnN0IHJlc291cmNlIG9mIHJlc291cmNlcykge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXMucHVzaChyZXNvdXJjZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXMubGVuZ3RoID09PSB0aGlzLm1heFJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBuZXh0UGFnZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEFsbCBkb25lP1xuICAgICAgICBpZiAoIW5leHRQYWdlUmVxdWVzdCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ2FsbGJhY2sodGhpcy5yZXNvdXJjZXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNjaGVkdWxlIHRoZSBuZXh0IGNhbGxcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoLi4uYXJncykgPT4gdGhpcy5jYWxsYmFjayguLi5hcmdzKTtcbiAgICAgICAgc2V0SW1tZWRpYXRlKHRoaXMuYXBpQ2FsbCwgbmV4dFBhZ2VSZXF1ZXN0LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIHByb2Nlc3NBbGxQYWdlcyhmaXJzdFJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNhbGxiYWNrID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0Q2FsbGJhY2sgPSByZWplY3Q7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZSB0aGUgZmlyc3QgY2FsbFxuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoLi4uYXJncykgPT4gdGhpcy5jYWxsYmFjayguLi5hcmdzKTtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZSh0aGlzLmFwaUNhbGwsIGZpcnN0UmVxdWVzdCwgY2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlJlc291cmNlQ29sbGVjdG9yID0gUmVzb3VyY2VDb2xsZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZUNvbGxlY3Rvci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/pathTemplate.js":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/src/pathTemplate.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PathTemplate = void 0;\nclass PathTemplate {\n    /**\n     * @param {String} data the of the template\n     *\n     * @constructor\n     */\n    constructor(data) {\n        this.bindings = {};\n        this.data = data;\n        this.segments = this.parsePathTemplate(data);\n        this.size = this.segments.length;\n    }\n    /**\n     * Matches a fully-qualified path template string.\n     *\n     * @param {String} path a fully-qualified path template string\n     * @return {Object} contains const names matched to binding values\n     * @throws {TypeError} if path can't be matched to this template\n     */\n    match(path) {\n        let pathSegments = path.split('/');\n        const bindings = {};\n        if (pathSegments.length !== this.segments.length) {\n            // if the path contains a wildcard, then the length may differ by 1.\n            if (!this.data.includes('**')) {\n                throw new TypeError(`This path ${path} does not match path template ${this.data}, the number of parameters is not same.`);\n            }\n            else if (pathSegments.length !== this.segments.length + 1) {\n                throw new TypeError(`This path ${path} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`);\n            }\n        }\n        for (let index = 0; index < this.segments.length && pathSegments.length > 0; index++) {\n            if (this.segments[index] !== pathSegments[0]) {\n                if (!this.segments[index].includes('*')) {\n                    throw new TypeError(`segment does not match, ${this.segments[index]} and  ${pathSegments[index]}.`);\n                }\n                else {\n                    let segment = this.segments[index];\n                    const matches = segment.match(/\\{[$0-9a-zA-Z_]+=.*?\\}/g);\n                    if (!matches) {\n                        throw new Error(`Error processing path template segment ${segment}`);\n                    }\n                    const variables = matches.map(str => str.replace(/^\\{/, '').replace(/=.*/, ''));\n                    if (segment.includes('**')) {\n                        bindings[variables[0]] = pathSegments[0] + '/' + pathSegments[1];\n                        pathSegments = pathSegments.slice(2);\n                    }\n                    else {\n                        // atomic resource\n                        if (variables.length === 1) {\n                            bindings[variables[0]] = pathSegments[0];\n                        }\n                        else {\n                            // non-slash resource\n                            // segment: {blurb_id=*}.{legacy_user=*} to match pathSegments: ['bar.user2']\n                            // split the match pathSegments[0] -> value: ['bar', 'user2']\n                            // compare the length of two arrays, and compare array items\n                            const value = pathSegments[0].split(/[-_.~]/);\n                            if (value.length !== variables.length) {\n                                throw new Error(`segment ${segment} does not match ${pathSegments[0]}`);\n                            }\n                            for (const v of variables) {\n                                bindings[v] = value[0];\n                                segment = segment.replace(`{${v}=*}`, `${value[0]}`);\n                                value.shift();\n                            }\n                            // segment: {blurb_id=*}.{legacy_user=*} matching pathSegments: ['bar~user2'] should fail\n                            if (segment !== pathSegments[0]) {\n                                throw new TypeError(`non slash resource pattern ${this.segments[index]} and ${pathSegments[0]} should have same separator`);\n                            }\n                        }\n                        pathSegments.shift();\n                    }\n                }\n            }\n            else {\n                pathSegments.shift();\n            }\n        }\n        return bindings;\n    }\n    /**\n     * Renders a path template using the provided bindings.\n     *\n     * @param {Object} bindings a mapping of const names to binding strings\n     * @return {String} a rendered representation of the path template\n     * @throws {TypeError} if a key is missing, or if a sub-template cannot be\n     *   parsed\n     */\n    render(bindings) {\n        if (Object.keys(bindings).length !== Object.keys(this.bindings).length) {\n            throw new TypeError(`The number of variables ${Object.keys(bindings).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);\n        }\n        let path = this.inspect();\n        for (const key of Object.keys(bindings)) {\n            const b = bindings[key].toString();\n            if (!this.bindings[key]) {\n                throw new TypeError(`render fails for not matching ${bindings[key]}`);\n            }\n            const variable = this.bindings[key];\n            if (variable === '*') {\n                if (!b.match(/[^/{}]+/)) {\n                    throw new TypeError(`render fails for not matching ${b}`);\n                }\n                path = path.replace(`{${key}=*}`, `${b}`);\n            }\n            else if (variable === '**') {\n                if (!b.match(/[^{}]+/)) {\n                    throw new TypeError(`render fails for not matching ${b}`);\n                }\n                path = path.replace(`{${key}=**}`, `${b}`);\n            }\n        }\n        return path;\n    }\n    /**\n     * Renders the path template.\n     *\n     * @return {string} contains const names matched to binding values\n     */\n    inspect() {\n        return this.segments.join('/');\n    }\n    /**\n     * Parse the path template.\n     *\n     * @return {string[]} return segments of the input path.\n     * For example: 'buckets/{hello}'' will give back ['buckets', {hello=*}]\n     */\n    parsePathTemplate(data) {\n        const pathSegments = splitPathTemplate(data);\n        let index = 0;\n        let wildCardCount = 0;\n        const segments = [];\n        let matches;\n        pathSegments.forEach(segment => {\n            // * or ** -> segments.push('{$0=*}');\n            //         -> bindings['$0'] = '*'\n            if (segment === '*' || segment === '**') {\n                this.bindings[`$${index}`] = segment;\n                segments.push(`{$${index}=${segment}}`);\n                index = index + 1;\n                if (segment === '**') {\n                    ++wildCardCount;\n                }\n            }\n            else if ((matches = segment.match(/\\{[0-9a-zA-Z-.~_]+(?:=.*?)?\\}/g))) {\n                for (const subsegment of matches) {\n                    const pairMatch = subsegment.match(/^\\{([0-9a-zA-Z-.~_]+)(?:=(.*?))?\\}$/);\n                    if (!pairMatch) {\n                        throw new Error(`Cannot process path template segment ${subsegment}`);\n                    }\n                    const key = pairMatch[1];\n                    let value = pairMatch[2];\n                    if (!value) {\n                        value = '*';\n                        segment = segment.replace(key, key + '=*');\n                        this.bindings[key] = value;\n                    }\n                    else if (value === '*') {\n                        this.bindings[key] = value;\n                    }\n                    else if (value === '**') {\n                        ++wildCardCount;\n                        this.bindings[key] = value;\n                    }\n                }\n                segments.push(segment);\n            }\n            else if (segment.match(/[0-9a-zA-Z-.~_]+/)) {\n                segments.push(segment);\n            }\n        });\n        if (wildCardCount > 1) {\n            throw new TypeError('Can not have more than one wildcard.');\n        }\n        return segments;\n    }\n}\nexports.PathTemplate = PathTemplate;\n/**\n * Split the path template by `/`.\n * It can not be simply splitted by `/` because there might be `/` in the segments.\n * For example: 'a/b/{a=hello/world}' we do not want to break the brackets pair\n * so above path will be splitted as ['a', 'b', '{a=hello/world}']\n */\nfunction splitPathTemplate(data) {\n    let left = 0;\n    let right = 0;\n    let bracketCount = 0;\n    const segments = [];\n    while (right >= left && right < data.length) {\n        if (data.charAt(right) === '{') {\n            bracketCount = bracketCount + 1;\n        }\n        else if (data.charAt(right) === '}') {\n            bracketCount = bracketCount - 1;\n        }\n        else if (data.charAt(right) === '/') {\n            if (right === data.length - 1) {\n                throw new TypeError('Invalid path, it can not be ended by /');\n            }\n            if (bracketCount === 0) {\n                // complete bracket, to avoid the case a/b/**/*/{a=hello/world}\n                segments.push(data.substring(left, right));\n                left = right + 1;\n            }\n        }\n        if (right === data.length - 1) {\n            if (bracketCount !== 0) {\n                throw new TypeError('Brackets are invalid.');\n            }\n            segments.push(data.substring(left));\n        }\n        right = right + 1;\n    }\n    return segments;\n}\n//# sourceMappingURL=pathTemplate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9wYXRoVGVtcGxhdGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE1BQU0sK0JBQStCLFVBQVU7QUFDaEc7QUFDQTtBQUNBLGlEQUFpRCxNQUFNLCtCQUErQixVQUFVO0FBQ2hHO0FBQ0E7QUFDQSw0QkFBNEIseURBQXlEO0FBQ3JGO0FBQ0E7QUFDQSxtRUFBbUUsc0JBQXNCLE9BQU8sb0JBQW9CO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxvQkFBb0I7QUFDekU7QUFDQSxrRkFBa0YsUUFBUTtBQUMxRjtBQUNBLHlFQUF5RTtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFdBQVcsRUFBRSxlQUFlO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELFNBQVMsaUJBQWlCLGdCQUFnQjtBQUNyRztBQUNBO0FBQ0E7QUFDQSw0REFBNEQsRUFBRSxFQUFFLEdBQUcsTUFBTSxTQUFTO0FBQ2xGO0FBQ0E7QUFDQSx5Q0FBeUMsV0FBVyxFQUFFLGVBQWU7QUFDckU7QUFDQSxrRkFBa0Ysc0JBQXNCLE1BQU0saUJBQWlCO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCw4QkFBOEIsZ0RBQWdELGtDQUFrQztBQUMzSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGNBQWM7QUFDbkY7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLHlFQUF5RSxFQUFFO0FBQzNFO0FBQ0Esc0NBQXNDLEVBQUUsSUFBSSxHQUFHLE1BQU0sRUFBRTtBQUN2RDtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLHlFQUF5RSxFQUFFO0FBQzNFO0FBQ0Esc0NBQXNDLEVBQUUsSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUIsOEJBQThCLE1BQU0sK0JBQStCLFFBQVE7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxLQUFLO0FBQy9DO0FBQ0E7QUFDQSxrQ0FBa0MsTUFBTTtBQUN4QyxnQ0FBZ0MsR0FBRyxNQUFNLEdBQUcsU0FBUztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELDJCQUEyQjtBQUM1RTtBQUNBLDJEQUEyRCwrQkFBK0I7QUFDMUY7QUFDQSxnRkFBZ0YsV0FBVztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixjQUFjO0FBQ3BDLGtEQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGF0aFRlbXBsYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXRoVGVtcGxhdGUgPSB2b2lkIDA7XG5jbGFzcyBQYXRoVGVtcGxhdGUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIHRoZSBvZiB0aGUgdGVtcGxhdGVcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IHt9O1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gdGhpcy5wYXJzZVBhdGhUZW1wbGF0ZShkYXRhKTtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5zZWdtZW50cy5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgYSBmdWxseS1xdWFsaWZpZWQgcGF0aCB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBhIGZ1bGx5LXF1YWxpZmllZCBwYXRoIHRlbXBsYXRlIHN0cmluZ1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gY29udGFpbnMgY29uc3QgbmFtZXMgbWF0Y2hlZCB0byBiaW5kaW5nIHZhbHVlc1xuICAgICAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gaWYgcGF0aCBjYW4ndCBiZSBtYXRjaGVkIHRvIHRoaXMgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBtYXRjaChwYXRoKSB7XG4gICAgICAgIGxldCBwYXRoU2VnbWVudHMgPSBwYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgIGNvbnN0IGJpbmRpbmdzID0ge307XG4gICAgICAgIGlmIChwYXRoU2VnbWVudHMubGVuZ3RoICE9PSB0aGlzLnNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHBhdGggY29udGFpbnMgYSB3aWxkY2FyZCwgdGhlbiB0aGUgbGVuZ3RoIG1heSBkaWZmZXIgYnkgMS5cbiAgICAgICAgICAgIGlmICghdGhpcy5kYXRhLmluY2x1ZGVzKCcqKicpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhpcyBwYXRoICR7cGF0aH0gZG9lcyBub3QgbWF0Y2ggcGF0aCB0ZW1wbGF0ZSAke3RoaXMuZGF0YX0sIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycyBpcyBub3Qgc2FtZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGhTZWdtZW50cy5sZW5ndGggIT09IHRoaXMuc2VnbWVudHMubGVuZ3RoICsgMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoaXMgcGF0aCAke3BhdGh9IGRvZXMgbm90IG1hdGNoIHBhdGggdGVtcGxhdGUgJHt0aGlzLmRhdGF9LCB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMgaXMgbm90IHNhbWUgd2l0aCBvbmUgd2lsZGNhcmQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2VnbWVudHMubGVuZ3RoICYmIHBhdGhTZWdtZW50cy5sZW5ndGggPiAwOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWdtZW50c1tpbmRleF0gIT09IHBhdGhTZWdtZW50c1swXSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWdtZW50c1tpbmRleF0uaW5jbHVkZXMoJyonKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBzZWdtZW50IGRvZXMgbm90IG1hdGNoLCAke3RoaXMuc2VnbWVudHNbaW5kZXhdfSBhbmQgICR7cGF0aFNlZ21lbnRzW2luZGV4XX0uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2VnbWVudCA9IHRoaXMuc2VnbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gc2VnbWVudC5tYXRjaCgvXFx7WyQwLTlhLXpBLVpfXSs9Lio/XFx9L2cpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBwYXRoIHRlbXBsYXRlIHNlZ21lbnQgJHtzZWdtZW50fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IG1hdGNoZXMubWFwKHN0ciA9PiBzdHIucmVwbGFjZSgvXlxcey8sICcnKS5yZXBsYWNlKC89LiovLCAnJykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC5pbmNsdWRlcygnKionKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZ3NbdmFyaWFibGVzWzBdXSA9IHBhdGhTZWdtZW50c1swXSArICcvJyArIHBhdGhTZWdtZW50c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhTZWdtZW50cyA9IHBhdGhTZWdtZW50cy5zbGljZSgyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0b21pYyByZXNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kaW5nc1t2YXJpYWJsZXNbMF1dID0gcGF0aFNlZ21lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uLXNsYXNoIHJlc291cmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VnbWVudDoge2JsdXJiX2lkPSp9LntsZWdhY3lfdXNlcj0qfSB0byBtYXRjaCBwYXRoU2VnbWVudHM6IFsnYmFyLnVzZXIyJ11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgbWF0Y2ggcGF0aFNlZ21lbnRzWzBdIC0+IHZhbHVlOiBbJ2JhcicsICd1c2VyMiddXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcGFyZSB0aGUgbGVuZ3RoIG9mIHR3byBhcnJheXMsIGFuZCBjb21wYXJlIGFycmF5IGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXRoU2VnbWVudHNbMF0uc3BsaXQoL1stXy5+XS8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IHZhcmlhYmxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzZWdtZW50ICR7c2VnbWVudH0gZG9lcyBub3QgbWF0Y2ggJHtwYXRoU2VnbWVudHNbMF19YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZ3Nbdl0gPSB2YWx1ZVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnQucmVwbGFjZShgeyR7dn09Kn1gLCBgJHt2YWx1ZVswXX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VnbWVudDoge2JsdXJiX2lkPSp9LntsZWdhY3lfdXNlcj0qfSBtYXRjaGluZyBwYXRoU2VnbWVudHM6IFsnYmFyfnVzZXIyJ10gc2hvdWxkIGZhaWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCAhPT0gcGF0aFNlZ21lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG5vbiBzbGFzaCByZXNvdXJjZSBwYXR0ZXJuICR7dGhpcy5zZWdtZW50c1tpbmRleF19IGFuZCAke3BhdGhTZWdtZW50c1swXX0gc2hvdWxkIGhhdmUgc2FtZSBzZXBhcmF0b3JgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoU2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhTZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiaW5kaW5ncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIHBhdGggdGVtcGxhdGUgdXNpbmcgdGhlIHByb3ZpZGVkIGJpbmRpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGJpbmRpbmdzIGEgbWFwcGluZyBvZiBjb25zdCBuYW1lcyB0byBiaW5kaW5nIHN0cmluZ3NcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGEgcmVuZGVyZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGggdGVtcGxhdGVcbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9IGlmIGEga2V5IGlzIG1pc3NpbmcsIG9yIGlmIGEgc3ViLXRlbXBsYXRlIGNhbm5vdCBiZVxuICAgICAqICAgcGFyc2VkXG4gICAgICovXG4gICAgcmVuZGVyKGJpbmRpbmdzKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhiaW5kaW5ncykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyh0aGlzLmJpbmRpbmdzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBudW1iZXIgb2YgdmFyaWFibGVzICR7T2JqZWN0LmtleXMoYmluZGluZ3MpLmxlbmd0aH0gZG9lcyBub3QgbWF0Y2ggdGhlIG51bWJlciBvZiBuZWVkZWQgdmFyaWFibGVzICR7T2JqZWN0LmtleXModGhpcy5iaW5kaW5ncykubGVuZ3RofWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXRoID0gdGhpcy5pbnNwZWN0KCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJpbmRpbmdzKSkge1xuICAgICAgICAgICAgY29uc3QgYiA9IGJpbmRpbmdzW2tleV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaW5kaW5nc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgcmVuZGVyIGZhaWxzIGZvciBub3QgbWF0Y2hpbmcgJHtiaW5kaW5nc1trZXldfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSB0aGlzLmJpbmRpbmdzW2tleV07XG4gICAgICAgICAgICBpZiAodmFyaWFibGUgPT09ICcqJykge1xuICAgICAgICAgICAgICAgIGlmICghYi5tYXRjaCgvW14ve31dKy8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYHJlbmRlciBmYWlscyBmb3Igbm90IG1hdGNoaW5nICR7Yn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShgeyR7a2V5fT0qfWAsIGAke2J9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YXJpYWJsZSA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgIGlmICghYi5tYXRjaCgvW157fV0rLykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgcmVuZGVyIGZhaWxzIGZvciBub3QgbWF0Y2hpbmcgJHtifWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKGB7JHtrZXl9PSoqfWAsIGAke2J9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHBhdGggdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNvbnRhaW5zIGNvbnN0IG5hbWVzIG1hdGNoZWQgdG8gYmluZGluZyB2YWx1ZXNcbiAgICAgKi9cbiAgICBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50cy5qb2luKCcvJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIHRoZSBwYXRoIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nW119IHJldHVybiBzZWdtZW50cyBvZiB0aGUgaW5wdXQgcGF0aC5cbiAgICAgKiBGb3IgZXhhbXBsZTogJ2J1Y2tldHMve2hlbGxvfScnIHdpbGwgZ2l2ZSBiYWNrIFsnYnVja2V0cycsIHtoZWxsbz0qfV1cbiAgICAgKi9cbiAgICBwYXJzZVBhdGhUZW1wbGF0ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHBhdGhTZWdtZW50cyA9IHNwbGl0UGF0aFRlbXBsYXRlKGRhdGEpO1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgd2lsZENhcmRDb3VudCA9IDA7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG4gICAgICAgIGxldCBtYXRjaGVzO1xuICAgICAgICBwYXRoU2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcbiAgICAgICAgICAgIC8vICogb3IgKiogLT4gc2VnbWVudHMucHVzaCgneyQwPSp9Jyk7XG4gICAgICAgICAgICAvLyAgICAgICAgIC0+IGJpbmRpbmdzWyckMCddID0gJyonXG4gICAgICAgICAgICBpZiAoc2VnbWVudCA9PT0gJyonIHx8IHNlZ21lbnQgPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2AkJHtpbmRleH1gXSA9IHNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChgeyQke2luZGV4fT0ke3NlZ21lbnR9fWApO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIGlmIChzZWdtZW50ID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICsrd2lsZENhcmRDb3VudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgobWF0Y2hlcyA9IHNlZ21lbnQubWF0Y2goL1xce1swLTlhLXpBLVotLn5fXSsoPzo9Lio/KT9cXH0vZykpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdWJzZWdtZW50IG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFpck1hdGNoID0gc3Vic2VnbWVudC5tYXRjaCgvXlxceyhbMC05YS16QS1aLS5+X10rKSg/Oj0oLio/KSk/XFx9JC8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhaXJNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcHJvY2VzcyBwYXRoIHRlbXBsYXRlIHNlZ21lbnQgJHtzdWJzZWdtZW50fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXJNYXRjaFsxXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcGFpck1hdGNoWzJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBzZWdtZW50LnJlcGxhY2Uoa2V5LCBrZXkgKyAnPSonKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZGluZ3Nba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZGluZ3Nba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3dpbGRDYXJkQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudC5tYXRjaCgvWzAtOWEtekEtWi0ufl9dKy8pKSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh3aWxkQ2FyZENvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2FuIG5vdCBoYXZlIG1vcmUgdGhhbiBvbmUgd2lsZGNhcmQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgIH1cbn1cbmV4cG9ydHMuUGF0aFRlbXBsYXRlID0gUGF0aFRlbXBsYXRlO1xuLyoqXG4gKiBTcGxpdCB0aGUgcGF0aCB0ZW1wbGF0ZSBieSBgL2AuXG4gKiBJdCBjYW4gbm90IGJlIHNpbXBseSBzcGxpdHRlZCBieSBgL2AgYmVjYXVzZSB0aGVyZSBtaWdodCBiZSBgL2AgaW4gdGhlIHNlZ21lbnRzLlxuICogRm9yIGV4YW1wbGU6ICdhL2Ive2E9aGVsbG8vd29ybGR9JyB3ZSBkbyBub3Qgd2FudCB0byBicmVhayB0aGUgYnJhY2tldHMgcGFpclxuICogc28gYWJvdmUgcGF0aCB3aWxsIGJlIHNwbGl0dGVkIGFzIFsnYScsICdiJywgJ3thPWhlbGxvL3dvcmxkfSddXG4gKi9cbmZ1bmN0aW9uIHNwbGl0UGF0aFRlbXBsYXRlKGRhdGEpIHtcbiAgICBsZXQgbGVmdCA9IDA7XG4gICAgbGV0IHJpZ2h0ID0gMDtcbiAgICBsZXQgYnJhY2tldENvdW50ID0gMDtcbiAgICBjb25zdCBzZWdtZW50cyA9IFtdO1xuICAgIHdoaWxlIChyaWdodCA+PSBsZWZ0ICYmIHJpZ2h0IDwgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGRhdGEuY2hhckF0KHJpZ2h0KSA9PT0gJ3snKSB7XG4gICAgICAgICAgICBicmFja2V0Q291bnQgPSBicmFja2V0Q291bnQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEuY2hhckF0KHJpZ2h0KSA9PT0gJ30nKSB7XG4gICAgICAgICAgICBicmFja2V0Q291bnQgPSBicmFja2V0Q291bnQgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEuY2hhckF0KHJpZ2h0KSA9PT0gJy8nKSB7XG4gICAgICAgICAgICBpZiAocmlnaHQgPT09IGRhdGEubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0aCwgaXQgY2FuIG5vdCBiZSBlbmRlZCBieSAvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnJhY2tldENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gY29tcGxldGUgYnJhY2tldCwgdG8gYXZvaWQgdGhlIGNhc2UgYS9iLyoqLyove2E9aGVsbG8vd29ybGR9XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChkYXRhLnN1YnN0cmluZyhsZWZ0LCByaWdodCkpO1xuICAgICAgICAgICAgICAgIGxlZnQgPSByaWdodCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0ID09PSBkYXRhLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGlmIChicmFja2V0Q291bnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCcmFja2V0cyBhcmUgaW52YWxpZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goZGF0YS5zdWJzdHJpbmcobGVmdCkpO1xuICAgICAgICB9XG4gICAgICAgIHJpZ2h0ID0gcmlnaHQgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXRoVGVtcGxhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/pathTemplate.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/protosList.json":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/src/protosList.json ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('["google/api/annotations.proto","google/api/apikeys/v2/apikeys.proto","google/api/apikeys/v2/resources.proto","google/api/auth.proto","google/api/backend.proto","google/api/billing.proto","google/api/client.proto","google/api/cloudquotas/v1/cloudquotas.proto","google/api/cloudquotas/v1/resources.proto","google/api/config_change.proto","google/api/consumer.proto","google/api/context.proto","google/api/control.proto","google/api/distribution.proto","google/api/documentation.proto","google/api/endpoint.proto","google/api/error_reason.proto","google/api/expr/conformance/v1alpha1/conformance_service.proto","google/api/expr/v1alpha1/checked.proto","google/api/expr/v1alpha1/eval.proto","google/api/expr/v1alpha1/explain.proto","google/api/expr/v1alpha1/syntax.proto","google/api/expr/v1alpha1/value.proto","google/api/expr/v1beta1/decl.proto","google/api/expr/v1beta1/eval.proto","google/api/expr/v1beta1/expr.proto","google/api/expr/v1beta1/source.proto","google/api/expr/v1beta1/value.proto","google/api/field_behavior.proto","google/api/field_info.proto","google/api/http.proto","google/api/httpbody.proto","google/api/label.proto","google/api/launch_stage.proto","google/api/log.proto","google/api/logging.proto","google/api/metric.proto","google/api/monitored_resource.proto","google/api/monitoring.proto","google/api/policy.proto","google/api/quota.proto","google/api/resource.proto","google/api/routing.proto","google/api/service.proto","google/api/servicecontrol/v1/check_error.proto","google/api/servicecontrol/v1/distribution.proto","google/api/servicecontrol/v1/http_request.proto","google/api/servicecontrol/v1/log_entry.proto","google/api/servicecontrol/v1/metric_value.proto","google/api/servicecontrol/v1/operation.proto","google/api/servicecontrol/v1/quota_controller.proto","google/api/servicecontrol/v1/service_controller.proto","google/api/servicecontrol/v2/service_controller.proto","google/api/servicemanagement/v1/resources.proto","google/api/servicemanagement/v1/servicemanager.proto","google/api/serviceusage/v1/resources.proto","google/api/serviceusage/v1/serviceusage.proto","google/api/serviceusage/v1beta1/resources.proto","google/api/serviceusage/v1beta1/serviceusage.proto","google/api/source_info.proto","google/api/system_parameter.proto","google/api/usage.proto","google/api/visibility.proto","google/cloud/location/locations.proto","google/iam/v1/iam_policy.proto","google/iam/v1/logging/audit_data.proto","google/iam/v1/options.proto","google/iam/v1/policy.proto","google/logging/type/http_request.proto","google/logging/type/log_severity.proto","google/longrunning/operations.proto","google/monitoring/v3/alert.proto","google/monitoring/v3/alert_service.proto","google/monitoring/v3/common.proto","google/monitoring/v3/dropped_labels.proto","google/monitoring/v3/group.proto","google/monitoring/v3/group_service.proto","google/monitoring/v3/metric.proto","google/monitoring/v3/metric_service.proto","google/monitoring/v3/mutation_record.proto","google/monitoring/v3/notification.proto","google/monitoring/v3/notification_service.proto","google/monitoring/v3/query_service.proto","google/monitoring/v3/service.proto","google/monitoring/v3/service_service.proto","google/monitoring/v3/snooze.proto","google/monitoring/v3/snooze_service.proto","google/monitoring/v3/span_context.proto","google/monitoring/v3/uptime.proto","google/monitoring/v3/uptime_service.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/bridge/message_set.proto","google/protobuf/compiler/plugin.proto","google/protobuf/compiler/ruby/ruby_generated_code.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2_import.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit_legacy.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_implicit.proto","google/protobuf/cpp_features.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/util/json_format.proto","google/protobuf/util/json_format_proto3.proto","google/protobuf/wrappers.proto","google/rpc/code.proto","google/rpc/context/attribute_context.proto","google/rpc/context/audit_context.proto","google/rpc/error_details.proto","google/rpc/http.proto","google/rpc/status.proto","google/type/calendar_period.proto","google/type/color.proto","google/type/date.proto","google/type/datetime.proto","google/type/dayofweek.proto","google/type/decimal.proto","google/type/expr.proto","google/type/fraction.proto","google/type/interval.proto","google/type/latlng.proto","google/type/localized_text.proto","google/type/money.proto","google/type/month.proto","google/type/phone_number.proto","google/type/postal_address.proto","google/type/quaternion.proto","google/type/timeofday.proto"]');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/routingHeader.js":
/*!************************************************************!*\
  !*** ./node_modules/google-gax/build/src/routingHeader.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fromParams = fromParams;\nconst querystring = __webpack_require__(/*! querystring */ \"querystring\");\n/**\n * Helpers for constructing routing headers.\n *\n * These headers are used by Google infrastructure to determine how to route\n * requests, especially for services that are regional.\n *\n * Generally, these headers are specified as gRPC metadata.\n */\n/**\n * Constructs the routing header from the given params\n *\n * @param {Object} params - the request header parameters.\n * @return {string} the routing header value.\n */\nfunction fromParams(params) {\n    return querystring.stringify(params);\n}\n//# sourceMappingURL=routingHeader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9yb3V0aW5nSGVhZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixvQkFBb0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcm91dGluZ0hlYWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZnJvbVBhcmFtcyA9IGZyb21QYXJhbXM7XG5jb25zdCBxdWVyeXN0cmluZyA9IHJlcXVpcmUoXCJxdWVyeXN0cmluZ1wiKTtcbi8qKlxuICogSGVscGVycyBmb3IgY29uc3RydWN0aW5nIHJvdXRpbmcgaGVhZGVycy5cbiAqXG4gKiBUaGVzZSBoZWFkZXJzIGFyZSB1c2VkIGJ5IEdvb2dsZSBpbmZyYXN0cnVjdHVyZSB0byBkZXRlcm1pbmUgaG93IHRvIHJvdXRlXG4gKiByZXF1ZXN0cywgZXNwZWNpYWxseSBmb3Igc2VydmljZXMgdGhhdCBhcmUgcmVnaW9uYWwuXG4gKlxuICogR2VuZXJhbGx5LCB0aGVzZSBoZWFkZXJzIGFyZSBzcGVjaWZpZWQgYXMgZ1JQQyBtZXRhZGF0YS5cbiAqL1xuLyoqXG4gKiBDb25zdHJ1Y3RzIHRoZSByb3V0aW5nIGhlYWRlciBmcm9tIHRoZSBnaXZlbiBwYXJhbXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gdGhlIHJlcXVlc3QgaGVhZGVyIHBhcmFtZXRlcnMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSByb3V0aW5nIGhlYWRlciB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZnJvbVBhcmFtcyhwYXJhbXMpIHtcbiAgICByZXR1cm4gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHBhcmFtcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0aW5nSGVhZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/routingHeader.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/status.js":
/*!*****************************************************!*\
  !*** ./node_modules/google-gax/build/src/status.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HttpCodeToRpcCodeMap = exports.Status = void 0;\nexports.rpcCodeFromHttpStatusCode = rpcCodeFromHttpStatusCode;\n// The following is a copy of the Status enum defined in @grpc/grpc-js,\n// src/constants.ts. We need to use some of these statuses here and there,\n// but we don't want to include the whole @grpc/grpc-js into the browser\n// bundle just to have this small enum.\nvar Status;\n(function (Status) {\n    Status[Status[\"OK\"] = 0] = \"OK\";\n    Status[Status[\"CANCELLED\"] = 1] = \"CANCELLED\";\n    Status[Status[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n    Status[Status[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n    Status[Status[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n    Status[Status[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n    Status[Status[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n    Status[Status[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n    Status[Status[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n    Status[Status[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n    Status[Status[\"ABORTED\"] = 10] = \"ABORTED\";\n    Status[Status[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n    Status[Status[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n    Status[Status[\"INTERNAL\"] = 13] = \"INTERNAL\";\n    Status[Status[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n    Status[Status[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n    Status[Status[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n})(Status || (exports.Status = Status = {}));\nexports.HttpCodeToRpcCodeMap = new Map([\n    [400, Status.INVALID_ARGUMENT],\n    [401, Status.UNAUTHENTICATED],\n    [403, Status.PERMISSION_DENIED],\n    [404, Status.NOT_FOUND],\n    [409, Status.ABORTED],\n    [416, Status.OUT_OF_RANGE],\n    [429, Status.RESOURCE_EXHAUSTED],\n    [499, Status.CANCELLED],\n    [501, Status.UNIMPLEMENTED],\n    [503, Status.UNAVAILABLE],\n    [504, Status.DEADLINE_EXCEEDED],\n]);\n// Maps HTTP status codes to gRPC status codes above.\nfunction rpcCodeFromHttpStatusCode(httpStatusCode) {\n    if (exports.HttpCodeToRpcCodeMap.has(httpStatusCode)) {\n        return exports.HttpCodeToRpcCodeMap.get(httpStatusCode);\n    }\n    // All 2xx\n    if (httpStatusCode >= 200 && httpStatusCode < 300) {\n        return Status.OK;\n    }\n    // All other 4xx\n    if (httpStatusCode >= 400 && httpStatusCode < 500) {\n        return Status.FAILED_PRECONDITION;\n    }\n    // All other 5xx\n    if (httpStatusCode >= 500 && httpStatusCode < 600) {\n        return Status.INTERNAL;\n    }\n    // Everything else\n    return Status.UNKNOWN;\n}\n//# sourceMappingURL=status.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdGF0dXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNEJBQTRCLEdBQUcsY0FBYztBQUM3QyxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsYUFBYSxjQUFjLGNBQWM7QUFDMUMsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL3N0YXR1cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSHR0cENvZGVUb1JwY0NvZGVNYXAgPSBleHBvcnRzLlN0YXR1cyA9IHZvaWQgMDtcbmV4cG9ydHMucnBjQ29kZUZyb21IdHRwU3RhdHVzQ29kZSA9IHJwY0NvZGVGcm9tSHR0cFN0YXR1c0NvZGU7XG4vLyBUaGUgZm9sbG93aW5nIGlzIGEgY29weSBvZiB0aGUgU3RhdHVzIGVudW0gZGVmaW5lZCBpbiBAZ3JwYy9ncnBjLWpzLFxuLy8gc3JjL2NvbnN0YW50cy50cy4gV2UgbmVlZCB0byB1c2Ugc29tZSBvZiB0aGVzZSBzdGF0dXNlcyBoZXJlIGFuZCB0aGVyZSxcbi8vIGJ1dCB3ZSBkb24ndCB3YW50IHRvIGluY2x1ZGUgdGhlIHdob2xlIEBncnBjL2dycGMtanMgaW50byB0aGUgYnJvd3NlclxuLy8gYnVuZGxlIGp1c3QgdG8gaGF2ZSB0aGlzIHNtYWxsIGVudW0uXG52YXIgU3RhdHVzO1xuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICBTdGF0dXNbU3RhdHVzW1wiT0tcIl0gPSAwXSA9IFwiT0tcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiQ0FOQ0VMTEVEXCJdID0gMV0gPSBcIkNBTkNFTExFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTktOT1dOXCJdID0gMl0gPSBcIlVOS05PV05cIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiSU5WQUxJRF9BUkdVTUVOVFwiXSA9IDNdID0gXCJJTlZBTElEX0FSR1VNRU5UXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkRFQURMSU5FX0VYQ0VFREVEXCJdID0gNF0gPSBcIkRFQURMSU5FX0VYQ0VFREVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIk5PVF9GT1VORFwiXSA9IDVdID0gXCJOT1RfRk9VTkRcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiQUxSRUFEWV9FWElTVFNcIl0gPSA2XSA9IFwiQUxSRUFEWV9FWElTVFNcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiUEVSTUlTU0lPTl9ERU5JRURcIl0gPSA3XSA9IFwiUEVSTUlTU0lPTl9ERU5JRURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiUkVTT1VSQ0VfRVhIQVVTVEVEXCJdID0gOF0gPSBcIlJFU09VUkNFX0VYSEFVU1RFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJGQUlMRURfUFJFQ09ORElUSU9OXCJdID0gOV0gPSBcIkZBSUxFRF9QUkVDT05ESVRJT05cIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiQUJPUlRFRFwiXSA9IDEwXSA9IFwiQUJPUlRFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJPVVRfT0ZfUkFOR0VcIl0gPSAxMV0gPSBcIk9VVF9PRl9SQU5HRVwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTklNUExFTUVOVEVEXCJdID0gMTJdID0gXCJVTklNUExFTUVOVEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIklOVEVSTkFMXCJdID0gMTNdID0gXCJJTlRFUk5BTFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTkFWQUlMQUJMRVwiXSA9IDE0XSA9IFwiVU5BVkFJTEFCTEVcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiREFUQV9MT1NTXCJdID0gMTVdID0gXCJEQVRBX0xPU1NcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5BVVRIRU5USUNBVEVEXCJdID0gMTZdID0gXCJVTkFVVEhFTlRJQ0FURURcIjtcbn0pKFN0YXR1cyB8fCAoZXhwb3J0cy5TdGF0dXMgPSBTdGF0dXMgPSB7fSkpO1xuZXhwb3J0cy5IdHRwQ29kZVRvUnBjQ29kZU1hcCA9IG5ldyBNYXAoW1xuICAgIFs0MDAsIFN0YXR1cy5JTlZBTElEX0FSR1VNRU5UXSxcbiAgICBbNDAxLCBTdGF0dXMuVU5BVVRIRU5USUNBVEVEXSxcbiAgICBbNDAzLCBTdGF0dXMuUEVSTUlTU0lPTl9ERU5JRURdLFxuICAgIFs0MDQsIFN0YXR1cy5OT1RfRk9VTkRdLFxuICAgIFs0MDksIFN0YXR1cy5BQk9SVEVEXSxcbiAgICBbNDE2LCBTdGF0dXMuT1VUX09GX1JBTkdFXSxcbiAgICBbNDI5LCBTdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVEXSxcbiAgICBbNDk5LCBTdGF0dXMuQ0FOQ0VMTEVEXSxcbiAgICBbNTAxLCBTdGF0dXMuVU5JTVBMRU1FTlRFRF0sXG4gICAgWzUwMywgU3RhdHVzLlVOQVZBSUxBQkxFXSxcbiAgICBbNTA0LCBTdGF0dXMuREVBRExJTkVfRVhDRUVERURdLFxuXSk7XG4vLyBNYXBzIEhUVFAgc3RhdHVzIGNvZGVzIHRvIGdSUEMgc3RhdHVzIGNvZGVzIGFib3ZlLlxuZnVuY3Rpb24gcnBjQ29kZUZyb21IdHRwU3RhdHVzQ29kZShodHRwU3RhdHVzQ29kZSkge1xuICAgIGlmIChleHBvcnRzLkh0dHBDb2RlVG9ScGNDb2RlTWFwLmhhcyhodHRwU3RhdHVzQ29kZSkpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuSHR0cENvZGVUb1JwY0NvZGVNYXAuZ2V0KGh0dHBTdGF0dXNDb2RlKTtcbiAgICB9XG4gICAgLy8gQWxsIDJ4eFxuICAgIGlmIChodHRwU3RhdHVzQ29kZSA+PSAyMDAgJiYgaHR0cFN0YXR1c0NvZGUgPCAzMDApIHtcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5PSztcbiAgICB9XG4gICAgLy8gQWxsIG90aGVyIDR4eFxuICAgIGlmIChodHRwU3RhdHVzQ29kZSA+PSA0MDAgJiYgaHR0cFN0YXR1c0NvZGUgPCA1MDApIHtcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5GQUlMRURfUFJFQ09ORElUSU9OO1xuICAgIH1cbiAgICAvLyBBbGwgb3RoZXIgNXh4XG4gICAgaWYgKGh0dHBTdGF0dXNDb2RlID49IDUwMCAmJiBodHRwU3RhdHVzQ29kZSA8IDYwMCkge1xuICAgICAgICByZXR1cm4gU3RhdHVzLklOVEVSTkFMO1xuICAgIH1cbiAgICAvLyBFdmVyeXRoaW5nIGVsc2VcbiAgICByZXR1cm4gU3RhdHVzLlVOS05PV047XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0dXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/status.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/streamArrayParser.js":
/*!****************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamArrayParser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamArrayParser = void 0;\nconst abort_controller_1 = __webpack_require__(/*! abort-controller */ \"(action-browser)/./node_modules/abort-controller/dist/abort-controller.js\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst fallbackRest_1 = __webpack_require__(/*! ./fallbackRest */ \"(action-browser)/./node_modules/google-gax/build/src/fallbackRest.js\");\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(action-browser)/./node_modules/google-gax/build/src/featureDetection.js\");\nclass StreamArrayParser extends stream_1.Transform {\n    /**\n     * StreamArrayParser processes array of valid JSON objects in random chunks\n     * through readable stream, and produces a stream of plain Javascript objects\n     * where it converted from the corresponding protobuf message instance.\n     *\n     * The default JSON parser decodes the input stream under the\n     * following rules:\n     *  1. The stream represents a valid JSON array (must start with a \"[\" and\n     * close with the corresponding \"]\"). Each element of this array is assumed to\n     * be either an array or an object, and will be decoded as a JS object and\n     *    delivered.\n     *  2. All JSON elements in the buffer will be decoded and delivered in a\n     * stream.\n     *\n     * @private\n     * @constructor\n     * @param {protobuf.Method} rpc - the protobuf method produce array of JSON.\n     * @param {Object} options - the options pass to Transform Stream. See more\n     * details\n     * https://nodejs.org/api/stream.html#stream_new_stream_transform_options.\n     */\n    constructor(rpc, options) {\n        super(Object.assign({}, options, { readableObjectMode: true }));\n        this._done = false;\n        this._prevBlock = Buffer.from('');\n        this._isInString = false;\n        this._isSkipped = false;\n        this._level = 0;\n        this.rpc = rpc;\n        this.cancelController = (0, featureDetection_1.hasAbortController)()\n            ? new AbortController()\n            : new abort_controller_1.AbortController();\n        this.cancelSignal = this.cancelController.signal;\n        this.cancelRequested = false;\n    }\n    _transform(chunk, _, callback) {\n        let objectStart = 0;\n        let curIndex = 0;\n        if (this._level === 0 && curIndex === 0) {\n            if (String.fromCharCode(chunk[0]) !== '[') {\n                this.emit('error', new Error(`Internal Error: API service stream data must start with a '[' and close with the corresponding ']', but it start with ${String.fromCharCode(chunk[0])}`));\n            }\n            curIndex++;\n            this._level++;\n        }\n        while (curIndex < chunk.length) {\n            const curValue = String.fromCharCode(chunk[curIndex]);\n            if (!this._isSkipped) {\n                switch (curValue) {\n                    case '{':\n                        // Check if it's in string, we ignore the curly brace in string.\n                        // Otherwise the object level++.\n                        if (!this._isInString) {\n                            this._level++;\n                        }\n                        if (!this._isInString && this._level === 2) {\n                            objectStart = curIndex;\n                        }\n                        break;\n                    case '\"':\n                        // Flip the string status\n                        this._isInString = !this._isInString;\n                        break;\n                    case '}':\n                        // check if it's in string\n                        // if true, do nothing\n                        // if false and level = 0, push data\n                        if (!this._isInString) {\n                            this._level--;\n                        }\n                        if (!this._isInString && this._level === 1) {\n                            // find a object\n                            const objBuff = Buffer.concat([\n                                this._prevBlock,\n                                chunk.slice(objectStart, curIndex + 1),\n                            ]);\n                            try {\n                                // HTTP response.ok is true.\n                                const msgObj = (0, fallbackRest_1.decodeResponse)(this.rpc, true, objBuff);\n                                this.push(msgObj);\n                            }\n                            catch (err) {\n                                this.emit('error', err);\n                            }\n                            objectStart = curIndex + 1;\n                            this._prevBlock = Buffer.from('');\n                        }\n                        break;\n                    case ']':\n                        if (!this._isInString && this._level === 1) {\n                            this._done = true;\n                            this.push(null);\n                        }\n                        break;\n                    case '\\\\':\n                        // Escaping escape character.\n                        this._isSkipped = true;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else {\n                this._isSkipped = false;\n            }\n            curIndex++;\n        }\n        if (this._level > 1) {\n            this._prevBlock = Buffer.concat([\n                this._prevBlock,\n                chunk.slice(objectStart, curIndex),\n            ]);\n        }\n        callback();\n    }\n    _flush(callback) {\n        callback();\n    }\n    cancel() {\n        this._done = true;\n        this.cancelRequested = true;\n        this.cancelController.abort();\n        this.end();\n    }\n}\nexports.StreamArrayParser = StreamArrayParser;\n//# sourceMappingURL=streamArrayParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdHJlYW1BcnJheVBhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekIsMkJBQTJCLG1CQUFPLENBQUMsbUdBQWtCO0FBQ3JELGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLDRGQUFnQjtBQUMvQywyQkFBMkIsbUJBQU8sQ0FBQyxvR0FBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixhQUFhLDBCQUEwQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0tBQXNLLDhCQUE4QjtBQUNwTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RyZWFtQXJyYXlQYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cmVhbUFycmF5UGFyc2VyID0gdm9pZCAwO1xuY29uc3QgYWJvcnRfY29udHJvbGxlcl8xID0gcmVxdWlyZShcImFib3J0LWNvbnRyb2xsZXJcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBmYWxsYmFja1Jlc3RfMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrUmVzdFwiKTtcbmNvbnN0IGZlYXR1cmVEZXRlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2ZlYXR1cmVEZXRlY3Rpb25cIik7XG5jbGFzcyBTdHJlYW1BcnJheVBhcnNlciBleHRlbmRzIHN0cmVhbV8xLlRyYW5zZm9ybSB7XG4gICAgLyoqXG4gICAgICogU3RyZWFtQXJyYXlQYXJzZXIgcHJvY2Vzc2VzIGFycmF5IG9mIHZhbGlkIEpTT04gb2JqZWN0cyBpbiByYW5kb20gY2h1bmtzXG4gICAgICogdGhyb3VnaCByZWFkYWJsZSBzdHJlYW0sIGFuZCBwcm9kdWNlcyBhIHN0cmVhbSBvZiBwbGFpbiBKYXZhc2NyaXB0IG9iamVjdHNcbiAgICAgKiB3aGVyZSBpdCBjb252ZXJ0ZWQgZnJvbSB0aGUgY29ycmVzcG9uZGluZyBwcm90b2J1ZiBtZXNzYWdlIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgSlNPTiBwYXJzZXIgZGVjb2RlcyB0aGUgaW5wdXQgc3RyZWFtIHVuZGVyIHRoZVxuICAgICAqIGZvbGxvd2luZyBydWxlczpcbiAgICAgKiAgMS4gVGhlIHN0cmVhbSByZXByZXNlbnRzIGEgdmFsaWQgSlNPTiBhcnJheSAobXVzdCBzdGFydCB3aXRoIGEgXCJbXCIgYW5kXG4gICAgICogY2xvc2Ugd2l0aCB0aGUgY29ycmVzcG9uZGluZyBcIl1cIikuIEVhY2ggZWxlbWVudCBvZiB0aGlzIGFycmF5IGlzIGFzc3VtZWQgdG9cbiAgICAgKiBiZSBlaXRoZXIgYW4gYXJyYXkgb3IgYW4gb2JqZWN0LCBhbmQgd2lsbCBiZSBkZWNvZGVkIGFzIGEgSlMgb2JqZWN0IGFuZFxuICAgICAqICAgIGRlbGl2ZXJlZC5cbiAgICAgKiAgMi4gQWxsIEpTT04gZWxlbWVudHMgaW4gdGhlIGJ1ZmZlciB3aWxsIGJlIGRlY29kZWQgYW5kIGRlbGl2ZXJlZCBpbiBhXG4gICAgICogc3RyZWFtLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge3Byb3RvYnVmLk1ldGhvZH0gcnBjIC0gdGhlIHByb3RvYnVmIG1ldGhvZCBwcm9kdWNlIGFycmF5IG9mIEpTT04uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSB0aGUgb3B0aW9ucyBwYXNzIHRvIFRyYW5zZm9ybSBTdHJlYW0uIFNlZSBtb3JlXG4gICAgICogZGV0YWlsc1xuICAgICAqIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvc3RyZWFtLmh0bWwjc3RyZWFtX25ld19zdHJlYW1fdHJhbnNmb3JtX29wdGlvbnMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocnBjLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHsgcmVhZGFibGVPYmplY3RNb2RlOiB0cnVlIH0pKTtcbiAgICAgICAgdGhpcy5fZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wcmV2QmxvY2sgPSBCdWZmZXIuZnJvbSgnJyk7XG4gICAgICAgIHRoaXMuX2lzSW5TdHJpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNTa2lwcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xldmVsID0gMDtcbiAgICAgICAgdGhpcy5ycGMgPSBycGM7XG4gICAgICAgIHRoaXMuY2FuY2VsQ29udHJvbGxlciA9ICgwLCBmZWF0dXJlRGV0ZWN0aW9uXzEuaGFzQWJvcnRDb250cm9sbGVyKSgpXG4gICAgICAgICAgICA/IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAgICAgICAgICAgOiBuZXcgYWJvcnRfY29udHJvbGxlcl8xLkFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLmNhbmNlbFNpZ25hbCA9IHRoaXMuY2FuY2VsQ29udHJvbGxlci5zaWduYWw7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgfVxuICAgIF90cmFuc2Zvcm0oY2h1bmssIF8sIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBvYmplY3RTdGFydCA9IDA7XG4gICAgICAgIGxldCBjdXJJbmRleCA9IDA7XG4gICAgICAgIGlmICh0aGlzLl9sZXZlbCA9PT0gMCAmJiBjdXJJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKFN0cmluZy5mcm9tQ2hhckNvZGUoY2h1bmtbMF0pICE9PSAnWycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKGBJbnRlcm5hbCBFcnJvcjogQVBJIHNlcnZpY2Ugc3RyZWFtIGRhdGEgbXVzdCBzdGFydCB3aXRoIGEgJ1snIGFuZCBjbG9zZSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nICddJywgYnV0IGl0IHN0YXJ0IHdpdGggJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGNodW5rWzBdKX1gKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJJbmRleCsrO1xuICAgICAgICAgICAgdGhpcy5fbGV2ZWwrKztcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoY3VySW5kZXggPCBjaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1clZhbHVlID0gU3RyaW5nLmZyb21DaGFyQ29kZShjaHVua1tjdXJJbmRleF0pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1NraXBwZWQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGN1clZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3snOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBpbiBzdHJpbmcsIHdlIGlnbm9yZSB0aGUgY3VybHkgYnJhY2UgaW4gc3RyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSBvYmplY3QgbGV2ZWwrKy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNJblN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzSW5TdHJpbmcgJiYgdGhpcy5fbGV2ZWwgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RTdGFydCA9IGN1ckluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZsaXAgdGhlIHN0cmluZyBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzSW5TdHJpbmcgPSAhdGhpcy5faXNJblN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0J3MgaW4gc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0cnVlLCBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBmYWxzZSBhbmQgbGV2ZWwgPSAwLCBwdXNoIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNJblN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzSW5TdHJpbmcgJiYgdGhpcy5fbGV2ZWwgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGEgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqQnVmZiA9IEJ1ZmZlci5jb25jYXQoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmV2QmxvY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnNsaWNlKG9iamVjdFN0YXJ0LCBjdXJJbmRleCArIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhUVFAgcmVzcG9uc2Uub2sgaXMgdHJ1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnT2JqID0gKDAsIGZhbGxiYWNrUmVzdF8xLmRlY29kZVJlc3BvbnNlKSh0aGlzLnJwYywgdHJ1ZSwgb2JqQnVmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChtc2dPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RTdGFydCA9IGN1ckluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmV2QmxvY2sgPSBCdWZmZXIuZnJvbSgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnXSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzSW5TdHJpbmcgJiYgdGhpcy5fbGV2ZWwgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFc2NhcGluZyBlc2NhcGUgY2hhcmFjdGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTa2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNTa2lwcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9sZXZlbCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZCbG9jayA9IEJ1ZmZlci5jb25jYXQoW1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZCbG9jayxcbiAgICAgICAgICAgICAgICBjaHVuay5zbGljZShvYmplY3RTdGFydCwgY3VySW5kZXgpLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgX2ZsdXNoKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5fZG9uZSA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYW5jZWxDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIHRoaXMuZW5kKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TdHJlYW1BcnJheVBhcnNlciA9IFN0cmVhbUFycmF5UGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtQXJyYXlQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/streamArrayParser.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js":
/*!******************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamDescriptor = void 0;\nconst streamingApiCaller_1 = __webpack_require__(/*! ./streamingApiCaller */ \"(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js\");\n/**\n * A descriptor for streaming calls.\n */\nclass StreamDescriptor {\n    constructor(streamType, rest, gaxStreamingRetries) {\n        this.type = streamType;\n        this.streaming = true;\n        this.rest = rest;\n        this.gaxStreamingRetries = gaxStreamingRetries;\n    }\n    getApiCaller() {\n        // Right now retrying does not work with gRPC-streaming, because retryable\n        // assumes an API call returns an event emitter while gRPC-streaming methods\n        // return Stream.\n        return new streamingApiCaller_1.StreamingApiCaller(this);\n    }\n}\nexports.StreamDescriptor = StreamDescriptor;\n//# sourceMappingURL=streamDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdHJlYW1pbmdDYWxscy9zdHJlYW1EZXNjcmlwdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4Qiw2QkFBNkIsbUJBQU8sQ0FBQyx1SEFBc0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL3N0cmVhbWluZ0NhbGxzL3N0cmVhbURlc2NyaXB0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cmVhbURlc2NyaXB0b3IgPSB2b2lkIDA7XG5jb25zdCBzdHJlYW1pbmdBcGlDYWxsZXJfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbWluZ0FwaUNhbGxlclwiKTtcbi8qKlxuICogQSBkZXNjcmlwdG9yIGZvciBzdHJlYW1pbmcgY2FsbHMuXG4gKi9cbmNsYXNzIFN0cmVhbURlc2NyaXB0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0cmVhbVR5cGUsIHJlc3QsIGdheFN0cmVhbWluZ1JldHJpZXMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gc3RyZWFtVHlwZTtcbiAgICAgICAgdGhpcy5zdHJlYW1pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlc3QgPSByZXN0O1xuICAgICAgICB0aGlzLmdheFN0cmVhbWluZ1JldHJpZXMgPSBnYXhTdHJlYW1pbmdSZXRyaWVzO1xuICAgIH1cbiAgICBnZXRBcGlDYWxsZXIoKSB7XG4gICAgICAgIC8vIFJpZ2h0IG5vdyByZXRyeWluZyBkb2VzIG5vdCB3b3JrIHdpdGggZ1JQQy1zdHJlYW1pbmcsIGJlY2F1c2UgcmV0cnlhYmxlXG4gICAgICAgIC8vIGFzc3VtZXMgYW4gQVBJIGNhbGwgcmV0dXJucyBhbiBldmVudCBlbWl0dGVyIHdoaWxlIGdSUEMtc3RyZWFtaW5nIG1ldGhvZHNcbiAgICAgICAgLy8gcmV0dXJuIFN0cmVhbS5cbiAgICAgICAgcmV0dXJuIG5ldyBzdHJlYW1pbmdBcGlDYWxsZXJfMS5TdHJlYW1pbmdBcGlDYWxsZXIodGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5TdHJlYW1EZXNjcmlwdG9yID0gU3RyZWFtRGVzY3JpcHRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbURlc2NyaXB0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streaming.js":
/*!***********************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamingCalls/streaming.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamProxy = exports.StreamType = void 0;\nconst gax_1 = __webpack_require__(/*! ../gax */ \"(action-browser)/./node_modules/google-gax/build/src/gax.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(action-browser)/./node_modules/google-gax/build/src/googleError.js\");\nconst status_1 = __webpack_require__(/*! ../status */ \"(action-browser)/./node_modules/google-gax/build/src/status.js\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst duplexify = __webpack_require__(/*! duplexify */ \"(action-browser)/./node_modules/duplexify/index.js\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst retryRequest = __webpack_require__(/*! retry-request */ \"(action-browser)/./node_modules/retry-request/index.js\");\n/**\n * The type of gRPC streaming.\n * @enum {number}\n */\nvar StreamType;\n(function (StreamType) {\n    /** Client sends a single request, server streams responses. */\n    StreamType[StreamType[\"SERVER_STREAMING\"] = 1] = \"SERVER_STREAMING\";\n    /** Client streams requests, server returns a single response. */\n    StreamType[StreamType[\"CLIENT_STREAMING\"] = 2] = \"CLIENT_STREAMING\";\n    /** Both client and server stream objects. */\n    StreamType[StreamType[\"BIDI_STREAMING\"] = 3] = \"BIDI_STREAMING\";\n})(StreamType || (exports.StreamType = StreamType = {}));\n// In retry-request, you could pass parameters to request using the requestOpts parameter\n// when we called retry-request from gax, we always passed null\n// passing null here removes an unnecessary parameter from this implementation\nconst requestOps = null;\nclass StreamProxy extends duplexify {\n    /**\n     * StreamProxy is a proxy to gRPC-streaming method.\n     *\n     * @private\n     * @constructor\n     * @param {StreamType} type - the type of gRPC stream.\n     * @param {ApiCallback} callback - the callback for further API call.\n     */\n    constructor(type, callback, rest, gaxServerStreamingRetries) {\n        super(undefined, undefined, {\n            objectMode: true,\n            readable: type !== StreamType.CLIENT_STREAMING,\n            writable: type !== StreamType.SERVER_STREAMING,\n        });\n        this.type = type;\n        this._callback = callback;\n        this._isCancelCalled = false;\n        this._responseHasSent = false;\n        this.rest = rest;\n        this.gaxServerStreamingRetries = gaxServerStreamingRetries;\n    }\n    shouldRetryRequest(error, retry) {\n        const e = googleError_1.GoogleError.parseGRPCStatusDetails(error);\n        let shouldRetry = this.defaultShouldRetry(e, retry);\n        if (retry.shouldRetryFn) {\n            shouldRetry = retry.shouldRetryFn(e);\n        }\n        return shouldRetry;\n    }\n    cancel() {\n        if (this.stream) {\n            this.stream.cancel();\n        }\n        else {\n            this._isCancelCalled = true;\n        }\n    }\n    /**\n     * Helper function to handle total timeout + max retry check for server streaming retries\n     * @param {number} deadline - the current retry deadline\n     * @param {number} maxRetries - maximum total number of retries\n     * @param {number} totalTimeoutMillis - total timeout in milliseconds used in timeout calculation\n     * @param {GoogleError} originalError - underlying error received by the stream\n     * @param {originalTimeout} originalTimeout - the original Timeout set in backoff settings\n     * @param {retries} retries - the number of retries the call has made so far\n     */\n    throwIfMaxRetriesOrTotalTimeoutExceeded(deadline, maxRetries, totalTimeoutMillis, originalError, originalTimeout, retries) {\n        const now = new Date();\n        const nowTime = now.getTime();\n        if (originalTimeout &&\n            (totalTimeoutMillis === 0 ||\n                totalTimeoutMillis < 0 ||\n                (deadline && nowTime >= deadline))) {\n            const error = new googleError_1.GoogleError(`Total timeout of API exceeded ${originalTimeout} milliseconds ${originalError ? `retrying error ${originalError} ` : ''} before any response was received.`);\n            error.code = status_1.Status.DEADLINE_EXCEEDED;\n            throw error;\n        }\n        if (maxRetries === 0) {\n            const error = originalError;\n            error.note = 'Max retries is set to zero.';\n            throw error;\n        }\n        if (retries && retries >= maxRetries) {\n            const error = new googleError_1.GoogleError('Exceeded maximum number of retries ' +\n                (originalError ? `retrying error ${originalError} ` : '') +\n                'before any response was received');\n            error.code = status_1.Status.DEADLINE_EXCEEDED;\n            throw error;\n        }\n    }\n    /**\n     * Forwards events from an API request stream to the user's stream.\n     * @param {Stream} stream - The API request stream.\n     */\n    eventForwardHelper(stream) {\n        const eventsToForward = ['metadata', 'response', 'status'];\n        eventsToForward.forEach(event => {\n            stream.on(event, this.emit.bind(this, event));\n        });\n    }\n    /**\n     * Helper function that emits a response on the stream after either a 'metadata'\n     * or a 'status' event - this helps streams to behave more like http consumers expect\n     * @param {Stream} stream - The API request stream.\n     */\n    statusMetadataHelper(stream) {\n        // gRPC is guaranteed emit the 'status' event but not 'metadata', and 'status' is the last event to emit.\n        // Emit the 'response' event if stream has no 'metadata' event.\n        // This avoids the stream swallowing the other events, such as 'end'.\n        stream.on('status', () => {\n            if (!this._responseHasSent) {\n                stream.emit('response', {\n                    code: 200,\n                    details: '',\n                    message: 'OK',\n                });\n            }\n        });\n        // We also want to supply the status data as 'response' event to support\n        // the behavior of google-cloud-node expects.\n        // see:\n        // https://github.com/GoogleCloudPlatform/google-cloud-node/pull/1775#issuecomment-259141029\n        // https://github.com/GoogleCloudPlatform/google-cloud-node/blob/116436fa789d8b0f7fc5100b19b424e3ec63e6bf/packages/common/src/grpc-service.js#L355\n        stream.on('metadata', metadata => {\n            // Create a response object with succeeds.\n            // TODO: unify this logic with the decoration of gRPC response when it's\n            // added. see: https://github.com/googleapis/gax-nodejs/issues/65\n            stream.emit('response', {\n                code: 200,\n                details: '',\n                message: 'OK',\n                metadata,\n            });\n            this._responseHasSent = true;\n        });\n    }\n    /**\n     * Forward events from an API request stream to the user's stream.\n     * @param {Stream} stream - The API request stream.\n     * @param {RetryOptions} retry - Configures the exceptions upon which the\n     *   function should retry, and the parameters to the exponential backoff retry\n     *   algorithm.\n     */\n    forwardEvents(stream) {\n        this.eventForwardHelper(stream);\n        this.statusMetadataHelper(stream);\n        stream.on('error', error => {\n            googleError_1.GoogleError.parseGRPCStatusDetails(error);\n        });\n    }\n    /**\n     * Default mechanism for determining whether a streaming call should retry\n     * If a user passes in a \"shouldRetryFn\", this will not be used\n     * @param {GoogleError} errpr - The error we need to determine is retryable or not\n     * @param {RetryOptions} retry - Configures the exceptions upon which the\n     *   function should retry, and the parameters to the exponential backoff retry\n     *   algorithm.\n     */\n    defaultShouldRetry(error, retry) {\n        if ((retry.retryCodes.length > 0 &&\n            retry.retryCodes.indexOf(error.code) < 0) ||\n            retry.retryCodes.length === 0) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Specifies the target stream.\n     * @param {ApiCall} apiCall - the API function to be called.\n     * @param {Object} argument - the argument to be passed to the apiCall.\n     * @param {RetryOptions} retry - Configures the exceptions upon which the\n     *   function should retry, and the parameters to the exponential backoff retry\n     *   algorithm.\n     */\n    setStream(apiCall, argument, retryRequestOptions = {}, retry) {\n        this.apiCall = apiCall;\n        this.argument = argument;\n        if (this.type === StreamType.SERVER_STREAMING) {\n            if (this.rest) {\n                const stream = apiCall(argument, this._callback);\n                this.stream = stream;\n                this.setReadable(stream);\n            }\n            else if (this.gaxServerStreamingRetries) {\n                const request = () => {\n                    if (this._isCancelCalled) {\n                        if (this.stream) {\n                            this.stream.cancel();\n                        }\n                        return;\n                    }\n                    const stream = apiCall(argument, this._callback);\n                    return stream;\n                };\n                const retryStream = this.newStreamingRetryRequest({ request, retry });\n                this.stream = retryStream;\n                this.eventForwardHelper(retryStream);\n                this.setReadable(retryStream);\n            }\n            else {\n                const retryStream = retryRequest(null, {\n                    objectMode: true,\n                    request: () => {\n                        if (this._isCancelCalled) {\n                            if (this.stream) {\n                                this.stream.cancel();\n                            }\n                            return;\n                        }\n                        const stream = apiCall(argument, this._callback);\n                        this.stream = stream;\n                        this.forwardEvents(stream);\n                        return stream;\n                    },\n                    retries: retryRequestOptions.retries,\n                    currentRetryAttempt: retryRequestOptions.currentRetryAttempt,\n                    noResponseRetries: retryRequestOptions.noResponseRetries,\n                    shouldRetryFn: retryRequestOptions.shouldRetryFn,\n                });\n                this.setReadable(retryStream);\n            }\n            return;\n        }\n        const stream = apiCall(argument, this._callback);\n        this.stream = stream;\n        this.forwardEvents(stream);\n        if (this.type === StreamType.CLIENT_STREAMING) {\n            this.setWritable(stream);\n        }\n        if (this.type === StreamType.BIDI_STREAMING) {\n            this.setReadable(stream);\n            this.setWritable(stream);\n        }\n        if (this._isCancelCalled && this.stream) {\n            this.stream.cancel();\n        }\n    }\n    /**\n     * Creates a new retry request stream -\n     *inner arrow function \"newMakeRequest\" handles retrying and resumption\n     * @param {streamingRetryRequestOptions} opts\n     *   {request} - the request to be made if the stream errors\n     *   {retry} - the retry options associated with the call\n     * @returns {CancellableStream} - the stream that handles retry logic\n     */\n    newStreamingRetryRequest(opts) {\n        var _a, _b, _c, _d;\n        // at this point, it would be unexpected if retry were undefined\n        // but if it is, provide a logical default so we don't run into trouble\n        const retry = (_a = opts.retry) !== null && _a !== void 0 ? _a : {\n            retryCodes: [],\n            backoffSettings: (0, gax_1.createDefaultBackoffSettings)(),\n        };\n        let retries = 0;\n        const retryStream = new stream_1.PassThrough({\n            objectMode: true,\n        });\n        const totalTimeout = (_b = retry.backoffSettings.totalTimeoutMillis) !== null && _b !== void 0 ? _b : undefined;\n        const maxRetries = (_c = retry.backoffSettings.maxRetries) !== null && _c !== void 0 ? _c : undefined;\n        let timeout = (_d = retry.backoffSettings.initialRpcTimeoutMillis) !== null && _d !== void 0 ? _d : undefined;\n        let now = new Date();\n        let deadline = 0;\n        if (totalTimeout) {\n            deadline = now.getTime() + totalTimeout;\n        }\n        const transientErrorHelper = (error, requestStream) => {\n            const e = googleError_1.GoogleError.parseGRPCStatusDetails(error);\n            e.note =\n                'Exception occurred in retry method that was ' +\n                    'not classified as transient';\n            // clean up the request stream and retryStreams, silently destroy it on the request stream\n            // but do raise it on destructin of the retryStream so the consumer can see it\n            requestStream.destroy();\n            retryStream.destroy(e);\n            return retryStream;\n        };\n        const newMakeRequest = (newopts) => {\n            let dataEnd = false;\n            let statusReceived = false;\n            let enteredError = false;\n            // make the request\n            const requestStream = newopts.request(requestOps);\n            retryStream.cancel = requestStream.cancel; // make sure the retryStream is also cancellable by the user\n            const eventsToForward = ['metadata', 'response', 'status'];\n            eventsToForward.forEach(event => {\n                requestStream.on(event, retryStream.emit.bind(retryStream, event));\n            });\n            this.statusMetadataHelper(requestStream);\n            // TODO - b/353262542 address buffer stuff\n            requestStream.on('data', (data) => {\n                retries = 0;\n                this.emit.bind(this, 'data')(data);\n            });\n            /* in retry-request, which previously handled retries,\n             * \"end\" could be emitted on a request stream before other gRPC events.\n             * To ensure it doesn't reach the consumer stream prematurely, retry-request piped\n             * two streams together (delayStream and retryStream)\n             * to ensure that \"end\" only emitted after a \"response\" event\n             *\n             * We are consciously NOT using pipeline or .pipe as part of similar logic here\n             * because we want more control over what happens during event handoff and we want to\n             * avoid the undesired behavior that can happen with error events\n             * if consumers in client libraries are also using pipes\n             *\n             * Since \"status\" is guaranteed to be the last event emitted by gRPC.\n             * If we have seen an \"end\" event, the dataEnd boolean will be true and we can safely\n             * end the stream.\n             *\n             * The \"statusReceived\" boolean covers the opposite case - that we receive the \"status\" event before\n             * a successful stream end event - this signals the .on('end') event handler that it's okay to end the stream\n             *\n             *\n             */\n            requestStream.on('status', () => {\n                statusReceived = true;\n                if (dataEnd) {\n                    retryStream.end();\n                }\n                return retryStream;\n            });\n            requestStream.on('end', () => {\n                if (!enteredError) {\n                    dataEnd = true;\n                    // in this case, we've already received \"status\"\n                    // which is the last event from gRPC, so it's cool to end the stream\n                    if (statusReceived) {\n                        retryStream.end();\n                    }\n                }\n                return retryStream;\n                // there is no else case because if enteredError\n                // is true, we will handle stream destruction as part of\n                // either retrying (where we don't want to end the stream)\n                // or as part of error handling, which will take care of stream destruction\n            });\n            requestStream.on('error', (error) => {\n                enteredError = true;\n                // type check for undefined instead of for truthiness in case maxRetries or timeout is equal to zero\n                if (typeof maxRetries !== undefined ||\n                    typeof totalTimeout !== undefined) {\n                    if (this.shouldRetryRequest(error, retry)) {\n                        if (maxRetries && totalTimeout) {\n                            const newError = new googleError_1.GoogleError('Cannot set both totalTimeoutMillis and maxRetries ' +\n                                'in backoffSettings.');\n                            newError.code = status_1.Status.INVALID_ARGUMENT;\n                            // clean up the request stream and retryStreams, silently destroy it on the request stream\n                            // but do raise it on destructin of the retryStream so the consumer can see it\n                            requestStream.destroy();\n                            retryStream.destroy(newError);\n                            return retryStream;\n                        }\n                        else {\n                            // check for exceeding timeout or max retries\n                            try {\n                                this.throwIfMaxRetriesOrTotalTimeoutExceeded(deadline, maxRetries, timeout, error, totalTimeout, retries);\n                            }\n                            catch (error) {\n                                const e = googleError_1.GoogleError.parseGRPCStatusDetails(error);\n                                // clean up the request stream and retryStreams, silently destroy it on the request stream\n                                // but do raise it on destruction of the retryStream so the consumer can see it\n                                requestStream.destroy();\n                                retryStream.destroy(e);\n                                return retryStream;\n                            }\n                            const delayMult = retry.backoffSettings.retryDelayMultiplier;\n                            const maxDelay = retry.backoffSettings.maxRetryDelayMillis;\n                            const timeoutMult = retry.backoffSettings.rpcTimeoutMultiplier;\n                            const maxTimeout = retry.backoffSettings.maxRpcTimeoutMillis;\n                            let delay = retry.backoffSettings.initialRetryDelayMillis;\n                            // calculate new deadlines\n                            const toSleep = Math.random() * delay;\n                            const calculateTimeoutAndResumptionFunction = () => {\n                                setTimeout(() => {\n                                    // only do timeout calculations if not using maxRetries\n                                    if (timeout) {\n                                        now = new Date();\n                                        delay = Math.min(delay * delayMult, maxDelay);\n                                        const timeoutCal = timeout && timeoutMult ? timeout * timeoutMult : 0;\n                                        const rpcTimeout = maxTimeout ? maxTimeout : 0;\n                                        const newDeadline = deadline ? deadline - now.getTime() : 0;\n                                        timeout = Math.min(timeoutCal, rpcTimeout, newDeadline);\n                                    }\n                                    retries++;\n                                    let retryArgument = this.argument;\n                                    // if resumption logic is passed, use it to determined the\n                                    // new argument for the new request made to the server\n                                    // otherwise, the original argument will be passed\n                                    if (retry.getResumptionRequestFn !== undefined) {\n                                        retryArgument = retry.getResumptionRequestFn(retryArgument);\n                                    }\n                                    const newRequest = () => {\n                                        if (this._isCancelCalled) {\n                                            if (this.stream) {\n                                                this.stream.cancel();\n                                            }\n                                            return;\n                                        }\n                                        const newStream = this.apiCall(retryArgument, this._callback);\n                                        return newStream;\n                                    };\n                                    opts.request = newRequest;\n                                    // make a request with the updated parameters\n                                    // based on the resumption strategy\n                                    return newMakeRequest(opts);\n                                }, toSleep);\n                            };\n                            return calculateTimeoutAndResumptionFunction();\n                        }\n                    }\n                    else {\n                        // non retryable error\n                        return transientErrorHelper(error, requestStream);\n                    }\n                }\n                else {\n                    // neither timeout nor maxRetries are defined, surface the error to the caller\n                    return transientErrorHelper(error, requestStream);\n                }\n            });\n            // return the stream if we didn't return it as\n            // part of an error state\n            return retryStream;\n        };\n        // this is the first make request call with the options the user passed in\n        return newMakeRequest(opts);\n    }\n}\nexports.StreamProxy = StreamProxy;\n//# sourceMappingURL=streaming.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdHJlYW1pbmdDYWxscy9zdHJlYW1pbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsa0JBQWtCO0FBQ3hDLGNBQWMsbUJBQU8sQ0FBQywyRUFBUTtBQUM5QixzQkFBc0IsbUJBQU8sQ0FBQywyRkFBZ0I7QUFDOUMsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEMsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakM7QUFDQSxrQkFBa0IsbUJBQU8sQ0FBQyxxRUFBVztBQUNyQztBQUNBLHFCQUFxQixtQkFBTyxDQUFDLDZFQUFlO0FBQzVDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpQkFBaUIsa0JBQWtCLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQixlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxhQUFhO0FBQzVCLGVBQWUsaUJBQWlCO0FBQ2hDLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLGlCQUFpQixlQUFlLGtDQUFrQyxlQUFlLFFBQVE7QUFDbEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsZUFBZTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsUUFBUTtBQUN2QixlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGdCQUFnQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4QkFBOEI7QUFDN0MsVUFBVSxTQUFTO0FBQ25CLFVBQVUsT0FBTztBQUNqQixpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdHJlYW1pbmdDYWxscy9zdHJlYW1pbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cmVhbVByb3h5ID0gZXhwb3J0cy5TdHJlYW1UeXBlID0gdm9pZCAwO1xuY29uc3QgZ2F4XzEgPSByZXF1aXJlKFwiLi4vZ2F4XCIpO1xuY29uc3QgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9nb29nbGVFcnJvclwiKTtcbmNvbnN0IHN0YXR1c18xID0gcmVxdWlyZShcIi4uL3N0YXR1c1wiKTtcbmNvbnN0IHN0cmVhbV8xID0gcmVxdWlyZShcInN0cmVhbVwiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXG5jb25zdCBkdXBsZXhpZnkgPSByZXF1aXJlKCdkdXBsZXhpZnknKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXG5jb25zdCByZXRyeVJlcXVlc3QgPSByZXF1aXJlKCdyZXRyeS1yZXF1ZXN0Jyk7XG4vKipcbiAqIFRoZSB0eXBlIG9mIGdSUEMgc3RyZWFtaW5nLlxuICogQGVudW0ge251bWJlcn1cbiAqL1xudmFyIFN0cmVhbVR5cGU7XG4oZnVuY3Rpb24gKFN0cmVhbVR5cGUpIHtcbiAgICAvKiogQ2xpZW50IHNlbmRzIGEgc2luZ2xlIHJlcXVlc3QsIHNlcnZlciBzdHJlYW1zIHJlc3BvbnNlcy4gKi9cbiAgICBTdHJlYW1UeXBlW1N0cmVhbVR5cGVbXCJTRVJWRVJfU1RSRUFNSU5HXCJdID0gMV0gPSBcIlNFUlZFUl9TVFJFQU1JTkdcIjtcbiAgICAvKiogQ2xpZW50IHN0cmVhbXMgcmVxdWVzdHMsIHNlcnZlciByZXR1cm5zIGEgc2luZ2xlIHJlc3BvbnNlLiAqL1xuICAgIFN0cmVhbVR5cGVbU3RyZWFtVHlwZVtcIkNMSUVOVF9TVFJFQU1JTkdcIl0gPSAyXSA9IFwiQ0xJRU5UX1NUUkVBTUlOR1wiO1xuICAgIC8qKiBCb3RoIGNsaWVudCBhbmQgc2VydmVyIHN0cmVhbSBvYmplY3RzLiAqL1xuICAgIFN0cmVhbVR5cGVbU3RyZWFtVHlwZVtcIkJJRElfU1RSRUFNSU5HXCJdID0gM10gPSBcIkJJRElfU1RSRUFNSU5HXCI7XG59KShTdHJlYW1UeXBlIHx8IChleHBvcnRzLlN0cmVhbVR5cGUgPSBTdHJlYW1UeXBlID0ge30pKTtcbi8vIEluIHJldHJ5LXJlcXVlc3QsIHlvdSBjb3VsZCBwYXNzIHBhcmFtZXRlcnMgdG8gcmVxdWVzdCB1c2luZyB0aGUgcmVxdWVzdE9wdHMgcGFyYW1ldGVyXG4vLyB3aGVuIHdlIGNhbGxlZCByZXRyeS1yZXF1ZXN0IGZyb20gZ2F4LCB3ZSBhbHdheXMgcGFzc2VkIG51bGxcbi8vIHBhc3NpbmcgbnVsbCBoZXJlIHJlbW92ZXMgYW4gdW5uZWNlc3NhcnkgcGFyYW1ldGVyIGZyb20gdGhpcyBpbXBsZW1lbnRhdGlvblxuY29uc3QgcmVxdWVzdE9wcyA9IG51bGw7XG5jbGFzcyBTdHJlYW1Qcm94eSBleHRlbmRzIGR1cGxleGlmeSB7XG4gICAgLyoqXG4gICAgICogU3RyZWFtUHJveHkgaXMgYSBwcm94eSB0byBnUlBDLXN0cmVhbWluZyBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7U3RyZWFtVHlwZX0gdHlwZSAtIHRoZSB0eXBlIG9mIGdSUEMgc3RyZWFtLlxuICAgICAqIEBwYXJhbSB7QXBpQ2FsbGJhY2t9IGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIGZvciBmdXJ0aGVyIEFQSSBjYWxsLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGUsIGNhbGxiYWNrLCByZXN0LCBnYXhTZXJ2ZXJTdHJlYW1pbmdSZXRyaWVzKSB7XG4gICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBvYmplY3RNb2RlOiB0cnVlLFxuICAgICAgICAgICAgcmVhZGFibGU6IHR5cGUgIT09IFN0cmVhbVR5cGUuQ0xJRU5UX1NUUkVBTUlORyxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0eXBlICE9PSBTdHJlYW1UeXBlLlNFUlZFUl9TVFJFQU1JTkcsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9pc0NhbmNlbENhbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZXNwb25zZUhhc1NlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXN0ID0gcmVzdDtcbiAgICAgICAgdGhpcy5nYXhTZXJ2ZXJTdHJlYW1pbmdSZXRyaWVzID0gZ2F4U2VydmVyU3RyZWFtaW5nUmV0cmllcztcbiAgICB9XG4gICAgc2hvdWxkUmV0cnlSZXF1ZXN0KGVycm9yLCByZXRyeSkge1xuICAgICAgICBjb25zdCBlID0gZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvci5wYXJzZUdSUENTdGF0dXNEZXRhaWxzKGVycm9yKTtcbiAgICAgICAgbGV0IHNob3VsZFJldHJ5ID0gdGhpcy5kZWZhdWx0U2hvdWxkUmV0cnkoZSwgcmV0cnkpO1xuICAgICAgICBpZiAocmV0cnkuc2hvdWxkUmV0cnlGbikge1xuICAgICAgICAgICAgc2hvdWxkUmV0cnkgPSByZXRyeS5zaG91bGRSZXRyeUZuKGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaG91bGRSZXRyeTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faXNDYW5jZWxDYWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBoYW5kbGUgdG90YWwgdGltZW91dCArIG1heCByZXRyeSBjaGVjayBmb3Igc2VydmVyIHN0cmVhbWluZyByZXRyaWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlYWRsaW5lIC0gdGhlIGN1cnJlbnQgcmV0cnkgZGVhZGxpbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4UmV0cmllcyAtIG1heGltdW0gdG90YWwgbnVtYmVyIG9mIHJldHJpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG90YWxUaW1lb3V0TWlsbGlzIC0gdG90YWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdXNlZCBpbiB0aW1lb3V0IGNhbGN1bGF0aW9uXG4gICAgICogQHBhcmFtIHtHb29nbGVFcnJvcn0gb3JpZ2luYWxFcnJvciAtIHVuZGVybHlpbmcgZXJyb3IgcmVjZWl2ZWQgYnkgdGhlIHN0cmVhbVxuICAgICAqIEBwYXJhbSB7b3JpZ2luYWxUaW1lb3V0fSBvcmlnaW5hbFRpbWVvdXQgLSB0aGUgb3JpZ2luYWwgVGltZW91dCBzZXQgaW4gYmFja29mZiBzZXR0aW5nc1xuICAgICAqIEBwYXJhbSB7cmV0cmllc30gcmV0cmllcyAtIHRoZSBudW1iZXIgb2YgcmV0cmllcyB0aGUgY2FsbCBoYXMgbWFkZSBzbyBmYXJcbiAgICAgKi9cbiAgICB0aHJvd0lmTWF4UmV0cmllc09yVG90YWxUaW1lb3V0RXhjZWVkZWQoZGVhZGxpbmUsIG1heFJldHJpZXMsIHRvdGFsVGltZW91dE1pbGxpcywgb3JpZ2luYWxFcnJvciwgb3JpZ2luYWxUaW1lb3V0LCByZXRyaWVzKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG5vd1RpbWUgPSBub3cuZ2V0VGltZSgpO1xuICAgICAgICBpZiAob3JpZ2luYWxUaW1lb3V0ICYmXG4gICAgICAgICAgICAodG90YWxUaW1lb3V0TWlsbGlzID09PSAwIHx8XG4gICAgICAgICAgICAgICAgdG90YWxUaW1lb3V0TWlsbGlzIDwgMCB8fFxuICAgICAgICAgICAgICAgIChkZWFkbGluZSAmJiBub3dUaW1lID49IGRlYWRsaW5lKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoYFRvdGFsIHRpbWVvdXQgb2YgQVBJIGV4Y2VlZGVkICR7b3JpZ2luYWxUaW1lb3V0fSBtaWxsaXNlY29uZHMgJHtvcmlnaW5hbEVycm9yID8gYHJldHJ5aW5nIGVycm9yICR7b3JpZ2luYWxFcnJvcn0gYCA6ICcnfSBiZWZvcmUgYW55IHJlc3BvbnNlIHdhcyByZWNlaXZlZC5gKTtcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPSBzdGF0dXNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQ7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4UmV0cmllcyA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgZXJyb3Iubm90ZSA9ICdNYXggcmV0cmllcyBpcyBzZXQgdG8gemVyby4nO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldHJpZXMgJiYgcmV0cmllcyA+PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdFeGNlZWRlZCBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzICcgK1xuICAgICAgICAgICAgICAgIChvcmlnaW5hbEVycm9yID8gYHJldHJ5aW5nIGVycm9yICR7b3JpZ2luYWxFcnJvcn0gYCA6ICcnKSArXG4gICAgICAgICAgICAgICAgJ2JlZm9yZSBhbnkgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkJyk7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVEO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yd2FyZHMgZXZlbnRzIGZyb20gYW4gQVBJIHJlcXVlc3Qgc3RyZWFtIHRvIHRoZSB1c2VyJ3Mgc3RyZWFtLlxuICAgICAqIEBwYXJhbSB7U3RyZWFtfSBzdHJlYW0gLSBUaGUgQVBJIHJlcXVlc3Qgc3RyZWFtLlxuICAgICAqL1xuICAgIGV2ZW50Rm9yd2FyZEhlbHBlcihzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgZXZlbnRzVG9Gb3J3YXJkID0gWydtZXRhZGF0YScsICdyZXNwb25zZScsICdzdGF0dXMnXTtcbiAgICAgICAgZXZlbnRzVG9Gb3J3YXJkLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgICAgICAgc3RyZWFtLm9uKGV2ZW50LCB0aGlzLmVtaXQuYmluZCh0aGlzLCBldmVudCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgZW1pdHMgYSByZXNwb25zZSBvbiB0aGUgc3RyZWFtIGFmdGVyIGVpdGhlciBhICdtZXRhZGF0YSdcbiAgICAgKiBvciBhICdzdGF0dXMnIGV2ZW50IC0gdGhpcyBoZWxwcyBzdHJlYW1zIHRvIGJlaGF2ZSBtb3JlIGxpa2UgaHR0cCBjb25zdW1lcnMgZXhwZWN0XG4gICAgICogQHBhcmFtIHtTdHJlYW19IHN0cmVhbSAtIFRoZSBBUEkgcmVxdWVzdCBzdHJlYW0uXG4gICAgICovXG4gICAgc3RhdHVzTWV0YWRhdGFIZWxwZXIoc3RyZWFtKSB7XG4gICAgICAgIC8vIGdSUEMgaXMgZ3VhcmFudGVlZCBlbWl0IHRoZSAnc3RhdHVzJyBldmVudCBidXQgbm90ICdtZXRhZGF0YScsIGFuZCAnc3RhdHVzJyBpcyB0aGUgbGFzdCBldmVudCB0byBlbWl0LlxuICAgICAgICAvLyBFbWl0IHRoZSAncmVzcG9uc2UnIGV2ZW50IGlmIHN0cmVhbSBoYXMgbm8gJ21ldGFkYXRhJyBldmVudC5cbiAgICAgICAgLy8gVGhpcyBhdm9pZHMgdGhlIHN0cmVhbSBzd2FsbG93aW5nIHRoZSBvdGhlciBldmVudHMsIHN1Y2ggYXMgJ2VuZCcuXG4gICAgICAgIHN0cmVhbS5vbignc3RhdHVzJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9yZXNwb25zZUhhc1NlbnQpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJycsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdPSycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXZSBhbHNvIHdhbnQgdG8gc3VwcGx5IHRoZSBzdGF0dXMgZGF0YSBhcyAncmVzcG9uc2UnIGV2ZW50IHRvIHN1cHBvcnRcbiAgICAgICAgLy8gdGhlIGJlaGF2aW9yIG9mIGdvb2dsZS1jbG91ZC1ub2RlIGV4cGVjdHMuXG4gICAgICAgIC8vIHNlZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNsb3VkUGxhdGZvcm0vZ29vZ2xlLWNsb3VkLW5vZGUvcHVsbC8xNzc1I2lzc3VlY29tbWVudC0yNTkxNDEwMjlcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNsb3VkUGxhdGZvcm0vZ29vZ2xlLWNsb3VkLW5vZGUvYmxvYi8xMTY0MzZmYTc4OWQ4YjBmN2ZjNTEwMGIxOWI0MjRlM2VjNjNlNmJmL3BhY2thZ2VzL2NvbW1vbi9zcmMvZ3JwYy1zZXJ2aWNlLmpzI0wzNTVcbiAgICAgICAgc3RyZWFtLm9uKCdtZXRhZGF0YScsIG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHJlc3BvbnNlIG9iamVjdCB3aXRoIHN1Y2NlZWRzLlxuICAgICAgICAgICAgLy8gVE9ETzogdW5pZnkgdGhpcyBsb2dpYyB3aXRoIHRoZSBkZWNvcmF0aW9uIG9mIGdSUEMgcmVzcG9uc2Ugd2hlbiBpdCdzXG4gICAgICAgICAgICAvLyBhZGRlZC4gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlYXBpcy9nYXgtbm9kZWpzL2lzc3Vlcy82NVxuICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ3Jlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnT0snLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9yZXNwb25zZUhhc1NlbnQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yd2FyZCBldmVudHMgZnJvbSBhbiBBUEkgcmVxdWVzdCBzdHJlYW0gdG8gdGhlIHVzZXIncyBzdHJlYW0uXG4gICAgICogQHBhcmFtIHtTdHJlYW19IHN0cmVhbSAtIFRoZSBBUEkgcmVxdWVzdCBzdHJlYW0uXG4gICAgICogQHBhcmFtIHtSZXRyeU9wdGlvbnN9IHJldHJ5IC0gQ29uZmlndXJlcyB0aGUgZXhjZXB0aW9ucyB1cG9uIHdoaWNoIHRoZVxuICAgICAqICAgZnVuY3Rpb24gc2hvdWxkIHJldHJ5LCBhbmQgdGhlIHBhcmFtZXRlcnMgdG8gdGhlIGV4cG9uZW50aWFsIGJhY2tvZmYgcmV0cnlcbiAgICAgKiAgIGFsZ29yaXRobS5cbiAgICAgKi9cbiAgICBmb3J3YXJkRXZlbnRzKHN0cmVhbSkge1xuICAgICAgICB0aGlzLmV2ZW50Rm9yd2FyZEhlbHBlcihzdHJlYW0pO1xuICAgICAgICB0aGlzLnN0YXR1c01ldGFkYXRhSGVscGVyKHN0cmVhbSk7XG4gICAgICAgIHN0cmVhbS5vbignZXJyb3InLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yLnBhcnNlR1JQQ1N0YXR1c0RldGFpbHMoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBtZWNoYW5pc20gZm9yIGRldGVybWluaW5nIHdoZXRoZXIgYSBzdHJlYW1pbmcgY2FsbCBzaG91bGQgcmV0cnlcbiAgICAgKiBJZiBhIHVzZXIgcGFzc2VzIGluIGEgXCJzaG91bGRSZXRyeUZuXCIsIHRoaXMgd2lsbCBub3QgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7R29vZ2xlRXJyb3J9IGVycnByIC0gVGhlIGVycm9yIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlzIHJldHJ5YWJsZSBvciBub3RcbiAgICAgKiBAcGFyYW0ge1JldHJ5T3B0aW9uc30gcmV0cnkgLSBDb25maWd1cmVzIHRoZSBleGNlcHRpb25zIHVwb24gd2hpY2ggdGhlXG4gICAgICogICBmdW5jdGlvbiBzaG91bGQgcmV0cnksIGFuZCB0aGUgcGFyYW1ldGVycyB0byB0aGUgZXhwb25lbnRpYWwgYmFja29mZiByZXRyeVxuICAgICAqICAgYWxnb3JpdGhtLlxuICAgICAqL1xuICAgIGRlZmF1bHRTaG91bGRSZXRyeShlcnJvciwgcmV0cnkpIHtcbiAgICAgICAgaWYgKChyZXRyeS5yZXRyeUNvZGVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHJldHJ5LnJldHJ5Q29kZXMuaW5kZXhPZihlcnJvci5jb2RlKSA8IDApIHx8XG4gICAgICAgICAgICByZXRyeS5yZXRyeUNvZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIHRhcmdldCBzdHJlYW0uXG4gICAgICogQHBhcmFtIHtBcGlDYWxsfSBhcGlDYWxsIC0gdGhlIEFQSSBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3VtZW50IC0gdGhlIGFyZ3VtZW50IHRvIGJlIHBhc3NlZCB0byB0aGUgYXBpQ2FsbC5cbiAgICAgKiBAcGFyYW0ge1JldHJ5T3B0aW9uc30gcmV0cnkgLSBDb25maWd1cmVzIHRoZSBleGNlcHRpb25zIHVwb24gd2hpY2ggdGhlXG4gICAgICogICBmdW5jdGlvbiBzaG91bGQgcmV0cnksIGFuZCB0aGUgcGFyYW1ldGVycyB0byB0aGUgZXhwb25lbnRpYWwgYmFja29mZiByZXRyeVxuICAgICAqICAgYWxnb3JpdGhtLlxuICAgICAqL1xuICAgIHNldFN0cmVhbShhcGlDYWxsLCBhcmd1bWVudCwgcmV0cnlSZXF1ZXN0T3B0aW9ucyA9IHt9LCByZXRyeSkge1xuICAgICAgICB0aGlzLmFwaUNhbGwgPSBhcGlDYWxsO1xuICAgICAgICB0aGlzLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IFN0cmVhbVR5cGUuU0VSVkVSX1NUUkVBTUlORykge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGFwaUNhbGwoYXJndW1lbnQsIHRoaXMuX2NhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlYWRhYmxlKHN0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmdheFNlcnZlclN0cmVhbWluZ1JldHJpZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNDYW5jZWxDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGFwaUNhbGwoYXJndW1lbnQsIHRoaXMuX2NhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5U3RyZWFtID0gdGhpcy5uZXdTdHJlYW1pbmdSZXRyeVJlcXVlc3QoeyByZXF1ZXN0LCByZXRyeSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbSA9IHJldHJ5U3RyZWFtO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRGb3J3YXJkSGVscGVyKHJldHJ5U3RyZWFtKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlYWRhYmxlKHJldHJ5U3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5U3RyZWFtID0gcmV0cnlSZXF1ZXN0KG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0TW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQ2FuY2VsQ2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhcGlDYWxsKGFyZ3VtZW50LCB0aGlzLl9jYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yd2FyZEV2ZW50cyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmllczogcmV0cnlSZXF1ZXN0T3B0aW9ucy5yZXRyaWVzLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmV0cnlBdHRlbXB0OiByZXRyeVJlcXVlc3RPcHRpb25zLmN1cnJlbnRSZXRyeUF0dGVtcHQsXG4gICAgICAgICAgICAgICAgICAgIG5vUmVzcG9uc2VSZXRyaWVzOiByZXRyeVJlcXVlc3RPcHRpb25zLm5vUmVzcG9uc2VSZXRyaWVzLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXRyeUZuOiByZXRyeVJlcXVlc3RPcHRpb25zLnNob3VsZFJldHJ5Rm4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZWFkYWJsZShyZXRyeVN0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXBpQ2FsbChhcmd1bWVudCwgdGhpcy5fY2FsbGJhY2spO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgdGhpcy5mb3J3YXJkRXZlbnRzKHN0cmVhbSk7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IFN0cmVhbVR5cGUuQ0xJRU5UX1NUUkVBTUlORykge1xuICAgICAgICAgICAgdGhpcy5zZXRXcml0YWJsZShzdHJlYW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IFN0cmVhbVR5cGUuQklESV9TVFJFQU1JTkcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVhZGFibGUoc3RyZWFtKTtcbiAgICAgICAgICAgIHRoaXMuc2V0V3JpdGFibGUoc3RyZWFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNDYW5jZWxDYWxsZWQgJiYgdGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmV0cnkgcmVxdWVzdCBzdHJlYW0gLVxuICAgICAqaW5uZXIgYXJyb3cgZnVuY3Rpb24gXCJuZXdNYWtlUmVxdWVzdFwiIGhhbmRsZXMgcmV0cnlpbmcgYW5kIHJlc3VtcHRpb25cbiAgICAgKiBAcGFyYW0ge3N0cmVhbWluZ1JldHJ5UmVxdWVzdE9wdGlvbnN9IG9wdHNcbiAgICAgKiAgIHtyZXF1ZXN0fSAtIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgaWYgdGhlIHN0cmVhbSBlcnJvcnNcbiAgICAgKiAgIHtyZXRyeX0gLSB0aGUgcmV0cnkgb3B0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGNhbGxcbiAgICAgKiBAcmV0dXJucyB7Q2FuY2VsbGFibGVTdHJlYW19IC0gdGhlIHN0cmVhbSB0aGF0IGhhbmRsZXMgcmV0cnkgbG9naWNcbiAgICAgKi9cbiAgICBuZXdTdHJlYW1pbmdSZXRyeVJlcXVlc3Qob3B0cykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIGl0IHdvdWxkIGJlIHVuZXhwZWN0ZWQgaWYgcmV0cnkgd2VyZSB1bmRlZmluZWRcbiAgICAgICAgLy8gYnV0IGlmIGl0IGlzLCBwcm92aWRlIGEgbG9naWNhbCBkZWZhdWx0IHNvIHdlIGRvbid0IHJ1biBpbnRvIHRyb3VibGVcbiAgICAgICAgY29uc3QgcmV0cnkgPSAoX2EgPSBvcHRzLnJldHJ5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgICAgICByZXRyeUNvZGVzOiBbXSxcbiAgICAgICAgICAgIGJhY2tvZmZTZXR0aW5nczogKDAsIGdheF8xLmNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3MpKCksXG4gICAgICAgIH07XG4gICAgICAgIGxldCByZXRyaWVzID0gMDtcbiAgICAgICAgY29uc3QgcmV0cnlTdHJlYW0gPSBuZXcgc3RyZWFtXzEuUGFzc1Rocm91Z2goe1xuICAgICAgICAgICAgb2JqZWN0TW9kZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRvdGFsVGltZW91dCA9IChfYiA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy50b3RhbFRpbWVvdXRNaWxsaXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IChfYyA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5tYXhSZXRyaWVzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCB0aW1lb3V0ID0gKF9kID0gcmV0cnkuYmFja29mZlNldHRpbmdzLmluaXRpYWxScGNUaW1lb3V0TWlsbGlzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsZXQgZGVhZGxpbmUgPSAwO1xuICAgICAgICBpZiAodG90YWxUaW1lb3V0KSB7XG4gICAgICAgICAgICBkZWFkbGluZSA9IG5vdy5nZXRUaW1lKCkgKyB0b3RhbFRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNpZW50RXJyb3JIZWxwZXIgPSAoZXJyb3IsIHJlcXVlc3RTdHJlYW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yLnBhcnNlR1JQQ1N0YXR1c0RldGFpbHMoZXJyb3IpO1xuICAgICAgICAgICAgZS5ub3RlID1cbiAgICAgICAgICAgICAgICAnRXhjZXB0aW9uIG9jY3VycmVkIGluIHJldHJ5IG1ldGhvZCB0aGF0IHdhcyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ25vdCBjbGFzc2lmaWVkIGFzIHRyYW5zaWVudCc7XG4gICAgICAgICAgICAvLyBjbGVhbiB1cCB0aGUgcmVxdWVzdCBzdHJlYW0gYW5kIHJldHJ5U3RyZWFtcywgc2lsZW50bHkgZGVzdHJveSBpdCBvbiB0aGUgcmVxdWVzdCBzdHJlYW1cbiAgICAgICAgICAgIC8vIGJ1dCBkbyByYWlzZSBpdCBvbiBkZXN0cnVjdGluIG9mIHRoZSByZXRyeVN0cmVhbSBzbyB0aGUgY29uc3VtZXIgY2FuIHNlZSBpdFxuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgICByZXRyeVN0cmVhbS5kZXN0cm95KGUpO1xuICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyZWFtO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBuZXdNYWtlUmVxdWVzdCA9IChuZXdvcHRzKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YUVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHN0YXR1c1JlY2VpdmVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgZW50ZXJlZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0U3RyZWFtID0gbmV3b3B0cy5yZXF1ZXN0KHJlcXVlc3RPcHMpO1xuICAgICAgICAgICAgcmV0cnlTdHJlYW0uY2FuY2VsID0gcmVxdWVzdFN0cmVhbS5jYW5jZWw7IC8vIG1ha2Ugc3VyZSB0aGUgcmV0cnlTdHJlYW0gaXMgYWxzbyBjYW5jZWxsYWJsZSBieSB0aGUgdXNlclxuICAgICAgICAgICAgY29uc3QgZXZlbnRzVG9Gb3J3YXJkID0gWydtZXRhZGF0YScsICdyZXNwb25zZScsICdzdGF0dXMnXTtcbiAgICAgICAgICAgIGV2ZW50c1RvRm9yd2FyZC5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0U3RyZWFtLm9uKGV2ZW50LCByZXRyeVN0cmVhbS5lbWl0LmJpbmQocmV0cnlTdHJlYW0sIGV2ZW50KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTWV0YWRhdGFIZWxwZXIocmVxdWVzdFN0cmVhbSk7XG4gICAgICAgICAgICAvLyBUT0RPIC0gYi8zNTMyNjI1NDIgYWRkcmVzcyBidWZmZXIgc3R1ZmZcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW0ub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHJpZXMgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdC5iaW5kKHRoaXMsICdkYXRhJykoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qIGluIHJldHJ5LXJlcXVlc3QsIHdoaWNoIHByZXZpb3VzbHkgaGFuZGxlZCByZXRyaWVzLFxuICAgICAgICAgICAgICogXCJlbmRcIiBjb3VsZCBiZSBlbWl0dGVkIG9uIGEgcmVxdWVzdCBzdHJlYW0gYmVmb3JlIG90aGVyIGdSUEMgZXZlbnRzLlxuICAgICAgICAgICAgICogVG8gZW5zdXJlIGl0IGRvZXNuJ3QgcmVhY2ggdGhlIGNvbnN1bWVyIHN0cmVhbSBwcmVtYXR1cmVseSwgcmV0cnktcmVxdWVzdCBwaXBlZFxuICAgICAgICAgICAgICogdHdvIHN0cmVhbXMgdG9nZXRoZXIgKGRlbGF5U3RyZWFtIGFuZCByZXRyeVN0cmVhbSlcbiAgICAgICAgICAgICAqIHRvIGVuc3VyZSB0aGF0IFwiZW5kXCIgb25seSBlbWl0dGVkIGFmdGVyIGEgXCJyZXNwb25zZVwiIGV2ZW50XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogV2UgYXJlIGNvbnNjaW91c2x5IE5PVCB1c2luZyBwaXBlbGluZSBvciAucGlwZSBhcyBwYXJ0IG9mIHNpbWlsYXIgbG9naWMgaGVyZVxuICAgICAgICAgICAgICogYmVjYXVzZSB3ZSB3YW50IG1vcmUgY29udHJvbCBvdmVyIHdoYXQgaGFwcGVucyBkdXJpbmcgZXZlbnQgaGFuZG9mZiBhbmQgd2Ugd2FudCB0b1xuICAgICAgICAgICAgICogYXZvaWQgdGhlIHVuZGVzaXJlZCBiZWhhdmlvciB0aGF0IGNhbiBoYXBwZW4gd2l0aCBlcnJvciBldmVudHNcbiAgICAgICAgICAgICAqIGlmIGNvbnN1bWVycyBpbiBjbGllbnQgbGlicmFyaWVzIGFyZSBhbHNvIHVzaW5nIHBpcGVzXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogU2luY2UgXCJzdGF0dXNcIiBpcyBndWFyYW50ZWVkIHRvIGJlIHRoZSBsYXN0IGV2ZW50IGVtaXR0ZWQgYnkgZ1JQQy5cbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgc2VlbiBhbiBcImVuZFwiIGV2ZW50LCB0aGUgZGF0YUVuZCBib29sZWFuIHdpbGwgYmUgdHJ1ZSBhbmQgd2UgY2FuIHNhZmVseVxuICAgICAgICAgICAgICogZW5kIHRoZSBzdHJlYW0uXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIFwic3RhdHVzUmVjZWl2ZWRcIiBib29sZWFuIGNvdmVycyB0aGUgb3Bwb3NpdGUgY2FzZSAtIHRoYXQgd2UgcmVjZWl2ZSB0aGUgXCJzdGF0dXNcIiBldmVudCBiZWZvcmVcbiAgICAgICAgICAgICAqIGEgc3VjY2Vzc2Z1bCBzdHJlYW0gZW5kIGV2ZW50IC0gdGhpcyBzaWduYWxzIHRoZSAub24oJ2VuZCcpIGV2ZW50IGhhbmRsZXIgdGhhdCBpdCdzIG9rYXkgdG8gZW5kIHRoZSBzdHJlYW1cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtLm9uKCdzdGF0dXMnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzUmVjZWl2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5U3RyZWFtLmVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlTdHJlYW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW0ub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVudGVyZWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhRW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlLCB3ZSd2ZSBhbHJlYWR5IHJlY2VpdmVkIFwic3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgdGhlIGxhc3QgZXZlbnQgZnJvbSBnUlBDLCBzbyBpdCdzIGNvb2wgdG8gZW5kIHRoZSBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1c1JlY2VpdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeVN0cmVhbS5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlTdHJlYW07XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gZWxzZSBjYXNlIGJlY2F1c2UgaWYgZW50ZXJlZEVycm9yXG4gICAgICAgICAgICAgICAgLy8gaXMgdHJ1ZSwgd2Ugd2lsbCBoYW5kbGUgc3RyZWFtIGRlc3RydWN0aW9uIGFzIHBhcnQgb2ZcbiAgICAgICAgICAgICAgICAvLyBlaXRoZXIgcmV0cnlpbmcgKHdoZXJlIHdlIGRvbid0IHdhbnQgdG8gZW5kIHRoZSBzdHJlYW0pXG4gICAgICAgICAgICAgICAgLy8gb3IgYXMgcGFydCBvZiBlcnJvciBoYW5kbGluZywgd2hpY2ggd2lsbCB0YWtlIGNhcmUgb2Ygc3RyZWFtIGRlc3RydWN0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW0ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgZW50ZXJlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyB0eXBlIGNoZWNrIGZvciB1bmRlZmluZWQgaW5zdGVhZCBvZiBmb3IgdHJ1dGhpbmVzcyBpbiBjYXNlIG1heFJldHJpZXMgb3IgdGltZW91dCBpcyBlcXVhbCB0byB6ZXJvXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXhSZXRyaWVzICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHRvdGFsVGltZW91dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFJldHJ5UmVxdWVzdChlcnJvciwgcmV0cnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4UmV0cmllcyAmJiB0b3RhbFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdDYW5ub3Qgc2V0IGJvdGggdG90YWxUaW1lb3V0TWlsbGlzIGFuZCBtYXhSZXRyaWVzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW4gYmFja29mZlNldHRpbmdzLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Vycm9yLmNvZGUgPSBzdGF0dXNfMS5TdGF0dXMuSU5WQUxJRF9BUkdVTUVOVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGVhbiB1cCB0aGUgcmVxdWVzdCBzdHJlYW0gYW5kIHJldHJ5U3RyZWFtcywgc2lsZW50bHkgZGVzdHJveSBpdCBvbiB0aGUgcmVxdWVzdCBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgZG8gcmFpc2UgaXQgb24gZGVzdHJ1Y3RpbiBvZiB0aGUgcmV0cnlTdHJlYW0gc28gdGhlIGNvbnN1bWVyIGNhbiBzZWUgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0U3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeVN0cmVhbS5kZXN0cm95KG5ld0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlTdHJlYW07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3IgZXhjZWVkaW5nIHRpbWVvdXQgb3IgbWF4IHJldHJpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRocm93SWZNYXhSZXRyaWVzT3JUb3RhbFRpbWVvdXRFeGNlZWRlZChkZWFkbGluZSwgbWF4UmV0cmllcywgdGltZW91dCwgZXJyb3IsIHRvdGFsVGltZW91dCwgcmV0cmllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvci5wYXJzZUdSUENTdGF0dXNEZXRhaWxzKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgdGhlIHJlcXVlc3Qgc3RyZWFtIGFuZCByZXRyeVN0cmVhbXMsIHNpbGVudGx5IGRlc3Ryb3kgaXQgb24gdGhlIHJlcXVlc3Qgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBkbyByYWlzZSBpdCBvbiBkZXN0cnVjdGlvbiBvZiB0aGUgcmV0cnlTdHJlYW0gc28gdGhlIGNvbnN1bWVyIGNhbiBzZWUgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5U3RyZWFtLmRlc3Ryb3koZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXRyeVN0cmVhbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsYXlNdWx0ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLnJldHJ5RGVsYXlNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heERlbGF5ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLm1heFJldHJ5RGVsYXlNaWxsaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZW91dE11bHQgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MucnBjVGltZW91dE11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VGltZW91dCA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5tYXhScGNUaW1lb3V0TWlsbGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWxheSA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5pbml0aWFsUmV0cnlEZWxheU1pbGxpcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgbmV3IGRlYWRsaW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvU2xlZXAgPSBNYXRoLnJhbmRvbSgpICogZGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlVGltZW91dEFuZFJlc3VtcHRpb25GdW5jdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGRvIHRpbWVvdXQgY2FsY3VsYXRpb25zIGlmIG5vdCB1c2luZyBtYXhSZXRyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSBNYXRoLm1pbihkZWxheSAqIGRlbGF5TXVsdCwgbWF4RGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRDYWwgPSB0aW1lb3V0ICYmIHRpbWVvdXRNdWx0ID8gdGltZW91dCAqIHRpbWVvdXRNdWx0IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBycGNUaW1lb3V0ID0gbWF4VGltZW91dCA/IG1heFRpbWVvdXQgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlYWRsaW5lID0gZGVhZGxpbmUgPyBkZWFkbGluZSAtIG5vdy5nZXRUaW1lKCkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBNYXRoLm1pbih0aW1lb3V0Q2FsLCBycGNUaW1lb3V0LCBuZXdEZWFkbGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyaWVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV0cnlBcmd1bWVudCA9IHRoaXMuYXJndW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiByZXN1bXB0aW9uIGxvZ2ljIGlzIHBhc3NlZCwgdXNlIGl0IHRvIGRldGVybWluZWQgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXcgYXJndW1lbnQgZm9yIHRoZSBuZXcgcmVxdWVzdCBtYWRlIHRvIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgdGhlIG9yaWdpbmFsIGFyZ3VtZW50IHdpbGwgYmUgcGFzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnkuZ2V0UmVzdW1wdGlvblJlcXVlc3RGbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlBcmd1bWVudCA9IHJldHJ5LmdldFJlc3VtcHRpb25SZXF1ZXN0Rm4ocmV0cnlBcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0NhbmNlbENhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RyZWFtID0gdGhpcy5hcGlDYWxsKHJldHJ5QXJndW1lbnQsIHRoaXMuX2NhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3U3RyZWFtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMucmVxdWVzdCA9IG5ld1JlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGEgcmVxdWVzdCB3aXRoIHRoZSB1cGRhdGVkIHBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhc2VkIG9uIHRoZSByZXN1bXB0aW9uIHN0cmF0ZWd5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3TWFrZVJlcXVlc3Qob3B0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRvU2xlZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVRpbWVvdXRBbmRSZXN1bXB0aW9uRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vbiByZXRyeWFibGUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2llbnRFcnJvckhlbHBlcihlcnJvciwgcmVxdWVzdFN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5laXRoZXIgdGltZW91dCBub3IgbWF4UmV0cmllcyBhcmUgZGVmaW5lZCwgc3VyZmFjZSB0aGUgZXJyb3IgdG8gdGhlIGNhbGxlclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNpZW50RXJyb3JIZWxwZXIoZXJyb3IsIHJlcXVlc3RTdHJlYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBzdHJlYW0gaWYgd2UgZGlkbid0IHJldHVybiBpdCBhc1xuICAgICAgICAgICAgLy8gcGFydCBvZiBhbiBlcnJvciBzdGF0ZVxuICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyZWFtO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBmaXJzdCBtYWtlIHJlcXVlc3QgY2FsbCB3aXRoIHRoZSBvcHRpb25zIHRoZSB1c2VyIHBhc3NlZCBpblxuICAgICAgICByZXR1cm4gbmV3TWFrZVJlcXVlc3Qob3B0cyk7XG4gICAgfVxufVxuZXhwb3J0cy5TdHJlYW1Qcm94eSA9IFN0cmVhbVByb3h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamingApiCaller = void 0;\nconst warnings_1 = __webpack_require__(/*! ../warnings */ \"(action-browser)/./node_modules/google-gax/build/src/warnings.js\");\nconst streaming_1 = __webpack_require__(/*! ./streaming */ \"(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nclass StreamingApiCaller {\n    /**\n     * An API caller for methods of gRPC streaming.\n     * @private\n     * @constructor\n     * @param {StreamDescriptor} descriptor - the descriptor of the method structure.\n     */\n    constructor(descriptor) {\n        this.descriptor = descriptor;\n    }\n    init(callback) {\n        return new streaming_1.StreamProxy(this.descriptor.type, callback, this.descriptor.rest, this.descriptor.gaxStreamingRetries);\n    }\n    wrap(func) {\n        switch (this.descriptor.type) {\n            case streaming_1.StreamType.SERVER_STREAMING:\n                return (argument, metadata, options) => {\n                    return func(argument, metadata, options);\n                };\n            case streaming_1.StreamType.CLIENT_STREAMING:\n                return (argument, metadata, options, callback) => {\n                    return func(metadata, options, callback);\n                };\n            case streaming_1.StreamType.BIDI_STREAMING:\n                return (argument, metadata, options) => {\n                    return func(metadata, options);\n                };\n            default:\n                (0, warnings_1.warn)('streaming_wrap_unknown_stream_type', `Unknown stream type: ${this.descriptor.type}`);\n        }\n        return func;\n    }\n    call(apiCall, argument, settings, stream) {\n        stream.setStream(apiCall, argument, settings.retryRequestOptions, settings.retry);\n    }\n    fail(stream, err) {\n        stream.emit('error', err);\n    }\n    result(stream) {\n        return stream;\n    }\n}\nexports.StreamingApiCaller = StreamingApiCaller;\n//# sourceMappingURL=streamingApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdHJlYW1pbmdDYWxscy9zdHJlYW1pbmdBcGlDYWxsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCO0FBQzFCLG1CQUFtQixtQkFBTyxDQUFDLHFGQUFhO0FBQ3hDLG9CQUFvQixtQkFBTyxDQUFDLHFHQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtCQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRyxxQkFBcUI7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdHJlYW1pbmdDYWxscy9zdHJlYW1pbmdBcGlDYWxsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cmVhbWluZ0FwaUNhbGxlciA9IHZvaWQgMDtcbmNvbnN0IHdhcm5pbmdzXzEgPSByZXF1aXJlKFwiLi4vd2FybmluZ3NcIik7XG5jb25zdCBzdHJlYW1pbmdfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbWluZ1wiKTtcbmNsYXNzIFN0cmVhbWluZ0FwaUNhbGxlciB7XG4gICAgLyoqXG4gICAgICogQW4gQVBJIGNhbGxlciBmb3IgbWV0aG9kcyBvZiBnUlBDIHN0cmVhbWluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7U3RyZWFtRGVzY3JpcHRvcn0gZGVzY3JpcHRvciAtIHRoZSBkZXNjcmlwdG9yIG9mIHRoZSBtZXRob2Qgc3RydWN0dXJlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdG9yID0gZGVzY3JpcHRvcjtcbiAgICB9XG4gICAgaW5pdChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gbmV3IHN0cmVhbWluZ18xLlN0cmVhbVByb3h5KHRoaXMuZGVzY3JpcHRvci50eXBlLCBjYWxsYmFjaywgdGhpcy5kZXNjcmlwdG9yLnJlc3QsIHRoaXMuZGVzY3JpcHRvci5nYXhTdHJlYW1pbmdSZXRyaWVzKTtcbiAgICB9XG4gICAgd3JhcChmdW5jKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5kZXNjcmlwdG9yLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2Ugc3RyZWFtaW5nXzEuU3RyZWFtVHlwZS5TRVJWRVJfU1RSRUFNSU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiAoYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jKGFyZ3VtZW50LCBtZXRhZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2Ugc3RyZWFtaW5nXzEuU3RyZWFtVHlwZS5DTElFTlRfU1RSRUFNSU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiAoYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuYyhtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIHN0cmVhbWluZ18xLlN0cmVhbVR5cGUuQklESV9TVFJFQU1JTkc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChhcmd1bWVudCwgbWV0YWRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICgwLCB3YXJuaW5nc18xLndhcm4pKCdzdHJlYW1pbmdfd3JhcF91bmtub3duX3N0cmVhbV90eXBlJywgYFVua25vd24gc3RyZWFtIHR5cGU6ICR7dGhpcy5kZXNjcmlwdG9yLnR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfVxuICAgIGNhbGwoYXBpQ2FsbCwgYXJndW1lbnQsIHNldHRpbmdzLCBzdHJlYW0pIHtcbiAgICAgICAgc3RyZWFtLnNldFN0cmVhbShhcGlDYWxsLCBhcmd1bWVudCwgc2V0dGluZ3MucmV0cnlSZXF1ZXN0T3B0aW9ucywgc2V0dGluZ3MucmV0cnkpO1xuICAgIH1cbiAgICBmYWlsKHN0cmVhbSwgZXJyKSB7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHJlc3VsdChzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG59XG5leHBvcnRzLlN0cmVhbWluZ0FwaUNhbGxlciA9IFN0cmVhbWluZ0FwaUNhbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZ0FwaUNhbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/transcoding.js":
/*!**********************************************************!*\
  !*** ./node_modules/google-gax/build/src/transcoding.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getField = getField;\nexports.deepCopyWithoutMatchedFields = deepCopyWithoutMatchedFields;\nexports.deleteField = deleteField;\nexports.buildQueryStringComponents = buildQueryStringComponents;\nexports.encodeWithSlashes = encodeWithSlashes;\nexports.encodeWithoutSlashes = encodeWithoutSlashes;\nexports.applyPattern = applyPattern;\nexports.match = match;\nexports.flattenObject = flattenObject;\nexports.isProto3OptionalField = isProto3OptionalField;\nexports.transcode = transcode;\nexports.overrideHttpRules = overrideHttpRules;\nconst util_1 = __webpack_require__(/*! ./util */ \"(action-browser)/./node_modules/google-gax/build/src/util.js\");\nconst httpOptionName = '(google.api.http)';\nconst proto3OptionalName = 'proto3_optional';\n// List of methods as defined in google/api/http.proto (see HttpRule)\nconst supportedHttpMethods = ['get', 'post', 'put', 'patch', 'delete'];\nfunction getField(request, field, allowObjects = false // in most cases, we need leaf fields\n) {\n    const parts = field.split('.');\n    let value = request;\n    for (const part of parts) {\n        if (typeof value !== 'object') {\n            return undefined;\n        }\n        value = value[part];\n    }\n    if (!allowObjects &&\n        typeof value === 'object' &&\n        !Array.isArray(value) &&\n        value !== null) {\n        return undefined;\n    }\n    return value;\n}\nfunction deepCopyWithoutMatchedFields(request, fieldsToSkip, fullNamePrefix = '') {\n    if (typeof request !== 'object' || request === null) {\n        return request;\n    }\n    const copy = Object.assign({}, request);\n    for (const key in copy) {\n        if (fieldsToSkip.has(`${fullNamePrefix}${key}`)) {\n            delete copy[key];\n            continue;\n        }\n        const nextFullNamePrefix = `${fullNamePrefix}${key}.`;\n        if (Array.isArray(copy[key])) {\n            // a field of an array cannot be addressed as \"request.field\", so we omit the skipping logic for array descendants\n            copy[key] = copy[key].map(value => deepCopyWithoutMatchedFields(value, new Set()));\n        }\n        else if (typeof copy[key] === 'object' && copy[key] !== null) {\n            copy[key] = deepCopyWithoutMatchedFields(copy[key], fieldsToSkip, nextFullNamePrefix);\n        }\n    }\n    return copy;\n}\nfunction deleteField(request, field) {\n    const parts = field.split('.');\n    while (parts.length > 1) {\n        if (typeof request !== 'object') {\n            return;\n        }\n        const part = parts.shift();\n        request = request[part];\n    }\n    const part = parts.shift();\n    if (typeof request !== 'object') {\n        return;\n    }\n    delete request[part];\n}\nfunction buildQueryStringComponents(request, prefix = '') {\n    const resultList = [];\n    for (const key in request) {\n        if (Array.isArray(request[key])) {\n            for (const value of request[key]) {\n                resultList.push(`${prefix}${encodeWithoutSlashes(key)}=${encodeWithoutSlashes(value.toString())}`);\n            }\n        }\n        else if (typeof request[key] === 'object' && request[key] !== null) {\n            resultList.push(...buildQueryStringComponents(request[key], `${key}.`));\n        }\n        else {\n            resultList.push(`${prefix}${encodeWithoutSlashes(key)}=${encodeWithoutSlashes(request[key] === null ? 'null' : request[key].toString())}`);\n        }\n    }\n    return resultList;\n}\nfunction encodeWithSlashes(str) {\n    return str\n        .split('')\n        .map(c => (c.match(/[-_.~0-9a-zA-Z]/) ? c : encodeURIComponent(c)))\n        .join('');\n}\nfunction encodeWithoutSlashes(str) {\n    return str\n        .split('')\n        .map(c => (c.match(/[-_.~0-9a-zA-Z/]/) ? c : encodeURIComponent(c)))\n        .join('');\n}\nfunction escapeRegExp(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nfunction applyPattern(pattern, fieldValue) {\n    if (!pattern || pattern === '*') {\n        return encodeWithSlashes(fieldValue);\n    }\n    if (!pattern.includes('*') && pattern !== fieldValue) {\n        return undefined;\n    }\n    // since we're converting the pattern to a regex, make necessary precautions:\n    const regex = new RegExp('^' +\n        escapeRegExp(pattern)\n            .replace(/\\\\\\*\\\\\\*/g, '(.+)')\n            .replace(/\\\\\\*/g, '([^/]+)') +\n        '$');\n    if (!fieldValue.match(regex)) {\n        return undefined;\n    }\n    return encodeWithoutSlashes(fieldValue);\n}\nfunction fieldToCamelCase(field) {\n    const parts = field.split('.');\n    return parts.map(part => (0, util_1.toCamelCase)(part)).join('.');\n}\nfunction match(request, pattern) {\n    let url = pattern;\n    const matchedFields = [];\n    for (;;) {\n        const match = url.match(/^(.*)\\{([^}=]+)(?:=([^}]*))?\\}(.*)/);\n        if (!match) {\n            break;\n        }\n        const [, before, field, pattern, after] = match;\n        const camelCasedField = fieldToCamelCase(field);\n        matchedFields.push(fieldToCamelCase(camelCasedField));\n        const fieldValue = getField(request, camelCasedField);\n        if (fieldValue === undefined) {\n            return undefined;\n        }\n        const appliedPattern = applyPattern(pattern, fieldValue === null ? 'null' : fieldValue.toString());\n        if (appliedPattern === undefined) {\n            return undefined;\n        }\n        url = before + appliedPattern + after;\n    }\n    return { matchedFields, url };\n}\nfunction flattenObject(request) {\n    const result = {};\n    for (const key in request) {\n        if (request[key] === undefined) {\n            continue;\n        }\n        if (Array.isArray(request[key])) {\n            // According to the http.proto comments, a repeated field may only\n            // contain primitive types, so no extra recursion here.\n            result[key] = request[key];\n            continue;\n        }\n        if (typeof request[key] === 'object' && request[key] !== null) {\n            const nested = flattenObject(request[key]);\n            for (const nestedKey in nested) {\n                result[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n            continue;\n        }\n        result[key] = request[key];\n    }\n    return result;\n}\nfunction isProto3OptionalField(field) {\n    return field && field.options && field.options[proto3OptionalName];\n}\nfunction transcode(request, parsedOptions) {\n    const httpRules = [];\n    for (const option of parsedOptions) {\n        if (!(httpOptionName in option)) {\n            continue;\n        }\n        const httpRule = option[httpOptionName];\n        httpRules.push(httpRule);\n        if (httpRule === null || httpRule === void 0 ? void 0 : httpRule.additional_bindings) {\n            const additionalBindings = Array.isArray(httpRule.additional_bindings)\n                ? httpRule.additional_bindings\n                : [httpRule.additional_bindings];\n            httpRules.push(...additionalBindings);\n        }\n    }\n    for (const httpRule of httpRules) {\n        for (const httpMethod of supportedHttpMethods) {\n            if (!(httpMethod in httpRule)) {\n                continue;\n            }\n            const pathTemplate = httpRule[httpMethod];\n            const matchResult = match(request, pathTemplate);\n            if (matchResult === undefined) {\n                continue;\n            }\n            const { url, matchedFields } = matchResult;\n            let data = deepCopyWithoutMatchedFields(request, new Set(matchedFields));\n            if (httpRule.body === '*') {\n                return { httpMethod, url, queryString: '', data };\n            }\n            // one field possibly goes to request data, others go to query string\n            const queryStringObject = data;\n            if (httpRule.body) {\n                data = getField(queryStringObject, fieldToCamelCase(httpRule.body), \n                /*allowObjects:*/ true);\n                deleteField(queryStringObject, fieldToCamelCase(httpRule.body));\n            }\n            else {\n                data = '';\n            }\n            const queryStringComponents = buildQueryStringComponents(queryStringObject);\n            const queryString = queryStringComponents.join('&');\n            if (!data ||\n                (typeof data === 'object' && Object.keys(data).length === 0)) {\n                data = '';\n            }\n            return { httpMethod, url, queryString, data };\n        }\n    }\n    return undefined;\n}\n// Override the protobuf json's the http rules.\nfunction overrideHttpRules(httpRules, protoJson) {\n    for (const rule of httpRules) {\n        if (!rule.selector) {\n            continue;\n        }\n        const rpc = protoJson.lookup(rule.selector);\n        // Not support override on non-exist RPC or a RPC without an annotation.\n        // We could reconsider if we have the use case later.\n        if (!rpc || !rpc.parsedOptions) {\n            continue;\n        }\n        for (const item of rpc.parsedOptions) {\n            if (!(httpOptionName in item)) {\n                continue;\n            }\n            const httpOptions = item[httpOptionName];\n            for (const httpMethod in httpOptions) {\n                if (httpMethod in rule) {\n                    if (httpMethod === 'additional_bindings') {\n                        continue;\n                    }\n                    httpOptions[httpMethod] =\n                        rule[httpMethod];\n                }\n                if (rule.additional_bindings) {\n                    httpOptions['additional_bindings'] = !httpOptions['additional_bindings']\n                        ? []\n                        : Array.isArray(httpOptions['additional_bindings'])\n                            ? httpOptions['additional_bindings']\n                            : [httpOptions['additional_bindings']];\n                    // Make the additional_binding to be an array if it is not.\n                    httpOptions['additional_bindings'].push(...rule.additional_bindings);\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=transcoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy90cmFuc2NvZGluZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsb0NBQW9DO0FBQ3BDLG1CQUFtQjtBQUNuQixrQ0FBa0M7QUFDbEMseUJBQXlCO0FBQ3pCLDRCQUE0QjtBQUM1QixvQkFBb0I7QUFDcEIsYUFBYTtBQUNiLHFCQUFxQjtBQUNyQiw2QkFBNkI7QUFDN0IsaUJBQWlCO0FBQ2pCLHlCQUF5QjtBQUN6QixlQUFlLG1CQUFPLENBQUMsNEVBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLGdDQUFnQyxlQUFlLEVBQUUsSUFBSTtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZUFBZSxFQUFFLElBQUk7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU8sRUFBRSwwQkFBMEIsR0FBRyx1Q0FBdUM7QUFDaEg7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLElBQUk7QUFDL0U7QUFDQTtBQUNBLCtCQUErQixPQUFPLEVBQUUsMEJBQTBCLEdBQUcsK0VBQStFO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCx3Q0FBd0MsSUFBSSxZQUFZLE9BQU87QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsSUFBSSxHQUFHLFVBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvdHJhbnNjb2RpbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEZpZWxkID0gZ2V0RmllbGQ7XG5leHBvcnRzLmRlZXBDb3B5V2l0aG91dE1hdGNoZWRGaWVsZHMgPSBkZWVwQ29weVdpdGhvdXRNYXRjaGVkRmllbGRzO1xuZXhwb3J0cy5kZWxldGVGaWVsZCA9IGRlbGV0ZUZpZWxkO1xuZXhwb3J0cy5idWlsZFF1ZXJ5U3RyaW5nQ29tcG9uZW50cyA9IGJ1aWxkUXVlcnlTdHJpbmdDb21wb25lbnRzO1xuZXhwb3J0cy5lbmNvZGVXaXRoU2xhc2hlcyA9IGVuY29kZVdpdGhTbGFzaGVzO1xuZXhwb3J0cy5lbmNvZGVXaXRob3V0U2xhc2hlcyA9IGVuY29kZVdpdGhvdXRTbGFzaGVzO1xuZXhwb3J0cy5hcHBseVBhdHRlcm4gPSBhcHBseVBhdHRlcm47XG5leHBvcnRzLm1hdGNoID0gbWF0Y2g7XG5leHBvcnRzLmZsYXR0ZW5PYmplY3QgPSBmbGF0dGVuT2JqZWN0O1xuZXhwb3J0cy5pc1Byb3RvM09wdGlvbmFsRmllbGQgPSBpc1Byb3RvM09wdGlvbmFsRmllbGQ7XG5leHBvcnRzLnRyYW5zY29kZSA9IHRyYW5zY29kZTtcbmV4cG9ydHMub3ZlcnJpZGVIdHRwUnVsZXMgPSBvdmVycmlkZUh0dHBSdWxlcztcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBodHRwT3B0aW9uTmFtZSA9ICcoZ29vZ2xlLmFwaS5odHRwKSc7XG5jb25zdCBwcm90bzNPcHRpb25hbE5hbWUgPSAncHJvdG8zX29wdGlvbmFsJztcbi8vIExpc3Qgb2YgbWV0aG9kcyBhcyBkZWZpbmVkIGluIGdvb2dsZS9hcGkvaHR0cC5wcm90byAoc2VlIEh0dHBSdWxlKVxuY29uc3Qgc3VwcG9ydGVkSHR0cE1ldGhvZHMgPSBbJ2dldCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdkZWxldGUnXTtcbmZ1bmN0aW9uIGdldEZpZWxkKHJlcXVlc3QsIGZpZWxkLCBhbGxvd09iamVjdHMgPSBmYWxzZSAvLyBpbiBtb3N0IGNhc2VzLCB3ZSBuZWVkIGxlYWYgZmllbGRzXG4pIHtcbiAgICBjb25zdCBwYXJ0cyA9IGZpZWxkLnNwbGl0KCcuJyk7XG4gICAgbGV0IHZhbHVlID0gcmVxdWVzdDtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB2YWx1ZVtwYXJ0XTtcbiAgICB9XG4gICAgaWYgKCFhbGxvd09iamVjdHMgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiZcbiAgICAgICAgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gZGVlcENvcHlXaXRob3V0TWF0Y2hlZEZpZWxkcyhyZXF1ZXN0LCBmaWVsZHNUb1NraXAsIGZ1bGxOYW1lUHJlZml4ID0gJycpIHtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgIT09ICdvYmplY3QnIHx8IHJlcXVlc3QgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxuICAgIGNvbnN0IGNvcHkgPSBPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0KTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb3B5KSB7XG4gICAgICAgIGlmIChmaWVsZHNUb1NraXAuaGFzKGAke2Z1bGxOYW1lUHJlZml4fSR7a2V5fWApKSB7XG4gICAgICAgICAgICBkZWxldGUgY29weVtrZXldO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dEZ1bGxOYW1lUHJlZml4ID0gYCR7ZnVsbE5hbWVQcmVmaXh9JHtrZXl9LmA7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvcHlba2V5XSkpIHtcbiAgICAgICAgICAgIC8vIGEgZmllbGQgb2YgYW4gYXJyYXkgY2Fubm90IGJlIGFkZHJlc3NlZCBhcyBcInJlcXVlc3QuZmllbGRcIiwgc28gd2Ugb21pdCB0aGUgc2tpcHBpbmcgbG9naWMgZm9yIGFycmF5IGRlc2NlbmRhbnRzXG4gICAgICAgICAgICBjb3B5W2tleV0gPSBjb3B5W2tleV0ubWFwKHZhbHVlID0+IGRlZXBDb3B5V2l0aG91dE1hdGNoZWRGaWVsZHModmFsdWUsIG5ldyBTZXQoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb3B5W2tleV0gPT09ICdvYmplY3QnICYmIGNvcHlba2V5XSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29weVtrZXldID0gZGVlcENvcHlXaXRob3V0TWF0Y2hlZEZpZWxkcyhjb3B5W2tleV0sIGZpZWxkc1RvU2tpcCwgbmV4dEZ1bGxOYW1lUHJlZml4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29weTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZUZpZWxkKHJlcXVlc3QsIGZpZWxkKSB7XG4gICAgY29uc3QgcGFydHMgPSBmaWVsZC5zcGxpdCgnLicpO1xuICAgIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RbcGFydF07XG4gICAgfVxuICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWxldGUgcmVxdWVzdFtwYXJ0XTtcbn1cbmZ1bmN0aW9uIGJ1aWxkUXVlcnlTdHJpbmdDb21wb25lbnRzKHJlcXVlc3QsIHByZWZpeCA9ICcnKSB7XG4gICAgY29uc3QgcmVzdWx0TGlzdCA9IFtdO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVxdWVzdFtrZXldKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiByZXF1ZXN0W2tleV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHRMaXN0LnB1c2goYCR7cHJlZml4fSR7ZW5jb2RlV2l0aG91dFNsYXNoZXMoa2V5KX09JHtlbmNvZGVXaXRob3V0U2xhc2hlcyh2YWx1ZS50b1N0cmluZygpKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmVxdWVzdFtrZXldID09PSAnb2JqZWN0JyAmJiByZXF1ZXN0W2tleV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdExpc3QucHVzaCguLi5idWlsZFF1ZXJ5U3RyaW5nQ29tcG9uZW50cyhyZXF1ZXN0W2tleV0sIGAke2tleX0uYCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0TGlzdC5wdXNoKGAke3ByZWZpeH0ke2VuY29kZVdpdGhvdXRTbGFzaGVzKGtleSl9PSR7ZW5jb2RlV2l0aG91dFNsYXNoZXMocmVxdWVzdFtrZXldID09PSBudWxsID8gJ251bGwnIDogcmVxdWVzdFtrZXldLnRvU3RyaW5nKCkpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRMaXN0O1xufVxuZnVuY3Rpb24gZW5jb2RlV2l0aFNsYXNoZXMoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgIC5tYXAoYyA9PiAoYy5tYXRjaCgvWy1fLn4wLTlhLXpBLVpdLykgPyBjIDogZW5jb2RlVVJJQ29tcG9uZW50KGMpKSlcbiAgICAgICAgLmpvaW4oJycpO1xufVxuZnVuY3Rpb24gZW5jb2RlV2l0aG91dFNsYXNoZXMoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgIC5tYXAoYyA9PiAoYy5tYXRjaCgvWy1fLn4wLTlhLXpBLVovXS8pID8gYyA6IGVuY29kZVVSSUNvbXBvbmVudChjKSkpXG4gICAgICAgIC5qb2luKCcnKTtcbn1cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG59XG5mdW5jdGlvbiBhcHBseVBhdHRlcm4ocGF0dGVybiwgZmllbGRWYWx1ZSkge1xuICAgIGlmICghcGF0dGVybiB8fCBwYXR0ZXJuID09PSAnKicpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVdpdGhTbGFzaGVzKGZpZWxkVmFsdWUpO1xuICAgIH1cbiAgICBpZiAoIXBhdHRlcm4uaW5jbHVkZXMoJyonKSAmJiBwYXR0ZXJuICE9PSBmaWVsZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIHNpbmNlIHdlJ3JlIGNvbnZlcnRpbmcgdGhlIHBhdHRlcm4gdG8gYSByZWdleCwgbWFrZSBuZWNlc3NhcnkgcHJlY2F1dGlvbnM6XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArXG4gICAgICAgIGVzY2FwZVJlZ0V4cChwYXR0ZXJuKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcXCpcXFxcXFwqL2csICcoLispJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXFwqL2csICcoW14vXSspJykgK1xuICAgICAgICAnJCcpO1xuICAgIGlmICghZmllbGRWYWx1ZS5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZVdpdGhvdXRTbGFzaGVzKGZpZWxkVmFsdWUpO1xufVxuZnVuY3Rpb24gZmllbGRUb0NhbWVsQ2FzZShmaWVsZCkge1xuICAgIGNvbnN0IHBhcnRzID0gZmllbGQuc3BsaXQoJy4nKTtcbiAgICByZXR1cm4gcGFydHMubWFwKHBhcnQgPT4gKDAsIHV0aWxfMS50b0NhbWVsQ2FzZSkocGFydCkpLmpvaW4oJy4nKTtcbn1cbmZ1bmN0aW9uIG1hdGNoKHJlcXVlc3QsIHBhdHRlcm4pIHtcbiAgICBsZXQgdXJsID0gcGF0dGVybjtcbiAgICBjb25zdCBtYXRjaGVkRmllbGRzID0gW107XG4gICAgZm9yICg7Oykge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvXiguKilcXHsoW159PV0rKSg/Oj0oW159XSopKT9cXH0oLiopLyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFssIGJlZm9yZSwgZmllbGQsIHBhdHRlcm4sIGFmdGVyXSA9IG1hdGNoO1xuICAgICAgICBjb25zdCBjYW1lbENhc2VkRmllbGQgPSBmaWVsZFRvQ2FtZWxDYXNlKGZpZWxkKTtcbiAgICAgICAgbWF0Y2hlZEZpZWxkcy5wdXNoKGZpZWxkVG9DYW1lbENhc2UoY2FtZWxDYXNlZEZpZWxkKSk7XG4gICAgICAgIGNvbnN0IGZpZWxkVmFsdWUgPSBnZXRGaWVsZChyZXF1ZXN0LCBjYW1lbENhc2VkRmllbGQpO1xuICAgICAgICBpZiAoZmllbGRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwcGxpZWRQYXR0ZXJuID0gYXBwbHlQYXR0ZXJuKHBhdHRlcm4sIGZpZWxkVmFsdWUgPT09IG51bGwgPyAnbnVsbCcgOiBmaWVsZFZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoYXBwbGllZFBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSBiZWZvcmUgKyBhcHBsaWVkUGF0dGVybiArIGFmdGVyO1xuICAgIH1cbiAgICByZXR1cm4geyBtYXRjaGVkRmllbGRzLCB1cmwgfTtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5PYmplY3QocmVxdWVzdCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKHJlcXVlc3Rba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXF1ZXN0W2tleV0pKSB7XG4gICAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIGh0dHAucHJvdG8gY29tbWVudHMsIGEgcmVwZWF0ZWQgZmllbGQgbWF5IG9ubHlcbiAgICAgICAgICAgIC8vIGNvbnRhaW4gcHJpbWl0aXZlIHR5cGVzLCBzbyBubyBleHRyYSByZWN1cnNpb24gaGVyZS5cbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gcmVxdWVzdFtrZXldO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0W2tleV0gPT09ICdvYmplY3QnICYmIHJlcXVlc3Rba2V5XSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbmVzdGVkID0gZmxhdHRlbk9iamVjdChyZXF1ZXN0W2tleV0pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuZXN0ZWRLZXkgaW4gbmVzdGVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2Ake2tleX0uJHtuZXN0ZWRLZXl9YF0gPSBuZXN0ZWRbbmVzdGVkS2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrZXldID0gcmVxdWVzdFtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaXNQcm90bzNPcHRpb25hbEZpZWxkKGZpZWxkKSB7XG4gICAgcmV0dXJuIGZpZWxkICYmIGZpZWxkLm9wdGlvbnMgJiYgZmllbGQub3B0aW9uc1twcm90bzNPcHRpb25hbE5hbWVdO1xufVxuZnVuY3Rpb24gdHJhbnNjb2RlKHJlcXVlc3QsIHBhcnNlZE9wdGlvbnMpIHtcbiAgICBjb25zdCBodHRwUnVsZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBwYXJzZWRPcHRpb25zKSB7XG4gICAgICAgIGlmICghKGh0dHBPcHRpb25OYW1lIGluIG9wdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGh0dHBSdWxlID0gb3B0aW9uW2h0dHBPcHRpb25OYW1lXTtcbiAgICAgICAgaHR0cFJ1bGVzLnB1c2goaHR0cFJ1bGUpO1xuICAgICAgICBpZiAoaHR0cFJ1bGUgPT09IG51bGwgfHwgaHR0cFJ1bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGh0dHBSdWxlLmFkZGl0aW9uYWxfYmluZGluZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGFkZGl0aW9uYWxCaW5kaW5ncyA9IEFycmF5LmlzQXJyYXkoaHR0cFJ1bGUuYWRkaXRpb25hbF9iaW5kaW5ncylcbiAgICAgICAgICAgICAgICA/IGh0dHBSdWxlLmFkZGl0aW9uYWxfYmluZGluZ3NcbiAgICAgICAgICAgICAgICA6IFtodHRwUnVsZS5hZGRpdGlvbmFsX2JpbmRpbmdzXTtcbiAgICAgICAgICAgIGh0dHBSdWxlcy5wdXNoKC4uLmFkZGl0aW9uYWxCaW5kaW5ncyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBodHRwUnVsZSBvZiBodHRwUnVsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBodHRwTWV0aG9kIG9mIHN1cHBvcnRlZEh0dHBNZXRob2RzKSB7XG4gICAgICAgICAgICBpZiAoIShodHRwTWV0aG9kIGluIGh0dHBSdWxlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGF0aFRlbXBsYXRlID0gaHR0cFJ1bGVbaHR0cE1ldGhvZF07XG4gICAgICAgICAgICBjb25zdCBtYXRjaFJlc3VsdCA9IG1hdGNoKHJlcXVlc3QsIHBhdGhUZW1wbGF0ZSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hSZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB1cmwsIG1hdGNoZWRGaWVsZHMgfSA9IG1hdGNoUmVzdWx0O1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBkZWVwQ29weVdpdGhvdXRNYXRjaGVkRmllbGRzKHJlcXVlc3QsIG5ldyBTZXQobWF0Y2hlZEZpZWxkcykpO1xuICAgICAgICAgICAgaWYgKGh0dHBSdWxlLmJvZHkgPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGh0dHBNZXRob2QsIHVybCwgcXVlcnlTdHJpbmc6ICcnLCBkYXRhIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmUgZmllbGQgcG9zc2libHkgZ29lcyB0byByZXF1ZXN0IGRhdGEsIG90aGVycyBnbyB0byBxdWVyeSBzdHJpbmdcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nT2JqZWN0ID0gZGF0YTtcbiAgICAgICAgICAgIGlmIChodHRwUnVsZS5ib2R5KSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGdldEZpZWxkKHF1ZXJ5U3RyaW5nT2JqZWN0LCBmaWVsZFRvQ2FtZWxDYXNlKGh0dHBSdWxlLmJvZHkpLCBcbiAgICAgICAgICAgICAgICAvKmFsbG93T2JqZWN0czoqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICBkZWxldGVGaWVsZChxdWVyeVN0cmluZ09iamVjdCwgZmllbGRUb0NhbWVsQ2FzZShodHRwUnVsZS5ib2R5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZ0NvbXBvbmVudHMgPSBidWlsZFF1ZXJ5U3RyaW5nQ29tcG9uZW50cyhxdWVyeVN0cmluZ09iamVjdCk7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nQ29tcG9uZW50cy5qb2luKCcmJyk7XG4gICAgICAgICAgICBpZiAoIWRhdGEgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBodHRwTWV0aG9kLCB1cmwsIHF1ZXJ5U3RyaW5nLCBkYXRhIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIE92ZXJyaWRlIHRoZSBwcm90b2J1ZiBqc29uJ3MgdGhlIGh0dHAgcnVsZXMuXG5mdW5jdGlvbiBvdmVycmlkZUh0dHBSdWxlcyhodHRwUnVsZXMsIHByb3RvSnNvbikge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiBodHRwUnVsZXMpIHtcbiAgICAgICAgaWYgKCFydWxlLnNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBycGMgPSBwcm90b0pzb24ubG9va3VwKHJ1bGUuc2VsZWN0b3IpO1xuICAgICAgICAvLyBOb3Qgc3VwcG9ydCBvdmVycmlkZSBvbiBub24tZXhpc3QgUlBDIG9yIGEgUlBDIHdpdGhvdXQgYW4gYW5ub3RhdGlvbi5cbiAgICAgICAgLy8gV2UgY291bGQgcmVjb25zaWRlciBpZiB3ZSBoYXZlIHRoZSB1c2UgY2FzZSBsYXRlci5cbiAgICAgICAgaWYgKCFycGMgfHwgIXJwYy5wYXJzZWRPcHRpb25zKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcnBjLnBhcnNlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghKGh0dHBPcHRpb25OYW1lIGluIGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBodHRwT3B0aW9ucyA9IGl0ZW1baHR0cE9wdGlvbk5hbWVdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBodHRwTWV0aG9kIGluIGh0dHBPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGh0dHBNZXRob2QgaW4gcnVsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHR0cE1ldGhvZCA9PT0gJ2FkZGl0aW9uYWxfYmluZGluZ3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBodHRwT3B0aW9uc1todHRwTWV0aG9kXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlW2h0dHBNZXRob2RdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVsZS5hZGRpdGlvbmFsX2JpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0dHBPcHRpb25zWydhZGRpdGlvbmFsX2JpbmRpbmdzJ10gPSAhaHR0cE9wdGlvbnNbJ2FkZGl0aW9uYWxfYmluZGluZ3MnXVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBBcnJheS5pc0FycmF5KGh0dHBPcHRpb25zWydhZGRpdGlvbmFsX2JpbmRpbmdzJ10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodHRwT3B0aW9uc1snYWRkaXRpb25hbF9iaW5kaW5ncyddXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbaHR0cE9wdGlvbnNbJ2FkZGl0aW9uYWxfYmluZGluZ3MnXV07XG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2UgdGhlIGFkZGl0aW9uYWxfYmluZGluZyB0byBiZSBhbiBhcnJheSBpZiBpdCBpcyBub3QuXG4gICAgICAgICAgICAgICAgICAgIGh0dHBPcHRpb25zWydhZGRpdGlvbmFsX2JpbmRpbmdzJ10ucHVzaCguLi5ydWxlLmFkZGl0aW9uYWxfYmluZGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zY29kaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/transcoding.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/util.js":
/*!***************************************************!*\
  !*** ./node_modules/google-gax/build/src/util.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.camelToSnakeCase = camelToSnakeCase;\nexports.toCamelCase = toCamelCase;\nexports.toLowerCamelCase = toLowerCamelCase;\nexports.makeUUID = makeUUID;\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst uuid_1 = __webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/index.js\");\nfunction words(str, normalize = false) {\n    if (normalize) {\n        // strings like somethingABCSomething are special case for protobuf.js,\n        // they should be split as \"something\", \"abc\", \"something\".\n        // Deal with sequences of capital letters first.\n        str = str.replace(/([A-Z])([A-Z]+)([A-Z])/g, (str) => {\n            return (str[0] +\n                str.slice(1, str.length - 1).toLowerCase() +\n                str[str.length - 1]);\n        });\n    }\n    // split on spaces, non-alphanumeric, or capital letters\n    // note: we keep the capitalization of the first word (special case: IPProtocol)\n    return str\n        .split(/(?=[A-Z])|[^A-Za-z0-9.]+/)\n        .filter(w => w.length > 0)\n        .map((w, index) => (index === 0 ? w : w.toLowerCase()));\n}\n/**\n * Converts the first character of the given string to lower case.\n */\nfunction lowercase(str) {\n    if (str.length === 0) {\n        return str;\n    }\n    return str[0].toLowerCase() + str.slice(1);\n}\n/**\n * Converts a given string from camelCase (used by protobuf.js and in JSON)\n * to snake_case (normally used in proto definitions).\n */\nfunction camelToSnakeCase(str) {\n    // Keep the first position capitalization, otherwise decapitalize with underscore.\n    const wordsList = words(str);\n    if (wordsList.length === 0) {\n        return str;\n    }\n    const result = [wordsList[0]];\n    result.push(...wordsList.slice(1).map(lowercase));\n    return result.join('_');\n}\n/**\n * Capitalizes the first character of the given string.\n */\nfunction capitalize(str) {\n    if (str.length === 0) {\n        return str;\n    }\n    return str[0].toUpperCase() + str.slice(1);\n}\n/**\n * Converts a given string from snake_case (normally used in proto definitions) or\n * PascalCase (also used in proto definitions) to camelCase (used by protobuf.js).\n * Preserves capitalization of the first character.\n */\nfunction toCamelCase(str) {\n    const wordsList = words(str, /*normalize:*/ true);\n    if (wordsList.length === 0) {\n        return str;\n    }\n    const result = [wordsList[0]];\n    result.push(...wordsList.slice(1).map(w => {\n        if (w.match(/^\\d+$/)) {\n            return '_' + w;\n        }\n        return capitalize(w);\n    }));\n    return result.join('');\n}\n/**\n * Converts a given string to lower camel case (forcing the first character to be\n * in lower case).\n */\nfunction toLowerCamelCase(str) {\n    const camelCase = toCamelCase(str);\n    if (camelCase.length === 0) {\n        return camelCase;\n    }\n    return camelCase[0].toLowerCase() + camelCase.slice(1);\n}\n/**\n * Converts a given string to lower camel case (forcing the first character to be\n * in lower case).\n */\nfunction makeUUID() {\n    return (0, uuid_1.v4)();\n}\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy91dGlsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4QixtQkFBbUI7QUFDbkIsd0JBQXdCO0FBQ3hCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFPLENBQUMsaUdBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvdXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2FtZWxUb1NuYWtlQ2FzZSA9IGNhbWVsVG9TbmFrZUNhc2U7XG5leHBvcnRzLnRvQ2FtZWxDYXNlID0gdG9DYW1lbENhc2U7XG5leHBvcnRzLnRvTG93ZXJDYW1lbENhc2UgPSB0b0xvd2VyQ2FtZWxDYXNlO1xuZXhwb3J0cy5tYWtlVVVJRCA9IG1ha2VVVUlEO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgdXVpZF8xID0gcmVxdWlyZShcInV1aWRcIik7XG5mdW5jdGlvbiB3b3JkcyhzdHIsIG5vcm1hbGl6ZSA9IGZhbHNlKSB7XG4gICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgICAvLyBzdHJpbmdzIGxpa2Ugc29tZXRoaW5nQUJDU29tZXRoaW5nIGFyZSBzcGVjaWFsIGNhc2UgZm9yIHByb3RvYnVmLmpzLFxuICAgICAgICAvLyB0aGV5IHNob3VsZCBiZSBzcGxpdCBhcyBcInNvbWV0aGluZ1wiLCBcImFiY1wiLCBcInNvbWV0aGluZ1wiLlxuICAgICAgICAvLyBEZWFsIHdpdGggc2VxdWVuY2VzIG9mIGNhcGl0YWwgbGV0dGVycyBmaXJzdC5cbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLyhbQS1aXSkoW0EtWl0rKShbQS1aXSkvZywgKHN0cikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChzdHJbMF0gK1xuICAgICAgICAgICAgICAgIHN0ci5zbGljZSgxLCBzdHIubGVuZ3RoIC0gMSkudG9Mb3dlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgc3RyW3N0ci5sZW5ndGggLSAxXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBzcGxpdCBvbiBzcGFjZXMsIG5vbi1hbHBoYW51bWVyaWMsIG9yIGNhcGl0YWwgbGV0dGVyc1xuICAgIC8vIG5vdGU6IHdlIGtlZXAgdGhlIGNhcGl0YWxpemF0aW9uIG9mIHRoZSBmaXJzdCB3b3JkIChzcGVjaWFsIGNhc2U6IElQUHJvdG9jb2wpXG4gICAgcmV0dXJuIHN0clxuICAgICAgICAuc3BsaXQoLyg/PVtBLVpdKXxbXkEtWmEtejAtOS5dKy8pXG4gICAgICAgIC5maWx0ZXIodyA9PiB3Lmxlbmd0aCA+IDApXG4gICAgICAgIC5tYXAoKHcsIGluZGV4KSA9PiAoaW5kZXggPT09IDAgPyB3IDogdy50b0xvd2VyQ2FzZSgpKSk7XG59XG4vKipcbiAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgdGhlIGdpdmVuIHN0cmluZyB0byBsb3dlciBjYXNlLlxuICovXG5mdW5jdGlvbiBsb3dlcmNhc2Uoc3RyKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0clswXS50b0xvd2VyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGdpdmVuIHN0cmluZyBmcm9tIGNhbWVsQ2FzZSAodXNlZCBieSBwcm90b2J1Zi5qcyBhbmQgaW4gSlNPTilcbiAqIHRvIHNuYWtlX2Nhc2UgKG5vcm1hbGx5IHVzZWQgaW4gcHJvdG8gZGVmaW5pdGlvbnMpLlxuICovXG5mdW5jdGlvbiBjYW1lbFRvU25ha2VDYXNlKHN0cikge1xuICAgIC8vIEtlZXAgdGhlIGZpcnN0IHBvc2l0aW9uIGNhcGl0YWxpemF0aW9uLCBvdGhlcndpc2UgZGVjYXBpdGFsaXplIHdpdGggdW5kZXJzY29yZS5cbiAgICBjb25zdCB3b3Jkc0xpc3QgPSB3b3JkcyhzdHIpO1xuICAgIGlmICh3b3Jkc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFt3b3Jkc0xpc3RbMF1dO1xuICAgIHJlc3VsdC5wdXNoKC4uLndvcmRzTGlzdC5zbGljZSgxKS5tYXAobG93ZXJjYXNlKSk7XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKCdfJyk7XG59XG4vKipcbiAqIENhcGl0YWxpemVzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgdGhlIGdpdmVuIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHIpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gc3RyWzBdLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgZ2l2ZW4gc3RyaW5nIGZyb20gc25ha2VfY2FzZSAobm9ybWFsbHkgdXNlZCBpbiBwcm90byBkZWZpbml0aW9ucykgb3JcbiAqIFBhc2NhbENhc2UgKGFsc28gdXNlZCBpbiBwcm90byBkZWZpbml0aW9ucykgdG8gY2FtZWxDYXNlICh1c2VkIGJ5IHByb3RvYnVmLmpzKS5cbiAqIFByZXNlcnZlcyBjYXBpdGFsaXphdGlvbiBvZiB0aGUgZmlyc3QgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiB0b0NhbWVsQ2FzZShzdHIpIHtcbiAgICBjb25zdCB3b3Jkc0xpc3QgPSB3b3JkcyhzdHIsIC8qbm9ybWFsaXplOiovIHRydWUpO1xuICAgIGlmICh3b3Jkc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFt3b3Jkc0xpc3RbMF1dO1xuICAgIHJlc3VsdC5wdXNoKC4uLndvcmRzTGlzdC5zbGljZSgxKS5tYXAodyA9PiB7XG4gICAgICAgIGlmICh3Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgICAgICAgcmV0dXJuICdfJyArIHc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhcGl0YWxpemUodyk7XG4gICAgfSkpO1xuICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgZ2l2ZW4gc3RyaW5nIHRvIGxvd2VyIGNhbWVsIGNhc2UgKGZvcmNpbmcgdGhlIGZpcnN0IGNoYXJhY3RlciB0byBiZVxuICogaW4gbG93ZXIgY2FzZSkuXG4gKi9cbmZ1bmN0aW9uIHRvTG93ZXJDYW1lbENhc2Uoc3RyKSB7XG4gICAgY29uc3QgY2FtZWxDYXNlID0gdG9DYW1lbENhc2Uoc3RyKTtcbiAgICBpZiAoY2FtZWxDYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gY2FtZWxDYXNlO1xuICAgIH1cbiAgICByZXR1cm4gY2FtZWxDYXNlWzBdLnRvTG93ZXJDYXNlKCkgKyBjYW1lbENhc2Uuc2xpY2UoMSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgZ2l2ZW4gc3RyaW5nIHRvIGxvd2VyIGNhbWVsIGNhc2UgKGZvcmNpbmcgdGhlIGZpcnN0IGNoYXJhY3RlciB0byBiZVxuICogaW4gbG93ZXIgY2FzZSkuXG4gKi9cbmZ1bmN0aW9uIG1ha2VVVUlEKCkge1xuICAgIHJldHVybiAoMCwgdXVpZF8xLnY0KSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/util.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/build/src/warnings.js":
/*!*******************************************************!*\
  !*** ./node_modules/google-gax/build/src/warnings.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.warn = warn;\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(action-browser)/./node_modules/google-gax/build/src/featureDetection.js\");\nconst emittedWarnings = new Set();\n// warnType is the type of warning (e.g. 'DeprecationWarning', 'ExperimentalWarning', etc.)\nfunction warn(code, message, warnType) {\n    // Only show a given warning once\n    if (emittedWarnings.has(code)) {\n        return;\n    }\n    emittedWarnings.add(code);\n    if (!(0, featureDetection_1.isNodeJS)()) {\n        console.warn(message);\n    }\n    else if (typeof warnType !== 'undefined') {\n        process.emitWarning(message, {\n            type: warnType,\n        });\n    }\n    else {\n        process.emitWarning(message);\n    }\n}\n//# sourceMappingURL=warnings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy93YXJuaW5ncy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZO0FBQ1osMkJBQTJCLG1CQUFPLENBQUMsb0dBQW9CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvd2FybmluZ3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndhcm4gPSB3YXJuO1xuY29uc3QgZmVhdHVyZURldGVjdGlvbl8xID0gcmVxdWlyZShcIi4vZmVhdHVyZURldGVjdGlvblwiKTtcbmNvbnN0IGVtaXR0ZWRXYXJuaW5ncyA9IG5ldyBTZXQoKTtcbi8vIHdhcm5UeXBlIGlzIHRoZSB0eXBlIG9mIHdhcm5pbmcgKGUuZy4gJ0RlcHJlY2F0aW9uV2FybmluZycsICdFeHBlcmltZW50YWxXYXJuaW5nJywgZXRjLilcbmZ1bmN0aW9uIHdhcm4oY29kZSwgbWVzc2FnZSwgd2FyblR5cGUpIHtcbiAgICAvLyBPbmx5IHNob3cgYSBnaXZlbiB3YXJuaW5nIG9uY2VcbiAgICBpZiAoZW1pdHRlZFdhcm5pbmdzLmhhcyhjb2RlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVtaXR0ZWRXYXJuaW5ncy5hZGQoY29kZSk7XG4gICAgaWYgKCEoMCwgZmVhdHVyZURldGVjdGlvbl8xLmlzTm9kZUpTKSgpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHdhcm5UeXBlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwcm9jZXNzLmVtaXRXYXJuaW5nKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgIHR5cGU6IHdhcm5UeXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW1pdFdhcm5pbmcobWVzc2FnZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2FybmluZ3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/build/src/warnings.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.registerAdminService = registerAdminService;\nexports.addAdminServicesToServer = addAdminServicesToServer;\nconst registeredAdminServices = [];\nfunction registerAdminService(getServiceDefinition, getHandlers) {\n    registeredAdminServices.push({ getServiceDefinition, getHandlers });\n}\nfunction addAdminServicesToServer(server) {\n    for (const { getServiceDefinition, getHandlers } of registeredAdminServices) {\n        server.addService(getServiceDefinition(), getHandlers());\n    }\n}\n//# sourceMappingURL=admin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9hZG1pbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QjtBQUM1QixnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLG1DQUFtQyxtQ0FBbUM7QUFDdEU7QUFDQTtBQUNBLGlCQUFpQixvQ0FBb0M7QUFDckQ7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9hZG1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZWdpc3RlckFkbWluU2VydmljZSA9IHJlZ2lzdGVyQWRtaW5TZXJ2aWNlO1xuZXhwb3J0cy5hZGRBZG1pblNlcnZpY2VzVG9TZXJ2ZXIgPSBhZGRBZG1pblNlcnZpY2VzVG9TZXJ2ZXI7XG5jb25zdCByZWdpc3RlcmVkQWRtaW5TZXJ2aWNlcyA9IFtdO1xuZnVuY3Rpb24gcmVnaXN0ZXJBZG1pblNlcnZpY2UoZ2V0U2VydmljZURlZmluaXRpb24sIGdldEhhbmRsZXJzKSB7XG4gICAgcmVnaXN0ZXJlZEFkbWluU2VydmljZXMucHVzaCh7IGdldFNlcnZpY2VEZWZpbml0aW9uLCBnZXRIYW5kbGVycyB9KTtcbn1cbmZ1bmN0aW9uIGFkZEFkbWluU2VydmljZXNUb1NlcnZlcihzZXJ2ZXIpIHtcbiAgICBmb3IgKGNvbnN0IHsgZ2V0U2VydmljZURlZmluaXRpb24sIGdldEhhbmRsZXJzIH0gb2YgcmVnaXN0ZXJlZEFkbWluU2VydmljZXMpIHtcbiAgICAgICAgc2VydmVyLmFkZFNlcnZpY2UoZ2V0U2VydmljZURlZmluaXRpb24oKSwgZ2V0SGFuZGxlcnMoKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRtaW4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BackoffTimeout = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'backoff';\nconst INITIAL_BACKOFF_MS = 1000;\nconst BACKOFF_MULTIPLIER = 1.6;\nconst MAX_BACKOFF_MS = 120000;\nconst BACKOFF_JITTER = 0.2;\n/**\n * Get a number uniformly at random in the range [min, max)\n * @param min\n * @param max\n */\nfunction uniformRandom(min, max) {\n    return Math.random() * (max - min) + min;\n}\nclass BackoffTimeout {\n    constructor(callback, options) {\n        this.callback = callback;\n        /**\n         * The delay time at the start, and after each reset.\n         */\n        this.initialDelay = INITIAL_BACKOFF_MS;\n        /**\n         * The exponential backoff multiplier.\n         */\n        this.multiplier = BACKOFF_MULTIPLIER;\n        /**\n         * The maximum delay time\n         */\n        this.maxDelay = MAX_BACKOFF_MS;\n        /**\n         * The maximum fraction by which the delay time can randomly vary after\n         * applying the multiplier.\n         */\n        this.jitter = BACKOFF_JITTER;\n        /**\n         * Indicates whether the timer is currently running.\n         */\n        this.running = false;\n        /**\n         * Indicates whether the timer should keep the Node process running if no\n         * other async operation is doing so.\n         */\n        this.hasRef = true;\n        /**\n         * The time that the currently running timer was started. Only valid if\n         * running is true.\n         */\n        this.startTime = new Date();\n        /**\n         * The approximate time that the currently running timer will end. Only valid\n         * if running is true.\n         */\n        this.endTime = new Date();\n        this.id = BackoffTimeout.getNextId();\n        if (options) {\n            if (options.initialDelay) {\n                this.initialDelay = options.initialDelay;\n            }\n            if (options.multiplier) {\n                this.multiplier = options.multiplier;\n            }\n            if (options.jitter) {\n                this.jitter = options.jitter;\n            }\n            if (options.maxDelay) {\n                this.maxDelay = options.maxDelay;\n            }\n        }\n        this.trace('constructed initialDelay=' + this.initialDelay + ' multiplier=' + this.multiplier + ' jitter=' + this.jitter + ' maxDelay=' + this.maxDelay);\n        this.nextDelay = this.initialDelay;\n        this.timerId = setTimeout(() => { }, 0);\n        clearTimeout(this.timerId);\n    }\n    static getNextId() {\n        return this.nextId++;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '{' + this.id + '} ' + text);\n    }\n    runTimer(delay) {\n        var _a, _b;\n        this.trace('runTimer(delay=' + delay + ')');\n        this.endTime = this.startTime;\n        this.endTime.setMilliseconds(this.endTime.getMilliseconds() + delay);\n        clearTimeout(this.timerId);\n        this.timerId = setTimeout(() => {\n            this.trace('timer fired');\n            this.running = false;\n            this.callback();\n        }, delay);\n        if (!this.hasRef) {\n            (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    /**\n     * Call the callback after the current amount of delay time\n     */\n    runOnce() {\n        this.trace('runOnce()');\n        this.running = true;\n        this.startTime = new Date();\n        this.runTimer(this.nextDelay);\n        const nextBackoff = Math.min(this.nextDelay * this.multiplier, this.maxDelay);\n        const jitterMagnitude = nextBackoff * this.jitter;\n        this.nextDelay =\n            nextBackoff + uniformRandom(-jitterMagnitude, jitterMagnitude);\n    }\n    /**\n     * Stop the timer. The callback will not be called until `runOnce` is called\n     * again.\n     */\n    stop() {\n        this.trace('stop()');\n        clearTimeout(this.timerId);\n        this.running = false;\n    }\n    /**\n     * Reset the delay time to its initial value. If the timer is still running,\n     * retroactively apply that reset to the current timer.\n     */\n    reset() {\n        this.trace('reset() running=' + this.running);\n        this.nextDelay = this.initialDelay;\n        if (this.running) {\n            const now = new Date();\n            const newEndTime = this.startTime;\n            newEndTime.setMilliseconds(newEndTime.getMilliseconds() + this.nextDelay);\n            clearTimeout(this.timerId);\n            if (now < newEndTime) {\n                this.runTimer(newEndTime.getTime() - now.getTime());\n            }\n            else {\n                this.running = false;\n            }\n        }\n    }\n    /**\n     * Check whether the timer is currently running.\n     */\n    isRunning() {\n        return this.running;\n    }\n    /**\n     * Set that while the timer is running, it should keep the Node process\n     * running.\n     */\n    ref() {\n        var _a, _b;\n        this.hasRef = true;\n        (_b = (_a = this.timerId).ref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Set that while the timer is running, it should not keep the Node process\n     * running.\n     */\n    unref() {\n        var _a, _b;\n        this.hasRef = false;\n        (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Get the approximate timestamp of when the timer will fire. Only valid if\n     * this.isRunning() is true.\n     */\n    getEndTime() {\n        return this.endTime;\n    }\n}\nexports.BackoffTimeout = BackoffTimeout;\nBackoffTimeout.nextId = 0;\n//# sourceMappingURL=backoff-timeout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9iYWNrb2ZmLXRpbWVvdXQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0I7QUFDdEIsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMsNkdBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxpQkFBaUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2JhY2tvZmYtdGltZW91dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYWNrb2ZmVGltZW91dCA9IHZvaWQgMDtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdiYWNrb2ZmJztcbmNvbnN0IElOSVRJQUxfQkFDS09GRl9NUyA9IDEwMDA7XG5jb25zdCBCQUNLT0ZGX01VTFRJUExJRVIgPSAxLjY7XG5jb25zdCBNQVhfQkFDS09GRl9NUyA9IDEyMDAwMDtcbmNvbnN0IEJBQ0tPRkZfSklUVEVSID0gMC4yO1xuLyoqXG4gKiBHZXQgYSBudW1iZXIgdW5pZm9ybWx5IGF0IHJhbmRvbSBpbiB0aGUgcmFuZ2UgW21pbiwgbWF4KVxuICogQHBhcmFtIG1pblxuICogQHBhcmFtIG1heFxuICovXG5mdW5jdGlvbiB1bmlmb3JtUmFuZG9tKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cbmNsYXNzIEJhY2tvZmZUaW1lb3V0IHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVsYXkgdGltZSBhdCB0aGUgc3RhcnQsIGFuZCBhZnRlciBlYWNoIHJlc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbml0aWFsRGVsYXkgPSBJTklUSUFMX0JBQ0tPRkZfTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhwb25lbnRpYWwgYmFja29mZiBtdWx0aXBsaWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyID0gQkFDS09GRl9NVUxUSVBMSUVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZGVsYXkgdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhEZWxheSA9IE1BWF9CQUNLT0ZGX01TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZnJhY3Rpb24gYnkgd2hpY2ggdGhlIGRlbGF5IHRpbWUgY2FuIHJhbmRvbWx5IHZhcnkgYWZ0ZXJcbiAgICAgICAgICogYXBwbHlpbmcgdGhlIG11bHRpcGxpZXIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmppdHRlciA9IEJBQ0tPRkZfSklUVEVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRpbWVyIGlzIGN1cnJlbnRseSBydW5uaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGltZXIgc2hvdWxkIGtlZXAgdGhlIE5vZGUgcHJvY2VzcyBydW5uaW5nIGlmIG5vXG4gICAgICAgICAqIG90aGVyIGFzeW5jIG9wZXJhdGlvbiBpcyBkb2luZyBzby5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzUmVmID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lIHRoYXQgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRpbWVyIHdhcyBzdGFydGVkLiBPbmx5IHZhbGlkIGlmXG4gICAgICAgICAqIHJ1bm5pbmcgaXMgdHJ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcHByb3hpbWF0ZSB0aW1lIHRoYXQgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRpbWVyIHdpbGwgZW5kLiBPbmx5IHZhbGlkXG4gICAgICAgICAqIGlmIHJ1bm5pbmcgaXMgdHJ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuaWQgPSBCYWNrb2ZmVGltZW91dC5nZXROZXh0SWQoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmluaXRpYWxEZWxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbERlbGF5ID0gb3B0aW9ucy5pbml0aWFsRGVsYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tdWx0aXBsaWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyID0gb3B0aW9ucy5tdWx0aXBsaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaml0dGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qaXR0ZXIgPSBvcHRpb25zLmppdHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1heERlbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhEZWxheSA9IG9wdGlvbnMubWF4RGVsYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnY29uc3RydWN0ZWQgaW5pdGlhbERlbGF5PScgKyB0aGlzLmluaXRpYWxEZWxheSArICcgbXVsdGlwbGllcj0nICsgdGhpcy5tdWx0aXBsaWVyICsgJyBqaXR0ZXI9JyArIHRoaXMuaml0dGVyICsgJyBtYXhEZWxheT0nICsgdGhpcy5tYXhEZWxheSk7XG4gICAgICAgIHRoaXMubmV4dERlbGF5ID0gdGhpcy5pbml0aWFsRGVsYXk7XG4gICAgICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXROZXh0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRJZCsrO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ3snICsgdGhpcy5pZCArICd9ICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgcnVuVGltZXIoZGVsYXkpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy50cmFjZSgncnVuVGltZXIoZGVsYXk9JyArIGRlbGF5ICsgJyknKTtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdGhpcy5zdGFydFRpbWU7XG4gICAgICAgIHRoaXMuZW5kVGltZS5zZXRNaWxsaXNlY29uZHModGhpcy5lbmRUaW1lLmdldE1pbGxpc2Vjb25kcygpICsgZGVsYXkpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICAgICAgdGhpcy50aW1lcklkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCd0aW1lciBmaXJlZCcpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1JlZikge1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy50aW1lcklkKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgdGhlIGNhbGxiYWNrIGFmdGVyIHRoZSBjdXJyZW50IGFtb3VudCBvZiBkZWxheSB0aW1lXG4gICAgICovXG4gICAgcnVuT25jZSgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgncnVuT25jZSgpJyk7XG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5ydW5UaW1lcih0aGlzLm5leHREZWxheSk7XG4gICAgICAgIGNvbnN0IG5leHRCYWNrb2ZmID0gTWF0aC5taW4odGhpcy5uZXh0RGVsYXkgKiB0aGlzLm11bHRpcGxpZXIsIHRoaXMubWF4RGVsYXkpO1xuICAgICAgICBjb25zdCBqaXR0ZXJNYWduaXR1ZGUgPSBuZXh0QmFja29mZiAqIHRoaXMuaml0dGVyO1xuICAgICAgICB0aGlzLm5leHREZWxheSA9XG4gICAgICAgICAgICBuZXh0QmFja29mZiArIHVuaWZvcm1SYW5kb20oLWppdHRlck1hZ25pdHVkZSwgaml0dGVyTWFnbml0dWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgdGltZXIuIFRoZSBjYWxsYmFjayB3aWxsIG5vdCBiZSBjYWxsZWQgdW50aWwgYHJ1bk9uY2VgIGlzIGNhbGxlZFxuICAgICAqIGFnYWluLlxuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0b3AoKScpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBkZWxheSB0aW1lIHRvIGl0cyBpbml0aWFsIHZhbHVlLiBJZiB0aGUgdGltZXIgaXMgc3RpbGwgcnVubmluZyxcbiAgICAgKiByZXRyb2FjdGl2ZWx5IGFwcGx5IHRoYXQgcmVzZXQgdG8gdGhlIGN1cnJlbnQgdGltZXIuXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3Jlc2V0KCkgcnVubmluZz0nICsgdGhpcy5ydW5uaW5nKTtcbiAgICAgICAgdGhpcy5uZXh0RGVsYXkgPSB0aGlzLmluaXRpYWxEZWxheTtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0VuZFRpbWUgPSB0aGlzLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIG5ld0VuZFRpbWUuc2V0TWlsbGlzZWNvbmRzKG5ld0VuZFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgKyB0aGlzLm5leHREZWxheSk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICAgICAgICAgIGlmIChub3cgPCBuZXdFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5UaW1lcihuZXdFbmRUaW1lLmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgdGltZXIgaXMgY3VycmVudGx5IHJ1bm5pbmcuXG4gICAgICovXG4gICAgaXNSdW5uaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5uaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhhdCB3aGlsZSB0aGUgdGltZXIgaXMgcnVubmluZywgaXQgc2hvdWxkIGtlZXAgdGhlIE5vZGUgcHJvY2Vzc1xuICAgICAqIHJ1bm5pbmcuXG4gICAgICovXG4gICAgcmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmhhc1JlZiA9IHRydWU7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMudGltZXJJZCkucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGF0IHdoaWxlIHRoZSB0aW1lciBpcyBydW5uaW5nLCBpdCBzaG91bGQgbm90IGtlZXAgdGhlIE5vZGUgcHJvY2Vzc1xuICAgICAqIHJ1bm5pbmcuXG4gICAgICovXG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuaGFzUmVmID0gZmFsc2U7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMudGltZXJJZCkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhcHByb3hpbWF0ZSB0aW1lc3RhbXAgb2Ygd2hlbiB0aGUgdGltZXIgd2lsbCBmaXJlLiBPbmx5IHZhbGlkIGlmXG4gICAgICogdGhpcy5pc1J1bm5pbmcoKSBpcyB0cnVlLlxuICAgICAqL1xuICAgIGdldEVuZFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZFRpbWU7XG4gICAgfVxufVxuZXhwb3J0cy5CYWNrb2ZmVGltZW91dCA9IEJhY2tvZmZUaW1lb3V0O1xuQmFja29mZlRpbWVvdXQubmV4dElkID0gMDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhY2tvZmYtdGltZW91dC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CallCredentials = void 0;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nfunction isCurrentOauth2Client(client) {\n    return ('getRequestHeaders' in client &&\n        typeof client.getRequestHeaders === 'function');\n}\n/**\n * A class that represents a generic method of adding authentication-related\n * metadata on a per-request basis.\n */\nclass CallCredentials {\n    /**\n     * Creates a new CallCredentials object from a given function that generates\n     * Metadata objects.\n     * @param metadataGenerator A function that accepts a set of options, and\n     * generates a Metadata object based on these options, which is passed back\n     * to the caller via a supplied (err, metadata) callback.\n     */\n    static createFromMetadataGenerator(metadataGenerator) {\n        return new SingleCallCredentials(metadataGenerator);\n    }\n    /**\n     * Create a gRPC credential from a Google credential object.\n     * @param googleCredentials The authentication client to use.\n     * @return The resulting CallCredentials object.\n     */\n    static createFromGoogleCredential(googleCredentials) {\n        return CallCredentials.createFromMetadataGenerator((options, callback) => {\n            let getHeaders;\n            if (isCurrentOauth2Client(googleCredentials)) {\n                getHeaders = googleCredentials.getRequestHeaders(options.service_url);\n            }\n            else {\n                getHeaders = new Promise((resolve, reject) => {\n                    googleCredentials.getRequestMetadata(options.service_url, (err, headers) => {\n                        if (err) {\n                            reject(err);\n                            return;\n                        }\n                        if (!headers) {\n                            reject(new Error('Headers not set by metadata plugin'));\n                            return;\n                        }\n                        resolve(headers);\n                    });\n                });\n            }\n            getHeaders.then(headers => {\n                const metadata = new metadata_1.Metadata();\n                for (const key of Object.keys(headers)) {\n                    metadata.add(key, headers[key]);\n                }\n                callback(null, metadata);\n            }, err => {\n                callback(err);\n            });\n        });\n    }\n    static createEmpty() {\n        return new EmptyCallCredentials();\n    }\n}\nexports.CallCredentials = CallCredentials;\nclass ComposedCallCredentials extends CallCredentials {\n    constructor(creds) {\n        super();\n        this.creds = creds;\n    }\n    async generateMetadata(options) {\n        const base = new metadata_1.Metadata();\n        const generated = await Promise.all(this.creds.map(cred => cred.generateMetadata(options)));\n        for (const gen of generated) {\n            base.merge(gen);\n        }\n        return base;\n    }\n    compose(other) {\n        return new ComposedCallCredentials(this.creds.concat([other]));\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof ComposedCallCredentials) {\n            return this.creds.every((value, index) => value._equals(other.creds[index]));\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass SingleCallCredentials extends CallCredentials {\n    constructor(metadataGenerator) {\n        super();\n        this.metadataGenerator = metadataGenerator;\n    }\n    generateMetadata(options) {\n        return new Promise((resolve, reject) => {\n            this.metadataGenerator(options, (err, metadata) => {\n                if (metadata !== undefined) {\n                    resolve(metadata);\n                }\n                else {\n                    reject(err);\n                }\n            });\n        });\n    }\n    compose(other) {\n        return new ComposedCallCredentials([this, other]);\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof SingleCallCredentials) {\n            return this.metadataGenerator === other.metadataGenerator;\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass EmptyCallCredentials extends CallCredentials {\n    generateMetadata(options) {\n        return Promise.resolve(new metadata_1.Metadata());\n    }\n    compose(other) {\n        return other;\n    }\n    _equals(other) {\n        return other instanceof EmptyCallCredentials;\n    }\n}\n//# sourceMappingURL=call-credentials.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLWNyZWRlbnRpYWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NhbGwtY3JlZGVudGlhbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2FsbENyZWRlbnRpYWxzID0gdm9pZCAwO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuZnVuY3Rpb24gaXNDdXJyZW50T2F1dGgyQ2xpZW50KGNsaWVudCkge1xuICAgIHJldHVybiAoJ2dldFJlcXVlc3RIZWFkZXJzJyBpbiBjbGllbnQgJiZcbiAgICAgICAgdHlwZW9mIGNsaWVudC5nZXRSZXF1ZXN0SGVhZGVycyA9PT0gJ2Z1bmN0aW9uJyk7XG59XG4vKipcbiAqIEEgY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgZ2VuZXJpYyBtZXRob2Qgb2YgYWRkaW5nIGF1dGhlbnRpY2F0aW9uLXJlbGF0ZWRcbiAqIG1ldGFkYXRhIG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMuXG4gKi9cbmNsYXNzIENhbGxDcmVkZW50aWFscyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0IGZyb20gYSBnaXZlbiBmdW5jdGlvbiB0aGF0IGdlbmVyYXRlc1xuICAgICAqIE1ldGFkYXRhIG9iamVjdHMuXG4gICAgICogQHBhcmFtIG1ldGFkYXRhR2VuZXJhdG9yIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgc2V0IG9mIG9wdGlvbnMsIGFuZFxuICAgICAqIGdlbmVyYXRlcyBhIE1ldGFkYXRhIG9iamVjdCBiYXNlZCBvbiB0aGVzZSBvcHRpb25zLCB3aGljaCBpcyBwYXNzZWQgYmFja1xuICAgICAqIHRvIHRoZSBjYWxsZXIgdmlhIGEgc3VwcGxpZWQgKGVyciwgbWV0YWRhdGEpIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVGcm9tTWV0YWRhdGFHZW5lcmF0b3IobWV0YWRhdGFHZW5lcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVDYWxsQ3JlZGVudGlhbHMobWV0YWRhdGFHZW5lcmF0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBnUlBDIGNyZWRlbnRpYWwgZnJvbSBhIEdvb2dsZSBjcmVkZW50aWFsIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gZ29vZ2xlQ3JlZGVudGlhbHMgVGhlIGF1dGhlbnRpY2F0aW9uIGNsaWVudCB0byB1c2UuXG4gICAgICogQHJldHVybiBUaGUgcmVzdWx0aW5nIENhbGxDcmVkZW50aWFscyBvYmplY3QuXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUZyb21Hb29nbGVDcmVkZW50aWFsKGdvb2dsZUNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHJldHVybiBDYWxsQ3JlZGVudGlhbHMuY3JlYXRlRnJvbU1ldGFkYXRhR2VuZXJhdG9yKChvcHRpb25zLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgbGV0IGdldEhlYWRlcnM7XG4gICAgICAgICAgICBpZiAoaXNDdXJyZW50T2F1dGgyQ2xpZW50KGdvb2dsZUNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgIGdldEhlYWRlcnMgPSBnb29nbGVDcmVkZW50aWFscy5nZXRSZXF1ZXN0SGVhZGVycyhvcHRpb25zLnNlcnZpY2VfdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldEhlYWRlcnMgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZUNyZWRlbnRpYWxzLmdldFJlcXVlc3RNZXRhZGF0YShvcHRpb25zLnNlcnZpY2VfdXJsLCAoZXJyLCBoZWFkZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignSGVhZGVycyBub3Qgc2V0IGJ5IG1ldGFkYXRhIHBsdWdpbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldEhlYWRlcnMudGhlbihoZWFkZXJzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEuYWRkKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRW1wdHlDYWxsQ3JlZGVudGlhbHMoKTtcbiAgICB9XG59XG5leHBvcnRzLkNhbGxDcmVkZW50aWFscyA9IENhbGxDcmVkZW50aWFscztcbmNsYXNzIENvbXBvc2VkQ2FsbENyZWRlbnRpYWxzIGV4dGVuZHMgQ2FsbENyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihjcmVkcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNyZWRzID0gY3JlZHM7XG4gICAgfVxuICAgIGFzeW5jIGdlbmVyYXRlTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICBjb25zdCBiYXNlID0gbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkID0gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5jcmVkcy5tYXAoY3JlZCA9PiBjcmVkLmdlbmVyYXRlTWV0YWRhdGEob3B0aW9ucykpKTtcbiAgICAgICAgZm9yIChjb25zdCBnZW4gb2YgZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICBiYXNlLm1lcmdlKGdlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfVxuICAgIGNvbXBvc2Uob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NlZENhbGxDcmVkZW50aWFscyh0aGlzLmNyZWRzLmNvbmNhdChbb3RoZXJdKSk7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBDb21wb3NlZENhbGxDcmVkZW50aWFscykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlZHMuZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUuX2VxdWFscyhvdGhlci5jcmVkc1tpbmRleF0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNpbmdsZUNhbGxDcmVkZW50aWFscyBleHRlbmRzIENhbGxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IobWV0YWRhdGFHZW5lcmF0b3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YUdlbmVyYXRvciA9IG1ldGFkYXRhR2VuZXJhdG9yO1xuICAgIH1cbiAgICBnZW5lcmF0ZU1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGFHZW5lcmF0b3Iob3B0aW9ucywgKGVyciwgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29tcG9zZShvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2VkQ2FsbENyZWRlbnRpYWxzKFt0aGlzLCBvdGhlcl0pO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgU2luZ2xlQ2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YUdlbmVyYXRvciA9PT0gb3RoZXIubWV0YWRhdGFHZW5lcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBFbXB0eUNhbGxDcmVkZW50aWFscyBleHRlbmRzIENhbGxDcmVkZW50aWFscyB7XG4gICAgZ2VuZXJhdGVNZXRhZGF0YShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSk7XG4gICAgfVxuICAgIGNvbXBvc2Uob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIEVtcHR5Q2FsbENyZWRlbnRpYWxzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGwtY3JlZGVudGlhbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.InterceptingListenerImpl = void 0;\nexports.isInterceptingListener = isInterceptingListener;\nfunction isInterceptingListener(listener) {\n    return (listener.onReceiveMetadata !== undefined &&\n        listener.onReceiveMetadata.length === 1);\n}\nclass InterceptingListenerImpl {\n    constructor(listener, nextListener) {\n        this.listener = listener;\n        this.nextListener = nextListener;\n        this.processingMetadata = false;\n        this.hasPendingMessage = false;\n        this.processingMessage = false;\n        this.pendingStatus = null;\n    }\n    processPendingMessage() {\n        if (this.hasPendingMessage) {\n            this.nextListener.onReceiveMessage(this.pendingMessage);\n            this.pendingMessage = null;\n            this.hasPendingMessage = false;\n        }\n    }\n    processPendingStatus() {\n        if (this.pendingStatus) {\n            this.nextListener.onReceiveStatus(this.pendingStatus);\n        }\n    }\n    onReceiveMetadata(metadata) {\n        this.processingMetadata = true;\n        this.listener.onReceiveMetadata(metadata, metadata => {\n            this.processingMetadata = false;\n            this.nextListener.onReceiveMetadata(metadata);\n            this.processPendingMessage();\n            this.processPendingStatus();\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onReceiveMessage(message) {\n        /* If this listener processes messages asynchronously, the last message may\n         * be reordered with respect to the status */\n        this.processingMessage = true;\n        this.listener.onReceiveMessage(message, msg => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessage = msg;\n                this.hasPendingMessage = true;\n            }\n            else {\n                this.nextListener.onReceiveMessage(msg);\n                this.processPendingStatus();\n            }\n        });\n    }\n    onReceiveStatus(status) {\n        this.listener.onReceiveStatus(status, processedStatus => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingStatus = processedStatus;\n            }\n            else {\n                this.nextListener.onReceiveStatus(processedStatus);\n            }\n        });\n    }\n}\nexports.InterceptingListenerImpl = InterceptingListenerImpl;\n//# sourceMappingURL=call-interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLWludGVyZmFjZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQztBQUNoQyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NhbGwtaW50ZXJmYWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkludGVyY2VwdGluZ0xpc3RlbmVySW1wbCA9IHZvaWQgMDtcbmV4cG9ydHMuaXNJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IGlzSW50ZXJjZXB0aW5nTGlzdGVuZXI7XG5mdW5jdGlvbiBpc0ludGVyY2VwdGluZ0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhLmxlbmd0aCA9PT0gMSk7XG59XG5jbGFzcyBJbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyLCBuZXh0TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLm5leHRMaXN0ZW5lciA9IG5leHRMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UodGhpcy5wZW5kaW5nTWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUGVuZGluZ1N0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1N0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMucGVuZGluZ1N0YXR1cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhLCBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIC8qIElmIHRoaXMgbGlzdGVuZXIgcHJvY2Vzc2VzIG1lc3NhZ2VzIGFzeW5jaHJvbm91c2x5LCB0aGUgbGFzdCBtZXNzYWdlIG1heVxuICAgICAgICAgKiBiZSByZW9yZGVyZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBzdGF0dXMgKi9cbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlLCBtc2cgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG1zZztcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1BlbmRpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nU3RhdHVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHN0YXR1cywgcHJvY2Vzc2VkU3RhdHVzID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSB8fCB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gcHJvY2Vzc2VkU3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHByb2Nlc3NlZFN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsID0gSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC1pbnRlcmZhY2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getNextCallNumber = getNextCallNumber;\nlet nextCallNumber = 0;\nfunction getNextCallNumber() {\n    return nextCallNumber++;\n}\n//# sourceMappingURL=call-number.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLW51bWJlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1udW1iZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0TmV4dENhbGxOdW1iZXIgPSBnZXROZXh0Q2FsbE51bWJlcjtcbmxldCBuZXh0Q2FsbE51bWJlciA9IDA7XG5mdW5jdGlvbiBnZXROZXh0Q2FsbE51bWJlcigpIHtcbiAgICByZXR1cm4gbmV4dENhbGxOdW1iZXIrKztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGwtbnVtYmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js":
/*!******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ClientDuplexStreamImpl = exports.ClientWritableStreamImpl = exports.ClientReadableStreamImpl = exports.ClientUnaryCallImpl = void 0;\nexports.callErrorFromStatus = callErrorFromStatus;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n/**\n * Construct a ServiceError from a StatusObject. This function exists primarily\n * as an attempt to make the error stack trace clearly communicate that the\n * error is not necessarily a problem in gRPC itself.\n * @param status\n */\nfunction callErrorFromStatus(status, callerStack) {\n    const message = `${status.code} ${constants_1.Status[status.code]}: ${status.details}`;\n    const error = new Error(message);\n    const stack = `${error.stack}\\nfor call at\\n${callerStack}`;\n    return Object.assign(new Error(message), status, { stack });\n}\nclass ClientUnaryCallImpl extends events_1.EventEmitter {\n    constructor() {\n        super();\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n}\nexports.ClientUnaryCallImpl = ClientUnaryCallImpl;\nclass ClientReadableStreamImpl extends stream_1.Readable {\n    constructor(deserialize) {\n        super({ objectMode: true });\n        this.deserialize = deserialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    _read(_size) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n    }\n}\nexports.ClientReadableStreamImpl = ClientReadableStreamImpl;\nclass ClientWritableStreamImpl extends stream_1.Writable {\n    constructor(serialize) {\n        super({ objectMode: true });\n        this.serialize = serialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    _write(chunk, encoding, cb) {\n        var _a;\n        const context = {\n            callback: cb,\n        };\n        const flags = Number(encoding);\n        if (!Number.isNaN(flags)) {\n            context.flags = flags;\n        }\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n    }\n    _final(cb) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n        cb();\n    }\n}\nexports.ClientWritableStreamImpl = ClientWritableStreamImpl;\nclass ClientDuplexStreamImpl extends stream_1.Duplex {\n    constructor(serialize, deserialize) {\n        super({ objectMode: true });\n        this.serialize = serialize;\n        this.deserialize = deserialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    _read(_size) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n    }\n    _write(chunk, encoding, cb) {\n        var _a;\n        const context = {\n            callback: cb,\n        };\n        const flags = Number(encoding);\n        if (!Number.isNaN(flags)) {\n            context.flags = flags;\n        }\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n    }\n    _final(cb) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n        cb();\n    }\n}\nexports.ClientDuplexStreamImpl = ClientDuplexStreamImpl;\n//# sourceMappingURL=call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCLEdBQUcsZ0NBQWdDLEdBQUcsZ0NBQWdDLEdBQUcsMkJBQTJCO0FBQ2xJLDJCQUEyQjtBQUMzQixpQkFBaUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNqQyxpQkFBaUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNqQyxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixhQUFhLEVBQUUsZ0NBQWdDLElBQUksZUFBZTtBQUN6RjtBQUNBLHFCQUFxQixZQUFZLGlCQUFpQixZQUFZO0FBQzlELHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGllbnREdXBsZXhTdHJlYW1JbXBsID0gZXhwb3J0cy5DbGllbnRXcml0YWJsZVN0cmVhbUltcGwgPSBleHBvcnRzLkNsaWVudFJlYWRhYmxlU3RyZWFtSW1wbCA9IGV4cG9ydHMuQ2xpZW50VW5hcnlDYWxsSW1wbCA9IHZvaWQgMDtcbmV4cG9ydHMuY2FsbEVycm9yRnJvbVN0YXR1cyA9IGNhbGxFcnJvckZyb21TdGF0dXM7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogQ29uc3RydWN0IGEgU2VydmljZUVycm9yIGZyb20gYSBTdGF0dXNPYmplY3QuIFRoaXMgZnVuY3Rpb24gZXhpc3RzIHByaW1hcmlseVxuICogYXMgYW4gYXR0ZW1wdCB0byBtYWtlIHRoZSBlcnJvciBzdGFjayB0cmFjZSBjbGVhcmx5IGNvbW11bmljYXRlIHRoYXQgdGhlXG4gKiBlcnJvciBpcyBub3QgbmVjZXNzYXJpbHkgYSBwcm9ibGVtIGluIGdSUEMgaXRzZWxmLlxuICogQHBhcmFtIHN0YXR1c1xuICovXG5mdW5jdGlvbiBjYWxsRXJyb3JGcm9tU3RhdHVzKHN0YXR1cywgY2FsbGVyU3RhY2spIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYCR7c3RhdHVzLmNvZGV9ICR7Y29uc3RhbnRzXzEuU3RhdHVzW3N0YXR1cy5jb2RlXX06ICR7c3RhdHVzLmRldGFpbHN9YDtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICBjb25zdCBzdGFjayA9IGAke2Vycm9yLnN0YWNrfVxcbmZvciBjYWxsIGF0XFxuJHtjYWxsZXJTdGFja31gO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihtZXNzYWdlKSwgc3RhdHVzLCB7IHN0YWNrIH0pO1xufVxuY2xhc3MgQ2xpZW50VW5hcnlDYWxsSW1wbCBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgb24gY2xpZW50Jyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd1bmtub3duJztcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudFVuYXJ5Q2FsbEltcGwgPSBDbGllbnRVbmFyeUNhbGxJbXBsO1xuY2xhc3MgQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuUmVhZGFibGUge1xuICAgIGNvbnN0cnVjdG9yKGRlc2VyaWFsaXplKSB7XG4gICAgICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxuICAgIF9yZWFkKF9zaXplKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRSZWFkKCk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRSZWFkYWJsZVN0cmVhbUltcGwgPSBDbGllbnRSZWFkYWJsZVN0cmVhbUltcGw7XG5jbGFzcyBDbGllbnRXcml0YWJsZVN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5Xcml0YWJsZSB7XG4gICAgY29uc3RydWN0b3Ioc2VyaWFsaXplKSB7XG4gICAgICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgb24gY2xpZW50Jyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd1bmtub3duJztcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmbGFncyA9IE51bWJlcihlbmNvZGluZyk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzTmFOKGZsYWdzKSkge1xuICAgICAgICAgICAgY29udGV4dC5mbGFncyA9IGZsYWdzO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgY2h1bmspO1xuICAgIH1cbiAgICBfZmluYWwoY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYWxmQ2xvc2UoKTtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudFdyaXRhYmxlU3RyZWFtSW1wbCA9IENsaWVudFdyaXRhYmxlU3RyZWFtSW1wbDtcbmNsYXNzIENsaWVudER1cGxleFN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5EdXBsZXgge1xuICAgIGNvbnN0cnVjdG9yKHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpIHtcbiAgICAgICAgc3VwZXIoeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxuICAgIF9yZWFkKF9zaXplKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIF93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBOdW1iZXIoZW5jb2RpbmcpO1xuICAgICAgICBpZiAoIU51bWJlci5pc05hTihmbGFncykpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIGNodW5rKTtcbiAgICB9XG4gICAgX2ZpbmFsKGNiKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGFsZkNsb3NlKCk7XG4gICAgICAgIGNiKCk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnREdXBsZXhTdHJlYW1JbXBsID0gQ2xpZW50RHVwbGV4U3RyZWFtSW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2024 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FileWatcherCertificateProvider = void 0;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst util_1 = __webpack_require__(/*! util */ \"util\");\nconst TRACER_NAME = 'certificate_provider';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst readFilePromise = (0, util_1.promisify)(fs.readFile);\nclass FileWatcherCertificateProvider {\n    constructor(config) {\n        this.config = config;\n        this.refreshTimer = null;\n        this.fileResultPromise = null;\n        this.latestCaUpdate = undefined;\n        this.caListeners = new Set();\n        this.latestIdentityUpdate = undefined;\n        this.identityListeners = new Set();\n        this.lastUpdateTime = null;\n        if ((config.certificateFile === undefined) !== (config.privateKeyFile === undefined)) {\n            throw new Error('certificateFile and privateKeyFile must be set or unset together');\n        }\n        if (config.certificateFile === undefined && config.caCertificateFile === undefined) {\n            throw new Error('At least one of certificateFile and caCertificateFile must be set');\n        }\n        trace('File watcher constructed with config ' + JSON.stringify(config));\n    }\n    updateCertificates() {\n        if (this.fileResultPromise) {\n            return;\n        }\n        this.fileResultPromise = Promise.allSettled([\n            this.config.certificateFile ? readFilePromise(this.config.certificateFile) : Promise.reject(),\n            this.config.privateKeyFile ? readFilePromise(this.config.privateKeyFile) : Promise.reject(),\n            this.config.caCertificateFile ? readFilePromise(this.config.caCertificateFile) : Promise.reject()\n        ]);\n        this.fileResultPromise.then(([certificateResult, privateKeyResult, caCertificateResult]) => {\n            if (!this.refreshTimer) {\n                return;\n            }\n            trace('File watcher read certificates certificate ' + certificateResult.status + ', privateKey ' + privateKeyResult.status + ', CA certificate ' + caCertificateResult.status);\n            this.lastUpdateTime = new Date();\n            this.fileResultPromise = null;\n            if (certificateResult.status === 'fulfilled' && privateKeyResult.status === 'fulfilled') {\n                this.latestIdentityUpdate = {\n                    certificate: certificateResult.value,\n                    privateKey: privateKeyResult.value\n                };\n            }\n            else {\n                this.latestIdentityUpdate = null;\n            }\n            if (caCertificateResult.status === 'fulfilled') {\n                this.latestCaUpdate = {\n                    caCertificate: caCertificateResult.value\n                };\n            }\n            else {\n                this.latestCaUpdate = null;\n            }\n            for (const listener of this.identityListeners) {\n                listener(this.latestIdentityUpdate);\n            }\n            for (const listener of this.caListeners) {\n                listener(this.latestCaUpdate);\n            }\n        });\n        trace('File watcher initiated certificate update');\n    }\n    maybeStartWatchingFiles() {\n        if (!this.refreshTimer) {\n            /* Perform the first read immediately, but only if there was not already\n             * a recent read, to avoid reading from the filesystem significantly more\n             * frequently than configured if the provider quickly switches between\n             * used and unused. */\n            const timeSinceLastUpdate = this.lastUpdateTime ? (new Date()).getTime() - this.lastUpdateTime.getTime() : Infinity;\n            if (timeSinceLastUpdate > this.config.refreshIntervalMs) {\n                this.updateCertificates();\n            }\n            if (timeSinceLastUpdate > this.config.refreshIntervalMs * 2) {\n                // Clear out old updates if they are definitely stale\n                this.latestCaUpdate = undefined;\n                this.latestIdentityUpdate = undefined;\n            }\n            this.refreshTimer = setInterval(() => this.updateCertificates(), this.config.refreshIntervalMs);\n            trace('File watcher started watching');\n        }\n    }\n    maybeStopWatchingFiles() {\n        if (this.caListeners.size === 0 && this.identityListeners.size === 0) {\n            this.fileResultPromise = null;\n            if (this.refreshTimer) {\n                clearInterval(this.refreshTimer);\n                this.refreshTimer = null;\n            }\n        }\n    }\n    addCaCertificateListener(listener) {\n        this.caListeners.add(listener);\n        this.maybeStartWatchingFiles();\n        if (this.latestCaUpdate !== undefined) {\n            process.nextTick(listener, this.latestCaUpdate);\n        }\n    }\n    removeCaCertificateListener(listener) {\n        this.caListeners.delete(listener);\n        this.maybeStopWatchingFiles();\n    }\n    addIdentityCertificateListener(listener) {\n        this.identityListeners.add(listener);\n        this.maybeStartWatchingFiles();\n        if (this.latestIdentityUpdate !== undefined) {\n            process.nextTick(listener, this.latestIdentityUpdate);\n        }\n    }\n    removeIdentityCertificateListener(listener) {\n        this.identityListeners.delete(listener);\n        this.maybeStopWatchingFiles();\n    }\n}\nexports.FileWatcherCertificateProvider = FileWatcherCertificateProvider;\n//# sourceMappingURL=certificate-provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jZXJ0aWZpY2F0ZS1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNDQUFzQztBQUN0QyxXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixnQkFBZ0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNuQyxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QyxlQUFlLG1CQUFPLENBQUMsa0JBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2VydGlmaWNhdGUtcHJvdmlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjQgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmlsZVdhdGNoZXJDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gdm9pZCAwO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdjZXJ0aWZpY2F0ZV9wcm92aWRlcic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbmNvbnN0IHJlYWRGaWxlUHJvbWlzZSA9ICgwLCB1dGlsXzEucHJvbWlzaWZ5KShmcy5yZWFkRmlsZSk7XG5jbGFzcyBGaWxlV2F0Y2hlckNlcnRpZmljYXRlUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5yZWZyZXNoVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGVSZXN1bHRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jYUxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pZGVudGl0eUxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlVGltZSA9IG51bGw7XG4gICAgICAgIGlmICgoY29uZmlnLmNlcnRpZmljYXRlRmlsZSA9PT0gdW5kZWZpbmVkKSAhPT0gKGNvbmZpZy5wcml2YXRlS2V5RmlsZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjZXJ0aWZpY2F0ZUZpbGUgYW5kIHByaXZhdGVLZXlGaWxlIG11c3QgYmUgc2V0IG9yIHVuc2V0IHRvZ2V0aGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5jZXJ0aWZpY2F0ZUZpbGUgPT09IHVuZGVmaW5lZCAmJiBjb25maWcuY2FDZXJ0aWZpY2F0ZUZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdCBsZWFzdCBvbmUgb2YgY2VydGlmaWNhdGVGaWxlIGFuZCBjYUNlcnRpZmljYXRlRmlsZSBtdXN0IGJlIHNldCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlKCdGaWxlIHdhdGNoZXIgY29uc3RydWN0ZWQgd2l0aCBjb25maWcgJyArIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpO1xuICAgIH1cbiAgICB1cGRhdGVDZXJ0aWZpY2F0ZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbGVSZXN1bHRQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWxlUmVzdWx0UHJvbWlzZSA9IFByb21pc2UuYWxsU2V0dGxlZChbXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5jZXJ0aWZpY2F0ZUZpbGUgPyByZWFkRmlsZVByb21pc2UodGhpcy5jb25maWcuY2VydGlmaWNhdGVGaWxlKSA6IFByb21pc2UucmVqZWN0KCksXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5wcml2YXRlS2V5RmlsZSA/IHJlYWRGaWxlUHJvbWlzZSh0aGlzLmNvbmZpZy5wcml2YXRlS2V5RmlsZSkgOiBQcm9taXNlLnJlamVjdCgpLFxuICAgICAgICAgICAgdGhpcy5jb25maWcuY2FDZXJ0aWZpY2F0ZUZpbGUgPyByZWFkRmlsZVByb21pc2UodGhpcy5jb25maWcuY2FDZXJ0aWZpY2F0ZUZpbGUpIDogUHJvbWlzZS5yZWplY3QoKVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5maWxlUmVzdWx0UHJvbWlzZS50aGVuKChbY2VydGlmaWNhdGVSZXN1bHQsIHByaXZhdGVLZXlSZXN1bHQsIGNhQ2VydGlmaWNhdGVSZXN1bHRdKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVmcmVzaFRpbWVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2UoJ0ZpbGUgd2F0Y2hlciByZWFkIGNlcnRpZmljYXRlcyBjZXJ0aWZpY2F0ZSAnICsgY2VydGlmaWNhdGVSZXN1bHQuc3RhdHVzICsgJywgcHJpdmF0ZUtleSAnICsgcHJpdmF0ZUtleVJlc3VsdC5zdGF0dXMgKyAnLCBDQSBjZXJ0aWZpY2F0ZSAnICsgY2FDZXJ0aWZpY2F0ZVJlc3VsdC5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5sYXN0VXBkYXRlVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmZpbGVSZXN1bHRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChjZXJ0aWZpY2F0ZVJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIHByaXZhdGVLZXlSZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNlcnRpZmljYXRlOiBjZXJ0aWZpY2F0ZVJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZUtleTogcHJpdmF0ZUtleVJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYUNlcnRpZmljYXRlUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENhVXBkYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBjYUNlcnRpZmljYXRlOiBjYUNlcnRpZmljYXRlUmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmlkZW50aXR5TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuY2FMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcih0aGlzLmxhdGVzdENhVXBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNlKCdGaWxlIHdhdGNoZXIgaW5pdGlhdGVkIGNlcnRpZmljYXRlIHVwZGF0ZScpO1xuICAgIH1cbiAgICBtYXliZVN0YXJ0V2F0Y2hpbmdGaWxlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgLyogUGVyZm9ybSB0aGUgZmlyc3QgcmVhZCBpbW1lZGlhdGVseSwgYnV0IG9ubHkgaWYgdGhlcmUgd2FzIG5vdCBhbHJlYWR5XG4gICAgICAgICAgICAgKiBhIHJlY2VudCByZWFkLCB0byBhdm9pZCByZWFkaW5nIGZyb20gdGhlIGZpbGVzeXN0ZW0gc2lnbmlmaWNhbnRseSBtb3JlXG4gICAgICAgICAgICAgKiBmcmVxdWVudGx5IHRoYW4gY29uZmlndXJlZCBpZiB0aGUgcHJvdmlkZXIgcXVpY2tseSBzd2l0Y2hlcyBiZXR3ZWVuXG4gICAgICAgICAgICAgKiB1c2VkIGFuZCB1bnVzZWQuICovXG4gICAgICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0VXBkYXRlID0gdGhpcy5sYXN0VXBkYXRlVGltZSA/IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RVcGRhdGVUaW1lLmdldFRpbWUoKSA6IEluZmluaXR5O1xuICAgICAgICAgICAgaWYgKHRpbWVTaW5jZUxhc3RVcGRhdGUgPiB0aGlzLmNvbmZpZy5yZWZyZXNoSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2VydGlmaWNhdGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdFVwZGF0ZSA+IHRoaXMuY29uZmlnLnJlZnJlc2hJbnRlcnZhbE1zICogMikge1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIG91dCBvbGQgdXBkYXRlcyBpZiB0aGV5IGFyZSBkZWZpbml0ZWx5IHN0YWxlXG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnVwZGF0ZUNlcnRpZmljYXRlcygpLCB0aGlzLmNvbmZpZy5yZWZyZXNoSW50ZXJ2YWxNcyk7XG4gICAgICAgICAgICB0cmFjZSgnRmlsZSB3YXRjaGVyIHN0YXJ0ZWQgd2F0Y2hpbmcnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXliZVN0b3BXYXRjaGluZ0ZpbGVzKCkge1xuICAgICAgICBpZiAodGhpcy5jYUxpc3RlbmVycy5zaXplID09PSAwICYmIHRoaXMuaWRlbnRpdHlMaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWxlUmVzdWx0UHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWZyZXNoVGltZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVmcmVzaFRpbWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hUaW1lciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuY2FMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5tYXliZVN0YXJ0V2F0Y2hpbmdGaWxlcygpO1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RDYVVwZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGxpc3RlbmVyLCB0aGlzLmxhdGVzdENhVXBkYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYUNlcnRpZmljYXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5jYUxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLm1heWJlU3RvcFdhdGNoaW5nRmlsZXMoKTtcbiAgICB9XG4gICAgYWRkSWRlbnRpdHlDZXJ0aWZpY2F0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5tYXliZVN0YXJ0V2F0Y2hpbmdGaWxlcygpO1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGxpc3RlbmVyLCB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVJZGVudGl0eUNlcnRpZmljYXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5pZGVudGl0eUxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLm1heWJlU3RvcFdhdGNoaW5nRmlsZXMoKTtcbiAgICB9XG59XG5leHBvcnRzLkZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlciA9IEZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNlcnRpZmljYXRlLXByb3ZpZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChannelCredentials = void 0;\nexports.createCertificateProviderChannelCredentials = createCertificateProviderChannelCredentials;\nconst tls_1 = __webpack_require__(/*! tls */ \"tls\");\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nconst tls_helpers_1 = __webpack_require__(/*! ./tls-helpers */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction verifyIsBufferOrNull(obj, friendlyName) {\n    if (obj && !(obj instanceof Buffer)) {\n        throw new TypeError(`${friendlyName}, if provided, must be a Buffer.`);\n    }\n}\n/**\n * A class that contains credentials for communicating over a channel, as well\n * as a set of per-call credentials, which are applied to every method call made\n * over a channel initialized with an instance of this class.\n */\nclass ChannelCredentials {\n    /**\n     * Returns a copy of this object with the included set of per-call credentials\n     * expanded to include callCredentials.\n     * @param callCredentials A CallCredentials object to associate with this\n     * instance.\n     */\n    compose(callCredentials) {\n        return new ComposedChannelCredentialsImpl(this, callCredentials);\n    }\n    /**\n     * Return a new ChannelCredentials instance with a given set of credentials.\n     * The resulting instance can be used to construct a Channel that communicates\n     * over TLS.\n     * @param rootCerts The root certificate data.\n     * @param privateKey The client certificate private key, if available.\n     * @param certChain The client certificate key chain, if available.\n     * @param verifyOptions Additional options to modify certificate verification\n     */\n    static createSsl(rootCerts, privateKey, certChain, verifyOptions) {\n        var _a;\n        verifyIsBufferOrNull(rootCerts, 'Root certificate');\n        verifyIsBufferOrNull(privateKey, 'Private key');\n        verifyIsBufferOrNull(certChain, 'Certificate chain');\n        if (privateKey && !certChain) {\n            throw new Error('Private key must be given with accompanying certificate chain');\n        }\n        if (!privateKey && certChain) {\n            throw new Error('Certificate chain must be given with accompanying private key');\n        }\n        const secureContext = (0, tls_1.createSecureContext)({\n            ca: (_a = rootCerts !== null && rootCerts !== void 0 ? rootCerts : (0, tls_helpers_1.getDefaultRootsData)()) !== null && _a !== void 0 ? _a : undefined,\n            key: privateKey !== null && privateKey !== void 0 ? privateKey : undefined,\n            cert: certChain !== null && certChain !== void 0 ? certChain : undefined,\n            ciphers: tls_helpers_1.CIPHER_SUITES,\n        });\n        return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n    }\n    /**\n     * Return a new ChannelCredentials instance with credentials created using\n     * the provided secureContext. The resulting instances can be used to\n     * construct a Channel that communicates over TLS. gRPC will not override\n     * anything in the provided secureContext, so the environment variables\n     * GRPC_SSL_CIPHER_SUITES and GRPC_DEFAULT_SSL_ROOTS_FILE_PATH will\n     * not be applied.\n     * @param secureContext The return value of tls.createSecureContext()\n     * @param verifyOptions Additional options to modify certificate verification\n     */\n    static createFromSecureContext(secureContext, verifyOptions) {\n        return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n    }\n    /**\n     * Return a new ChannelCredentials instance with no credentials.\n     */\n    static createInsecure() {\n        return new InsecureChannelCredentialsImpl();\n    }\n}\nexports.ChannelCredentials = ChannelCredentials;\nclass InsecureChannelCredentialsImpl extends ChannelCredentials {\n    constructor() {\n        super();\n    }\n    compose(callCredentials) {\n        throw new Error('Cannot compose insecure credentials');\n    }\n    _isSecure() {\n        return false;\n    }\n    _equals(other) {\n        return other instanceof InsecureChannelCredentialsImpl;\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        return {\n            connect(socket) {\n                return Promise.resolve({\n                    socket,\n                    secure: false\n                });\n            },\n            waitForReady: () => {\n                return Promise.resolve();\n            },\n            getCallCredentials: () => {\n                return callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty();\n            },\n            destroy() { }\n        };\n    }\n}\nfunction getConnectionOptions(secureContext, verifyOptions, channelTarget, options) {\n    var _a, _b;\n    const connectionOptions = {\n        secureContext: secureContext\n    };\n    let realTarget = channelTarget;\n    if ('grpc.http_connect_target' in options) {\n        const parsedTarget = (0, uri_parser_1.parseUri)(options['grpc.http_connect_target']);\n        if (parsedTarget) {\n            realTarget = parsedTarget;\n        }\n    }\n    const targetPath = (0, resolver_1.getDefaultAuthority)(realTarget);\n    const hostPort = (0, uri_parser_1.splitHostPort)(targetPath);\n    const remoteHost = (_a = hostPort === null || hostPort === void 0 ? void 0 : hostPort.host) !== null && _a !== void 0 ? _a : targetPath;\n    connectionOptions.host = remoteHost;\n    if (verifyOptions.checkServerIdentity) {\n        connectionOptions.checkServerIdentity = verifyOptions.checkServerIdentity;\n    }\n    if (verifyOptions.rejectUnauthorized !== undefined) {\n        connectionOptions.rejectUnauthorized = verifyOptions.rejectUnauthorized;\n    }\n    connectionOptions.ALPNProtocols = ['h2'];\n    if (options['grpc.ssl_target_name_override']) {\n        const sslTargetNameOverride = options['grpc.ssl_target_name_override'];\n        const originalCheckServerIdentity = (_b = connectionOptions.checkServerIdentity) !== null && _b !== void 0 ? _b : tls_1.checkServerIdentity;\n        connectionOptions.checkServerIdentity = (host, cert) => {\n            return originalCheckServerIdentity(sslTargetNameOverride, cert);\n        };\n        connectionOptions.servername = sslTargetNameOverride;\n    }\n    else {\n        connectionOptions.servername = remoteHost;\n    }\n    if (options['grpc-node.tls_enable_trace']) {\n        connectionOptions.enableTrace = true;\n    }\n    return connectionOptions;\n}\nclass SecureConnectorImpl {\n    constructor(connectionOptions, callCredentials) {\n        this.connectionOptions = connectionOptions;\n        this.callCredentials = callCredentials;\n    }\n    connect(socket) {\n        const tlsConnectOptions = Object.assign({ socket: socket }, this.connectionOptions);\n        return new Promise((resolve, reject) => {\n            const tlsSocket = (0, tls_1.connect)(tlsConnectOptions, () => {\n                var _a;\n                if (((_a = this.connectionOptions.rejectUnauthorized) !== null && _a !== void 0 ? _a : true) && !tlsSocket.authorized) {\n                    reject(tlsSocket.authorizationError);\n                    return;\n                }\n                resolve({\n                    socket: tlsSocket,\n                    secure: true\n                });\n            });\n            tlsSocket.on('error', (error) => {\n                reject(error);\n            });\n        });\n    }\n    waitForReady() {\n        return Promise.resolve();\n    }\n    getCallCredentials() {\n        return this.callCredentials;\n    }\n    destroy() { }\n}\nclass SecureChannelCredentialsImpl extends ChannelCredentials {\n    constructor(secureContext, verifyOptions) {\n        super();\n        this.secureContext = secureContext;\n        this.verifyOptions = verifyOptions;\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof SecureChannelCredentialsImpl) {\n            return (this.secureContext === other.secureContext &&\n                this.verifyOptions.checkServerIdentity ===\n                    other.verifyOptions.checkServerIdentity);\n        }\n        else {\n            return false;\n        }\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        const connectionOptions = getConnectionOptions(this.secureContext, this.verifyOptions, channelTarget, options);\n        return new SecureConnectorImpl(connectionOptions, callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty());\n    }\n}\nclass CertificateProviderChannelCredentialsImpl extends ChannelCredentials {\n    constructor(caCertificateProvider, identityCertificateProvider, verifyOptions) {\n        super();\n        this.caCertificateProvider = caCertificateProvider;\n        this.identityCertificateProvider = identityCertificateProvider;\n        this.verifyOptions = verifyOptions;\n        this.refcount = 0;\n        /**\n         * `undefined` means that the certificates have not yet been loaded. `null`\n         * means that an attempt to load them has completed, and has failed.\n         */\n        this.latestCaUpdate = undefined;\n        /**\n         * `undefined` means that the certificates have not yet been loaded. `null`\n         * means that an attempt to load them has completed, and has failed.\n         */\n        this.latestIdentityUpdate = undefined;\n        this.caCertificateUpdateListener = this.handleCaCertificateUpdate.bind(this);\n        this.identityCertificateUpdateListener = this.handleIdentityCertitificateUpdate.bind(this);\n        this.secureContextWatchers = [];\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        var _a, _b;\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof CertificateProviderChannelCredentialsImpl) {\n            return this.caCertificateProvider === other.caCertificateProvider &&\n                this.identityCertificateProvider === other.identityCertificateProvider &&\n                ((_a = this.verifyOptions) === null || _a === void 0 ? void 0 : _a.checkServerIdentity) === ((_b = other.verifyOptions) === null || _b === void 0 ? void 0 : _b.checkServerIdentity);\n        }\n        else {\n            return false;\n        }\n    }\n    ref() {\n        var _a;\n        if (this.refcount === 0) {\n            this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener);\n            (_a = this.identityCertificateProvider) === null || _a === void 0 ? void 0 : _a.addIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n        this.refcount += 1;\n    }\n    unref() {\n        var _a;\n        this.refcount -= 1;\n        if (this.refcount === 0) {\n            this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener);\n            (_a = this.identityCertificateProvider) === null || _a === void 0 ? void 0 : _a.removeIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        this.ref();\n        return new CertificateProviderChannelCredentialsImpl.SecureConnectorImpl(this, channelTarget, options, callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty());\n    }\n    maybeUpdateWatchers() {\n        if (this.hasReceivedUpdates()) {\n            for (const watcher of this.secureContextWatchers) {\n                watcher(this.getLatestSecureContext());\n            }\n            this.secureContextWatchers = [];\n        }\n    }\n    handleCaCertificateUpdate(update) {\n        this.latestCaUpdate = update;\n        this.maybeUpdateWatchers();\n    }\n    handleIdentityCertitificateUpdate(update) {\n        this.latestIdentityUpdate = update;\n        this.maybeUpdateWatchers();\n    }\n    hasReceivedUpdates() {\n        if (this.latestCaUpdate === undefined) {\n            return false;\n        }\n        if (this.identityCertificateProvider && this.latestIdentityUpdate === undefined) {\n            return false;\n        }\n        return true;\n    }\n    getSecureContext() {\n        if (this.hasReceivedUpdates()) {\n            return Promise.resolve(this.getLatestSecureContext());\n        }\n        else {\n            return new Promise(resolve => {\n                this.secureContextWatchers.push(resolve);\n            });\n        }\n    }\n    getLatestSecureContext() {\n        var _a, _b;\n        if (!this.latestCaUpdate) {\n            return null;\n        }\n        if (this.identityCertificateProvider !== null && !this.latestIdentityUpdate) {\n            return null;\n        }\n        try {\n            return (0, tls_1.createSecureContext)({\n                ca: this.latestCaUpdate.caCertificate,\n                key: (_a = this.latestIdentityUpdate) === null || _a === void 0 ? void 0 : _a.privateKey,\n                cert: (_b = this.latestIdentityUpdate) === null || _b === void 0 ? void 0 : _b.certificate,\n                ciphers: tls_helpers_1.CIPHER_SUITES\n            });\n        }\n        catch (e) {\n            (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to createSecureContext with error ' + e.message);\n            return null;\n        }\n    }\n}\nCertificateProviderChannelCredentialsImpl.SecureConnectorImpl = class {\n    constructor(parent, channelTarget, options, callCredentials) {\n        this.parent = parent;\n        this.channelTarget = channelTarget;\n        this.options = options;\n        this.callCredentials = callCredentials;\n    }\n    connect(socket) {\n        return new Promise((resolve, reject) => {\n            const secureContext = this.parent.getLatestSecureContext();\n            if (!secureContext) {\n                reject(new Error('Failed to load credentials'));\n                return;\n            }\n            if (socket.closed) {\n                reject(new Error('Socket closed while loading credentials'));\n            }\n            const connnectionOptions = getConnectionOptions(secureContext, this.parent.verifyOptions, this.channelTarget, this.options);\n            const tlsConnectOptions = Object.assign({ socket: socket }, connnectionOptions);\n            const closeCallback = () => {\n                reject(new Error('Socket closed'));\n            };\n            const errorCallback = (error) => {\n                reject(error);\n            };\n            const tlsSocket = (0, tls_1.connect)(tlsConnectOptions, () => {\n                var _a;\n                tlsSocket.removeListener('close', closeCallback);\n                tlsSocket.removeListener('error', errorCallback);\n                if (((_a = this.parent.verifyOptions.rejectUnauthorized) !== null && _a !== void 0 ? _a : true) && !tlsSocket.authorized) {\n                    reject(tlsSocket.authorizationError);\n                    return;\n                }\n                resolve({\n                    socket: tlsSocket,\n                    secure: true\n                });\n            });\n            tlsSocket.once('close', closeCallback);\n            tlsSocket.once('error', errorCallback);\n        });\n    }\n    async waitForReady() {\n        await this.parent.getSecureContext();\n    }\n    getCallCredentials() {\n        return this.callCredentials;\n    }\n    destroy() {\n        this.parent.unref();\n    }\n};\nfunction createCertificateProviderChannelCredentials(caCertificateProvider, identityCertificateProvider, verifyOptions) {\n    return new CertificateProviderChannelCredentialsImpl(caCertificateProvider, identityCertificateProvider, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n}\nclass ComposedChannelCredentialsImpl extends ChannelCredentials {\n    constructor(channelCredentials, callCredentials) {\n        super();\n        this.channelCredentials = channelCredentials;\n        this.callCredentials = callCredentials;\n        if (!channelCredentials._isSecure()) {\n            throw new Error('Cannot compose insecure credentials');\n        }\n    }\n    compose(callCredentials) {\n        const combinedCallCredentials = this.callCredentials.compose(callCredentials);\n        return new ComposedChannelCredentialsImpl(this.channelCredentials, combinedCallCredentials);\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof ComposedChannelCredentialsImpl) {\n            return (this.channelCredentials._equals(other.channelCredentials) &&\n                this.callCredentials._equals(other.callCredentials));\n        }\n        else {\n            return false;\n        }\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        const combinedCallCredentials = this.callCredentials.compose(callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty());\n        return this.channelCredentials._createSecureConnector(channelTarget, options, combinedCallCredentials);\n    }\n}\n//# sourceMappingURL=channel-credentials.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLWNyZWRlbnRpYWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCO0FBQzFCLG1EQUFtRDtBQUNuRCxjQUFjLG1CQUFPLENBQUMsZ0JBQUs7QUFDM0IsMkJBQTJCLG1CQUFPLENBQUMsK0hBQW9CO0FBQ3ZELHNCQUFzQixtQkFBTyxDQUFDLHFIQUFlO0FBQzdDLHFCQUFxQixtQkFBTyxDQUFDLG1IQUFjO0FBQzNDLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLGtCQUFrQixtQkFBTyxDQUFDLDZHQUFXO0FBQ3JDLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixhQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxzSUFBc0k7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0lBQXNJO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxnQkFBZ0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvTEFBb0w7QUFDcEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NoYW5uZWwtY3JlZGVudGlhbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2hhbm5lbENyZWRlbnRpYWxzID0gdm9pZCAwO1xuZXhwb3J0cy5jcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzID0gY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFscztcbmNvbnN0IHRsc18xID0gcmVxdWlyZShcInRsc1wiKTtcbmNvbnN0IGNhbGxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NhbGwtY3JlZGVudGlhbHNcIik7XG5jb25zdCB0bHNfaGVscGVyc18xID0gcmVxdWlyZShcIi4vdGxzLWhlbHBlcnNcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIHZlcmlmeUlzQnVmZmVyT3JOdWxsKG9iaiwgZnJpZW5kbHlOYW1lKSB7XG4gICAgaWYgKG9iaiAmJiAhKG9iaiBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtmcmllbmRseU5hbWV9LCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIEJ1ZmZlci5gKTtcbiAgICB9XG59XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjb250YWlucyBjcmVkZW50aWFscyBmb3IgY29tbXVuaWNhdGluZyBvdmVyIGEgY2hhbm5lbCwgYXMgd2VsbFxuICogYXMgYSBzZXQgb2YgcGVyLWNhbGwgY3JlZGVudGlhbHMsIHdoaWNoIGFyZSBhcHBsaWVkIHRvIGV2ZXJ5IG1ldGhvZCBjYWxsIG1hZGVcbiAqIG92ZXIgYSBjaGFubmVsIGluaXRpYWxpemVkIHdpdGggYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAqL1xuY2xhc3MgQ2hhbm5lbENyZWRlbnRpYWxzIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIG9iamVjdCB3aXRoIHRoZSBpbmNsdWRlZCBzZXQgb2YgcGVyLWNhbGwgY3JlZGVudGlhbHNcbiAgICAgKiBleHBhbmRlZCB0byBpbmNsdWRlIGNhbGxDcmVkZW50aWFscy5cbiAgICAgKiBAcGFyYW0gY2FsbENyZWRlbnRpYWxzIEEgQ2FsbENyZWRlbnRpYWxzIG9iamVjdCB0byBhc3NvY2lhdGUgd2l0aCB0aGlzXG4gICAgICogaW5zdGFuY2UuXG4gICAgICovXG4gICAgY29tcG9zZShjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NlZENoYW5uZWxDcmVkZW50aWFsc0ltcGwodGhpcywgY2FsbENyZWRlbnRpYWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgbmV3IENoYW5uZWxDcmVkZW50aWFscyBpbnN0YW5jZSB3aXRoIGEgZ2l2ZW4gc2V0IG9mIGNyZWRlbnRpYWxzLlxuICAgICAqIFRoZSByZXN1bHRpbmcgaW5zdGFuY2UgY2FuIGJlIHVzZWQgdG8gY29uc3RydWN0IGEgQ2hhbm5lbCB0aGF0IGNvbW11bmljYXRlc1xuICAgICAqIG92ZXIgVExTLlxuICAgICAqIEBwYXJhbSByb290Q2VydHMgVGhlIHJvb3QgY2VydGlmaWNhdGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleSBUaGUgY2xpZW50IGNlcnRpZmljYXRlIHByaXZhdGUga2V5LCBpZiBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIGNlcnRDaGFpbiBUaGUgY2xpZW50IGNlcnRpZmljYXRlIGtleSBjaGFpbiwgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB2ZXJpZnlPcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucyB0byBtb2RpZnkgY2VydGlmaWNhdGUgdmVyaWZpY2F0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVNzbChyb290Q2VydHMsIHByaXZhdGVLZXksIGNlcnRDaGFpbiwgdmVyaWZ5T3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZlcmlmeUlzQnVmZmVyT3JOdWxsKHJvb3RDZXJ0cywgJ1Jvb3QgY2VydGlmaWNhdGUnKTtcbiAgICAgICAgdmVyaWZ5SXNCdWZmZXJPck51bGwocHJpdmF0ZUtleSwgJ1ByaXZhdGUga2V5Jyk7XG4gICAgICAgIHZlcmlmeUlzQnVmZmVyT3JOdWxsKGNlcnRDaGFpbiwgJ0NlcnRpZmljYXRlIGNoYWluJyk7XG4gICAgICAgIGlmIChwcml2YXRlS2V5ICYmICFjZXJ0Q2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJpdmF0ZSBrZXkgbXVzdCBiZSBnaXZlbiB3aXRoIGFjY29tcGFueWluZyBjZXJ0aWZpY2F0ZSBjaGFpbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJpdmF0ZUtleSAmJiBjZXJ0Q2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2VydGlmaWNhdGUgY2hhaW4gbXVzdCBiZSBnaXZlbiB3aXRoIGFjY29tcGFueWluZyBwcml2YXRlIGtleScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlY3VyZUNvbnRleHQgPSAoMCwgdGxzXzEuY3JlYXRlU2VjdXJlQ29udGV4dCkoe1xuICAgICAgICAgICAgY2E6IChfYSA9IHJvb3RDZXJ0cyAhPT0gbnVsbCAmJiByb290Q2VydHMgIT09IHZvaWQgMCA/IHJvb3RDZXJ0cyA6ICgwLCB0bHNfaGVscGVyc18xLmdldERlZmF1bHRSb290c0RhdGEpKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGtleTogcHJpdmF0ZUtleSAhPT0gbnVsbCAmJiBwcml2YXRlS2V5ICE9PSB2b2lkIDAgPyBwcml2YXRlS2V5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2VydDogY2VydENoYWluICE9PSBudWxsICYmIGNlcnRDaGFpbiAhPT0gdm9pZCAwID8gY2VydENoYWluIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2lwaGVyczogdGxzX2hlbHBlcnNfMS5DSVBIRVJfU1VJVEVTLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsKHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMgIT09IG51bGwgJiYgdmVyaWZ5T3B0aW9ucyAhPT0gdm9pZCAwID8gdmVyaWZ5T3B0aW9ucyA6IHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgbmV3IENoYW5uZWxDcmVkZW50aWFscyBpbnN0YW5jZSB3aXRoIGNyZWRlbnRpYWxzIGNyZWF0ZWQgdXNpbmdcbiAgICAgKiB0aGUgcHJvdmlkZWQgc2VjdXJlQ29udGV4dC4gVGhlIHJlc3VsdGluZyBpbnN0YW5jZXMgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiBjb25zdHJ1Y3QgYSBDaGFubmVsIHRoYXQgY29tbXVuaWNhdGVzIG92ZXIgVExTLiBnUlBDIHdpbGwgbm90IG92ZXJyaWRlXG4gICAgICogYW55dGhpbmcgaW4gdGhlIHByb3ZpZGVkIHNlY3VyZUNvbnRleHQsIHNvIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICAgKiBHUlBDX1NTTF9DSVBIRVJfU1VJVEVTIGFuZCBHUlBDX0RFRkFVTFRfU1NMX1JPT1RTX0ZJTEVfUEFUSCB3aWxsXG4gICAgICogbm90IGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHNlY3VyZUNvbnRleHQgVGhlIHJldHVybiB2YWx1ZSBvZiB0bHMuY3JlYXRlU2VjdXJlQ29udGV4dCgpXG4gICAgICogQHBhcmFtIHZlcmlmeU9wdGlvbnMgQWRkaXRpb25hbCBvcHRpb25zIHRvIG1vZGlmeSBjZXJ0aWZpY2F0ZSB2ZXJpZmljYXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlRnJvbVNlY3VyZUNvbnRleHQoc2VjdXJlQ29udGV4dCwgdmVyaWZ5T3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwoc2VjdXJlQ29udGV4dCwgdmVyaWZ5T3B0aW9ucyAhPT0gbnVsbCAmJiB2ZXJpZnlPcHRpb25zICE9PSB2b2lkIDAgPyB2ZXJpZnlPcHRpb25zIDoge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBuZXcgQ2hhbm5lbENyZWRlbnRpYWxzIGluc3RhbmNlIHdpdGggbm8gY3JlZGVudGlhbHMuXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUluc2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gbmV3IEluc2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbENyZWRlbnRpYWxzID0gQ2hhbm5lbENyZWRlbnRpYWxzO1xuY2xhc3MgSW5zZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsIGV4dGVuZHMgQ2hhbm5lbENyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgY29tcG9zZShjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcG9zZSBpbnNlY3VyZSBjcmVkZW50aWFscycpO1xuICAgIH1cbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBJbnNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGw7XG4gICAgfVxuICAgIF9jcmVhdGVTZWN1cmVDb25uZWN0b3IoY2hhbm5lbFRhcmdldCwgb3B0aW9ucywgY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25uZWN0KHNvY2tldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQsXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3YWl0Rm9yUmVhZHk6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FsbENyZWRlbnRpYWxzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxDcmVkZW50aWFscyAhPT0gbnVsbCAmJiBjYWxsQ3JlZGVudGlhbHMgIT09IHZvaWQgMCA/IGNhbGxDcmVkZW50aWFscyA6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXN0cm95KCkgeyB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbk9wdGlvbnMoc2VjdXJlQ29udGV4dCwgdmVyaWZ5T3B0aW9ucywgY2hhbm5lbFRhcmdldCwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgY29ubmVjdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgIHNlY3VyZUNvbnRleHQ6IHNlY3VyZUNvbnRleHRcbiAgICB9O1xuICAgIGxldCByZWFsVGFyZ2V0ID0gY2hhbm5lbFRhcmdldDtcbiAgICBpZiAoJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCcgaW4gb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXJzZWRUYXJnZXQgPSAoMCwgdXJpX3BhcnNlcl8xLnBhcnNlVXJpKShvcHRpb25zWydncnBjLmh0dHBfY29ubmVjdF90YXJnZXQnXSk7XG4gICAgICAgIGlmIChwYXJzZWRUYXJnZXQpIHtcbiAgICAgICAgICAgIHJlYWxUYXJnZXQgPSBwYXJzZWRUYXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0UGF0aCA9ICgwLCByZXNvbHZlcl8xLmdldERlZmF1bHRBdXRob3JpdHkpKHJlYWxUYXJnZXQpO1xuICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0YXJnZXRQYXRoKTtcbiAgICBjb25zdCByZW1vdGVIb3N0ID0gKF9hID0gaG9zdFBvcnQgPT09IG51bGwgfHwgaG9zdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvc3RQb3J0Lmhvc3QpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRhcmdldFBhdGg7XG4gICAgY29ubmVjdGlvbk9wdGlvbnMuaG9zdCA9IHJlbW90ZUhvc3Q7XG4gICAgaWYgKHZlcmlmeU9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSkge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5ID0gdmVyaWZ5T3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAodmVyaWZ5T3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQgPSB2ZXJpZnlPcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgICB9XG4gICAgY29ubmVjdGlvbk9wdGlvbnMuQUxQTlByb3RvY29scyA9IFsnaDInXTtcbiAgICBpZiAob3B0aW9uc1snZ3JwYy5zc2xfdGFyZ2V0X25hbWVfb3ZlcnJpZGUnXSkge1xuICAgICAgICBjb25zdCBzc2xUYXJnZXROYW1lT3ZlcnJpZGUgPSBvcHRpb25zWydncnBjLnNzbF90YXJnZXRfbmFtZV9vdmVycmlkZSddO1xuICAgICAgICBjb25zdCBvcmlnaW5hbENoZWNrU2VydmVySWRlbnRpdHkgPSAoX2IgPSBjb25uZWN0aW9uT3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0bHNfMS5jaGVja1NlcnZlcklkZW50aXR5O1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5ID0gKGhvc3QsIGNlcnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbENoZWNrU2VydmVySWRlbnRpdHkoc3NsVGFyZ2V0TmFtZU92ZXJyaWRlLCBjZXJ0KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuc2VydmVybmFtZSA9IHNzbFRhcmdldE5hbWVPdmVycmlkZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbm5lY3Rpb25PcHRpb25zLnNlcnZlcm5hbWUgPSByZW1vdGVIb3N0O1xuICAgIH1cbiAgICBpZiAob3B0aW9uc1snZ3JwYy1ub2RlLnRsc19lbmFibGVfdHJhY2UnXSkge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5lbmFibGVUcmFjZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBjb25uZWN0aW9uT3B0aW9ucztcbn1cbmNsYXNzIFNlY3VyZUNvbm5lY3RvckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb25PcHRpb25zLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uT3B0aW9ucyA9IGNvbm5lY3Rpb25PcHRpb25zO1xuICAgICAgICB0aGlzLmNhbGxDcmVkZW50aWFscyA9IGNhbGxDcmVkZW50aWFscztcbiAgICB9XG4gICAgY29ubmVjdChzb2NrZXQpIHtcbiAgICAgICAgY29uc3QgdGxzQ29ubmVjdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgc29ja2V0OiBzb2NrZXQgfSwgdGhpcy5jb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSAoMCwgdGxzXzEuY29ubmVjdCkodGxzQ29ubmVjdE9wdGlvbnMsICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLmNvbm5lY3Rpb25PcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZSkgJiYgIXRsc1NvY2tldC5hdXRob3JpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh0bHNTb2NrZXQuYXV0aG9yaXphdGlvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0OiB0bHNTb2NrZXQsXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0bHNTb2NrZXQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FpdEZvclJlYWR5KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldENhbGxDcmVkZW50aWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbENyZWRlbnRpYWxzO1xuICAgIH1cbiAgICBkZXN0cm95KCkgeyB9XG59XG5jbGFzcyBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsIGV4dGVuZHMgQ2hhbm5lbENyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihzZWN1cmVDb250ZXh0LCB2ZXJpZnlPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2VjdXJlQ29udGV4dCA9IHNlY3VyZUNvbnRleHQ7XG4gICAgICAgIHRoaXMudmVyaWZ5T3B0aW9ucyA9IHZlcmlmeU9wdGlvbnM7XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuc2VjdXJlQ29udGV4dCA9PT0gb3RoZXIuc2VjdXJlQ29udGV4dCAmJlxuICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5T3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5ID09PVxuICAgICAgICAgICAgICAgICAgICBvdGhlci52ZXJpZnlPcHRpb25zLmNoZWNrU2VydmVySWRlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jcmVhdGVTZWN1cmVDb25uZWN0b3IoY2hhbm5lbFRhcmdldCwgb3B0aW9ucywgY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zID0gZ2V0Q29ubmVjdGlvbk9wdGlvbnModGhpcy5zZWN1cmVDb250ZXh0LCB0aGlzLnZlcmlmeU9wdGlvbnMsIGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNlY3VyZUNvbm5lY3RvckltcGwoY29ubmVjdGlvbk9wdGlvbnMsIGNhbGxDcmVkZW50aWFscyAhPT0gbnVsbCAmJiBjYWxsQ3JlZGVudGlhbHMgIT09IHZvaWQgMCA/IGNhbGxDcmVkZW50aWFscyA6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHkoKSk7XG4gICAgfVxufVxuY2xhc3MgQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFsc0ltcGwgZXh0ZW5kcyBDaGFubmVsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKGNhQ2VydGlmaWNhdGVQcm92aWRlciwgaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCB2ZXJpZnlPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciA9IGlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlcjtcbiAgICAgICAgdGhpcy52ZXJpZnlPcHRpb25zID0gdmVyaWZ5T3B0aW9ucztcbiAgICAgICAgdGhpcy5yZWZjb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdW5kZWZpbmVkYCBtZWFucyB0aGF0IHRoZSBjZXJ0aWZpY2F0ZXMgaGF2ZSBub3QgeWV0IGJlZW4gbG9hZGVkLiBgbnVsbGBcbiAgICAgICAgICogbWVhbnMgdGhhdCBhbiBhdHRlbXB0IHRvIGxvYWQgdGhlbSBoYXMgY29tcGxldGVkLCBhbmQgaGFzIGZhaWxlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdW5kZWZpbmVkYCBtZWFucyB0aGF0IHRoZSBjZXJ0aWZpY2F0ZXMgaGF2ZSBub3QgeWV0IGJlZW4gbG9hZGVkLiBgbnVsbGBcbiAgICAgICAgICogbWVhbnMgdGhhdCBhbiBhdHRlbXB0IHRvIGxvYWQgdGhlbSBoYXMgY29tcGxldGVkLCBhbmQgaGFzIGZhaWxlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyID0gdGhpcy5oYW5kbGVDYUNlcnRpZmljYXRlVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyID0gdGhpcy5oYW5kbGVJZGVudGl0eUNlcnRpdGlmaWNhdGVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZWN1cmVDb250ZXh0V2F0Y2hlcnMgPSBbXTtcbiAgICB9XG4gICAgX2lzU2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIENlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNJbXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIgPT09IG90aGVyLmNhQ2VydGlmaWNhdGVQcm92aWRlciAmJlxuICAgICAgICAgICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyID09PSBvdGhlci5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIgJiZcbiAgICAgICAgICAgICAgICAoKF9hID0gdGhpcy52ZXJpZnlPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hlY2tTZXJ2ZXJJZGVudGl0eSkgPT09ICgoX2IgPSBvdGhlci52ZXJpZnlPcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hlY2tTZXJ2ZXJJZGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnJlZmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNhQ2VydGlmaWNhdGVQcm92aWRlci5hZGRDYUNlcnRpZmljYXRlTGlzdGVuZXIodGhpcy5jYUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRJZGVudGl0eUNlcnRpZmljYXRlTGlzdGVuZXIodGhpcy5pZGVudGl0eUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmY291bnQgKz0gMTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5yZWZjb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5yZWZjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIucmVtb3ZlQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlSWRlbnRpdHlDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY3JlYXRlU2VjdXJlQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLnJlZigpO1xuICAgICAgICByZXR1cm4gbmV3IENlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNJbXBsLlNlY3VyZUNvbm5lY3RvckltcGwodGhpcywgY2hhbm5lbFRhcmdldCwgb3B0aW9ucywgY2FsbENyZWRlbnRpYWxzICE9PSBudWxsICYmIGNhbGxDcmVkZW50aWFscyAhPT0gdm9pZCAwID8gY2FsbENyZWRlbnRpYWxzIDogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVFbXB0eSgpKTtcbiAgICB9XG4gICAgbWF5YmVVcGRhdGVXYXRjaGVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVjZWl2ZWRVcGRhdGVzKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgd2F0Y2hlciBvZiB0aGlzLnNlY3VyZUNvbnRleHRXYXRjaGVycykge1xuICAgICAgICAgICAgICAgIHdhdGNoZXIodGhpcy5nZXRMYXRlc3RTZWN1cmVDb250ZXh0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWN1cmVDb250ZXh0V2F0Y2hlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDYUNlcnRpZmljYXRlVXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLmxhdGVzdENhVXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB0aGlzLm1heWJlVXBkYXRlV2F0Y2hlcnMoKTtcbiAgICB9XG4gICAgaGFuZGxlSWRlbnRpdHlDZXJ0aXRpZmljYXRlVXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB0aGlzLm1heWJlVXBkYXRlV2F0Y2hlcnMoKTtcbiAgICB9XG4gICAgaGFzUmVjZWl2ZWRVcGRhdGVzKCkge1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RDYVVwZGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyICYmIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRTZWN1cmVDb250ZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5oYXNSZWNlaXZlZFVwZGF0ZXMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmdldExhdGVzdFNlY3VyZUNvbnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN1cmVDb250ZXh0V2F0Y2hlcnMucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldExhdGVzdFNlY3VyZUNvbnRleHQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5sYXRlc3RDYVVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyICE9PSBudWxsICYmICF0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB0bHNfMS5jcmVhdGVTZWN1cmVDb250ZXh0KSh7XG4gICAgICAgICAgICAgICAgY2E6IHRoaXMubGF0ZXN0Q2FVcGRhdGUuY2FDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgICAgICBrZXk6IChfYSA9IHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcml2YXRlS2V5LFxuICAgICAgICAgICAgICAgIGNlcnQ6IChfYiA9IHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgICAgICBjaXBoZXJzOiB0bHNfaGVscGVyc18xLkNJUEhFUl9TVUlURVNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCAnRmFpbGVkIHRvIGNyZWF0ZVNlY3VyZUNvbnRleHQgd2l0aCBlcnJvciAnICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFsc0ltcGwuU2VjdXJlQ29ubmVjdG9ySW1wbCA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5jaGFubmVsVGFyZ2V0ID0gY2hhbm5lbFRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jYWxsQ3JlZGVudGlhbHMgPSBjYWxsQ3JlZGVudGlhbHM7XG4gICAgfVxuICAgIGNvbm5lY3Qoc29ja2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWN1cmVDb250ZXh0ID0gdGhpcy5wYXJlbnQuZ2V0TGF0ZXN0U2VjdXJlQ29udGV4dCgpO1xuICAgICAgICAgICAgaWYgKCFzZWN1cmVDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgY3JlZGVudGlhbHMnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvY2tldC5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdTb2NrZXQgY2xvc2VkIHdoaWxlIGxvYWRpbmcgY3JlZGVudGlhbHMnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb25ubmVjdGlvbk9wdGlvbnMgPSBnZXRDb25uZWN0aW9uT3B0aW9ucyhzZWN1cmVDb250ZXh0LCB0aGlzLnBhcmVudC52ZXJpZnlPcHRpb25zLCB0aGlzLmNoYW5uZWxUYXJnZXQsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCB0bHNDb25uZWN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBzb2NrZXQ6IHNvY2tldCB9LCBjb25ubmVjdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgY2xvc2VDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdTb2NrZXQgY2xvc2VkJykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ2FsbGJhY2sgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRsc1NvY2tldCA9ICgwLCB0bHNfMS5jb25uZWN0KSh0bHNDb25uZWN0T3B0aW9ucywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0bHNTb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGxzU29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5wYXJlbnQudmVyaWZ5T3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWUpICYmICF0bHNTb2NrZXQuYXV0aG9yaXplZCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QodGxzU29ja2V0LmF1dGhvcml6YXRpb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldDogdGxzU29ja2V0LFxuICAgICAgICAgICAgICAgICAgICBzZWN1cmU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGxzU29ja2V0Lm9uY2UoJ2Nsb3NlJywgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICB0bHNTb2NrZXQub25jZSgnZXJyb3InLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHdhaXRGb3JSZWFkeSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXJlbnQuZ2V0U2VjdXJlQ29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRDYWxsQ3JlZGVudGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxDcmVkZW50aWFscztcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudW5yZWYoKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFscyhjYUNlcnRpZmljYXRlUHJvdmlkZXIsIGlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciwgdmVyaWZ5T3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFsc0ltcGwoY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyLCBpZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIsIHZlcmlmeU9wdGlvbnMgIT09IG51bGwgJiYgdmVyaWZ5T3B0aW9ucyAhPT0gdm9pZCAwID8gdmVyaWZ5T3B0aW9ucyA6IHt9KTtcbn1cbmNsYXNzIENvbXBvc2VkQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCBleHRlbmRzIENoYW5uZWxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbENyZWRlbnRpYWxzLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ3JlZGVudGlhbHMgPSBjaGFubmVsQ3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuY2FsbENyZWRlbnRpYWxzID0gY2FsbENyZWRlbnRpYWxzO1xuICAgICAgICBpZiAoIWNoYW5uZWxDcmVkZW50aWFscy5faXNTZWN1cmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcG9zZSBpbnNlY3VyZSBjcmVkZW50aWFscycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzID0gdGhpcy5jYWxsQ3JlZGVudGlhbHMuY29tcG9zZShjYWxsQ3JlZGVudGlhbHMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2VkQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCh0aGlzLmNoYW5uZWxDcmVkZW50aWFscywgY29tYmluZWRDYWxsQ3JlZGVudGlhbHMpO1xuICAgIH1cbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQ29tcG9zZWRDaGFubmVsQ3JlZGVudGlhbHNJbXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuY2hhbm5lbENyZWRlbnRpYWxzLl9lcXVhbHMob3RoZXIuY2hhbm5lbENyZWRlbnRpYWxzKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbENyZWRlbnRpYWxzLl9lcXVhbHMob3RoZXIuY2FsbENyZWRlbnRpYWxzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZVNlY3VyZUNvbm5lY3RvcihjaGFubmVsVGFyZ2V0LCBvcHRpb25zLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgY29uc3QgY29tYmluZWRDYWxsQ3JlZGVudGlhbHMgPSB0aGlzLmNhbGxDcmVkZW50aWFscy5jb21wb3NlKGNhbGxDcmVkZW50aWFscyAhPT0gbnVsbCAmJiBjYWxsQ3JlZGVudGlhbHMgIT09IHZvaWQgMCA/IGNhbGxDcmVkZW50aWFscyA6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHkoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWxDcmVkZW50aWFscy5fY3JlYXRlU2VjdXJlQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsLWNyZWRlbnRpYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.recognizedOptions = void 0;\nexports.channelOptionsEqual = channelOptionsEqual;\n/**\n * This is for checking provided options at runtime. This is an object for\n * easier membership checking.\n */\nexports.recognizedOptions = {\n    'grpc.ssl_target_name_override': true,\n    'grpc.primary_user_agent': true,\n    'grpc.secondary_user_agent': true,\n    'grpc.default_authority': true,\n    'grpc.keepalive_time_ms': true,\n    'grpc.keepalive_timeout_ms': true,\n    'grpc.keepalive_permit_without_calls': true,\n    'grpc.service_config': true,\n    'grpc.max_concurrent_streams': true,\n    'grpc.initial_reconnect_backoff_ms': true,\n    'grpc.max_reconnect_backoff_ms': true,\n    'grpc.use_local_subchannel_pool': true,\n    'grpc.max_send_message_length': true,\n    'grpc.max_receive_message_length': true,\n    'grpc.enable_http_proxy': true,\n    'grpc.enable_channelz': true,\n    'grpc.dns_min_time_between_resolutions_ms': true,\n    'grpc.enable_retries': true,\n    'grpc.per_rpc_retry_buffer_size': true,\n    'grpc.retry_buffer_size': true,\n    'grpc.max_connection_age_ms': true,\n    'grpc.max_connection_age_grace_ms': true,\n    'grpc-node.max_session_memory': true,\n    'grpc.service_config_disable_resolution': true,\n    'grpc.client_idle_timeout_ms': true,\n    'grpc-node.tls_enable_trace': true,\n    'grpc.lb.ring_hash.ring_size_cap': true,\n    'grpc-node.retry_max_attempts_limit': true,\n    'grpc-node.flow_control_window': true,\n};\nfunction channelOptionsEqual(options1, options2) {\n    const keys1 = Object.keys(options1).sort();\n    const keys2 = Object.keys(options2).sort();\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (let i = 0; i < keys1.length; i += 1) {\n        if (keys1[i] !== keys2[i]) {\n            return false;\n        }\n        if (options1[keys1[i]] !== options2[keys2[i]]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=channel-options.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLW9wdGlvbnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekIsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLW9wdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVjb2duaXplZE9wdGlvbnMgPSB2b2lkIDA7XG5leHBvcnRzLmNoYW5uZWxPcHRpb25zRXF1YWwgPSBjaGFubmVsT3B0aW9uc0VxdWFsO1xuLyoqXG4gKiBUaGlzIGlzIGZvciBjaGVja2luZyBwcm92aWRlZCBvcHRpb25zIGF0IHJ1bnRpbWUuIFRoaXMgaXMgYW4gb2JqZWN0IGZvclxuICogZWFzaWVyIG1lbWJlcnNoaXAgY2hlY2tpbmcuXG4gKi9cbmV4cG9ydHMucmVjb2duaXplZE9wdGlvbnMgPSB7XG4gICAgJ2dycGMuc3NsX3RhcmdldF9uYW1lX292ZXJyaWRlJzogdHJ1ZSxcbiAgICAnZ3JwYy5wcmltYXJ5X3VzZXJfYWdlbnQnOiB0cnVlLFxuICAgICdncnBjLnNlY29uZGFyeV91c2VyX2FnZW50JzogdHJ1ZSxcbiAgICAnZ3JwYy5kZWZhdWx0X2F1dGhvcml0eSc6IHRydWUsXG4gICAgJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnOiB0cnVlLFxuICAgICdncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5rZWVwYWxpdmVfcGVybWl0X3dpdGhvdXRfY2FsbHMnOiB0cnVlLFxuICAgICdncnBjLnNlcnZpY2VfY29uZmlnJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfY29uY3VycmVudF9zdHJlYW1zJzogdHJ1ZSxcbiAgICAnZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnOiB0cnVlLFxuICAgICdncnBjLnVzZV9sb2NhbF9zdWJjaGFubmVsX3Bvb2wnOiB0cnVlLFxuICAgICdncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCc6IHRydWUsXG4gICAgJ2dycGMuZW5hYmxlX2h0dHBfcHJveHknOiB0cnVlLFxuICAgICdncnBjLmVuYWJsZV9jaGFubmVseic6IHRydWUsXG4gICAgJ2dycGMuZG5zX21pbl90aW1lX2JldHdlZW5fcmVzb2x1dGlvbnNfbXMnOiB0cnVlLFxuICAgICdncnBjLmVuYWJsZV9yZXRyaWVzJzogdHJ1ZSxcbiAgICAnZ3JwYy5wZXJfcnBjX3JldHJ5X2J1ZmZlcl9zaXplJzogdHJ1ZSxcbiAgICAnZ3JwYy5yZXRyeV9idWZmZXJfc2l6ZSc6IHRydWUsXG4gICAgJ2dycGMubWF4X2Nvbm5lY3Rpb25fYWdlX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfY29ubmVjdGlvbl9hZ2VfZ3JhY2VfbXMnOiB0cnVlLFxuICAgICdncnBjLW5vZGUubWF4X3Nlc3Npb25fbWVtb3J5JzogdHJ1ZSxcbiAgICAnZ3JwYy5zZXJ2aWNlX2NvbmZpZ19kaXNhYmxlX3Jlc29sdXRpb24nOiB0cnVlLFxuICAgICdncnBjLmNsaWVudF9pZGxlX3RpbWVvdXRfbXMnOiB0cnVlLFxuICAgICdncnBjLW5vZGUudGxzX2VuYWJsZV90cmFjZSc6IHRydWUsXG4gICAgJ2dycGMubGIucmluZ19oYXNoLnJpbmdfc2l6ZV9jYXAnOiB0cnVlLFxuICAgICdncnBjLW5vZGUucmV0cnlfbWF4X2F0dGVtcHRzX2xpbWl0JzogdHJ1ZSxcbiAgICAnZ3JwYy1ub2RlLmZsb3dfY29udHJvbF93aW5kb3cnOiB0cnVlLFxufTtcbmZ1bmN0aW9uIGNoYW5uZWxPcHRpb25zRXF1YWwob3B0aW9uczEsIG9wdGlvbnMyKSB7XG4gICAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvcHRpb25zMSkuc29ydCgpO1xuICAgIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob3B0aW9uczIpLnNvcnQoKTtcbiAgICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMxLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChrZXlzMVtpXSAhPT0ga2V5czJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9uczFba2V5czFbaV1dICE9PSBvcHRpb25zMltrZXlzMltpXV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5uZWwtb3B0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChannelImplementation = void 0;\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nconst internal_channel_1 = __webpack_require__(/*! ./internal-channel */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js\");\nclass ChannelImplementation {\n    constructor(target, credentials, options) {\n        if (typeof target !== 'string') {\n            throw new TypeError('Channel target must be a string');\n        }\n        if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n            throw new TypeError('Channel credentials must be a ChannelCredentials object');\n        }\n        if (options) {\n            if (typeof options !== 'object') {\n                throw new TypeError('Channel options must be an object');\n            }\n        }\n        this.internalChannel = new internal_channel_1.InternalChannel(target, credentials, options);\n    }\n    close() {\n        this.internalChannel.close();\n    }\n    getTarget() {\n        return this.internalChannel.getTarget();\n    }\n    getConnectivityState(tryToConnect) {\n        return this.internalChannel.getConnectivityState(tryToConnect);\n    }\n    watchConnectivityState(currentState, deadline, callback) {\n        this.internalChannel.watchConnectivityState(currentState, deadline, callback);\n    }\n    /**\n     * Get the channelz reference object for this channel. The returned value is\n     * garbage if channelz is disabled for this channel.\n     * @returns\n     */\n    getChannelzRef() {\n        return this.internalChannel.getChannelzRef();\n    }\n    createCall(method, deadline, host, parentCall, propagateFlags) {\n        if (typeof method !== 'string') {\n            throw new TypeError('Channel#createCall: method must be a string');\n        }\n        if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n            throw new TypeError('Channel#createCall: deadline must be a number or Date');\n        }\n        return this.internalChannel.createCall(method, deadline, host, parentCall, propagateFlags);\n    }\n}\nexports.ChannelImplementation = ChannelImplementation;\n//# sourceMappingURL=channel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNkJBQTZCO0FBQzdCLDhCQUE4QixtQkFBTyxDQUFDLHFJQUF1QjtBQUM3RCwyQkFBMkIsbUJBQU8sQ0FBQywrSEFBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaGFubmVsSW1wbGVtZW50YXRpb24gPSB2b2lkIDA7XG5jb25zdCBjaGFubmVsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLWNyZWRlbnRpYWxzXCIpO1xuY29uc3QgaW50ZXJuYWxfY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwtY2hhbm5lbFwiKTtcbmNsYXNzIENoYW5uZWxJbXBsZW1lbnRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBjcmVkZW50aWFscywgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgdGFyZ2V0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjcmVkZW50aWFscyBpbnN0YW5jZW9mIGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsIGNyZWRlbnRpYWxzIG11c3QgYmUgYSBDaGFubmVsQ3JlZGVudGlhbHMgb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsIG9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVybmFsQ2hhbm5lbCA9IG5ldyBpbnRlcm5hbF9jaGFubmVsXzEuSW50ZXJuYWxDaGFubmVsKHRhcmdldCwgY3JlZGVudGlhbHMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbENoYW5uZWwuY2xvc2UoKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENoYW5uZWwuZ2V0VGFyZ2V0KCk7XG4gICAgfVxuICAgIGdldENvbm5lY3Rpdml0eVN0YXRlKHRyeVRvQ29ubmVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUodHJ5VG9Db25uZWN0KTtcbiAgICB9XG4gICAgd2F0Y2hDb25uZWN0aXZpdHlTdGF0ZShjdXJyZW50U3RhdGUsIGRlYWRsaW5lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmludGVybmFsQ2hhbm5lbC53YXRjaENvbm5lY3Rpdml0eVN0YXRlKGN1cnJlbnRTdGF0ZSwgZGVhZGxpbmUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjaGFubmVseiByZWZlcmVuY2Ugb2JqZWN0IGZvciB0aGlzIGNoYW5uZWwuIFRoZSByZXR1cm5lZCB2YWx1ZSBpc1xuICAgICAqIGdhcmJhZ2UgaWYgY2hhbm5lbHogaXMgZGlzYWJsZWQgZm9yIHRoaXMgY2hhbm5lbC5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKTtcbiAgICB9XG4gICAgY3JlYXRlQ2FsbChtZXRob2QsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnRDYWxsLCBwcm9wYWdhdGVGbGFncykge1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwjY3JlYXRlQ2FsbDogbWV0aG9kIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0eXBlb2YgZGVhZGxpbmUgPT09ICdudW1iZXInIHx8IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwjY3JlYXRlQ2FsbDogZGVhZGxpbmUgbXVzdCBiZSBhIG51bWJlciBvciBEYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxDaGFubmVsLmNyZWF0ZUNhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbEltcGxlbWVudGF0aW9uID0gQ2hhbm5lbEltcGxlbWVudGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.registerChannelzSocket = exports.registerChannelzServer = exports.registerChannelzSubchannel = exports.registerChannelzChannel = exports.ChannelzCallTrackerStub = exports.ChannelzCallTracker = exports.ChannelzChildrenTrackerStub = exports.ChannelzChildrenTracker = exports.ChannelzTrace = exports.ChannelzTraceStub = void 0;\nexports.unregisterChannelzRef = unregisterChannelzRef;\nexports.getChannelzHandlers = getChannelzHandlers;\nexports.getChannelzServiceDefinition = getChannelzServiceDefinition;\nexports.setup = setup;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst ordered_map_1 = __webpack_require__(/*! @js-sdsl/ordered-map */ \"(action-browser)/./node_modules/@js-sdsl/ordered-map/dist/esm/index.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst admin_1 = __webpack_require__(/*! ./admin */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\");\nconst make_client_1 = __webpack_require__(/*! ./make-client */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js\");\nfunction channelRefToMessage(ref) {\n    return {\n        channel_id: ref.id,\n        name: ref.name,\n    };\n}\nfunction subchannelRefToMessage(ref) {\n    return {\n        subchannel_id: ref.id,\n        name: ref.name,\n    };\n}\nfunction serverRefToMessage(ref) {\n    return {\n        server_id: ref.id,\n    };\n}\nfunction socketRefToMessage(ref) {\n    return {\n        socket_id: ref.id,\n        name: ref.name,\n    };\n}\n/**\n * The loose upper bound on the number of events that should be retained in a\n * trace. This may be exceeded by up to a factor of 2. Arbitrarily chosen as a\n * number that should be large enough to contain the recent relevant\n * information, but small enough to not use excessive memory.\n */\nconst TARGET_RETAINED_TRACES = 32;\n/**\n * Default number of sockets/servers/channels/subchannels to return\n */\nconst DEFAULT_MAX_RESULTS = 100;\nclass ChannelzTraceStub {\n    constructor() {\n        this.events = [];\n        this.creationTimestamp = new Date();\n        this.eventsLogged = 0;\n    }\n    addTrace() { }\n    getTraceMessage() {\n        return {\n            creation_timestamp: dateToProtoTimestamp(this.creationTimestamp),\n            num_events_logged: this.eventsLogged,\n            events: [],\n        };\n    }\n}\nexports.ChannelzTraceStub = ChannelzTraceStub;\nclass ChannelzTrace {\n    constructor() {\n        this.events = [];\n        this.eventsLogged = 0;\n        this.creationTimestamp = new Date();\n    }\n    addTrace(severity, description, child) {\n        const timestamp = new Date();\n        this.events.push({\n            description: description,\n            severity: severity,\n            timestamp: timestamp,\n            childChannel: (child === null || child === void 0 ? void 0 : child.kind) === 'channel' ? child : undefined,\n            childSubchannel: (child === null || child === void 0 ? void 0 : child.kind) === 'subchannel' ? child : undefined,\n        });\n        // Whenever the trace array gets too large, discard the first half\n        if (this.events.length >= TARGET_RETAINED_TRACES * 2) {\n            this.events = this.events.slice(TARGET_RETAINED_TRACES);\n        }\n        this.eventsLogged += 1;\n    }\n    getTraceMessage() {\n        return {\n            creation_timestamp: dateToProtoTimestamp(this.creationTimestamp),\n            num_events_logged: this.eventsLogged,\n            events: this.events.map(event => {\n                return {\n                    description: event.description,\n                    severity: event.severity,\n                    timestamp: dateToProtoTimestamp(event.timestamp),\n                    channel_ref: event.childChannel\n                        ? channelRefToMessage(event.childChannel)\n                        : null,\n                    subchannel_ref: event.childSubchannel\n                        ? subchannelRefToMessage(event.childSubchannel)\n                        : null,\n                };\n            }),\n        };\n    }\n}\nexports.ChannelzTrace = ChannelzTrace;\nclass ChannelzChildrenTracker {\n    constructor() {\n        this.channelChildren = new ordered_map_1.OrderedMap();\n        this.subchannelChildren = new ordered_map_1.OrderedMap();\n        this.socketChildren = new ordered_map_1.OrderedMap();\n        this.trackerMap = {\n            [\"channel\" /* EntityTypes.channel */]: this.channelChildren,\n            [\"subchannel\" /* EntityTypes.subchannel */]: this.subchannelChildren,\n            [\"socket\" /* EntityTypes.socket */]: this.socketChildren,\n        };\n    }\n    refChild(child) {\n        const tracker = this.trackerMap[child.kind];\n        const trackedChild = tracker.find(child.id);\n        if (trackedChild.equals(tracker.end())) {\n            tracker.setElement(child.id, {\n                ref: child,\n                count: 1,\n            }, trackedChild);\n        }\n        else {\n            trackedChild.pointer[1].count += 1;\n        }\n    }\n    unrefChild(child) {\n        const tracker = this.trackerMap[child.kind];\n        const trackedChild = tracker.getElementByKey(child.id);\n        if (trackedChild !== undefined) {\n            trackedChild.count -= 1;\n            if (trackedChild.count === 0) {\n                tracker.eraseElementByKey(child.id);\n            }\n        }\n    }\n    getChildLists() {\n        return {\n            channels: this.channelChildren,\n            subchannels: this.subchannelChildren,\n            sockets: this.socketChildren,\n        };\n    }\n}\nexports.ChannelzChildrenTracker = ChannelzChildrenTracker;\nclass ChannelzChildrenTrackerStub extends ChannelzChildrenTracker {\n    refChild() { }\n    unrefChild() { }\n}\nexports.ChannelzChildrenTrackerStub = ChannelzChildrenTrackerStub;\nclass ChannelzCallTracker {\n    constructor() {\n        this.callsStarted = 0;\n        this.callsSucceeded = 0;\n        this.callsFailed = 0;\n        this.lastCallStartedTimestamp = null;\n    }\n    addCallStarted() {\n        this.callsStarted += 1;\n        this.lastCallStartedTimestamp = new Date();\n    }\n    addCallSucceeded() {\n        this.callsSucceeded += 1;\n    }\n    addCallFailed() {\n        this.callsFailed += 1;\n    }\n}\nexports.ChannelzCallTracker = ChannelzCallTracker;\nclass ChannelzCallTrackerStub extends ChannelzCallTracker {\n    addCallStarted() { }\n    addCallSucceeded() { }\n    addCallFailed() { }\n}\nexports.ChannelzCallTrackerStub = ChannelzCallTrackerStub;\nconst entityMaps = {\n    [\"channel\" /* EntityTypes.channel */]: new ordered_map_1.OrderedMap(),\n    [\"subchannel\" /* EntityTypes.subchannel */]: new ordered_map_1.OrderedMap(),\n    [\"server\" /* EntityTypes.server */]: new ordered_map_1.OrderedMap(),\n    [\"socket\" /* EntityTypes.socket */]: new ordered_map_1.OrderedMap(),\n};\nconst generateRegisterFn = (kind) => {\n    let nextId = 1;\n    function getNextId() {\n        return nextId++;\n    }\n    const entityMap = entityMaps[kind];\n    return (name, getInfo, channelzEnabled) => {\n        const id = getNextId();\n        const ref = { id, name, kind };\n        if (channelzEnabled) {\n            entityMap.setElement(id, { ref, getInfo });\n        }\n        return ref;\n    };\n};\nexports.registerChannelzChannel = generateRegisterFn(\"channel\" /* EntityTypes.channel */);\nexports.registerChannelzSubchannel = generateRegisterFn(\"subchannel\" /* EntityTypes.subchannel */);\nexports.registerChannelzServer = generateRegisterFn(\"server\" /* EntityTypes.server */);\nexports.registerChannelzSocket = generateRegisterFn(\"socket\" /* EntityTypes.socket */);\nfunction unregisterChannelzRef(ref) {\n    entityMaps[ref.kind].eraseElementByKey(ref.id);\n}\n/**\n * Parse a single section of an IPv6 address as two bytes\n * @param addressSection A hexadecimal string of length up to 4\n * @returns The pair of bytes representing this address section\n */\nfunction parseIPv6Section(addressSection) {\n    const numberValue = Number.parseInt(addressSection, 16);\n    return [(numberValue / 256) | 0, numberValue % 256];\n}\n/**\n * Parse a chunk of an IPv6 address string to some number of bytes\n * @param addressChunk Some number of segments of up to 4 hexadecimal\n *   characters each, joined by colons.\n * @returns The list of bytes representing this address chunk\n */\nfunction parseIPv6Chunk(addressChunk) {\n    if (addressChunk === '') {\n        return [];\n    }\n    const bytePairs = addressChunk\n        .split(':')\n        .map(section => parseIPv6Section(section));\n    const result = [];\n    return result.concat(...bytePairs);\n}\nfunction isIPv6MappedIPv4(ipAddress) {\n    return (0, net_1.isIPv6)(ipAddress) && ipAddress.toLowerCase().startsWith('::ffff:') && (0, net_1.isIPv4)(ipAddress.substring(7));\n}\n/**\n * Prerequisite: isIPv4(ipAddress)\n * @param ipAddress\n * @returns\n */\nfunction ipv4AddressStringToBuffer(ipAddress) {\n    return Buffer.from(Uint8Array.from(ipAddress.split('.').map(segment => Number.parseInt(segment))));\n}\n/**\n * Converts an IPv4 or IPv6 address from string representation to binary\n * representation\n * @param ipAddress an IP address in standard IPv4 or IPv6 text format\n * @returns\n */\nfunction ipAddressStringToBuffer(ipAddress) {\n    if ((0, net_1.isIPv4)(ipAddress)) {\n        return ipv4AddressStringToBuffer(ipAddress);\n    }\n    else if (isIPv6MappedIPv4(ipAddress)) {\n        return ipv4AddressStringToBuffer(ipAddress.substring(7));\n    }\n    else if ((0, net_1.isIPv6)(ipAddress)) {\n        let leftSection;\n        let rightSection;\n        const doubleColonIndex = ipAddress.indexOf('::');\n        if (doubleColonIndex === -1) {\n            leftSection = ipAddress;\n            rightSection = '';\n        }\n        else {\n            leftSection = ipAddress.substring(0, doubleColonIndex);\n            rightSection = ipAddress.substring(doubleColonIndex + 2);\n        }\n        const leftBuffer = Buffer.from(parseIPv6Chunk(leftSection));\n        const rightBuffer = Buffer.from(parseIPv6Chunk(rightSection));\n        const middleBuffer = Buffer.alloc(16 - leftBuffer.length - rightBuffer.length, 0);\n        return Buffer.concat([leftBuffer, middleBuffer, rightBuffer]);\n    }\n    else {\n        return null;\n    }\n}\nfunction connectivityStateToMessage(state) {\n    switch (state) {\n        case connectivity_state_1.ConnectivityState.CONNECTING:\n            return {\n                state: 'CONNECTING',\n            };\n        case connectivity_state_1.ConnectivityState.IDLE:\n            return {\n                state: 'IDLE',\n            };\n        case connectivity_state_1.ConnectivityState.READY:\n            return {\n                state: 'READY',\n            };\n        case connectivity_state_1.ConnectivityState.SHUTDOWN:\n            return {\n                state: 'SHUTDOWN',\n            };\n        case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n            return {\n                state: 'TRANSIENT_FAILURE',\n            };\n        default:\n            return {\n                state: 'UNKNOWN',\n            };\n    }\n}\nfunction dateToProtoTimestamp(date) {\n    if (!date) {\n        return null;\n    }\n    const millisSinceEpoch = date.getTime();\n    return {\n        seconds: (millisSinceEpoch / 1000) | 0,\n        nanos: (millisSinceEpoch % 1000) * 1000000,\n    };\n}\nfunction getChannelMessage(channelEntry) {\n    const resolvedInfo = channelEntry.getInfo();\n    const channelRef = [];\n    const subchannelRef = [];\n    resolvedInfo.children.channels.forEach(el => {\n        channelRef.push(channelRefToMessage(el[1].ref));\n    });\n    resolvedInfo.children.subchannels.forEach(el => {\n        subchannelRef.push(subchannelRefToMessage(el[1].ref));\n    });\n    return {\n        ref: channelRefToMessage(channelEntry.ref),\n        data: {\n            target: resolvedInfo.target,\n            state: connectivityStateToMessage(resolvedInfo.state),\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage(),\n        },\n        channel_ref: channelRef,\n        subchannel_ref: subchannelRef,\n    };\n}\nfunction GetChannel(call, callback) {\n    const channelId = parseInt(call.request.channel_id, 10);\n    const channelEntry = entityMaps[\"channel\" /* EntityTypes.channel */].getElementByKey(channelId);\n    if (channelEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No channel data found for id ' + channelId,\n        });\n        return;\n    }\n    callback(null, { channel: getChannelMessage(channelEntry) });\n}\nfunction GetTopChannels(call, callback) {\n    const maxResults = parseInt(call.request.max_results, 10) || DEFAULT_MAX_RESULTS;\n    const resultList = [];\n    const startId = parseInt(call.request.start_channel_id, 10);\n    const channelEntries = entityMaps[\"channel\" /* EntityTypes.channel */];\n    let i;\n    for (i = channelEntries.lowerBound(startId); !i.equals(channelEntries.end()) && resultList.length < maxResults; i = i.next()) {\n        resultList.push(getChannelMessage(i.pointer[1]));\n    }\n    callback(null, {\n        channel: resultList,\n        end: i.equals(channelEntries.end()),\n    });\n}\nfunction getServerMessage(serverEntry) {\n    const resolvedInfo = serverEntry.getInfo();\n    const listenSocket = [];\n    resolvedInfo.listenerChildren.sockets.forEach(el => {\n        listenSocket.push(socketRefToMessage(el[1].ref));\n    });\n    return {\n        ref: serverRefToMessage(serverEntry.ref),\n        data: {\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage(),\n        },\n        listen_socket: listenSocket,\n    };\n}\nfunction GetServer(call, callback) {\n    const serverId = parseInt(call.request.server_id, 10);\n    const serverEntries = entityMaps[\"server\" /* EntityTypes.server */];\n    const serverEntry = serverEntries.getElementByKey(serverId);\n    if (serverEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No server data found for id ' + serverId,\n        });\n        return;\n    }\n    callback(null, { server: getServerMessage(serverEntry) });\n}\nfunction GetServers(call, callback) {\n    const maxResults = parseInt(call.request.max_results, 10) || DEFAULT_MAX_RESULTS;\n    const startId = parseInt(call.request.start_server_id, 10);\n    const serverEntries = entityMaps[\"server\" /* EntityTypes.server */];\n    const resultList = [];\n    let i;\n    for (i = serverEntries.lowerBound(startId); !i.equals(serverEntries.end()) && resultList.length < maxResults; i = i.next()) {\n        resultList.push(getServerMessage(i.pointer[1]));\n    }\n    callback(null, {\n        server: resultList,\n        end: i.equals(serverEntries.end()),\n    });\n}\nfunction GetSubchannel(call, callback) {\n    const subchannelId = parseInt(call.request.subchannel_id, 10);\n    const subchannelEntry = entityMaps[\"subchannel\" /* EntityTypes.subchannel */].getElementByKey(subchannelId);\n    if (subchannelEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No subchannel data found for id ' + subchannelId,\n        });\n        return;\n    }\n    const resolvedInfo = subchannelEntry.getInfo();\n    const listenSocket = [];\n    resolvedInfo.children.sockets.forEach(el => {\n        listenSocket.push(socketRefToMessage(el[1].ref));\n    });\n    const subchannelMessage = {\n        ref: subchannelRefToMessage(subchannelEntry.ref),\n        data: {\n            target: resolvedInfo.target,\n            state: connectivityStateToMessage(resolvedInfo.state),\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage(),\n        },\n        socket_ref: listenSocket,\n    };\n    callback(null, { subchannel: subchannelMessage });\n}\nfunction subchannelAddressToAddressMessage(subchannelAddress) {\n    var _a;\n    if ((0, subchannel_address_1.isTcpSubchannelAddress)(subchannelAddress)) {\n        return {\n            address: 'tcpip_address',\n            tcpip_address: {\n                ip_address: (_a = ipAddressStringToBuffer(subchannelAddress.host)) !== null && _a !== void 0 ? _a : undefined,\n                port: subchannelAddress.port,\n            },\n        };\n    }\n    else {\n        return {\n            address: 'uds_address',\n            uds_address: {\n                filename: subchannelAddress.path,\n            },\n        };\n    }\n}\nfunction GetSocket(call, callback) {\n    var _a, _b, _c, _d, _e;\n    const socketId = parseInt(call.request.socket_id, 10);\n    const socketEntry = entityMaps[\"socket\" /* EntityTypes.socket */].getElementByKey(socketId);\n    if (socketEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No socket data found for id ' + socketId,\n        });\n        return;\n    }\n    const resolvedInfo = socketEntry.getInfo();\n    const securityMessage = resolvedInfo.security\n        ? {\n            model: 'tls',\n            tls: {\n                cipher_suite: resolvedInfo.security.cipherSuiteStandardName\n                    ? 'standard_name'\n                    : 'other_name',\n                standard_name: (_a = resolvedInfo.security.cipherSuiteStandardName) !== null && _a !== void 0 ? _a : undefined,\n                other_name: (_b = resolvedInfo.security.cipherSuiteOtherName) !== null && _b !== void 0 ? _b : undefined,\n                local_certificate: (_c = resolvedInfo.security.localCertificate) !== null && _c !== void 0 ? _c : undefined,\n                remote_certificate: (_d = resolvedInfo.security.remoteCertificate) !== null && _d !== void 0 ? _d : undefined,\n            },\n        }\n        : null;\n    const socketMessage = {\n        ref: socketRefToMessage(socketEntry.ref),\n        local: resolvedInfo.localAddress\n            ? subchannelAddressToAddressMessage(resolvedInfo.localAddress)\n            : null,\n        remote: resolvedInfo.remoteAddress\n            ? subchannelAddressToAddressMessage(resolvedInfo.remoteAddress)\n            : null,\n        remote_name: (_e = resolvedInfo.remoteName) !== null && _e !== void 0 ? _e : undefined,\n        security: securityMessage,\n        data: {\n            keep_alives_sent: resolvedInfo.keepAlivesSent,\n            streams_started: resolvedInfo.streamsStarted,\n            streams_succeeded: resolvedInfo.streamsSucceeded,\n            streams_failed: resolvedInfo.streamsFailed,\n            last_local_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastLocalStreamCreatedTimestamp),\n            last_remote_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastRemoteStreamCreatedTimestamp),\n            messages_received: resolvedInfo.messagesReceived,\n            messages_sent: resolvedInfo.messagesSent,\n            last_message_received_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageReceivedTimestamp),\n            last_message_sent_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageSentTimestamp),\n            local_flow_control_window: resolvedInfo.localFlowControlWindow\n                ? { value: resolvedInfo.localFlowControlWindow }\n                : null,\n            remote_flow_control_window: resolvedInfo.remoteFlowControlWindow\n                ? { value: resolvedInfo.remoteFlowControlWindow }\n                : null,\n        },\n    };\n    callback(null, { socket: socketMessage });\n}\nfunction GetServerSockets(call, callback) {\n    const serverId = parseInt(call.request.server_id, 10);\n    const serverEntry = entityMaps[\"server\" /* EntityTypes.server */].getElementByKey(serverId);\n    if (serverEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No server data found for id ' + serverId,\n        });\n        return;\n    }\n    const startId = parseInt(call.request.start_socket_id, 10);\n    const maxResults = parseInt(call.request.max_results, 10) || DEFAULT_MAX_RESULTS;\n    const resolvedInfo = serverEntry.getInfo();\n    // If we wanted to include listener sockets in the result, this line would\n    // instead say\n    // const allSockets = resolvedInfo.listenerChildren.sockets.concat(resolvedInfo.sessionChildren.sockets).sort((ref1, ref2) => ref1.id - ref2.id);\n    const allSockets = resolvedInfo.sessionChildren.sockets;\n    const resultList = [];\n    let i;\n    for (i = allSockets.lowerBound(startId); !i.equals(allSockets.end()) && resultList.length < maxResults; i = i.next()) {\n        resultList.push(socketRefToMessage(i.pointer[1].ref));\n    }\n    callback(null, {\n        socket_ref: resultList,\n        end: i.equals(allSockets.end()),\n    });\n}\nfunction getChannelzHandlers() {\n    return {\n        GetChannel,\n        GetTopChannels,\n        GetServer,\n        GetServers,\n        GetSubchannel,\n        GetSocket,\n        GetServerSockets,\n    };\n}\nlet loadedChannelzDefinition = null;\nfunction getChannelzServiceDefinition() {\n    if (loadedChannelzDefinition) {\n        return loadedChannelzDefinition;\n    }\n    /* The purpose of this complexity is to avoid loading @grpc/proto-loader at\n     * runtime for users who will not use/enable channelz. */\n    const loaderLoadSync = (__webpack_require__(/*! @grpc/proto-loader */ \"(action-browser)/./node_modules/@grpc/proto-loader/build/src/index.js\").loadSync);\n    const loadedProto = loaderLoadSync('channelz.proto', {\n        keepCase: true,\n        longs: String,\n        enums: String,\n        defaults: true,\n        oneofs: true,\n        includeDirs: [`${__dirname}/../../proto`],\n    });\n    const channelzGrpcObject = (0, make_client_1.loadPackageDefinition)(loadedProto);\n    loadedChannelzDefinition =\n        channelzGrpcObject.grpc.channelz.v1.Channelz.service;\n    return loadedChannelzDefinition;\n}\nfunction setup() {\n    (0, admin_1.registerAdminService)(getChannelzServiceDefinition, getChannelzHandlers);\n}\n//# sourceMappingURL=channelz.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsei5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QixHQUFHLDhCQUE4QixHQUFHLGtDQUFrQyxHQUFHLCtCQUErQixHQUFHLCtCQUErQixHQUFHLDJCQUEyQixHQUFHLG1DQUFtQyxHQUFHLCtCQUErQixHQUFHLHFCQUFxQixHQUFHLHlCQUF5QjtBQUNsVSw2QkFBNkI7QUFDN0IsMkJBQTJCO0FBQzNCLG9DQUFvQztBQUNwQyxhQUFhO0FBQ2IsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLHNCQUFzQixtQkFBTyxDQUFDLG9HQUFzQjtBQUNwRCw2QkFBNkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDM0Qsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsNkJBQTZCLG1CQUFPLENBQUMsbUlBQXNCO0FBQzNELGdCQUFnQixtQkFBTyxDQUFDLHlHQUFTO0FBQ2pDLHNCQUFzQixtQkFBTyxDQUFDLHFIQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSx1Q0FBdUMsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixrQ0FBa0M7QUFDbEMsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUIsMENBQTBDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG1FQUFtRTtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFCQUFxQix1Q0FBdUM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsa0VBQWtFO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFCQUFxQiwrQkFBK0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLCtEQUErRDtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlJQUNWO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixVQUFVO0FBQ25DLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsei5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U29ja2V0ID0gZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U2VydmVyID0gZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U3ViY2hhbm5lbCA9IGV4cG9ydHMucmVnaXN0ZXJDaGFubmVsekNoYW5uZWwgPSBleHBvcnRzLkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViID0gZXhwb3J0cy5DaGFubmVsekNhbGxUcmFja2VyID0gZXhwb3J0cy5DaGFubmVsekNoaWxkcmVuVHJhY2tlclN0dWIgPSBleHBvcnRzLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyID0gZXhwb3J0cy5DaGFubmVselRyYWNlID0gZXhwb3J0cy5DaGFubmVselRyYWNlU3R1YiA9IHZvaWQgMDtcbmV4cG9ydHMudW5yZWdpc3RlckNoYW5uZWx6UmVmID0gdW5yZWdpc3RlckNoYW5uZWx6UmVmO1xuZXhwb3J0cy5nZXRDaGFubmVsekhhbmRsZXJzID0gZ2V0Q2hhbm5lbHpIYW5kbGVycztcbmV4cG9ydHMuZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbiA9IGdldENoYW5uZWx6U2VydmljZURlZmluaXRpb247XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBvcmRlcmVkX21hcF8xID0gcmVxdWlyZShcIkBqcy1zZHNsL29yZGVyZWQtbWFwXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgYWRtaW5fMSA9IHJlcXVpcmUoXCIuL2FkbWluXCIpO1xuY29uc3QgbWFrZV9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL21ha2UtY2xpZW50XCIpO1xuZnVuY3Rpb24gY2hhbm5lbFJlZlRvTWVzc2FnZShyZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjaGFubmVsX2lkOiByZWYuaWQsXG4gICAgICAgIG5hbWU6IHJlZi5uYW1lLFxuICAgIH07XG59XG5mdW5jdGlvbiBzdWJjaGFubmVsUmVmVG9NZXNzYWdlKHJlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1YmNoYW5uZWxfaWQ6IHJlZi5pZCxcbiAgICAgICAgbmFtZTogcmVmLm5hbWUsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlcnZlclJlZlRvTWVzc2FnZShyZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJ2ZXJfaWQ6IHJlZi5pZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gc29ja2V0UmVmVG9NZXNzYWdlKHJlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNvY2tldF9pZDogcmVmLmlkLFxuICAgICAgICBuYW1lOiByZWYubmFtZSxcbiAgICB9O1xufVxuLyoqXG4gKiBUaGUgbG9vc2UgdXBwZXIgYm91bmQgb24gdGhlIG51bWJlciBvZiBldmVudHMgdGhhdCBzaG91bGQgYmUgcmV0YWluZWQgaW4gYVxuICogdHJhY2UuIFRoaXMgbWF5IGJlIGV4Y2VlZGVkIGJ5IHVwIHRvIGEgZmFjdG9yIG9mIDIuIEFyYml0cmFyaWx5IGNob3NlbiBhcyBhXG4gKiBudW1iZXIgdGhhdCBzaG91bGQgYmUgbGFyZ2UgZW5vdWdoIHRvIGNvbnRhaW4gdGhlIHJlY2VudCByZWxldmFudFxuICogaW5mb3JtYXRpb24sIGJ1dCBzbWFsbCBlbm91Z2ggdG8gbm90IHVzZSBleGNlc3NpdmUgbWVtb3J5LlxuICovXG5jb25zdCBUQVJHRVRfUkVUQUlORURfVFJBQ0VTID0gMzI7XG4vKipcbiAqIERlZmF1bHQgbnVtYmVyIG9mIHNvY2tldHMvc2VydmVycy9jaGFubmVscy9zdWJjaGFubmVscyB0byByZXR1cm5cbiAqL1xuY29uc3QgREVGQVVMVF9NQVhfUkVTVUxUUyA9IDEwMDtcbmNsYXNzIENoYW5uZWx6VHJhY2VTdHViIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5jcmVhdGlvblRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuZXZlbnRzTG9nZ2VkID0gMDtcbiAgICB9XG4gICAgYWRkVHJhY2UoKSB7IH1cbiAgICBnZXRUcmFjZU1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmVhdGlvbl90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHRoaXMuY3JlYXRpb25UaW1lc3RhbXApLFxuICAgICAgICAgICAgbnVtX2V2ZW50c19sb2dnZWQ6IHRoaXMuZXZlbnRzTG9nZ2VkLFxuICAgICAgICAgICAgZXZlbnRzOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWx6VHJhY2VTdHViID0gQ2hhbm5lbHpUcmFjZVN0dWI7XG5jbGFzcyBDaGFubmVselRyYWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudHNMb2dnZWQgPSAwO1xuICAgICAgICB0aGlzLmNyZWF0aW9uVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICB9XG4gICAgYWRkVHJhY2Uoc2V2ZXJpdHksIGRlc2NyaXB0aW9uLCBjaGlsZCkge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHNldmVyaXR5OiBzZXZlcml0eSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgY2hpbGRDaGFubmVsOiAoY2hpbGQgPT09IG51bGwgfHwgY2hpbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkLmtpbmQpID09PSAnY2hhbm5lbCcgPyBjaGlsZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoaWxkU3ViY2hhbm5lbDogKGNoaWxkID09PSBudWxsIHx8IGNoaWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGlsZC5raW5kKSA9PT0gJ3N1YmNoYW5uZWwnID8gY2hpbGQgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXaGVuZXZlciB0aGUgdHJhY2UgYXJyYXkgZ2V0cyB0b28gbGFyZ2UsIGRpc2NhcmQgdGhlIGZpcnN0IGhhbGZcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmxlbmd0aCA+PSBUQVJHRVRfUkVUQUlORURfVFJBQ0VTICogMikge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cy5zbGljZShUQVJHRVRfUkVUQUlORURfVFJBQ0VTKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50c0xvZ2dlZCArPSAxO1xuICAgIH1cbiAgICBnZXRUcmFjZU1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmVhdGlvbl90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHRoaXMuY3JlYXRpb25UaW1lc3RhbXApLFxuICAgICAgICAgICAgbnVtX2V2ZW50c19sb2dnZWQ6IHRoaXMuZXZlbnRzTG9nZ2VkLFxuICAgICAgICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50cy5tYXAoZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IGV2ZW50LnNldmVyaXR5LFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKGV2ZW50LnRpbWVzdGFtcCksXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxfcmVmOiBldmVudC5jaGlsZENoYW5uZWxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2hhbm5lbFJlZlRvTWVzc2FnZShldmVudC5jaGlsZENoYW5uZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxfcmVmOiBldmVudC5jaGlsZFN1YmNoYW5uZWxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc3ViY2hhbm5lbFJlZlRvTWVzc2FnZShldmVudC5jaGlsZFN1YmNoYW5uZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbHpUcmFjZSA9IENoYW5uZWx6VHJhY2U7XG5jbGFzcyBDaGFubmVsekNoaWxkcmVuVHJhY2tlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbENoaWxkcmVuID0gbmV3IG9yZGVyZWRfbWFwXzEuT3JkZXJlZE1hcCgpO1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWxDaGlsZHJlbiA9IG5ldyBvcmRlcmVkX21hcF8xLk9yZGVyZWRNYXAoKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDaGlsZHJlbiA9IG5ldyBvcmRlcmVkX21hcF8xLk9yZGVyZWRNYXAoKTtcbiAgICAgICAgdGhpcy50cmFja2VyTWFwID0ge1xuICAgICAgICAgICAgW1wiY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLmNoYW5uZWwgKi9dOiB0aGlzLmNoYW5uZWxDaGlsZHJlbixcbiAgICAgICAgICAgIFtcInN1YmNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5zdWJjaGFubmVsICovXTogdGhpcy5zdWJjaGFubmVsQ2hpbGRyZW4sXG4gICAgICAgICAgICBbXCJzb2NrZXRcIiAvKiBFbnRpdHlUeXBlcy5zb2NrZXQgKi9dOiB0aGlzLnNvY2tldENoaWxkcmVuLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZWZDaGlsZChjaGlsZCkge1xuICAgICAgICBjb25zdCB0cmFja2VyID0gdGhpcy50cmFja2VyTWFwW2NoaWxkLmtpbmRdO1xuICAgICAgICBjb25zdCB0cmFja2VkQ2hpbGQgPSB0cmFja2VyLmZpbmQoY2hpbGQuaWQpO1xuICAgICAgICBpZiAodHJhY2tlZENoaWxkLmVxdWFscyh0cmFja2VyLmVuZCgpKSkge1xuICAgICAgICAgICAgdHJhY2tlci5zZXRFbGVtZW50KGNoaWxkLmlkLCB7XG4gICAgICAgICAgICAgICAgcmVmOiBjaGlsZCxcbiAgICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgIH0sIHRyYWNrZWRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFja2VkQ2hpbGQucG9pbnRlclsxXS5jb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVucmVmQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgY29uc3QgdHJhY2tlciA9IHRoaXMudHJhY2tlck1hcFtjaGlsZC5raW5kXTtcbiAgICAgICAgY29uc3QgdHJhY2tlZENoaWxkID0gdHJhY2tlci5nZXRFbGVtZW50QnlLZXkoY2hpbGQuaWQpO1xuICAgICAgICBpZiAodHJhY2tlZENoaWxkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRyYWNrZWRDaGlsZC5jb3VudCAtPSAxO1xuICAgICAgICAgICAgaWYgKHRyYWNrZWRDaGlsZC5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRyYWNrZXIuZXJhc2VFbGVtZW50QnlLZXkoY2hpbGQuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldENoaWxkTGlzdHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFubmVsczogdGhpcy5jaGFubmVsQ2hpbGRyZW4sXG4gICAgICAgICAgICBzdWJjaGFubmVsczogdGhpcy5zdWJjaGFubmVsQ2hpbGRyZW4sXG4gICAgICAgICAgICBzb2NrZXRzOiB0aGlzLnNvY2tldENoaWxkcmVuLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIgPSBDaGFubmVsekNoaWxkcmVuVHJhY2tlcjtcbmNsYXNzIENoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YiBleHRlbmRzIENoYW5uZWx6Q2hpbGRyZW5UcmFja2VyIHtcbiAgICByZWZDaGlsZCgpIHsgfVxuICAgIHVucmVmQ2hpbGQoKSB7IH1cbn1cbmV4cG9ydHMuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXJTdHViID0gQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXJTdHViO1xuY2xhc3MgQ2hhbm5lbHpDYWxsVHJhY2tlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2FsbHNTdGFydGVkID0gMDtcbiAgICAgICAgdGhpcy5jYWxsc1N1Y2NlZWRlZCA9IDA7XG4gICAgICAgIHRoaXMuY2FsbHNGYWlsZWQgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCA9IG51bGw7XG4gICAgfVxuICAgIGFkZENhbGxTdGFydGVkKCkge1xuICAgICAgICB0aGlzLmNhbGxzU3RhcnRlZCArPSAxO1xuICAgICAgICB0aGlzLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICAgIGFkZENhbGxTdWNjZWVkZWQoKSB7XG4gICAgICAgIHRoaXMuY2FsbHNTdWNjZWVkZWQgKz0gMTtcbiAgICB9XG4gICAgYWRkQ2FsbEZhaWxlZCgpIHtcbiAgICAgICAgdGhpcy5jYWxsc0ZhaWxlZCArPSAxO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbHpDYWxsVHJhY2tlciA9IENoYW5uZWx6Q2FsbFRyYWNrZXI7XG5jbGFzcyBDaGFubmVsekNhbGxUcmFja2VyU3R1YiBleHRlbmRzIENoYW5uZWx6Q2FsbFRyYWNrZXIge1xuICAgIGFkZENhbGxTdGFydGVkKCkgeyB9XG4gICAgYWRkQ2FsbFN1Y2NlZWRlZCgpIHsgfVxuICAgIGFkZENhbGxGYWlsZWQoKSB7IH1cbn1cbmV4cG9ydHMuQ2hhbm5lbHpDYWxsVHJhY2tlclN0dWIgPSBDaGFubmVsekNhbGxUcmFja2VyU3R1YjtcbmNvbnN0IGVudGl0eU1hcHMgPSB7XG4gICAgW1wiY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLmNoYW5uZWwgKi9dOiBuZXcgb3JkZXJlZF9tYXBfMS5PcmRlcmVkTWFwKCksXG4gICAgW1wic3ViY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLnN1YmNoYW5uZWwgKi9dOiBuZXcgb3JkZXJlZF9tYXBfMS5PcmRlcmVkTWFwKCksXG4gICAgW1wic2VydmVyXCIgLyogRW50aXR5VHlwZXMuc2VydmVyICovXTogbmV3IG9yZGVyZWRfbWFwXzEuT3JkZXJlZE1hcCgpLFxuICAgIFtcInNvY2tldFwiIC8qIEVudGl0eVR5cGVzLnNvY2tldCAqL106IG5ldyBvcmRlcmVkX21hcF8xLk9yZGVyZWRNYXAoKSxcbn07XG5jb25zdCBnZW5lcmF0ZVJlZ2lzdGVyRm4gPSAoa2luZCkgPT4ge1xuICAgIGxldCBuZXh0SWQgPSAxO1xuICAgIGZ1bmN0aW9uIGdldE5leHRJZCgpIHtcbiAgICAgICAgcmV0dXJuIG5leHRJZCsrO1xuICAgIH1cbiAgICBjb25zdCBlbnRpdHlNYXAgPSBlbnRpdHlNYXBzW2tpbmRdO1xuICAgIHJldHVybiAobmFtZSwgZ2V0SW5mbywgY2hhbm5lbHpFbmFibGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0TmV4dElkKCk7XG4gICAgICAgIGNvbnN0IHJlZiA9IHsgaWQsIG5hbWUsIGtpbmQgfTtcbiAgICAgICAgaWYgKGNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgZW50aXR5TWFwLnNldEVsZW1lbnQoaWQsIHsgcmVmLCBnZXRJbmZvIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfTtcbn07XG5leHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpDaGFubmVsID0gZ2VuZXJhdGVSZWdpc3RlckZuKFwiY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLmNoYW5uZWwgKi8pO1xuZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U3ViY2hhbm5lbCA9IGdlbmVyYXRlUmVnaXN0ZXJGbihcInN1YmNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5zdWJjaGFubmVsICovKTtcbmV4cG9ydHMucmVnaXN0ZXJDaGFubmVselNlcnZlciA9IGdlbmVyYXRlUmVnaXN0ZXJGbihcInNlcnZlclwiIC8qIEVudGl0eVR5cGVzLnNlcnZlciAqLyk7XG5leHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQgPSBnZW5lcmF0ZVJlZ2lzdGVyRm4oXCJzb2NrZXRcIiAvKiBFbnRpdHlUeXBlcy5zb2NrZXQgKi8pO1xuZnVuY3Rpb24gdW5yZWdpc3RlckNoYW5uZWx6UmVmKHJlZikge1xuICAgIGVudGl0eU1hcHNbcmVmLmtpbmRdLmVyYXNlRWxlbWVudEJ5S2V5KHJlZi5pZCk7XG59XG4vKipcbiAqIFBhcnNlIGEgc2luZ2xlIHNlY3Rpb24gb2YgYW4gSVB2NiBhZGRyZXNzIGFzIHR3byBieXRlc1xuICogQHBhcmFtIGFkZHJlc3NTZWN0aW9uIEEgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIGxlbmd0aCB1cCB0byA0XG4gKiBAcmV0dXJucyBUaGUgcGFpciBvZiBieXRlcyByZXByZXNlbnRpbmcgdGhpcyBhZGRyZXNzIHNlY3Rpb25cbiAqL1xuZnVuY3Rpb24gcGFyc2VJUHY2U2VjdGlvbihhZGRyZXNzU2VjdGlvbikge1xuICAgIGNvbnN0IG51bWJlclZhbHVlID0gTnVtYmVyLnBhcnNlSW50KGFkZHJlc3NTZWN0aW9uLCAxNik7XG4gICAgcmV0dXJuIFsobnVtYmVyVmFsdWUgLyAyNTYpIHwgMCwgbnVtYmVyVmFsdWUgJSAyNTZdO1xufVxuLyoqXG4gKiBQYXJzZSBhIGNodW5rIG9mIGFuIElQdjYgYWRkcmVzcyBzdHJpbmcgdG8gc29tZSBudW1iZXIgb2YgYnl0ZXNcbiAqIEBwYXJhbSBhZGRyZXNzQ2h1bmsgU29tZSBudW1iZXIgb2Ygc2VnbWVudHMgb2YgdXAgdG8gNCBoZXhhZGVjaW1hbFxuICogICBjaGFyYWN0ZXJzIGVhY2gsIGpvaW5lZCBieSBjb2xvbnMuXG4gKiBAcmV0dXJucyBUaGUgbGlzdCBvZiBieXRlcyByZXByZXNlbnRpbmcgdGhpcyBhZGRyZXNzIGNodW5rXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSVB2NkNodW5rKGFkZHJlc3NDaHVuaykge1xuICAgIGlmIChhZGRyZXNzQ2h1bmsgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgYnl0ZVBhaXJzID0gYWRkcmVzc0NodW5rXG4gICAgICAgIC5zcGxpdCgnOicpXG4gICAgICAgIC5tYXAoc2VjdGlvbiA9PiBwYXJzZUlQdjZTZWN0aW9uKHNlY3Rpb24pKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICByZXR1cm4gcmVzdWx0LmNvbmNhdCguLi5ieXRlUGFpcnMpO1xufVxuZnVuY3Rpb24gaXNJUHY2TWFwcGVkSVB2NChpcEFkZHJlc3MpIHtcbiAgICByZXR1cm4gKDAsIG5ldF8xLmlzSVB2NikoaXBBZGRyZXNzKSAmJiBpcEFkZHJlc3MudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCc6OmZmZmY6JykgJiYgKDAsIG5ldF8xLmlzSVB2NCkoaXBBZGRyZXNzLnN1YnN0cmluZyg3KSk7XG59XG4vKipcbiAqIFByZXJlcXVpc2l0ZTogaXNJUHY0KGlwQWRkcmVzcylcbiAqIEBwYXJhbSBpcEFkZHJlc3NcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGlwdjRBZGRyZXNzU3RyaW5nVG9CdWZmZXIoaXBBZGRyZXNzKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKFVpbnQ4QXJyYXkuZnJvbShpcEFkZHJlc3Muc3BsaXQoJy4nKS5tYXAoc2VnbWVudCA9PiBOdW1iZXIucGFyc2VJbnQoc2VnbWVudCkpKSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIElQdjQgb3IgSVB2NiBhZGRyZXNzIGZyb20gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHRvIGJpbmFyeVxuICogcmVwcmVzZW50YXRpb25cbiAqIEBwYXJhbSBpcEFkZHJlc3MgYW4gSVAgYWRkcmVzcyBpbiBzdGFuZGFyZCBJUHY0IG9yIElQdjYgdGV4dCBmb3JtYXRcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGlwQWRkcmVzc1N0cmluZ1RvQnVmZmVyKGlwQWRkcmVzcykge1xuICAgIGlmICgoMCwgbmV0XzEuaXNJUHY0KShpcEFkZHJlc3MpKSB7XG4gICAgICAgIHJldHVybiBpcHY0QWRkcmVzc1N0cmluZ1RvQnVmZmVyKGlwQWRkcmVzcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSVB2Nk1hcHBlZElQdjQoaXBBZGRyZXNzKSkge1xuICAgICAgICByZXR1cm4gaXB2NEFkZHJlc3NTdHJpbmdUb0J1ZmZlcihpcEFkZHJlc3Muc3Vic3RyaW5nKDcpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKDAsIG5ldF8xLmlzSVB2NikoaXBBZGRyZXNzKSkge1xuICAgICAgICBsZXQgbGVmdFNlY3Rpb247XG4gICAgICAgIGxldCByaWdodFNlY3Rpb247XG4gICAgICAgIGNvbnN0IGRvdWJsZUNvbG9uSW5kZXggPSBpcEFkZHJlc3MuaW5kZXhPZignOjonKTtcbiAgICAgICAgaWYgKGRvdWJsZUNvbG9uSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBsZWZ0U2VjdGlvbiA9IGlwQWRkcmVzcztcbiAgICAgICAgICAgIHJpZ2h0U2VjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGVmdFNlY3Rpb24gPSBpcEFkZHJlc3Muc3Vic3RyaW5nKDAsIGRvdWJsZUNvbG9uSW5kZXgpO1xuICAgICAgICAgICAgcmlnaHRTZWN0aW9uID0gaXBBZGRyZXNzLnN1YnN0cmluZyhkb3VibGVDb2xvbkluZGV4ICsgMik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVmdEJ1ZmZlciA9IEJ1ZmZlci5mcm9tKHBhcnNlSVB2NkNodW5rKGxlZnRTZWN0aW9uKSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0QnVmZmVyID0gQnVmZmVyLmZyb20ocGFyc2VJUHY2Q2h1bmsocmlnaHRTZWN0aW9uKSk7XG4gICAgICAgIGNvbnN0IG1pZGRsZUJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygxNiAtIGxlZnRCdWZmZXIubGVuZ3RoIC0gcmlnaHRCdWZmZXIubGVuZ3RoLCAwKTtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW2xlZnRCdWZmZXIsIG1pZGRsZUJ1ZmZlciwgcmlnaHRCdWZmZXJdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbm5lY3Rpdml0eVN0YXRlVG9NZXNzYWdlKHN0YXRlKSB7XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnQ09OTkVDVElORycsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnSURMRScsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ1JFQURZJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuU0hVVERPV046XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnU0hVVERPV04nLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdUUkFOU0lFTlRfRkFJTFVSRScsXG4gICAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ1VOS05PV04nLFxuICAgICAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBkYXRlVG9Qcm90b1RpbWVzdGFtcChkYXRlKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBtaWxsaXNTaW5jZUVwb2NoID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kczogKG1pbGxpc1NpbmNlRXBvY2ggLyAxMDAwKSB8IDAsXG4gICAgICAgIG5hbm9zOiAobWlsbGlzU2luY2VFcG9jaCAlIDEwMDApICogMTAwMDAwMCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0Q2hhbm5lbE1lc3NhZ2UoY2hhbm5lbEVudHJ5KSB7XG4gICAgY29uc3QgcmVzb2x2ZWRJbmZvID0gY2hhbm5lbEVudHJ5LmdldEluZm8oKTtcbiAgICBjb25zdCBjaGFubmVsUmVmID0gW107XG4gICAgY29uc3Qgc3ViY2hhbm5lbFJlZiA9IFtdO1xuICAgIHJlc29sdmVkSW5mby5jaGlsZHJlbi5jaGFubmVscy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgY2hhbm5lbFJlZi5wdXNoKGNoYW5uZWxSZWZUb01lc3NhZ2UoZWxbMV0ucmVmKSk7XG4gICAgfSk7XG4gICAgcmVzb2x2ZWRJbmZvLmNoaWxkcmVuLnN1YmNoYW5uZWxzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBzdWJjaGFubmVsUmVmLnB1c2goc3ViY2hhbm5lbFJlZlRvTWVzc2FnZShlbFsxXS5yZWYpKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZWY6IGNoYW5uZWxSZWZUb01lc3NhZ2UoY2hhbm5lbEVudHJ5LnJlZiksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRhcmdldDogcmVzb2x2ZWRJbmZvLnRhcmdldCxcbiAgICAgICAgICAgIHN0YXRlOiBjb25uZWN0aXZpdHlTdGF0ZVRvTWVzc2FnZShyZXNvbHZlZEluZm8uc3RhdGUpLFxuICAgICAgICAgICAgY2FsbHNfc3RhcnRlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzU3RhcnRlZCxcbiAgICAgICAgICAgIGNhbGxzX3N1Y2NlZWRlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzU3VjY2VlZGVkLFxuICAgICAgICAgICAgY2FsbHNfZmFpbGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNGYWlsZWQsXG4gICAgICAgICAgICBsYXN0X2NhbGxfc3RhcnRlZF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5sYXN0Q2FsbFN0YXJ0ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgdHJhY2U6IHJlc29sdmVkSW5mby50cmFjZS5nZXRUcmFjZU1lc3NhZ2UoKSxcbiAgICAgICAgfSxcbiAgICAgICAgY2hhbm5lbF9yZWY6IGNoYW5uZWxSZWYsXG4gICAgICAgIHN1YmNoYW5uZWxfcmVmOiBzdWJjaGFubmVsUmVmLFxuICAgIH07XG59XG5mdW5jdGlvbiBHZXRDaGFubmVsKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgY2hhbm5lbElkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LmNoYW5uZWxfaWQsIDEwKTtcbiAgICBjb25zdCBjaGFubmVsRW50cnkgPSBlbnRpdHlNYXBzW1wiY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLmNoYW5uZWwgKi9dLmdldEVsZW1lbnRCeUtleShjaGFubmVsSWQpO1xuICAgIGlmIChjaGFubmVsRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIGNoYW5uZWwgZGF0YSBmb3VuZCBmb3IgaWQgJyArIGNoYW5uZWxJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwgeyBjaGFubmVsOiBnZXRDaGFubmVsTWVzc2FnZShjaGFubmVsRW50cnkpIH0pO1xufVxuZnVuY3Rpb24gR2V0VG9wQ2hhbm5lbHMoY2FsbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBtYXhSZXN1bHRzID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0Lm1heF9yZXN1bHRzLCAxMCkgfHwgREVGQVVMVF9NQVhfUkVTVUxUUztcbiAgICBjb25zdCByZXN1bHRMaXN0ID0gW107XG4gICAgY29uc3Qgc3RhcnRJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5zdGFydF9jaGFubmVsX2lkLCAxMCk7XG4gICAgY29uc3QgY2hhbm5lbEVudHJpZXMgPSBlbnRpdHlNYXBzW1wiY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLmNoYW5uZWwgKi9dO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IGNoYW5uZWxFbnRyaWVzLmxvd2VyQm91bmQoc3RhcnRJZCk7ICFpLmVxdWFscyhjaGFubmVsRW50cmllcy5lbmQoKSkgJiYgcmVzdWx0TGlzdC5sZW5ndGggPCBtYXhSZXN1bHRzOyBpID0gaS5uZXh0KCkpIHtcbiAgICAgICAgcmVzdWx0TGlzdC5wdXNoKGdldENoYW5uZWxNZXNzYWdlKGkucG9pbnRlclsxXSkpO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIGNoYW5uZWw6IHJlc3VsdExpc3QsXG4gICAgICAgIGVuZDogaS5lcXVhbHMoY2hhbm5lbEVudHJpZXMuZW5kKCkpLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0U2VydmVyTWVzc2FnZShzZXJ2ZXJFbnRyeSkge1xuICAgIGNvbnN0IHJlc29sdmVkSW5mbyA9IHNlcnZlckVudHJ5LmdldEluZm8oKTtcbiAgICBjb25zdCBsaXN0ZW5Tb2NrZXQgPSBbXTtcbiAgICByZXNvbHZlZEluZm8ubGlzdGVuZXJDaGlsZHJlbi5zb2NrZXRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBsaXN0ZW5Tb2NrZXQucHVzaChzb2NrZXRSZWZUb01lc3NhZ2UoZWxbMV0ucmVmKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVmOiBzZXJ2ZXJSZWZUb01lc3NhZ2Uoc2VydmVyRW50cnkucmVmKSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY2FsbHNfc3RhcnRlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzU3RhcnRlZCxcbiAgICAgICAgICAgIGNhbGxzX3N1Y2NlZWRlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzU3VjY2VlZGVkLFxuICAgICAgICAgICAgY2FsbHNfZmFpbGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNGYWlsZWQsXG4gICAgICAgICAgICBsYXN0X2NhbGxfc3RhcnRlZF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5sYXN0Q2FsbFN0YXJ0ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgdHJhY2U6IHJlc29sdmVkSW5mby50cmFjZS5nZXRUcmFjZU1lc3NhZ2UoKSxcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdGVuX3NvY2tldDogbGlzdGVuU29ja2V0LFxuICAgIH07XG59XG5mdW5jdGlvbiBHZXRTZXJ2ZXIoY2FsbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBzZXJ2ZXJJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5zZXJ2ZXJfaWQsIDEwKTtcbiAgICBjb25zdCBzZXJ2ZXJFbnRyaWVzID0gZW50aXR5TWFwc1tcInNlcnZlclwiIC8qIEVudGl0eVR5cGVzLnNlcnZlciAqL107XG4gICAgY29uc3Qgc2VydmVyRW50cnkgPSBzZXJ2ZXJFbnRyaWVzLmdldEVsZW1lbnRCeUtleShzZXJ2ZXJJZCk7XG4gICAgaWYgKHNlcnZlckVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICAgICAgICAgIGRldGFpbHM6ICdObyBzZXJ2ZXIgZGF0YSBmb3VuZCBmb3IgaWQgJyArIHNlcnZlcklkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7IHNlcnZlcjogZ2V0U2VydmVyTWVzc2FnZShzZXJ2ZXJFbnRyeSkgfSk7XG59XG5mdW5jdGlvbiBHZXRTZXJ2ZXJzKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbWF4UmVzdWx0cyA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5tYXhfcmVzdWx0cywgMTApIHx8IERFRkFVTFRfTUFYX1JFU1VMVFM7XG4gICAgY29uc3Qgc3RhcnRJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5zdGFydF9zZXJ2ZXJfaWQsIDEwKTtcbiAgICBjb25zdCBzZXJ2ZXJFbnRyaWVzID0gZW50aXR5TWFwc1tcInNlcnZlclwiIC8qIEVudGl0eVR5cGVzLnNlcnZlciAqL107XG4gICAgY29uc3QgcmVzdWx0TGlzdCA9IFtdO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IHNlcnZlckVudHJpZXMubG93ZXJCb3VuZChzdGFydElkKTsgIWkuZXF1YWxzKHNlcnZlckVudHJpZXMuZW5kKCkpICYmIHJlc3VsdExpc3QubGVuZ3RoIDwgbWF4UmVzdWx0czsgaSA9IGkubmV4dCgpKSB7XG4gICAgICAgIHJlc3VsdExpc3QucHVzaChnZXRTZXJ2ZXJNZXNzYWdlKGkucG9pbnRlclsxXSkpO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIHNlcnZlcjogcmVzdWx0TGlzdCxcbiAgICAgICAgZW5kOiBpLmVxdWFscyhzZXJ2ZXJFbnRyaWVzLmVuZCgpKSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIEdldFN1YmNoYW5uZWwoY2FsbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBzdWJjaGFubmVsSWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3Quc3ViY2hhbm5lbF9pZCwgMTApO1xuICAgIGNvbnN0IHN1YmNoYW5uZWxFbnRyeSA9IGVudGl0eU1hcHNbXCJzdWJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuc3ViY2hhbm5lbCAqL10uZ2V0RWxlbWVudEJ5S2V5KHN1YmNoYW5uZWxJZCk7XG4gICAgaWYgKHN1YmNoYW5uZWxFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgICAgICAgICBkZXRhaWxzOiAnTm8gc3ViY2hhbm5lbCBkYXRhIGZvdW5kIGZvciBpZCAnICsgc3ViY2hhbm5lbElkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlZEluZm8gPSBzdWJjaGFubmVsRW50cnkuZ2V0SW5mbygpO1xuICAgIGNvbnN0IGxpc3RlblNvY2tldCA9IFtdO1xuICAgIHJlc29sdmVkSW5mby5jaGlsZHJlbi5zb2NrZXRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBsaXN0ZW5Tb2NrZXQucHVzaChzb2NrZXRSZWZUb01lc3NhZ2UoZWxbMV0ucmVmKSk7XG4gICAgfSk7XG4gICAgY29uc3Qgc3ViY2hhbm5lbE1lc3NhZ2UgPSB7XG4gICAgICAgIHJlZjogc3ViY2hhbm5lbFJlZlRvTWVzc2FnZShzdWJjaGFubmVsRW50cnkucmVmKSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdGFyZ2V0OiByZXNvbHZlZEluZm8udGFyZ2V0LFxuICAgICAgICAgICAgc3RhdGU6IGNvbm5lY3Rpdml0eVN0YXRlVG9NZXNzYWdlKHJlc29sdmVkSW5mby5zdGF0ZSksXG4gICAgICAgICAgICBjYWxsc19zdGFydGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdGFydGVkLFxuICAgICAgICAgICAgY2FsbHNfc3VjY2VlZGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdWNjZWVkZWQsXG4gICAgICAgICAgICBjYWxsc19mYWlsZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc0ZhaWxlZCxcbiAgICAgICAgICAgIGxhc3RfY2FsbF9zdGFydGVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCksXG4gICAgICAgICAgICB0cmFjZTogcmVzb2x2ZWRJbmZvLnRyYWNlLmdldFRyYWNlTWVzc2FnZSgpLFxuICAgICAgICB9LFxuICAgICAgICBzb2NrZXRfcmVmOiBsaXN0ZW5Tb2NrZXQsXG4gICAgfTtcbiAgICBjYWxsYmFjayhudWxsLCB7IHN1YmNoYW5uZWw6IHN1YmNoYW5uZWxNZXNzYWdlIH0pO1xufVxuZnVuY3Rpb24gc3ViY2hhbm5lbEFkZHJlc3NUb0FkZHJlc3NNZXNzYWdlKHN1YmNoYW5uZWxBZGRyZXNzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICgoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuaXNUY3BTdWJjaGFubmVsQWRkcmVzcykoc3ViY2hhbm5lbEFkZHJlc3MpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRyZXNzOiAndGNwaXBfYWRkcmVzcycsXG4gICAgICAgICAgICB0Y3BpcF9hZGRyZXNzOiB7XG4gICAgICAgICAgICAgICAgaXBfYWRkcmVzczogKF9hID0gaXBBZGRyZXNzU3RyaW5nVG9CdWZmZXIoc3ViY2hhbm5lbEFkZHJlc3MuaG9zdCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBwb3J0OiBzdWJjaGFubmVsQWRkcmVzcy5wb3J0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRyZXNzOiAndWRzX2FkZHJlc3MnLFxuICAgICAgICAgICAgdWRzX2FkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogc3ViY2hhbm5lbEFkZHJlc3MucGF0aCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gR2V0U29ja2V0KGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCBzb2NrZXRJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5zb2NrZXRfaWQsIDEwKTtcbiAgICBjb25zdCBzb2NrZXRFbnRyeSA9IGVudGl0eU1hcHNbXCJzb2NrZXRcIiAvKiBFbnRpdHlUeXBlcy5zb2NrZXQgKi9dLmdldEVsZW1lbnRCeUtleShzb2NrZXRJZCk7XG4gICAgaWYgKHNvY2tldEVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICAgICAgICAgIGRldGFpbHM6ICdObyBzb2NrZXQgZGF0YSBmb3VuZCBmb3IgaWQgJyArIHNvY2tldElkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlZEluZm8gPSBzb2NrZXRFbnRyeS5nZXRJbmZvKCk7XG4gICAgY29uc3Qgc2VjdXJpdHlNZXNzYWdlID0gcmVzb2x2ZWRJbmZvLnNlY3VyaXR5XG4gICAgICAgID8ge1xuICAgICAgICAgICAgbW9kZWw6ICd0bHMnLFxuICAgICAgICAgICAgdGxzOiB7XG4gICAgICAgICAgICAgICAgY2lwaGVyX3N1aXRlOiByZXNvbHZlZEluZm8uc2VjdXJpdHkuY2lwaGVyU3VpdGVTdGFuZGFyZE5hbWVcbiAgICAgICAgICAgICAgICAgICAgPyAnc3RhbmRhcmRfbmFtZSdcbiAgICAgICAgICAgICAgICAgICAgOiAnb3RoZXJfbmFtZScsXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRfbmFtZTogKF9hID0gcmVzb2x2ZWRJbmZvLnNlY3VyaXR5LmNpcGhlclN1aXRlU3RhbmRhcmROYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgb3RoZXJfbmFtZTogKF9iID0gcmVzb2x2ZWRJbmZvLnNlY3VyaXR5LmNpcGhlclN1aXRlT3RoZXJOYW1lKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbG9jYWxfY2VydGlmaWNhdGU6IChfYyA9IHJlc29sdmVkSW5mby5zZWN1cml0eS5sb2NhbENlcnRpZmljYXRlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVtb3RlX2NlcnRpZmljYXRlOiAoX2QgPSByZXNvbHZlZEluZm8uc2VjdXJpdHkucmVtb3RlQ2VydGlmaWNhdGUpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHNvY2tldE1lc3NhZ2UgPSB7XG4gICAgICAgIHJlZjogc29ja2V0UmVmVG9NZXNzYWdlKHNvY2tldEVudHJ5LnJlZiksXG4gICAgICAgIGxvY2FsOiByZXNvbHZlZEluZm8ubG9jYWxBZGRyZXNzXG4gICAgICAgICAgICA/IHN1YmNoYW5uZWxBZGRyZXNzVG9BZGRyZXNzTWVzc2FnZShyZXNvbHZlZEluZm8ubG9jYWxBZGRyZXNzKVxuICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICByZW1vdGU6IHJlc29sdmVkSW5mby5yZW1vdGVBZGRyZXNzXG4gICAgICAgICAgICA/IHN1YmNoYW5uZWxBZGRyZXNzVG9BZGRyZXNzTWVzc2FnZShyZXNvbHZlZEluZm8ucmVtb3RlQWRkcmVzcylcbiAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgcmVtb3RlX25hbWU6IChfZSA9IHJlc29sdmVkSW5mby5yZW1vdGVOYW1lKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiB1bmRlZmluZWQsXG4gICAgICAgIHNlY3VyaXR5OiBzZWN1cml0eU1lc3NhZ2UsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGtlZXBfYWxpdmVzX3NlbnQ6IHJlc29sdmVkSW5mby5rZWVwQWxpdmVzU2VudCxcbiAgICAgICAgICAgIHN0cmVhbXNfc3RhcnRlZDogcmVzb2x2ZWRJbmZvLnN0cmVhbXNTdGFydGVkLFxuICAgICAgICAgICAgc3RyZWFtc19zdWNjZWVkZWQ6IHJlc29sdmVkSW5mby5zdHJlYW1zU3VjY2VlZGVkLFxuICAgICAgICAgICAgc3RyZWFtc19mYWlsZWQ6IHJlc29sdmVkSW5mby5zdHJlYW1zRmFpbGVkLFxuICAgICAgICAgICAgbGFzdF9sb2NhbF9zdHJlYW1fY3JlYXRlZF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5sYXN0TG9jYWxTdHJlYW1DcmVhdGVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIGxhc3RfcmVtb3RlX3N0cmVhbV9jcmVhdGVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIG1lc3NhZ2VzX3JlY2VpdmVkOiByZXNvbHZlZEluZm8ubWVzc2FnZXNSZWNlaXZlZCxcbiAgICAgICAgICAgIG1lc3NhZ2VzX3NlbnQ6IHJlc29sdmVkSW5mby5tZXNzYWdlc1NlbnQsXG4gICAgICAgICAgICBsYXN0X21lc3NhZ2VfcmVjZWl2ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8ubGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCksXG4gICAgICAgICAgICBsYXN0X21lc3NhZ2Vfc2VudF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5sYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXApLFxuICAgICAgICAgICAgbG9jYWxfZmxvd19jb250cm9sX3dpbmRvdzogcmVzb2x2ZWRJbmZvLmxvY2FsRmxvd0NvbnRyb2xXaW5kb3dcbiAgICAgICAgICAgICAgICA/IHsgdmFsdWU6IHJlc29sdmVkSW5mby5sb2NhbEZsb3dDb250cm9sV2luZG93IH1cbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICByZW1vdGVfZmxvd19jb250cm9sX3dpbmRvdzogcmVzb2x2ZWRJbmZvLnJlbW90ZUZsb3dDb250cm9sV2luZG93XG4gICAgICAgICAgICAgICAgPyB7IHZhbHVlOiByZXNvbHZlZEluZm8ucmVtb3RlRmxvd0NvbnRyb2xXaW5kb3cgfVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGNhbGxiYWNrKG51bGwsIHsgc29ja2V0OiBzb2NrZXRNZXNzYWdlIH0pO1xufVxuZnVuY3Rpb24gR2V0U2VydmVyU29ja2V0cyhjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHNlcnZlcklkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnNlcnZlcl9pZCwgMTApO1xuICAgIGNvbnN0IHNlcnZlckVudHJ5ID0gZW50aXR5TWFwc1tcInNlcnZlclwiIC8qIEVudGl0eVR5cGVzLnNlcnZlciAqL10uZ2V0RWxlbWVudEJ5S2V5KHNlcnZlcklkKTtcbiAgICBpZiAoc2VydmVyRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIHNlcnZlciBkYXRhIGZvdW5kIGZvciBpZCAnICsgc2VydmVySWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0SWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3Quc3RhcnRfc29ja2V0X2lkLCAxMCk7XG4gICAgY29uc3QgbWF4UmVzdWx0cyA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5tYXhfcmVzdWx0cywgMTApIHx8IERFRkFVTFRfTUFYX1JFU1VMVFM7XG4gICAgY29uc3QgcmVzb2x2ZWRJbmZvID0gc2VydmVyRW50cnkuZ2V0SW5mbygpO1xuICAgIC8vIElmIHdlIHdhbnRlZCB0byBpbmNsdWRlIGxpc3RlbmVyIHNvY2tldHMgaW4gdGhlIHJlc3VsdCwgdGhpcyBsaW5lIHdvdWxkXG4gICAgLy8gaW5zdGVhZCBzYXlcbiAgICAvLyBjb25zdCBhbGxTb2NrZXRzID0gcmVzb2x2ZWRJbmZvLmxpc3RlbmVyQ2hpbGRyZW4uc29ja2V0cy5jb25jYXQocmVzb2x2ZWRJbmZvLnNlc3Npb25DaGlsZHJlbi5zb2NrZXRzKS5zb3J0KChyZWYxLCByZWYyKSA9PiByZWYxLmlkIC0gcmVmMi5pZCk7XG4gICAgY29uc3QgYWxsU29ja2V0cyA9IHJlc29sdmVkSW5mby5zZXNzaW9uQ2hpbGRyZW4uc29ja2V0cztcbiAgICBjb25zdCByZXN1bHRMaXN0ID0gW107XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gYWxsU29ja2V0cy5sb3dlckJvdW5kKHN0YXJ0SWQpOyAhaS5lcXVhbHMoYWxsU29ja2V0cy5lbmQoKSkgJiYgcmVzdWx0TGlzdC5sZW5ndGggPCBtYXhSZXN1bHRzOyBpID0gaS5uZXh0KCkpIHtcbiAgICAgICAgcmVzdWx0TGlzdC5wdXNoKHNvY2tldFJlZlRvTWVzc2FnZShpLnBvaW50ZXJbMV0ucmVmKSk7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgc29ja2V0X3JlZjogcmVzdWx0TGlzdCxcbiAgICAgICAgZW5kOiBpLmVxdWFscyhhbGxTb2NrZXRzLmVuZCgpKSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldENoYW5uZWx6SGFuZGxlcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgR2V0Q2hhbm5lbCxcbiAgICAgICAgR2V0VG9wQ2hhbm5lbHMsXG4gICAgICAgIEdldFNlcnZlcixcbiAgICAgICAgR2V0U2VydmVycyxcbiAgICAgICAgR2V0U3ViY2hhbm5lbCxcbiAgICAgICAgR2V0U29ja2V0LFxuICAgICAgICBHZXRTZXJ2ZXJTb2NrZXRzLFxuICAgIH07XG59XG5sZXQgbG9hZGVkQ2hhbm5lbHpEZWZpbml0aW9uID0gbnVsbDtcbmZ1bmN0aW9uIGdldENoYW5uZWx6U2VydmljZURlZmluaXRpb24oKSB7XG4gICAgaWYgKGxvYWRlZENoYW5uZWx6RGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm4gbG9hZGVkQ2hhbm5lbHpEZWZpbml0aW9uO1xuICAgIH1cbiAgICAvKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNvbXBsZXhpdHkgaXMgdG8gYXZvaWQgbG9hZGluZyBAZ3JwYy9wcm90by1sb2FkZXIgYXRcbiAgICAgKiBydW50aW1lIGZvciB1c2VycyB3aG8gd2lsbCBub3QgdXNlL2VuYWJsZSBjaGFubmVsei4gKi9cbiAgICBjb25zdCBsb2FkZXJMb2FkU3luYyA9IHJlcXVpcmUoJ0BncnBjL3Byb3RvLWxvYWRlcicpXG4gICAgICAgIC5sb2FkU3luYztcbiAgICBjb25zdCBsb2FkZWRQcm90byA9IGxvYWRlckxvYWRTeW5jKCdjaGFubmVsei5wcm90bycsIHtcbiAgICAgICAga2VlcENhc2U6IHRydWUsXG4gICAgICAgIGxvbmdzOiBTdHJpbmcsXG4gICAgICAgIGVudW1zOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHRzOiB0cnVlLFxuICAgICAgICBvbmVvZnM6IHRydWUsXG4gICAgICAgIGluY2x1ZGVEaXJzOiBbYCR7X19kaXJuYW1lfS8uLi8uLi9wcm90b2BdLFxuICAgIH0pO1xuICAgIGNvbnN0IGNoYW5uZWx6R3JwY09iamVjdCA9ICgwLCBtYWtlX2NsaWVudF8xLmxvYWRQYWNrYWdlRGVmaW5pdGlvbikobG9hZGVkUHJvdG8pO1xuICAgIGxvYWRlZENoYW5uZWx6RGVmaW5pdGlvbiA9XG4gICAgICAgIGNoYW5uZWx6R3JwY09iamVjdC5ncnBjLmNoYW5uZWx6LnYxLkNoYW5uZWx6LnNlcnZpY2U7XG4gICAgcmV0dXJuIGxvYWRlZENoYW5uZWx6RGVmaW5pdGlvbjtcbn1cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAgICgwLCBhZG1pbl8xLnJlZ2lzdGVyQWRtaW5TZXJ2aWNlKShnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uLCBnZXRDaGFubmVsekhhbmRsZXJzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5uZWx6LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.InterceptorConfigurationError = void 0;\nexports.getInterceptingCall = getInterceptingCall;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\");\n/**\n * Error class associated with passing both interceptors and interceptor\n * providers to a client constructor or as call options.\n */\nclass InterceptorConfigurationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'InterceptorConfigurationError';\n        Error.captureStackTrace(this, InterceptorConfigurationError);\n    }\n}\nexports.InterceptorConfigurationError = InterceptorConfigurationError;\nclass ListenerBuilder {\n    constructor() {\n        this.metadata = undefined;\n        this.message = undefined;\n        this.status = undefined;\n    }\n    withOnReceiveMetadata(onReceiveMetadata) {\n        this.metadata = onReceiveMetadata;\n        return this;\n    }\n    withOnReceiveMessage(onReceiveMessage) {\n        this.message = onReceiveMessage;\n        return this;\n    }\n    withOnReceiveStatus(onReceiveStatus) {\n        this.status = onReceiveStatus;\n        return this;\n    }\n    build() {\n        return {\n            onReceiveMetadata: this.metadata,\n            onReceiveMessage: this.message,\n            onReceiveStatus: this.status,\n        };\n    }\n}\nexports.ListenerBuilder = ListenerBuilder;\nclass RequesterBuilder {\n    constructor() {\n        this.start = undefined;\n        this.message = undefined;\n        this.halfClose = undefined;\n        this.cancel = undefined;\n    }\n    withStart(start) {\n        this.start = start;\n        return this;\n    }\n    withSendMessage(sendMessage) {\n        this.message = sendMessage;\n        return this;\n    }\n    withHalfClose(halfClose) {\n        this.halfClose = halfClose;\n        return this;\n    }\n    withCancel(cancel) {\n        this.cancel = cancel;\n        return this;\n    }\n    build() {\n        return {\n            start: this.start,\n            sendMessage: this.message,\n            halfClose: this.halfClose,\n            cancel: this.cancel,\n        };\n    }\n}\nexports.RequesterBuilder = RequesterBuilder;\n/**\n * A Listener with a default pass-through implementation of each method. Used\n * for filling out Listeners with some methods omitted.\n */\nconst defaultListener = {\n    onReceiveMetadata: (metadata, next) => {\n        next(metadata);\n    },\n    onReceiveMessage: (message, next) => {\n        next(message);\n    },\n    onReceiveStatus: (status, next) => {\n        next(status);\n    },\n};\n/**\n * A Requester with a default pass-through implementation of each method. Used\n * for filling out Requesters with some methods omitted.\n */\nconst defaultRequester = {\n    start: (metadata, listener, next) => {\n        next(metadata, listener);\n    },\n    sendMessage: (message, next) => {\n        next(message);\n    },\n    halfClose: next => {\n        next();\n    },\n    cancel: next => {\n        next();\n    },\n};\nclass InterceptingCall {\n    constructor(nextCall, requester) {\n        var _a, _b, _c, _d;\n        this.nextCall = nextCall;\n        /**\n         * Indicates that metadata has been passed to the requester's start\n         * method but it has not been passed to the corresponding next callback\n         */\n        this.processingMetadata = false;\n        /**\n         * Message context for a pending message that is waiting for\n         */\n        this.pendingMessageContext = null;\n        /**\n         * Indicates that a message has been passed to the requester's sendMessage\n         * method but it has not been passed to the corresponding next callback\n         */\n        this.processingMessage = false;\n        /**\n         * Indicates that a status was received but could not be propagated because\n         * a message was still being processed.\n         */\n        this.pendingHalfClose = false;\n        if (requester) {\n            this.requester = {\n                start: (_a = requester.start) !== null && _a !== void 0 ? _a : defaultRequester.start,\n                sendMessage: (_b = requester.sendMessage) !== null && _b !== void 0 ? _b : defaultRequester.sendMessage,\n                halfClose: (_c = requester.halfClose) !== null && _c !== void 0 ? _c : defaultRequester.halfClose,\n                cancel: (_d = requester.cancel) !== null && _d !== void 0 ? _d : defaultRequester.cancel,\n            };\n        }\n        else {\n            this.requester = defaultRequester;\n        }\n    }\n    cancelWithStatus(status, details) {\n        this.requester.cancel(() => {\n            this.nextCall.cancelWithStatus(status, details);\n        });\n    }\n    getPeer() {\n        return this.nextCall.getPeer();\n    }\n    processPendingMessage() {\n        if (this.pendingMessageContext) {\n            this.nextCall.sendMessageWithContext(this.pendingMessageContext, this.pendingMessage);\n            this.pendingMessageContext = null;\n            this.pendingMessage = null;\n        }\n    }\n    processPendingHalfClose() {\n        if (this.pendingHalfClose) {\n            this.nextCall.halfClose();\n        }\n    }\n    start(metadata, interceptingListener) {\n        var _a, _b, _c, _d, _e, _f;\n        const fullInterceptingListener = {\n            onReceiveMetadata: (_b = (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(interceptingListener)) !== null && _b !== void 0 ? _b : (metadata => { }),\n            onReceiveMessage: (_d = (_c = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _c === void 0 ? void 0 : _c.bind(interceptingListener)) !== null && _d !== void 0 ? _d : (message => { }),\n            onReceiveStatus: (_f = (_e = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _e === void 0 ? void 0 : _e.bind(interceptingListener)) !== null && _f !== void 0 ? _f : (status => { }),\n        };\n        this.processingMetadata = true;\n        this.requester.start(metadata, fullInterceptingListener, (md, listener) => {\n            var _a, _b, _c;\n            this.processingMetadata = false;\n            let finalInterceptingListener;\n            if ((0, call_interface_1.isInterceptingListener)(listener)) {\n                finalInterceptingListener = listener;\n            }\n            else {\n                const fullListener = {\n                    onReceiveMetadata: (_a = listener.onReceiveMetadata) !== null && _a !== void 0 ? _a : defaultListener.onReceiveMetadata,\n                    onReceiveMessage: (_b = listener.onReceiveMessage) !== null && _b !== void 0 ? _b : defaultListener.onReceiveMessage,\n                    onReceiveStatus: (_c = listener.onReceiveStatus) !== null && _c !== void 0 ? _c : defaultListener.onReceiveStatus,\n                };\n                finalInterceptingListener = new call_interface_1.InterceptingListenerImpl(fullListener, fullInterceptingListener);\n            }\n            this.nextCall.start(md, finalInterceptingListener);\n            this.processPendingMessage();\n            this.processPendingHalfClose();\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessageWithContext(context, message) {\n        this.processingMessage = true;\n        this.requester.sendMessage(message, finalMessage => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessageContext = context;\n                this.pendingMessage = message;\n            }\n            else {\n                this.nextCall.sendMessageWithContext(context, finalMessage);\n                this.processPendingHalfClose();\n            }\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessage(message) {\n        this.sendMessageWithContext({}, message);\n    }\n    startRead() {\n        this.nextCall.startRead();\n    }\n    halfClose() {\n        this.requester.halfClose(() => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingHalfClose = true;\n            }\n            else {\n                this.nextCall.halfClose();\n            }\n        });\n    }\n}\nexports.InterceptingCall = InterceptingCall;\nfunction getCall(channel, path, options) {\n    var _a, _b;\n    const deadline = (_a = options.deadline) !== null && _a !== void 0 ? _a : Infinity;\n    const host = options.host;\n    const parent = (_b = options.parent) !== null && _b !== void 0 ? _b : null;\n    const propagateFlags = options.propagate_flags;\n    const credentials = options.credentials;\n    const call = channel.createCall(path, deadline, host, parent, propagateFlags);\n    if (credentials) {\n        call.setCredentials(credentials);\n    }\n    return call;\n}\n/**\n * InterceptingCall implementation that directly owns the underlying Call\n * object and handles serialization and deseraizliation.\n */\nclass BaseInterceptingCall {\n    constructor(call, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    methodDefinition) {\n        this.call = call;\n        this.methodDefinition = methodDefinition;\n    }\n    cancelWithStatus(status, details) {\n        this.call.cancelWithStatus(status, details);\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessageWithContext(context, message) {\n        let serialized;\n        try {\n            serialized = this.methodDefinition.requestSerialize(message);\n        }\n        catch (e) {\n            this.call.cancelWithStatus(constants_1.Status.INTERNAL, `Request message serialization failure: ${(0, error_1.getErrorMessage)(e)}`);\n            return;\n        }\n        this.call.sendMessageWithContext(context, serialized);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessage(message) {\n        this.sendMessageWithContext({}, message);\n    }\n    start(metadata, interceptingListener) {\n        let readError = null;\n        this.call.start(metadata, {\n            onReceiveMetadata: metadata => {\n                var _a;\n                (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, metadata);\n            },\n            onReceiveMessage: message => {\n                var _a;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                let deserialized;\n                try {\n                    deserialized = this.methodDefinition.responseDeserialize(message);\n                }\n                catch (e) {\n                    readError = {\n                        code: constants_1.Status.INTERNAL,\n                        details: `Response message parsing error: ${(0, error_1.getErrorMessage)(e)}`,\n                        metadata: new metadata_1.Metadata(),\n                    };\n                    this.call.cancelWithStatus(readError.code, readError.details);\n                    return;\n                }\n                (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, deserialized);\n            },\n            onReceiveStatus: status => {\n                var _a, _b;\n                if (readError) {\n                    (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, readError);\n                }\n                else {\n                    (_b = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(interceptingListener, status);\n                }\n            },\n        });\n    }\n    startRead() {\n        this.call.startRead();\n    }\n    halfClose() {\n        this.call.halfClose();\n    }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with unary\n * responses.\n */\nclass BaseUnaryInterceptingCall extends BaseInterceptingCall {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    constructor(call, methodDefinition) {\n        super(call, methodDefinition);\n    }\n    start(metadata, listener) {\n        var _a, _b;\n        let receivedMessage = false;\n        const wrapperListener = {\n            onReceiveMetadata: (_b = (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(listener)) !== null && _b !== void 0 ? _b : (metadata => { }),\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage: (message) => {\n                var _a;\n                receivedMessage = true;\n                (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, message);\n            },\n            onReceiveStatus: (status) => {\n                var _a, _b;\n                if (!receivedMessage) {\n                    (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, null);\n                }\n                (_b = listener === null || listener === void 0 ? void 0 : listener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(listener, status);\n            },\n        };\n        super.start(metadata, wrapperListener);\n        this.call.startRead();\n    }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with streaming\n * responses.\n */\nclass BaseStreamingInterceptingCall extends BaseInterceptingCall {\n}\nfunction getBottomInterceptingCall(channel, options, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition) {\n    const call = getCall(channel, methodDefinition.path, options);\n    if (methodDefinition.responseStream) {\n        return new BaseStreamingInterceptingCall(call, methodDefinition);\n    }\n    else {\n        return new BaseUnaryInterceptingCall(call, methodDefinition);\n    }\n}\nfunction getInterceptingCall(interceptorArgs, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition, options, channel) {\n    if (interceptorArgs.clientInterceptors.length > 0 &&\n        interceptorArgs.clientInterceptorProviders.length > 0) {\n        throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as options ' +\n            'to the client constructor. Only one of these is allowed.');\n    }\n    if (interceptorArgs.callInterceptors.length > 0 &&\n        interceptorArgs.callInterceptorProviders.length > 0) {\n        throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as call ' +\n            'options. Only one of these is allowed.');\n    }\n    let interceptors = [];\n    // Interceptors passed to the call override interceptors passed to the client constructor\n    if (interceptorArgs.callInterceptors.length > 0 ||\n        interceptorArgs.callInterceptorProviders.length > 0) {\n        interceptors = []\n            .concat(interceptorArgs.callInterceptors, interceptorArgs.callInterceptorProviders.map(provider => provider(methodDefinition)))\n            .filter(interceptor => interceptor);\n        // Filter out falsy values when providers return nothing\n    }\n    else {\n        interceptors = []\n            .concat(interceptorArgs.clientInterceptors, interceptorArgs.clientInterceptorProviders.map(provider => provider(methodDefinition)))\n            .filter(interceptor => interceptor);\n        // Filter out falsy values when providers return nothing\n    }\n    const interceptorOptions = Object.assign({}, options, {\n        method_definition: methodDefinition,\n    });\n    /* For each interceptor in the list, the nextCall function passed to it is\n     * based on the next interceptor in the list, using a nextCall function\n     * constructed with the following interceptor in the list, and so on. The\n     * initialValue, which is effectively at the end of the list, is a nextCall\n     * function that invokes getBottomInterceptingCall, the result of which\n     * handles (de)serialization and also gets the underlying call from the\n     * channel. */\n    const getCall = interceptors.reduceRight((nextCall, nextInterceptor) => {\n        return currentOptions => nextInterceptor(currentOptions, nextCall);\n    }, (finalOptions) => getBottomInterceptingCall(channel, finalOptions, methodDefinition));\n    return getCall(interceptorOptions);\n}\n//# sourceMappingURL=client-interceptors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jbGllbnQtaW50ZXJjZXB0b3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcsd0JBQXdCLEdBQUcsdUJBQXVCLEdBQUcscUNBQXFDO0FBQ3JILDJCQUEyQjtBQUMzQixtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2Qyx5QkFBeUIsbUJBQU8sQ0FBQywySEFBa0I7QUFDbkQsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMseUdBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb1JBQW9SO0FBQ3BSLGlSQUFpUjtBQUNqUiw4UUFBOFE7QUFDOVE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhHQUE4RyxnQ0FBZ0M7QUFDOUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGdDQUFnQztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb09BQW9PO0FBQ3BPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NsaWVudC1pbnRlcmNlcHRvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuUmVxdWVzdGVyQnVpbGRlciA9IGV4cG9ydHMuTGlzdGVuZXJCdWlsZGVyID0gZXhwb3J0cy5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciA9IHZvaWQgMDtcbmV4cG9ydHMuZ2V0SW50ZXJjZXB0aW5nQ2FsbCA9IGdldEludGVyY2VwdGluZ0NhbGw7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBjYWxsX2ludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vY2FsbC1pbnRlcmZhY2VcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbi8qKlxuICogRXJyb3IgY2xhc3MgYXNzb2NpYXRlZCB3aXRoIHBhc3NpbmcgYm90aCBpbnRlcmNlcHRvcnMgYW5kIGludGVyY2VwdG9yXG4gKiBwcm92aWRlcnMgdG8gYSBjbGllbnQgY29uc3RydWN0b3Igb3IgYXMgY2FsbCBvcHRpb25zLlxuICovXG5jbGFzcyBJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3InO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcik7XG4gICAgfVxufVxuZXhwb3J0cy5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciA9IEludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yO1xuY2xhc3MgTGlzdGVuZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgd2l0aE9uUmVjZWl2ZU1ldGFkYXRhKG9uUmVjZWl2ZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvblJlY2VpdmVNZXRhZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVNZXNzYWdlKG9uUmVjZWl2ZU1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gb25SZWNlaXZlTWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVTdGF0dXMob25SZWNlaXZlU3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gb25SZWNlaXZlU3RhdHVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogdGhpcy5tZXRhZGF0YSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5MaXN0ZW5lckJ1aWxkZXIgPSBMaXN0ZW5lckJ1aWxkZXI7XG5jbGFzcyBSZXF1ZXN0ZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jYW5jZWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHdpdGhTdGFydChzdGFydCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2VuZE1lc3NhZ2Uoc2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gc2VuZE1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoSGFsZkNsb3NlKGhhbGZDbG9zZSkge1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IGhhbGZDbG9zZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhDYW5jZWwoY2FuY2VsKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogdGhpcy5zdGFydCxcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgICAgICBoYWxmQ2xvc2U6IHRoaXMuaGFsZkNsb3NlLFxuICAgICAgICAgICAgY2FuY2VsOiB0aGlzLmNhbmNlbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlJlcXVlc3RlckJ1aWxkZXIgPSBSZXF1ZXN0ZXJCdWlsZGVyO1xuLyoqXG4gKiBBIExpc3RlbmVyIHdpdGggYSBkZWZhdWx0IHBhc3MtdGhyb3VnaCBpbXBsZW1lbnRhdGlvbiBvZiBlYWNoIG1ldGhvZC4gVXNlZFxuICogZm9yIGZpbGxpbmcgb3V0IExpc3RlbmVycyB3aXRoIHNvbWUgbWV0aG9kcyBvbWl0dGVkLlxuICovXG5jb25zdCBkZWZhdWx0TGlzdGVuZXIgPSB7XG4gICAgb25SZWNlaXZlTWV0YWRhdGE6IChtZXRhZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1ldGFkYXRhKTtcbiAgICB9LFxuICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IChtZXNzYWdlLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBvblJlY2VpdmVTdGF0dXM6IChzdGF0dXMsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChzdGF0dXMpO1xuICAgIH0sXG59O1xuLyoqXG4gKiBBIFJlcXVlc3RlciB3aXRoIGEgZGVmYXVsdCBwYXNzLXRocm91Z2ggaW1wbGVtZW50YXRpb24gb2YgZWFjaCBtZXRob2QuIFVzZWRcbiAqIGZvciBmaWxsaW5nIG91dCBSZXF1ZXN0ZXJzIHdpdGggc29tZSBtZXRob2RzIG9taXR0ZWQuXG4gKi9cbmNvbnN0IGRlZmF1bHRSZXF1ZXN0ZXIgPSB7XG4gICAgc3RhcnQ6IChtZXRhZGF0YSwgbGlzdGVuZXIsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChtZXRhZGF0YSwgbGlzdGVuZXIpO1xuICAgIH0sXG4gICAgc2VuZE1lc3NhZ2U6IChtZXNzYWdlLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBoYWxmQ2xvc2U6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbiAgICBjYW5jZWw6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbn07XG5jbGFzcyBJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihuZXh0Q2FsbCwgcmVxdWVzdGVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdGhpcy5uZXh0Q2FsbCA9IG5leHRDYWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgbWV0YWRhdGEgaGFzIGJlZW4gcGFzc2VkIHRvIHRoZSByZXF1ZXN0ZXIncyBzdGFydFxuICAgICAgICAgKiBtZXRob2QgYnV0IGl0IGhhcyBub3QgYmVlbiBwYXNzZWQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgbmV4dCBjYWxsYmFja1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lc3NhZ2UgY29udGV4dCBmb3IgYSBwZW5kaW5nIG1lc3NhZ2UgdGhhdCBpcyB3YWl0aW5nIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgYSBtZXNzYWdlIGhhcyBiZWVuIHBhc3NlZCB0byB0aGUgcmVxdWVzdGVyJ3Mgc2VuZE1lc3NhZ2VcbiAgICAgICAgICogbWV0aG9kIGJ1dCBpdCBoYXMgbm90IGJlZW4gcGFzc2VkIHRvIHRoZSBjb3JyZXNwb25kaW5nIG5leHQgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IGEgc3RhdHVzIHdhcyByZWNlaXZlZCBidXQgY291bGQgbm90IGJlIHByb3BhZ2F0ZWQgYmVjYXVzZVxuICAgICAgICAgKiBhIG1lc3NhZ2Ugd2FzIHN0aWxsIGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICBpZiAocmVxdWVzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RlciA9IHtcbiAgICAgICAgICAgICAgICBzdGFydDogKF9hID0gcmVxdWVzdGVyLnN0YXJ0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0UmVxdWVzdGVyLnN0YXJ0LFxuICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlOiAoX2IgPSByZXF1ZXN0ZXIuc2VuZE1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRSZXF1ZXN0ZXIuc2VuZE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgaGFsZkNsb3NlOiAoX2MgPSByZXF1ZXN0ZXIuaGFsZkNsb3NlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0UmVxdWVzdGVyLmhhbGZDbG9zZSxcbiAgICAgICAgICAgICAgICBjYW5jZWw6IChfZCA9IHJlcXVlc3Rlci5jYW5jZWwpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRSZXF1ZXN0ZXIuY2FuY2VsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdGVyID0gZGVmYXVsdFJlcXVlc3RlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB0aGlzLnJlcXVlc3Rlci5jYW5jZWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQodGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdIYWxmQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGludGVyY2VwdGluZ0xpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBjb25zdCBmdWxsSW50ZXJjZXB0aW5nTGlzdGVuZXIgPSB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogKF9iID0gKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChpbnRlcmNlcHRpbmdMaXN0ZW5lcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChtZXRhZGF0YSA9PiB7IH0pLFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKF9kID0gKF9jID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5iaW5kKGludGVyY2VwdGluZ0xpc3RlbmVyKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogKG1lc3NhZ2UgPT4geyB9KSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogKF9mID0gKF9lID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmJpbmQoaW50ZXJjZXB0aW5nTGlzdGVuZXIpKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAoc3RhdHVzID0+IHsgfSksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZXIuc3RhcnQobWV0YWRhdGEsIGZ1bGxJbnRlcmNlcHRpbmdMaXN0ZW5lciwgKG1kLCBsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGZpbmFsSW50ZXJjZXB0aW5nTGlzdGVuZXI7XG4gICAgICAgICAgICBpZiAoKDAsIGNhbGxfaW50ZXJmYWNlXzEuaXNJbnRlcmNlcHRpbmdMaXN0ZW5lcikobGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnVsbExpc3RlbmVyID0ge1xuICAgICAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogKF9hID0gbGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRMaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKF9iID0gbGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogKF9jID0gbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IG5ldyBjYWxsX2ludGVyZmFjZV8xLkludGVyY2VwdGluZ0xpc3RlbmVySW1wbChmdWxsTGlzdGVuZXIsIGZ1bGxJbnRlcmNlcHRpbmdMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnN0YXJ0KG1kLCBmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdNZXNzYWdlKCk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nSGFsZkNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSwgZmluYWxNZXNzYWdlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dENhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBmaW5hbE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe30sIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMubmV4dENhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZXIuaGFsZkNsb3NlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSB8fCB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dENhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJjZXB0aW5nQ2FsbCA9IEludGVyY2VwdGluZ0NhbGw7XG5mdW5jdGlvbiBnZXRDYWxsKGNoYW5uZWwsIHBhdGgsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGRlYWRsaW5lID0gKF9hID0gb3B0aW9ucy5kZWFkbGluZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogSW5maW5pdHk7XG4gICAgY29uc3QgaG9zdCA9IG9wdGlvbnMuaG9zdDtcbiAgICBjb25zdCBwYXJlbnQgPSAoX2IgPSBvcHRpb25zLnBhcmVudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICBjb25zdCBwcm9wYWdhdGVGbGFncyA9IG9wdGlvbnMucHJvcGFnYXRlX2ZsYWdzO1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscztcbiAgICBjb25zdCBjYWxsID0gY2hhbm5lbC5jcmVhdGVDYWxsKHBhdGgsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnQsIHByb3BhZ2F0ZUZsYWdzKTtcbiAgICBpZiAoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgY2FsbC5zZXRDcmVkZW50aWFscyhjcmVkZW50aWFscyk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsO1xufVxuLyoqXG4gKiBJbnRlcmNlcHRpbmdDYWxsIGltcGxlbWVudGF0aW9uIHRoYXQgZGlyZWN0bHkgb3ducyB0aGUgdW5kZXJseWluZyBDYWxsXG4gKiBvYmplY3QgYW5kIGhhbmRsZXMgc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJhaXpsaWF0aW9uLlxuICovXG5jbGFzcyBCYXNlSW50ZXJjZXB0aW5nQ2FsbCB7XG4gICAgY29uc3RydWN0b3IoY2FsbCwgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBtZXRob2REZWZpbml0aW9uKSB7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0aG9kRGVmaW5pdGlvbiA9IG1ldGhvZERlZmluaXRpb247XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuY2FsbC5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICBsZXQgc2VyaWFsaXplZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSB0aGlzLm1ldGhvZERlZmluaXRpb24ucmVxdWVzdFNlcmlhbGl6ZShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLCBgUmVxdWVzdCBtZXNzYWdlIHNlcmlhbGl6YXRpb24gZmFpbHVyZTogJHsoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGUpfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIHNlcmlhbGl6ZWQpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KHt9LCBtZXNzYWdlKTtcbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGludGVyY2VwdGluZ0xpc3RlbmVyKSB7XG4gICAgICAgIGxldCByZWFkRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbGwuc3RhcnQobWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIChfYSA9IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRpbmdMaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaW50ZXJjZXB0aW5nTGlzdGVuZXIsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiBtZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBsZXQgZGVzZXJpYWxpemVkO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2VyaWFsaXplZCA9IHRoaXMubWV0aG9kRGVmaW5pdGlvbi5yZXNwb25zZURlc2VyaWFsaXplKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWFkRXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVzcG9uc2UgbWVzc2FnZSBwYXJzaW5nIGVycm9yOiAkeygwLCBlcnJvcl8xLmdldEVycm9yTWVzc2FnZSkoZSl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGwuY2FuY2VsV2l0aFN0YXR1cyhyZWFkRXJyb3IuY29kZSwgcmVhZEVycm9yLmRldGFpbHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYSA9IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRpbmdMaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChpbnRlcmNlcHRpbmdMaXN0ZW5lciwgZGVzZXJpYWxpemVkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBpZiAocmVhZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRpbmdMaXN0ZW5lci5vblJlY2VpdmVTdGF0dXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGludGVyY2VwdGluZ0xpc3RlbmVyLCByZWFkRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoaW50ZXJjZXB0aW5nTGlzdGVuZXIsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0UmVhZCgpIHtcbiAgICAgICAgdGhpcy5jYWxsLnN0YXJ0UmVhZCgpO1xuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMuY2FsbC5oYWxmQ2xvc2UoKTtcbiAgICB9XG59XG4vKipcbiAqIEJhc2VJbnRlcmNlcHRpbmdDYWxsIHdpdGggc3BlY2lhbC1jYXNlZCBiZWhhdmlvciBmb3IgbWV0aG9kcyB3aXRoIHVuYXJ5XG4gKiByZXNwb25zZXMuXG4gKi9cbmNsYXNzIEJhc2VVbmFyeUludGVyY2VwdGluZ0NhbGwgZXh0ZW5kcyBCYXNlSW50ZXJjZXB0aW5nQ2FsbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdHJ1Y3RvcihjYWxsLCBtZXRob2REZWZpbml0aW9uKSB7XG4gICAgICAgIHN1cGVyKGNhbGwsIG1ldGhvZERlZmluaXRpb24pO1xuICAgIH1cbiAgICBzdGFydChtZXRhZGF0YSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgbGV0IHJlY2VpdmVkTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCB3cmFwcGVyTGlzdGVuZXIgPSB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogKF9iID0gKF9hID0gbGlzdGVuZXIgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChsaXN0ZW5lcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChtZXRhZGF0YSA9PiB7IH0pLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkTWVzc2FnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgKF9hID0gbGlzdGVuZXIgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGxpc3RlbmVyLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGlmICghcmVjZWl2ZWRNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGxpc3RlbmVyID09PSBudWxsIHx8IGxpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChsaXN0ZW5lciwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYiA9IGxpc3RlbmVyID09PSBudWxsIHx8IGxpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaXN0ZW5lci5vblJlY2VpdmVTdGF0dXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGxpc3RlbmVyLCBzdGF0dXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgc3VwZXIuc3RhcnQobWV0YWRhdGEsIHdyYXBwZXJMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuY2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG59XG4vKipcbiAqIEJhc2VJbnRlcmNlcHRpbmdDYWxsIHdpdGggc3BlY2lhbC1jYXNlZCBiZWhhdmlvciBmb3IgbWV0aG9kcyB3aXRoIHN0cmVhbWluZ1xuICogcmVzcG9uc2VzLlxuICovXG5jbGFzcyBCYXNlU3RyZWFtaW5nSW50ZXJjZXB0aW5nQ2FsbCBleHRlbmRzIEJhc2VJbnRlcmNlcHRpbmdDYWxsIHtcbn1cbmZ1bmN0aW9uIGdldEJvdHRvbUludGVyY2VwdGluZ0NhbGwoY2hhbm5lbCwgb3B0aW9ucywgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxubWV0aG9kRGVmaW5pdGlvbikge1xuICAgIGNvbnN0IGNhbGwgPSBnZXRDYWxsKGNoYW5uZWwsIG1ldGhvZERlZmluaXRpb24ucGF0aCwgb3B0aW9ucyk7XG4gICAgaWYgKG1ldGhvZERlZmluaXRpb24ucmVzcG9uc2VTdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXNlU3RyZWFtaW5nSW50ZXJjZXB0aW5nQ2FsbChjYWxsLCBtZXRob2REZWZpbml0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQmFzZVVuYXJ5SW50ZXJjZXB0aW5nQ2FsbChjYWxsLCBtZXRob2REZWZpbml0aW9uKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRJbnRlcmNlcHRpbmdDYWxsKGludGVyY2VwdG9yQXJncywgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxubWV0aG9kRGVmaW5pdGlvbiwgb3B0aW9ucywgY2hhbm5lbCkge1xuICAgIGlmIChpbnRlcmNlcHRvckFyZ3MuY2xpZW50SW50ZXJjZXB0b3JzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgaW50ZXJjZXB0b3JBcmdzLmNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yKCdCb3RoIGludGVyY2VwdG9ycyBhbmQgaW50ZXJjZXB0b3JfcHJvdmlkZXJzIHdlcmUgcGFzc2VkIGFzIG9wdGlvbnMgJyArXG4gICAgICAgICAgICAndG8gdGhlIGNsaWVudCBjb25zdHJ1Y3Rvci4gT25seSBvbmUgb2YgdGhlc2UgaXMgYWxsb3dlZC4nKTtcbiAgICB9XG4gICAgaWYgKGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvclByb3ZpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcignQm90aCBpbnRlcmNlcHRvcnMgYW5kIGludGVyY2VwdG9yX3Byb3ZpZGVycyB3ZXJlIHBhc3NlZCBhcyBjYWxsICcgK1xuICAgICAgICAgICAgJ29wdGlvbnMuIE9ubHkgb25lIG9mIHRoZXNlIGlzIGFsbG93ZWQuJyk7XG4gICAgfVxuICAgIGxldCBpbnRlcmNlcHRvcnMgPSBbXTtcbiAgICAvLyBJbnRlcmNlcHRvcnMgcGFzc2VkIHRvIHRoZSBjYWxsIG92ZXJyaWRlIGludGVyY2VwdG9ycyBwYXNzZWQgdG8gdGhlIGNsaWVudCBjb25zdHJ1Y3RvclxuICAgIGlmIChpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9ycy5sZW5ndGggPiAwIHx8XG4gICAgICAgIGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JQcm92aWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBpbnRlcmNlcHRvcnMgPSBbXVxuICAgICAgICAgICAgLmNvbmNhdChpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9ycywgaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvclByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4gcHJvdmlkZXIobWV0aG9kRGVmaW5pdGlvbikpKVxuICAgICAgICAgICAgLmZpbHRlcihpbnRlcmNlcHRvciA9PiBpbnRlcmNlcHRvcik7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgZmFsc3kgdmFsdWVzIHdoZW4gcHJvdmlkZXJzIHJldHVybiBub3RoaW5nXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnRlcmNlcHRvcnMgPSBbXVxuICAgICAgICAgICAgLmNvbmNhdChpbnRlcmNlcHRvckFyZ3MuY2xpZW50SW50ZXJjZXB0b3JzLCBpbnRlcmNlcHRvckFyZ3MuY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnMubWFwKHByb3ZpZGVyID0+IHByb3ZpZGVyKG1ldGhvZERlZmluaXRpb24pKSlcbiAgICAgICAgICAgIC5maWx0ZXIoaW50ZXJjZXB0b3IgPT4gaW50ZXJjZXB0b3IpO1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IGZhbHN5IHZhbHVlcyB3aGVuIHByb3ZpZGVycyByZXR1cm4gbm90aGluZ1xuICAgIH1cbiAgICBjb25zdCBpbnRlcmNlcHRvck9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICAgIG1ldGhvZF9kZWZpbml0aW9uOiBtZXRob2REZWZpbml0aW9uLFxuICAgIH0pO1xuICAgIC8qIEZvciBlYWNoIGludGVyY2VwdG9yIGluIHRoZSBsaXN0LCB0aGUgbmV4dENhbGwgZnVuY3Rpb24gcGFzc2VkIHRvIGl0IGlzXG4gICAgICogYmFzZWQgb24gdGhlIG5leHQgaW50ZXJjZXB0b3IgaW4gdGhlIGxpc3QsIHVzaW5nIGEgbmV4dENhbGwgZnVuY3Rpb25cbiAgICAgKiBjb25zdHJ1Y3RlZCB3aXRoIHRoZSBmb2xsb3dpbmcgaW50ZXJjZXB0b3IgaW4gdGhlIGxpc3QsIGFuZCBzbyBvbi4gVGhlXG4gICAgICogaW5pdGlhbFZhbHVlLCB3aGljaCBpcyBlZmZlY3RpdmVseSBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0LCBpcyBhIG5leHRDYWxsXG4gICAgICogZnVuY3Rpb24gdGhhdCBpbnZva2VzIGdldEJvdHRvbUludGVyY2VwdGluZ0NhbGwsIHRoZSByZXN1bHQgb2Ygd2hpY2hcbiAgICAgKiBoYW5kbGVzIChkZSlzZXJpYWxpemF0aW9uIGFuZCBhbHNvIGdldHMgdGhlIHVuZGVybHlpbmcgY2FsbCBmcm9tIHRoZVxuICAgICAqIGNoYW5uZWwuICovXG4gICAgY29uc3QgZ2V0Q2FsbCA9IGludGVyY2VwdG9ycy5yZWR1Y2VSaWdodCgobmV4dENhbGwsIG5leHRJbnRlcmNlcHRvcikgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudE9wdGlvbnMgPT4gbmV4dEludGVyY2VwdG9yKGN1cnJlbnRPcHRpb25zLCBuZXh0Q2FsbCk7XG4gICAgfSwgKGZpbmFsT3B0aW9ucykgPT4gZ2V0Qm90dG9tSW50ZXJjZXB0aW5nQ2FsbChjaGFubmVsLCBmaW5hbE9wdGlvbnMsIG1ldGhvZERlZmluaXRpb24pKTtcbiAgICByZXR1cm4gZ2V0Q2FsbChpbnRlcmNlcHRvck9wdGlvbnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LWludGVyY2VwdG9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Client = void 0;\nconst call_1 = __webpack_require__(/*! ./call */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js\");\nconst channel_1 = __webpack_require__(/*! ./channel */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst client_interceptors_1 = __webpack_require__(/*! ./client-interceptors */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js\");\nconst CHANNEL_SYMBOL = Symbol();\nconst INTERCEPTOR_SYMBOL = Symbol();\nconst INTERCEPTOR_PROVIDER_SYMBOL = Symbol();\nconst CALL_INVOCATION_TRANSFORMER_SYMBOL = Symbol();\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\nfunction getErrorStackString(error) {\n    var _a;\n    return ((_a = error.stack) === null || _a === void 0 ? void 0 : _a.split('\\n').slice(1).join('\\n')) || 'no stack trace available';\n}\n/**\n * A generic gRPC client. Primarily useful as a base class for all generated\n * clients.\n */\nclass Client {\n    constructor(address, credentials, options = {}) {\n        var _a, _b;\n        options = Object.assign({}, options);\n        this[INTERCEPTOR_SYMBOL] = (_a = options.interceptors) !== null && _a !== void 0 ? _a : [];\n        delete options.interceptors;\n        this[INTERCEPTOR_PROVIDER_SYMBOL] = (_b = options.interceptor_providers) !== null && _b !== void 0 ? _b : [];\n        delete options.interceptor_providers;\n        if (this[INTERCEPTOR_SYMBOL].length > 0 &&\n            this[INTERCEPTOR_PROVIDER_SYMBOL].length > 0) {\n            throw new Error('Both interceptors and interceptor_providers were passed as options ' +\n                'to the client constructor. Only one of these is allowed.');\n        }\n        this[CALL_INVOCATION_TRANSFORMER_SYMBOL] =\n            options.callInvocationTransformer;\n        delete options.callInvocationTransformer;\n        if (options.channelOverride) {\n            this[CHANNEL_SYMBOL] = options.channelOverride;\n        }\n        else if (options.channelFactoryOverride) {\n            const channelFactoryOverride = options.channelFactoryOverride;\n            delete options.channelFactoryOverride;\n            this[CHANNEL_SYMBOL] = channelFactoryOverride(address, credentials, options);\n        }\n        else {\n            this[CHANNEL_SYMBOL] = new channel_1.ChannelImplementation(address, credentials, options);\n        }\n    }\n    close() {\n        this[CHANNEL_SYMBOL].close();\n    }\n    getChannel() {\n        return this[CHANNEL_SYMBOL];\n    }\n    waitForReady(deadline, callback) {\n        const checkState = (err) => {\n            if (err) {\n                callback(new Error('Failed to connect before the deadline'));\n                return;\n            }\n            let newState;\n            try {\n                newState = this[CHANNEL_SYMBOL].getConnectivityState(true);\n            }\n            catch (e) {\n                callback(new Error('The channel has been closed'));\n                return;\n            }\n            if (newState === connectivity_state_1.ConnectivityState.READY) {\n                callback();\n            }\n            else {\n                try {\n                    this[CHANNEL_SYMBOL].watchConnectivityState(newState, deadline, checkState);\n                }\n                catch (e) {\n                    callback(new Error('The channel has been closed'));\n                }\n            }\n        };\n        setImmediate(checkState);\n    }\n    checkOptionalUnaryResponseArguments(arg1, arg2, arg3) {\n        if (isFunction(arg1)) {\n            return { metadata: new metadata_1.Metadata(), options: {}, callback: arg1 };\n        }\n        else if (isFunction(arg2)) {\n            if (arg1 instanceof metadata_1.Metadata) {\n                return { metadata: arg1, options: {}, callback: arg2 };\n            }\n            else {\n                return { metadata: new metadata_1.Metadata(), options: arg1, callback: arg2 };\n            }\n        }\n        else {\n            if (!(arg1 instanceof metadata_1.Metadata &&\n                arg2 instanceof Object &&\n                isFunction(arg3))) {\n                throw new Error('Incorrect arguments passed');\n            }\n            return { metadata: arg1, options: arg2, callback: arg3 };\n        }\n    }\n    makeUnaryRequest(method, serialize, deserialize, argument, metadata, options, callback) {\n        var _a, _b;\n        const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n        const methodDefinition = {\n            path: method,\n            requestStream: false,\n            responseStream: false,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            argument: argument,\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientUnaryCallImpl(),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n            callback: checkedArguments.callback,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const emitter = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        emitter.call = call;\n        let responseMessage = null;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata: metadata => {\n                emitter.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                if (responseMessage !== null) {\n                    call.cancelWithStatus(constants_1.Status.UNIMPLEMENTED, 'Too many responses received');\n                }\n                responseMessage = message;\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                if (status.code === constants_1.Status.OK) {\n                    if (responseMessage === null) {\n                        const callerStack = getErrorStackString(callerStackError);\n                        callProperties.callback((0, call_1.callErrorFromStatus)({\n                            code: constants_1.Status.UNIMPLEMENTED,\n                            details: 'No message received',\n                            metadata: status.metadata,\n                        }, callerStack));\n                    }\n                    else {\n                        callProperties.callback(null, responseMessage);\n                    }\n                }\n                else {\n                    const callerStack = getErrorStackString(callerStackError);\n                    callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                emitter.emit('status', status);\n            },\n        });\n        call.sendMessage(argument);\n        call.halfClose();\n        return emitter;\n    }\n    makeClientStreamRequest(method, serialize, deserialize, metadata, options, callback) {\n        var _a, _b;\n        const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n        const methodDefinition = {\n            path: method,\n            requestStream: true,\n            responseStream: false,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientWritableStreamImpl(serialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n            callback: checkedArguments.callback,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const emitter = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        emitter.call = call;\n        let responseMessage = null;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata: metadata => {\n                emitter.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                if (responseMessage !== null) {\n                    call.cancelWithStatus(constants_1.Status.UNIMPLEMENTED, 'Too many responses received');\n                }\n                responseMessage = message;\n                call.startRead();\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                if (status.code === constants_1.Status.OK) {\n                    if (responseMessage === null) {\n                        const callerStack = getErrorStackString(callerStackError);\n                        callProperties.callback((0, call_1.callErrorFromStatus)({\n                            code: constants_1.Status.UNIMPLEMENTED,\n                            details: 'No message received',\n                            metadata: status.metadata,\n                        }, callerStack));\n                    }\n                    else {\n                        callProperties.callback(null, responseMessage);\n                    }\n                }\n                else {\n                    const callerStack = getErrorStackString(callerStackError);\n                    callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                emitter.emit('status', status);\n            },\n        });\n        return emitter;\n    }\n    checkMetadataAndOptions(arg1, arg2) {\n        let metadata;\n        let options;\n        if (arg1 instanceof metadata_1.Metadata) {\n            metadata = arg1;\n            if (arg2) {\n                options = arg2;\n            }\n            else {\n                options = {};\n            }\n        }\n        else {\n            if (arg1) {\n                options = arg1;\n            }\n            else {\n                options = {};\n            }\n            metadata = new metadata_1.Metadata();\n        }\n        return { metadata, options };\n    }\n    makeServerStreamRequest(method, serialize, deserialize, argument, metadata, options) {\n        var _a, _b;\n        const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n        const methodDefinition = {\n            path: method,\n            requestStream: false,\n            responseStream: true,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            argument: argument,\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientReadableStreamImpl(deserialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const stream = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        stream.call = call;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata(metadata) {\n                stream.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                stream.push(message);\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                stream.push(null);\n                if (status.code !== constants_1.Status.OK) {\n                    const callerStack = getErrorStackString(callerStackError);\n                    stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                stream.emit('status', status);\n            },\n        });\n        call.sendMessage(argument);\n        call.halfClose();\n        return stream;\n    }\n    makeBidiStreamRequest(method, serialize, deserialize, metadata, options) {\n        var _a, _b;\n        const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n        const methodDefinition = {\n            path: method,\n            requestStream: true,\n            responseStream: true,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientDuplexStreamImpl(serialize, deserialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const stream = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        stream.call = call;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata(metadata) {\n                stream.emit('metadata', metadata);\n            },\n            onReceiveMessage(message) {\n                stream.push(message);\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                stream.push(null);\n                if (status.code !== constants_1.Status.OK) {\n                    const callerStack = getErrorStackString(callerStackError);\n                    stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                stream.emit('status', status);\n            },\n        });\n        return stream;\n    }\n}\nexports.Client = Client;\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jbGllbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2QsZUFBZSxtQkFBTyxDQUFDLHVHQUFRO0FBQy9CLGtCQUFrQixtQkFBTyxDQUFDLDZHQUFXO0FBQ3JDLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2Qyw4QkFBOEIsbUJBQU8sQ0FBQyxxSUFBdUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdEQUFnRDtBQUNyRTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkJBQTJCO0FBQ3BEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNsaWVudCA9IHZvaWQgMDtcbmNvbnN0IGNhbGxfMSA9IHJlcXVpcmUoXCIuL2NhbGxcIik7XG5jb25zdCBjaGFubmVsXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGNsaWVudF9pbnRlcmNlcHRvcnNfMSA9IHJlcXVpcmUoXCIuL2NsaWVudC1pbnRlcmNlcHRvcnNcIik7XG5jb25zdCBDSEFOTkVMX1NZTUJPTCA9IFN5bWJvbCgpO1xuY29uc3QgSU5URVJDRVBUT1JfU1lNQk9MID0gU3ltYm9sKCk7XG5jb25zdCBJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0wgPSBTeW1ib2woKTtcbmNvbnN0IENBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0wgPSBTeW1ib2woKTtcbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBnZXRFcnJvclN0YWNrU3RyaW5nKGVycm9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gZXJyb3Iuc3RhY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnXFxuJykuc2xpY2UoMSkuam9pbignXFxuJykpIHx8ICdubyBzdGFjayB0cmFjZSBhdmFpbGFibGUnO1xufVxuLyoqXG4gKiBBIGdlbmVyaWMgZ1JQQyBjbGllbnQuIFByaW1hcmlseSB1c2VmdWwgYXMgYSBiYXNlIGNsYXNzIGZvciBhbGwgZ2VuZXJhdGVkXG4gKiBjbGllbnRzLlxuICovXG5jbGFzcyBDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGFkZHJlc3MsIGNyZWRlbnRpYWxzLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzW0lOVEVSQ0VQVE9SX1NZTUJPTF0gPSAoX2EgPSBvcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmludGVyY2VwdG9ycztcbiAgICAgICAgdGhpc1tJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0xdID0gKF9iID0gb3B0aW9ucy5pbnRlcmNlcHRvcl9wcm92aWRlcnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5pbnRlcmNlcHRvcl9wcm92aWRlcnM7XG4gICAgICAgIGlmICh0aGlzW0lOVEVSQ0VQVE9SX1NZTUJPTF0ubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgdGhpc1tJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0xdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBpbnRlcmNlcHRvcnMgYW5kIGludGVyY2VwdG9yX3Byb3ZpZGVycyB3ZXJlIHBhc3NlZCBhcyBvcHRpb25zICcgK1xuICAgICAgICAgICAgICAgICd0byB0aGUgY2xpZW50IGNvbnN0cnVjdG9yLiBPbmx5IG9uZSBvZiB0aGVzZSBpcyBhbGxvd2VkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0gPVxuICAgICAgICAgICAgb3B0aW9ucy5jYWxsSW52b2NhdGlvblRyYW5zZm9ybWVyO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5jYWxsSW52b2NhdGlvblRyYW5zZm9ybWVyO1xuICAgICAgICBpZiAob3B0aW9ucy5jaGFubmVsT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHRoaXNbQ0hBTk5FTF9TWU1CT0xdID0gb3B0aW9ucy5jaGFubmVsT3ZlcnJpZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5jaGFubmVsRmFjdG9yeU92ZXJyaWRlKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRmFjdG9yeU92ZXJyaWRlID0gb3B0aW9ucy5jaGFubmVsRmFjdG9yeU92ZXJyaWRlO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2hhbm5lbEZhY3RvcnlPdmVycmlkZTtcbiAgICAgICAgICAgIHRoaXNbQ0hBTk5FTF9TWU1CT0xdID0gY2hhbm5lbEZhY3RvcnlPdmVycmlkZShhZGRyZXNzLCBjcmVkZW50aWFscywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzW0NIQU5ORUxfU1lNQk9MXSA9IG5ldyBjaGFubmVsXzEuQ2hhbm5lbEltcGxlbWVudGF0aW9uKGFkZHJlc3MsIGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpc1tDSEFOTkVMX1NZTUJPTF0uY2xvc2UoKTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbQ0hBTk5FTF9TWU1CT0xdO1xuICAgIH1cbiAgICB3YWl0Rm9yUmVhZHkoZGVhZGxpbmUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrU3RhdGUgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCBiZWZvcmUgdGhlIGRlYWRsaW5lJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZXdTdGF0ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB0aGlzW0NIQU5ORUxfU1lNQk9MXS5nZXRDb25uZWN0aXZpdHlTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgY2hhbm5lbCBoYXMgYmVlbiBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1N0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW0NIQU5ORUxfU1lNQk9MXS53YXRjaENvbm5lY3Rpdml0eVN0YXRlKG5ld1N0YXRlLCBkZWFkbGluZSwgY2hlY2tTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignVGhlIGNoYW5uZWwgaGFzIGJlZW4gY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0SW1tZWRpYXRlKGNoZWNrU3RhdGUpO1xuICAgIH1cbiAgICBjaGVja09wdGlvbmFsVW5hcnlSZXNwb25zZUFyZ3VtZW50cyhhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGFyZzEpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSwgb3B0aW9uczoge30sIGNhbGxiYWNrOiBhcmcxIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihhcmcyKSkge1xuICAgICAgICAgICAgaWYgKGFyZzEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLk1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGE6IGFyZzEsIG9wdGlvbnM6IHt9LCBjYWxsYmFjazogYXJnMiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksIG9wdGlvbnM6IGFyZzEsIGNhbGxiYWNrOiBhcmcyIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIShhcmcxIGluc3RhbmNlb2YgbWV0YWRhdGFfMS5NZXRhZGF0YSAmJlxuICAgICAgICAgICAgICAgIGFyZzIgaW5zdGFuY2VvZiBPYmplY3QgJiZcbiAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGFyZzMpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IGFyZ3VtZW50cyBwYXNzZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IG1ldGFkYXRhOiBhcmcxLCBvcHRpb25zOiBhcmcyLCBjYWxsYmFjazogYXJnMyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIG1ha2VVbmFyeVJlcXVlc3QobWV0aG9kLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplLCBhcmd1bWVudCwgbWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGNoZWNrZWRBcmd1bWVudHMgPSB0aGlzLmNoZWNrT3B0aW9uYWxVbmFyeVJlc3BvbnNlQXJndW1lbnRzKG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgIGNvbnN0IG1ldGhvZERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICBwYXRoOiBtZXRob2QsXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcXVlc3RTZXJpYWxpemU6IHNlcmlhbGl6ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgY2FsbFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBhcmd1bWVudDogYXJndW1lbnQsXG4gICAgICAgICAgICBtZXRhZGF0YTogY2hlY2tlZEFyZ3VtZW50cy5tZXRhZGF0YSxcbiAgICAgICAgICAgIGNhbGw6IG5ldyBjYWxsXzEuQ2xpZW50VW5hcnlDYWxsSW1wbCgpLFxuICAgICAgICAgICAgY2hhbm5lbDogdGhpc1tDSEFOTkVMX1NZTUJPTF0sXG4gICAgICAgICAgICBtZXRob2REZWZpbml0aW9uOiBtZXRob2REZWZpbml0aW9uLFxuICAgICAgICAgICAgY2FsbE9wdGlvbnM6IGNoZWNrZWRBcmd1bWVudHMub3B0aW9ucyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjaGVja2VkQXJndW1lbnRzLmNhbGxiYWNrLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXSkge1xuICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMgPSB0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKGNhbGxQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbWl0dGVyID0gY2FsbFByb3BlcnRpZXMuY2FsbDtcbiAgICAgICAgY29uc3QgaW50ZXJjZXB0b3JBcmdzID0ge1xuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JzOiB0aGlzW0lOVEVSQ0VQVE9SX1NZTUJPTF0sXG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvclByb3ZpZGVyczogdGhpc1tJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yczogKF9hID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvclByb3ZpZGVyczogKF9iID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JfcHJvdmlkZXJzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2FsbCA9ICgwLCBjbGllbnRfaW50ZXJjZXB0b3JzXzEuZ2V0SW50ZXJjZXB0aW5nQ2FsbCkoaW50ZXJjZXB0b3JBcmdzLCBjYWxsUHJvcGVydGllcy5tZXRob2REZWZpbml0aW9uLCBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucywgY2FsbFByb3BlcnRpZXMuY2hhbm5lbCk7XG4gICAgICAgIC8qIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB0aGUgZW1pdHRlciBpcyB1c2VkLiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0XG4gICAgICAgICAqIGVuZm9yY2UgdGhpcyB3aXRoIHRoZSB0eXBlIHN5c3RlbS4gV2UgbmVlZCB0byBjb25zdHJ1Y3QgdGhpcyBlbWl0dGVyXG4gICAgICAgICAqIGJlZm9yZSBjYWxsaW5nIHRoZSBDYWxsSW52b2NhdGlvblRyYW5zZm9ybWVyLCBhbmQgd2UgbmVlZCB0byBjcmVhdGUgdGhlXG4gICAgICAgICAqIGNhbGwgYWZ0ZXIgdGhhdC4gKi9cbiAgICAgICAgZW1pdHRlci5jYWxsID0gY2FsbDtcbiAgICAgICAgbGV0IHJlc3BvbnNlTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIGxldCByZWNlaXZlZFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICBsZXQgY2FsbGVyU3RhY2tFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBjYWxsLnN0YXJ0KGNhbGxQcm9wZXJ0aWVzLm1ldGFkYXRhLCB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnbWV0YWRhdGEnLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZU1lc3NhZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELCAnVG9vIG1hbnkgcmVzcG9uc2VzIHJlY2VpdmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY2VpdmVkU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjaygoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnTm8gbWVzc2FnZSByZWNlaXZlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHN0YXR1cy5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjayhudWxsLCByZXNwb25zZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKCgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoc3RhdHVzLCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBBdm9pZCByZXRhaW5pbmcgdGhlIGNhbGxlclN0YWNrRXJyb3Igb2JqZWN0IGluIHRoZSBjYWxsIGNvbnRleHQgb2ZcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3RhdHVzIGV2ZW50IGhhbmRsZXIuICovXG4gICAgICAgICAgICAgICAgY2FsbGVyU3RhY2tFcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdzdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGwuc2VuZE1lc3NhZ2UoYXJndW1lbnQpO1xuICAgICAgICBjYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICByZXR1cm4gZW1pdHRlcjtcbiAgICB9XG4gICAgbWFrZUNsaWVudFN0cmVhbVJlcXVlc3QobWV0aG9kLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplLCBtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hlY2tlZEFyZ3VtZW50cyA9IHRoaXMuY2hlY2tPcHRpb25hbFVuYXJ5UmVzcG9uc2VBcmd1bWVudHMobWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgY29uc3QgbWV0aG9kRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIHBhdGg6IG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW06IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICByZXF1ZXN0U2VyaWFsaXplOiBzZXJpYWxpemUsXG4gICAgICAgICAgICByZXNwb25zZURlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNhbGxQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgbWV0YWRhdGE6IGNoZWNrZWRBcmd1bWVudHMubWV0YWRhdGEsXG4gICAgICAgICAgICBjYWxsOiBuZXcgY2FsbF8xLkNsaWVudFdyaXRhYmxlU3RyZWFtSW1wbChzZXJpYWxpemUpLFxuICAgICAgICAgICAgY2hhbm5lbDogdGhpc1tDSEFOTkVMX1NZTUJPTF0sXG4gICAgICAgICAgICBtZXRob2REZWZpbml0aW9uOiBtZXRob2REZWZpbml0aW9uLFxuICAgICAgICAgICAgY2FsbE9wdGlvbnM6IGNoZWNrZWRBcmd1bWVudHMub3B0aW9ucyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjaGVja2VkQXJndW1lbnRzLmNhbGxiYWNrLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXSkge1xuICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMgPSB0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKGNhbGxQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbWl0dGVyID0gY2FsbFByb3BlcnRpZXMuY2FsbDtcbiAgICAgICAgY29uc3QgaW50ZXJjZXB0b3JBcmdzID0ge1xuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JzOiB0aGlzW0lOVEVSQ0VQVE9SX1NZTUJPTF0sXG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvclByb3ZpZGVyczogdGhpc1tJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yczogKF9hID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvclByb3ZpZGVyczogKF9iID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JfcHJvdmlkZXJzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2FsbCA9ICgwLCBjbGllbnRfaW50ZXJjZXB0b3JzXzEuZ2V0SW50ZXJjZXB0aW5nQ2FsbCkoaW50ZXJjZXB0b3JBcmdzLCBjYWxsUHJvcGVydGllcy5tZXRob2REZWZpbml0aW9uLCBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucywgY2FsbFByb3BlcnRpZXMuY2hhbm5lbCk7XG4gICAgICAgIC8qIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB0aGUgZW1pdHRlciBpcyB1c2VkLiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0XG4gICAgICAgICAqIGVuZm9yY2UgdGhpcyB3aXRoIHRoZSB0eXBlIHN5c3RlbS4gV2UgbmVlZCB0byBjb25zdHJ1Y3QgdGhpcyBlbWl0dGVyXG4gICAgICAgICAqIGJlZm9yZSBjYWxsaW5nIHRoZSBDYWxsSW52b2NhdGlvblRyYW5zZm9ybWVyLCBhbmQgd2UgbmVlZCB0byBjcmVhdGUgdGhlXG4gICAgICAgICAqIGNhbGwgYWZ0ZXIgdGhhdC4gKi9cbiAgICAgICAgZW1pdHRlci5jYWxsID0gY2FsbDtcbiAgICAgICAgbGV0IHJlc3BvbnNlTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIGxldCByZWNlaXZlZFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICBsZXQgY2FsbGVyU3RhY2tFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBjYWxsLnN0YXJ0KGNhbGxQcm9wZXJ0aWVzLm1ldGFkYXRhLCB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnbWV0YWRhdGEnLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZU1lc3NhZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELCAnVG9vIG1hbnkgcmVzcG9uc2VzIHJlY2VpdmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgY2FsbC5zdGFydFJlYWQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKCgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdObyBtZXNzYWdlIHJlY2VpdmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogc3RhdHVzLm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2FsbGVyU3RhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKG51bGwsIHJlc3BvbnNlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMuY2FsbGJhY2soKDAsIGNhbGxfMS5jYWxsRXJyb3JGcm9tU3RhdHVzKShzdGF0dXMsIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEF2b2lkIHJldGFpbmluZyB0aGUgY2FsbGVyU3RhY2tFcnJvciBvYmplY3QgaW4gdGhlIGNhbGwgY29udGV4dCBvZlxuICAgICAgICAgICAgICAgICAqIHRoZSBzdGF0dXMgZXZlbnQgaGFuZGxlci4gKi9cbiAgICAgICAgICAgICAgICBjYWxsZXJTdGFja0Vycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ3N0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVtaXR0ZXI7XG4gICAgfVxuICAgIGNoZWNrTWV0YWRhdGFBbmRPcHRpb25zKGFyZzEsIGFyZzIpIHtcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKGFyZzEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLk1ldGFkYXRhKSB7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IGFyZzE7XG4gICAgICAgICAgICBpZiAoYXJnMikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhcmcyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFyZzEpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJnMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGFkYXRhID0gbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBtZXRhZGF0YSwgb3B0aW9ucyB9O1xuICAgIH1cbiAgICBtYWtlU2VydmVyU3RyZWFtUmVxdWVzdChtZXRob2QsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIGFyZ3VtZW50LCBtZXRhZGF0YSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjaGVja2VkQXJndW1lbnRzID0gdGhpcy5jaGVja01ldGFkYXRhQW5kT3B0aW9ucyhtZXRhZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG1ldGhvZERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICBwYXRoOiBtZXRob2QsXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgcmVxdWVzdFNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcmVzcG9uc2VEZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYWxsUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIGFyZ3VtZW50OiBhcmd1bWVudCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjaGVja2VkQXJndW1lbnRzLm1ldGFkYXRhLFxuICAgICAgICAgICAgY2FsbDogbmV3IGNhbGxfMS5DbGllbnRSZWFkYWJsZVN0cmVhbUltcGwoZGVzZXJpYWxpemUpLFxuICAgICAgICAgICAgY2hhbm5lbDogdGhpc1tDSEFOTkVMX1NZTUJPTF0sXG4gICAgICAgICAgICBtZXRob2REZWZpbml0aW9uOiBtZXRob2REZWZpbml0aW9uLFxuICAgICAgICAgICAgY2FsbE9wdGlvbnM6IGNoZWNrZWRBcmd1bWVudHMub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0pIHtcbiAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzID0gdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXShjYWxsUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gY2FsbFByb3BlcnRpZXMuY2FsbDtcbiAgICAgICAgY29uc3QgaW50ZXJjZXB0b3JBcmdzID0ge1xuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JzOiB0aGlzW0lOVEVSQ0VQVE9SX1NZTUJPTF0sXG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvclByb3ZpZGVyczogdGhpc1tJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yczogKF9hID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvclByb3ZpZGVyczogKF9iID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JfcHJvdmlkZXJzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2FsbCA9ICgwLCBjbGllbnRfaW50ZXJjZXB0b3JzXzEuZ2V0SW50ZXJjZXB0aW5nQ2FsbCkoaW50ZXJjZXB0b3JBcmdzLCBjYWxsUHJvcGVydGllcy5tZXRob2REZWZpbml0aW9uLCBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucywgY2FsbFByb3BlcnRpZXMuY2hhbm5lbCk7XG4gICAgICAgIC8qIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB0aGUgZW1pdHRlciBpcyB1c2VkLiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0XG4gICAgICAgICAqIGVuZm9yY2UgdGhpcyB3aXRoIHRoZSB0eXBlIHN5c3RlbS4gV2UgbmVlZCB0byBjb25zdHJ1Y3QgdGhpcyBlbWl0dGVyXG4gICAgICAgICAqIGJlZm9yZSBjYWxsaW5nIHRoZSBDYWxsSW52b2NhdGlvblRyYW5zZm9ybWVyLCBhbmQgd2UgbmVlZCB0byBjcmVhdGUgdGhlXG4gICAgICAgICAqIGNhbGwgYWZ0ZXIgdGhhdC4gKi9cbiAgICAgICAgc3RyZWFtLmNhbGwgPSBjYWxsO1xuICAgICAgICBsZXQgcmVjZWl2ZWRTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNhbGxlclN0YWNrRXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgY2FsbC5zdGFydChjYWxsUHJvcGVydGllcy5tZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnbWV0YWRhdGEnLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZWRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNlaXZlZFN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5jb2RlICE9PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGVyU3RhY2sgPSBnZXRFcnJvclN0YWNrU3RyaW5nKGNhbGxlclN0YWNrRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCAoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHN0YXR1cywgY2FsbGVyU3RhY2spKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQXZvaWQgcmV0YWluaW5nIHRoZSBjYWxsZXJTdGFja0Vycm9yIG9iamVjdCBpbiB0aGUgY2FsbCBjb250ZXh0IG9mXG4gICAgICAgICAgICAgICAgICogdGhlIHN0YXR1cyBldmVudCBoYW5kbGVyLiAqL1xuICAgICAgICAgICAgICAgIGNhbGxlclN0YWNrRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdzdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGwuc2VuZE1lc3NhZ2UoYXJndW1lbnQpO1xuICAgICAgICBjYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cbiAgICBtYWtlQmlkaVN0cmVhbVJlcXVlc3QobWV0aG9kLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplLCBtZXRhZGF0YSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjaGVja2VkQXJndW1lbnRzID0gdGhpcy5jaGVja01ldGFkYXRhQW5kT3B0aW9ucyhtZXRhZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG1ldGhvZERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICBwYXRoOiBtZXRob2QsXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2VTdHJlYW06IHRydWUsXG4gICAgICAgICAgICByZXF1ZXN0U2VyaWFsaXplOiBzZXJpYWxpemUsXG4gICAgICAgICAgICByZXNwb25zZURlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNhbGxQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgbWV0YWRhdGE6IGNoZWNrZWRBcmd1bWVudHMubWV0YWRhdGEsXG4gICAgICAgICAgICBjYWxsOiBuZXcgY2FsbF8xLkNsaWVudER1cGxleFN0cmVhbUltcGwoc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSksXG4gICAgICAgICAgICBjaGFubmVsOiB0aGlzW0NIQU5ORUxfU1lNQk9MXSxcbiAgICAgICAgICAgIG1ldGhvZERlZmluaXRpb246IG1ldGhvZERlZmluaXRpb24sXG4gICAgICAgICAgICBjYWxsT3B0aW9uczogY2hlY2tlZEFyZ3VtZW50cy5vcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXSkge1xuICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMgPSB0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKGNhbGxQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHJlYW0gPSBjYWxsUHJvcGVydGllcy5jYWxsO1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRvckFyZ3MgPSB7XG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvcnM6IHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXSxcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzOiB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JzOiAoX2EgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzOiAoX2IgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcl9wcm92aWRlcnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsID0gKDAsIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5nZXRJbnRlcmNlcHRpbmdDYWxsKShpbnRlcmNlcHRvckFyZ3MsIGNhbGxQcm9wZXJ0aWVzLm1ldGhvZERlZmluaXRpb24sIGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLCBjYWxsUHJvcGVydGllcy5jaGFubmVsKTtcbiAgICAgICAgLyogVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHRoZSBlbWl0dGVyIGlzIHVzZWQuIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3RcbiAgICAgICAgICogZW5mb3JjZSB0aGlzIHdpdGggdGhlIHR5cGUgc3lzdGVtLiBXZSBuZWVkIHRvIGNvbnN0cnVjdCB0aGlzIGVtaXR0ZXJcbiAgICAgICAgICogYmVmb3JlIGNhbGxpbmcgdGhlIENhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXIsIGFuZCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgICogY2FsbCBhZnRlciB0aGF0LiAqL1xuICAgICAgICBzdHJlYW0uY2FsbCA9IGNhbGw7XG4gICAgICAgIGxldCByZWNlaXZlZFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICBsZXQgY2FsbGVyU3RhY2tFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBjYWxsLnN0YXJ0KGNhbGxQcm9wZXJ0aWVzLm1ldGFkYXRhLCB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdtZXRhZGF0YScsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgKDAsIGNhbGxfMS5jYWxsRXJyb3JGcm9tU3RhdHVzKShzdGF0dXMsIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEF2b2lkIHJldGFpbmluZyB0aGUgY2FsbGVyU3RhY2tFcnJvciBvYmplY3QgaW4gdGhlIGNhbGwgY29udGV4dCBvZlxuICAgICAgICAgICAgICAgICAqIHRoZSBzdGF0dXMgZXZlbnQgaGFuZGxlci4gKi9cbiAgICAgICAgICAgICAgICBjYWxsZXJTdGFja0Vycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50ID0gQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CompressionAlgorithms = void 0;\nvar CompressionAlgorithms;\n(function (CompressionAlgorithms) {\n    CompressionAlgorithms[CompressionAlgorithms[\"identity\"] = 0] = \"identity\";\n    CompressionAlgorithms[CompressionAlgorithms[\"deflate\"] = 1] = \"deflate\";\n    CompressionAlgorithms[CompressionAlgorithms[\"gzip\"] = 2] = \"gzip\";\n})(CompressionAlgorithms || (exports.CompressionAlgorithms = CompressionAlgorithms = {}));\n//# sourceMappingURL=compression-algorithms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb21wcmVzc2lvbi1hbGdvcml0aG1zLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0Qiw2QkFBNkIsNkJBQTZCO0FBQ3ZGIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tYWxnb3JpdGhtcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21wcmVzc2lvbkFsZ29yaXRobXMgPSB2b2lkIDA7XG52YXIgQ29tcHJlc3Npb25BbGdvcml0aG1zO1xuKGZ1bmN0aW9uIChDb21wcmVzc2lvbkFsZ29yaXRobXMpIHtcbiAgICBDb21wcmVzc2lvbkFsZ29yaXRobXNbQ29tcHJlc3Npb25BbGdvcml0aG1zW1wiaWRlbnRpdHlcIl0gPSAwXSA9IFwiaWRlbnRpdHlcIjtcbiAgICBDb21wcmVzc2lvbkFsZ29yaXRobXNbQ29tcHJlc3Npb25BbGdvcml0aG1zW1wiZGVmbGF0ZVwiXSA9IDFdID0gXCJkZWZsYXRlXCI7XG4gICAgQ29tcHJlc3Npb25BbGdvcml0aG1zW0NvbXByZXNzaW9uQWxnb3JpdGhtc1tcImd6aXBcIl0gPSAyXSA9IFwiZ3ppcFwiO1xufSkoQ29tcHJlc3Npb25BbGdvcml0aG1zIHx8IChleHBvcnRzLkNvbXByZXNzaW9uQWxnb3JpdGhtcyA9IENvbXByZXNzaW9uQWxnb3JpdGhtcyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wcmVzc2lvbi1hbGdvcml0aG1zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CompressionFilterFactory = exports.CompressionFilter = void 0;\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\nconst compression_algorithms_1 = __webpack_require__(/*! ./compression-algorithms */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst filter_1 = __webpack_require__(/*! ./filter */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst isCompressionAlgorithmKey = (key) => {\n    return (typeof key === 'number' && typeof compression_algorithms_1.CompressionAlgorithms[key] === 'string');\n};\nclass CompressionHandler {\n    /**\n     * @param message Raw uncompressed message bytes\n     * @param compress Indicates whether the message should be compressed\n     * @return Framed message, compressed if applicable\n     */\n    async writeMessage(message, compress) {\n        let messageBuffer = message;\n        if (compress) {\n            messageBuffer = await this.compressMessage(messageBuffer);\n        }\n        const output = Buffer.allocUnsafe(messageBuffer.length + 5);\n        output.writeUInt8(compress ? 1 : 0, 0);\n        output.writeUInt32BE(messageBuffer.length, 1);\n        messageBuffer.copy(output, 5);\n        return output;\n    }\n    /**\n     * @param data Framed message, possibly compressed\n     * @return Uncompressed message\n     */\n    async readMessage(data) {\n        const compressed = data.readUInt8(0) === 1;\n        let messageBuffer = data.slice(5);\n        if (compressed) {\n            messageBuffer = await this.decompressMessage(messageBuffer);\n        }\n        return messageBuffer;\n    }\n}\nclass IdentityHandler extends CompressionHandler {\n    async compressMessage(message) {\n        return message;\n    }\n    async writeMessage(message, compress) {\n        const output = Buffer.allocUnsafe(message.length + 5);\n        /* With \"identity\" compression, messages should always be marked as\n         * uncompressed */\n        output.writeUInt8(0, 0);\n        output.writeUInt32BE(message.length, 1);\n        message.copy(output, 5);\n        return output;\n    }\n    decompressMessage(message) {\n        return Promise.reject(new Error('Received compressed message but \"grpc-encoding\" header was identity'));\n    }\n}\nclass DeflateHandler extends CompressionHandler {\n    constructor(maxRecvMessageLength) {\n        super();\n        this.maxRecvMessageLength = maxRecvMessageLength;\n    }\n    compressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.deflate(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n    decompressMessage(message) {\n        return new Promise((resolve, reject) => {\n            let totalLength = 0;\n            const messageParts = [];\n            const decompresser = zlib.createInflate();\n            decompresser.on('data', (chunk) => {\n                messageParts.push(chunk);\n                totalLength += chunk.byteLength;\n                if (this.maxRecvMessageLength !== -1 && totalLength > this.maxRecvMessageLength) {\n                    decompresser.destroy();\n                    reject({\n                        code: constants_1.Status.RESOURCE_EXHAUSTED,\n                        details: `Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`\n                    });\n                }\n            });\n            decompresser.on('end', () => {\n                resolve(Buffer.concat(messageParts));\n            });\n            decompresser.write(message);\n            decompresser.end();\n        });\n    }\n}\nclass GzipHandler extends CompressionHandler {\n    constructor(maxRecvMessageLength) {\n        super();\n        this.maxRecvMessageLength = maxRecvMessageLength;\n    }\n    compressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.gzip(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n    decompressMessage(message) {\n        return new Promise((resolve, reject) => {\n            let totalLength = 0;\n            const messageParts = [];\n            const decompresser = zlib.createGunzip();\n            decompresser.on('data', (chunk) => {\n                messageParts.push(chunk);\n                totalLength += chunk.byteLength;\n                if (this.maxRecvMessageLength !== -1 && totalLength > this.maxRecvMessageLength) {\n                    decompresser.destroy();\n                    reject({\n                        code: constants_1.Status.RESOURCE_EXHAUSTED,\n                        details: `Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`\n                    });\n                }\n            });\n            decompresser.on('end', () => {\n                resolve(Buffer.concat(messageParts));\n            });\n            decompresser.write(message);\n            decompresser.end();\n        });\n    }\n}\nclass UnknownHandler extends CompressionHandler {\n    constructor(compressionName) {\n        super();\n        this.compressionName = compressionName;\n    }\n    compressMessage(message) {\n        return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`));\n    }\n    decompressMessage(message) {\n        // This should be unreachable\n        return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`));\n    }\n}\nfunction getCompressionHandler(compressionName, maxReceiveMessageSize) {\n    switch (compressionName) {\n        case 'identity':\n            return new IdentityHandler();\n        case 'deflate':\n            return new DeflateHandler(maxReceiveMessageSize);\n        case 'gzip':\n            return new GzipHandler(maxReceiveMessageSize);\n        default:\n            return new UnknownHandler(compressionName);\n    }\n}\nclass CompressionFilter extends filter_1.BaseFilter {\n    constructor(channelOptions, sharedFilterConfig) {\n        var _a, _b, _c;\n        super();\n        this.sharedFilterConfig = sharedFilterConfig;\n        this.sendCompression = new IdentityHandler();\n        this.receiveCompression = new IdentityHandler();\n        this.currentCompressionAlgorithm = 'identity';\n        const compressionAlgorithmKey = channelOptions['grpc.default_compression_algorithm'];\n        this.maxReceiveMessageLength = (_a = channelOptions['grpc.max_receive_message_length']) !== null && _a !== void 0 ? _a : constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        this.maxSendMessageLength = (_b = channelOptions['grpc.max_send_message_length']) !== null && _b !== void 0 ? _b : constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n        if (compressionAlgorithmKey !== undefined) {\n            if (isCompressionAlgorithmKey(compressionAlgorithmKey)) {\n                const clientSelectedEncoding = compression_algorithms_1.CompressionAlgorithms[compressionAlgorithmKey];\n                const serverSupportedEncodings = (_c = sharedFilterConfig.serverSupportedEncodingHeader) === null || _c === void 0 ? void 0 : _c.split(',');\n                /**\n                 * There are two possible situations here:\n                 * 1) We don't have any info yet from the server about what compression it supports\n                 *    In that case we should just use what the client tells us to use\n                 * 2) We've previously received a response from the server including a grpc-accept-encoding header\n                 *    In that case we only want to use the encoding chosen by the client if the server supports it\n                 */\n                if (!serverSupportedEncodings ||\n                    serverSupportedEncodings.includes(clientSelectedEncoding)) {\n                    this.currentCompressionAlgorithm = clientSelectedEncoding;\n                    this.sendCompression = getCompressionHandler(this.currentCompressionAlgorithm, -1);\n                }\n            }\n            else {\n                logging.log(constants_1.LogVerbosity.ERROR, `Invalid value provided for grpc.default_compression_algorithm option: ${compressionAlgorithmKey}`);\n            }\n        }\n    }\n    async sendMetadata(metadata) {\n        const headers = await metadata;\n        headers.set('grpc-accept-encoding', 'identity,deflate,gzip');\n        headers.set('accept-encoding', 'identity');\n        // No need to send the header if it's \"identity\" -  behavior is identical; save the bandwidth\n        if (this.currentCompressionAlgorithm === 'identity') {\n            headers.remove('grpc-encoding');\n        }\n        else {\n            headers.set('grpc-encoding', this.currentCompressionAlgorithm);\n        }\n        return headers;\n    }\n    receiveMetadata(metadata) {\n        const receiveEncoding = metadata.get('grpc-encoding');\n        if (receiveEncoding.length > 0) {\n            const encoding = receiveEncoding[0];\n            if (typeof encoding === 'string') {\n                this.receiveCompression = getCompressionHandler(encoding, this.maxReceiveMessageLength);\n            }\n        }\n        metadata.remove('grpc-encoding');\n        /* Check to see if the compression we're using to send messages is supported by the server\n         * If not, reset the sendCompression filter and have it use the default IdentityHandler */\n        const serverSupportedEncodingsHeader = metadata.get('grpc-accept-encoding')[0];\n        if (serverSupportedEncodingsHeader) {\n            this.sharedFilterConfig.serverSupportedEncodingHeader =\n                serverSupportedEncodingsHeader;\n            const serverSupportedEncodings = serverSupportedEncodingsHeader.split(',');\n            if (!serverSupportedEncodings.includes(this.currentCompressionAlgorithm)) {\n                this.sendCompression = new IdentityHandler();\n                this.currentCompressionAlgorithm = 'identity';\n            }\n        }\n        metadata.remove('grpc-accept-encoding');\n        return metadata;\n    }\n    async sendMessage(message) {\n        var _a;\n        /* This filter is special. The input message is the bare message bytes,\n         * and the output is a framed and possibly compressed message. For this\n         * reason, this filter should be at the bottom of the filter stack */\n        const resolvedMessage = await message;\n        if (this.maxSendMessageLength !== -1 && resolvedMessage.message.length > this.maxSendMessageLength) {\n            throw {\n                code: constants_1.Status.RESOURCE_EXHAUSTED,\n                details: `Attempted to send message with a size larger than ${this.maxSendMessageLength}`\n            };\n        }\n        let compress;\n        if (this.sendCompression instanceof IdentityHandler) {\n            compress = false;\n        }\n        else {\n            compress = (((_a = resolvedMessage.flags) !== null && _a !== void 0 ? _a : 0) & 2 /* WriteFlags.NoCompress */) === 0;\n        }\n        return {\n            message: await this.sendCompression.writeMessage(resolvedMessage.message, compress),\n            flags: resolvedMessage.flags,\n        };\n    }\n    async receiveMessage(message) {\n        /* This filter is also special. The input message is framed and possibly\n         * compressed, and the output message is deframed and uncompressed. So\n         * this is another reason that this filter should be at the bottom of the\n         * filter stack. */\n        return this.receiveCompression.readMessage(await message);\n    }\n}\nexports.CompressionFilter = CompressionFilter;\nclass CompressionFilterFactory {\n    constructor(channel, options) {\n        this.options = options;\n        this.sharedFilterConfig = {};\n    }\n    createFilter() {\n        return new CompressionFilter(this.options, this.sharedFilterConfig);\n    }\n}\nexports.CompressionFilterFactory = CompressionFilterFactory;\n//# sourceMappingURL=compression-filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb21wcmVzc2lvbi1maWx0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0MsR0FBRyx5QkFBeUI7QUFDNUQsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLGlDQUFpQyxtQkFBTyxDQUFDLDJJQUEwQjtBQUNuRSxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QyxpQkFBaUIsbUJBQU8sQ0FBQywyR0FBVTtBQUNuQyxnQkFBZ0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsMEJBQTBCO0FBQ3ZILHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLDBCQUEwQjtBQUN2SCxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcscUJBQXFCO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxxQkFBcUI7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSUFBcUksd0JBQXdCO0FBQzdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsMEJBQTBCO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NvbXByZXNzaW9uLWZpbHRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21wcmVzc2lvbkZpbHRlckZhY3RvcnkgPSBleHBvcnRzLkNvbXByZXNzaW9uRmlsdGVyID0gdm9pZCAwO1xuY29uc3QgemxpYiA9IHJlcXVpcmUoXCJ6bGliXCIpO1xuY29uc3QgY29tcHJlc3Npb25fYWxnb3JpdGhtc18xID0gcmVxdWlyZShcIi4vY29tcHJlc3Npb24tYWxnb3JpdGhtc1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGlzQ29tcHJlc3Npb25BbGdvcml0aG1LZXkgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuICh0eXBlb2Yga2V5ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29tcHJlc3Npb25fYWxnb3JpdGhtc18xLkNvbXByZXNzaW9uQWxnb3JpdGhtc1trZXldID09PSAnc3RyaW5nJyk7XG59O1xuY2xhc3MgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBSYXcgdW5jb21wcmVzc2VkIG1lc3NhZ2UgYnl0ZXNcbiAgICAgKiBAcGFyYW0gY29tcHJlc3MgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIG1lc3NhZ2Ugc2hvdWxkIGJlIGNvbXByZXNzZWRcbiAgICAgKiBAcmV0dXJuIEZyYW1lZCBtZXNzYWdlLCBjb21wcmVzc2VkIGlmIGFwcGxpY2FibGVcbiAgICAgKi9cbiAgICBhc3luYyB3cml0ZU1lc3NhZ2UobWVzc2FnZSwgY29tcHJlc3MpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2VCdWZmZXIgPSBtZXNzYWdlO1xuICAgICAgICBpZiAoY29tcHJlc3MpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VCdWZmZXIgPSBhd2FpdCB0aGlzLmNvbXByZXNzTWVzc2FnZShtZXNzYWdlQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRwdXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobWVzc2FnZUJ1ZmZlci5sZW5ndGggKyA1KTtcbiAgICAgICAgb3V0cHV0LndyaXRlVUludDgoY29tcHJlc3MgPyAxIDogMCwgMCk7XG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQzMkJFKG1lc3NhZ2VCdWZmZXIubGVuZ3RoLCAxKTtcbiAgICAgICAgbWVzc2FnZUJ1ZmZlci5jb3B5KG91dHB1dCwgNSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIEZyYW1lZCBtZXNzYWdlLCBwb3NzaWJseSBjb21wcmVzc2VkXG4gICAgICogQHJldHVybiBVbmNvbXByZXNzZWQgbWVzc2FnZVxuICAgICAqL1xuICAgIGFzeW5jIHJlYWRNZXNzYWdlKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY29tcHJlc3NlZCA9IGRhdGEucmVhZFVJbnQ4KDApID09PSAxO1xuICAgICAgICBsZXQgbWVzc2FnZUJ1ZmZlciA9IGRhdGEuc2xpY2UoNSk7XG4gICAgICAgIGlmIChjb21wcmVzc2VkKSB7XG4gICAgICAgICAgICBtZXNzYWdlQnVmZmVyID0gYXdhaXQgdGhpcy5kZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZUJ1ZmZlcjtcbiAgICB9XG59XG5jbGFzcyBJZGVudGl0eUhhbmRsZXIgZXh0ZW5kcyBDb21wcmVzc2lvbkhhbmRsZXIge1xuICAgIGFzeW5jIGNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBhc3luYyB3cml0ZU1lc3NhZ2UobWVzc2FnZSwgY29tcHJlc3MpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG1lc3NhZ2UubGVuZ3RoICsgNSk7XG4gICAgICAgIC8qIFdpdGggXCJpZGVudGl0eVwiIGNvbXByZXNzaW9uLCBtZXNzYWdlcyBzaG91bGQgYWx3YXlzIGJlIG1hcmtlZCBhc1xuICAgICAgICAgKiB1bmNvbXByZXNzZWQgKi9cbiAgICAgICAgb3V0cHV0LndyaXRlVUludDgoMCwgMCk7XG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQzMkJFKG1lc3NhZ2UubGVuZ3RoLCAxKTtcbiAgICAgICAgbWVzc2FnZS5jb3B5KG91dHB1dCwgNSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGRlY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignUmVjZWl2ZWQgY29tcHJlc3NlZCBtZXNzYWdlIGJ1dCBcImdycGMtZW5jb2RpbmdcIiBoZWFkZXIgd2FzIGlkZW50aXR5JykpO1xuICAgIH1cbn1cbmNsYXNzIERlZmxhdGVIYW5kbGVyIGV4dGVuZHMgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihtYXhSZWN2TWVzc2FnZUxlbmd0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RoID0gbWF4UmVjdk1lc3NhZ2VMZW5ndGg7XG4gICAgfVxuICAgIGNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB6bGliLmRlZmxhdGUobWVzc2FnZSwgKGVyciwgb3V0cHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCB0b3RhbExlbmd0aCA9IDA7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlUGFydHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGRlY29tcHJlc3NlciA9IHpsaWIuY3JlYXRlSW5mbGF0ZSgpO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVBhcnRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgIHRvdGFsTGVuZ3RoICs9IGNodW5rLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGggIT09IC0xICYmIHRvdGFsTGVuZ3RoID4gdGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBtZXNzYWdlIHRoYXQgZGVjb21wcmVzc2VzIHRvIGEgc2l6ZSBsYXJnZXIgdGhhbiAke3RoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGh9YFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoQnVmZmVyLmNvbmNhdChtZXNzYWdlUGFydHMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLndyaXRlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBHemlwSGFuZGxlciBleHRlbmRzIENvbXByZXNzaW9uSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IobWF4UmVjdk1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aCA9IG1heFJlY3ZNZXNzYWdlTGVuZ3RoO1xuICAgIH1cbiAgICBjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgemxpYi5nemlwKG1lc3NhZ2UsIChlcnIsIG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZVBhcnRzID0gW107XG4gICAgICAgICAgICBjb25zdCBkZWNvbXByZXNzZXIgPSB6bGliLmNyZWF0ZUd1bnppcCgpO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVBhcnRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgIHRvdGFsTGVuZ3RoICs9IGNodW5rLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGggIT09IC0xICYmIHRvdGFsTGVuZ3RoID4gdGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBtZXNzYWdlIHRoYXQgZGVjb21wcmVzc2VzIHRvIGEgc2l6ZSBsYXJnZXIgdGhhbiAke3RoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGh9YFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoQnVmZmVyLmNvbmNhdChtZXNzYWdlUGFydHMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLndyaXRlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBVbmtub3duSGFuZGxlciBleHRlbmRzIENvbXByZXNzaW9uSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoY29tcHJlc3Npb25OYW1lKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29tcHJlc3Npb25OYW1lID0gY29tcHJlc3Npb25OYW1lO1xuICAgIH1cbiAgICBjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBSZWNlaXZlZCBtZXNzYWdlIGNvbXByZXNzZWQgd2l0aCB1bnN1cHBvcnRlZCBjb21wcmVzc2lvbiBtZXRob2QgJHt0aGlzLmNvbXByZXNzaW9uTmFtZX1gKSk7XG4gICAgfVxuICAgIGRlY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgdW5yZWFjaGFibGVcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ29tcHJlc3Npb24gbWV0aG9kIG5vdCBzdXBwb3J0ZWQ6ICR7dGhpcy5jb21wcmVzc2lvbk5hbWV9YCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENvbXByZXNzaW9uSGFuZGxlcihjb21wcmVzc2lvbk5hbWUsIG1heFJlY2VpdmVNZXNzYWdlU2l6ZSkge1xuICAgIHN3aXRjaCAoY29tcHJlc3Npb25OYW1lKSB7XG4gICAgICAgIGNhc2UgJ2lkZW50aXR5JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSWRlbnRpdHlIYW5kbGVyKCk7XG4gICAgICAgIGNhc2UgJ2RlZmxhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWZsYXRlSGFuZGxlcihtYXhSZWNlaXZlTWVzc2FnZVNpemUpO1xuICAgICAgICBjYXNlICdnemlwJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgR3ppcEhhbmRsZXIobWF4UmVjZWl2ZU1lc3NhZ2VTaXplKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5rbm93bkhhbmRsZXIoY29tcHJlc3Npb25OYW1lKTtcbiAgICB9XG59XG5jbGFzcyBDb21wcmVzc2lvbkZpbHRlciBleHRlbmRzIGZpbHRlcl8xLkJhc2VGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxPcHRpb25zLCBzaGFyZWRGaWx0ZXJDb25maWcpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2hhcmVkRmlsdGVyQ29uZmlnID0gc2hhcmVkRmlsdGVyQ29uZmlnO1xuICAgICAgICB0aGlzLnNlbmRDb21wcmVzc2lvbiA9IG5ldyBJZGVudGl0eUhhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlQ29tcHJlc3Npb24gPSBuZXcgSWRlbnRpdHlIYW5kbGVyKCk7XG4gICAgICAgIHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtID0gJ2lkZW50aXR5JztcbiAgICAgICAgY29uc3QgY29tcHJlc3Npb25BbGdvcml0aG1LZXkgPSBjaGFubmVsT3B0aW9uc1snZ3JwYy5kZWZhdWx0X2NvbXByZXNzaW9uX2FsZ29yaXRobSddO1xuICAgICAgICB0aGlzLm1heFJlY2VpdmVNZXNzYWdlTGVuZ3RoID0gKF9hID0gY2hhbm5lbE9wdGlvbnNbJ2dycGMubWF4X3JlY2VpdmVfbWVzc2FnZV9sZW5ndGgnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29uc3RhbnRzXzEuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSDtcbiAgICAgICAgdGhpcy5tYXhTZW5kTWVzc2FnZUxlbmd0aCA9IChfYiA9IGNoYW5uZWxPcHRpb25zWydncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJ10pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvbnN0YW50c18xLkRFRkFVTFRfTUFYX1NFTkRfTUVTU0FHRV9MRU5HVEg7XG4gICAgICAgIGlmIChjb21wcmVzc2lvbkFsZ29yaXRobUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoaXNDb21wcmVzc2lvbkFsZ29yaXRobUtleShjb21wcmVzc2lvbkFsZ29yaXRobUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRTZWxlY3RlZEVuY29kaW5nID0gY29tcHJlc3Npb25fYWxnb3JpdGhtc18xLkNvbXByZXNzaW9uQWxnb3JpdGhtc1tjb21wcmVzc2lvbkFsZ29yaXRobUtleV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzID0gKF9jID0gc2hhcmVkRmlsdGVyQ29uZmlnLnNlcnZlclN1cHBvcnRlZEVuY29kaW5nSGVhZGVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGVyZSBhcmUgdHdvIHBvc3NpYmxlIHNpdHVhdGlvbnMgaGVyZTpcbiAgICAgICAgICAgICAgICAgKiAxKSBXZSBkb24ndCBoYXZlIGFueSBpbmZvIHlldCBmcm9tIHRoZSBzZXJ2ZXIgYWJvdXQgd2hhdCBjb21wcmVzc2lvbiBpdCBzdXBwb3J0c1xuICAgICAgICAgICAgICAgICAqICAgIEluIHRoYXQgY2FzZSB3ZSBzaG91bGQganVzdCB1c2Ugd2hhdCB0aGUgY2xpZW50IHRlbGxzIHVzIHRvIHVzZVxuICAgICAgICAgICAgICAgICAqIDIpIFdlJ3ZlIHByZXZpb3VzbHkgcmVjZWl2ZWQgYSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIgaW5jbHVkaW5nIGEgZ3JwYy1hY2NlcHQtZW5jb2RpbmcgaGVhZGVyXG4gICAgICAgICAgICAgICAgICogICAgSW4gdGhhdCBjYXNlIHdlIG9ubHkgd2FudCB0byB1c2UgdGhlIGVuY29kaW5nIGNob3NlbiBieSB0aGUgY2xpZW50IGlmIHRoZSBzZXJ2ZXIgc3VwcG9ydHMgaXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXNlcnZlclN1cHBvcnRlZEVuY29kaW5ncyB8fFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MuaW5jbHVkZXMoY2xpZW50U2VsZWN0ZWRFbmNvZGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0gPSBjbGllbnRTZWxlY3RlZEVuY29kaW5nO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRDb21wcmVzc2lvbiA9IGdldENvbXByZXNzaW9uSGFuZGxlcih0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSwgLTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgYEludmFsaWQgdmFsdWUgcHJvdmlkZWQgZm9yIGdycGMuZGVmYXVsdF9jb21wcmVzc2lvbl9hbGdvcml0aG0gb3B0aW9uOiAke2NvbXByZXNzaW9uQWxnb3JpdGhtS2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgbWV0YWRhdGE7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdncnBjLWFjY2VwdC1lbmNvZGluZycsICdpZGVudGl0eSxkZWZsYXRlLGd6aXAnKTtcbiAgICAgICAgaGVhZGVycy5zZXQoJ2FjY2VwdC1lbmNvZGluZycsICdpZGVudGl0eScpO1xuICAgICAgICAvLyBObyBuZWVkIHRvIHNlbmQgdGhlIGhlYWRlciBpZiBpdCdzIFwiaWRlbnRpdHlcIiAtICBiZWhhdmlvciBpcyBpZGVudGljYWw7IHNhdmUgdGhlIGJhbmR3aWR0aFxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0gPT09ICdpZGVudGl0eScpIHtcbiAgICAgICAgICAgIGhlYWRlcnMucmVtb3ZlKCdncnBjLWVuY29kaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnZ3JwYy1lbmNvZGluZycsIHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG4gICAgcmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGNvbnN0IHJlY2VpdmVFbmNvZGluZyA9IG1ldGFkYXRhLmdldCgnZ3JwYy1lbmNvZGluZycpO1xuICAgICAgICBpZiAocmVjZWl2ZUVuY29kaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kaW5nID0gcmVjZWl2ZUVuY29kaW5nWzBdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVDb21wcmVzc2lvbiA9IGdldENvbXByZXNzaW9uSGFuZGxlcihlbmNvZGluZywgdGhpcy5tYXhSZWNlaXZlTWVzc2FnZUxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKCdncnBjLWVuY29kaW5nJyk7XG4gICAgICAgIC8qIENoZWNrIHRvIHNlZSBpZiB0aGUgY29tcHJlc3Npb24gd2UncmUgdXNpbmcgdG8gc2VuZCBtZXNzYWdlcyBpcyBzdXBwb3J0ZWQgYnkgdGhlIHNlcnZlclxuICAgICAgICAgKiBJZiBub3QsIHJlc2V0IHRoZSBzZW5kQ29tcHJlc3Npb24gZmlsdGVyIGFuZCBoYXZlIGl0IHVzZSB0aGUgZGVmYXVsdCBJZGVudGl0eUhhbmRsZXIgKi9cbiAgICAgICAgY29uc3Qgc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzSGVhZGVyID0gbWV0YWRhdGEuZ2V0KCdncnBjLWFjY2VwdC1lbmNvZGluZycpWzBdO1xuICAgICAgICBpZiAoc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzSGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlZEZpbHRlckNvbmZpZy5zZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ0hlYWRlciA9XG4gICAgICAgICAgICAgICAgc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzSGVhZGVyO1xuICAgICAgICAgICAgY29uc3Qgc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzID0gc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzSGVhZGVyLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICBpZiAoIXNlcnZlclN1cHBvcnRlZEVuY29kaW5ncy5pbmNsdWRlcyh0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRDb21wcmVzc2lvbiA9IG5ldyBJZGVudGl0eUhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSA9ICdpZGVudGl0eSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKCdncnBjLWFjY2VwdC1lbmNvZGluZycpO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvKiBUaGlzIGZpbHRlciBpcyBzcGVjaWFsLiBUaGUgaW5wdXQgbWVzc2FnZSBpcyB0aGUgYmFyZSBtZXNzYWdlIGJ5dGVzLFxuICAgICAgICAgKiBhbmQgdGhlIG91dHB1dCBpcyBhIGZyYW1lZCBhbmQgcG9zc2libHkgY29tcHJlc3NlZCBtZXNzYWdlLiBGb3IgdGhpc1xuICAgICAgICAgKiByZWFzb24sIHRoaXMgZmlsdGVyIHNob3VsZCBiZSBhdCB0aGUgYm90dG9tIG9mIHRoZSBmaWx0ZXIgc3RhY2sgKi9cbiAgICAgICAgY29uc3QgcmVzb2x2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZTtcbiAgICAgICAgaWYgKHRoaXMubWF4U2VuZE1lc3NhZ2VMZW5ndGggIT09IC0xICYmIHJlc29sdmVkTWVzc2FnZS5tZXNzYWdlLmxlbmd0aCA+IHRoaXMubWF4U2VuZE1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVELFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBBdHRlbXB0ZWQgdG8gc2VuZCBtZXNzYWdlIHdpdGggYSBzaXplIGxhcmdlciB0aGFuICR7dGhpcy5tYXhTZW5kTWVzc2FnZUxlbmd0aH1gXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb21wcmVzcztcbiAgICAgICAgaWYgKHRoaXMuc2VuZENvbXByZXNzaW9uIGluc3RhbmNlb2YgSWRlbnRpdHlIYW5kbGVyKSB7XG4gICAgICAgICAgICBjb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcHJlc3MgPSAoKChfYSA9IHJlc29sdmVkTWVzc2FnZS5mbGFncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgJiAyIC8qIFdyaXRlRmxhZ3MuTm9Db21wcmVzcyAqLykgPT09IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGF3YWl0IHRoaXMuc2VuZENvbXByZXNzaW9uLndyaXRlTWVzc2FnZShyZXNvbHZlZE1lc3NhZ2UubWVzc2FnZSwgY29tcHJlc3MpLFxuICAgICAgICAgICAgZmxhZ3M6IHJlc29sdmVkTWVzc2FnZS5mbGFncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgcmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAvKiBUaGlzIGZpbHRlciBpcyBhbHNvIHNwZWNpYWwuIFRoZSBpbnB1dCBtZXNzYWdlIGlzIGZyYW1lZCBhbmQgcG9zc2libHlcbiAgICAgICAgICogY29tcHJlc3NlZCwgYW5kIHRoZSBvdXRwdXQgbWVzc2FnZSBpcyBkZWZyYW1lZCBhbmQgdW5jb21wcmVzc2VkLiBTb1xuICAgICAgICAgKiB0aGlzIGlzIGFub3RoZXIgcmVhc29uIHRoYXQgdGhpcyBmaWx0ZXIgc2hvdWxkIGJlIGF0IHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAgICAqIGZpbHRlciBzdGFjay4gKi9cbiAgICAgICAgcmV0dXJuIHRoaXMucmVjZWl2ZUNvbXByZXNzaW9uLnJlYWRNZXNzYWdlKGF3YWl0IG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29tcHJlc3Npb25GaWx0ZXIgPSBDb21wcmVzc2lvbkZpbHRlcjtcbmNsYXNzIENvbXByZXNzaW9uRmlsdGVyRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnNoYXJlZEZpbHRlckNvbmZpZyA9IHt9O1xuICAgIH1cbiAgICBjcmVhdGVGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcHJlc3Npb25GaWx0ZXIodGhpcy5vcHRpb25zLCB0aGlzLnNoYXJlZEZpbHRlckNvbmZpZyk7XG4gICAgfVxufVxuZXhwb3J0cy5Db21wcmVzc2lvbkZpbHRlckZhY3RvcnkgPSBDb21wcmVzc2lvbkZpbHRlckZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wcmVzc2lvbi1maWx0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ConnectivityState = void 0;\nvar ConnectivityState;\n(function (ConnectivityState) {\n    ConnectivityState[ConnectivityState[\"IDLE\"] = 0] = \"IDLE\";\n    ConnectivityState[ConnectivityState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectivityState[ConnectivityState[\"READY\"] = 2] = \"READY\";\n    ConnectivityState[ConnectivityState[\"TRANSIENT_FAILURE\"] = 3] = \"TRANSIENT_FAILURE\";\n    ConnectivityState[ConnectivityState[\"SHUTDOWN\"] = 4] = \"SHUTDOWN\";\n})(ConnectivityState || (exports.ConnectivityState = ConnectivityState = {}));\n//# sourceMappingURL=connectivity-state.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb25uZWN0aXZpdHktc3RhdGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3Qix5QkFBeUIseUJBQXlCO0FBQzNFIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29ubmVjdGl2aXR5LXN0YXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbm5lY3Rpdml0eVN0YXRlID0gdm9pZCAwO1xudmFyIENvbm5lY3Rpdml0eVN0YXRlO1xuKGZ1bmN0aW9uIChDb25uZWN0aXZpdHlTdGF0ZSkge1xuICAgIENvbm5lY3Rpdml0eVN0YXRlW0Nvbm5lY3Rpdml0eVN0YXRlW1wiSURMRVwiXSA9IDBdID0gXCJJRExFXCI7XG4gICAgQ29ubmVjdGl2aXR5U3RhdGVbQ29ubmVjdGl2aXR5U3RhdGVbXCJDT05ORUNUSU5HXCJdID0gMV0gPSBcIkNPTk5FQ1RJTkdcIjtcbiAgICBDb25uZWN0aXZpdHlTdGF0ZVtDb25uZWN0aXZpdHlTdGF0ZVtcIlJFQURZXCJdID0gMl0gPSBcIlJFQURZXCI7XG4gICAgQ29ubmVjdGl2aXR5U3RhdGVbQ29ubmVjdGl2aXR5U3RhdGVbXCJUUkFOU0lFTlRfRkFJTFVSRVwiXSA9IDNdID0gXCJUUkFOU0lFTlRfRkFJTFVSRVwiO1xuICAgIENvbm5lY3Rpdml0eVN0YXRlW0Nvbm5lY3Rpdml0eVN0YXRlW1wiU0hVVERPV05cIl0gPSA0XSA9IFwiU0hVVERPV05cIjtcbn0pKENvbm5lY3Rpdml0eVN0YXRlIHx8IChleHBvcnRzLkNvbm5lY3Rpdml0eVN0YXRlID0gQ29ubmVjdGl2aXR5U3RhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ubmVjdGl2aXR5LXN0YXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = exports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = exports.Propagate = exports.LogVerbosity = exports.Status = void 0;\nvar Status;\n(function (Status) {\n    Status[Status[\"OK\"] = 0] = \"OK\";\n    Status[Status[\"CANCELLED\"] = 1] = \"CANCELLED\";\n    Status[Status[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n    Status[Status[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n    Status[Status[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n    Status[Status[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n    Status[Status[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n    Status[Status[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n    Status[Status[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n    Status[Status[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n    Status[Status[\"ABORTED\"] = 10] = \"ABORTED\";\n    Status[Status[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n    Status[Status[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n    Status[Status[\"INTERNAL\"] = 13] = \"INTERNAL\";\n    Status[Status[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n    Status[Status[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n    Status[Status[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n})(Status || (exports.Status = Status = {}));\nvar LogVerbosity;\n(function (LogVerbosity) {\n    LogVerbosity[LogVerbosity[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogVerbosity[LogVerbosity[\"INFO\"] = 1] = \"INFO\";\n    LogVerbosity[LogVerbosity[\"ERROR\"] = 2] = \"ERROR\";\n    LogVerbosity[LogVerbosity[\"NONE\"] = 3] = \"NONE\";\n})(LogVerbosity || (exports.LogVerbosity = LogVerbosity = {}));\n/**\n * NOTE: This enum is not currently used in any implemented API in this\n * library. It is included only for type parity with the other implementation.\n */\nvar Propagate;\n(function (Propagate) {\n    Propagate[Propagate[\"DEADLINE\"] = 1] = \"DEADLINE\";\n    Propagate[Propagate[\"CENSUS_STATS_CONTEXT\"] = 2] = \"CENSUS_STATS_CONTEXT\";\n    Propagate[Propagate[\"CENSUS_TRACING_CONTEXT\"] = 4] = \"CENSUS_TRACING_CONTEXT\";\n    Propagate[Propagate[\"CANCELLATION\"] = 8] = \"CANCELLATION\";\n    // https://github.com/grpc/grpc/blob/master/include/grpc/impl/codegen/propagation_bits.h#L43\n    Propagate[Propagate[\"DEFAULTS\"] = 65535] = \"DEFAULTS\";\n})(Propagate || (exports.Propagate = Propagate = {}));\n// -1 means unlimited\nexports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = -1;\n// 4 MB default\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = 4 * 1024 * 1024;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQ0FBMEMsR0FBRyx1Q0FBdUMsR0FBRyxpQkFBaUIsR0FBRyxvQkFBb0IsR0FBRyxjQUFjO0FBQ2hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxhQUFhLGNBQWMsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1CQUFtQixvQkFBb0Isb0JBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0JBQWdCLGlCQUFpQixpQkFBaUI7QUFDbkQ7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQSwwQ0FBMEM7QUFDMUMiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSCA9IGV4cG9ydHMuREVGQVVMVF9NQVhfU0VORF9NRVNTQUdFX0xFTkdUSCA9IGV4cG9ydHMuUHJvcGFnYXRlID0gZXhwb3J0cy5Mb2dWZXJib3NpdHkgPSBleHBvcnRzLlN0YXR1cyA9IHZvaWQgMDtcbnZhciBTdGF0dXM7XG4oZnVuY3Rpb24gKFN0YXR1cykge1xuICAgIFN0YXR1c1tTdGF0dXNbXCJPS1wiXSA9IDBdID0gXCJPS1wiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJDQU5DRUxMRURcIl0gPSAxXSA9IFwiQ0FOQ0VMTEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOS05PV05cIl0gPSAyXSA9IFwiVU5LTk9XTlwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJJTlZBTElEX0FSR1VNRU5UXCJdID0gM10gPSBcIklOVkFMSURfQVJHVU1FTlRcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiREVBRExJTkVfRVhDRUVERURcIl0gPSA0XSA9IFwiREVBRExJTkVfRVhDRUVERURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiTk9UX0ZPVU5EXCJdID0gNV0gPSBcIk5PVF9GT1VORFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJBTFJFQURZX0VYSVNUU1wiXSA9IDZdID0gXCJBTFJFQURZX0VYSVNUU1wiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJQRVJNSVNTSU9OX0RFTklFRFwiXSA9IDddID0gXCJQRVJNSVNTSU9OX0RFTklFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJSRVNPVVJDRV9FWEhBVVNURURcIl0gPSA4XSA9IFwiUkVTT1VSQ0VfRVhIQVVTVEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkZBSUxFRF9QUkVDT05ESVRJT05cIl0gPSA5XSA9IFwiRkFJTEVEX1BSRUNPTkRJVElPTlwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJBQk9SVEVEXCJdID0gMTBdID0gXCJBQk9SVEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIk9VVF9PRl9SQU5HRVwiXSA9IDExXSA9IFwiT1VUX09GX1JBTkdFXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOSU1QTEVNRU5URURcIl0gPSAxMl0gPSBcIlVOSU1QTEVNRU5URURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiSU5URVJOQUxcIl0gPSAxM10gPSBcIklOVEVSTkFMXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOQVZBSUxBQkxFXCJdID0gMTRdID0gXCJVTkFWQUlMQUJMRVwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJEQVRBX0xPU1NcIl0gPSAxNV0gPSBcIkRBVEFfTE9TU1wiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTkFVVEhFTlRJQ0FURURcIl0gPSAxNl0gPSBcIlVOQVVUSEVOVElDQVRFRFwiO1xufSkoU3RhdHVzIHx8IChleHBvcnRzLlN0YXR1cyA9IFN0YXR1cyA9IHt9KSk7XG52YXIgTG9nVmVyYm9zaXR5O1xuKGZ1bmN0aW9uIChMb2dWZXJib3NpdHkpIHtcbiAgICBMb2dWZXJib3NpdHlbTG9nVmVyYm9zaXR5W1wiREVCVUdcIl0gPSAwXSA9IFwiREVCVUdcIjtcbiAgICBMb2dWZXJib3NpdHlbTG9nVmVyYm9zaXR5W1wiSU5GT1wiXSA9IDFdID0gXCJJTkZPXCI7XG4gICAgTG9nVmVyYm9zaXR5W0xvZ1ZlcmJvc2l0eVtcIkVSUk9SXCJdID0gMl0gPSBcIkVSUk9SXCI7XG4gICAgTG9nVmVyYm9zaXR5W0xvZ1ZlcmJvc2l0eVtcIk5PTkVcIl0gPSAzXSA9IFwiTk9ORVwiO1xufSkoTG9nVmVyYm9zaXR5IHx8IChleHBvcnRzLkxvZ1ZlcmJvc2l0eSA9IExvZ1ZlcmJvc2l0eSA9IHt9KSk7XG4vKipcbiAqIE5PVEU6IFRoaXMgZW51bSBpcyBub3QgY3VycmVudGx5IHVzZWQgaW4gYW55IGltcGxlbWVudGVkIEFQSSBpbiB0aGlzXG4gKiBsaWJyYXJ5LiBJdCBpcyBpbmNsdWRlZCBvbmx5IGZvciB0eXBlIHBhcml0eSB3aXRoIHRoZSBvdGhlciBpbXBsZW1lbnRhdGlvbi5cbiAqL1xudmFyIFByb3BhZ2F0ZTtcbihmdW5jdGlvbiAoUHJvcGFnYXRlKSB7XG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkRFQURMSU5FXCJdID0gMV0gPSBcIkRFQURMSU5FXCI7XG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkNFTlNVU19TVEFUU19DT05URVhUXCJdID0gMl0gPSBcIkNFTlNVU19TVEFUU19DT05URVhUXCI7XG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkNFTlNVU19UUkFDSU5HX0NPTlRFWFRcIl0gPSA0XSA9IFwiQ0VOU1VTX1RSQUNJTkdfQ09OVEVYVFwiO1xuICAgIFByb3BhZ2F0ZVtQcm9wYWdhdGVbXCJDQU5DRUxMQVRJT05cIl0gPSA4XSA9IFwiQ0FOQ0VMTEFUSU9OXCI7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL21hc3Rlci9pbmNsdWRlL2dycGMvaW1wbC9jb2RlZ2VuL3Byb3BhZ2F0aW9uX2JpdHMuaCNMNDNcbiAgICBQcm9wYWdhdGVbUHJvcGFnYXRlW1wiREVGQVVMVFNcIl0gPSA2NTUzNV0gPSBcIkRFRkFVTFRTXCI7XG59KShQcm9wYWdhdGUgfHwgKGV4cG9ydHMuUHJvcGFnYXRlID0gUHJvcGFnYXRlID0ge30pKTtcbi8vIC0xIG1lYW5zIHVubGltaXRlZFxuZXhwb3J0cy5ERUZBVUxUX01BWF9TRU5EX01FU1NBR0VfTEVOR1RIID0gLTE7XG4vLyA0IE1CIGRlZmF1bHRcbmV4cG9ydHMuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSCA9IDQgKiAxMDI0ICogMTAyNDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.restrictControlPlaneStatusCode = restrictControlPlaneStatusCode;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst INAPPROPRIATE_CONTROL_PLANE_CODES = [\n    constants_1.Status.OK,\n    constants_1.Status.INVALID_ARGUMENT,\n    constants_1.Status.NOT_FOUND,\n    constants_1.Status.ALREADY_EXISTS,\n    constants_1.Status.FAILED_PRECONDITION,\n    constants_1.Status.ABORTED,\n    constants_1.Status.OUT_OF_RANGE,\n    constants_1.Status.DATA_LOSS,\n];\nfunction restrictControlPlaneStatusCode(code, details) {\n    if (INAPPROPRIATE_CONTROL_PLANE_CODES.includes(code)) {\n        return {\n            code: constants_1.Status.INTERNAL,\n            details: `Invalid status from control plane: ${code} ${constants_1.Status[code]} ${details}`,\n        };\n    }\n    else {\n        return { code, details };\n    }\n}\n//# sourceMappingURL=control-plane-status.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb250cm9sLXBsYW5lLXN0YXR1cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNDQUFzQztBQUN0QyxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELE1BQU0sRUFBRSwwQkFBMEIsRUFBRSxRQUFRO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb250cm9sLXBsYW5lLXN0YXR1cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUgPSByZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGU7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IElOQVBQUk9QUklBVEVfQ09OVFJPTF9QTEFORV9DT0RFUyA9IFtcbiAgICBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLklOVkFMSURfQVJHVU1FTlQsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICBjb25zdGFudHNfMS5TdGF0dXMuQUxSRUFEWV9FWElTVFMsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkZBSUxFRF9QUkVDT05ESVRJT04sXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkFCT1JURUQsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLk9VVF9PRl9SQU5HRSxcbiAgICBjb25zdGFudHNfMS5TdGF0dXMuREFUQV9MT1NTLFxuXTtcbmZ1bmN0aW9uIHJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZShjb2RlLCBkZXRhaWxzKSB7XG4gICAgaWYgKElOQVBQUk9QUklBVEVfQ09OVFJPTF9QTEFORV9DT0RFUy5pbmNsdWRlcyhjb2RlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgZGV0YWlsczogYEludmFsaWQgc3RhdHVzIGZyb20gY29udHJvbCBwbGFuZTogJHtjb2RlfSAke2NvbnN0YW50c18xLlN0YXR1c1tjb2RlXX0gJHtkZXRhaWxzfWAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBjb2RlLCBkZXRhaWxzIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udHJvbC1wbGFuZS1zdGF0dXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.minDeadline = minDeadline;\nexports.getDeadlineTimeoutString = getDeadlineTimeoutString;\nexports.getRelativeTimeout = getRelativeTimeout;\nexports.deadlineToString = deadlineToString;\nexports.formatDateDifference = formatDateDifference;\nfunction minDeadline(...deadlineList) {\n    let minValue = Infinity;\n    for (const deadline of deadlineList) {\n        const deadlineMsecs = deadline instanceof Date ? deadline.getTime() : deadline;\n        if (deadlineMsecs < minValue) {\n            minValue = deadlineMsecs;\n        }\n    }\n    return minValue;\n}\nconst units = [\n    ['m', 1],\n    ['S', 1000],\n    ['M', 60 * 1000],\n    ['H', 60 * 60 * 1000],\n];\nfunction getDeadlineTimeoutString(deadline) {\n    const now = new Date().getTime();\n    if (deadline instanceof Date) {\n        deadline = deadline.getTime();\n    }\n    const timeoutMs = Math.max(deadline - now, 0);\n    for (const [unit, factor] of units) {\n        const amount = timeoutMs / factor;\n        if (amount < 1e8) {\n            return String(Math.ceil(amount)) + unit;\n        }\n    }\n    throw new Error('Deadline is too far in the future');\n}\n/**\n * See https://nodejs.org/api/timers.html#settimeoutcallback-delay-args\n * In particular, \"When delay is larger than 2147483647 or less than 1, the\n * delay will be set to 1. Non-integer delays are truncated to an integer.\"\n * This number of milliseconds is almost 25 days.\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\n/**\n * Get the timeout value that should be passed to setTimeout now for the timer\n * to end at the deadline. For any deadline before now, the timer should end\n * immediately, represented by a value of 0. For any deadline more than\n * MAX_TIMEOUT_TIME milliseconds in the future, a timer cannot be set that will\n * end at that time, so it is treated as infinitely far in the future.\n * @param deadline\n * @returns\n */\nfunction getRelativeTimeout(deadline) {\n    const deadlineMs = deadline instanceof Date ? deadline.getTime() : deadline;\n    const now = new Date().getTime();\n    const timeout = deadlineMs - now;\n    if (timeout < 0) {\n        return 0;\n    }\n    else if (timeout > MAX_TIMEOUT_TIME) {\n        return Infinity;\n    }\n    else {\n        return timeout;\n    }\n}\nfunction deadlineToString(deadline) {\n    if (deadline instanceof Date) {\n        return deadline.toISOString();\n    }\n    else {\n        const dateDeadline = new Date(deadline);\n        if (Number.isNaN(dateDeadline.getTime())) {\n            return '' + deadline;\n        }\n        else {\n            return dateDeadline.toISOString();\n        }\n    }\n}\n/**\n * Calculate the difference between two dates as a number of seconds and format\n * it as a string.\n * @param startDate\n * @param endDate\n * @returns\n */\nfunction formatDateDifference(startDate, endDate) {\n    return ((endDate.getTime() - startDate.getTime()) / 1000).toFixed(3) + 's';\n}\n//# sourceMappingURL=deadline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kZWFkbGluZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixnQ0FBZ0M7QUFDaEMsMEJBQTBCO0FBQzFCLHdCQUF3QjtBQUN4Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kZWFkbGluZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5taW5EZWFkbGluZSA9IG1pbkRlYWRsaW5lO1xuZXhwb3J0cy5nZXREZWFkbGluZVRpbWVvdXRTdHJpbmcgPSBnZXREZWFkbGluZVRpbWVvdXRTdHJpbmc7XG5leHBvcnRzLmdldFJlbGF0aXZlVGltZW91dCA9IGdldFJlbGF0aXZlVGltZW91dDtcbmV4cG9ydHMuZGVhZGxpbmVUb1N0cmluZyA9IGRlYWRsaW5lVG9TdHJpbmc7XG5leHBvcnRzLmZvcm1hdERhdGVEaWZmZXJlbmNlID0gZm9ybWF0RGF0ZURpZmZlcmVuY2U7XG5mdW5jdGlvbiBtaW5EZWFkbGluZSguLi5kZWFkbGluZUxpc3QpIHtcbiAgICBsZXQgbWluVmFsdWUgPSBJbmZpbml0eTtcbiAgICBmb3IgKGNvbnN0IGRlYWRsaW5lIG9mIGRlYWRsaW5lTGlzdCkge1xuICAgICAgICBjb25zdCBkZWFkbGluZU1zZWNzID0gZGVhZGxpbmUgaW5zdGFuY2VvZiBEYXRlID8gZGVhZGxpbmUuZ2V0VGltZSgpIDogZGVhZGxpbmU7XG4gICAgICAgIGlmIChkZWFkbGluZU1zZWNzIDwgbWluVmFsdWUpIHtcbiAgICAgICAgICAgIG1pblZhbHVlID0gZGVhZGxpbmVNc2VjcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluVmFsdWU7XG59XG5jb25zdCB1bml0cyA9IFtcbiAgICBbJ20nLCAxXSxcbiAgICBbJ1MnLCAxMDAwXSxcbiAgICBbJ00nLCA2MCAqIDEwMDBdLFxuICAgIFsnSCcsIDYwICogNjAgKiAxMDAwXSxcbl07XG5mdW5jdGlvbiBnZXREZWFkbGluZVRpbWVvdXRTdHJpbmcoZGVhZGxpbmUpIHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBpZiAoZGVhZGxpbmUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIGRlYWRsaW5lID0gZGVhZGxpbmUuZ2V0VGltZSgpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lb3V0TXMgPSBNYXRoLm1heChkZWFkbGluZSAtIG5vdywgMCk7XG4gICAgZm9yIChjb25zdCBbdW5pdCwgZmFjdG9yXSBvZiB1bml0cykge1xuICAgICAgICBjb25zdCBhbW91bnQgPSB0aW1lb3V0TXMgLyBmYWN0b3I7XG4gICAgICAgIGlmIChhbW91bnQgPCAxZTgpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoTWF0aC5jZWlsKGFtb3VudCkpICsgdW5pdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlYWRsaW5lIGlzIHRvbyBmYXIgaW4gdGhlIGZ1dHVyZScpO1xufVxuLyoqXG4gKiBTZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS90aW1lcnMuaHRtbCNzZXR0aW1lb3V0Y2FsbGJhY2stZGVsYXktYXJnc1xuICogSW4gcGFydGljdWxhciwgXCJXaGVuIGRlbGF5IGlzIGxhcmdlciB0aGFuIDIxNDc0ODM2NDcgb3IgbGVzcyB0aGFuIDEsIHRoZVxuICogZGVsYXkgd2lsbCBiZSBzZXQgdG8gMS4gTm9uLWludGVnZXIgZGVsYXlzIGFyZSB0cnVuY2F0ZWQgdG8gYW4gaW50ZWdlci5cIlxuICogVGhpcyBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGlzIGFsbW9zdCAyNSBkYXlzLlxuICovXG5jb25zdCBNQVhfVElNRU9VVF9USU1FID0gMjE0NzQ4MzY0Nztcbi8qKlxuICogR2V0IHRoZSB0aW1lb3V0IHZhbHVlIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCB0byBzZXRUaW1lb3V0IG5vdyBmb3IgdGhlIHRpbWVyXG4gKiB0byBlbmQgYXQgdGhlIGRlYWRsaW5lLiBGb3IgYW55IGRlYWRsaW5lIGJlZm9yZSBub3csIHRoZSB0aW1lciBzaG91bGQgZW5kXG4gKiBpbW1lZGlhdGVseSwgcmVwcmVzZW50ZWQgYnkgYSB2YWx1ZSBvZiAwLiBGb3IgYW55IGRlYWRsaW5lIG1vcmUgdGhhblxuICogTUFYX1RJTUVPVVRfVElNRSBtaWxsaXNlY29uZHMgaW4gdGhlIGZ1dHVyZSwgYSB0aW1lciBjYW5ub3QgYmUgc2V0IHRoYXQgd2lsbFxuICogZW5kIGF0IHRoYXQgdGltZSwgc28gaXQgaXMgdHJlYXRlZCBhcyBpbmZpbml0ZWx5IGZhciBpbiB0aGUgZnV0dXJlLlxuICogQHBhcmFtIGRlYWRsaW5lXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVRpbWVvdXQoZGVhZGxpbmUpIHtcbiAgICBjb25zdCBkZWFkbGluZU1zID0gZGVhZGxpbmUgaW5zdGFuY2VvZiBEYXRlID8gZGVhZGxpbmUuZ2V0VGltZSgpIDogZGVhZGxpbmU7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgdGltZW91dCA9IGRlYWRsaW5lTXMgLSBub3c7XG4gICAgaWYgKHRpbWVvdXQgPCAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aW1lb3V0ID4gTUFYX1RJTUVPVVRfVElNRSkge1xuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGltZW91dDtcbiAgICB9XG59XG5mdW5jdGlvbiBkZWFkbGluZVRvU3RyaW5nKGRlYWRsaW5lKSB7XG4gICAgaWYgKGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gZGVhZGxpbmUudG9JU09TdHJpbmcoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGVEZWFkbGluZSA9IG5ldyBEYXRlKGRlYWRsaW5lKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihkYXRlRGVhZGxpbmUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuICcnICsgZGVhZGxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZURlYWRsaW5lLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBkYXRlcyBhcyBhIG51bWJlciBvZiBzZWNvbmRzIGFuZCBmb3JtYXRcbiAqIGl0IGFzIGEgc3RyaW5nLlxuICogQHBhcmFtIHN0YXJ0RGF0ZVxuICogQHBhcmFtIGVuZERhdGVcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdERhdGVEaWZmZXJlbmNlKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICAgIHJldHVybiAoKGVuZERhdGUuZ2V0VGltZSgpIC0gc3RhcnREYXRlLmdldFRpbWUoKSkgLyAxMDAwKS50b0ZpeGVkKDMpICsgJ3MnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVhZGxpbmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.msToDuration = msToDuration;\nexports.durationToMs = durationToMs;\nexports.isDuration = isDuration;\nexports.parseDuration = parseDuration;\nfunction msToDuration(millis) {\n    return {\n        seconds: (millis / 1000) | 0,\n        nanos: ((millis % 1000) * 1000000) | 0,\n    };\n}\nfunction durationToMs(duration) {\n    return (duration.seconds * 1000 + duration.nanos / 1000000) | 0;\n}\nfunction isDuration(value) {\n    return typeof value.seconds === 'number' && typeof value.nanos === 'number';\n}\nconst durationRegex = /^(\\d+)(?:\\.(\\d+))?s$/;\nfunction parseDuration(value) {\n    const match = value.match(durationRegex);\n    if (!match) {\n        return null;\n    }\n    return {\n        seconds: Number.parseInt(match[1], 10),\n        nanos: match[2] ? Number.parseInt(match[2].padEnd(9, '0'), 10) : 0\n    };\n}\n//# sourceMappingURL=duration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kdXJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEIsa0JBQWtCO0FBQ2xCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kdXJhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tc1RvRHVyYXRpb24gPSBtc1RvRHVyYXRpb247XG5leHBvcnRzLmR1cmF0aW9uVG9NcyA9IGR1cmF0aW9uVG9NcztcbmV4cG9ydHMuaXNEdXJhdGlvbiA9IGlzRHVyYXRpb247XG5leHBvcnRzLnBhcnNlRHVyYXRpb24gPSBwYXJzZUR1cmF0aW9uO1xuZnVuY3Rpb24gbXNUb0R1cmF0aW9uKG1pbGxpcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlY29uZHM6IChtaWxsaXMgLyAxMDAwKSB8IDAsXG4gICAgICAgIG5hbm9zOiAoKG1pbGxpcyAlIDEwMDApICogMTAwMDAwMCkgfCAwLFxuICAgIH07XG59XG5mdW5jdGlvbiBkdXJhdGlvblRvTXMoZHVyYXRpb24pIHtcbiAgICByZXR1cm4gKGR1cmF0aW9uLnNlY29uZHMgKiAxMDAwICsgZHVyYXRpb24ubmFub3MgLyAxMDAwMDAwKSB8IDA7XG59XG5mdW5jdGlvbiBpc0R1cmF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5zZWNvbmRzID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUubmFub3MgPT09ICdudW1iZXInO1xufVxuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eKFxcZCspKD86XFwuKFxcZCspKT9zJC87XG5mdW5jdGlvbiBwYXJzZUR1cmF0aW9uKHZhbHVlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB2YWx1ZS5tYXRjaChkdXJhdGlvblJlZ2V4KTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiBOdW1iZXIucGFyc2VJbnQobWF0Y2hbMV0sIDEwKSxcbiAgICAgICAgbmFub3M6IG1hdGNoWzJdID8gTnVtYmVyLnBhcnNlSW50KG1hdGNoWzJdLnBhZEVuZCg5LCAnMCcpLCAxMCkgOiAwXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR1cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2024 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GRPC_NODE_USE_ALTERNATIVE_RESOLVER = void 0;\nexports.GRPC_NODE_USE_ALTERNATIVE_RESOLVER = ((_a = process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER) !== null && _a !== void 0 ? _a : 'false') === 'true';\n//# sourceMappingURL=environment.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9lbnZpcm9ubWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMENBQTBDO0FBQzFDLDBDQUEwQztBQUMxQyIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2Vudmlyb25tZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDI0IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX2E7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdSUENfTk9ERV9VU0VfQUxURVJOQVRJVkVfUkVTT0xWRVIgPSB2b2lkIDA7XG5leHBvcnRzLkdSUENfTk9ERV9VU0VfQUxURVJOQVRJVkVfUkVTT0xWRVIgPSAoKF9hID0gcHJvY2Vzcy5lbnYuR1JQQ19OT0RFX1VTRV9BTFRFUk5BVElWRV9SRVNPTFZFUikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ2ZhbHNlJykgPT09ICd0cnVlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudmlyb25tZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getErrorMessage = getErrorMessage;\nexports.getErrorCode = getErrorCode;\nfunction getErrorMessage(error) {\n    if (error instanceof Error) {\n        return error.message;\n    }\n    else {\n        return String(error);\n    }\n}\nfunction getErrorCode(error) {\n    if (typeof error === 'object' &&\n        error !== null &&\n        'code' in error &&\n        typeof error.code === 'number') {\n        return error.code;\n    }\n    else {\n        return null;\n    }\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9lcnJvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2Vycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEVycm9yTWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZTtcbmV4cG9ydHMuZ2V0RXJyb3JDb2RlID0gZ2V0RXJyb3JDb2RlO1xuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gU3RyaW5nKGVycm9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRFcnJvckNvZGUoZXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICAnY29kZScgaW4gZXJyb3IgJiZcbiAgICAgICAgdHlwZW9mIGVycm9yLmNvZGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5jb2RlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX = exports.createCertificateProviderChannelCredentials = exports.FileWatcherCertificateProvider = exports.createCertificateProviderServerCredentials = exports.createServerCredentialsWithInterceptors = exports.BaseSubchannelWrapper = exports.registerAdminService = exports.FilterStackFactory = exports.BaseFilter = exports.PickResultType = exports.QueuePicker = exports.UnavailablePicker = exports.ChildLoadBalancerHandler = exports.EndpointMap = exports.endpointHasAddress = exports.endpointToString = exports.subchannelAddressToString = exports.LeafLoadBalancer = exports.isLoadBalancerNameRegistered = exports.parseLoadBalancingConfig = exports.selectLbConfigFromList = exports.registerLoadBalancerType = exports.createChildChannelControlHelper = exports.BackoffTimeout = exports.parseDuration = exports.durationToMs = exports.splitHostPort = exports.uriToString = exports.createResolver = exports.registerResolver = exports.log = exports.trace = void 0;\nvar logging_1 = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nObject.defineProperty(exports, \"trace\", ({ enumerable: true, get: function () { return logging_1.trace; } }));\nObject.defineProperty(exports, \"log\", ({ enumerable: true, get: function () { return logging_1.log; } }));\nvar resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nObject.defineProperty(exports, \"registerResolver\", ({ enumerable: true, get: function () { return resolver_1.registerResolver; } }));\nObject.defineProperty(exports, \"createResolver\", ({ enumerable: true, get: function () { return resolver_1.createResolver; } }));\nvar uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nObject.defineProperty(exports, \"uriToString\", ({ enumerable: true, get: function () { return uri_parser_1.uriToString; } }));\nObject.defineProperty(exports, \"splitHostPort\", ({ enumerable: true, get: function () { return uri_parser_1.splitHostPort; } }));\nvar duration_1 = __webpack_require__(/*! ./duration */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\");\nObject.defineProperty(exports, \"durationToMs\", ({ enumerable: true, get: function () { return duration_1.durationToMs; } }));\nObject.defineProperty(exports, \"parseDuration\", ({ enumerable: true, get: function () { return duration_1.parseDuration; } }));\nvar backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nObject.defineProperty(exports, \"BackoffTimeout\", ({ enumerable: true, get: function () { return backoff_timeout_1.BackoffTimeout; } }));\nvar load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nObject.defineProperty(exports, \"createChildChannelControlHelper\", ({ enumerable: true, get: function () { return load_balancer_1.createChildChannelControlHelper; } }));\nObject.defineProperty(exports, \"registerLoadBalancerType\", ({ enumerable: true, get: function () { return load_balancer_1.registerLoadBalancerType; } }));\nObject.defineProperty(exports, \"selectLbConfigFromList\", ({ enumerable: true, get: function () { return load_balancer_1.selectLbConfigFromList; } }));\nObject.defineProperty(exports, \"parseLoadBalancingConfig\", ({ enumerable: true, get: function () { return load_balancer_1.parseLoadBalancingConfig; } }));\nObject.defineProperty(exports, \"isLoadBalancerNameRegistered\", ({ enumerable: true, get: function () { return load_balancer_1.isLoadBalancerNameRegistered; } }));\nvar load_balancer_pick_first_1 = __webpack_require__(/*! ./load-balancer-pick-first */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nObject.defineProperty(exports, \"LeafLoadBalancer\", ({ enumerable: true, get: function () { return load_balancer_pick_first_1.LeafLoadBalancer; } }));\nvar subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nObject.defineProperty(exports, \"subchannelAddressToString\", ({ enumerable: true, get: function () { return subchannel_address_1.subchannelAddressToString; } }));\nObject.defineProperty(exports, \"endpointToString\", ({ enumerable: true, get: function () { return subchannel_address_1.endpointToString; } }));\nObject.defineProperty(exports, \"endpointHasAddress\", ({ enumerable: true, get: function () { return subchannel_address_1.endpointHasAddress; } }));\nObject.defineProperty(exports, \"EndpointMap\", ({ enumerable: true, get: function () { return subchannel_address_1.EndpointMap; } }));\nvar load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nObject.defineProperty(exports, \"ChildLoadBalancerHandler\", ({ enumerable: true, get: function () { return load_balancer_child_handler_1.ChildLoadBalancerHandler; } }));\nvar picker_1 = __webpack_require__(/*! ./picker */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nObject.defineProperty(exports, \"UnavailablePicker\", ({ enumerable: true, get: function () { return picker_1.UnavailablePicker; } }));\nObject.defineProperty(exports, \"QueuePicker\", ({ enumerable: true, get: function () { return picker_1.QueuePicker; } }));\nObject.defineProperty(exports, \"PickResultType\", ({ enumerable: true, get: function () { return picker_1.PickResultType; } }));\nvar filter_1 = __webpack_require__(/*! ./filter */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js\");\nObject.defineProperty(exports, \"BaseFilter\", ({ enumerable: true, get: function () { return filter_1.BaseFilter; } }));\nvar filter_stack_1 = __webpack_require__(/*! ./filter-stack */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js\");\nObject.defineProperty(exports, \"FilterStackFactory\", ({ enumerable: true, get: function () { return filter_stack_1.FilterStackFactory; } }));\nvar admin_1 = __webpack_require__(/*! ./admin */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\");\nObject.defineProperty(exports, \"registerAdminService\", ({ enumerable: true, get: function () { return admin_1.registerAdminService; } }));\nvar subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\nObject.defineProperty(exports, \"BaseSubchannelWrapper\", ({ enumerable: true, get: function () { return subchannel_interface_1.BaseSubchannelWrapper; } }));\nvar server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nObject.defineProperty(exports, \"createServerCredentialsWithInterceptors\", ({ enumerable: true, get: function () { return server_credentials_1.createServerCredentialsWithInterceptors; } }));\nObject.defineProperty(exports, \"createCertificateProviderServerCredentials\", ({ enumerable: true, get: function () { return server_credentials_1.createCertificateProviderServerCredentials; } }));\nvar certificate_provider_1 = __webpack_require__(/*! ./certificate-provider */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js\");\nObject.defineProperty(exports, \"FileWatcherCertificateProvider\", ({ enumerable: true, get: function () { return certificate_provider_1.FileWatcherCertificateProvider; } }));\nvar channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nObject.defineProperty(exports, \"createCertificateProviderChannelCredentials\", ({ enumerable: true, get: function () { return channel_credentials_1.createCertificateProviderChannelCredentials; } }));\nvar internal_channel_1 = __webpack_require__(/*! ./internal-channel */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js\");\nObject.defineProperty(exports, \"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX\", ({ enumerable: true, get: function () { return internal_channel_1.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX; } }));\n//# sourceMappingURL=experimental.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9leHBlcmltZW50YWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMENBQTBDLEdBQUcsbURBQW1ELEdBQUcsc0NBQXNDLEdBQUcsa0RBQWtELEdBQUcsK0NBQStDLEdBQUcsNkJBQTZCLEdBQUcsNEJBQTRCLEdBQUcsMEJBQTBCLEdBQUcsa0JBQWtCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcseUJBQXlCLEdBQUcsZ0NBQWdDLEdBQUcsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcsd0JBQXdCLEdBQUcsaUNBQWlDLEdBQUcsd0JBQXdCLEdBQUcsb0NBQW9DLEdBQUcsZ0NBQWdDLEdBQUcsOEJBQThCLEdBQUcsZ0NBQWdDLEdBQUcsdUNBQXVDLEdBQUcsc0JBQXNCLEdBQUcscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcscUJBQXFCLEdBQUcsbUJBQW1CLEdBQUcsc0JBQXNCLEdBQUcsd0JBQXdCLEdBQUcsV0FBVyxHQUFHLGFBQWE7QUFDNTlCLGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DLHlDQUF3QyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUMzRyx1Q0FBc0MsRUFBRSxxQ0FBcUMseUJBQXlCLEVBQUM7QUFDdkcsaUJBQWlCLG1CQUFPLENBQUMsK0dBQVk7QUFDckMsb0RBQW1ELEVBQUUscUNBQXFDLHVDQUF1QyxFQUFDO0FBQ2xJLGtEQUFpRCxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUM5SCxtQkFBbUIsbUJBQU8sQ0FBQyxtSEFBYztBQUN6QywrQ0FBOEMsRUFBRSxxQ0FBcUMsb0NBQW9DLEVBQUM7QUFDMUgsaURBQWdELEVBQUUscUNBQXFDLHNDQUFzQyxFQUFDO0FBQzlILGlCQUFpQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3JDLGdEQUErQyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUMxSCxpREFBZ0QsRUFBRSxxQ0FBcUMsb0NBQW9DLEVBQUM7QUFDNUgsd0JBQXdCLG1CQUFPLENBQUMsNkhBQW1CO0FBQ25ELGtEQUFpRCxFQUFFLHFDQUFxQyw0Q0FBNEMsRUFBQztBQUNySSxzQkFBc0IsbUJBQU8sQ0FBQyx5SEFBaUI7QUFDL0MsbUVBQWtFLEVBQUUscUNBQXFDLDJEQUEyRCxFQUFDO0FBQ3JLLDREQUEyRCxFQUFFLHFDQUFxQyxvREFBb0QsRUFBQztBQUN2SiwwREFBeUQsRUFBRSxxQ0FBcUMsa0RBQWtELEVBQUM7QUFDbkosNERBQTJELEVBQUUscUNBQXFDLG9EQUFvRCxFQUFDO0FBQ3ZKLGdFQUErRCxFQUFFLHFDQUFxQyx3REFBd0QsRUFBQztBQUMvSixpQ0FBaUMsbUJBQU8sQ0FBQywrSUFBNEI7QUFDckUsb0RBQW1ELEVBQUUscUNBQXFDLHVEQUF1RCxFQUFDO0FBQ2xKLDJCQUEyQixtQkFBTyxDQUFDLG1JQUFzQjtBQUN6RCw2REFBNEQsRUFBRSxxQ0FBcUMsMERBQTBELEVBQUM7QUFDOUosb0RBQW1ELEVBQUUscUNBQXFDLGlEQUFpRCxFQUFDO0FBQzVJLHNEQUFxRCxFQUFFLHFDQUFxQyxtREFBbUQsRUFBQztBQUNoSiwrQ0FBOEMsRUFBRSxxQ0FBcUMsNENBQTRDLEVBQUM7QUFDbEksb0NBQW9DLG1CQUFPLENBQUMscUpBQStCO0FBQzNFLDREQUEyRCxFQUFFLHFDQUFxQyxrRUFBa0UsRUFBQztBQUNySyxlQUFlLG1CQUFPLENBQUMsMkdBQVU7QUFDakMscURBQW9ELEVBQUUscUNBQXFDLHNDQUFzQyxFQUFDO0FBQ2xJLCtDQUE4QyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUN0SCxrREFBaUQsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDNUgsZUFBZSxtQkFBTyxDQUFDLDJHQUFVO0FBQ2pDLDhDQUE2QyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNwSCxxQkFBcUIsbUJBQU8sQ0FBQyx1SEFBZ0I7QUFDN0Msc0RBQXFELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQzFJLGNBQWMsbUJBQU8sQ0FBQyx5R0FBUztBQUMvQix3REFBdUQsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDdkksNkJBQTZCLG1CQUFPLENBQUMsdUlBQXdCO0FBQzdELHlEQUF3RCxFQUFFLHFDQUFxQyx3REFBd0QsRUFBQztBQUN4SiwyQkFBMkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDekQsMkVBQTBFLEVBQUUscUNBQXFDLHdFQUF3RSxFQUFDO0FBQzFMLDhFQUE2RSxFQUFFLHFDQUFxQywyRUFBMkUsRUFBQztBQUNoTSw2QkFBNkIsbUJBQU8sQ0FBQyx1SUFBd0I7QUFDN0Qsa0VBQWlFLEVBQUUscUNBQXFDLGlFQUFpRSxFQUFDO0FBQzFLLDRCQUE0QixtQkFBTyxDQUFDLHFJQUF1QjtBQUMzRCwrRUFBOEUsRUFBRSxxQ0FBcUMsNkVBQTZFLEVBQUM7QUFDbk0seUJBQXlCLG1CQUFPLENBQUMsK0hBQW9CO0FBQ3JELHNFQUFxRSxFQUFFLHFDQUFxQyxpRUFBaUUsRUFBQztBQUM5SyIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2V4cGVyaW1lbnRhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU1VCQ0hBTk5FTF9BUkdTX0VYQ0xVREVfS0VZX1BSRUZJWCA9IGV4cG9ydHMuY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFscyA9IGV4cG9ydHMuRmlsZVdhdGNoZXJDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gZXhwb3J0cy5jcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyU2VydmVyQ3JlZGVudGlhbHMgPSBleHBvcnRzLmNyZWF0ZVNlcnZlckNyZWRlbnRpYWxzV2l0aEludGVyY2VwdG9ycyA9IGV4cG9ydHMuQmFzZVN1YmNoYW5uZWxXcmFwcGVyID0gZXhwb3J0cy5yZWdpc3RlckFkbWluU2VydmljZSA9IGV4cG9ydHMuRmlsdGVyU3RhY2tGYWN0b3J5ID0gZXhwb3J0cy5CYXNlRmlsdGVyID0gZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IGV4cG9ydHMuUXVldWVQaWNrZXIgPSBleHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gZXhwb3J0cy5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIgPSBleHBvcnRzLkVuZHBvaW50TWFwID0gZXhwb3J0cy5lbmRwb2ludEhhc0FkZHJlc3MgPSBleHBvcnRzLmVuZHBvaW50VG9TdHJpbmcgPSBleHBvcnRzLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcgPSBleHBvcnRzLkxlYWZMb2FkQmFsYW5jZXIgPSBleHBvcnRzLmlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQgPSBleHBvcnRzLnBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZyA9IGV4cG9ydHMuc2VsZWN0TGJDb25maWdGcm9tTGlzdCA9IGV4cG9ydHMucmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlID0gZXhwb3J0cy5jcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyID0gZXhwb3J0cy5CYWNrb2ZmVGltZW91dCA9IGV4cG9ydHMucGFyc2VEdXJhdGlvbiA9IGV4cG9ydHMuZHVyYXRpb25Ub01zID0gZXhwb3J0cy5zcGxpdEhvc3RQb3J0ID0gZXhwb3J0cy51cmlUb1N0cmluZyA9IGV4cG9ydHMuY3JlYXRlUmVzb2x2ZXIgPSBleHBvcnRzLnJlZ2lzdGVyUmVzb2x2ZXIgPSBleHBvcnRzLmxvZyA9IGV4cG9ydHMudHJhY2UgPSB2b2lkIDA7XG52YXIgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRyYWNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2dnaW5nXzEudHJhY2U7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsb2dcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvZ2dpbmdfMS5sb2c7IH0gfSk7XG52YXIgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVnaXN0ZXJSZXNvbHZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlUmVzb2x2ZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVyXzEuY3JlYXRlUmVzb2x2ZXI7IH0gfSk7XG52YXIgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInVyaVRvU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmc7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzcGxpdEhvc3RQb3J0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydDsgfSB9KTtcbnZhciBkdXJhdGlvbl8xID0gcmVxdWlyZShcIi4vZHVyYXRpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkdXJhdGlvblRvTXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VEdXJhdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZHVyYXRpb25fMS5wYXJzZUR1cmF0aW9uOyB9IH0pO1xudmFyIGJhY2tvZmZfdGltZW91dF8xID0gcmVxdWlyZShcIi4vYmFja29mZi10aW1lb3V0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmFja29mZlRpbWVvdXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0OyB9IH0pO1xudmFyIGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyXzEuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNlbGVjdExiQ29uZmlnRnJvbUxpc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvYWRfYmFsYW5jZXJfMS5zZWxlY3RMYkNvbmZpZ0Zyb21MaXN0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VMb2FkQmFsYW5jaW5nQ29uZmlnXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyXzEucGFyc2VMb2FkQmFsYW5jaW5nQ29uZmlnOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXNMb2FkQmFsYW5jZXJOYW1lUmVnaXN0ZXJlZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl8xLmlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQ7IH0gfSk7XG52YXIgbG9hZF9iYWxhbmNlcl9waWNrX2ZpcnN0XzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMZWFmTG9hZEJhbGFuY2VyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMS5MZWFmTG9hZEJhbGFuY2VyOyB9IH0pO1xudmFyIHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZzsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImVuZHBvaW50VG9TdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmNoYW5uZWxfYWRkcmVzc18xLmVuZHBvaW50VG9TdHJpbmc7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJlbmRwb2ludEhhc0FkZHJlc3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmNoYW5uZWxfYWRkcmVzc18xLmVuZHBvaW50SGFzQWRkcmVzczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkVuZHBvaW50TWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJjaGFubmVsX2FkZHJlc3NfMS5FbmRwb2ludE1hcDsgfSB9KTtcbnZhciBsb2FkX2JhbGFuY2VyX2NoaWxkX2hhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItY2hpbGQtaGFuZGxlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyOyB9IH0pO1xudmFyIHBpY2tlcl8xID0gcmVxdWlyZShcIi4vcGlja2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVW5hdmFpbGFibGVQaWNrZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUXVldWVQaWNrZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBpY2tlcl8xLlF1ZXVlUGlja2VyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUGlja1Jlc3VsdFR5cGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlOyB9IH0pO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmFzZUZpbHRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyXzEuQmFzZUZpbHRlcjsgfSB9KTtcbnZhciBmaWx0ZXJfc3RhY2tfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlci1zdGFja1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZpbHRlclN0YWNrRmFjdG9yeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyX3N0YWNrXzEuRmlsdGVyU3RhY2tGYWN0b3J5OyB9IH0pO1xudmFyIGFkbWluXzEgPSByZXF1aXJlKFwiLi9hZG1pblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZ2lzdGVyQWRtaW5TZXJ2aWNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhZG1pbl8xLnJlZ2lzdGVyQWRtaW5TZXJ2aWNlOyB9IH0pO1xudmFyIHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWludGVyZmFjZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJhc2VTdWJjaGFubmVsV3JhcHBlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViY2hhbm5lbF9pbnRlcmZhY2VfMS5CYXNlU3ViY2hhbm5lbFdyYXBwZXI7IH0gfSk7XG52YXIgc2VydmVyX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlcnZlcl9jcmVkZW50aWFsc18xLmNyZWF0ZVNlcnZlckNyZWRlbnRpYWxzV2l0aEludGVyY2VwdG9yczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFsc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2NyZWRlbnRpYWxzXzEuY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzOyB9IH0pO1xudmFyIGNlcnRpZmljYXRlX3Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9jZXJ0aWZpY2F0ZS1wcm92aWRlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2VydGlmaWNhdGVfcHJvdmlkZXJfMS5GaWxlV2F0Y2hlckNlcnRpZmljYXRlUHJvdmlkZXI7IH0gfSk7XG52YXIgY2hhbm5lbF9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jcmVkZW50aWFsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYW5uZWxfY3JlZGVudGlhbHNfMS5jcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzOyB9IH0pO1xudmFyIGludGVybmFsX2NoYW5uZWxfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsLWNoYW5uZWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnRlcm5hbF9jaGFubmVsXzEuU1VCQ0hBTk5FTF9BUkdTX0VYQ0xVREVfS0VZX1BSRUZJWDsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGVyaW1lbnRhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FilterStackFactory = exports.FilterStack = void 0;\nclass FilterStack {\n    constructor(filters) {\n        this.filters = filters;\n    }\n    sendMetadata(metadata) {\n        let result = metadata;\n        for (let i = 0; i < this.filters.length; i++) {\n            result = this.filters[i].sendMetadata(result);\n        }\n        return result;\n    }\n    receiveMetadata(metadata) {\n        let result = metadata;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveMetadata(result);\n        }\n        return result;\n    }\n    sendMessage(message) {\n        let result = message;\n        for (let i = 0; i < this.filters.length; i++) {\n            result = this.filters[i].sendMessage(result);\n        }\n        return result;\n    }\n    receiveMessage(message) {\n        let result = message;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveMessage(result);\n        }\n        return result;\n    }\n    receiveTrailers(status) {\n        let result = status;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveTrailers(result);\n        }\n        return result;\n    }\n    push(filters) {\n        this.filters.unshift(...filters);\n    }\n    getFilters() {\n        return this.filters;\n    }\n}\nexports.FilterStack = FilterStack;\nclass FilterStackFactory {\n    constructor(factories) {\n        this.factories = factories;\n    }\n    push(filterFactories) {\n        this.factories.unshift(...filterFactories);\n    }\n    clone() {\n        return new FilterStackFactory([...this.factories]);\n    }\n    createFilter() {\n        return new FilterStack(this.factories.map(factory => factory.createFilter()));\n    }\n}\nexports.FilterStackFactory = FilterStackFactory;\n//# sourceMappingURL=filter-stack.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9maWx0ZXItc3RhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsR0FBRyxtQkFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2ZpbHRlci1zdGFjay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GaWx0ZXJTdGFja0ZhY3RvcnkgPSBleHBvcnRzLkZpbHRlclN0YWNrID0gdm9pZCAwO1xuY2xhc3MgRmlsdGVyU3RhY2sge1xuICAgIGNvbnN0cnVjdG9yKGZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gZmlsdGVycztcbiAgICB9XG4gICAgc2VuZE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBtZXRhZGF0YTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmlsdGVyc1tpXS5zZW5kTWV0YWRhdGEocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG1ldGFkYXRhO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5maWx0ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0ucmVjZWl2ZU1ldGFkYXRhKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbWVzc2FnZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmlsdGVyc1tpXS5zZW5kTWVzc2FnZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG1lc3NhZ2U7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmlsdGVyc1tpXS5yZWNlaXZlTWVzc2FnZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlY2VpdmVUcmFpbGVycyhzdGF0dXMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHN0YXR1cztcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maWx0ZXJzW2ldLnJlY2VpdmVUcmFpbGVycyhyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHB1c2goZmlsdGVycykge1xuICAgICAgICB0aGlzLmZpbHRlcnMudW5zaGlmdCguLi5maWx0ZXJzKTtcbiAgICB9XG4gICAgZ2V0RmlsdGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVycztcbiAgICB9XG59XG5leHBvcnRzLkZpbHRlclN0YWNrID0gRmlsdGVyU3RhY2s7XG5jbGFzcyBGaWx0ZXJTdGFja0ZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKGZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLmZhY3RvcmllcyA9IGZhY3RvcmllcztcbiAgICB9XG4gICAgcHVzaChmaWx0ZXJGYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMudW5zaGlmdCguLi5maWx0ZXJGYWN0b3JpZXMpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXJTdGFja0ZhY3RvcnkoWy4uLnRoaXMuZmFjdG9yaWVzXSk7XG4gICAgfVxuICAgIGNyZWF0ZUZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXJTdGFjayh0aGlzLmZhY3Rvcmllcy5tYXAoZmFjdG9yeSA9PiBmYWN0b3J5LmNyZWF0ZUZpbHRlcigpKSk7XG4gICAgfVxufVxuZXhwb3J0cy5GaWx0ZXJTdGFja0ZhY3RvcnkgPSBGaWx0ZXJTdGFja0ZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItc3RhY2suanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseFilter = void 0;\nclass BaseFilter {\n    async sendMetadata(metadata) {\n        return metadata;\n    }\n    receiveMetadata(metadata) {\n        return metadata;\n    }\n    async sendMessage(message) {\n        return message;\n    }\n    async receiveMessage(message) {\n        return message;\n    }\n    receiveTrailers(status) {\n        return status;\n    }\n}\nexports.BaseFilter = BaseFilter;\n//# sourceMappingURL=filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9maWx0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2ZpbHRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlRmlsdGVyID0gdm9pZCAwO1xuY2xhc3MgQmFzZUZpbHRlciB7XG4gICAgYXN5bmMgc2VuZE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9XG4gICAgcmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgYXN5bmMgcmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgcmVjZWl2ZVRyYWlsZXJzKHN0YXR1cykge1xuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZUZpbHRlciA9IEJhc2VGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parseCIDR = parseCIDR;\nexports.mapProxyName = mapProxyName;\nexports.getProxiedConnection = getProxiedConnection;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst url_1 = __webpack_require__(/*! url */ \"url\");\nconst resolver_dns_1 = __webpack_require__(/*! ./resolver-dns */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js\");\nconst TRACER_NAME = 'proxy';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nfunction getProxyInfo() {\n    let proxyEnv = '';\n    let envVar = '';\n    /* Prefer using 'grpc_proxy'. Fallback on 'http_proxy' if it is not set.\n     * Also prefer using 'https_proxy' with fallback on 'http_proxy'. The\n     * fallback behavior can be removed if there's a demand for it.\n     */\n    if (process.env.grpc_proxy) {\n        envVar = 'grpc_proxy';\n        proxyEnv = process.env.grpc_proxy;\n    }\n    else if (process.env.https_proxy) {\n        envVar = 'https_proxy';\n        proxyEnv = process.env.https_proxy;\n    }\n    else if (process.env.http_proxy) {\n        envVar = 'http_proxy';\n        proxyEnv = process.env.http_proxy;\n    }\n    else {\n        return {};\n    }\n    let proxyUrl;\n    try {\n        proxyUrl = new url_1.URL(proxyEnv);\n    }\n    catch (e) {\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `cannot parse value of \"${envVar}\" env var`);\n        return {};\n    }\n    if (proxyUrl.protocol !== 'http:') {\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `\"${proxyUrl.protocol}\" scheme not supported in proxy URI`);\n        return {};\n    }\n    let userCred = null;\n    if (proxyUrl.username) {\n        if (proxyUrl.password) {\n            (0, logging_1.log)(constants_1.LogVerbosity.INFO, 'userinfo found in proxy URI');\n            userCred = decodeURIComponent(`${proxyUrl.username}:${proxyUrl.password}`);\n        }\n        else {\n            userCred = proxyUrl.username;\n        }\n    }\n    const hostname = proxyUrl.hostname;\n    let port = proxyUrl.port;\n    /* The proxy URL uses the scheme \"http:\", which has a default port number of\n     * 80. We need to set that explicitly here if it is omitted because otherwise\n     * it will use gRPC's default port 443. */\n    if (port === '') {\n        port = '80';\n    }\n    const result = {\n        address: `${hostname}:${port}`,\n    };\n    if (userCred) {\n        result.creds = userCred;\n    }\n    trace('Proxy server ' + result.address + ' set by environment variable ' + envVar);\n    return result;\n}\nfunction getNoProxyHostList() {\n    /* Prefer using 'no_grpc_proxy'. Fallback on 'no_proxy' if it is not set. */\n    let noProxyStr = process.env.no_grpc_proxy;\n    let envVar = 'no_grpc_proxy';\n    if (!noProxyStr) {\n        noProxyStr = process.env.no_proxy;\n        envVar = 'no_proxy';\n    }\n    if (noProxyStr) {\n        trace('No proxy server list set by environment variable ' + envVar);\n        return noProxyStr.split(',');\n    }\n    else {\n        return [];\n    }\n}\n/*\n * The groups correspond to CIDR parts as follows:\n * 1. ip\n * 2. prefixLength\n */\nfunction parseCIDR(cidrString) {\n    const splitRange = cidrString.split('/');\n    if (splitRange.length !== 2) {\n        return null;\n    }\n    const prefixLength = parseInt(splitRange[1], 10);\n    if (!(0, net_1.isIPv4)(splitRange[0]) || Number.isNaN(prefixLength) || prefixLength < 0 || prefixLength > 32) {\n        return null;\n    }\n    return {\n        ip: ipToInt(splitRange[0]),\n        prefixLength: prefixLength\n    };\n}\nfunction ipToInt(ip) {\n    return ip.split(\".\").reduce((acc, octet) => (acc << 8) + parseInt(octet, 10), 0);\n}\nfunction isIpInCIDR(cidr, serverHost) {\n    const ip = cidr.ip;\n    const mask = -1 << (32 - cidr.prefixLength);\n    const hostIP = ipToInt(serverHost);\n    return (hostIP & mask) === (ip & mask);\n}\nfunction hostMatchesNoProxyList(serverHost) {\n    for (const host of getNoProxyHostList()) {\n        const parsedCIDR = parseCIDR(host);\n        // host is a CIDR and serverHost is an IP address\n        if ((0, net_1.isIPv4)(serverHost) && parsedCIDR && isIpInCIDR(parsedCIDR, serverHost)) {\n            return true;\n        }\n        else if (serverHost.endsWith(host)) {\n            // host is a single IP or a domain name suffix\n            return true;\n        }\n    }\n    return false;\n}\nfunction mapProxyName(target, options) {\n    var _a;\n    const noProxyResult = {\n        target: target,\n        extraOptions: {},\n    };\n    if (((_a = options['grpc.enable_http_proxy']) !== null && _a !== void 0 ? _a : 1) === 0) {\n        return noProxyResult;\n    }\n    if (target.scheme === 'unix') {\n        return noProxyResult;\n    }\n    const proxyInfo = getProxyInfo();\n    if (!proxyInfo.address) {\n        return noProxyResult;\n    }\n    const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n    if (!hostPort) {\n        return noProxyResult;\n    }\n    const serverHost = hostPort.host;\n    if (hostMatchesNoProxyList(serverHost)) {\n        trace('Not using proxy for target in no_proxy list: ' + (0, uri_parser_1.uriToString)(target));\n        return noProxyResult;\n    }\n    const extraOptions = {\n        'grpc.http_connect_target': (0, uri_parser_1.uriToString)(target),\n    };\n    if (proxyInfo.creds) {\n        extraOptions['grpc.http_connect_creds'] = proxyInfo.creds;\n    }\n    return {\n        target: {\n            scheme: 'dns',\n            path: proxyInfo.address,\n        },\n        extraOptions: extraOptions,\n    };\n}\nfunction getProxiedConnection(address, channelOptions) {\n    var _a;\n    if (!('grpc.http_connect_target' in channelOptions)) {\n        return Promise.resolve(null);\n    }\n    const realTarget = channelOptions['grpc.http_connect_target'];\n    const parsedTarget = (0, uri_parser_1.parseUri)(realTarget);\n    if (parsedTarget === null) {\n        return Promise.resolve(null);\n    }\n    const splitHostPost = (0, uri_parser_1.splitHostPort)(parsedTarget.path);\n    if (splitHostPost === null) {\n        return Promise.resolve(null);\n    }\n    const hostPort = `${splitHostPost.host}:${(_a = splitHostPost.port) !== null && _a !== void 0 ? _a : resolver_dns_1.DEFAULT_PORT}`;\n    const options = {\n        method: 'CONNECT',\n        path: hostPort,\n    };\n    const headers = {\n        Host: hostPort,\n    };\n    // Connect to the subchannel address as a proxy\n    if ((0, subchannel_address_1.isTcpSubchannelAddress)(address)) {\n        options.host = address.host;\n        options.port = address.port;\n    }\n    else {\n        options.socketPath = address.path;\n    }\n    if ('grpc.http_connect_creds' in channelOptions) {\n        headers['Proxy-Authorization'] =\n            'Basic ' +\n                Buffer.from(channelOptions['grpc.http_connect_creds']).toString('base64');\n    }\n    options.headers = headers;\n    const proxyAddressString = (0, subchannel_address_1.subchannelAddressToString)(address);\n    trace('Using proxy ' + proxyAddressString + ' to connect to ' + options.path);\n    return new Promise((resolve, reject) => {\n        const request = http.request(options);\n        request.once('connect', (res, socket, head) => {\n            request.removeAllListeners();\n            socket.removeAllListeners();\n            if (res.statusCode === 200) {\n                trace('Successfully connected to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString);\n                // The HTTP client may have already read a few bytes of the proxied\n                // connection. If that's the case, put them back into the socket.\n                // See https://github.com/grpc/grpc-node/issues/2744.\n                if (head.length > 0) {\n                    socket.unshift(head);\n                }\n                trace('Successfully established a plaintext connection to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString);\n                resolve(socket);\n            }\n            else {\n                (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString +\n                    ' with status ' +\n                    res.statusCode);\n                reject();\n            }\n        });\n        request.once('error', err => {\n            request.removeAllListeners();\n            (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to proxy ' +\n                proxyAddressString +\n                ' with error ' +\n                err.message);\n            reject();\n        });\n        request.end();\n    });\n}\n//# sourceMappingURL=http_proxy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9odHRwX3Byb3h5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLG9CQUFvQjtBQUNwQiw0QkFBNEI7QUFDNUIsa0JBQWtCLG1CQUFPLENBQUMsNkdBQVc7QUFDckMsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQixnQkFBZ0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNuQyw2QkFBNkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDM0QscUJBQXFCLG1CQUFPLENBQUMsbUhBQWM7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLHVCQUF1QixtQkFBTyxDQUFDLHVIQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixPQUFPO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxrQkFBa0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGtCQUFrQixHQUFHLGtCQUFrQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVMsR0FBRyxLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUIsR0FBRyx1RkFBdUY7QUFDckk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9odHRwX3Byb3h5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlQ0lEUiA9IHBhcnNlQ0lEUjtcbmV4cG9ydHMubWFwUHJveHlOYW1lID0gbWFwUHJveHlOYW1lO1xuZXhwb3J0cy5nZXRQcm94aWVkQ29ubmVjdGlvbiA9IGdldFByb3hpZWRDb25uZWN0aW9uO1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbmV0XzEgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCB1cmxfMSA9IHJlcXVpcmUoXCJ1cmxcIik7XG5jb25zdCByZXNvbHZlcl9kbnNfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyLWRuc1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3Byb3h5JztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuZnVuY3Rpb24gZ2V0UHJveHlJbmZvKCkge1xuICAgIGxldCBwcm94eUVudiA9ICcnO1xuICAgIGxldCBlbnZWYXIgPSAnJztcbiAgICAvKiBQcmVmZXIgdXNpbmcgJ2dycGNfcHJveHknLiBGYWxsYmFjayBvbiAnaHR0cF9wcm94eScgaWYgaXQgaXMgbm90IHNldC5cbiAgICAgKiBBbHNvIHByZWZlciB1c2luZyAnaHR0cHNfcHJveHknIHdpdGggZmFsbGJhY2sgb24gJ2h0dHBfcHJveHknLiBUaGVcbiAgICAgKiBmYWxsYmFjayBiZWhhdmlvciBjYW4gYmUgcmVtb3ZlZCBpZiB0aGVyZSdzIGEgZGVtYW5kIGZvciBpdC5cbiAgICAgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuZ3JwY19wcm94eSkge1xuICAgICAgICBlbnZWYXIgPSAnZ3JwY19wcm94eSc7XG4gICAgICAgIHByb3h5RW52ID0gcHJvY2Vzcy5lbnYuZ3JwY19wcm94eTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuaHR0cHNfcHJveHkpIHtcbiAgICAgICAgZW52VmFyID0gJ2h0dHBzX3Byb3h5JztcbiAgICAgICAgcHJveHlFbnYgPSBwcm9jZXNzLmVudi5odHRwc19wcm94eTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuaHR0cF9wcm94eSkge1xuICAgICAgICBlbnZWYXIgPSAnaHR0cF9wcm94eSc7XG4gICAgICAgIHByb3h5RW52ID0gcHJvY2Vzcy5lbnYuaHR0cF9wcm94eTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgbGV0IHByb3h5VXJsO1xuICAgIHRyeSB7XG4gICAgICAgIHByb3h5VXJsID0gbmV3IHVybF8xLlVSTChwcm94eUVudik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIGBjYW5ub3QgcGFyc2UgdmFsdWUgb2YgXCIke2VudlZhcn1cIiBlbnYgdmFyYCk7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKHByb3h5VXJsLnByb3RvY29sICE9PSAnaHR0cDonKSB7XG4gICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIGBcIiR7cHJveHlVcmwucHJvdG9jb2x9XCIgc2NoZW1lIG5vdCBzdXBwb3J0ZWQgaW4gcHJveHkgVVJJYCk7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgbGV0IHVzZXJDcmVkID0gbnVsbDtcbiAgICBpZiAocHJveHlVcmwudXNlcm5hbWUpIHtcbiAgICAgICAgaWYgKHByb3h5VXJsLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LklORk8sICd1c2VyaW5mbyBmb3VuZCBpbiBwcm94eSBVUkknKTtcbiAgICAgICAgICAgIHVzZXJDcmVkID0gZGVjb2RlVVJJQ29tcG9uZW50KGAke3Byb3h5VXJsLnVzZXJuYW1lfToke3Byb3h5VXJsLnBhc3N3b3JkfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXNlckNyZWQgPSBwcm94eVVybC51c2VybmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBob3N0bmFtZSA9IHByb3h5VXJsLmhvc3RuYW1lO1xuICAgIGxldCBwb3J0ID0gcHJveHlVcmwucG9ydDtcbiAgICAvKiBUaGUgcHJveHkgVVJMIHVzZXMgdGhlIHNjaGVtZSBcImh0dHA6XCIsIHdoaWNoIGhhcyBhIGRlZmF1bHQgcG9ydCBudW1iZXIgb2ZcbiAgICAgKiA4MC4gV2UgbmVlZCB0byBzZXQgdGhhdCBleHBsaWNpdGx5IGhlcmUgaWYgaXQgaXMgb21pdHRlZCBiZWNhdXNlIG90aGVyd2lzZVxuICAgICAqIGl0IHdpbGwgdXNlIGdSUEMncyBkZWZhdWx0IHBvcnQgNDQzLiAqL1xuICAgIGlmIChwb3J0ID09PSAnJykge1xuICAgICAgICBwb3J0ID0gJzgwJztcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBhZGRyZXNzOiBgJHtob3N0bmFtZX06JHtwb3J0fWAsXG4gICAgfTtcbiAgICBpZiAodXNlckNyZWQpIHtcbiAgICAgICAgcmVzdWx0LmNyZWRzID0gdXNlckNyZWQ7XG4gICAgfVxuICAgIHRyYWNlKCdQcm94eSBzZXJ2ZXIgJyArIHJlc3VsdC5hZGRyZXNzICsgJyBzZXQgYnkgZW52aXJvbm1lbnQgdmFyaWFibGUgJyArIGVudlZhcik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldE5vUHJveHlIb3N0TGlzdCgpIHtcbiAgICAvKiBQcmVmZXIgdXNpbmcgJ25vX2dycGNfcHJveHknLiBGYWxsYmFjayBvbiAnbm9fcHJveHknIGlmIGl0IGlzIG5vdCBzZXQuICovXG4gICAgbGV0IG5vUHJveHlTdHIgPSBwcm9jZXNzLmVudi5ub19ncnBjX3Byb3h5O1xuICAgIGxldCBlbnZWYXIgPSAnbm9fZ3JwY19wcm94eSc7XG4gICAgaWYgKCFub1Byb3h5U3RyKSB7XG4gICAgICAgIG5vUHJveHlTdHIgPSBwcm9jZXNzLmVudi5ub19wcm94eTtcbiAgICAgICAgZW52VmFyID0gJ25vX3Byb3h5JztcbiAgICB9XG4gICAgaWYgKG5vUHJveHlTdHIpIHtcbiAgICAgICAgdHJhY2UoJ05vIHByb3h5IHNlcnZlciBsaXN0IHNldCBieSBlbnZpcm9ubWVudCB2YXJpYWJsZSAnICsgZW52VmFyKTtcbiAgICAgICAgcmV0dXJuIG5vUHJveHlTdHIuc3BsaXQoJywnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG4vKlxuICogVGhlIGdyb3VwcyBjb3JyZXNwb25kIHRvIENJRFIgcGFydHMgYXMgZm9sbG93czpcbiAqIDEuIGlwXG4gKiAyLiBwcmVmaXhMZW5ndGhcbiAqL1xuZnVuY3Rpb24gcGFyc2VDSURSKGNpZHJTdHJpbmcpIHtcbiAgICBjb25zdCBzcGxpdFJhbmdlID0gY2lkclN0cmluZy5zcGxpdCgnLycpO1xuICAgIGlmIChzcGxpdFJhbmdlLmxlbmd0aCAhPT0gMikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcHJlZml4TGVuZ3RoID0gcGFyc2VJbnQoc3BsaXRSYW5nZVsxXSwgMTApO1xuICAgIGlmICghKDAsIG5ldF8xLmlzSVB2NCkoc3BsaXRSYW5nZVswXSkgfHwgTnVtYmVyLmlzTmFOKHByZWZpeExlbmd0aCkgfHwgcHJlZml4TGVuZ3RoIDwgMCB8fCBwcmVmaXhMZW5ndGggPiAzMikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXA6IGlwVG9JbnQoc3BsaXRSYW5nZVswXSksXG4gICAgICAgIHByZWZpeExlbmd0aDogcHJlZml4TGVuZ3RoXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlwVG9JbnQoaXApIHtcbiAgICByZXR1cm4gaXAuc3BsaXQoXCIuXCIpLnJlZHVjZSgoYWNjLCBvY3RldCkgPT4gKGFjYyA8PCA4KSArIHBhcnNlSW50KG9jdGV0LCAxMCksIDApO1xufVxuZnVuY3Rpb24gaXNJcEluQ0lEUihjaWRyLCBzZXJ2ZXJIb3N0KSB7XG4gICAgY29uc3QgaXAgPSBjaWRyLmlwO1xuICAgIGNvbnN0IG1hc2sgPSAtMSA8PCAoMzIgLSBjaWRyLnByZWZpeExlbmd0aCk7XG4gICAgY29uc3QgaG9zdElQID0gaXBUb0ludChzZXJ2ZXJIb3N0KTtcbiAgICByZXR1cm4gKGhvc3RJUCAmIG1hc2spID09PSAoaXAgJiBtYXNrKTtcbn1cbmZ1bmN0aW9uIGhvc3RNYXRjaGVzTm9Qcm94eUxpc3Qoc2VydmVySG9zdCkge1xuICAgIGZvciAoY29uc3QgaG9zdCBvZiBnZXROb1Byb3h5SG9zdExpc3QoKSkge1xuICAgICAgICBjb25zdCBwYXJzZWRDSURSID0gcGFyc2VDSURSKGhvc3QpO1xuICAgICAgICAvLyBob3N0IGlzIGEgQ0lEUiBhbmQgc2VydmVySG9zdCBpcyBhbiBJUCBhZGRyZXNzXG4gICAgICAgIGlmICgoMCwgbmV0XzEuaXNJUHY0KShzZXJ2ZXJIb3N0KSAmJiBwYXJzZWRDSURSICYmIGlzSXBJbkNJRFIocGFyc2VkQ0lEUiwgc2VydmVySG9zdCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlcnZlckhvc3QuZW5kc1dpdGgoaG9zdCkpIHtcbiAgICAgICAgICAgIC8vIGhvc3QgaXMgYSBzaW5nbGUgSVAgb3IgYSBkb21haW4gbmFtZSBzdWZmaXhcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG1hcFByb3h5TmFtZSh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgbm9Qcm94eVJlc3VsdCA9IHtcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIGV4dHJhT3B0aW9uczoge30sXG4gICAgfTtcbiAgICBpZiAoKChfYSA9IG9wdGlvbnNbJ2dycGMuZW5hYmxlX2h0dHBfcHJveHknXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMSkgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5vUHJveHlSZXN1bHQ7XG4gICAgfVxuICAgIGlmICh0YXJnZXQuc2NoZW1lID09PSAndW5peCcpIHtcbiAgICAgICAgcmV0dXJuIG5vUHJveHlSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5SW5mbyA9IGdldFByb3h5SW5mbygpO1xuICAgIGlmICghcHJveHlJbmZvLmFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIG5vUHJveHlSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0YXJnZXQucGF0aCk7XG4gICAgaWYgKCFob3N0UG9ydCkge1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgY29uc3Qgc2VydmVySG9zdCA9IGhvc3RQb3J0Lmhvc3Q7XG4gICAgaWYgKGhvc3RNYXRjaGVzTm9Qcm94eUxpc3Qoc2VydmVySG9zdCkpIHtcbiAgICAgICAgdHJhY2UoJ05vdCB1c2luZyBwcm94eSBmb3IgdGFyZ2V0IGluIG5vX3Byb3h5IGxpc3Q6ICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpKTtcbiAgICAgICAgcmV0dXJuIG5vUHJveHlSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGV4dHJhT3B0aW9ucyA9IHtcbiAgICAgICAgJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCc6ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCksXG4gICAgfTtcbiAgICBpZiAocHJveHlJbmZvLmNyZWRzKSB7XG4gICAgICAgIGV4dHJhT3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfY3JlZHMnXSA9IHByb3h5SW5mby5jcmVkcztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICBzY2hlbWU6ICdkbnMnLFxuICAgICAgICAgICAgcGF0aDogcHJveHlJbmZvLmFkZHJlc3MsXG4gICAgICAgIH0sXG4gICAgICAgIGV4dHJhT3B0aW9uczogZXh0cmFPcHRpb25zLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRQcm94aWVkQ29ubmVjdGlvbihhZGRyZXNzLCBjaGFubmVsT3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoISgnZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0JyBpbiBjaGFubmVsT3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgY29uc3QgcmVhbFRhcmdldCA9IGNoYW5uZWxPcHRpb25zWydncnBjLmh0dHBfY29ubmVjdF90YXJnZXQnXTtcbiAgICBjb25zdCBwYXJzZWRUYXJnZXQgPSAoMCwgdXJpX3BhcnNlcl8xLnBhcnNlVXJpKShyZWFsVGFyZ2V0KTtcbiAgICBpZiAocGFyc2VkVGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IHNwbGl0SG9zdFBvc3QgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHBhcnNlZFRhcmdldC5wYXRoKTtcbiAgICBpZiAoc3BsaXRIb3N0UG9zdCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBob3N0UG9ydCA9IGAke3NwbGl0SG9zdFBvc3QuaG9zdH06JHsoX2EgPSBzcGxpdEhvc3RQb3N0LnBvcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHJlc29sdmVyX2Ruc18xLkRFRkFVTFRfUE9SVH1gO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ0NPTk5FQ1QnLFxuICAgICAgICBwYXRoOiBob3N0UG9ydCxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIEhvc3Q6IGhvc3RQb3J0LFxuICAgIH07XG4gICAgLy8gQ29ubmVjdCB0byB0aGUgc3ViY2hhbm5lbCBhZGRyZXNzIGFzIGEgcHJveHlcbiAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3MpKSB7XG4gICAgICAgIG9wdGlvbnMuaG9zdCA9IGFkZHJlc3MuaG9zdDtcbiAgICAgICAgb3B0aW9ucy5wb3J0ID0gYWRkcmVzcy5wb3J0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy5zb2NrZXRQYXRoID0gYWRkcmVzcy5wYXRoO1xuICAgIH1cbiAgICBpZiAoJ2dycGMuaHR0cF9jb25uZWN0X2NyZWRzJyBpbiBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICBoZWFkZXJzWydQcm94eS1BdXRob3JpemF0aW9uJ10gPVxuICAgICAgICAgICAgJ0Jhc2ljICcgK1xuICAgICAgICAgICAgICAgIEJ1ZmZlci5mcm9tKGNoYW5uZWxPcHRpb25zWydncnBjLmh0dHBfY29ubmVjdF9jcmVkcyddKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgfVxuICAgIG9wdGlvbnMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgY29uc3QgcHJveHlBZGRyZXNzU3RyaW5nID0gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpO1xuICAgIHRyYWNlKCdVc2luZyBwcm94eSAnICsgcHJveHlBZGRyZXNzU3RyaW5nICsgJyB0byBjb25uZWN0IHRvICcgKyBvcHRpb25zLnBhdGgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBodHRwLnJlcXVlc3Qob3B0aW9ucyk7XG4gICAgICAgIHJlcXVlc3Qub25jZSgnY29ubmVjdCcsIChyZXMsIHNvY2tldCwgaGVhZCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ1N1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGF0aCArXG4gICAgICAgICAgICAgICAgICAgICcgdGhyb3VnaCBwcm94eSAnICtcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBZGRyZXNzU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAvLyBUaGUgSFRUUCBjbGllbnQgbWF5IGhhdmUgYWxyZWFkeSByZWFkIGEgZmV3IGJ5dGVzIG9mIHRoZSBwcm94aWVkXG4gICAgICAgICAgICAgICAgLy8gY29ubmVjdGlvbi4gSWYgdGhhdCdzIHRoZSBjYXNlLCBwdXQgdGhlbSBiYWNrIGludG8gdGhlIHNvY2tldC5cbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy1ub2RlL2lzc3Vlcy8yNzQ0LlxuICAgICAgICAgICAgICAgIGlmIChoZWFkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnVuc2hpZnQoaGVhZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYWNlKCdTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgYSBwbGFpbnRleHQgY29ubmVjdGlvbiB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXRoICtcbiAgICAgICAgICAgICAgICAgICAgJyB0aHJvdWdoIHByb3h5ICcgK1xuICAgICAgICAgICAgICAgICAgICBwcm94eUFkZHJlc3NTdHJpbmcpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoc29ja2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsICdGYWlsZWQgdG8gY29ubmVjdCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXRoICtcbiAgICAgICAgICAgICAgICAgICAgJyB0aHJvdWdoIHByb3h5ICcgK1xuICAgICAgICAgICAgICAgICAgICBwcm94eUFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgICAgICAgICAnIHdpdGggc3RhdHVzICcgK1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCAnRmFpbGVkIHRvIGNvbm5lY3QgdG8gcHJveHkgJyArXG4gICAgICAgICAgICAgICAgcHJveHlBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXF1ZXN0LmVuZCgpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cF9wcm94eS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.experimental = exports.ServerInterceptingCall = exports.ResponderBuilder = exports.ServerListenerBuilder = exports.addAdminServicesToServer = exports.getChannelzHandlers = exports.getChannelzServiceDefinition = exports.InterceptorConfigurationError = exports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.StatusBuilder = exports.getClientChannel = exports.ServerCredentials = exports.Server = exports.setLogVerbosity = exports.setLogger = exports.load = exports.loadObject = exports.CallCredentials = exports.ChannelCredentials = exports.waitForClientReady = exports.closeClient = exports.Channel = exports.makeGenericClientConstructor = exports.makeClientConstructor = exports.loadPackageDefinition = exports.Client = exports.compressionAlgorithms = exports.propagate = exports.connectivityState = exports.status = exports.logVerbosity = exports.Metadata = exports.credentials = void 0;\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nObject.defineProperty(exports, \"CallCredentials\", ({ enumerable: true, get: function () { return call_credentials_1.CallCredentials; } }));\nconst channel_1 = __webpack_require__(/*! ./channel */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js\");\nObject.defineProperty(exports, \"Channel\", ({ enumerable: true, get: function () { return channel_1.ChannelImplementation; } }));\nconst compression_algorithms_1 = __webpack_require__(/*! ./compression-algorithms */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\");\nObject.defineProperty(exports, \"compressionAlgorithms\", ({ enumerable: true, get: function () { return compression_algorithms_1.CompressionAlgorithms; } }));\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nObject.defineProperty(exports, \"connectivityState\", ({ enumerable: true, get: function () { return connectivity_state_1.ConnectivityState; } }));\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nObject.defineProperty(exports, \"ChannelCredentials\", ({ enumerable: true, get: function () { return channel_credentials_1.ChannelCredentials; } }));\nconst client_1 = __webpack_require__(/*! ./client */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js\");\nObject.defineProperty(exports, \"Client\", ({ enumerable: true, get: function () { return client_1.Client; } }));\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nObject.defineProperty(exports, \"logVerbosity\", ({ enumerable: true, get: function () { return constants_1.LogVerbosity; } }));\nObject.defineProperty(exports, \"status\", ({ enumerable: true, get: function () { return constants_1.Status; } }));\nObject.defineProperty(exports, \"propagate\", ({ enumerable: true, get: function () { return constants_1.Propagate; } }));\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst make_client_1 = __webpack_require__(/*! ./make-client */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js\");\nObject.defineProperty(exports, \"loadPackageDefinition\", ({ enumerable: true, get: function () { return make_client_1.loadPackageDefinition; } }));\nObject.defineProperty(exports, \"makeClientConstructor\", ({ enumerable: true, get: function () { return make_client_1.makeClientConstructor; } }));\nObject.defineProperty(exports, \"makeGenericClientConstructor\", ({ enumerable: true, get: function () { return make_client_1.makeClientConstructor; } }));\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nObject.defineProperty(exports, \"Metadata\", ({ enumerable: true, get: function () { return metadata_1.Metadata; } }));\nconst server_1 = __webpack_require__(/*! ./server */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js\");\nObject.defineProperty(exports, \"Server\", ({ enumerable: true, get: function () { return server_1.Server; } }));\nconst server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nObject.defineProperty(exports, \"ServerCredentials\", ({ enumerable: true, get: function () { return server_credentials_1.ServerCredentials; } }));\nconst status_builder_1 = __webpack_require__(/*! ./status-builder */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js\");\nObject.defineProperty(exports, \"StatusBuilder\", ({ enumerable: true, get: function () { return status_builder_1.StatusBuilder; } }));\n/**** Client Credentials ****/\n// Using assign only copies enumerable properties, which is what we want\nexports.credentials = {\n    /**\n     * Combine a ChannelCredentials with any number of CallCredentials into a\n     * single ChannelCredentials object.\n     * @param channelCredentials The ChannelCredentials object.\n     * @param callCredentials Any number of CallCredentials objects.\n     * @return The resulting ChannelCredentials object.\n     */\n    combineChannelCredentials: (channelCredentials, ...callCredentials) => {\n        return callCredentials.reduce((acc, other) => acc.compose(other), channelCredentials);\n    },\n    /**\n     * Combine any number of CallCredentials into a single CallCredentials\n     * object.\n     * @param first The first CallCredentials object.\n     * @param additional Any number of additional CallCredentials objects.\n     * @return The resulting CallCredentials object.\n     */\n    combineCallCredentials: (first, ...additional) => {\n        return additional.reduce((acc, other) => acc.compose(other), first);\n    },\n    // from channel-credentials.ts\n    createInsecure: channel_credentials_1.ChannelCredentials.createInsecure,\n    createSsl: channel_credentials_1.ChannelCredentials.createSsl,\n    createFromSecureContext: channel_credentials_1.ChannelCredentials.createFromSecureContext,\n    // from call-credentials.ts\n    createFromMetadataGenerator: call_credentials_1.CallCredentials.createFromMetadataGenerator,\n    createFromGoogleCredential: call_credentials_1.CallCredentials.createFromGoogleCredential,\n    createEmpty: call_credentials_1.CallCredentials.createEmpty,\n};\n/**\n * Close a Client object.\n * @param client The client to close.\n */\nconst closeClient = (client) => client.close();\nexports.closeClient = closeClient;\nconst waitForClientReady = (client, deadline, callback) => client.waitForReady(deadline, callback);\nexports.waitForClientReady = waitForClientReady;\n/* eslint-enable @typescript-eslint/no-explicit-any */\n/**** Unimplemented function stubs ****/\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst loadObject = (value, options) => {\n    throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.loadObject = loadObject;\nconst load = (filename, format, options) => {\n    throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.load = load;\nconst setLogger = (logger) => {\n    logging.setLogger(logger);\n};\nexports.setLogger = setLogger;\nconst setLogVerbosity = (verbosity) => {\n    logging.setLoggerVerbosity(verbosity);\n};\nexports.setLogVerbosity = setLogVerbosity;\nconst getClientChannel = (client) => {\n    return client_1.Client.prototype.getChannel.call(client);\n};\nexports.getClientChannel = getClientChannel;\nvar client_interceptors_1 = __webpack_require__(/*! ./client-interceptors */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js\");\nObject.defineProperty(exports, \"ListenerBuilder\", ({ enumerable: true, get: function () { return client_interceptors_1.ListenerBuilder; } }));\nObject.defineProperty(exports, \"RequesterBuilder\", ({ enumerable: true, get: function () { return client_interceptors_1.RequesterBuilder; } }));\nObject.defineProperty(exports, \"InterceptingCall\", ({ enumerable: true, get: function () { return client_interceptors_1.InterceptingCall; } }));\nObject.defineProperty(exports, \"InterceptorConfigurationError\", ({ enumerable: true, get: function () { return client_interceptors_1.InterceptorConfigurationError; } }));\nvar channelz_1 = __webpack_require__(/*! ./channelz */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nObject.defineProperty(exports, \"getChannelzServiceDefinition\", ({ enumerable: true, get: function () { return channelz_1.getChannelzServiceDefinition; } }));\nObject.defineProperty(exports, \"getChannelzHandlers\", ({ enumerable: true, get: function () { return channelz_1.getChannelzHandlers; } }));\nvar admin_1 = __webpack_require__(/*! ./admin */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\");\nObject.defineProperty(exports, \"addAdminServicesToServer\", ({ enumerable: true, get: function () { return admin_1.addAdminServicesToServer; } }));\nvar server_interceptors_1 = __webpack_require__(/*! ./server-interceptors */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js\");\nObject.defineProperty(exports, \"ServerListenerBuilder\", ({ enumerable: true, get: function () { return server_interceptors_1.ServerListenerBuilder; } }));\nObject.defineProperty(exports, \"ResponderBuilder\", ({ enumerable: true, get: function () { return server_interceptors_1.ResponderBuilder; } }));\nObject.defineProperty(exports, \"ServerInterceptingCall\", ({ enumerable: true, get: function () { return server_interceptors_1.ServerInterceptingCall; } }));\nconst experimental = __webpack_require__(/*! ./experimental */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js\");\nexports.experimental = experimental;\nconst resolver_dns = __webpack_require__(/*! ./resolver-dns */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js\");\nconst resolver_uds = __webpack_require__(/*! ./resolver-uds */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js\");\nconst resolver_ip = __webpack_require__(/*! ./resolver-ip */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js\");\nconst load_balancer_pick_first = __webpack_require__(/*! ./load-balancer-pick-first */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nconst load_balancer_round_robin = __webpack_require__(/*! ./load-balancer-round-robin */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js\");\nconst load_balancer_outlier_detection = __webpack_require__(/*! ./load-balancer-outlier-detection */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js\");\nconst channelz = __webpack_require__(/*! ./channelz */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\n(() => {\n    resolver_dns.setup();\n    resolver_uds.setup();\n    resolver_ip.setup();\n    load_balancer_pick_first.setup();\n    load_balancer_round_robin.setup();\n    load_balancer_outlier_detection.setup();\n    channelz.setup();\n})();\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLDhCQUE4QixHQUFHLHdCQUF3QixHQUFHLDZCQUE2QixHQUFHLGdDQUFnQyxHQUFHLDJCQUEyQixHQUFHLG9DQUFvQyxHQUFHLHFDQUFxQyxHQUFHLHdCQUF3QixHQUFHLHdCQUF3QixHQUFHLHVCQUF1QixHQUFHLHFCQUFxQixHQUFHLHdCQUF3QixHQUFHLHlCQUF5QixHQUFHLGNBQWMsR0FBRyx1QkFBdUIsR0FBRyxpQkFBaUIsR0FBRyxZQUFZLEdBQUcsa0JBQWtCLEdBQUcsdUJBQXVCLEdBQUcsMEJBQTBCLEdBQUcsMEJBQTBCLEdBQUcsbUJBQW1CLEdBQUcsZUFBZSxHQUFHLG9DQUFvQyxHQUFHLDZCQUE2QixHQUFHLDZCQUE2QixHQUFHLGNBQWMsR0FBRyw2QkFBNkIsR0FBRyxpQkFBaUIsR0FBRyx5QkFBeUIsR0FBRyxjQUFjLEdBQUcsb0JBQW9CLEdBQUcsZ0JBQWdCLEdBQUcsbUJBQW1CO0FBQ3Y1QiwyQkFBMkIsbUJBQU8sQ0FBQywrSEFBb0I7QUFDdkQsbURBQWtELEVBQUUscUNBQXFDLDhDQUE4QyxFQUFDO0FBQ3hJLGtCQUFrQixtQkFBTyxDQUFDLDZHQUFXO0FBQ3JDLDJDQUEwQyxFQUFFLHFDQUFxQywyQ0FBMkMsRUFBQztBQUM3SCxpQ0FBaUMsbUJBQU8sQ0FBQywySUFBMEI7QUFDbkUseURBQXdELEVBQUUscUNBQXFDLDBEQUEwRCxFQUFDO0FBQzFKLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxxREFBb0QsRUFBRSxxQ0FBcUMsa0RBQWtELEVBQUM7QUFDOUksOEJBQThCLG1CQUFPLENBQUMscUlBQXVCO0FBQzdELHNEQUFxRCxFQUFFLHFDQUFxQyxvREFBb0QsRUFBQztBQUNqSixpQkFBaUIsbUJBQU8sQ0FBQywyR0FBVTtBQUNuQywwQ0FBeUMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDNUcsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsZ0RBQStDLEVBQUUscUNBQXFDLG9DQUFvQyxFQUFDO0FBQzNILDBDQUF5QyxFQUFFLHFDQUFxQyw4QkFBOEIsRUFBQztBQUMvRyw2Q0FBNEMsRUFBRSxxQ0FBcUMsaUNBQWlDLEVBQUM7QUFDckgsZ0JBQWdCLG1CQUFPLENBQUMsNkdBQVc7QUFDbkMsc0JBQXNCLG1CQUFPLENBQUMscUhBQWU7QUFDN0MseURBQXdELEVBQUUscUNBQXFDLCtDQUErQyxFQUFDO0FBQy9JLHlEQUF3RCxFQUFFLHFDQUFxQywrQ0FBK0MsRUFBQztBQUMvSSxnRUFBK0QsRUFBRSxxQ0FBcUMsK0NBQStDLEVBQUM7QUFDdEosbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkMsNENBQTJDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ2xILGlCQUFpQixtQkFBTyxDQUFDLDJHQUFVO0FBQ25DLDBDQUF5QyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUM1Ryw2QkFBNkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDM0QscURBQW9ELEVBQUUscUNBQXFDLGtEQUFrRCxFQUFDO0FBQzlJLHlCQUF5QixtQkFBTyxDQUFDLDJIQUFrQjtBQUNuRCxpREFBZ0QsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDbEk7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4Qiw0QkFBNEIsbUJBQU8sQ0FBQyxxSUFBdUI7QUFDM0QsbURBQWtELEVBQUUscUNBQXFDLGlEQUFpRCxFQUFDO0FBQzNJLG9EQUFtRCxFQUFFLHFDQUFxQyxrREFBa0QsRUFBQztBQUM3SSxvREFBbUQsRUFBRSxxQ0FBcUMsa0RBQWtELEVBQUM7QUFDN0ksaUVBQWdFLEVBQUUscUNBQXFDLCtEQUErRCxFQUFDO0FBQ3ZLLGlCQUFpQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3JDLGdFQUErRCxFQUFFLHFDQUFxQyxtREFBbUQsRUFBQztBQUMxSix1REFBc0QsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDeEksY0FBYyxtQkFBTyxDQUFDLHlHQUFTO0FBQy9CLDREQUEyRCxFQUFFLHFDQUFxQyw0Q0FBNEMsRUFBQztBQUMvSSw0QkFBNEIsbUJBQU8sQ0FBQyxxSUFBdUI7QUFDM0QseURBQXdELEVBQUUscUNBQXFDLHVEQUF1RCxFQUFDO0FBQ3ZKLG9EQUFtRCxFQUFFLHFDQUFxQyxrREFBa0QsRUFBQztBQUM3SSwwREFBeUQsRUFBRSxxQ0FBcUMsd0RBQXdELEVBQUM7QUFDekoscUJBQXFCLG1CQUFPLENBQUMsdUhBQWdCO0FBQzdDLG9CQUFvQjtBQUNwQixxQkFBcUIsbUJBQU8sQ0FBQyx1SEFBZ0I7QUFDN0MscUJBQXFCLG1CQUFPLENBQUMsdUhBQWdCO0FBQzdDLG9CQUFvQixtQkFBTyxDQUFDLHFIQUFlO0FBQzNDLGlDQUFpQyxtQkFBTyxDQUFDLCtJQUE0QjtBQUNyRSxrQ0FBa0MsbUJBQU8sQ0FBQyxpSkFBNkI7QUFDdkUsd0NBQXdDLG1CQUFPLENBQUMsNkpBQW1DO0FBQ25GLGlCQUFpQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leHBlcmltZW50YWwgPSBleHBvcnRzLlNlcnZlckludGVyY2VwdGluZ0NhbGwgPSBleHBvcnRzLlJlc3BvbmRlckJ1aWxkZXIgPSBleHBvcnRzLlNlcnZlckxpc3RlbmVyQnVpbGRlciA9IGV4cG9ydHMuYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyID0gZXhwb3J0cy5nZXRDaGFubmVsekhhbmRsZXJzID0gZXhwb3J0cy5nZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uID0gZXhwb3J0cy5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciA9IGV4cG9ydHMuSW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuUmVxdWVzdGVyQnVpbGRlciA9IGV4cG9ydHMuTGlzdGVuZXJCdWlsZGVyID0gZXhwb3J0cy5TdGF0dXNCdWlsZGVyID0gZXhwb3J0cy5nZXRDbGllbnRDaGFubmVsID0gZXhwb3J0cy5TZXJ2ZXJDcmVkZW50aWFscyA9IGV4cG9ydHMuU2VydmVyID0gZXhwb3J0cy5zZXRMb2dWZXJib3NpdHkgPSBleHBvcnRzLnNldExvZ2dlciA9IGV4cG9ydHMubG9hZCA9IGV4cG9ydHMubG9hZE9iamVjdCA9IGV4cG9ydHMuQ2FsbENyZWRlbnRpYWxzID0gZXhwb3J0cy5DaGFubmVsQ3JlZGVudGlhbHMgPSBleHBvcnRzLndhaXRGb3JDbGllbnRSZWFkeSA9IGV4cG9ydHMuY2xvc2VDbGllbnQgPSBleHBvcnRzLkNoYW5uZWwgPSBleHBvcnRzLm1ha2VHZW5lcmljQ2xpZW50Q29uc3RydWN0b3IgPSBleHBvcnRzLm1ha2VDbGllbnRDb25zdHJ1Y3RvciA9IGV4cG9ydHMubG9hZFBhY2thZ2VEZWZpbml0aW9uID0gZXhwb3J0cy5DbGllbnQgPSBleHBvcnRzLmNvbXByZXNzaW9uQWxnb3JpdGhtcyA9IGV4cG9ydHMucHJvcGFnYXRlID0gZXhwb3J0cy5jb25uZWN0aXZpdHlTdGF0ZSA9IGV4cG9ydHMuc3RhdHVzID0gZXhwb3J0cy5sb2dWZXJib3NpdHkgPSBleHBvcnRzLk1ldGFkYXRhID0gZXhwb3J0cy5jcmVkZW50aWFscyA9IHZvaWQgMDtcbmNvbnN0IGNhbGxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NhbGwtY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDYWxsQ3JlZGVudGlhbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHM7IH0gfSk7XG5jb25zdCBjaGFubmVsXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2hhbm5lbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbF8xLkNoYW5uZWxJbXBsZW1lbnRhdGlvbjsgfSB9KTtcbmNvbnN0IGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMSA9IHJlcXVpcmUoXCIuL2NvbXByZXNzaW9uLWFsZ29yaXRobXNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21wcmVzc2lvbkFsZ29yaXRobXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMS5Db21wcmVzc2lvbkFsZ29yaXRobXM7IH0gfSk7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbm5lY3Rpdml0eVN0YXRlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZTsgfSB9KTtcbmNvbnN0IGNoYW5uZWxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaGFubmVsQ3JlZGVudGlhbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHM7IH0gfSk7XG5jb25zdCBjbGllbnRfMSA9IHJlcXVpcmUoXCIuL2NsaWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50XzEuQ2xpZW50OyB9IH0pO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsb2dWZXJib3NpdHlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0YXR1c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uc3RhbnRzXzEuU3RhdHVzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicHJvcGFnYXRlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25zdGFudHNfMS5Qcm9wYWdhdGU7IH0gfSk7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IG1ha2VfY2xpZW50XzEgPSByZXF1aXJlKFwiLi9tYWtlLWNsaWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImxvYWRQYWNrYWdlRGVmaW5pdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFrZV9jbGllbnRfMS5sb2FkUGFja2FnZURlZmluaXRpb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYWtlQ2xpZW50Q29uc3RydWN0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ha2VfY2xpZW50XzEubWFrZUNsaWVudENvbnN0cnVjdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZUdlbmVyaWNDbGllbnRDb25zdHJ1Y3RvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFrZV9jbGllbnRfMS5tYWtlQ2xpZW50Q29uc3RydWN0b3I7IH0gfSk7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNZXRhZGF0YVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0YWRhdGFfMS5NZXRhZGF0YTsgfSB9KTtcbmNvbnN0IHNlcnZlcl8xID0gcmVxdWlyZShcIi4vc2VydmVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VydmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2ZXJfMS5TZXJ2ZXI7IH0gfSk7XG5jb25zdCBzZXJ2ZXJfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL3NlcnZlci1jcmVkZW50aWFsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlckNyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2ZXJfY3JlZGVudGlhbHNfMS5TZXJ2ZXJDcmVkZW50aWFsczsgfSB9KTtcbmNvbnN0IHN0YXR1c19idWlsZGVyXzEgPSByZXF1aXJlKFwiLi9zdGF0dXMtYnVpbGRlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0YXR1c0J1aWxkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXR1c19idWlsZGVyXzEuU3RhdHVzQnVpbGRlcjsgfSB9KTtcbi8qKioqIENsaWVudCBDcmVkZW50aWFscyAqKioqL1xuLy8gVXNpbmcgYXNzaWduIG9ubHkgY29waWVzIGVudW1lcmFibGUgcHJvcGVydGllcywgd2hpY2ggaXMgd2hhdCB3ZSB3YW50XG5leHBvcnRzLmNyZWRlbnRpYWxzID0ge1xuICAgIC8qKlxuICAgICAqIENvbWJpbmUgYSBDaGFubmVsQ3JlZGVudGlhbHMgd2l0aCBhbnkgbnVtYmVyIG9mIENhbGxDcmVkZW50aWFscyBpbnRvIGFcbiAgICAgKiBzaW5nbGUgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbENyZWRlbnRpYWxzIFRoZSBDaGFubmVsQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBjYWxsQ3JlZGVudGlhbHMgQW55IG51bWJlciBvZiBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb21iaW5lQ2hhbm5lbENyZWRlbnRpYWxzOiAoY2hhbm5lbENyZWRlbnRpYWxzLCAuLi5jYWxsQ3JlZGVudGlhbHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGxDcmVkZW50aWFscy5yZWR1Y2UoKGFjYywgb3RoZXIpID0+IGFjYy5jb21wb3NlKG90aGVyKSwgY2hhbm5lbENyZWRlbnRpYWxzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbWJpbmUgYW55IG51bWJlciBvZiBDYWxsQ3JlZGVudGlhbHMgaW50byBhIHNpbmdsZSBDYWxsQ3JlZGVudGlhbHNcbiAgICAgKiBvYmplY3QuXG4gICAgICogQHBhcmFtIGZpcnN0IFRoZSBmaXJzdCBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBhZGRpdGlvbmFsIEFueSBudW1iZXIgb2YgYWRkaXRpb25hbCBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQ2FsbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb21iaW5lQ2FsbENyZWRlbnRpYWxzOiAoZmlyc3QsIC4uLmFkZGl0aW9uYWwpID0+IHtcbiAgICAgICAgcmV0dXJuIGFkZGl0aW9uYWwucmVkdWNlKChhY2MsIG90aGVyKSA9PiBhY2MuY29tcG9zZShvdGhlciksIGZpcnN0KTtcbiAgICB9LFxuICAgIC8vIGZyb20gY2hhbm5lbC1jcmVkZW50aWFscy50c1xuICAgIGNyZWF0ZUluc2VjdXJlOiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzLmNyZWF0ZUluc2VjdXJlLFxuICAgIGNyZWF0ZVNzbDogY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscy5jcmVhdGVTc2wsXG4gICAgY3JlYXRlRnJvbVNlY3VyZUNvbnRleHQ6IGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHMuY3JlYXRlRnJvbVNlY3VyZUNvbnRleHQsXG4gICAgLy8gZnJvbSBjYWxsLWNyZWRlbnRpYWxzLnRzXG4gICAgY3JlYXRlRnJvbU1ldGFkYXRhR2VuZXJhdG9yOiBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUZyb21NZXRhZGF0YUdlbmVyYXRvcixcbiAgICBjcmVhdGVGcm9tR29vZ2xlQ3JlZGVudGlhbDogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVGcm9tR29vZ2xlQ3JlZGVudGlhbCxcbiAgICBjcmVhdGVFbXB0eTogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVFbXB0eSxcbn07XG4vKipcbiAqIENsb3NlIGEgQ2xpZW50IG9iamVjdC5cbiAqIEBwYXJhbSBjbGllbnQgVGhlIGNsaWVudCB0byBjbG9zZS5cbiAqL1xuY29uc3QgY2xvc2VDbGllbnQgPSAoY2xpZW50KSA9PiBjbGllbnQuY2xvc2UoKTtcbmV4cG9ydHMuY2xvc2VDbGllbnQgPSBjbG9zZUNsaWVudDtcbmNvbnN0IHdhaXRGb3JDbGllbnRSZWFkeSA9IChjbGllbnQsIGRlYWRsaW5lLCBjYWxsYmFjaykgPT4gY2xpZW50LndhaXRGb3JSZWFkeShkZWFkbGluZSwgY2FsbGJhY2spO1xuZXhwb3J0cy53YWl0Rm9yQ2xpZW50UmVhZHkgPSB3YWl0Rm9yQ2xpZW50UmVhZHk7XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKioqIFVuaW1wbGVtZW50ZWQgZnVuY3Rpb24gc3R1YnMgKioqKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmNvbnN0IGxvYWRPYmplY3QgPSAodmFsdWUsIG9wdGlvbnMpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdmFpbGFibGUgaW4gdGhpcyBsaWJyYXJ5LiBVc2UgQGdycGMvcHJvdG8tbG9hZGVyIGFuZCBsb2FkUGFja2FnZURlZmluaXRpb24gaW5zdGVhZCcpO1xufTtcbmV4cG9ydHMubG9hZE9iamVjdCA9IGxvYWRPYmplY3Q7XG5jb25zdCBsb2FkID0gKGZpbGVuYW1lLCBmb3JtYXQsIG9wdGlvbnMpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdmFpbGFibGUgaW4gdGhpcyBsaWJyYXJ5LiBVc2UgQGdycGMvcHJvdG8tbG9hZGVyIGFuZCBsb2FkUGFja2FnZURlZmluaXRpb24gaW5zdGVhZCcpO1xufTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5jb25zdCBzZXRMb2dnZXIgPSAobG9nZ2VyKSA9PiB7XG4gICAgbG9nZ2luZy5zZXRMb2dnZXIobG9nZ2VyKTtcbn07XG5leHBvcnRzLnNldExvZ2dlciA9IHNldExvZ2dlcjtcbmNvbnN0IHNldExvZ1ZlcmJvc2l0eSA9ICh2ZXJib3NpdHkpID0+IHtcbiAgICBsb2dnaW5nLnNldExvZ2dlclZlcmJvc2l0eSh2ZXJib3NpdHkpO1xufTtcbmV4cG9ydHMuc2V0TG9nVmVyYm9zaXR5ID0gc2V0TG9nVmVyYm9zaXR5O1xuY29uc3QgZ2V0Q2xpZW50Q2hhbm5lbCA9IChjbGllbnQpID0+IHtcbiAgICByZXR1cm4gY2xpZW50XzEuQ2xpZW50LnByb3RvdHlwZS5nZXRDaGFubmVsLmNhbGwoY2xpZW50KTtcbn07XG5leHBvcnRzLmdldENsaWVudENoYW5uZWwgPSBnZXRDbGllbnRDaGFubmVsO1xudmFyIGNsaWVudF9pbnRlcmNlcHRvcnNfMSA9IHJlcXVpcmUoXCIuL2NsaWVudC1pbnRlcmNlcHRvcnNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMaXN0ZW5lckJ1aWxkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5MaXN0ZW5lckJ1aWxkZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSZXF1ZXN0ZXJCdWlsZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuUmVxdWVzdGVyQnVpbGRlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkludGVyY2VwdGluZ0NhbGxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5JbnRlcmNlcHRpbmdDYWxsOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcjsgfSB9KTtcbnZhciBjaGFubmVsel8xID0gcmVxdWlyZShcIi4vY2hhbm5lbHpcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGFubmVsel8xLmdldENoYW5uZWx6U2VydmljZURlZmluaXRpb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRDaGFubmVsekhhbmRsZXJzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGFubmVsel8xLmdldENoYW5uZWx6SGFuZGxlcnM7IH0gfSk7XG52YXIgYWRtaW5fMSA9IHJlcXVpcmUoXCIuL2FkbWluXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhZG1pbl8xLmFkZEFkbWluU2VydmljZXNUb1NlcnZlcjsgfSB9KTtcbnZhciBzZXJ2ZXJfaW50ZXJjZXB0b3JzXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItaW50ZXJjZXB0b3JzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VydmVyTGlzdGVuZXJCdWlsZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2ZXJfaW50ZXJjZXB0b3JzXzEuU2VydmVyTGlzdGVuZXJCdWlsZGVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmVzcG9uZGVyQnVpbGRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2ludGVyY2VwdG9yc18xLlJlc3BvbmRlckJ1aWxkZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2ZXJfaW50ZXJjZXB0b3JzXzEuU2VydmVySW50ZXJjZXB0aW5nQ2FsbDsgfSB9KTtcbmNvbnN0IGV4cGVyaW1lbnRhbCA9IHJlcXVpcmUoXCIuL2V4cGVyaW1lbnRhbFwiKTtcbmV4cG9ydHMuZXhwZXJpbWVudGFsID0gZXhwZXJpbWVudGFsO1xuY29uc3QgcmVzb2x2ZXJfZG5zID0gcmVxdWlyZShcIi4vcmVzb2x2ZXItZG5zXCIpO1xuY29uc3QgcmVzb2x2ZXJfdWRzID0gcmVxdWlyZShcIi4vcmVzb2x2ZXItdWRzXCIpO1xuY29uc3QgcmVzb2x2ZXJfaXAgPSByZXF1aXJlKFwiLi9yZXNvbHZlci1pcFwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfcGlja19maXJzdCA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItcGljay1maXJzdFwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfcm91bmRfcm9iaW4gPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLXJvdW5kLXJvYmluXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl9vdXRsaWVyX2RldGVjdGlvbiA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItb3V0bGllci1kZXRlY3Rpb25cIik7XG5jb25zdCBjaGFubmVseiA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuKCgpID0+IHtcbiAgICByZXNvbHZlcl9kbnMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl91ZHMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl9pcC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcGlja19maXJzdC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcm91bmRfcm9iaW4uc2V0dXAoKTtcbiAgICBsb2FkX2JhbGFuY2VyX291dGxpZXJfZGV0ZWN0aW9uLnNldHVwKCk7XG4gICAgY2hhbm5lbHouc2V0dXAoKTtcbn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.InternalChannel = exports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX = void 0;\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nconst resolving_load_balancer_1 = __webpack_require__(/*! ./resolving-load-balancer */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js\");\nconst subchannel_pool_1 = __webpack_require__(/*! ./subchannel-pool */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst filter_stack_1 = __webpack_require__(/*! ./filter-stack */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js\");\nconst compression_filter_1 = __webpack_require__(/*! ./compression-filter */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst http_proxy_1 = __webpack_require__(/*! ./http_proxy */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst load_balancing_call_1 = __webpack_require__(/*! ./load-balancing-call */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst resolving_call_1 = __webpack_require__(/*! ./resolving-call */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js\");\nconst call_number_1 = __webpack_require__(/*! ./call-number */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst retrying_call_1 = __webpack_require__(/*! ./retrying-call */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js\");\nconst subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\n/**\n * See https://nodejs.org/api/timers.html#timers_setinterval_callback_delay_args\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\nconst MIN_IDLE_TIMEOUT_MS = 1000;\n// 30 minutes\nconst DEFAULT_IDLE_TIMEOUT_MS = 30 * 60 * 1000;\nconst RETRY_THROTTLER_MAP = new Map();\nconst DEFAULT_RETRY_BUFFER_SIZE_BYTES = 1 << 24; // 16 MB\nconst DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES = 1 << 20; // 1 MB\nclass ChannelSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n    constructor(childSubchannel, channel) {\n        super(childSubchannel);\n        this.channel = channel;\n        this.refCount = 0;\n        this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime) => {\n            channel.throttleKeepalive(keepaliveTime);\n        };\n    }\n    ref() {\n        if (this.refCount === 0) {\n            this.child.addConnectivityStateListener(this.subchannelStateListener);\n            this.channel.addWrappedSubchannel(this);\n        }\n        this.child.ref();\n        this.refCount += 1;\n    }\n    unref() {\n        this.child.unref();\n        this.refCount -= 1;\n        if (this.refCount <= 0) {\n            this.child.removeConnectivityStateListener(this.subchannelStateListener);\n            this.channel.removeWrappedSubchannel(this);\n        }\n    }\n}\nclass ShutdownPicker {\n    pick(pickArgs) {\n        return {\n            pickResultType: picker_1.PickResultType.DROP,\n            status: {\n                code: constants_1.Status.UNAVAILABLE,\n                details: 'Channel closed before call started',\n                metadata: new metadata_1.Metadata()\n            },\n            subchannel: null,\n            onCallStarted: null,\n            onCallEnded: null\n        };\n    }\n}\nexports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX = 'grpc.internal.no_subchannel';\nclass ChannelzInfoTracker {\n    constructor(target) {\n        this.target = target;\n        this.trace = new channelz_1.ChannelzTrace();\n        this.callTracker = new channelz_1.ChannelzCallTracker();\n        this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n        this.state = connectivity_state_1.ConnectivityState.IDLE;\n    }\n    getChannelzInfoCallback() {\n        return () => {\n            return {\n                target: this.target,\n                state: this.state,\n                trace: this.trace,\n                callTracker: this.callTracker,\n                children: this.childrenTracker.getChildLists()\n            };\n        };\n    }\n}\nclass InternalChannel {\n    constructor(target, credentials, options) {\n        var _a, _b, _c, _d, _e, _f;\n        this.credentials = credentials;\n        this.options = options;\n        this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n        this.currentPicker = new picker_1.UnavailablePicker();\n        /**\n         * Calls queued up to get a call config. Should only be populated before the\n         * first time the resolver returns a result, which includes the ConfigSelector.\n         */\n        this.configSelectionQueue = [];\n        this.pickQueue = [];\n        this.connectivityStateWatchers = [];\n        /**\n         * This timer does not do anything on its own. Its purpose is to hold the\n         * event loop open while there are any pending calls for the channel that\n         * have not yet been assigned to specific subchannels. In other words,\n         * the invariant is that callRefTimer is reffed if and only if pickQueue\n         * is non-empty. In addition, the timer is null while the state is IDLE or\n         * SHUTDOWN and there are no pending calls.\n         */\n        this.callRefTimer = null;\n        this.configSelector = null;\n        /**\n         * This is the error from the name resolver if it failed most recently. It\n         * is only used to end calls that start while there is no config selector\n         * and the name resolver is in backoff, so it should be nulled if\n         * configSelector becomes set or the channel state becomes anything other\n         * than TRANSIENT_FAILURE.\n         */\n        this.currentResolutionError = null;\n        this.wrappedSubchannels = new Set();\n        this.callCount = 0;\n        this.idleTimer = null;\n        // Channelz info\n        this.channelzEnabled = true;\n        /**\n         * Randomly generated ID to be passed to the config selector, for use by\n         * ring_hash in xDS. An integer distributed approximately uniformly between\n         * 0 and MAX_SAFE_INTEGER.\n         */\n        this.randomChannelId = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\n        if (typeof target !== 'string') {\n            throw new TypeError('Channel target must be a string');\n        }\n        if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n            throw new TypeError('Channel credentials must be a ChannelCredentials object');\n        }\n        if (options) {\n            if (typeof options !== 'object') {\n                throw new TypeError('Channel options must be an object');\n            }\n        }\n        this.channelzInfoTracker = new ChannelzInfoTracker(target);\n        const originalTargetUri = (0, uri_parser_1.parseUri)(target);\n        if (originalTargetUri === null) {\n            throw new Error(`Could not parse target name \"${target}\"`);\n        }\n        /* This ensures that the target has a scheme that is registered with the\n         * resolver */\n        const defaultSchemeMapResult = (0, resolver_1.mapUriDefaultScheme)(originalTargetUri);\n        if (defaultSchemeMapResult === null) {\n            throw new Error(`Could not find a default scheme for target name \"${target}\"`);\n        }\n        if (this.options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzChannel)(target, this.channelzInfoTracker.getChannelzInfoCallback(), this.channelzEnabled);\n        if (this.channelzEnabled) {\n            this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Channel created');\n        }\n        if (this.options['grpc.default_authority']) {\n            this.defaultAuthority = this.options['grpc.default_authority'];\n        }\n        else {\n            this.defaultAuthority = (0, resolver_1.getDefaultAuthority)(defaultSchemeMapResult);\n        }\n        const proxyMapResult = (0, http_proxy_1.mapProxyName)(defaultSchemeMapResult, options);\n        this.target = proxyMapResult.target;\n        this.options = Object.assign({}, this.options, proxyMapResult.extraOptions);\n        /* The global boolean parameter to getSubchannelPool has the inverse meaning to what\n         * the grpc.use_local_subchannel_pool channel option means. */\n        this.subchannelPool = (0, subchannel_pool_1.getSubchannelPool)(((_a = this.options['grpc.use_local_subchannel_pool']) !== null && _a !== void 0 ? _a : 0) === 0);\n        this.retryBufferTracker = new retrying_call_1.MessageBufferTracker((_b = this.options['grpc.retry_buffer_size']) !== null && _b !== void 0 ? _b : DEFAULT_RETRY_BUFFER_SIZE_BYTES, (_c = this.options['grpc.per_rpc_retry_buffer_size']) !== null && _c !== void 0 ? _c : DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES);\n        this.keepaliveTime = (_d = this.options['grpc.keepalive_time_ms']) !== null && _d !== void 0 ? _d : -1;\n        this.idleTimeoutMs = Math.max((_e = this.options['grpc.client_idle_timeout_ms']) !== null && _e !== void 0 ? _e : DEFAULT_IDLE_TIMEOUT_MS, MIN_IDLE_TIMEOUT_MS);\n        const channelControlHelper = {\n            createSubchannel: (subchannelAddress, subchannelArgs) => {\n                const finalSubchannelArgs = {};\n                for (const [key, value] of Object.entries(subchannelArgs)) {\n                    if (!key.startsWith(exports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)) {\n                        finalSubchannelArgs[key] = value;\n                    }\n                }\n                const subchannel = this.subchannelPool.getOrCreateSubchannel(this.target, subchannelAddress, finalSubchannelArgs, this.credentials);\n                subchannel.throttleKeepalive(this.keepaliveTime);\n                if (this.channelzEnabled) {\n                    this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Created subchannel or used existing subchannel', subchannel.getChannelzRef());\n                }\n                const wrappedSubchannel = new ChannelSubchannelWrapper(subchannel, this);\n                return wrappedSubchannel;\n            },\n            updateState: (connectivityState, picker) => {\n                this.currentPicker = picker;\n                const queueCopy = this.pickQueue.slice();\n                this.pickQueue = [];\n                if (queueCopy.length > 0) {\n                    this.callRefTimerUnref();\n                }\n                for (const call of queueCopy) {\n                    call.doPick();\n                }\n                this.updateState(connectivityState);\n            },\n            requestReresolution: () => {\n                // This should never be called.\n                throw new Error('Resolving load balancer should never call requestReresolution');\n            },\n            addChannelzChild: (child) => {\n                if (this.channelzEnabled) {\n                    this.channelzInfoTracker.childrenTracker.refChild(child);\n                }\n            },\n            removeChannelzChild: (child) => {\n                if (this.channelzEnabled) {\n                    this.channelzInfoTracker.childrenTracker.unrefChild(child);\n                }\n            },\n        };\n        this.resolvingLoadBalancer = new resolving_load_balancer_1.ResolvingLoadBalancer(this.target, channelControlHelper, this.options, (serviceConfig, configSelector) => {\n            var _a;\n            if (serviceConfig.retryThrottling) {\n                RETRY_THROTTLER_MAP.set(this.getTarget(), new retrying_call_1.RetryThrottler(serviceConfig.retryThrottling.maxTokens, serviceConfig.retryThrottling.tokenRatio, RETRY_THROTTLER_MAP.get(this.getTarget())));\n            }\n            else {\n                RETRY_THROTTLER_MAP.delete(this.getTarget());\n            }\n            if (this.channelzEnabled) {\n                this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Address resolution succeeded');\n            }\n            (_a = this.configSelector) === null || _a === void 0 ? void 0 : _a.unref();\n            this.configSelector = configSelector;\n            this.currentResolutionError = null;\n            /* We process the queue asynchronously to ensure that the corresponding\n             * load balancer update has completed. */\n            process.nextTick(() => {\n                const localQueue = this.configSelectionQueue;\n                this.configSelectionQueue = [];\n                if (localQueue.length > 0) {\n                    this.callRefTimerUnref();\n                }\n                for (const call of localQueue) {\n                    call.getConfig();\n                }\n            });\n        }, status => {\n            if (this.channelzEnabled) {\n                this.channelzInfoTracker.trace.addTrace('CT_WARNING', 'Address resolution failed with code ' +\n                    status.code +\n                    ' and details \"' +\n                    status.details +\n                    '\"');\n            }\n            if (this.configSelectionQueue.length > 0) {\n                this.trace('Name resolution failed with calls queued for config selection');\n            }\n            if (this.configSelector === null) {\n                this.currentResolutionError = Object.assign(Object.assign({}, (0, control_plane_status_1.restrictControlPlaneStatusCode)(status.code, status.details)), { metadata: status.metadata });\n            }\n            const localQueue = this.configSelectionQueue;\n            this.configSelectionQueue = [];\n            if (localQueue.length > 0) {\n                this.callRefTimerUnref();\n            }\n            for (const call of localQueue) {\n                call.reportResolverError(status);\n            }\n        });\n        this.filterStackFactory = new filter_stack_1.FilterStackFactory([\n            new compression_filter_1.CompressionFilterFactory(this, this.options),\n        ]);\n        this.trace('Channel constructed with options ' +\n            JSON.stringify(options, undefined, 2));\n        const error = new Error();\n        if ((0, logging_1.isTracerEnabled)('channel_stacktrace')) {\n            (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'channel_stacktrace', '(' +\n                this.channelzRef.id +\n                ') ' +\n                'Channel constructed \\n' +\n                ((_f = error.stack) === null || _f === void 0 ? void 0 : _f.substring(error.stack.indexOf('\\n') + 1)));\n        }\n        this.lastActivityTimestamp = new Date();\n    }\n    trace(text, verbosityOverride) {\n        (0, logging_1.trace)(verbosityOverride !== null && verbosityOverride !== void 0 ? verbosityOverride : constants_1.LogVerbosity.DEBUG, 'channel', '(' + this.channelzRef.id + ') ' + (0, uri_parser_1.uriToString)(this.target) + ' ' + text);\n    }\n    callRefTimerRef() {\n        var _a, _b, _c, _d;\n        if (!this.callRefTimer) {\n            this.callRefTimer = setInterval(() => { }, MAX_TIMEOUT_TIME);\n        }\n        // If the hasRef function does not exist, always run the code\n        if (!((_b = (_a = this.callRefTimer).hasRef) === null || _b === void 0 ? void 0 : _b.call(_a))) {\n            this.trace('callRefTimer.ref | configSelectionQueue.length=' +\n                this.configSelectionQueue.length +\n                ' pickQueue.length=' +\n                this.pickQueue.length);\n            (_d = (_c = this.callRefTimer).ref) === null || _d === void 0 ? void 0 : _d.call(_c);\n        }\n    }\n    callRefTimerUnref() {\n        var _a, _b, _c;\n        // If the timer or the hasRef function does not exist, always run the code\n        if (!((_a = this.callRefTimer) === null || _a === void 0 ? void 0 : _a.hasRef) || this.callRefTimer.hasRef()) {\n            this.trace('callRefTimer.unref | configSelectionQueue.length=' +\n                this.configSelectionQueue.length +\n                ' pickQueue.length=' +\n                this.pickQueue.length);\n            (_c = (_b = this.callRefTimer) === null || _b === void 0 ? void 0 : _b.unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n        }\n    }\n    removeConnectivityStateWatcher(watcherObject) {\n        const watcherIndex = this.connectivityStateWatchers.findIndex(value => value === watcherObject);\n        if (watcherIndex >= 0) {\n            this.connectivityStateWatchers.splice(watcherIndex, 1);\n        }\n    }\n    updateState(newState) {\n        (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'connectivity_state', '(' +\n            this.channelzRef.id +\n            ') ' +\n            (0, uri_parser_1.uriToString)(this.target) +\n            ' ' +\n            connectivity_state_1.ConnectivityState[this.connectivityState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        if (this.channelzEnabled) {\n            this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Connectivity state change to ' + connectivity_state_1.ConnectivityState[newState]);\n        }\n        this.connectivityState = newState;\n        this.channelzInfoTracker.state = newState;\n        const watchersCopy = this.connectivityStateWatchers.slice();\n        for (const watcherObject of watchersCopy) {\n            if (newState !== watcherObject.currentState) {\n                if (watcherObject.timer) {\n                    clearTimeout(watcherObject.timer);\n                }\n                this.removeConnectivityStateWatcher(watcherObject);\n                watcherObject.callback();\n            }\n        }\n        if (newState !== connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n            this.currentResolutionError = null;\n        }\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        if (newKeepaliveTime > this.keepaliveTime) {\n            this.keepaliveTime = newKeepaliveTime;\n            for (const wrappedSubchannel of this.wrappedSubchannels) {\n                wrappedSubchannel.throttleKeepalive(newKeepaliveTime);\n            }\n        }\n    }\n    addWrappedSubchannel(wrappedSubchannel) {\n        this.wrappedSubchannels.add(wrappedSubchannel);\n    }\n    removeWrappedSubchannel(wrappedSubchannel) {\n        this.wrappedSubchannels.delete(wrappedSubchannel);\n    }\n    doPick(metadata, extraPickInfo) {\n        return this.currentPicker.pick({\n            metadata: metadata,\n            extraPickInfo: extraPickInfo,\n        });\n    }\n    queueCallForPick(call) {\n        this.pickQueue.push(call);\n        this.callRefTimerRef();\n    }\n    getConfig(method, metadata) {\n        if (this.connectivityState !== connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            this.resolvingLoadBalancer.exitIdle();\n        }\n        if (this.configSelector) {\n            return {\n                type: 'SUCCESS',\n                config: this.configSelector.invoke(method, metadata, this.randomChannelId),\n            };\n        }\n        else {\n            if (this.currentResolutionError) {\n                return {\n                    type: 'ERROR',\n                    error: this.currentResolutionError,\n                };\n            }\n            else {\n                return {\n                    type: 'NONE',\n                };\n            }\n        }\n    }\n    queueCallForConfig(call) {\n        this.configSelectionQueue.push(call);\n        this.callRefTimerRef();\n    }\n    enterIdle() {\n        this.resolvingLoadBalancer.destroy();\n        this.updateState(connectivity_state_1.ConnectivityState.IDLE);\n        this.currentPicker = new picker_1.QueuePicker(this.resolvingLoadBalancer);\n        if (this.idleTimer) {\n            clearTimeout(this.idleTimer);\n            this.idleTimer = null;\n        }\n        if (this.callRefTimer) {\n            clearInterval(this.callRefTimer);\n            this.callRefTimer = null;\n        }\n    }\n    startIdleTimeout(timeoutMs) {\n        var _a, _b;\n        this.idleTimer = setTimeout(() => {\n            if (this.callCount > 0) {\n                /* If there is currently a call, the channel will not go idle for a\n                 * period of at least idleTimeoutMs, so check again after that time.\n                 */\n                this.startIdleTimeout(this.idleTimeoutMs);\n                return;\n            }\n            const now = new Date();\n            const timeSinceLastActivity = now.valueOf() - this.lastActivityTimestamp.valueOf();\n            if (timeSinceLastActivity >= this.idleTimeoutMs) {\n                this.trace('Idle timer triggered after ' +\n                    this.idleTimeoutMs +\n                    'ms of inactivity');\n                this.enterIdle();\n            }\n            else {\n                /* Whenever the timer fires with the latest activity being too recent,\n                 * set the timer again for the time when the time since the last\n                 * activity is equal to the timeout. This should result in the timer\n                 * firing no more than once every idleTimeoutMs/2 on average. */\n                this.startIdleTimeout(this.idleTimeoutMs - timeSinceLastActivity);\n            }\n        }, timeoutMs);\n        (_b = (_a = this.idleTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    maybeStartIdleTimer() {\n        if (this.connectivityState !== connectivity_state_1.ConnectivityState.SHUTDOWN &&\n            !this.idleTimer) {\n            this.startIdleTimeout(this.idleTimeoutMs);\n        }\n    }\n    onCallStart() {\n        if (this.channelzEnabled) {\n            this.channelzInfoTracker.callTracker.addCallStarted();\n        }\n        this.callCount += 1;\n    }\n    onCallEnd(status) {\n        if (this.channelzEnabled) {\n            if (status.code === constants_1.Status.OK) {\n                this.channelzInfoTracker.callTracker.addCallSucceeded();\n            }\n            else {\n                this.channelzInfoTracker.callTracker.addCallFailed();\n            }\n        }\n        this.callCount -= 1;\n        this.lastActivityTimestamp = new Date();\n        this.maybeStartIdleTimer();\n    }\n    createLoadBalancingCall(callConfig, method, host, credentials, deadline) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createLoadBalancingCall [' + callNumber + '] method=\"' + method + '\"');\n        return new load_balancing_call_1.LoadBalancingCall(this, callConfig, method, host, credentials, deadline, callNumber);\n    }\n    createRetryingCall(callConfig, method, host, credentials, deadline) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createRetryingCall [' + callNumber + '] method=\"' + method + '\"');\n        return new retrying_call_1.RetryingCall(this, callConfig, method, host, credentials, deadline, callNumber, this.retryBufferTracker, RETRY_THROTTLER_MAP.get(this.getTarget()));\n    }\n    createResolvingCall(method, deadline, host, parentCall, propagateFlags) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createResolvingCall [' +\n            callNumber +\n            '] method=\"' +\n            method +\n            '\", deadline=' +\n            (0, deadline_1.deadlineToString)(deadline));\n        const finalOptions = {\n            deadline: deadline,\n            flags: propagateFlags !== null && propagateFlags !== void 0 ? propagateFlags : constants_1.Propagate.DEFAULTS,\n            host: host !== null && host !== void 0 ? host : this.defaultAuthority,\n            parentCall: parentCall,\n        };\n        const call = new resolving_call_1.ResolvingCall(this, method, finalOptions, this.filterStackFactory.clone(), callNumber);\n        this.onCallStart();\n        call.addStatusWatcher(status => {\n            this.onCallEnd(status);\n        });\n        return call;\n    }\n    close() {\n        var _a;\n        this.resolvingLoadBalancer.destroy();\n        this.updateState(connectivity_state_1.ConnectivityState.SHUTDOWN);\n        this.currentPicker = new ShutdownPicker();\n        for (const call of this.configSelectionQueue) {\n            call.cancelWithStatus(constants_1.Status.UNAVAILABLE, 'Channel closed before call started');\n        }\n        this.configSelectionQueue = [];\n        for (const call of this.pickQueue) {\n            call.cancelWithStatus(constants_1.Status.UNAVAILABLE, 'Channel closed before call started');\n        }\n        this.pickQueue = [];\n        if (this.callRefTimer) {\n            clearInterval(this.callRefTimer);\n        }\n        if (this.idleTimer) {\n            clearTimeout(this.idleTimer);\n        }\n        if (this.channelzEnabled) {\n            (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n        }\n        this.subchannelPool.unrefUnusedSubchannels();\n        (_a = this.configSelector) === null || _a === void 0 ? void 0 : _a.unref();\n        this.configSelector = null;\n    }\n    getTarget() {\n        return (0, uri_parser_1.uriToString)(this.target);\n    }\n    getConnectivityState(tryToConnect) {\n        const connectivityState = this.connectivityState;\n        if (tryToConnect) {\n            this.resolvingLoadBalancer.exitIdle();\n            this.lastActivityTimestamp = new Date();\n            this.maybeStartIdleTimer();\n        }\n        return connectivityState;\n    }\n    watchConnectivityState(currentState, deadline, callback) {\n        if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            throw new Error('Channel has been shut down');\n        }\n        let timer = null;\n        if (deadline !== Infinity) {\n            const deadlineDate = deadline instanceof Date ? deadline : new Date(deadline);\n            const now = new Date();\n            if (deadline === -Infinity || deadlineDate <= now) {\n                process.nextTick(callback, new Error('Deadline passed without connectivity state change'));\n                return;\n            }\n            timer = setTimeout(() => {\n                this.removeConnectivityStateWatcher(watcherObject);\n                callback(new Error('Deadline passed without connectivity state change'));\n            }, deadlineDate.getTime() - now.getTime());\n        }\n        const watcherObject = {\n            currentState,\n            callback,\n            timer,\n        };\n        this.connectivityStateWatchers.push(watcherObject);\n    }\n    /**\n     * Get the channelz reference object for this channel. The returned value is\n     * garbage if channelz is disabled for this channel.\n     * @returns\n     */\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    createCall(method, deadline, host, parentCall, propagateFlags) {\n        if (typeof method !== 'string') {\n            throw new TypeError('Channel#createCall: method must be a string');\n        }\n        if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n            throw new TypeError('Channel#createCall: deadline must be a number or Date');\n        }\n        if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            throw new Error('Channel has been shut down');\n        }\n        return this.createResolvingCall(method, deadline, host, parentCall, propagateFlags);\n    }\n    getOptions() {\n        return this.options;\n    }\n}\nexports.InternalChannel = InternalChannel;\n//# sourceMappingURL=internal-channel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9pbnRlcm5hbC1jaGFubmVsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsMENBQTBDO0FBQ3BFLDhCQUE4QixtQkFBTyxDQUFDLHFJQUF1QjtBQUM3RCxrQ0FBa0MsbUJBQU8sQ0FBQyw2SUFBMkI7QUFDckUsMEJBQTBCLG1CQUFPLENBQUMsNkhBQW1CO0FBQ3JELGlCQUFpQixtQkFBTyxDQUFDLDJHQUFVO0FBQ25DLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLHVCQUF1QixtQkFBTyxDQUFDLHVIQUFnQjtBQUMvQyw2QkFBNkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDM0QsbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkMsa0JBQWtCLG1CQUFPLENBQUMsNkdBQVc7QUFDckMscUJBQXFCLG1CQUFPLENBQUMsbUhBQWM7QUFDM0MscUJBQXFCLG1CQUFPLENBQUMsbUhBQWM7QUFDM0MsNkJBQTZCLG1CQUFPLENBQUMsbUlBQXNCO0FBQzNELG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLDhCQUE4QixtQkFBTyxDQUFDLHFJQUF1QjtBQUM3RCxtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2Qyx5QkFBeUIsbUJBQU8sQ0FBQywySEFBa0I7QUFDbkQsc0JBQXNCLG1CQUFPLENBQUMscUhBQWU7QUFDN0MsK0JBQStCLG1CQUFPLENBQUMsdUlBQXdCO0FBQy9ELHdCQUF3QixtQkFBTyxDQUFDLHlIQUFpQjtBQUNqRCwrQkFBK0IsbUJBQU8sQ0FBQyx1SUFBd0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsT0FBTztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLE9BQU87QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsOEZBQThGLDJCQUEyQjtBQUNyTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2ludGVybmFsLWNoYW5uZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJuYWxDaGFubmVsID0gZXhwb3J0cy5TVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYID0gdm9pZCAwO1xuY29uc3QgY2hhbm5lbF9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jcmVkZW50aWFsc1wiKTtcbmNvbnN0IHJlc29sdmluZ19sb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZpbmctbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfcG9vbF8xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1wb29sXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGZpbHRlcl9zdGFja18xID0gcmVxdWlyZShcIi4vZmlsdGVyLXN0YWNrXCIpO1xuY29uc3QgY29tcHJlc3Npb25fZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9jb21wcmVzc2lvbi1maWx0ZXJcIik7XG5jb25zdCByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgaHR0cF9wcm94eV8xID0gcmVxdWlyZShcIi4vaHR0cF9wcm94eVwiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jaW5nX2NhbGxfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jaW5nLWNhbGxcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCByZXNvbHZpbmdfY2FsbF8xID0gcmVxdWlyZShcIi4vcmVzb2x2aW5nLWNhbGxcIik7XG5jb25zdCBjYWxsX251bWJlcl8xID0gcmVxdWlyZShcIi4vY2FsbC1udW1iZXJcIik7XG5jb25zdCBjb250cm9sX3BsYW5lX3N0YXR1c18xID0gcmVxdWlyZShcIi4vY29udHJvbC1wbGFuZS1zdGF0dXNcIik7XG5jb25zdCByZXRyeWluZ19jYWxsXzEgPSByZXF1aXJlKFwiLi9yZXRyeWluZy1jYWxsXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtaW50ZXJmYWNlXCIpO1xuLyoqXG4gKiBTZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS90aW1lcnMuaHRtbCN0aW1lcnNfc2V0aW50ZXJ2YWxfY2FsbGJhY2tfZGVsYXlfYXJnc1xuICovXG5jb25zdCBNQVhfVElNRU9VVF9USU1FID0gMjE0NzQ4MzY0NztcbmNvbnN0IE1JTl9JRExFX1RJTUVPVVRfTVMgPSAxMDAwO1xuLy8gMzAgbWludXRlc1xuY29uc3QgREVGQVVMVF9JRExFX1RJTUVPVVRfTVMgPSAzMCAqIDYwICogMTAwMDtcbmNvbnN0IFJFVFJZX1RIUk9UVExFUl9NQVAgPSBuZXcgTWFwKCk7XG5jb25zdCBERUZBVUxUX1JFVFJZX0JVRkZFUl9TSVpFX0JZVEVTID0gMSA8PCAyNDsgLy8gMTYgTUJcbmNvbnN0IERFRkFVTFRfUEVSX1JQQ19SRVRSWV9CVUZGRVJfU0laRV9CWVRFUyA9IDEgPDwgMjA7IC8vIDEgTUJcbmNsYXNzIENoYW5uZWxTdWJjaGFubmVsV3JhcHBlciBleHRlbmRzIHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEuQmFzZVN1YmNoYW5uZWxXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZFN1YmNoYW5uZWwsIGNoYW5uZWwpIHtcbiAgICAgICAgc3VwZXIoY2hpbGRTdWJjaGFubmVsKTtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUpID0+IHtcbiAgICAgICAgICAgIGNoYW5uZWwudGhyb3R0bGVLZWVwYWxpdmUoa2VlcGFsaXZlVGltZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5hZGRXcmFwcGVkU3ViY2hhbm5lbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaWxkLnJlZigpO1xuICAgICAgICB0aGlzLnJlZkNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnVucmVmKCk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZC5yZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLnJlbW92ZVdyYXBwZWRTdWJjaGFubmVsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU2h1dGRvd25QaWNrZXIge1xuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5EUk9QLFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdDaGFubmVsIGNsb3NlZCBiZWZvcmUgY2FsbCBzdGFydGVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxTdGFydGVkOiBudWxsLFxuICAgICAgICAgICAgb25DYWxsRW5kZWQ6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlNVQkNIQU5ORUxfQVJHU19FWENMVURFX0tFWV9QUkVGSVggPSAnZ3JwYy5pbnRlcm5hbC5ub19zdWJjaGFubmVsJztcbmNsYXNzIENoYW5uZWx6SW5mb1RyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy50cmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgdGhpcy5jYWxsVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpJbmZvQ2FsbGJhY2soKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgdHJhY2U6IHRoaXMudHJhY2UsXG4gICAgICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHRoaXMuY2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5jbGFzcyBJbnRlcm5hbENoYW5uZWwge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgY3JlZGVudGlhbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlciA9IG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgcXVldWVkIHVwIHRvIGdldCBhIGNhbGwgY29uZmlnLiBTaG91bGQgb25seSBiZSBwb3B1bGF0ZWQgYmVmb3JlIHRoZVxuICAgICAgICAgKiBmaXJzdCB0aW1lIHRoZSByZXNvbHZlciByZXR1cm5zIGEgcmVzdWx0LCB3aGljaCBpbmNsdWRlcyB0aGUgQ29uZmlnU2VsZWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlID0gW107XG4gICAgICAgIHRoaXMucGlja1F1ZXVlID0gW107XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB0aW1lciBkb2VzIG5vdCBkbyBhbnl0aGluZyBvbiBpdHMgb3duLiBJdHMgcHVycG9zZSBpcyB0byBob2xkIHRoZVxuICAgICAgICAgKiBldmVudCBsb29wIG9wZW4gd2hpbGUgdGhlcmUgYXJlIGFueSBwZW5kaW5nIGNhbGxzIGZvciB0aGUgY2hhbm5lbCB0aGF0XG4gICAgICAgICAqIGhhdmUgbm90IHlldCBiZWVuIGFzc2lnbmVkIHRvIHNwZWNpZmljIHN1YmNoYW5uZWxzLiBJbiBvdGhlciB3b3JkcyxcbiAgICAgICAgICogdGhlIGludmFyaWFudCBpcyB0aGF0IGNhbGxSZWZUaW1lciBpcyByZWZmZWQgaWYgYW5kIG9ubHkgaWYgcGlja1F1ZXVlXG4gICAgICAgICAqIGlzIG5vbi1lbXB0eS4gSW4gYWRkaXRpb24sIHRoZSB0aW1lciBpcyBudWxsIHdoaWxlIHRoZSBzdGF0ZSBpcyBJRExFIG9yXG4gICAgICAgICAqIFNIVVRET1dOIGFuZCB0aGVyZSBhcmUgbm8gcGVuZGluZyBjYWxscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb25maWdTZWxlY3RvciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBlcnJvciBmcm9tIHRoZSBuYW1lIHJlc29sdmVyIGlmIGl0IGZhaWxlZCBtb3N0IHJlY2VudGx5LiBJdFxuICAgICAgICAgKiBpcyBvbmx5IHVzZWQgdG8gZW5kIGNhbGxzIHRoYXQgc3RhcnQgd2hpbGUgdGhlcmUgaXMgbm8gY29uZmlnIHNlbGVjdG9yXG4gICAgICAgICAqIGFuZCB0aGUgbmFtZSByZXNvbHZlciBpcyBpbiBiYWNrb2ZmLCBzbyBpdCBzaG91bGQgYmUgbnVsbGVkIGlmXG4gICAgICAgICAqIGNvbmZpZ1NlbGVjdG9yIGJlY29tZXMgc2V0IG9yIHRoZSBjaGFubmVsIHN0YXRlIGJlY29tZXMgYW55dGhpbmcgb3RoZXJcbiAgICAgICAgICogdGhhbiBUUkFOU0lFTlRfRkFJTFVSRS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFJlc29sdXRpb25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMud3JhcHBlZFN1YmNoYW5uZWxzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuaWRsZVRpbWVyID0gbnVsbDtcbiAgICAgICAgLy8gQ2hhbm5lbHogaW5mb1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYW5kb21seSBnZW5lcmF0ZWQgSUQgdG8gYmUgcGFzc2VkIHRvIHRoZSBjb25maWcgc2VsZWN0b3IsIGZvciB1c2UgYnlcbiAgICAgICAgICogcmluZ19oYXNoIGluIHhEUy4gQW4gaW50ZWdlciBkaXN0cmlidXRlZCBhcHByb3hpbWF0ZWx5IHVuaWZvcm1seSBiZXR3ZWVuXG4gICAgICAgICAqIDAgYW5kIE1BWF9TQUZFX0lOVEVHRVIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhbmRvbUNoYW5uZWxJZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsIHRhcmdldCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY3JlZGVudGlhbHMgaW5zdGFuY2VvZiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCBjcmVkZW50aWFscyBtdXN0IGJlIGEgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyID0gbmV3IENoYW5uZWx6SW5mb1RyYWNrZXIodGFyZ2V0KTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUYXJnZXRVcmkgPSAoMCwgdXJpX3BhcnNlcl8xLnBhcnNlVXJpKSh0YXJnZXQpO1xuICAgICAgICBpZiAob3JpZ2luYWxUYXJnZXRVcmkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHBhcnNlIHRhcmdldCBuYW1lIFwiJHt0YXJnZXR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgdGFyZ2V0IGhhcyBhIHNjaGVtZSB0aGF0IGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGVcbiAgICAgICAgICogcmVzb2x2ZXIgKi9cbiAgICAgICAgY29uc3QgZGVmYXVsdFNjaGVtZU1hcFJlc3VsdCA9ICgwLCByZXNvbHZlcl8xLm1hcFVyaURlZmF1bHRTY2hlbWUpKG9yaWdpbmFsVGFyZ2V0VXJpKTtcbiAgICAgICAgaWYgKGRlZmF1bHRTY2hlbWVNYXBSZXN1bHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYSBkZWZhdWx0IHNjaGVtZSBmb3IgdGFyZ2V0IG5hbWUgXCIke3RhcmdldH1cImApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNbJ2dycGMuZW5hYmxlX2NoYW5uZWx6J10gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpDaGFubmVsKSh0YXJnZXQsIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci5nZXRDaGFubmVsekluZm9DYWxsYmFjaygpLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLnRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0NoYW5uZWwgY3JlYXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNbJ2dycGMuZGVmYXVsdF9hdXRob3JpdHknXSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0QXV0aG9yaXR5ID0gdGhpcy5vcHRpb25zWydncnBjLmRlZmF1bHRfYXV0aG9yaXR5J107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRBdXRob3JpdHkgPSAoMCwgcmVzb2x2ZXJfMS5nZXREZWZhdWx0QXV0aG9yaXR5KShkZWZhdWx0U2NoZW1lTWFwUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm94eU1hcFJlc3VsdCA9ICgwLCBodHRwX3Byb3h5XzEubWFwUHJveHlOYW1lKShkZWZhdWx0U2NoZW1lTWFwUmVzdWx0LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBwcm94eU1hcFJlc3VsdC50YXJnZXQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywgcHJveHlNYXBSZXN1bHQuZXh0cmFPcHRpb25zKTtcbiAgICAgICAgLyogVGhlIGdsb2JhbCBib29sZWFuIHBhcmFtZXRlciB0byBnZXRTdWJjaGFubmVsUG9vbCBoYXMgdGhlIGludmVyc2UgbWVhbmluZyB0byB3aGF0XG4gICAgICAgICAqIHRoZSBncnBjLnVzZV9sb2NhbF9zdWJjaGFubmVsX3Bvb2wgY2hhbm5lbCBvcHRpb24gbWVhbnMuICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFBvb2wgPSAoMCwgc3ViY2hhbm5lbF9wb29sXzEuZ2V0U3ViY2hhbm5lbFBvb2wpKCgoX2EgPSB0aGlzLm9wdGlvbnNbJ2dycGMudXNlX2xvY2FsX3N1YmNoYW5uZWxfcG9vbCddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSA9PT0gMCk7XG4gICAgICAgIHRoaXMucmV0cnlCdWZmZXJUcmFja2VyID0gbmV3IHJldHJ5aW5nX2NhbGxfMS5NZXNzYWdlQnVmZmVyVHJhY2tlcigoX2IgPSB0aGlzLm9wdGlvbnNbJ2dycGMucmV0cnlfYnVmZmVyX3NpemUnXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogREVGQVVMVF9SRVRSWV9CVUZGRVJfU0laRV9CWVRFUywgKF9jID0gdGhpcy5vcHRpb25zWydncnBjLnBlcl9ycGNfcmV0cnlfYnVmZmVyX3NpemUnXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogREVGQVVMVF9QRVJfUlBDX1JFVFJZX0JVRkZFUl9TSVpFX0JZVEVTKTtcbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lID0gKF9kID0gdGhpcy5vcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lX21zJ10pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IC0xO1xuICAgICAgICB0aGlzLmlkbGVUaW1lb3V0TXMgPSBNYXRoLm1heCgoX2UgPSB0aGlzLm9wdGlvbnNbJ2dycGMuY2xpZW50X2lkbGVfdGltZW91dF9tcyddKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBERUZBVUxUX0lETEVfVElNRU9VVF9NUywgTUlOX0lETEVfVElNRU9VVF9NUyk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxDb250cm9sSGVscGVyID0ge1xuICAgICAgICAgICAgY3JlYXRlU3ViY2hhbm5lbDogKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsU3ViY2hhbm5lbEFyZ3MgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdWJjaGFubmVsQXJncykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aChleHBvcnRzLlNVQkNIQU5ORUxfQVJHU19FWENMVURFX0tFWV9QUkVGSVgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFN1YmNoYW5uZWxBcmdzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsID0gdGhpcy5zdWJjaGFubmVsUG9vbC5nZXRPckNyZWF0ZVN1YmNoYW5uZWwodGhpcy50YXJnZXQsIHN1YmNoYW5uZWxBZGRyZXNzLCBmaW5hbFN1YmNoYW5uZWxBcmdzLCB0aGlzLmNyZWRlbnRpYWxzKTtcbiAgICAgICAgICAgICAgICBzdWJjaGFubmVsLnRocm90dGxlS2VlcGFsaXZlKHRoaXMua2VlcGFsaXZlVGltZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci50cmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDcmVhdGVkIHN1YmNoYW5uZWwgb3IgdXNlZCBleGlzdGluZyBzdWJjaGFubmVsJywgc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZFN1YmNoYW5uZWwgPSBuZXcgQ2hhbm5lbFN1YmNoYW5uZWxXcmFwcGVyKHN1YmNoYW5uZWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkU3ViY2hhbm5lbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVldWVDb3B5ID0gdGhpcy5waWNrUXVldWUuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZUNvcHkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclVucmVmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiBxdWV1ZUNvcHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5kb1BpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWVzdFJlcmVzb2x1dGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZC5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc29sdmluZyBsb2FkIGJhbGFuY2VyIHNob3VsZCBuZXZlciBjYWxsIHJlcXVlc3RSZXJlc29sdXRpb24nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRDaGFubmVsekNoaWxkOiAoY2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLmNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQ6IChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuY2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyID0gbmV3IHJlc29sdmluZ19sb2FkX2JhbGFuY2VyXzEuUmVzb2x2aW5nTG9hZEJhbGFuY2VyKHRoaXMudGFyZ2V0LCBjaGFubmVsQ29udHJvbEhlbHBlciwgdGhpcy5vcHRpb25zLCAoc2VydmljZUNvbmZpZywgY29uZmlnU2VsZWN0b3IpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlQ29uZmlnLnJldHJ5VGhyb3R0bGluZykge1xuICAgICAgICAgICAgICAgIFJFVFJZX1RIUk9UVExFUl9NQVAuc2V0KHRoaXMuZ2V0VGFyZ2V0KCksIG5ldyByZXRyeWluZ19jYWxsXzEuUmV0cnlUaHJvdHRsZXIoc2VydmljZUNvbmZpZy5yZXRyeVRocm90dGxpbmcubWF4VG9rZW5zLCBzZXJ2aWNlQ29uZmlnLnJldHJ5VGhyb3R0bGluZy50b2tlblJhdGlvLCBSRVRSWV9USFJPVFRMRVJfTUFQLmdldCh0aGlzLmdldFRhcmdldCgpKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgUkVUUllfVEhST1RUTEVSX01BUC5kZWxldGUodGhpcy5nZXRUYXJnZXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIudHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQWRkcmVzcyByZXNvbHV0aW9uIHN1Y2NlZWRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9hID0gdGhpcy5jb25maWdTZWxlY3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdG9yID0gY29uZmlnU2VsZWN0b3I7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgLyogV2UgcHJvY2VzcyB0aGUgcXVldWUgYXN5bmNocm9ub3VzbHkgdG8gZW5zdXJlIHRoYXQgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgICAgICAgICAqIGxvYWQgYmFsYW5jZXIgdXBkYXRlIGhhcyBjb21wbGV0ZWQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFF1ZXVlID0gdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclVucmVmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiBsb2NhbFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuZ2V0Q29uZmlnKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHN0YXR1cyA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIudHJhY2UuYWRkVHJhY2UoJ0NUX1dBUk5JTkcnLCAnQWRkcmVzcyByZXNvbHV0aW9uIGZhaWxlZCB3aXRoIGNvZGUgJyArXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAgICAgJyBhbmQgZGV0YWlscyBcIicgK1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgICAgICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ05hbWUgcmVzb2x1dGlvbiBmYWlsZWQgd2l0aCBjYWxscyBxdWV1ZWQgZm9yIGNvbmZpZyBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ1NlbGVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVzb2x1dGlvbkVycm9yID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHN0YXR1cy5jb2RlLCBzdGF0dXMuZGV0YWlscykpLCB7IG1ldGFkYXRhOiBzdGF0dXMubWV0YWRhdGEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFF1ZXVlID0gdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgICAgIGlmIChsb2NhbFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgbG9jYWxRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGNhbGwucmVwb3J0UmVzb2x2ZXJFcnJvcihzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGFja0ZhY3RvcnkgPSBuZXcgZmlsdGVyX3N0YWNrXzEuRmlsdGVyU3RhY2tGYWN0b3J5KFtcbiAgICAgICAgICAgIG5ldyBjb21wcmVzc2lvbl9maWx0ZXJfMS5Db21wcmVzc2lvbkZpbHRlckZhY3RvcnkodGhpcywgdGhpcy5vcHRpb25zKSxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudHJhY2UoJ0NoYW5uZWwgY29uc3RydWN0ZWQgd2l0aCBvcHRpb25zICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgdW5kZWZpbmVkLCAyKSk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGlmICgoMCwgbG9nZ2luZ18xLmlzVHJhY2VyRW5hYmxlZCkoJ2NoYW5uZWxfc3RhY2t0cmFjZScpKSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjaGFubmVsX3N0YWNrdHJhY2UnLCAnKCcgK1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgICAgICdDaGFubmVsIGNvbnN0cnVjdGVkIFxcbicgK1xuICAgICAgICAgICAgICAgICgoX2YgPSBlcnJvci5zdGFjaykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnN1YnN0cmluZyhlcnJvci5zdGFjay5pbmRleE9mKCdcXG4nKSArIDEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0QWN0aXZpdHlUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0LCB2ZXJib3NpdHlPdmVycmlkZSkge1xuICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKSh2ZXJib3NpdHlPdmVycmlkZSAhPT0gbnVsbCAmJiB2ZXJib3NpdHlPdmVycmlkZSAhPT0gdm9pZCAwID8gdmVyYm9zaXR5T3ZlcnJpZGUgOiBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjaGFubmVsJywgJygnICsgdGhpcy5jaGFubmVselJlZi5pZCArICcpICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgKyAnICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgY2FsbFJlZlRpbWVyUmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGlmICghdGhpcy5jYWxsUmVmVGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4geyB9LCBNQVhfVElNRU9VVF9USU1FKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgaGFzUmVmIGZ1bmN0aW9uIGRvZXMgbm90IGV4aXN0LCBhbHdheXMgcnVuIHRoZSBjb2RlXG4gICAgICAgIGlmICghKChfYiA9IChfYSA9IHRoaXMuY2FsbFJlZlRpbWVyKS5oYXNSZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2NhbGxSZWZUaW1lci5yZWYgfCBjb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGg9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGggK1xuICAgICAgICAgICAgICAgICcgcGlja1F1ZXVlLmxlbmd0aD0nICtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tRdWV1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgKF9kID0gKF9jID0gdGhpcy5jYWxsUmVmVGltZXIpLnJlZikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoX2MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbGxSZWZUaW1lclVucmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgLy8gSWYgdGhlIHRpbWVyIG9yIHRoZSBoYXNSZWYgZnVuY3Rpb24gZG9lcyBub3QgZXhpc3QsIGFsd2F5cyBydW4gdGhlIGNvZGVcbiAgICAgICAgaWYgKCEoKF9hID0gdGhpcy5jYWxsUmVmVGltZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYXNSZWYpIHx8IHRoaXMuY2FsbFJlZlRpbWVyLmhhc1JlZigpKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdjYWxsUmVmVGltZXIudW5yZWYgfCBjb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGg9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGggK1xuICAgICAgICAgICAgICAgICcgcGlja1F1ZXVlLmxlbmd0aD0nICtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tRdWV1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgKF9jID0gKF9iID0gdGhpcy5jYWxsUmVmVGltZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi51bnJlZikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcih3YXRjaGVyT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHdhdGNoZXJJbmRleCA9IHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycy5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWUgPT09IHdhdGNoZXJPYmplY3QpO1xuICAgICAgICBpZiAod2F0Y2hlckluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycy5zcGxpY2Uod2F0Y2hlckluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjb25uZWN0aXZpdHlfc3RhdGUnLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbdGhpcy5jb25uZWN0aXZpdHlTdGF0ZV0gK1xuICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLnRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpdml0eSBzdGF0ZSBjaGFuZ2UgdG8gJyArIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgY29uc3Qgd2F0Y2hlcnNDb3B5ID0gdGhpcy5jb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAoY29uc3Qgd2F0Y2hlck9iamVjdCBvZiB3YXRjaGVyc0NvcHkpIHtcbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSAhPT0gd2F0Y2hlck9iamVjdC5jdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAod2F0Y2hlck9iamVjdC50aW1lcikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQod2F0Y2hlck9iamVjdC50aW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVXYXRjaGVyKHdhdGNoZXJPYmplY3QpO1xuICAgICAgICAgICAgICAgIHdhdGNoZXJPYmplY3QuY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgaWYgKG5ld0tlZXBhbGl2ZVRpbWUgPiB0aGlzLmtlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IG5ld0tlZXBhbGl2ZVRpbWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHdyYXBwZWRTdWJjaGFubmVsIG9mIHRoaXMud3JhcHBlZFN1YmNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlZFN1YmNoYW5uZWwudGhyb3R0bGVLZWVwYWxpdmUobmV3S2VlcGFsaXZlVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkV3JhcHBlZFN1YmNoYW5uZWwod3JhcHBlZFN1YmNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkU3ViY2hhbm5lbHMuYWRkKHdyYXBwZWRTdWJjaGFubmVsKTtcbiAgICB9XG4gICAgcmVtb3ZlV3JhcHBlZFN1YmNoYW5uZWwod3JhcHBlZFN1YmNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkU3ViY2hhbm5lbHMuZGVsZXRlKHdyYXBwZWRTdWJjaGFubmVsKTtcbiAgICB9XG4gICAgZG9QaWNrKG1ldGFkYXRhLCBleHRyYVBpY2tJbmZvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQaWNrZXIucGljayh7XG4gICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGEsXG4gICAgICAgICAgICBleHRyYVBpY2tJbmZvOiBleHRyYVBpY2tJbmZvLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcXVldWVDYWxsRm9yUGljayhjYWxsKSB7XG4gICAgICAgIHRoaXMucGlja1F1ZXVlLnB1c2goY2FsbCk7XG4gICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyUmVmKCk7XG4gICAgfVxuICAgIGdldENvbmZpZyhtZXRob2QsIG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTikge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIuZXhpdElkbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25maWdTZWxlY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZ1NlbGVjdG9yLmludm9rZShtZXRob2QsIG1ldGFkYXRhLCB0aGlzLnJhbmRvbUNoYW5uZWxJZCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlc29sdXRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdFUlJPUicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdOT05FJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlQ2FsbEZvckNvbmZpZyhjYWxsKSB7XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUucHVzaChjYWxsKTtcbiAgICAgICAgdGhpcy5jYWxsUmVmVGltZXJSZWYoKTtcbiAgICB9XG4gICAgZW50ZXJJZGxlKCkge1xuICAgICAgICB0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSk7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlciA9IG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlcik7XG4gICAgICAgIGlmICh0aGlzLmlkbGVUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWRsZVRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuaWRsZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYWxsUmVmVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jYWxsUmVmVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5jYWxsUmVmVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0SWRsZVRpbWVvdXQodGltZW91dE1zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuaWRsZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlcmUgaXMgY3VycmVudGx5IGEgY2FsbCwgdGhlIGNoYW5uZWwgd2lsbCBub3QgZ28gaWRsZSBmb3IgYVxuICAgICAgICAgICAgICAgICAqIHBlcmlvZCBvZiBhdCBsZWFzdCBpZGxlVGltZW91dE1zLCBzbyBjaGVjayBhZ2FpbiBhZnRlciB0aGF0IHRpbWUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydElkbGVUaW1lb3V0KHRoaXMuaWRsZVRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RBY3Rpdml0eSA9IG5vdy52YWx1ZU9mKCkgLSB0aGlzLmxhc3RBY3Rpdml0eVRpbWVzdGFtcC52YWx1ZU9mKCk7XG4gICAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdEFjdGl2aXR5ID49IHRoaXMuaWRsZVRpbWVvdXRNcykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0lkbGUgdGltZXIgdHJpZ2dlcmVkIGFmdGVyICcgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVUaW1lb3V0TXMgK1xuICAgICAgICAgICAgICAgICAgICAnbXMgb2YgaW5hY3Rpdml0eScpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJJZGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiBXaGVuZXZlciB0aGUgdGltZXIgZmlyZXMgd2l0aCB0aGUgbGF0ZXN0IGFjdGl2aXR5IGJlaW5nIHRvbyByZWNlbnQsXG4gICAgICAgICAgICAgICAgICogc2V0IHRoZSB0aW1lciBhZ2FpbiBmb3IgdGhlIHRpbWUgd2hlbiB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdFxuICAgICAgICAgICAgICAgICAqIGFjdGl2aXR5IGlzIGVxdWFsIHRvIHRoZSB0aW1lb3V0LiBUaGlzIHNob3VsZCByZXN1bHQgaW4gdGhlIHRpbWVyXG4gICAgICAgICAgICAgICAgICogZmlyaW5nIG5vIG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IGlkbGVUaW1lb3V0TXMvMiBvbiBhdmVyYWdlLiAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRJZGxlVGltZW91dCh0aGlzLmlkbGVUaW1lb3V0TXMgLSB0aW1lU2luY2VMYXN0QWN0aXZpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aW1lb3V0TXMpO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmlkbGVUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgbWF5YmVTdGFydElkbGVUaW1lcigpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOICYmXG4gICAgICAgICAgICAhdGhpcy5pZGxlVGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRJZGxlVGltZW91dCh0aGlzLmlkbGVUaW1lb3V0TXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2FsbFN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci5jYWxsVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbENvdW50ICs9IDE7XG4gICAgfVxuICAgIG9uQ2FsbEVuZChzdGF0dXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci5jYWxsVHJhY2tlci5hZGRDYWxsU3VjY2VlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbENvdW50IC09IDE7XG4gICAgICAgIHRoaXMubGFzdEFjdGl2aXR5VGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5tYXliZVN0YXJ0SWRsZVRpbWVyKCk7XG4gICAgfVxuICAgIGNyZWF0ZUxvYWRCYWxhbmNpbmdDYWxsKGNhbGxDb25maWcsIG1ldGhvZCwgaG9zdCwgY3JlZGVudGlhbHMsIGRlYWRsaW5lKSB7XG4gICAgICAgIGNvbnN0IGNhbGxOdW1iZXIgPSAoMCwgY2FsbF9udW1iZXJfMS5nZXROZXh0Q2FsbE51bWJlcikoKTtcbiAgICAgICAgdGhpcy50cmFjZSgnY3JlYXRlTG9hZEJhbGFuY2luZ0NhbGwgWycgKyBjYWxsTnVtYmVyICsgJ10gbWV0aG9kPVwiJyArIG1ldGhvZCArICdcIicpO1xuICAgICAgICByZXR1cm4gbmV3IGxvYWRfYmFsYW5jaW5nX2NhbGxfMS5Mb2FkQmFsYW5jaW5nQ2FsbCh0aGlzLCBjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSwgY2FsbE51bWJlcik7XG4gICAgfVxuICAgIGNyZWF0ZVJldHJ5aW5nQ2FsbChjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSkge1xuICAgICAgICBjb25zdCBjYWxsTnVtYmVyID0gKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCk7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NyZWF0ZVJldHJ5aW5nQ2FsbCBbJyArIGNhbGxOdW1iZXIgKyAnXSBtZXRob2Q9XCInICsgbWV0aG9kICsgJ1wiJyk7XG4gICAgICAgIHJldHVybiBuZXcgcmV0cnlpbmdfY2FsbF8xLlJldHJ5aW5nQ2FsbCh0aGlzLCBjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSwgY2FsbE51bWJlciwgdGhpcy5yZXRyeUJ1ZmZlclRyYWNrZXIsIFJFVFJZX1RIUk9UVExFUl9NQVAuZ2V0KHRoaXMuZ2V0VGFyZ2V0KCkpKTtcbiAgICB9XG4gICAgY3JlYXRlUmVzb2x2aW5nQ2FsbChtZXRob2QsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnRDYWxsLCBwcm9wYWdhdGVGbGFncykge1xuICAgICAgICBjb25zdCBjYWxsTnVtYmVyID0gKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCk7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NyZWF0ZVJlc29sdmluZ0NhbGwgWycgK1xuICAgICAgICAgICAgY2FsbE51bWJlciArXG4gICAgICAgICAgICAnXSBtZXRob2Q9XCInICtcbiAgICAgICAgICAgIG1ldGhvZCArXG4gICAgICAgICAgICAnXCIsIGRlYWRsaW5lPScgK1xuICAgICAgICAgICAgKDAsIGRlYWRsaW5lXzEuZGVhZGxpbmVUb1N0cmluZykoZGVhZGxpbmUpKTtcbiAgICAgICAgY29uc3QgZmluYWxPcHRpb25zID0ge1xuICAgICAgICAgICAgZGVhZGxpbmU6IGRlYWRsaW5lLFxuICAgICAgICAgICAgZmxhZ3M6IHByb3BhZ2F0ZUZsYWdzICE9PSBudWxsICYmIHByb3BhZ2F0ZUZsYWdzICE9PSB2b2lkIDAgPyBwcm9wYWdhdGVGbGFncyA6IGNvbnN0YW50c18xLlByb3BhZ2F0ZS5ERUZBVUxUUyxcbiAgICAgICAgICAgIGhvc3Q6IGhvc3QgIT09IG51bGwgJiYgaG9zdCAhPT0gdm9pZCAwID8gaG9zdCA6IHRoaXMuZGVmYXVsdEF1dGhvcml0eSxcbiAgICAgICAgICAgIHBhcmVudENhbGw6IHBhcmVudENhbGwsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSBuZXcgcmVzb2x2aW5nX2NhbGxfMS5SZXNvbHZpbmdDYWxsKHRoaXMsIG1ldGhvZCwgZmluYWxPcHRpb25zLCB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeS5jbG9uZSgpLCBjYWxsTnVtYmVyKTtcbiAgICAgICAgdGhpcy5vbkNhbGxTdGFydCgpO1xuICAgICAgICBjYWxsLmFkZFN0YXR1c1dhdGNoZXIoc3RhdHVzID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DYWxsRW5kKHN0YXR1cyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyID0gbmV3IFNodXRkb3duUGlja2VyKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlKSB7XG4gICAgICAgICAgICBjYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLCAnQ2hhbm5lbCBjbG9zZWQgYmVmb3JlIGNhbGwgc3RhcnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIHRoaXMucGlja1F1ZXVlKSB7XG4gICAgICAgICAgICBjYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLCAnQ2hhbm5lbCBjbG9zZWQgYmVmb3JlIGNhbGwgc3RhcnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGlja1F1ZXVlID0gW107XG4gICAgICAgIGlmICh0aGlzLmNhbGxSZWZUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNhbGxSZWZUaW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRsZVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5pZGxlVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YmNoYW5uZWxQb29sLnVucmVmVW51c2VkU3ViY2hhbm5lbHMoKTtcbiAgICAgICAgKF9hID0gdGhpcy5jb25maWdTZWxlY3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVucmVmKCk7XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0b3IgPSBudWxsO1xuICAgIH1cbiAgICBnZXRUYXJnZXQoKSB7XG4gICAgICAgIHJldHVybiAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCk7XG4gICAgfVxuICAgIGdldENvbm5lY3Rpdml0eVN0YXRlKHRyeVRvQ29ubmVjdCkge1xuICAgICAgICBjb25zdCBjb25uZWN0aXZpdHlTdGF0ZSA9IHRoaXMuY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgIGlmICh0cnlUb0Nvbm5lY3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RBY3Rpdml0eVRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRJZGxlVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgfVxuICAgIHdhdGNoQ29ubmVjdGl2aXR5U3RhdGUoY3VycmVudFN0YXRlLCBkZWFkbGluZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYW5uZWwgaGFzIGJlZW4gc2h1dCBkb3duJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRpbWVyID0gbnVsbDtcbiAgICAgICAgaWYgKGRlYWRsaW5lICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgY29uc3QgZGVhZGxpbmVEYXRlID0gZGVhZGxpbmUgaW5zdGFuY2VvZiBEYXRlID8gZGVhZGxpbmUgOiBuZXcgRGF0ZShkZWFkbGluZSk7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgaWYgKGRlYWRsaW5lID09PSAtSW5maW5pdHkgfHwgZGVhZGxpbmVEYXRlIDw9IG5vdykge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soY2FsbGJhY2ssIG5ldyBFcnJvcignRGVhZGxpbmUgcGFzc2VkIHdpdGhvdXQgY29ubmVjdGl2aXR5IHN0YXRlIGNoYW5nZScpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVXYXRjaGVyKHdhdGNoZXJPYmplY3QpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignRGVhZGxpbmUgcGFzc2VkIHdpdGhvdXQgY29ubmVjdGl2aXR5IHN0YXRlIGNoYW5nZScpKTtcbiAgICAgICAgICAgIH0sIGRlYWRsaW5lRGF0ZS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3YXRjaGVyT2JqZWN0ID0ge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICB0aW1lcixcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXJzLnB1c2god2F0Y2hlck9iamVjdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2hhbm5lbHogcmVmZXJlbmNlIG9iamVjdCBmb3IgdGhpcyBjaGFubmVsLiBUaGUgcmV0dXJuZWQgdmFsdWUgaXNcbiAgICAgKiBnYXJiYWdlIGlmIGNoYW5uZWx6IGlzIGRpc2FibGVkIGZvciB0aGlzIGNoYW5uZWwuXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgfVxuICAgIGNyZWF0ZUNhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsI2NyZWF0ZUNhbGw6IG1ldGhvZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodHlwZW9mIGRlYWRsaW5lID09PSAnbnVtYmVyJyB8fCBkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsI2NyZWF0ZUNhbGw6IGRlYWRsaW5lIG11c3QgYmUgYSBudW1iZXIgb3IgRGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFubmVsIGhhcyBiZWVuIHNodXQgZG93bicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVJlc29sdmluZ0NhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpO1xuICAgIH1cbiAgICBnZXRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJuYWxDaGFubmVsID0gSW50ZXJuYWxDaGFubmVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJuYWwtY2hhbm5lbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChildLoadBalancerHandler = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst TYPE_NAME = 'child_load_balancer_helper';\nclass ChildLoadBalancerHandler {\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        this.currentChild = null;\n        this.pendingChild = null;\n        this.latestConfig = null;\n        this.ChildPolicyHelper = class {\n            constructor(parent) {\n                this.parent = parent;\n                this.child = null;\n            }\n            createSubchannel(subchannelAddress, subchannelArgs) {\n                return this.parent.channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n            }\n            updateState(connectivityState, picker, errorMessage) {\n                var _a;\n                if (this.calledByPendingChild()) {\n                    if (connectivityState === connectivity_state_1.ConnectivityState.CONNECTING) {\n                        return;\n                    }\n                    (_a = this.parent.currentChild) === null || _a === void 0 ? void 0 : _a.destroy();\n                    this.parent.currentChild = this.parent.pendingChild;\n                    this.parent.pendingChild = null;\n                }\n                else if (!this.calledByCurrentChild()) {\n                    return;\n                }\n                this.parent.channelControlHelper.updateState(connectivityState, picker, errorMessage);\n            }\n            requestReresolution() {\n                var _a;\n                const latestChild = (_a = this.parent.pendingChild) !== null && _a !== void 0 ? _a : this.parent.currentChild;\n                if (this.child === latestChild) {\n                    this.parent.channelControlHelper.requestReresolution();\n                }\n            }\n            setChild(newChild) {\n                this.child = newChild;\n            }\n            addChannelzChild(child) {\n                this.parent.channelControlHelper.addChannelzChild(child);\n            }\n            removeChannelzChild(child) {\n                this.parent.channelControlHelper.removeChannelzChild(child);\n            }\n            calledByPendingChild() {\n                return this.child === this.parent.pendingChild;\n            }\n            calledByCurrentChild() {\n                return this.child === this.parent.currentChild;\n            }\n        };\n    }\n    configUpdateRequiresNewPolicyInstance(oldConfig, newConfig) {\n        return oldConfig.getLoadBalancerName() !== newConfig.getLoadBalancerName();\n    }\n    /**\n     * Prerequisites: lbConfig !== null and lbConfig.name is registered\n     * @param endpointList\n     * @param lbConfig\n     * @param attributes\n     */\n    updateAddressList(endpointList, lbConfig, options) {\n        let childToUpdate;\n        if (this.currentChild === null ||\n            this.latestConfig === null ||\n            this.configUpdateRequiresNewPolicyInstance(this.latestConfig, lbConfig)) {\n            const newHelper = new this.ChildPolicyHelper(this);\n            const newChild = (0, load_balancer_1.createLoadBalancer)(lbConfig, newHelper);\n            newHelper.setChild(newChild);\n            if (this.currentChild === null) {\n                this.currentChild = newChild;\n                childToUpdate = this.currentChild;\n            }\n            else {\n                if (this.pendingChild) {\n                    this.pendingChild.destroy();\n                }\n                this.pendingChild = newChild;\n                childToUpdate = this.pendingChild;\n            }\n        }\n        else {\n            if (this.pendingChild === null) {\n                childToUpdate = this.currentChild;\n            }\n            else {\n                childToUpdate = this.pendingChild;\n            }\n        }\n        this.latestConfig = lbConfig;\n        childToUpdate.updateAddressList(endpointList, lbConfig, options);\n    }\n    exitIdle() {\n        if (this.currentChild) {\n            this.currentChild.exitIdle();\n            if (this.pendingChild) {\n                this.pendingChild.exitIdle();\n            }\n        }\n    }\n    resetBackoff() {\n        if (this.currentChild) {\n            this.currentChild.resetBackoff();\n            if (this.pendingChild) {\n                this.pendingChild.resetBackoff();\n            }\n        }\n    }\n    destroy() {\n        /* Note: state updates are only propagated from the child balancer if that\n         * object is equal to this.currentChild or this.pendingChild. Since this\n         * function sets both of those to null, no further state updates will\n         * occur after this function returns. */\n        if (this.currentChild) {\n            this.currentChild.destroy();\n            this.currentChild = null;\n        }\n        if (this.pendingChild) {\n            this.pendingChild.destroy();\n            this.pendingChild = null;\n        }\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.ChildLoadBalancerHandler = ChildLoadBalancerHandler;\n//# sourceMappingURL=load-balancer-child-handler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0M7QUFDaEMsd0JBQXdCLG1CQUFPLENBQUMseUhBQWlCO0FBQ2pELDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIwIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlciA9IHZvaWQgMDtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IFRZUEVfTkFNRSA9ICdjaGlsZF9sb2FkX2JhbGFuY2VyX2hlbHBlcic7XG5jbGFzcyBDaGlsZExvYWRCYWxhbmNlckhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxDb250cm9sSGVscGVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIgPSBjaGFubmVsQ29udHJvbEhlbHBlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2hpbGQgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZCA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5DaGlsZFBvbGljeUhlbHBlciA9IGNsYXNzIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlU3ViY2hhbm5lbChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2hhbm5lbENvbnRyb2xIZWxwZXIuY3JlYXRlU3ViY2hhbm5lbChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxlZEJ5UGVuZGluZ0NoaWxkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGhpcy5wYXJlbnQuY3VycmVudENoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jdXJyZW50Q2hpbGQgPSB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnBlbmRpbmdDaGlsZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmNhbGxlZEJ5Q3VycmVudENoaWxkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdFJlcmVzb2x1dGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0Q2hpbGQgPSAoX2EgPSB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMucGFyZW50LmN1cnJlbnRDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZCA9PT0gbGF0ZXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hhbm5lbENvbnRyb2xIZWxwZXIucmVxdWVzdFJlcmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENoaWxkKG5ld0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZCA9IG5ld0NoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkQ2hhbm5lbHpDaGlsZChjaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWxDb250cm9sSGVscGVyLmFkZENoYW5uZWx6Q2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlQ2hhbm5lbHpDaGlsZChjaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGVkQnlQZW5kaW5nQ2hpbGQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQgPT09IHRoaXMucGFyZW50LnBlbmRpbmdDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxlZEJ5Q3VycmVudENoaWxkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkID09PSB0aGlzLnBhcmVudC5jdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbmZpZ1VwZGF0ZVJlcXVpcmVzTmV3UG9saWN5SW5zdGFuY2Uob2xkQ29uZmlnLCBuZXdDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG9sZENvbmZpZy5nZXRMb2FkQmFsYW5jZXJOYW1lKCkgIT09IG5ld0NvbmZpZy5nZXRMb2FkQmFsYW5jZXJOYW1lKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXJlcXVpc2l0ZXM6IGxiQ29uZmlnICE9PSBudWxsIGFuZCBsYkNvbmZpZy5uYW1lIGlzIHJlZ2lzdGVyZWRcbiAgICAgKiBAcGFyYW0gZW5kcG9pbnRMaXN0XG4gICAgICogQHBhcmFtIGxiQ29uZmlnXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICB1cGRhdGVBZGRyZXNzTGlzdChlbmRwb2ludExpc3QsIGxiQ29uZmlnLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBjaGlsZFRvVXBkYXRlO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2hpbGQgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnID09PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1VwZGF0ZVJlcXVpcmVzTmV3UG9saWN5SW5zdGFuY2UodGhpcy5sYXRlc3RDb25maWcsIGxiQ29uZmlnKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3SGVscGVyID0gbmV3IHRoaXMuQ2hpbGRQb2xpY3lIZWxwZXIodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBuZXdDaGlsZCA9ICgwLCBsb2FkX2JhbGFuY2VyXzEuY3JlYXRlTG9hZEJhbGFuY2VyKShsYkNvbmZpZywgbmV3SGVscGVyKTtcbiAgICAgICAgICAgIG5ld0hlbHBlci5zZXRDaGlsZChuZXdDaGlsZCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZCA9IG5ld0NoaWxkO1xuICAgICAgICAgICAgICAgIGNoaWxkVG9VcGRhdGUgPSB0aGlzLmN1cnJlbnRDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkID0gbmV3Q2hpbGQ7XG4gICAgICAgICAgICAgICAgY2hpbGRUb1VwZGF0ZSA9IHRoaXMucGVuZGluZ0NoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRUb1VwZGF0ZSA9IHRoaXMuY3VycmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGRUb1VwZGF0ZSA9IHRoaXMucGVuZGluZ0NoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnID0gbGJDb25maWc7XG4gICAgICAgIGNoaWxkVG9VcGRhdGUudXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENoaWxkLmV4aXRJZGxlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5leGl0SWRsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0QmFja29mZigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZC5yZXNldEJhY2tvZmYoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkLnJlc2V0QmFja29mZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIC8qIE5vdGU6IHN0YXRlIHVwZGF0ZXMgYXJlIG9ubHkgcHJvcGFnYXRlZCBmcm9tIHRoZSBjaGlsZCBiYWxhbmNlciBpZiB0aGF0XG4gICAgICAgICAqIG9iamVjdCBpcyBlcXVhbCB0byB0aGlzLmN1cnJlbnRDaGlsZCBvciB0aGlzLnBlbmRpbmdDaGlsZC4gU2luY2UgdGhpc1xuICAgICAgICAgKiBmdW5jdGlvbiBzZXRzIGJvdGggb2YgdGhvc2UgdG8gbnVsbCwgbm8gZnVydGhlciBzdGF0ZSB1cGRhdGVzIHdpbGxcbiAgICAgICAgICogb2NjdXIgYWZ0ZXIgdGhpcyBmdW5jdGlvbiByZXR1cm5zLiAqL1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENoaWxkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFRZUEVfTkFNRTtcbiAgICB9XG59XG5leHBvcnRzLkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlciA9IENoaWxkTG9hZEJhbGFuY2VySGFuZGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWQtYmFsYW5jZXItY2hpbGQtaGFuZGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OutlierDetectionLoadBalancer = exports.OutlierDetectionLoadBalancingConfig = void 0;\nexports.setup = setup;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst duration_1 = __webpack_require__(/*! ./duration */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\");\nconst experimental_1 = __webpack_require__(/*! ./experimental */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js\");\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'outlier_detection';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'outlier_detection';\nconst OUTLIER_DETECTION_ENABLED = ((_a = process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION) !== null && _a !== void 0 ? _a : 'true') === 'true';\nconst defaultSuccessRateEjectionConfig = {\n    stdev_factor: 1900,\n    enforcement_percentage: 100,\n    minimum_hosts: 5,\n    request_volume: 100,\n};\nconst defaultFailurePercentageEjectionConfig = {\n    threshold: 85,\n    enforcement_percentage: 100,\n    minimum_hosts: 5,\n    request_volume: 50,\n};\nfunction validateFieldType(obj, fieldName, expectedType, objectName) {\n    if (fieldName in obj &&\n        obj[fieldName] !== undefined &&\n        typeof obj[fieldName] !== expectedType) {\n        const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n        throw new Error(`outlier detection config ${fullFieldName} parse error: expected ${expectedType}, got ${typeof obj[fieldName]}`);\n    }\n}\nfunction validatePositiveDuration(obj, fieldName, objectName) {\n    const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n    if (fieldName in obj && obj[fieldName] !== undefined) {\n        if (!(0, duration_1.isDuration)(obj[fieldName])) {\n            throw new Error(`outlier detection config ${fullFieldName} parse error: expected Duration, got ${typeof obj[fieldName]}`);\n        }\n        if (!(obj[fieldName].seconds >= 0 &&\n            obj[fieldName].seconds <= 315576000000 &&\n            obj[fieldName].nanos >= 0 &&\n            obj[fieldName].nanos <= 999999999)) {\n            throw new Error(`outlier detection config ${fullFieldName} parse error: values out of range for non-negative Duaration`);\n        }\n    }\n}\nfunction validatePercentage(obj, fieldName, objectName) {\n    const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n    validateFieldType(obj, fieldName, 'number', objectName);\n    if (fieldName in obj &&\n        obj[fieldName] !== undefined &&\n        !(obj[fieldName] >= 0 && obj[fieldName] <= 100)) {\n        throw new Error(`outlier detection config ${fullFieldName} parse error: value out of range for percentage (0-100)`);\n    }\n}\nclass OutlierDetectionLoadBalancingConfig {\n    constructor(intervalMs, baseEjectionTimeMs, maxEjectionTimeMs, maxEjectionPercent, successRateEjection, failurePercentageEjection, childPolicy) {\n        this.childPolicy = childPolicy;\n        if (childPolicy.getLoadBalancerName() === 'pick_first') {\n            throw new Error('outlier_detection LB policy cannot have a pick_first child policy');\n        }\n        this.intervalMs = intervalMs !== null && intervalMs !== void 0 ? intervalMs : 10000;\n        this.baseEjectionTimeMs = baseEjectionTimeMs !== null && baseEjectionTimeMs !== void 0 ? baseEjectionTimeMs : 30000;\n        this.maxEjectionTimeMs = maxEjectionTimeMs !== null && maxEjectionTimeMs !== void 0 ? maxEjectionTimeMs : 300000;\n        this.maxEjectionPercent = maxEjectionPercent !== null && maxEjectionPercent !== void 0 ? maxEjectionPercent : 10;\n        this.successRateEjection = successRateEjection\n            ? Object.assign(Object.assign({}, defaultSuccessRateEjectionConfig), successRateEjection) : null;\n        this.failurePercentageEjection = failurePercentageEjection\n            ? Object.assign(Object.assign({}, defaultFailurePercentageEjectionConfig), failurePercentageEjection) : null;\n    }\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    toJsonObject() {\n        var _a, _b;\n        return {\n            outlier_detection: {\n                interval: (0, duration_1.msToDuration)(this.intervalMs),\n                base_ejection_time: (0, duration_1.msToDuration)(this.baseEjectionTimeMs),\n                max_ejection_time: (0, duration_1.msToDuration)(this.maxEjectionTimeMs),\n                max_ejection_percent: this.maxEjectionPercent,\n                success_rate_ejection: (_a = this.successRateEjection) !== null && _a !== void 0 ? _a : undefined,\n                failure_percentage_ejection: (_b = this.failurePercentageEjection) !== null && _b !== void 0 ? _b : undefined,\n                child_policy: [this.childPolicy.toJsonObject()],\n            },\n        };\n    }\n    getIntervalMs() {\n        return this.intervalMs;\n    }\n    getBaseEjectionTimeMs() {\n        return this.baseEjectionTimeMs;\n    }\n    getMaxEjectionTimeMs() {\n        return this.maxEjectionTimeMs;\n    }\n    getMaxEjectionPercent() {\n        return this.maxEjectionPercent;\n    }\n    getSuccessRateEjectionConfig() {\n        return this.successRateEjection;\n    }\n    getFailurePercentageEjectionConfig() {\n        return this.failurePercentageEjection;\n    }\n    getChildPolicy() {\n        return this.childPolicy;\n    }\n    static createFromJson(obj) {\n        var _a;\n        validatePositiveDuration(obj, 'interval');\n        validatePositiveDuration(obj, 'base_ejection_time');\n        validatePositiveDuration(obj, 'max_ejection_time');\n        validatePercentage(obj, 'max_ejection_percent');\n        if ('success_rate_ejection' in obj &&\n            obj.success_rate_ejection !== undefined) {\n            if (typeof obj.success_rate_ejection !== 'object') {\n                throw new Error('outlier detection config success_rate_ejection must be an object');\n            }\n            validateFieldType(obj.success_rate_ejection, 'stdev_factor', 'number', 'success_rate_ejection');\n            validatePercentage(obj.success_rate_ejection, 'enforcement_percentage', 'success_rate_ejection');\n            validateFieldType(obj.success_rate_ejection, 'minimum_hosts', 'number', 'success_rate_ejection');\n            validateFieldType(obj.success_rate_ejection, 'request_volume', 'number', 'success_rate_ejection');\n        }\n        if ('failure_percentage_ejection' in obj &&\n            obj.failure_percentage_ejection !== undefined) {\n            if (typeof obj.failure_percentage_ejection !== 'object') {\n                throw new Error('outlier detection config failure_percentage_ejection must be an object');\n            }\n            validatePercentage(obj.failure_percentage_ejection, 'threshold', 'failure_percentage_ejection');\n            validatePercentage(obj.failure_percentage_ejection, 'enforcement_percentage', 'failure_percentage_ejection');\n            validateFieldType(obj.failure_percentage_ejection, 'minimum_hosts', 'number', 'failure_percentage_ejection');\n            validateFieldType(obj.failure_percentage_ejection, 'request_volume', 'number', 'failure_percentage_ejection');\n        }\n        if (!('child_policy' in obj) || !Array.isArray(obj.child_policy)) {\n            throw new Error('outlier detection config child_policy must be an array');\n        }\n        const childPolicy = (0, load_balancer_1.selectLbConfigFromList)(obj.child_policy);\n        if (!childPolicy) {\n            throw new Error('outlier detection config child_policy: no valid recognized policy found');\n        }\n        return new OutlierDetectionLoadBalancingConfig(obj.interval ? (0, duration_1.durationToMs)(obj.interval) : null, obj.base_ejection_time ? (0, duration_1.durationToMs)(obj.base_ejection_time) : null, obj.max_ejection_time ? (0, duration_1.durationToMs)(obj.max_ejection_time) : null, (_a = obj.max_ejection_percent) !== null && _a !== void 0 ? _a : null, obj.success_rate_ejection, obj.failure_percentage_ejection, childPolicy);\n    }\n}\nexports.OutlierDetectionLoadBalancingConfig = OutlierDetectionLoadBalancingConfig;\nclass OutlierDetectionSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n    constructor(childSubchannel, mapEntry) {\n        super(childSubchannel);\n        this.mapEntry = mapEntry;\n        this.refCount = 0;\n    }\n    ref() {\n        this.child.ref();\n        this.refCount += 1;\n    }\n    unref() {\n        this.child.unref();\n        this.refCount -= 1;\n        if (this.refCount <= 0) {\n            if (this.mapEntry) {\n                const index = this.mapEntry.subchannelWrappers.indexOf(this);\n                if (index >= 0) {\n                    this.mapEntry.subchannelWrappers.splice(index, 1);\n                }\n            }\n        }\n    }\n    eject() {\n        this.setHealthy(false);\n    }\n    uneject() {\n        this.setHealthy(true);\n    }\n    getMapEntry() {\n        return this.mapEntry;\n    }\n    getWrappedSubchannel() {\n        return this.child;\n    }\n}\nfunction createEmptyBucket() {\n    return {\n        success: 0,\n        failure: 0,\n    };\n}\nclass CallCounter {\n    constructor() {\n        this.activeBucket = createEmptyBucket();\n        this.inactiveBucket = createEmptyBucket();\n    }\n    addSuccess() {\n        this.activeBucket.success += 1;\n    }\n    addFailure() {\n        this.activeBucket.failure += 1;\n    }\n    switchBuckets() {\n        this.inactiveBucket = this.activeBucket;\n        this.activeBucket = createEmptyBucket();\n    }\n    getLastSuccesses() {\n        return this.inactiveBucket.success;\n    }\n    getLastFailures() {\n        return this.inactiveBucket.failure;\n    }\n}\nclass OutlierDetectionPicker {\n    constructor(wrappedPicker, countCalls) {\n        this.wrappedPicker = wrappedPicker;\n        this.countCalls = countCalls;\n    }\n    pick(pickArgs) {\n        const wrappedPick = this.wrappedPicker.pick(pickArgs);\n        if (wrappedPick.pickResultType === picker_1.PickResultType.COMPLETE) {\n            const subchannelWrapper = wrappedPick.subchannel;\n            const mapEntry = subchannelWrapper.getMapEntry();\n            if (mapEntry) {\n                let onCallEnded = wrappedPick.onCallEnded;\n                if (this.countCalls) {\n                    onCallEnded = statusCode => {\n                        var _a;\n                        if (statusCode === constants_1.Status.OK) {\n                            mapEntry.counter.addSuccess();\n                        }\n                        else {\n                            mapEntry.counter.addFailure();\n                        }\n                        (_a = wrappedPick.onCallEnded) === null || _a === void 0 ? void 0 : _a.call(wrappedPick, statusCode);\n                    };\n                }\n                return Object.assign(Object.assign({}, wrappedPick), { subchannel: subchannelWrapper.getWrappedSubchannel(), onCallEnded: onCallEnded });\n            }\n            else {\n                return Object.assign(Object.assign({}, wrappedPick), { subchannel: subchannelWrapper.getWrappedSubchannel() });\n            }\n        }\n        else {\n            return wrappedPick;\n        }\n    }\n}\nclass OutlierDetectionLoadBalancer {\n    constructor(channelControlHelper) {\n        this.entryMap = new subchannel_address_1.EndpointMap();\n        this.latestConfig = null;\n        this.timerStartTime = null;\n        this.childBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler((0, experimental_1.createChildChannelControlHelper)(channelControlHelper, {\n            createSubchannel: (subchannelAddress, subchannelArgs) => {\n                const originalSubchannel = channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n                const mapEntry = this.entryMap.getForSubchannelAddress(subchannelAddress);\n                const subchannelWrapper = new OutlierDetectionSubchannelWrapper(originalSubchannel, mapEntry);\n                if ((mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.currentEjectionTimestamp) !== null) {\n                    // If the address is ejected, propagate that to the new subchannel wrapper\n                    subchannelWrapper.eject();\n                }\n                mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.subchannelWrappers.push(subchannelWrapper);\n                return subchannelWrapper;\n            },\n            updateState: (connectivityState, picker, errorMessage) => {\n                if (connectivityState === connectivity_state_1.ConnectivityState.READY) {\n                    channelControlHelper.updateState(connectivityState, new OutlierDetectionPicker(picker, this.isCountingEnabled()), errorMessage);\n                }\n                else {\n                    channelControlHelper.updateState(connectivityState, picker, errorMessage);\n                }\n            },\n        }));\n        this.ejectionTimer = setInterval(() => { }, 0);\n        clearInterval(this.ejectionTimer);\n    }\n    isCountingEnabled() {\n        return (this.latestConfig !== null &&\n            (this.latestConfig.getSuccessRateEjectionConfig() !== null ||\n                this.latestConfig.getFailurePercentageEjectionConfig() !== null));\n    }\n    getCurrentEjectionPercent() {\n        let ejectionCount = 0;\n        for (const mapEntry of this.entryMap.values()) {\n            if (mapEntry.currentEjectionTimestamp !== null) {\n                ejectionCount += 1;\n            }\n        }\n        return (ejectionCount * 100) / this.entryMap.size;\n    }\n    runSuccessRateCheck(ejectionTimestamp) {\n        if (!this.latestConfig) {\n            return;\n        }\n        const successRateConfig = this.latestConfig.getSuccessRateEjectionConfig();\n        if (!successRateConfig) {\n            return;\n        }\n        trace('Running success rate check');\n        // Step 1\n        const targetRequestVolume = successRateConfig.request_volume;\n        let addresesWithTargetVolume = 0;\n        const successRates = [];\n        for (const [endpoint, mapEntry] of this.entryMap.entries()) {\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            trace('Stats for ' +\n                (0, subchannel_address_1.endpointToString)(endpoint) +\n                ': successes=' +\n                successes +\n                ' failures=' +\n                failures +\n                ' targetRequestVolume=' +\n                targetRequestVolume);\n            if (successes + failures >= targetRequestVolume) {\n                addresesWithTargetVolume += 1;\n                successRates.push(successes / (successes + failures));\n            }\n        }\n        trace('Found ' +\n            addresesWithTargetVolume +\n            ' success rate candidates; currentEjectionPercent=' +\n            this.getCurrentEjectionPercent() +\n            ' successRates=[' +\n            successRates +\n            ']');\n        if (addresesWithTargetVolume < successRateConfig.minimum_hosts) {\n            return;\n        }\n        // Step 2\n        const successRateMean = successRates.reduce((a, b) => a + b) / successRates.length;\n        let successRateDeviationSum = 0;\n        for (const rate of successRates) {\n            const deviation = rate - successRateMean;\n            successRateDeviationSum += deviation * deviation;\n        }\n        const successRateVariance = successRateDeviationSum / successRates.length;\n        const successRateStdev = Math.sqrt(successRateVariance);\n        const ejectionThreshold = successRateMean -\n            successRateStdev * (successRateConfig.stdev_factor / 1000);\n        trace('stdev=' + successRateStdev + ' ejectionThreshold=' + ejectionThreshold);\n        // Step 3\n        for (const [address, mapEntry] of this.entryMap.entries()) {\n            // Step 3.i\n            if (this.getCurrentEjectionPercent() >=\n                this.latestConfig.getMaxEjectionPercent()) {\n                break;\n            }\n            // Step 3.ii\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            if (successes + failures < targetRequestVolume) {\n                continue;\n            }\n            // Step 3.iii\n            const successRate = successes / (successes + failures);\n            trace('Checking candidate ' + address + ' successRate=' + successRate);\n            if (successRate < ejectionThreshold) {\n                const randomNumber = Math.random() * 100;\n                trace('Candidate ' +\n                    address +\n                    ' randomNumber=' +\n                    randomNumber +\n                    ' enforcement_percentage=' +\n                    successRateConfig.enforcement_percentage);\n                if (randomNumber < successRateConfig.enforcement_percentage) {\n                    trace('Ejecting candidate ' + address);\n                    this.eject(mapEntry, ejectionTimestamp);\n                }\n            }\n        }\n    }\n    runFailurePercentageCheck(ejectionTimestamp) {\n        if (!this.latestConfig) {\n            return;\n        }\n        const failurePercentageConfig = this.latestConfig.getFailurePercentageEjectionConfig();\n        if (!failurePercentageConfig) {\n            return;\n        }\n        trace('Running failure percentage check. threshold=' +\n            failurePercentageConfig.threshold +\n            ' request volume threshold=' +\n            failurePercentageConfig.request_volume);\n        // Step 1\n        let addressesWithTargetVolume = 0;\n        for (const mapEntry of this.entryMap.values()) {\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            if (successes + failures >= failurePercentageConfig.request_volume) {\n                addressesWithTargetVolume += 1;\n            }\n        }\n        if (addressesWithTargetVolume < failurePercentageConfig.minimum_hosts) {\n            return;\n        }\n        // Step 2\n        for (const [address, mapEntry] of this.entryMap.entries()) {\n            // Step 2.i\n            if (this.getCurrentEjectionPercent() >=\n                this.latestConfig.getMaxEjectionPercent()) {\n                break;\n            }\n            // Step 2.ii\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            trace('Candidate successes=' + successes + ' failures=' + failures);\n            if (successes + failures < failurePercentageConfig.request_volume) {\n                continue;\n            }\n            // Step 2.iii\n            const failurePercentage = (failures * 100) / (failures + successes);\n            if (failurePercentage > failurePercentageConfig.threshold) {\n                const randomNumber = Math.random() * 100;\n                trace('Candidate ' +\n                    address +\n                    ' randomNumber=' +\n                    randomNumber +\n                    ' enforcement_percentage=' +\n                    failurePercentageConfig.enforcement_percentage);\n                if (randomNumber < failurePercentageConfig.enforcement_percentage) {\n                    trace('Ejecting candidate ' + address);\n                    this.eject(mapEntry, ejectionTimestamp);\n                }\n            }\n        }\n    }\n    eject(mapEntry, ejectionTimestamp) {\n        mapEntry.currentEjectionTimestamp = new Date();\n        mapEntry.ejectionTimeMultiplier += 1;\n        for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n            subchannelWrapper.eject();\n        }\n    }\n    uneject(mapEntry) {\n        mapEntry.currentEjectionTimestamp = null;\n        for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n            subchannelWrapper.uneject();\n        }\n    }\n    switchAllBuckets() {\n        for (const mapEntry of this.entryMap.values()) {\n            mapEntry.counter.switchBuckets();\n        }\n    }\n    startTimer(delayMs) {\n        var _a, _b;\n        this.ejectionTimer = setTimeout(() => this.runChecks(), delayMs);\n        (_b = (_a = this.ejectionTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    runChecks() {\n        const ejectionTimestamp = new Date();\n        trace('Ejection timer running');\n        this.switchAllBuckets();\n        if (!this.latestConfig) {\n            return;\n        }\n        this.timerStartTime = ejectionTimestamp;\n        this.startTimer(this.latestConfig.getIntervalMs());\n        this.runSuccessRateCheck(ejectionTimestamp);\n        this.runFailurePercentageCheck(ejectionTimestamp);\n        for (const [address, mapEntry] of this.entryMap.entries()) {\n            if (mapEntry.currentEjectionTimestamp === null) {\n                if (mapEntry.ejectionTimeMultiplier > 0) {\n                    mapEntry.ejectionTimeMultiplier -= 1;\n                }\n            }\n            else {\n                const baseEjectionTimeMs = this.latestConfig.getBaseEjectionTimeMs();\n                const maxEjectionTimeMs = this.latestConfig.getMaxEjectionTimeMs();\n                const returnTime = new Date(mapEntry.currentEjectionTimestamp.getTime());\n                returnTime.setMilliseconds(returnTime.getMilliseconds() +\n                    Math.min(baseEjectionTimeMs * mapEntry.ejectionTimeMultiplier, Math.max(baseEjectionTimeMs, maxEjectionTimeMs)));\n                if (returnTime < new Date()) {\n                    trace('Unejecting ' + address);\n                    this.uneject(mapEntry);\n                }\n            }\n        }\n    }\n    updateAddressList(endpointList, lbConfig, options) {\n        if (!(lbConfig instanceof OutlierDetectionLoadBalancingConfig)) {\n            return;\n        }\n        trace('Received update with config: ' + JSON.stringify(lbConfig.toJsonObject(), undefined, 2));\n        for (const endpoint of endpointList) {\n            if (!this.entryMap.has(endpoint)) {\n                trace('Adding map entry for ' + (0, subchannel_address_1.endpointToString)(endpoint));\n                this.entryMap.set(endpoint, {\n                    counter: new CallCounter(),\n                    currentEjectionTimestamp: null,\n                    ejectionTimeMultiplier: 0,\n                    subchannelWrappers: [],\n                });\n            }\n        }\n        this.entryMap.deleteMissing(endpointList);\n        const childPolicy = lbConfig.getChildPolicy();\n        this.childBalancer.updateAddressList(endpointList, childPolicy, options);\n        if (lbConfig.getSuccessRateEjectionConfig() ||\n            lbConfig.getFailurePercentageEjectionConfig()) {\n            if (this.timerStartTime) {\n                trace('Previous timer existed. Replacing timer');\n                clearTimeout(this.ejectionTimer);\n                const remainingDelay = lbConfig.getIntervalMs() -\n                    (new Date().getTime() - this.timerStartTime.getTime());\n                this.startTimer(remainingDelay);\n            }\n            else {\n                trace('Starting new timer');\n                this.timerStartTime = new Date();\n                this.startTimer(lbConfig.getIntervalMs());\n                this.switchAllBuckets();\n            }\n        }\n        else {\n            trace('Counting disabled. Cancelling timer.');\n            this.timerStartTime = null;\n            clearTimeout(this.ejectionTimer);\n            for (const mapEntry of this.entryMap.values()) {\n                this.uneject(mapEntry);\n                mapEntry.ejectionTimeMultiplier = 0;\n            }\n        }\n        this.latestConfig = lbConfig;\n    }\n    exitIdle() {\n        this.childBalancer.exitIdle();\n    }\n    resetBackoff() {\n        this.childBalancer.resetBackoff();\n    }\n    destroy() {\n        clearTimeout(this.ejectionTimer);\n        this.childBalancer.destroy();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.OutlierDetectionLoadBalancer = OutlierDetectionLoadBalancer;\nfunction setup() {\n    if (OUTLIER_DETECTION_ENABLED) {\n        (0, experimental_1.registerLoadBalancerType)(TYPE_NAME, OutlierDetectionLoadBalancer, OutlierDetectionLoadBalancingConfig);\n    }\n}\n//# sourceMappingURL=load-balancer-outlier-detection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQ0FBb0MsR0FBRywyQ0FBMkM7QUFDbEYsYUFBYTtBQUNiLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2Qyx1QkFBdUIsbUJBQU8sQ0FBQyx1SEFBZ0I7QUFDL0Msd0JBQXdCLG1CQUFPLENBQUMseUhBQWlCO0FBQ2pELHNDQUFzQyxtQkFBTyxDQUFDLHFKQUErQjtBQUM3RSxpQkFBaUIsbUJBQU8sQ0FBQywyR0FBVTtBQUNuQyw2QkFBNkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDM0QsK0JBQStCLG1CQUFPLENBQUMsdUlBQXdCO0FBQy9ELGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFdBQVcsR0FBRyxVQUFVO0FBQ3RFLG9EQUFvRCxlQUFlLHdCQUF3QixhQUFhLFFBQVEsc0JBQXNCO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxXQUFXLEdBQUcsVUFBVTtBQUNsRTtBQUNBO0FBQ0Esd0RBQXdELGVBQWUsc0NBQXNDLHNCQUFzQjtBQUNuSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGVBQWU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsV0FBVyxHQUFHLFVBQVU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZUFBZTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsa0JBQWtCLGdGQUFnRjtBQUN2SjtBQUNBO0FBQ0EscURBQXFELGtCQUFrQixzREFBc0Q7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Qsa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2xvYWQtYmFsYW5jZXItb3V0bGllci1kZXRlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfYTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNlciA9IGV4cG9ydHMuT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWcgPSB2b2lkIDA7XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZHVyYXRpb25fMSA9IHJlcXVpcmUoXCIuL2R1cmF0aW9uXCIpO1xuY29uc3QgZXhwZXJpbWVudGFsXzEgPSByZXF1aXJlKFwiLi9leHBlcmltZW50YWxcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXJcIik7XG5jb25zdCBwaWNrZXJfMSA9IHJlcXVpcmUoXCIuL3BpY2tlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtaW50ZXJmYWNlXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdvdXRsaWVyX2RldGVjdGlvbic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbmNvbnN0IFRZUEVfTkFNRSA9ICdvdXRsaWVyX2RldGVjdGlvbic7XG5jb25zdCBPVVRMSUVSX0RFVEVDVElPTl9FTkFCTEVEID0gKChfYSA9IHByb2Nlc3MuZW52LkdSUENfRVhQRVJJTUVOVEFMX0VOQUJMRV9PVVRMSUVSX0RFVEVDVElPTikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ3RydWUnKSA9PT0gJ3RydWUnO1xuY29uc3QgZGVmYXVsdFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWcgPSB7XG4gICAgc3RkZXZfZmFjdG9yOiAxOTAwLFxuICAgIGVuZm9yY2VtZW50X3BlcmNlbnRhZ2U6IDEwMCxcbiAgICBtaW5pbXVtX2hvc3RzOiA1LFxuICAgIHJlcXVlc3Rfdm9sdW1lOiAxMDAsXG59O1xuY29uc3QgZGVmYXVsdEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcgPSB7XG4gICAgdGhyZXNob2xkOiA4NSxcbiAgICBlbmZvcmNlbWVudF9wZXJjZW50YWdlOiAxMDAsXG4gICAgbWluaW11bV9ob3N0czogNSxcbiAgICByZXF1ZXN0X3ZvbHVtZTogNTAsXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVGaWVsZFR5cGUob2JqLCBmaWVsZE5hbWUsIGV4cGVjdGVkVHlwZSwgb2JqZWN0TmFtZSkge1xuICAgIGlmIChmaWVsZE5hbWUgaW4gb2JqICYmXG4gICAgICAgIG9ialtmaWVsZE5hbWVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgdHlwZW9mIG9ialtmaWVsZE5hbWVdICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgY29uc3QgZnVsbEZpZWxkTmFtZSA9IG9iamVjdE5hbWUgPyBgJHtvYmplY3ROYW1lfS4ke2ZpZWxkTmFtZX1gIDogZmllbGROYW1lO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyAke2Z1bGxGaWVsZE5hbWV9IHBhcnNlIGVycm9yOiBleHBlY3RlZCAke2V4cGVjdGVkVHlwZX0sIGdvdCAke3R5cGVvZiBvYmpbZmllbGROYW1lXX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVBvc2l0aXZlRHVyYXRpb24ob2JqLCBmaWVsZE5hbWUsIG9iamVjdE5hbWUpIHtcbiAgICBjb25zdCBmdWxsRmllbGROYW1lID0gb2JqZWN0TmFtZSA/IGAke29iamVjdE5hbWV9LiR7ZmllbGROYW1lfWAgOiBmaWVsZE5hbWU7XG4gICAgaWYgKGZpZWxkTmFtZSBpbiBvYmogJiYgb2JqW2ZpZWxkTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoISgwLCBkdXJhdGlvbl8xLmlzRHVyYXRpb24pKG9ialtmaWVsZE5hbWVdKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgJHtmdWxsRmllbGROYW1lfSBwYXJzZSBlcnJvcjogZXhwZWN0ZWQgRHVyYXRpb24sIGdvdCAke3R5cGVvZiBvYmpbZmllbGROYW1lXX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShvYmpbZmllbGROYW1lXS5zZWNvbmRzID49IDAgJiZcbiAgICAgICAgICAgIG9ialtmaWVsZE5hbWVdLnNlY29uZHMgPD0gMzE1NTc2MDAwMDAwICYmXG4gICAgICAgICAgICBvYmpbZmllbGROYW1lXS5uYW5vcyA+PSAwICYmXG4gICAgICAgICAgICBvYmpbZmllbGROYW1lXS5uYW5vcyA8PSA5OTk5OTk5OTkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyAke2Z1bGxGaWVsZE5hbWV9IHBhcnNlIGVycm9yOiB2YWx1ZXMgb3V0IG9mIHJhbmdlIGZvciBub24tbmVnYXRpdmUgRHVhcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLCBmaWVsZE5hbWUsIG9iamVjdE5hbWUpIHtcbiAgICBjb25zdCBmdWxsRmllbGROYW1lID0gb2JqZWN0TmFtZSA/IGAke29iamVjdE5hbWV9LiR7ZmllbGROYW1lfWAgOiBmaWVsZE5hbWU7XG4gICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLCBmaWVsZE5hbWUsICdudW1iZXInLCBvYmplY3ROYW1lKTtcbiAgICBpZiAoZmllbGROYW1lIGluIG9iaiAmJlxuICAgICAgICBvYmpbZmllbGROYW1lXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICEob2JqW2ZpZWxkTmFtZV0gPj0gMCAmJiBvYmpbZmllbGROYW1lXSA8PSAxMDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0bGllciBkZXRlY3Rpb24gY29uZmlnICR7ZnVsbEZpZWxkTmFtZX0gcGFyc2UgZXJyb3I6IHZhbHVlIG91dCBvZiByYW5nZSBmb3IgcGVyY2VudGFnZSAoMC0xMDApYCk7XG4gICAgfVxufVxuY2xhc3MgT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKGludGVydmFsTXMsIGJhc2VFamVjdGlvblRpbWVNcywgbWF4RWplY3Rpb25UaW1lTXMsIG1heEVqZWN0aW9uUGVyY2VudCwgc3VjY2Vzc1JhdGVFamVjdGlvbiwgZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbiwgY2hpbGRQb2xpY3kpIHtcbiAgICAgICAgdGhpcy5jaGlsZFBvbGljeSA9IGNoaWxkUG9saWN5O1xuICAgICAgICBpZiAoY2hpbGRQb2xpY3kuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpID09PSAncGlja19maXJzdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb3V0bGllcl9kZXRlY3Rpb24gTEIgcG9saWN5IGNhbm5vdCBoYXZlIGEgcGlja19maXJzdCBjaGlsZCBwb2xpY3knKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVydmFsTXMgPSBpbnRlcnZhbE1zICE9PSBudWxsICYmIGludGVydmFsTXMgIT09IHZvaWQgMCA/IGludGVydmFsTXMgOiAxMDAwMDtcbiAgICAgICAgdGhpcy5iYXNlRWplY3Rpb25UaW1lTXMgPSBiYXNlRWplY3Rpb25UaW1lTXMgIT09IG51bGwgJiYgYmFzZUVqZWN0aW9uVGltZU1zICE9PSB2b2lkIDAgPyBiYXNlRWplY3Rpb25UaW1lTXMgOiAzMDAwMDtcbiAgICAgICAgdGhpcy5tYXhFamVjdGlvblRpbWVNcyA9IG1heEVqZWN0aW9uVGltZU1zICE9PSBudWxsICYmIG1heEVqZWN0aW9uVGltZU1zICE9PSB2b2lkIDAgPyBtYXhFamVjdGlvblRpbWVNcyA6IDMwMDAwMDtcbiAgICAgICAgdGhpcy5tYXhFamVjdGlvblBlcmNlbnQgPSBtYXhFamVjdGlvblBlcmNlbnQgIT09IG51bGwgJiYgbWF4RWplY3Rpb25QZXJjZW50ICE9PSB2b2lkIDAgPyBtYXhFamVjdGlvblBlcmNlbnQgOiAxMDtcbiAgICAgICAgdGhpcy5zdWNjZXNzUmF0ZUVqZWN0aW9uID0gc3VjY2Vzc1JhdGVFamVjdGlvblxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTdWNjZXNzUmF0ZUVqZWN0aW9uQ29uZmlnKSwgc3VjY2Vzc1JhdGVFamVjdGlvbikgOiBudWxsO1xuICAgICAgICB0aGlzLmZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb24gPSBmYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uXG4gICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcpLCBmYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uKSA6IG51bGw7XG4gICAgfVxuICAgIGdldExvYWRCYWxhbmNlck5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxuICAgIHRvSnNvbk9iamVjdCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG91dGxpZXJfZGV0ZWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6ICgwLCBkdXJhdGlvbl8xLm1zVG9EdXJhdGlvbikodGhpcy5pbnRlcnZhbE1zKSxcbiAgICAgICAgICAgICAgICBiYXNlX2VqZWN0aW9uX3RpbWU6ICgwLCBkdXJhdGlvbl8xLm1zVG9EdXJhdGlvbikodGhpcy5iYXNlRWplY3Rpb25UaW1lTXMpLFxuICAgICAgICAgICAgICAgIG1heF9lamVjdGlvbl90aW1lOiAoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMubWF4RWplY3Rpb25UaW1lTXMpLFxuICAgICAgICAgICAgICAgIG1heF9lamVjdGlvbl9wZXJjZW50OiB0aGlzLm1heEVqZWN0aW9uUGVyY2VudCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzX3JhdGVfZWplY3Rpb246IChfYSA9IHRoaXMuc3VjY2Vzc1JhdGVFamVjdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbjogKF9iID0gdGhpcy5mYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2hpbGRfcG9saWN5OiBbdGhpcy5jaGlsZFBvbGljeS50b0pzb25PYmplY3QoKV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRJbnRlcnZhbE1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbE1zO1xuICAgIH1cbiAgICBnZXRCYXNlRWplY3Rpb25UaW1lTXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VFamVjdGlvblRpbWVNcztcbiAgICB9XG4gICAgZ2V0TWF4RWplY3Rpb25UaW1lTXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heEVqZWN0aW9uVGltZU1zO1xuICAgIH1cbiAgICBnZXRNYXhFamVjdGlvblBlcmNlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heEVqZWN0aW9uUGVyY2VudDtcbiAgICB9XG4gICAgZ2V0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VjY2Vzc1JhdGVFamVjdGlvbjtcbiAgICB9XG4gICAgZ2V0RmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbkNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbjtcbiAgICB9XG4gICAgZ2V0Q2hpbGRQb2xpY3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkUG9saWN5O1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlRnJvbUpzb24ob2JqKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFsaWRhdGVQb3NpdGl2ZUR1cmF0aW9uKG9iaiwgJ2ludGVydmFsJyk7XG4gICAgICAgIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosICdiYXNlX2VqZWN0aW9uX3RpbWUnKTtcbiAgICAgICAgdmFsaWRhdGVQb3NpdGl2ZUR1cmF0aW9uKG9iaiwgJ21heF9lamVjdGlvbl90aW1lJyk7XG4gICAgICAgIHZhbGlkYXRlUGVyY2VudGFnZShvYmosICdtYXhfZWplY3Rpb25fcGVyY2VudCcpO1xuICAgICAgICBpZiAoJ3N1Y2Nlc3NfcmF0ZV9lamVjdGlvbicgaW4gb2JqICYmXG4gICAgICAgICAgICBvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLnN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyBzdWNjZXNzX3JhdGVfZWplY3Rpb24gbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24sICdzdGRldl9mYWN0b3InLCAnbnVtYmVyJywgJ3N1Y2Nlc3NfcmF0ZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVQZXJjZW50YWdlKG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24sICdlbmZvcmNlbWVudF9wZXJjZW50YWdlJywgJ3N1Y2Nlc3NfcmF0ZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLnN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiwgJ21pbmltdW1faG9zdHMnLCAnbnVtYmVyJywgJ3N1Y2Nlc3NfcmF0ZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLnN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiwgJ3JlcXVlc3Rfdm9sdW1lJywgJ251bWJlcicsICdzdWNjZXNzX3JhdGVfZWplY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2ZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbicgaW4gb2JqICYmXG4gICAgICAgICAgICBvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyBmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24gbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRlUGVyY2VudGFnZShvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uLCAndGhyZXNob2xkJywgJ2ZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVQZXJjZW50YWdlKG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24sICdlbmZvcmNlbWVudF9wZXJjZW50YWdlJywgJ2ZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiwgJ21pbmltdW1faG9zdHMnLCAnbnVtYmVyJywgJ2ZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiwgJ3JlcXVlc3Rfdm9sdW1lJywgJ251bWJlcicsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISgnY2hpbGRfcG9saWN5JyBpbiBvYmopIHx8ICFBcnJheS5pc0FycmF5KG9iai5jaGlsZF9wb2xpY3kpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyBjaGlsZF9wb2xpY3kgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkUG9saWN5ID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5zZWxlY3RMYkNvbmZpZ0Zyb21MaXN0KShvYmouY2hpbGRfcG9saWN5KTtcbiAgICAgICAgaWYgKCFjaGlsZFBvbGljeSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgY2hpbGRfcG9saWN5OiBubyB2YWxpZCByZWNvZ25pemVkIHBvbGljeSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWcob2JqLmludGVydmFsID8gKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zKShvYmouaW50ZXJ2YWwpIDogbnVsbCwgb2JqLmJhc2VfZWplY3Rpb25fdGltZSA/ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9Ncykob2JqLmJhc2VfZWplY3Rpb25fdGltZSkgOiBudWxsLCBvYmoubWF4X2VqZWN0aW9uX3RpbWUgPyAoMCwgZHVyYXRpb25fMS5kdXJhdGlvblRvTXMpKG9iai5tYXhfZWplY3Rpb25fdGltZSkgOiBudWxsLCAoX2EgPSBvYmoubWF4X2VqZWN0aW9uX3BlcmNlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwsIG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24sIG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24sIGNoaWxkUG9saWN5KTtcbiAgICB9XG59XG5leHBvcnRzLk91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnID0gT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWc7XG5jbGFzcyBPdXRsaWVyRGV0ZWN0aW9uU3ViY2hhbm5lbFdyYXBwZXIgZXh0ZW5kcyBzdWJjaGFubmVsX2ludGVyZmFjZV8xLkJhc2VTdWJjaGFubmVsV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRTdWJjaGFubmVsLCBtYXBFbnRyeSkge1xuICAgICAgICBzdXBlcihjaGlsZFN1YmNoYW5uZWwpO1xuICAgICAgICB0aGlzLm1hcEVudHJ5ID0gbWFwRW50cnk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cbiAgICByZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQucmVmKCk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgKz0gMTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudW5yZWYoKTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5yZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXBFbnRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tYXBFbnRyeS5zdWJjaGFubmVsV3JhcHBlcnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEVudHJ5LnN1YmNoYW5uZWxXcmFwcGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlamVjdCgpIHtcbiAgICAgICAgdGhpcy5zZXRIZWFsdGh5KGZhbHNlKTtcbiAgICB9XG4gICAgdW5lamVjdCgpIHtcbiAgICAgICAgdGhpcy5zZXRIZWFsdGh5KHRydWUpO1xuICAgIH1cbiAgICBnZXRNYXBFbnRyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwRW50cnk7XG4gICAgfVxuICAgIGdldFdyYXBwZWRTdWJjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZDtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVFbXB0eUJ1Y2tldCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiAwLFxuICAgICAgICBmYWlsdXJlOiAwLFxuICAgIH07XG59XG5jbGFzcyBDYWxsQ291bnRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQnVja2V0ID0gY3JlYXRlRW1wdHlCdWNrZXQoKTtcbiAgICAgICAgdGhpcy5pbmFjdGl2ZUJ1Y2tldCA9IGNyZWF0ZUVtcHR5QnVja2V0KCk7XG4gICAgfVxuICAgIGFkZFN1Y2Nlc3MoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQnVja2V0LnN1Y2Nlc3MgKz0gMTtcbiAgICB9XG4gICAgYWRkRmFpbHVyZSgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVCdWNrZXQuZmFpbHVyZSArPSAxO1xuICAgIH1cbiAgICBzd2l0Y2hCdWNrZXRzKCkge1xuICAgICAgICB0aGlzLmluYWN0aXZlQnVja2V0ID0gdGhpcy5hY3RpdmVCdWNrZXQ7XG4gICAgICAgIHRoaXMuYWN0aXZlQnVja2V0ID0gY3JlYXRlRW1wdHlCdWNrZXQoKTtcbiAgICB9XG4gICAgZ2V0TGFzdFN1Y2Nlc3NlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5hY3RpdmVCdWNrZXQuc3VjY2VzcztcbiAgICB9XG4gICAgZ2V0TGFzdEZhaWx1cmVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmFjdGl2ZUJ1Y2tldC5mYWlsdXJlO1xuICAgIH1cbn1cbmNsYXNzIE91dGxpZXJEZXRlY3Rpb25QaWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKHdyYXBwZWRQaWNrZXIsIGNvdW50Q2FsbHMpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkUGlja2VyID0gd3JhcHBlZFBpY2tlcjtcbiAgICAgICAgdGhpcy5jb3VudENhbGxzID0gY291bnRDYWxscztcbiAgICB9XG4gICAgcGljayhwaWNrQXJncykge1xuICAgICAgICBjb25zdCB3cmFwcGVkUGljayA9IHRoaXMud3JhcHBlZFBpY2tlci5waWNrKHBpY2tBcmdzKTtcbiAgICAgICAgaWYgKHdyYXBwZWRQaWNrLnBpY2tSZXN1bHRUeXBlID09PSBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURSkge1xuICAgICAgICAgICAgY29uc3Qgc3ViY2hhbm5lbFdyYXBwZXIgPSB3cmFwcGVkUGljay5zdWJjaGFubmVsO1xuICAgICAgICAgICAgY29uc3QgbWFwRW50cnkgPSBzdWJjaGFubmVsV3JhcHBlci5nZXRNYXBFbnRyeSgpO1xuICAgICAgICAgICAgaWYgKG1hcEVudHJ5KSB7XG4gICAgICAgICAgICAgICAgbGV0IG9uQ2FsbEVuZGVkID0gd3JhcHBlZFBpY2sub25DYWxsRW5kZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY291bnRDYWxscykge1xuICAgICAgICAgICAgICAgICAgICBvbkNhbGxFbmRlZCA9IHN0YXR1c0NvZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcEVudHJ5LmNvdW50ZXIuYWRkU3VjY2VzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwRW50cnkuY291bnRlci5hZGRGYWlsdXJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSB3cmFwcGVkUGljay5vbkNhbGxFbmRlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwod3JhcHBlZFBpY2ssIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB3cmFwcGVkUGljayksIHsgc3ViY2hhbm5lbDogc3ViY2hhbm5lbFdyYXBwZXIuZ2V0V3JhcHBlZFN1YmNoYW5uZWwoKSwgb25DYWxsRW5kZWQ6IG9uQ2FsbEVuZGVkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgd3JhcHBlZFBpY2spLCB7IHN1YmNoYW5uZWw6IHN1YmNoYW5uZWxXcmFwcGVyLmdldFdyYXBwZWRTdWJjaGFubmVsKCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlZFBpY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBPdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmVudHJ5TWFwID0gbmV3IHN1YmNoYW5uZWxfYWRkcmVzc18xLkVuZHBvaW50TWFwKCk7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy50aW1lclN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlciA9IG5ldyBsb2FkX2JhbGFuY2VyX2NoaWxkX2hhbmRsZXJfMS5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIoKDAsIGV4cGVyaW1lbnRhbF8xLmNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIpKGNoYW5uZWxDb250cm9sSGVscGVyLCB7XG4gICAgICAgICAgICBjcmVhdGVTdWJjaGFubmVsOiAoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTdWJjaGFubmVsID0gY2hhbm5lbENvbnRyb2xIZWxwZXIuY3JlYXRlU3ViY2hhbm5lbChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcEVudHJ5ID0gdGhpcy5lbnRyeU1hcC5nZXRGb3JTdWJjaGFubmVsQWRkcmVzcyhzdWJjaGFubmVsQWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViY2hhbm5lbFdyYXBwZXIgPSBuZXcgT3V0bGllckRldGVjdGlvblN1YmNoYW5uZWxXcmFwcGVyKG9yaWdpbmFsU3ViY2hhbm5lbCwgbWFwRW50cnkpO1xuICAgICAgICAgICAgICAgIGlmICgobWFwRW50cnkgPT09IG51bGwgfHwgbWFwRW50cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFkZHJlc3MgaXMgZWplY3RlZCwgcHJvcGFnYXRlIHRoYXQgdG8gdGhlIG5ldyBzdWJjaGFubmVsIHdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXIuZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFwRW50cnkgPT09IG51bGwgfHwgbWFwRW50cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcEVudHJ5LnN1YmNoYW5uZWxXcmFwcGVycy5wdXNoKHN1YmNoYW5uZWxXcmFwcGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ViY2hhbm5lbFdyYXBwZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlU3RhdGU6IChjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBuZXcgT3V0bGllckRldGVjdGlvblBpY2tlcihwaWNrZXIsIHRoaXMuaXNDb3VudGluZ0VuYWJsZWQoKSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5lamVjdGlvblRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmVqZWN0aW9uVGltZXIpO1xuICAgIH1cbiAgICBpc0NvdW50aW5nRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxhdGVzdENvbmZpZyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgKHRoaXMubGF0ZXN0Q29uZmlnLmdldFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWcoKSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnLmdldEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcoKSAhPT0gbnVsbCkpO1xuICAgIH1cbiAgICBnZXRDdXJyZW50RWplY3Rpb25QZXJjZW50KCkge1xuICAgICAgICBsZXQgZWplY3Rpb25Db3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5lbnRyeU1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGVqZWN0aW9uQ291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGVqZWN0aW9uQ291bnQgKiAxMDApIC8gdGhpcy5lbnRyeU1hcC5zaXplO1xuICAgIH1cbiAgICBydW5TdWNjZXNzUmF0ZUNoZWNrKGVqZWN0aW9uVGltZXN0YW1wKSB7XG4gICAgICAgIGlmICghdGhpcy5sYXRlc3RDb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZUNvbmZpZyA9IHRoaXMubGF0ZXN0Q29uZmlnLmdldFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWcoKTtcbiAgICAgICAgaWYgKCFzdWNjZXNzUmF0ZUNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlKCdSdW5uaW5nIHN1Y2Nlc3MgcmF0ZSBjaGVjaycpO1xuICAgICAgICAvLyBTdGVwIDFcbiAgICAgICAgY29uc3QgdGFyZ2V0UmVxdWVzdFZvbHVtZSA9IHN1Y2Nlc3NSYXRlQ29uZmlnLnJlcXVlc3Rfdm9sdW1lO1xuICAgICAgICBsZXQgYWRkcmVzZXNXaXRoVGFyZ2V0Vm9sdW1lID0gMDtcbiAgICAgICAgY29uc3Qgc3VjY2Vzc1JhdGVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2VuZHBvaW50LCBtYXBFbnRyeV0gb2YgdGhpcy5lbnRyeU1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdFN1Y2Nlc3NlcygpO1xuICAgICAgICAgICAgY29uc3QgZmFpbHVyZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RGYWlsdXJlcygpO1xuICAgICAgICAgICAgdHJhY2UoJ1N0YXRzIGZvciAnICtcbiAgICAgICAgICAgICAgICAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuZW5kcG9pbnRUb1N0cmluZykoZW5kcG9pbnQpICtcbiAgICAgICAgICAgICAgICAnOiBzdWNjZXNzZXM9JyArXG4gICAgICAgICAgICAgICAgc3VjY2Vzc2VzICtcbiAgICAgICAgICAgICAgICAnIGZhaWx1cmVzPScgK1xuICAgICAgICAgICAgICAgIGZhaWx1cmVzICtcbiAgICAgICAgICAgICAgICAnIHRhcmdldFJlcXVlc3RWb2x1bWU9JyArXG4gICAgICAgICAgICAgICAgdGFyZ2V0UmVxdWVzdFZvbHVtZSk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2VzICsgZmFpbHVyZXMgPj0gdGFyZ2V0UmVxdWVzdFZvbHVtZSkge1xuICAgICAgICAgICAgICAgIGFkZHJlc2VzV2l0aFRhcmdldFZvbHVtZSArPSAxO1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NSYXRlcy5wdXNoKHN1Y2Nlc3NlcyAvIChzdWNjZXNzZXMgKyBmYWlsdXJlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRyYWNlKCdGb3VuZCAnICtcbiAgICAgICAgICAgIGFkZHJlc2VzV2l0aFRhcmdldFZvbHVtZSArXG4gICAgICAgICAgICAnIHN1Y2Nlc3MgcmF0ZSBjYW5kaWRhdGVzOyBjdXJyZW50RWplY3Rpb25QZXJjZW50PScgK1xuICAgICAgICAgICAgdGhpcy5nZXRDdXJyZW50RWplY3Rpb25QZXJjZW50KCkgK1xuICAgICAgICAgICAgJyBzdWNjZXNzUmF0ZXM9WycgK1xuICAgICAgICAgICAgc3VjY2Vzc1JhdGVzICtcbiAgICAgICAgICAgICddJyk7XG4gICAgICAgIGlmIChhZGRyZXNlc1dpdGhUYXJnZXRWb2x1bWUgPCBzdWNjZXNzUmF0ZUNvbmZpZy5taW5pbXVtX2hvc3RzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RlcCAyXG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlTWVhbiA9IHN1Y2Nlc3NSYXRlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKSAvIHN1Y2Nlc3NSYXRlcy5sZW5ndGg7XG4gICAgICAgIGxldCBzdWNjZXNzUmF0ZURldmlhdGlvblN1bSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcmF0ZSBvZiBzdWNjZXNzUmF0ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldmlhdGlvbiA9IHJhdGUgLSBzdWNjZXNzUmF0ZU1lYW47XG4gICAgICAgICAgICBzdWNjZXNzUmF0ZURldmlhdGlvblN1bSArPSBkZXZpYXRpb24gKiBkZXZpYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3VjY2Vzc1JhdGVWYXJpYW5jZSA9IHN1Y2Nlc3NSYXRlRGV2aWF0aW9uU3VtIC8gc3VjY2Vzc1JhdGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc3VjY2Vzc1JhdGVTdGRldiA9IE1hdGguc3FydChzdWNjZXNzUmF0ZVZhcmlhbmNlKTtcbiAgICAgICAgY29uc3QgZWplY3Rpb25UaHJlc2hvbGQgPSBzdWNjZXNzUmF0ZU1lYW4gLVxuICAgICAgICAgICAgc3VjY2Vzc1JhdGVTdGRldiAqIChzdWNjZXNzUmF0ZUNvbmZpZy5zdGRldl9mYWN0b3IgLyAxMDAwKTtcbiAgICAgICAgdHJhY2UoJ3N0ZGV2PScgKyBzdWNjZXNzUmF0ZVN0ZGV2ICsgJyBlamVjdGlvblRocmVzaG9sZD0nICsgZWplY3Rpb25UaHJlc2hvbGQpO1xuICAgICAgICAvLyBTdGVwIDNcbiAgICAgICAgZm9yIChjb25zdCBbYWRkcmVzcywgbWFwRW50cnldIG9mIHRoaXMuZW50cnlNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICAvLyBTdGVwIDMuaVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q3VycmVudEVqZWN0aW9uUGVyY2VudCgpID49XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcuZ2V0TWF4RWplY3Rpb25QZXJjZW50KCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0ZXAgMy5paVxuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2VzICsgZmFpbHVyZXMgPCB0YXJnZXRSZXF1ZXN0Vm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIDMuaWlpXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZSA9IHN1Y2Nlc3NlcyAvIChzdWNjZXNzZXMgKyBmYWlsdXJlcyk7XG4gICAgICAgICAgICB0cmFjZSgnQ2hlY2tpbmcgY2FuZGlkYXRlICcgKyBhZGRyZXNzICsgJyBzdWNjZXNzUmF0ZT0nICsgc3VjY2Vzc1JhdGUpO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NSYXRlIDwgZWplY3Rpb25UaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLnJhbmRvbSgpICogMTAwO1xuICAgICAgICAgICAgICAgIHRyYWNlKCdDYW5kaWRhdGUgJyArXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgK1xuICAgICAgICAgICAgICAgICAgICAnIHJhbmRvbU51bWJlcj0nICtcbiAgICAgICAgICAgICAgICAgICAgcmFuZG9tTnVtYmVyICtcbiAgICAgICAgICAgICAgICAgICAgJyBlbmZvcmNlbWVudF9wZXJjZW50YWdlPScgK1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzUmF0ZUNvbmZpZy5lbmZvcmNlbWVudF9wZXJjZW50YWdlKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZG9tTnVtYmVyIDwgc3VjY2Vzc1JhdGVDb25maWcuZW5mb3JjZW1lbnRfcGVyY2VudGFnZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnRWplY3RpbmcgY2FuZGlkYXRlICcgKyBhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lamVjdChtYXBFbnRyeSwgZWplY3Rpb25UaW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBydW5GYWlsdXJlUGVyY2VudGFnZUNoZWNrKGVqZWN0aW9uVGltZXN0YW1wKSB7XG4gICAgICAgIGlmICghdGhpcy5sYXRlc3RDb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZyA9IHRoaXMubGF0ZXN0Q29uZmlnLmdldEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcoKTtcbiAgICAgICAgaWYgKCFmYWlsdXJlUGVyY2VudGFnZUNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlKCdSdW5uaW5nIGZhaWx1cmUgcGVyY2VudGFnZSBjaGVjay4gdGhyZXNob2xkPScgK1xuICAgICAgICAgICAgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcudGhyZXNob2xkICtcbiAgICAgICAgICAgICcgcmVxdWVzdCB2b2x1bWUgdGhyZXNob2xkPScgK1xuICAgICAgICAgICAgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcucmVxdWVzdF92b2x1bWUpO1xuICAgICAgICAvLyBTdGVwIDFcbiAgICAgICAgbGV0IGFkZHJlc3Nlc1dpdGhUYXJnZXRWb2x1bWUgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IG1hcEVudHJ5IG9mIHRoaXMuZW50cnlNYXAudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdFN1Y2Nlc3NlcygpO1xuICAgICAgICAgICAgY29uc3QgZmFpbHVyZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RGYWlsdXJlcygpO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NlcyArIGZhaWx1cmVzID49IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnLnJlcXVlc3Rfdm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzc2VzV2l0aFRhcmdldFZvbHVtZSArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhZGRyZXNzZXNXaXRoVGFyZ2V0Vm9sdW1lIDwgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcubWluaW11bV9ob3N0cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0ZXAgMlxuICAgICAgICBmb3IgKGNvbnN0IFthZGRyZXNzLCBtYXBFbnRyeV0gb2YgdGhpcy5lbnRyeU1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIC8vIFN0ZXAgMi5pXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRDdXJyZW50RWplY3Rpb25QZXJjZW50KCkgPj1cbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENvbmZpZy5nZXRNYXhFamVjdGlvblBlcmNlbnQoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAyLmlpXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RTdWNjZXNzZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGZhaWx1cmVzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0RmFpbHVyZXMoKTtcbiAgICAgICAgICAgIHRyYWNlKCdDYW5kaWRhdGUgc3VjY2Vzc2VzPScgKyBzdWNjZXNzZXMgKyAnIGZhaWx1cmVzPScgKyBmYWlsdXJlcyk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2VzICsgZmFpbHVyZXMgPCBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5yZXF1ZXN0X3ZvbHVtZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAyLmlpaVxuICAgICAgICAgICAgY29uc3QgZmFpbHVyZVBlcmNlbnRhZ2UgPSAoZmFpbHVyZXMgKiAxMDApIC8gKGZhaWx1cmVzICsgc3VjY2Vzc2VzKTtcbiAgICAgICAgICAgIGlmIChmYWlsdXJlUGVyY2VudGFnZSA+IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnLnRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbU51bWJlciA9IE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ0NhbmRpZGF0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyArXG4gICAgICAgICAgICAgICAgICAgICcgcmFuZG9tTnVtYmVyPScgK1xuICAgICAgICAgICAgICAgICAgICByYW5kb21OdW1iZXIgK1xuICAgICAgICAgICAgICAgICAgICAnIGVuZm9yY2VtZW50X3BlcmNlbnRhZ2U9JyArXG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnLmVuZm9yY2VtZW50X3BlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChyYW5kb21OdW1iZXIgPCBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5lbmZvcmNlbWVudF9wZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdFamVjdGluZyBjYW5kaWRhdGUgJyArIGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVqZWN0KG1hcEVudHJ5LCBlamVjdGlvblRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVqZWN0KG1hcEVudHJ5LCBlamVjdGlvblRpbWVzdGFtcCkge1xuICAgICAgICBtYXBFbnRyeS5jdXJyZW50RWplY3Rpb25UaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyICs9IDE7XG4gICAgICAgIGZvciAoY29uc3Qgc3ViY2hhbm5lbFdyYXBwZXIgb2YgbWFwRW50cnkuc3ViY2hhbm5lbFdyYXBwZXJzKSB7XG4gICAgICAgICAgICBzdWJjaGFubmVsV3JhcHBlci5lamVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuZWplY3QobWFwRW50cnkpIHtcbiAgICAgICAgbWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBzdWJjaGFubmVsV3JhcHBlciBvZiBtYXBFbnRyeS5zdWJjaGFubmVsV3JhcHBlcnMpIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWxXcmFwcGVyLnVuZWplY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2hBbGxCdWNrZXRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG1hcEVudHJ5IG9mIHRoaXMuZW50cnlNYXAudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIG1hcEVudHJ5LmNvdW50ZXIuc3dpdGNoQnVja2V0cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0VGltZXIoZGVsYXlNcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmVqZWN0aW9uVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMucnVuQ2hlY2tzKCksIGRlbGF5TXMpO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmVqZWN0aW9uVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfVxuICAgIHJ1bkNoZWNrcygpIHtcbiAgICAgICAgY29uc3QgZWplY3Rpb25UaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0cmFjZSgnRWplY3Rpb24gdGltZXIgcnVubmluZycpO1xuICAgICAgICB0aGlzLnN3aXRjaEFsbEJ1Y2tldHMoKTtcbiAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZXJTdGFydFRpbWUgPSBlamVjdGlvblRpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKHRoaXMubGF0ZXN0Q29uZmlnLmdldEludGVydmFsTXMoKSk7XG4gICAgICAgIHRoaXMucnVuU3VjY2Vzc1JhdGVDaGVjayhlamVjdGlvblRpbWVzdGFtcCk7XG4gICAgICAgIHRoaXMucnVuRmFpbHVyZVBlcmNlbnRhZ2VDaGVjayhlamVjdGlvblRpbWVzdGFtcCk7XG4gICAgICAgIGZvciAoY29uc3QgW2FkZHJlc3MsIG1hcEVudHJ5XSBvZiB0aGlzLmVudHJ5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyIC09IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZUVqZWN0aW9uVGltZU1zID0gdGhpcy5sYXRlc3RDb25maWcuZ2V0QmFzZUVqZWN0aW9uVGltZU1zKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4RWplY3Rpb25UaW1lTXMgPSB0aGlzLmxhdGVzdENvbmZpZy5nZXRNYXhFamVjdGlvblRpbWVNcygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblRpbWUgPSBuZXcgRGF0ZShtYXBFbnRyeS5jdXJyZW50RWplY3Rpb25UaW1lc3RhbXAuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm5UaW1lLnNldE1pbGxpc2Vjb25kcyhyZXR1cm5UaW1lLmdldE1pbGxpc2Vjb25kcygpICtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oYmFzZUVqZWN0aW9uVGltZU1zICogbWFwRW50cnkuZWplY3Rpb25UaW1lTXVsdGlwbGllciwgTWF0aC5tYXgoYmFzZUVqZWN0aW9uVGltZU1zLCBtYXhFamVjdGlvblRpbWVNcykpKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuVGltZSA8IG5ldyBEYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UoJ1VuZWplY3RpbmcgJyArIGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZWplY3QobWFwRW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVBZGRyZXNzTGlzdChlbmRwb2ludExpc3QsIGxiQ29uZmlnLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghKGxiQ29uZmlnIGluc3RhbmNlb2YgT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1JlY2VpdmVkIHVwZGF0ZSB3aXRoIGNvbmZpZzogJyArIEpTT04uc3RyaW5naWZ5KGxiQ29uZmlnLnRvSnNvbk9iamVjdCgpLCB1bmRlZmluZWQsIDIpKTtcbiAgICAgICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBlbmRwb2ludExpc3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbnRyeU1hcC5oYXMoZW5kcG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ0FkZGluZyBtYXAgZW50cnkgZm9yICcgKyAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuZW5kcG9pbnRUb1N0cmluZykoZW5kcG9pbnQpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudHJ5TWFwLnNldChlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyOiBuZXcgQ2FsbENvdW50ZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVqZWN0aW9uVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBlamVjdGlvblRpbWVNdWx0aXBsaWVyOiAwLFxuICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsV3JhcHBlcnM6IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW50cnlNYXAuZGVsZXRlTWlzc2luZyhlbmRwb2ludExpc3QpO1xuICAgICAgICBjb25zdCBjaGlsZFBvbGljeSA9IGxiQ29uZmlnLmdldENoaWxkUG9saWN5KCk7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci51cGRhdGVBZGRyZXNzTGlzdChlbmRwb2ludExpc3QsIGNoaWxkUG9saWN5LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGxiQ29uZmlnLmdldFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWcoKSB8fFxuICAgICAgICAgICAgbGJDb25maWcuZ2V0RmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbkNvbmZpZygpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50aW1lclN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIHRyYWNlKCdQcmV2aW91cyB0aW1lciBleGlzdGVkLiBSZXBsYWNpbmcgdGltZXInKTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5lamVjdGlvblRpbWVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdEZWxheSA9IGxiQ29uZmlnLmdldEludGVydmFsTXMoKSAtXG4gICAgICAgICAgICAgICAgICAgIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMudGltZXJTdGFydFRpbWUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIocmVtYWluaW5nRGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ1N0YXJ0aW5nIG5ldyB0aW1lcicpO1xuICAgICAgICAgICAgICAgIHRoaXMudGltZXJTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcihsYkNvbmZpZy5nZXRJbnRlcnZhbE1zKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoQWxsQnVja2V0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhY2UoJ0NvdW50aW5nIGRpc2FibGVkLiBDYW5jZWxsaW5nIHRpbWVyLicpO1xuICAgICAgICAgICAgdGhpcy50aW1lclN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5lamVjdGlvblRpbWVyKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5lbnRyeU1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5lamVjdChtYXBFbnRyeSk7XG4gICAgICAgICAgICAgICAgbWFwRW50cnkuZWplY3Rpb25UaW1lTXVsdGlwbGllciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBsYkNvbmZpZztcbiAgICB9XG4gICAgZXhpdElkbGUoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5yZXNldEJhY2tvZmYoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNlciA9IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAoT1VUTElFUl9ERVRFQ1RJT05fRU5BQkxFRCkge1xuICAgICAgICAoMCwgZXhwZXJpbWVudGFsXzEucmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlKShUWVBFX05BTUUsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LeafLoadBalancer = exports.PickFirstLoadBalancer = exports.PickFirstLoadBalancingConfig = void 0;\nexports.shuffled = shuffled;\nexports.setup = setup;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst subchannel_address_2 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst TRACER_NAME = 'pick_first';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'pick_first';\n/**\n * Delay after starting a connection on a subchannel before starting a\n * connection on the next subchannel in the list, for Happy Eyeballs algorithm.\n */\nconst CONNECTION_DELAY_INTERVAL_MS = 250;\nclass PickFirstLoadBalancingConfig {\n    constructor(shuffleAddressList) {\n        this.shuffleAddressList = shuffleAddressList;\n    }\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    toJsonObject() {\n        return {\n            [TYPE_NAME]: {\n                shuffleAddressList: this.shuffleAddressList,\n            },\n        };\n    }\n    getShuffleAddressList() {\n        return this.shuffleAddressList;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static createFromJson(obj) {\n        if ('shuffleAddressList' in obj &&\n            !(typeof obj.shuffleAddressList === 'boolean')) {\n            throw new Error('pick_first config field shuffleAddressList must be a boolean if provided');\n        }\n        return new PickFirstLoadBalancingConfig(obj.shuffleAddressList === true);\n    }\n}\nexports.PickFirstLoadBalancingConfig = PickFirstLoadBalancingConfig;\n/**\n * Picker for a `PickFirstLoadBalancer` in the READY state. Always returns the\n * picked subchannel.\n */\nclass PickFirstPicker {\n    constructor(subchannel) {\n        this.subchannel = subchannel;\n    }\n    pick(pickArgs) {\n        return {\n            pickResultType: picker_1.PickResultType.COMPLETE,\n            subchannel: this.subchannel,\n            status: null,\n            onCallStarted: null,\n            onCallEnded: null,\n        };\n    }\n}\n/**\n * Return a new array with the elements of the input array in a random order\n * @param list The input array\n * @returns A shuffled array of the elements of list\n */\nfunction shuffled(list) {\n    const result = list.slice();\n    for (let i = result.length - 1; i > 1; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        const temp = result[i];\n        result[i] = result[j];\n        result[j] = temp;\n    }\n    return result;\n}\n/**\n * Interleave addresses in addressList by family in accordance with RFC-8304 section 4\n * @param addressList\n * @returns\n */\nfunction interleaveAddressFamilies(addressList) {\n    if (addressList.length === 0) {\n        return [];\n    }\n    const result = [];\n    const ipv6Addresses = [];\n    const ipv4Addresses = [];\n    const ipv6First = (0, subchannel_address_2.isTcpSubchannelAddress)(addressList[0]) && (0, net_1.isIPv6)(addressList[0].host);\n    for (const address of addressList) {\n        if ((0, subchannel_address_2.isTcpSubchannelAddress)(address) && (0, net_1.isIPv6)(address.host)) {\n            ipv6Addresses.push(address);\n        }\n        else {\n            ipv4Addresses.push(address);\n        }\n    }\n    const firstList = ipv6First ? ipv6Addresses : ipv4Addresses;\n    const secondList = ipv6First ? ipv4Addresses : ipv6Addresses;\n    for (let i = 0; i < Math.max(firstList.length, secondList.length); i++) {\n        if (i < firstList.length) {\n            result.push(firstList[i]);\n        }\n        if (i < secondList.length) {\n            result.push(secondList[i]);\n        }\n    }\n    return result;\n}\nconst REPORT_HEALTH_STATUS_OPTION_NAME = 'grpc-node.internal.pick-first.report_health_status';\nclass PickFirstLoadBalancer {\n    /**\n     * Load balancer that attempts to connect to each backend in the address list\n     * in order, and picks the first one that connects, using it for every\n     * request.\n     * @param channelControlHelper `ChannelControlHelper` instance provided by\n     *     this load balancer's owner.\n     */\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        /**\n         * The list of subchannels this load balancer is currently attempting to\n         * connect to.\n         */\n        this.children = [];\n        /**\n         * The current connectivity state of the load balancer.\n         */\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The index within the `subchannels` array of the subchannel with the most\n         * recently started connection attempt.\n         */\n        this.currentSubchannelIndex = 0;\n        /**\n         * The currently picked subchannel used for making calls. Populated if\n         * and only if the load balancer's current state is READY. In that case,\n         * the subchannel's current state is also READY.\n         */\n        this.currentPick = null;\n        /**\n         * Listener callback attached to each subchannel in the `subchannels` list\n         * while establishing a connection.\n         */\n        this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime, errorMessage) => {\n            this.onSubchannelStateUpdate(subchannel, previousState, newState, errorMessage);\n        };\n        this.pickedSubchannelHealthListener = () => this.calculateAndReportNewState();\n        /**\n         * The LB policy enters sticky TRANSIENT_FAILURE mode when all\n         * subchannels have failed to connect at least once, and it stays in that\n         * mode until a connection attempt is successful. While in sticky TF mode,\n         * the LB policy continuously attempts to connect to all of its subchannels.\n         */\n        this.stickyTransientFailureMode = false;\n        this.reportHealthStatus = false;\n        /**\n         * The most recent error reported by any subchannel as it transitioned to\n         * TRANSIENT_FAILURE.\n         */\n        this.lastError = null;\n        this.latestAddressList = null;\n        this.latestOptions = {};\n        this.connectionDelayTimeout = setTimeout(() => { }, 0);\n        clearTimeout(this.connectionDelayTimeout);\n    }\n    allChildrenHaveReportedTF() {\n        return this.children.every(child => child.hasReportedTransientFailure);\n    }\n    resetChildrenReportedTF() {\n        this.children.every(child => child.hasReportedTransientFailure = false);\n    }\n    calculateAndReportNewState() {\n        var _a;\n        if (this.currentPick) {\n            if (this.reportHealthStatus && !this.currentPick.isHealthy()) {\n                const errorMessage = `Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;\n                this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                    details: errorMessage,\n                }), errorMessage);\n            }\n            else {\n                this.updateState(connectivity_state_1.ConnectivityState.READY, new PickFirstPicker(this.currentPick), null);\n            }\n        }\n        else if (((_a = this.latestAddressList) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            const errorMessage = `No connection established. Last error: ${this.lastError}`;\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                details: errorMessage,\n            }), errorMessage);\n        }\n        else if (this.children.length === 0) {\n            this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this), null);\n        }\n        else {\n            if (this.stickyTransientFailureMode) {\n                const errorMessage = `No connection established. Last error: ${this.lastError}`;\n                this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                    details: errorMessage,\n                }), errorMessage);\n            }\n            else {\n                this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this), null);\n            }\n        }\n    }\n    requestReresolution() {\n        this.channelControlHelper.requestReresolution();\n    }\n    maybeEnterStickyTransientFailureMode() {\n        if (!this.allChildrenHaveReportedTF()) {\n            return;\n        }\n        this.requestReresolution();\n        this.resetChildrenReportedTF();\n        if (this.stickyTransientFailureMode) {\n            this.calculateAndReportNewState();\n            return;\n        }\n        this.stickyTransientFailureMode = true;\n        for (const { subchannel } of this.children) {\n            subchannel.startConnecting();\n        }\n        this.calculateAndReportNewState();\n    }\n    removeCurrentPick() {\n        if (this.currentPick !== null) {\n            this.currentPick.removeConnectivityStateListener(this.subchannelStateListener);\n            this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef());\n            this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener);\n            // Unref last, to avoid triggering listeners\n            this.currentPick.unref();\n            this.currentPick = null;\n        }\n    }\n    onSubchannelStateUpdate(subchannel, previousState, newState, errorMessage) {\n        var _a;\n        if ((_a = this.currentPick) === null || _a === void 0 ? void 0 : _a.realSubchannelEquals(subchannel)) {\n            if (newState !== connectivity_state_1.ConnectivityState.READY) {\n                this.removeCurrentPick();\n                this.calculateAndReportNewState();\n            }\n            return;\n        }\n        for (const [index, child] of this.children.entries()) {\n            if (subchannel.realSubchannelEquals(child.subchannel)) {\n                if (newState === connectivity_state_1.ConnectivityState.READY) {\n                    this.pickSubchannel(child.subchannel);\n                }\n                if (newState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                    child.hasReportedTransientFailure = true;\n                    if (errorMessage) {\n                        this.lastError = errorMessage;\n                    }\n                    this.maybeEnterStickyTransientFailureMode();\n                    if (index === this.currentSubchannelIndex) {\n                        this.startNextSubchannelConnecting(index + 1);\n                    }\n                }\n                child.subchannel.startConnecting();\n                return;\n            }\n        }\n    }\n    startNextSubchannelConnecting(startIndex) {\n        clearTimeout(this.connectionDelayTimeout);\n        for (const [index, child] of this.children.entries()) {\n            if (index >= startIndex) {\n                const subchannelState = child.subchannel.getConnectivityState();\n                if (subchannelState === connectivity_state_1.ConnectivityState.IDLE ||\n                    subchannelState === connectivity_state_1.ConnectivityState.CONNECTING) {\n                    this.startConnecting(index);\n                    return;\n                }\n            }\n        }\n        this.maybeEnterStickyTransientFailureMode();\n    }\n    /**\n     * Have a single subchannel in the `subchannels` list start connecting.\n     * @param subchannelIndex The index into the `subchannels` list.\n     */\n    startConnecting(subchannelIndex) {\n        var _a, _b;\n        clearTimeout(this.connectionDelayTimeout);\n        this.currentSubchannelIndex = subchannelIndex;\n        if (this.children[subchannelIndex].subchannel.getConnectivityState() ===\n            connectivity_state_1.ConnectivityState.IDLE) {\n            trace('Start connecting to subchannel with address ' +\n                this.children[subchannelIndex].subchannel.getAddress());\n            process.nextTick(() => {\n                var _a;\n                (_a = this.children[subchannelIndex]) === null || _a === void 0 ? void 0 : _a.subchannel.startConnecting();\n            });\n        }\n        this.connectionDelayTimeout = setTimeout(() => {\n            this.startNextSubchannelConnecting(subchannelIndex + 1);\n        }, CONNECTION_DELAY_INTERVAL_MS);\n        (_b = (_a = this.connectionDelayTimeout).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Declare that the specified subchannel should be used to make requests.\n     * This functions the same independent of whether subchannel is a member of\n     * this.children and whether it is equal to this.currentPick.\n     * Prerequisite: subchannel.getConnectivityState() === READY.\n     * @param subchannel\n     */\n    pickSubchannel(subchannel) {\n        trace('Pick subchannel with address ' + subchannel.getAddress());\n        this.stickyTransientFailureMode = false;\n        /* Ref before removeCurrentPick and resetSubchannelList to avoid the\n         * refcount dropping to 0 during this process. */\n        subchannel.ref();\n        this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n        this.removeCurrentPick();\n        this.resetSubchannelList();\n        subchannel.addConnectivityStateListener(this.subchannelStateListener);\n        subchannel.addHealthStateWatcher(this.pickedSubchannelHealthListener);\n        this.currentPick = subchannel;\n        clearTimeout(this.connectionDelayTimeout);\n        this.calculateAndReportNewState();\n    }\n    updateState(newState, picker, errorMessage) {\n        trace(connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        this.currentState = newState;\n        this.channelControlHelper.updateState(newState, picker, errorMessage);\n    }\n    resetSubchannelList() {\n        for (const child of this.children) {\n            /* Always remoev the connectivity state listener. If the subchannel is\n               getting picked, it will be re-added then. */\n            child.subchannel.removeConnectivityStateListener(this.subchannelStateListener);\n            /* Refs are counted independently for the children list and the\n             * currentPick, so we call unref whether or not the child is the\n             * currentPick. Channelz child references are also refcounted, so\n             * removeChannelzChild can be handled the same way. */\n            child.subchannel.unref();\n            this.channelControlHelper.removeChannelzChild(child.subchannel.getChannelzRef());\n        }\n        this.currentSubchannelIndex = 0;\n        this.children = [];\n    }\n    connectToAddressList(addressList, options) {\n        trace('connectToAddressList([' + addressList.map(address => (0, subchannel_address_1.subchannelAddressToString)(address)) + '])');\n        const newChildrenList = addressList.map(address => ({\n            subchannel: this.channelControlHelper.createSubchannel(address, options),\n            hasReportedTransientFailure: false,\n        }));\n        for (const { subchannel } of newChildrenList) {\n            if (subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.READY) {\n                this.pickSubchannel(subchannel);\n                return;\n            }\n        }\n        /* Ref each subchannel before resetting the list, to ensure that\n         * subchannels shared between the list don't drop to 0 refs during the\n         * transition. */\n        for (const { subchannel } of newChildrenList) {\n            subchannel.ref();\n            this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n        }\n        this.resetSubchannelList();\n        this.children = newChildrenList;\n        for (const { subchannel } of this.children) {\n            subchannel.addConnectivityStateListener(this.subchannelStateListener);\n        }\n        for (const child of this.children) {\n            if (child.subchannel.getConnectivityState() ===\n                connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                child.hasReportedTransientFailure = true;\n            }\n        }\n        this.startNextSubchannelConnecting(0);\n        this.calculateAndReportNewState();\n    }\n    updateAddressList(endpointList, lbConfig, options) {\n        if (!(lbConfig instanceof PickFirstLoadBalancingConfig)) {\n            return;\n        }\n        this.reportHealthStatus = options[REPORT_HEALTH_STATUS_OPTION_NAME];\n        /* Previously, an update would be discarded if it was identical to the\n         * previous update, to minimize churn. Now the DNS resolver is\n         * rate-limited, so that is less of a concern. */\n        if (lbConfig.getShuffleAddressList()) {\n            endpointList = shuffled(endpointList);\n        }\n        const rawAddressList = [].concat(...endpointList.map(endpoint => endpoint.addresses));\n        trace('updateAddressList([' + rawAddressList.map(address => (0, subchannel_address_1.subchannelAddressToString)(address)) + '])');\n        if (rawAddressList.length === 0) {\n            this.lastError = 'No addresses resolved';\n        }\n        const addressList = interleaveAddressFamilies(rawAddressList);\n        this.latestAddressList = addressList;\n        this.latestOptions = options;\n        this.connectToAddressList(addressList, options);\n    }\n    exitIdle() {\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE &&\n            this.latestAddressList) {\n            this.connectToAddressList(this.latestAddressList, this.latestOptions);\n        }\n    }\n    resetBackoff() {\n        /* The pick first load balancer does not have a connection backoff, so this\n         * does nothing */\n    }\n    destroy() {\n        this.resetSubchannelList();\n        this.removeCurrentPick();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.PickFirstLoadBalancer = PickFirstLoadBalancer;\nconst LEAF_CONFIG = new PickFirstLoadBalancingConfig(false);\n/**\n * This class handles the leaf load balancing operations for a single endpoint.\n * It is a thin wrapper around a PickFirstLoadBalancer with a different API\n * that more closely reflects how it will be used as a leaf balancer.\n */\nclass LeafLoadBalancer {\n    constructor(endpoint, channelControlHelper, options) {\n        this.endpoint = endpoint;\n        this.options = options;\n        this.latestState = connectivity_state_1.ConnectivityState.IDLE;\n        const childChannelControlHelper = (0, load_balancer_1.createChildChannelControlHelper)(channelControlHelper, {\n            updateState: (connectivityState, picker, errorMessage) => {\n                this.latestState = connectivityState;\n                this.latestPicker = picker;\n                channelControlHelper.updateState(connectivityState, picker, errorMessage);\n            },\n        });\n        this.pickFirstBalancer = new PickFirstLoadBalancer(childChannelControlHelper);\n        this.latestPicker = new picker_1.QueuePicker(this.pickFirstBalancer);\n    }\n    startConnecting() {\n        this.pickFirstBalancer.updateAddressList([this.endpoint], LEAF_CONFIG, Object.assign(Object.assign({}, this.options), { [REPORT_HEALTH_STATUS_OPTION_NAME]: true }));\n    }\n    /**\n     * Update the endpoint associated with this LeafLoadBalancer to a new\n     * endpoint. Does not trigger connection establishment if a connection\n     * attempt is not already in progress.\n     * @param newEndpoint\n     */\n    updateEndpoint(newEndpoint, newOptions) {\n        this.options = newOptions;\n        this.endpoint = newEndpoint;\n        if (this.latestState !== connectivity_state_1.ConnectivityState.IDLE) {\n            this.startConnecting();\n        }\n    }\n    getConnectivityState() {\n        return this.latestState;\n    }\n    getPicker() {\n        return this.latestPicker;\n    }\n    getEndpoint() {\n        return this.endpoint;\n    }\n    exitIdle() {\n        this.pickFirstBalancer.exitIdle();\n    }\n    destroy() {\n        this.pickFirstBalancer.destroy();\n    }\n}\nexports.LeafLoadBalancer = LeafLoadBalancer;\nfunction setup() {\n    (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, PickFirstLoadBalancer, PickFirstLoadBalancingConfig);\n    (0, load_balancer_1.registerDefaultLoadBalancerType)(TYPE_NAME);\n}\n//# sourceMappingURL=load-balancer-pick-first.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0IsR0FBRyw2QkFBNkIsR0FBRyxvQ0FBb0M7QUFDL0YsZ0JBQWdCO0FBQ2hCLGFBQWE7QUFDYix3QkFBd0IsbUJBQU8sQ0FBQyx5SEFBaUI7QUFDakQsNkJBQTZCLG1CQUFPLENBQUMsbUlBQXNCO0FBQzNELGlCQUFpQixtQkFBTyxDQUFDLDJHQUFVO0FBQ25DLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxnQkFBZ0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNuQyxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6Qyw2QkFBNkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDM0QsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1EQUFtRDtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELCtCQUErQjtBQUN6RjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxlQUFlO0FBQzFGO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGVBQWU7QUFDOUY7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixhQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RyxtQkFBbUIsMENBQTBDO0FBQzFLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1waWNrLWZpcnN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxlYWZMb2FkQmFsYW5jZXIgPSBleHBvcnRzLlBpY2tGaXJzdExvYWRCYWxhbmNlciA9IGV4cG9ydHMuUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyA9IHZvaWQgMDtcbmV4cG9ydHMuc2h1ZmZsZWQgPSBzaHVmZmxlZDtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IHBpY2tlcl8xID0gcmVxdWlyZShcIi4vcGlja2VyXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzIgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdwaWNrX2ZpcnN0JztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY29uc3QgVFlQRV9OQU1FID0gJ3BpY2tfZmlyc3QnO1xuLyoqXG4gKiBEZWxheSBhZnRlciBzdGFydGluZyBhIGNvbm5lY3Rpb24gb24gYSBzdWJjaGFubmVsIGJlZm9yZSBzdGFydGluZyBhXG4gKiBjb25uZWN0aW9uIG9uIHRoZSBuZXh0IHN1YmNoYW5uZWwgaW4gdGhlIGxpc3QsIGZvciBIYXBweSBFeWViYWxscyBhbGdvcml0aG0uXG4gKi9cbmNvbnN0IENPTk5FQ1RJT05fREVMQVlfSU5URVJWQUxfTVMgPSAyNTA7XG5jbGFzcyBQaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcihzaHVmZmxlQWRkcmVzc0xpc3QpIHtcbiAgICAgICAgdGhpcy5zaHVmZmxlQWRkcmVzc0xpc3QgPSBzaHVmZmxlQWRkcmVzc0xpc3Q7XG4gICAgfVxuICAgIGdldExvYWRCYWxhbmNlck5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxuICAgIHRvSnNvbk9iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtUWVBFX05BTUVdOiB7XG4gICAgICAgICAgICAgICAgc2h1ZmZsZUFkZHJlc3NMaXN0OiB0aGlzLnNodWZmbGVBZGRyZXNzTGlzdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFNodWZmbGVBZGRyZXNzTGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2h1ZmZsZUFkZHJlc3NMaXN0O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHN0YXRpYyBjcmVhdGVGcm9tSnNvbihvYmopIHtcbiAgICAgICAgaWYgKCdzaHVmZmxlQWRkcmVzc0xpc3QnIGluIG9iaiAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqLnNodWZmbGVBZGRyZXNzTGlzdCA9PT0gJ2Jvb2xlYW4nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwaWNrX2ZpcnN0IGNvbmZpZyBmaWVsZCBzaHVmZmxlQWRkcmVzc0xpc3QgbXVzdCBiZSBhIGJvb2xlYW4gaWYgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcob2JqLnNodWZmbGVBZGRyZXNzTGlzdCA9PT0gdHJ1ZSk7XG4gICAgfVxufVxuZXhwb3J0cy5QaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnID0gUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZztcbi8qKlxuICogUGlja2VyIGZvciBhIGBQaWNrRmlyc3RMb2FkQmFsYW5jZXJgIGluIHRoZSBSRUFEWSBzdGF0ZS4gQWx3YXlzIHJldHVybnMgdGhlXG4gKiBwaWNrZWQgc3ViY2hhbm5lbC5cbiAqL1xuY2xhc3MgUGlja0ZpcnN0UGlja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzdWJjaGFubmVsKSB7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbCA9IHN1YmNoYW5uZWw7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURSxcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IHRoaXMuc3ViY2hhbm5lbCxcbiAgICAgICAgICAgIHN0YXR1czogbnVsbCxcbiAgICAgICAgICAgIG9uQ2FsbFN0YXJ0ZWQ6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxFbmRlZDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybiBhIG5ldyBhcnJheSB3aXRoIHRoZSBlbGVtZW50cyBvZiB0aGUgaW5wdXQgYXJyYXkgaW4gYSByYW5kb20gb3JkZXJcbiAqIEBwYXJhbSBsaXN0IFRoZSBpbnB1dCBhcnJheVxuICogQHJldHVybnMgQSBzaHVmZmxlZCBhcnJheSBvZiB0aGUgZWxlbWVudHMgb2YgbGlzdFxuICovXG5mdW5jdGlvbiBzaHVmZmxlZChsaXN0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbGlzdC5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSByZXN1bHQubGVuZ3RoIC0gMTsgaSA+IDE7IGktLSkge1xuICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICAgIGNvbnN0IHRlbXAgPSByZXN1bHRbaV07XG4gICAgICAgIHJlc3VsdFtpXSA9IHJlc3VsdFtqXTtcbiAgICAgICAgcmVzdWx0W2pdID0gdGVtcDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogSW50ZXJsZWF2ZSBhZGRyZXNzZXMgaW4gYWRkcmVzc0xpc3QgYnkgZmFtaWx5IGluIGFjY29yZGFuY2Ugd2l0aCBSRkMtODMwNCBzZWN0aW9uIDRcbiAqIEBwYXJhbSBhZGRyZXNzTGlzdFxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gaW50ZXJsZWF2ZUFkZHJlc3NGYW1pbGllcyhhZGRyZXNzTGlzdCkge1xuICAgIGlmIChhZGRyZXNzTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCBpcHY2QWRkcmVzc2VzID0gW107XG4gICAgY29uc3QgaXB2NEFkZHJlc3NlcyA9IFtdO1xuICAgIGNvbnN0IGlwdjZGaXJzdCA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMi5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzKShhZGRyZXNzTGlzdFswXSkgJiYgKDAsIG5ldF8xLmlzSVB2NikoYWRkcmVzc0xpc3RbMF0uaG9zdCk7XG4gICAgZm9yIChjb25zdCBhZGRyZXNzIG9mIGFkZHJlc3NMaXN0KSB7XG4gICAgICAgIGlmICgoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzIuaXNUY3BTdWJjaGFubmVsQWRkcmVzcykoYWRkcmVzcykgJiYgKDAsIG5ldF8xLmlzSVB2NikoYWRkcmVzcy5ob3N0KSkge1xuICAgICAgICAgICAgaXB2NkFkZHJlc3Nlcy5wdXNoKGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXB2NEFkZHJlc3Nlcy5wdXNoKGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0TGlzdCA9IGlwdjZGaXJzdCA/IGlwdjZBZGRyZXNzZXMgOiBpcHY0QWRkcmVzc2VzO1xuICAgIGNvbnN0IHNlY29uZExpc3QgPSBpcHY2Rmlyc3QgPyBpcHY0QWRkcmVzc2VzIDogaXB2NkFkZHJlc3NlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWF4KGZpcnN0TGlzdC5sZW5ndGgsIHNlY29uZExpc3QubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgIGlmIChpIDwgZmlyc3RMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZmlyc3RMaXN0W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA8IHNlY29uZExpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzZWNvbmRMaXN0W2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgUkVQT1JUX0hFQUxUSF9TVEFUVVNfT1BUSU9OX05BTUUgPSAnZ3JwYy1ub2RlLmludGVybmFsLnBpY2stZmlyc3QucmVwb3J0X2hlYWx0aF9zdGF0dXMnO1xuY2xhc3MgUGlja0ZpcnN0TG9hZEJhbGFuY2VyIHtcbiAgICAvKipcbiAgICAgKiBMb2FkIGJhbGFuY2VyIHRoYXQgYXR0ZW1wdHMgdG8gY29ubmVjdCB0byBlYWNoIGJhY2tlbmQgaW4gdGhlIGFkZHJlc3MgbGlzdFxuICAgICAqIGluIG9yZGVyLCBhbmQgcGlja3MgdGhlIGZpcnN0IG9uZSB0aGF0IGNvbm5lY3RzLCB1c2luZyBpdCBmb3IgZXZlcnlcbiAgICAgKiByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBjaGFubmVsQ29udHJvbEhlbHBlciBgQ2hhbm5lbENvbnRyb2xIZWxwZXJgIGluc3RhbmNlIHByb3ZpZGVkIGJ5XG4gICAgICogICAgIHRoaXMgbG9hZCBiYWxhbmNlcidzIG93bmVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxDb250cm9sSGVscGVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIgPSBjaGFubmVsQ29udHJvbEhlbHBlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaXN0IG9mIHN1YmNoYW5uZWxzIHRoaXMgbG9hZCBiYWxhbmNlciBpcyBjdXJyZW50bHkgYXR0ZW1wdGluZyB0b1xuICAgICAgICAgKiBjb25uZWN0IHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgY29ubmVjdGl2aXR5IHN0YXRlIG9mIHRoZSBsb2FkIGJhbGFuY2VyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGV4IHdpdGhpbiB0aGUgYHN1YmNoYW5uZWxzYCBhcnJheSBvZiB0aGUgc3ViY2hhbm5lbCB3aXRoIHRoZSBtb3N0XG4gICAgICAgICAqIHJlY2VudGx5IHN0YXJ0ZWQgY29ubmVjdGlvbiBhdHRlbXB0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2hhbm5lbEluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgcGlja2VkIHN1YmNoYW5uZWwgdXNlZCBmb3IgbWFraW5nIGNhbGxzLiBQb3B1bGF0ZWQgaWZcbiAgICAgICAgICogYW5kIG9ubHkgaWYgdGhlIGxvYWQgYmFsYW5jZXIncyBjdXJyZW50IHN0YXRlIGlzIFJFQURZLiBJbiB0aGF0IGNhc2UsXG4gICAgICAgICAqIHRoZSBzdWJjaGFubmVsJ3MgY3VycmVudCBzdGF0ZSBpcyBhbHNvIFJFQURZLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UGljayA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0ZW5lciBjYWxsYmFjayBhdHRhY2hlZCB0byBlYWNoIHN1YmNoYW5uZWwgaW4gdGhlIGBzdWJjaGFubmVsc2AgbGlzdFxuICAgICAgICAgKiB3aGlsZSBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lciA9IChzdWJjaGFubmVsLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwga2VlcGFsaXZlVGltZSwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uU3ViY2hhbm5lbFN0YXRlVXBkYXRlKHN1YmNoYW5uZWwsIHByZXZpb3VzU3RhdGUsIG5ld1N0YXRlLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBpY2tlZFN1YmNoYW5uZWxIZWFsdGhMaXN0ZW5lciA9ICgpID0+IHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBMQiBwb2xpY3kgZW50ZXJzIHN0aWNreSBUUkFOU0lFTlRfRkFJTFVSRSBtb2RlIHdoZW4gYWxsXG4gICAgICAgICAqIHN1YmNoYW5uZWxzIGhhdmUgZmFpbGVkIHRvIGNvbm5lY3QgYXQgbGVhc3Qgb25jZSwgYW5kIGl0IHN0YXlzIGluIHRoYXRcbiAgICAgICAgICogbW9kZSB1bnRpbCBhIGNvbm5lY3Rpb24gYXR0ZW1wdCBpcyBzdWNjZXNzZnVsLiBXaGlsZSBpbiBzdGlja3kgVEYgbW9kZSxcbiAgICAgICAgICogdGhlIExCIHBvbGljeSBjb250aW51b3VzbHkgYXR0ZW1wdHMgdG8gY29ubmVjdCB0byBhbGwgb2YgaXRzIHN1YmNoYW5uZWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlcG9ydEhlYWx0aFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vc3QgcmVjZW50IGVycm9yIHJlcG9ydGVkIGJ5IGFueSBzdWJjaGFubmVsIGFzIGl0IHRyYW5zaXRpb25lZCB0b1xuICAgICAgICAgKiBUUkFOU0lFTlRfRkFJTFVSRS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdEVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RBZGRyZXNzTGlzdCA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0T3B0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsgfSwgMCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgIH1cbiAgICBhbGxDaGlsZHJlbkhhdmVSZXBvcnRlZFRGKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5ldmVyeShjaGlsZCA9PiBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUpO1xuICAgIH1cbiAgICByZXNldENoaWxkcmVuUmVwb3J0ZWRURigpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5ldmVyeShjaGlsZCA9PiBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUgPSBmYWxzZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXBvcnRIZWFsdGhTdGF0dXMgJiYgIXRoaXMuY3VycmVudFBpY2suaXNIZWFsdGh5KCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgUGlja2VkIHN1YmNoYW5uZWwgJHt0aGlzLmN1cnJlbnRQaWNrLmdldEFkZHJlc3MoKX0gaXMgdW5oZWFsdGh5YDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZLCBuZXcgUGlja0ZpcnN0UGlja2VyKHRoaXMuY3VycmVudFBpY2spLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoKF9hID0gdGhpcy5sYXRlc3RBZGRyZXNzTGlzdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBObyBjb25uZWN0aW9uIGVzdGFibGlzaGVkLiBMYXN0IGVycm9yOiAke3RoaXMubGFzdEVycm9yfWA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoe1xuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgIH0pLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBObyBjb25uZWN0aW9uIGVzdGFibGlzaGVkLiBMYXN0IGVycm9yOiAke3RoaXMubGFzdEVycm9yfWA7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HLCBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyksIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlcXVlc3RSZXJlc29sdXRpb24oKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIucmVxdWVzdFJlcmVzb2x1dGlvbigpO1xuICAgIH1cbiAgICBtYXliZUVudGVyU3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5hbGxDaGlsZHJlbkhhdmVSZXBvcnRlZFRGKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcXVlc3RSZXJlc29sdXRpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldENoaWxkcmVuUmVwb3J0ZWRURigpO1xuICAgICAgICBpZiAodGhpcy5zdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRSZXBvcnROZXdTdGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUgPSB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IHsgc3ViY2hhbm5lbCB9IG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWwuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRSZXBvcnROZXdTdGF0ZSgpO1xuICAgIH1cbiAgICByZW1vdmVDdXJyZW50UGljaygpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBpY2sgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBpY2sucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIucmVtb3ZlQ2hhbm5lbHpDaGlsZCh0aGlzLmN1cnJlbnRQaWNrLmdldENoYW5uZWx6UmVmKCkpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGljay5yZW1vdmVIZWFsdGhTdGF0ZVdhdGNoZXIodGhpcy5waWNrZWRTdWJjaGFubmVsSGVhbHRoTGlzdGVuZXIpO1xuICAgICAgICAgICAgLy8gVW5yZWYgbGFzdCwgdG8gYXZvaWQgdHJpZ2dlcmluZyBsaXN0ZW5lcnNcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBpY2sudW5yZWYoKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uU3ViY2hhbm5lbFN0YXRlVXBkYXRlKHN1YmNoYW5uZWwsIHByZXZpb3VzU3RhdGUsIG5ld1N0YXRlLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5jdXJyZW50UGljaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlYWxTdWJjaGFubmVsRXF1YWxzKHN1YmNoYW5uZWwpKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDdXJyZW50UGljaygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY2hpbGRdIG9mIHRoaXMuY2hpbGRyZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoc3ViY2hhbm5lbC5yZWFsU3ViY2hhbm5lbEVxdWFscyhjaGlsZC5zdWJjaGFubmVsKSkge1xuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrU3ViY2hhbm5lbChjaGlsZC5zdWJjaGFubmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RFcnJvciA9IGVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heWJlRW50ZXJTdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuY3VycmVudFN1YmNoYW5uZWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydE5leHRTdWJjaGFubmVsQ29ubmVjdGluZyhpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoaWxkLnN1YmNoYW5uZWwuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0TmV4dFN1YmNoYW5uZWxDb25uZWN0aW5nKHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCk7XG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBjaGlsZF0gb2YgdGhpcy5jaGlsZHJlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViY2hhbm5lbFN0YXRlID0gY2hpbGQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJjaGFubmVsU3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUgfHxcbiAgICAgICAgICAgICAgICAgICAgc3ViY2hhbm5lbFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRDb25uZWN0aW5nKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1heWJlRW50ZXJTdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYXZlIGEgc2luZ2xlIHN1YmNoYW5uZWwgaW4gdGhlIGBzdWJjaGFubmVsc2AgbGlzdCBzdGFydCBjb25uZWN0aW5nLlxuICAgICAqIEBwYXJhbSBzdWJjaGFubmVsSW5kZXggVGhlIGluZGV4IGludG8gdGhlIGBzdWJjaGFubmVsc2AgbGlzdC5cbiAgICAgKi9cbiAgICBzdGFydENvbm5lY3Rpbmcoc3ViY2hhbm5lbEluZGV4KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdWJjaGFubmVsSW5kZXggPSBzdWJjaGFubmVsSW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW3N1YmNoYW5uZWxJbmRleF0uc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PVxuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdHJhY2UoJ1N0YXJ0IGNvbm5lY3RpbmcgdG8gc3ViY2hhbm5lbCB3aXRoIGFkZHJlc3MgJyArXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltzdWJjaGFubmVsSW5kZXhdLnN1YmNoYW5uZWwuZ2V0QWRkcmVzcygpKTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLmNoaWxkcmVuW3N1YmNoYW5uZWxJbmRleF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJjaGFubmVsLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0aW9uRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TmV4dFN1YmNoYW5uZWxDb25uZWN0aW5nKHN1YmNoYW5uZWxJbmRleCArIDEpO1xuICAgICAgICB9LCBDT05ORUNUSU9OX0RFTEFZX0lOVEVSVkFMX01TKTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5jb25uZWN0aW9uRGVsYXlUaW1lb3V0KS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNsYXJlIHRoYXQgdGhlIHNwZWNpZmllZCBzdWJjaGFubmVsIHNob3VsZCBiZSB1c2VkIHRvIG1ha2UgcmVxdWVzdHMuXG4gICAgICogVGhpcyBmdW5jdGlvbnMgdGhlIHNhbWUgaW5kZXBlbmRlbnQgb2Ygd2hldGhlciBzdWJjaGFubmVsIGlzIGEgbWVtYmVyIG9mXG4gICAgICogdGhpcy5jaGlsZHJlbiBhbmQgd2hldGhlciBpdCBpcyBlcXVhbCB0byB0aGlzLmN1cnJlbnRQaWNrLlxuICAgICAqIFByZXJlcXVpc2l0ZTogc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PSBSRUFEWS5cbiAgICAgKiBAcGFyYW0gc3ViY2hhbm5lbFxuICAgICAqL1xuICAgIHBpY2tTdWJjaGFubmVsKHN1YmNoYW5uZWwpIHtcbiAgICAgICAgdHJhY2UoJ1BpY2sgc3ViY2hhbm5lbCB3aXRoIGFkZHJlc3MgJyArIHN1YmNoYW5uZWwuZ2V0QWRkcmVzcygpKTtcbiAgICAgICAgdGhpcy5zdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSA9IGZhbHNlO1xuICAgICAgICAvKiBSZWYgYmVmb3JlIHJlbW92ZUN1cnJlbnRQaWNrIGFuZCByZXNldFN1YmNoYW5uZWxMaXN0IHRvIGF2b2lkIHRoZVxuICAgICAgICAgKiByZWZjb3VudCBkcm9wcGluZyB0byAwIGR1cmluZyB0aGlzIHByb2Nlc3MuICovXG4gICAgICAgIHN1YmNoYW5uZWwucmVmKCk7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIuYWRkQ2hhbm5lbHpDaGlsZChzdWJjaGFubmVsLmdldENoYW5uZWx6UmVmKCkpO1xuICAgICAgICB0aGlzLnJlbW92ZUN1cnJlbnRQaWNrKCk7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICBzdWJjaGFubmVsLmFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgIHN1YmNoYW5uZWwuYWRkSGVhbHRoU3RhdGVXYXRjaGVyKHRoaXMucGlja2VkU3ViY2hhbm5lbEhlYWx0aExpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGljayA9IHN1YmNoYW5uZWw7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICB0cmFjZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVt0aGlzLmN1cnJlbnRTdGF0ZV0gK1xuICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgcmVzZXRTdWJjaGFubmVsTGlzdCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAvKiBBbHdheXMgcmVtb2V2IHRoZSBjb25uZWN0aXZpdHkgc3RhdGUgbGlzdGVuZXIuIElmIHRoZSBzdWJjaGFubmVsIGlzXG4gICAgICAgICAgICAgICBnZXR0aW5nIHBpY2tlZCwgaXQgd2lsbCBiZSByZS1hZGRlZCB0aGVuLiAqL1xuICAgICAgICAgICAgY2hpbGQuc3ViY2hhbm5lbC5yZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgLyogUmVmcyBhcmUgY291bnRlZCBpbmRlcGVuZGVudGx5IGZvciB0aGUgY2hpbGRyZW4gbGlzdCBhbmQgdGhlXG4gICAgICAgICAgICAgKiBjdXJyZW50UGljaywgc28gd2UgY2FsbCB1bnJlZiB3aGV0aGVyIG9yIG5vdCB0aGUgY2hpbGQgaXMgdGhlXG4gICAgICAgICAgICAgKiBjdXJyZW50UGljay4gQ2hhbm5lbHogY2hpbGQgcmVmZXJlbmNlcyBhcmUgYWxzbyByZWZjb3VudGVkLCBzb1xuICAgICAgICAgICAgICogcmVtb3ZlQ2hhbm5lbHpDaGlsZCBjYW4gYmUgaGFuZGxlZCB0aGUgc2FtZSB3YXkuICovXG4gICAgICAgICAgICBjaGlsZC5zdWJjaGFubmVsLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQoY2hpbGQuc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJjaGFubmVsSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIGNvbm5lY3RUb0FkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHRyYWNlKCdjb25uZWN0VG9BZGRyZXNzTGlzdChbJyArIGFkZHJlc3NMaXN0Lm1hcChhZGRyZXNzID0+ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKSkgKyAnXSknKTtcbiAgICAgICAgY29uc3QgbmV3Q2hpbGRyZW5MaXN0ID0gYWRkcmVzc0xpc3QubWFwKGFkZHJlc3MgPT4gKHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIuY3JlYXRlU3ViY2hhbm5lbChhZGRyZXNzLCBvcHRpb25zKSxcbiAgICAgICAgICAgIGhhc1JlcG9ydGVkVHJhbnNpZW50RmFpbHVyZTogZmFsc2UsXG4gICAgICAgIH0pKTtcbiAgICAgICAgZm9yIChjb25zdCB7IHN1YmNoYW5uZWwgfSBvZiBuZXdDaGlsZHJlbkxpc3QpIHtcbiAgICAgICAgICAgIGlmIChzdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waWNrU3ViY2hhbm5lbChzdWJjaGFubmVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogUmVmIGVhY2ggc3ViY2hhbm5lbCBiZWZvcmUgcmVzZXR0aW5nIHRoZSBsaXN0LCB0byBlbnN1cmUgdGhhdFxuICAgICAgICAgKiBzdWJjaGFubmVscyBzaGFyZWQgYmV0d2VlbiB0aGUgbGlzdCBkb24ndCBkcm9wIHRvIDAgcmVmcyBkdXJpbmcgdGhlXG4gICAgICAgICAqIHRyYW5zaXRpb24uICovXG4gICAgICAgIGZvciAoY29uc3QgeyBzdWJjaGFubmVsIH0gb2YgbmV3Q2hpbGRyZW5MaXN0KSB7XG4gICAgICAgICAgICBzdWJjaGFubmVsLnJlZigpO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5hZGRDaGFubmVsekNoaWxkKHN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldFN1YmNoYW5uZWxMaXN0KCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBuZXdDaGlsZHJlbkxpc3Q7XG4gICAgICAgIGZvciAoY29uc3QgeyBzdWJjaGFubmVsIH0gb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgc3ViY2hhbm5lbC5hZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT1cbiAgICAgICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmhhc1JlcG9ydGVkVHJhbnNpZW50RmFpbHVyZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydE5leHRTdWJjaGFubmVsQ29ubmVjdGluZygwKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRSZXBvcnROZXdTdGF0ZSgpO1xuICAgIH1cbiAgICB1cGRhdGVBZGRyZXNzTGlzdChlbmRwb2ludExpc3QsIGxiQ29uZmlnLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghKGxiQ29uZmlnIGluc3RhbmNlb2YgUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcG9ydEhlYWx0aFN0YXR1cyA9IG9wdGlvbnNbUkVQT1JUX0hFQUxUSF9TVEFUVVNfT1BUSU9OX05BTUVdO1xuICAgICAgICAvKiBQcmV2aW91c2x5LCBhbiB1cGRhdGUgd291bGQgYmUgZGlzY2FyZGVkIGlmIGl0IHdhcyBpZGVudGljYWwgdG8gdGhlXG4gICAgICAgICAqIHByZXZpb3VzIHVwZGF0ZSwgdG8gbWluaW1pemUgY2h1cm4uIE5vdyB0aGUgRE5TIHJlc29sdmVyIGlzXG4gICAgICAgICAqIHJhdGUtbGltaXRlZCwgc28gdGhhdCBpcyBsZXNzIG9mIGEgY29uY2Vybi4gKi9cbiAgICAgICAgaWYgKGxiQ29uZmlnLmdldFNodWZmbGVBZGRyZXNzTGlzdCgpKSB7XG4gICAgICAgICAgICBlbmRwb2ludExpc3QgPSBzaHVmZmxlZChlbmRwb2ludExpc3QpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhd0FkZHJlc3NMaXN0ID0gW10uY29uY2F0KC4uLmVuZHBvaW50TGlzdC5tYXAoZW5kcG9pbnQgPT4gZW5kcG9pbnQuYWRkcmVzc2VzKSk7XG4gICAgICAgIHRyYWNlKCd1cGRhdGVBZGRyZXNzTGlzdChbJyArIHJhd0FkZHJlc3NMaXN0Lm1hcChhZGRyZXNzID0+ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKSkgKyAnXSknKTtcbiAgICAgICAgaWYgKHJhd0FkZHJlc3NMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSAnTm8gYWRkcmVzc2VzIHJlc29sdmVkJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhZGRyZXNzTGlzdCA9IGludGVybGVhdmVBZGRyZXNzRmFtaWxpZXMocmF3QWRkcmVzc0xpc3QpO1xuICAgICAgICB0aGlzLmxhdGVzdEFkZHJlc3NMaXN0ID0gYWRkcmVzc0xpc3Q7XG4gICAgICAgIHRoaXMubGF0ZXN0T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY29ubmVjdFRvQWRkcmVzc0xpc3QoYWRkcmVzc0xpc3QsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFICYmXG4gICAgICAgICAgICB0aGlzLmxhdGVzdEFkZHJlc3NMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RUb0FkZHJlc3NMaXN0KHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QsIHRoaXMubGF0ZXN0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzZXRCYWNrb2ZmKCkge1xuICAgICAgICAvKiBUaGUgcGljayBmaXJzdCBsb2FkIGJhbGFuY2VyIGRvZXMgbm90IGhhdmUgYSBjb25uZWN0aW9uIGJhY2tvZmYsIHNvIHRoaXNcbiAgICAgICAgICogZG9lcyBub3RoaW5nICovXG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICB0aGlzLnJlbW92ZUN1cnJlbnRQaWNrKCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuUGlja0ZpcnN0TG9hZEJhbGFuY2VyID0gUGlja0ZpcnN0TG9hZEJhbGFuY2VyO1xuY29uc3QgTEVBRl9DT05GSUcgPSBuZXcgUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyhmYWxzZSk7XG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgbGVhZiBsb2FkIGJhbGFuY2luZyBvcGVyYXRpb25zIGZvciBhIHNpbmdsZSBlbmRwb2ludC5cbiAqIEl0IGlzIGEgdGhpbiB3cmFwcGVyIGFyb3VuZCBhIFBpY2tGaXJzdExvYWRCYWxhbmNlciB3aXRoIGEgZGlmZmVyZW50IEFQSVxuICogdGhhdCBtb3JlIGNsb3NlbHkgcmVmbGVjdHMgaG93IGl0IHdpbGwgYmUgdXNlZCBhcyBhIGxlYWYgYmFsYW5jZXIuXG4gKi9cbmNsYXNzIExlYWZMb2FkQmFsYW5jZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuZHBvaW50LCBjaGFubmVsQ29udHJvbEhlbHBlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMubGF0ZXN0U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICBjb25zdCBjaGlsZENoYW5uZWxDb250cm9sSGVscGVyID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5jcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKShjaGFubmVsQ29udHJvbEhlbHBlciwge1xuICAgICAgICAgICAgdXBkYXRlU3RhdGU6IChjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFN0YXRlID0gY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBpY2tGaXJzdEJhbGFuY2VyID0gbmV3IFBpY2tGaXJzdExvYWRCYWxhbmNlcihjaGlsZENoYW5uZWxDb250cm9sSGVscGVyKTtcbiAgICAgICAgdGhpcy5sYXRlc3RQaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcy5waWNrRmlyc3RCYWxhbmNlcik7XG4gICAgfVxuICAgIHN0YXJ0Q29ubmVjdGluZygpIHtcbiAgICAgICAgdGhpcy5waWNrRmlyc3RCYWxhbmNlci51cGRhdGVBZGRyZXNzTGlzdChbdGhpcy5lbmRwb2ludF0sIExFQUZfQ09ORklHLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHsgW1JFUE9SVF9IRUFMVEhfU1RBVFVTX09QVElPTl9OQU1FXTogdHJ1ZSB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZW5kcG9pbnQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgTGVhZkxvYWRCYWxhbmNlciB0byBhIG5ld1xuICAgICAqIGVuZHBvaW50LiBEb2VzIG5vdCB0cmlnZ2VyIGNvbm5lY3Rpb24gZXN0YWJsaXNobWVudCBpZiBhIGNvbm5lY3Rpb25cbiAgICAgKiBhdHRlbXB0IGlzIG5vdCBhbHJlYWR5IGluIHByb2dyZXNzLlxuICAgICAqIEBwYXJhbSBuZXdFbmRwb2ludFxuICAgICAqL1xuICAgIHVwZGF0ZUVuZHBvaW50KG5ld0VuZHBvaW50LCBuZXdPcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG5ld09wdGlvbnM7XG4gICAgICAgIHRoaXMuZW5kcG9pbnQgPSBuZXdFbmRwb2ludDtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhdGVzdFN0YXRlO1xuICAgIH1cbiAgICBnZXRQaWNrZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhdGVzdFBpY2tlcjtcbiAgICB9XG4gICAgZ2V0RW5kcG9pbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHBvaW50O1xuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgdGhpcy5waWNrRmlyc3RCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnBpY2tGaXJzdEJhbGFuY2VyLmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnRzLkxlYWZMb2FkQmFsYW5jZXIgPSBMZWFmTG9hZEJhbGFuY2VyO1xuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgKDAsIGxvYWRfYmFsYW5jZXJfMS5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGUpKFRZUEVfTkFNRSwgUGlja0ZpcnN0TG9hZEJhbGFuY2VyLCBQaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnKTtcbiAgICAoMCwgbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGUpKFRZUEVfTkFNRSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3QuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RoundRobinLoadBalancer = void 0;\nexports.setup = setup;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst load_balancer_pick_first_1 = __webpack_require__(/*! ./load-balancer-pick-first */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nconst TRACER_NAME = 'round_robin';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'round_robin';\nclass RoundRobinLoadBalancingConfig {\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    constructor() { }\n    toJsonObject() {\n        return {\n            [TYPE_NAME]: {},\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static createFromJson(obj) {\n        return new RoundRobinLoadBalancingConfig();\n    }\n}\nclass RoundRobinPicker {\n    constructor(children, nextIndex = 0) {\n        this.children = children;\n        this.nextIndex = nextIndex;\n    }\n    pick(pickArgs) {\n        const childPicker = this.children[this.nextIndex].picker;\n        this.nextIndex = (this.nextIndex + 1) % this.children.length;\n        return childPicker.pick(pickArgs);\n    }\n    /**\n     * Check what the next subchannel returned would be. Used by the load\n     * balancer implementation to preserve this part of the picker state if\n     * possible when a subchannel connects or disconnects.\n     */\n    peekNextEndpoint() {\n        return this.children[this.nextIndex].endpoint;\n    }\n}\nclass RoundRobinLoadBalancer {\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        this.children = [];\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        this.currentReadyPicker = null;\n        this.updatesPaused = false;\n        this.lastError = null;\n        this.childChannelControlHelper = (0, load_balancer_1.createChildChannelControlHelper)(channelControlHelper, {\n            updateState: (connectivityState, picker, errorMessage) => {\n                /* Ensure that name resolution is requested again after active\n                 * connections are dropped. This is more aggressive than necessary to\n                 * accomplish that, so we are counting on resolvers to have\n                 * reasonable rate limits. */\n                if (this.currentState === connectivity_state_1.ConnectivityState.READY && connectivityState !== connectivity_state_1.ConnectivityState.READY) {\n                    this.channelControlHelper.requestReresolution();\n                }\n                if (errorMessage) {\n                    this.lastError = errorMessage;\n                }\n                this.calculateAndUpdateState();\n            },\n        });\n    }\n    countChildrenWithState(state) {\n        return this.children.filter(child => child.getConnectivityState() === state)\n            .length;\n    }\n    calculateAndUpdateState() {\n        if (this.updatesPaused) {\n            return;\n        }\n        if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.READY) > 0) {\n            const readyChildren = this.children.filter(child => child.getConnectivityState() === connectivity_state_1.ConnectivityState.READY);\n            let index = 0;\n            if (this.currentReadyPicker !== null) {\n                const nextPickedEndpoint = this.currentReadyPicker.peekNextEndpoint();\n                index = readyChildren.findIndex(child => (0, subchannel_address_1.endpointEqual)(child.getEndpoint(), nextPickedEndpoint));\n                if (index < 0) {\n                    index = 0;\n                }\n            }\n            this.updateState(connectivity_state_1.ConnectivityState.READY, new RoundRobinPicker(readyChildren.map(child => ({\n                endpoint: child.getEndpoint(),\n                picker: child.getPicker(),\n            })), index), null);\n        }\n        else if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.CONNECTING) > 0) {\n            this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this), null);\n        }\n        else if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) > 0) {\n            const errorMessage = `round_robin: No connection established. Last error: ${this.lastError}`;\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                details: errorMessage,\n            }), errorMessage);\n        }\n        else {\n            this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this), null);\n        }\n        /* round_robin should keep all children connected, this is how we do that.\n         * We can't do this more efficiently in the individual child's updateState\n         * callback because that doesn't have a reference to which child the state\n         * change is associated with. */\n        for (const child of this.children) {\n            if (child.getConnectivityState() === connectivity_state_1.ConnectivityState.IDLE) {\n                child.exitIdle();\n            }\n        }\n    }\n    updateState(newState, picker, errorMessage) {\n        trace(connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        if (newState === connectivity_state_1.ConnectivityState.READY) {\n            this.currentReadyPicker = picker;\n        }\n        else {\n            this.currentReadyPicker = null;\n        }\n        this.currentState = newState;\n        this.channelControlHelper.updateState(newState, picker, errorMessage);\n    }\n    resetSubchannelList() {\n        for (const child of this.children) {\n            child.destroy();\n        }\n    }\n    updateAddressList(endpointList, lbConfig, options) {\n        this.resetSubchannelList();\n        trace('Connect to endpoint list ' + endpointList.map(subchannel_address_1.endpointToString));\n        this.updatesPaused = true;\n        this.children = endpointList.map(endpoint => new load_balancer_pick_first_1.LeafLoadBalancer(endpoint, this.childChannelControlHelper, options));\n        for (const child of this.children) {\n            child.startConnecting();\n        }\n        this.updatesPaused = false;\n        this.calculateAndUpdateState();\n    }\n    exitIdle() {\n        /* The round_robin LB policy is only in the IDLE state if it has no\n         * addresses to try to connect to and it has no picked subchannel.\n         * In that case, there is no meaningful action that can be taken here. */\n    }\n    resetBackoff() {\n        // This LB policy has no backoff to reset\n    }\n    destroy() {\n        this.resetSubchannelList();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.RoundRobinLoadBalancer = RoundRobinLoadBalancer;\nfunction setup() {\n    (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, RoundRobinLoadBalancer, RoundRobinLoadBalancingConfig);\n}\n//# sourceMappingURL=load-balancer-round-robin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLXJvdW5kLXJvYmluLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCO0FBQzlCLGFBQWE7QUFDYix3QkFBd0IsbUJBQU8sQ0FBQyx5SEFBaUI7QUFDakQsNkJBQTZCLG1CQUFPLENBQUMsbUlBQXNCO0FBQzNELGlCQUFpQixtQkFBTyxDQUFDLDJHQUFVO0FBQ25DLGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxtQ0FBbUMsbUJBQU8sQ0FBQywrSUFBNEI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsZUFBZTtBQUN2RztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1yb3VuZC1yb2Jpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb3VuZFJvYmluTG9hZEJhbGFuY2VyID0gdm9pZCAwO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItcGljay1maXJzdFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3JvdW5kX3JvYmluJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY29uc3QgVFlQRV9OQU1FID0gJ3JvdW5kX3JvYmluJztcbmNsYXNzIFJvdW5kUm9iaW5Mb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHRvSnNvbk9iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtUWVBFX05BTUVdOiB7fSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgY3JlYXRlRnJvbUpzb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcoKTtcbiAgICB9XG59XG5jbGFzcyBSb3VuZFJvYmluUGlja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiwgbmV4dEluZGV4ID0gMCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gbmV4dEluZGV4O1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkUGlja2VyID0gdGhpcy5jaGlsZHJlblt0aGlzLm5leHRJbmRleF0ucGlja2VyO1xuICAgICAgICB0aGlzLm5leHRJbmRleCA9ICh0aGlzLm5leHRJbmRleCArIDEpICUgdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjaGlsZFBpY2tlci5waWNrKHBpY2tBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hhdCB0aGUgbmV4dCBzdWJjaGFubmVsIHJldHVybmVkIHdvdWxkIGJlLiBVc2VkIGJ5IHRoZSBsb2FkXG4gICAgICogYmFsYW5jZXIgaW1wbGVtZW50YXRpb24gdG8gcHJlc2VydmUgdGhpcyBwYXJ0IG9mIHRoZSBwaWNrZXIgc3RhdGUgaWZcbiAgICAgKiBwb3NzaWJsZSB3aGVuIGEgc3ViY2hhbm5lbCBjb25uZWN0cyBvciBkaXNjb25uZWN0cy5cbiAgICAgKi9cbiAgICBwZWVrTmV4dEVuZHBvaW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlblt0aGlzLm5leHRJbmRleF0uZW5kcG9pbnQ7XG4gICAgfVxufVxuY2xhc3MgUm91bmRSb2JpbkxvYWRCYWxhbmNlciB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbENvbnRyb2xIZWxwZXIpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlciA9IGNoYW5uZWxDb250cm9sSGVscGVyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVhZHlQaWNrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwZGF0ZXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIgPSAoMCwgbG9hZF9iYWxhbmNlcl8xLmNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIpKGNoYW5uZWxDb250cm9sSGVscGVyLCB7XG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8qIEVuc3VyZSB0aGF0IG5hbWUgcmVzb2x1dGlvbiBpcyByZXF1ZXN0ZWQgYWdhaW4gYWZ0ZXIgYWN0aXZlXG4gICAgICAgICAgICAgICAgICogY29ubmVjdGlvbnMgYXJlIGRyb3BwZWQuIFRoaXMgaXMgbW9yZSBhZ2dyZXNzaXZlIHRoYW4gbmVjZXNzYXJ5IHRvXG4gICAgICAgICAgICAgICAgICogYWNjb21wbGlzaCB0aGF0LCBzbyB3ZSBhcmUgY291bnRpbmcgb24gcmVzb2x2ZXJzIHRvIGhhdmVcbiAgICAgICAgICAgICAgICAgKiByZWFzb25hYmxlIHJhdGUgbGltaXRzLiAqL1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkgJiYgY29ubmVjdGl2aXR5U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIucmVxdWVzdFJlcmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEVycm9yID0gZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY291bnRDaGlsZHJlbldpdGhTdGF0ZShzdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4gY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gc3RhdGUpXG4gICAgICAgICAgICAubGVuZ3RoO1xuICAgIH1cbiAgICBjYWxjdWxhdGVBbmRVcGRhdGVTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlc1BhdXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvdW50Q2hpbGRyZW5XaXRoU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmVhZHlDaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uZmlsdGVyKGNoaWxkID0+IGNoaWxkLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKTtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UmVhZHlQaWNrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGlja2VkRW5kcG9pbnQgPSB0aGlzLmN1cnJlbnRSZWFkeVBpY2tlci5wZWVrTmV4dEVuZHBvaW50KCk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSByZWFkeUNoaWxkcmVuLmZpbmRJbmRleChjaGlsZCA9PiAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuZW5kcG9pbnRFcXVhbCkoY2hpbGQuZ2V0RW5kcG9pbnQoKSwgbmV4dFBpY2tlZEVuZHBvaW50KSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSwgbmV3IFJvdW5kUm9iaW5QaWNrZXIocmVhZHlDaGlsZHJlbi5tYXAoY2hpbGQgPT4gKHtcbiAgICAgICAgICAgICAgICBlbmRwb2ludDogY2hpbGQuZ2V0RW5kcG9pbnQoKSxcbiAgICAgICAgICAgICAgICBwaWNrZXI6IGNoaWxkLmdldFBpY2tlcigpLFxuICAgICAgICAgICAgfSkpLCBpbmRleCksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY291bnRDaGlsZHJlbldpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORywgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvdW50Q2hpbGRyZW5XaXRoU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYHJvdW5kX3JvYmluOiBObyBjb25uZWN0aW9uIGVzdGFibGlzaGVkLiBMYXN0IGVycm9yOiAke3RoaXMubGFzdEVycm9yfWA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoe1xuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgIH0pLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFLCBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIC8qIHJvdW5kX3JvYmluIHNob3VsZCBrZWVwIGFsbCBjaGlsZHJlbiBjb25uZWN0ZWQsIHRoaXMgaXMgaG93IHdlIGRvIHRoYXQuXG4gICAgICAgICAqIFdlIGNhbid0IGRvIHRoaXMgbW9yZSBlZmZpY2llbnRseSBpbiB0aGUgaW5kaXZpZHVhbCBjaGlsZCdzIHVwZGF0ZVN0YXRlXG4gICAgICAgICAqIGNhbGxiYWNrIGJlY2F1c2UgdGhhdCBkb2Vzbid0IGhhdmUgYSByZWZlcmVuY2UgdG8gd2hpY2ggY2hpbGQgdGhlIHN0YXRlXG4gICAgICAgICAqIGNoYW5nZSBpcyBhc3NvY2lhdGVkIHdpdGguICovXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5leGl0SWRsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICB0cmFjZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVt0aGlzLmN1cnJlbnRTdGF0ZV0gK1xuICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJlYWR5UGlja2VyID0gcGlja2VyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVhZHlQaWNrZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgcmVzZXRTdWJjaGFubmVsTGlzdCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnJlc2V0U3ViY2hhbm5lbExpc3QoKTtcbiAgICAgICAgdHJhY2UoJ0Nvbm5lY3QgdG8gZW5kcG9pbnQgbGlzdCAnICsgZW5kcG9pbnRMaXN0Lm1hcChzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKSk7XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBlbmRwb2ludExpc3QubWFwKGVuZHBvaW50ID0+IG5ldyBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMS5MZWFmTG9hZEJhbGFuY2VyKGVuZHBvaW50LCB0aGlzLmNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIsIG9wdGlvbnMpKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRVcGRhdGVTdGF0ZSgpO1xuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgLyogVGhlIHJvdW5kX3JvYmluIExCIHBvbGljeSBpcyBvbmx5IGluIHRoZSBJRExFIHN0YXRlIGlmIGl0IGhhcyBub1xuICAgICAgICAgKiBhZGRyZXNzZXMgdG8gdHJ5IHRvIGNvbm5lY3QgdG8gYW5kIGl0IGhhcyBubyBwaWNrZWQgc3ViY2hhbm5lbC5cbiAgICAgICAgICogSW4gdGhhdCBjYXNlLCB0aGVyZSBpcyBubyBtZWFuaW5nZnVsIGFjdGlvbiB0aGF0IGNhbiBiZSB0YWtlbiBoZXJlLiAqL1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIC8vIFRoaXMgTEIgcG9saWN5IGhhcyBubyBiYWNrb2ZmIHRvIHJlc2V0XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgIH1cbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFRZUEVfTkFNRTtcbiAgICB9XG59XG5leHBvcnRzLlJvdW5kUm9iaW5Mb2FkQmFsYW5jZXIgPSBSb3VuZFJvYmluTG9hZEJhbGFuY2VyO1xuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgKDAsIGxvYWRfYmFsYW5jZXJfMS5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGUpKFRZUEVfTkFNRSwgUm91bmRSb2JpbkxvYWRCYWxhbmNlciwgUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC1iYWxhbmNlci1yb3VuZC1yb2Jpbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createChildChannelControlHelper = createChildChannelControlHelper;\nexports.registerLoadBalancerType = registerLoadBalancerType;\nexports.registerDefaultLoadBalancerType = registerDefaultLoadBalancerType;\nexports.createLoadBalancer = createLoadBalancer;\nexports.isLoadBalancerNameRegistered = isLoadBalancerNameRegistered;\nexports.parseLoadBalancingConfig = parseLoadBalancingConfig;\nexports.getDefaultConfig = getDefaultConfig;\nexports.selectLbConfigFromList = selectLbConfigFromList;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n/**\n * Create a child ChannelControlHelper that overrides some methods of the\n * parent while letting others pass through to the parent unmodified. This\n * allows other code to create these children without needing to know about\n * all of the methods to be passed through.\n * @param parent\n * @param overrides\n */\nfunction createChildChannelControlHelper(parent, overrides) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    return {\n        createSubchannel: (_b = (_a = overrides.createSubchannel) === null || _a === void 0 ? void 0 : _a.bind(overrides)) !== null && _b !== void 0 ? _b : parent.createSubchannel.bind(parent),\n        updateState: (_d = (_c = overrides.updateState) === null || _c === void 0 ? void 0 : _c.bind(overrides)) !== null && _d !== void 0 ? _d : parent.updateState.bind(parent),\n        requestReresolution: (_f = (_e = overrides.requestReresolution) === null || _e === void 0 ? void 0 : _e.bind(overrides)) !== null && _f !== void 0 ? _f : parent.requestReresolution.bind(parent),\n        addChannelzChild: (_h = (_g = overrides.addChannelzChild) === null || _g === void 0 ? void 0 : _g.bind(overrides)) !== null && _h !== void 0 ? _h : parent.addChannelzChild.bind(parent),\n        removeChannelzChild: (_k = (_j = overrides.removeChannelzChild) === null || _j === void 0 ? void 0 : _j.bind(overrides)) !== null && _k !== void 0 ? _k : parent.removeChannelzChild.bind(parent),\n    };\n}\nconst registeredLoadBalancerTypes = {};\nlet defaultLoadBalancerType = null;\nfunction registerLoadBalancerType(typeName, loadBalancerType, loadBalancingConfigType) {\n    registeredLoadBalancerTypes[typeName] = {\n        LoadBalancer: loadBalancerType,\n        LoadBalancingConfig: loadBalancingConfigType,\n    };\n}\nfunction registerDefaultLoadBalancerType(typeName) {\n    defaultLoadBalancerType = typeName;\n}\nfunction createLoadBalancer(config, channelControlHelper) {\n    const typeName = config.getLoadBalancerName();\n    if (typeName in registeredLoadBalancerTypes) {\n        return new registeredLoadBalancerTypes[typeName].LoadBalancer(channelControlHelper);\n    }\n    else {\n        return null;\n    }\n}\nfunction isLoadBalancerNameRegistered(typeName) {\n    return typeName in registeredLoadBalancerTypes;\n}\nfunction parseLoadBalancingConfig(rawConfig) {\n    const keys = Object.keys(rawConfig);\n    if (keys.length !== 1) {\n        throw new Error('Provided load balancing config has multiple conflicting entries');\n    }\n    const typeName = keys[0];\n    if (typeName in registeredLoadBalancerTypes) {\n        try {\n            return registeredLoadBalancerTypes[typeName].LoadBalancingConfig.createFromJson(rawConfig[typeName]);\n        }\n        catch (e) {\n            throw new Error(`${typeName}: ${e.message}`);\n        }\n    }\n    else {\n        throw new Error(`Unrecognized load balancing config name ${typeName}`);\n    }\n}\nfunction getDefaultConfig() {\n    if (!defaultLoadBalancerType) {\n        throw new Error('No default load balancer type registered');\n    }\n    return new registeredLoadBalancerTypes[defaultLoadBalancerType].LoadBalancingConfig();\n}\nfunction selectLbConfigFromList(configs, fallbackTodefault = false) {\n    for (const config of configs) {\n        try {\n            return parseLoadBalancingConfig(config);\n        }\n        catch (e) {\n            (0, logging_1.log)(constants_1.LogVerbosity.DEBUG, 'Config parsing failed with error', e.message);\n            continue;\n        }\n    }\n    if (fallbackTodefault) {\n        if (defaultLoadBalancerType) {\n            return new registeredLoadBalancerTypes[defaultLoadBalancerType].LoadBalancingConfig();\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        return null;\n    }\n}\n//# sourceMappingURL=load-balancer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUNBQXVDO0FBQ3ZDLGdDQUFnQztBQUNoQyx1Q0FBdUM7QUFDdkMsMEJBQTBCO0FBQzFCLG9DQUFvQztBQUNwQyxnQ0FBZ0M7QUFDaEMsd0JBQXdCO0FBQ3hCLDhCQUE4QjtBQUM5QixrQkFBa0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNyQyxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixTQUFTLElBQUksVUFBVTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsU0FBUztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2xvYWQtYmFsYW5jZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciA9IGNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXI7XG5leHBvcnRzLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSA9IHJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZTtcbmV4cG9ydHMucmVnaXN0ZXJEZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSA9IHJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGU7XG5leHBvcnRzLmNyZWF0ZUxvYWRCYWxhbmNlciA9IGNyZWF0ZUxvYWRCYWxhbmNlcjtcbmV4cG9ydHMuaXNMb2FkQmFsYW5jZXJOYW1lUmVnaXN0ZXJlZCA9IGlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQ7XG5leHBvcnRzLnBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZyA9IHBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZztcbmV4cG9ydHMuZ2V0RGVmYXVsdENvbmZpZyA9IGdldERlZmF1bHRDb25maWc7XG5leHBvcnRzLnNlbGVjdExiQ29uZmlnRnJvbUxpc3QgPSBzZWxlY3RMYkNvbmZpZ0Zyb21MaXN0O1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuLyoqXG4gKiBDcmVhdGUgYSBjaGlsZCBDaGFubmVsQ29udHJvbEhlbHBlciB0aGF0IG92ZXJyaWRlcyBzb21lIG1ldGhvZHMgb2YgdGhlXG4gKiBwYXJlbnQgd2hpbGUgbGV0dGluZyBvdGhlcnMgcGFzcyB0aHJvdWdoIHRvIHRoZSBwYXJlbnQgdW5tb2RpZmllZC4gVGhpc1xuICogYWxsb3dzIG90aGVyIGNvZGUgdG8gY3JlYXRlIHRoZXNlIGNoaWxkcmVuIHdpdGhvdXQgbmVlZGluZyB0byBrbm93IGFib3V0XG4gKiBhbGwgb2YgdGhlIG1ldGhvZHMgdG8gYmUgcGFzc2VkIHRocm91Z2guXG4gKiBAcGFyYW0gcGFyZW50XG4gKiBAcGFyYW0gb3ZlcnJpZGVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIocGFyZW50LCBvdmVycmlkZXMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2s7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlU3ViY2hhbm5lbDogKF9iID0gKF9hID0gb3ZlcnJpZGVzLmNyZWF0ZVN1YmNoYW5uZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKG92ZXJyaWRlcykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHBhcmVudC5jcmVhdGVTdWJjaGFubmVsLmJpbmQocGFyZW50KSxcbiAgICAgICAgdXBkYXRlU3RhdGU6IChfZCA9IChfYyA9IG92ZXJyaWRlcy51cGRhdGVTdGF0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJpbmQob3ZlcnJpZGVzKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogcGFyZW50LnVwZGF0ZVN0YXRlLmJpbmQocGFyZW50KSxcbiAgICAgICAgcmVxdWVzdFJlcmVzb2x1dGlvbjogKF9mID0gKF9lID0gb3ZlcnJpZGVzLnJlcXVlc3RSZXJlc29sdXRpb24pID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5iaW5kKG92ZXJyaWRlcykpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHBhcmVudC5yZXF1ZXN0UmVyZXNvbHV0aW9uLmJpbmQocGFyZW50KSxcbiAgICAgICAgYWRkQ2hhbm5lbHpDaGlsZDogKF9oID0gKF9nID0gb3ZlcnJpZGVzLmFkZENoYW5uZWx6Q2hpbGQpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5iaW5kKG92ZXJyaWRlcykpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IHBhcmVudC5hZGRDaGFubmVsekNoaWxkLmJpbmQocGFyZW50KSxcbiAgICAgICAgcmVtb3ZlQ2hhbm5lbHpDaGlsZDogKF9rID0gKF9qID0gb3ZlcnJpZGVzLnJlbW92ZUNoYW5uZWx6Q2hpbGQpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5iaW5kKG92ZXJyaWRlcykpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IHBhcmVudC5yZW1vdmVDaGFubmVsekNoaWxkLmJpbmQocGFyZW50KSxcbiAgICB9O1xufVxuY29uc3QgcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzID0ge307XG5sZXQgZGVmYXVsdExvYWRCYWxhbmNlclR5cGUgPSBudWxsO1xuZnVuY3Rpb24gcmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlKHR5cGVOYW1lLCBsb2FkQmFsYW5jZXJUeXBlLCBsb2FkQmFsYW5jaW5nQ29uZmlnVHlwZSkge1xuICAgIHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlc1t0eXBlTmFtZV0gPSB7XG4gICAgICAgIExvYWRCYWxhbmNlcjogbG9hZEJhbGFuY2VyVHlwZSxcbiAgICAgICAgTG9hZEJhbGFuY2luZ0NvbmZpZzogbG9hZEJhbGFuY2luZ0NvbmZpZ1R5cGUsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGUodHlwZU5hbWUpIHtcbiAgICBkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSA9IHR5cGVOYW1lO1xufVxuZnVuY3Rpb24gY3JlYXRlTG9hZEJhbGFuY2VyKGNvbmZpZywgY2hhbm5lbENvbnRyb2xIZWxwZXIpIHtcbiAgICBjb25zdCB0eXBlTmFtZSA9IGNvbmZpZy5nZXRMb2FkQmFsYW5jZXJOYW1lKCk7XG4gICAgaWYgKHR5cGVOYW1lIGluIHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcykge1xuICAgICAgICByZXR1cm4gbmV3IHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlc1t0eXBlTmFtZV0uTG9hZEJhbGFuY2VyKGNoYW5uZWxDb250cm9sSGVscGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQodHlwZU5hbWUpIHtcbiAgICByZXR1cm4gdHlwZU5hbWUgaW4gcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzO1xufVxuZnVuY3Rpb24gcGFyc2VMb2FkQmFsYW5jaW5nQ29uZmlnKHJhd0NvbmZpZykge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyYXdDb25maWcpO1xuICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGxvYWQgYmFsYW5jaW5nIGNvbmZpZyBoYXMgbXVsdGlwbGUgY29uZmxpY3RpbmcgZW50cmllcycpO1xuICAgIH1cbiAgICBjb25zdCB0eXBlTmFtZSA9IGtleXNbMF07XG4gICAgaWYgKHR5cGVOYW1lIGluIHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlc1t0eXBlTmFtZV0uTG9hZEJhbGFuY2luZ0NvbmZpZy5jcmVhdGVGcm9tSnNvbihyYXdDb25maWdbdHlwZU5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3R5cGVOYW1lfTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGxvYWQgYmFsYW5jaW5nIGNvbmZpZyBuYW1lICR7dHlwZU5hbWV9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdENvbmZpZygpIHtcbiAgICBpZiAoIWRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZGVmYXVsdCBsb2FkIGJhbGFuY2VyIHR5cGUgcmVnaXN0ZXJlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlc1tkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZV0uTG9hZEJhbGFuY2luZ0NvbmZpZygpO1xufVxuZnVuY3Rpb24gc2VsZWN0TGJDb25maWdGcm9tTGlzdChjb25maWdzLCBmYWxsYmFja1RvZGVmYXVsdCA9IGZhbHNlKSB7XG4gICAgZm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZyhjb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnQ29uZmlnIHBhcnNpbmcgZmFpbGVkIHdpdGggZXJyb3InLCBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZhbGxiYWNrVG9kZWZhdWx0KSB7XG4gICAgICAgIGlmIChkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbZGVmYXVsdExvYWRCYWxhbmNlclR5cGVdLkxvYWRCYWxhbmNpbmdDb25maWcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LoadBalancingCall = void 0;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst TRACER_NAME = 'load_balancing_call';\nclass LoadBalancingCall {\n    constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber) {\n        var _a, _b;\n        this.channel = channel;\n        this.callConfig = callConfig;\n        this.methodName = methodName;\n        this.host = host;\n        this.credentials = credentials;\n        this.deadline = deadline;\n        this.callNumber = callNumber;\n        this.child = null;\n        this.readPending = false;\n        this.pendingMessage = null;\n        this.pendingHalfClose = false;\n        this.ended = false;\n        this.metadata = null;\n        this.listener = null;\n        this.onCallEnded = null;\n        this.childStartTime = null;\n        const splitPath = this.methodName.split('/');\n        let serviceName = '';\n        /* The standard path format is \"/{serviceName}/{methodName}\", so if we split\n         * by '/', the first item should be empty and the second should be the\n         * service name */\n        if (splitPath.length >= 2) {\n            serviceName = splitPath[1];\n        }\n        const hostname = (_b = (_a = (0, uri_parser_1.splitHostPort)(this.host)) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : 'localhost';\n        /* Currently, call credentials are only allowed on HTTPS connections, so we\n         * can assume that the scheme is \"https\" */\n        this.serviceUrl = `https://${hostname}/${serviceName}`;\n        this.startTime = new Date();\n    }\n    getDeadlineInfo() {\n        var _a, _b;\n        const deadlineInfo = [];\n        if (this.childStartTime) {\n            if (this.childStartTime > this.startTime) {\n                if ((_a = this.metadata) === null || _a === void 0 ? void 0 : _a.getOptions().waitForReady) {\n                    deadlineInfo.push('wait_for_ready');\n                }\n                deadlineInfo.push(`LB pick: ${(0, deadline_1.formatDateDifference)(this.startTime, this.childStartTime)}`);\n            }\n            deadlineInfo.push(...this.child.getDeadlineInfo());\n            return deadlineInfo;\n        }\n        else {\n            if ((_b = this.metadata) === null || _b === void 0 ? void 0 : _b.getOptions().waitForReady) {\n                deadlineInfo.push('wait_for_ready');\n            }\n            deadlineInfo.push('Waiting for LB pick');\n        }\n        return deadlineInfo;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    outputStatus(status, progress) {\n        var _a, _b;\n        if (!this.ended) {\n            this.ended = true;\n            this.trace('ended with status: code=' +\n                status.code +\n                ' details=\"' +\n                status.details +\n                '\" start time=' +\n                this.startTime.toISOString());\n            const finalStatus = Object.assign(Object.assign({}, status), { progress });\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(finalStatus);\n            (_b = this.onCallEnded) === null || _b === void 0 ? void 0 : _b.call(this, finalStatus.code);\n        }\n    }\n    doPick() {\n        var _a, _b;\n        if (this.ended) {\n            return;\n        }\n        if (!this.metadata) {\n            throw new Error('doPick called before start');\n        }\n        this.trace('Pick called');\n        const finalMetadata = this.metadata.clone();\n        const pickResult = this.channel.doPick(finalMetadata, this.callConfig.pickInformation);\n        const subchannelString = pickResult.subchannel\n            ? '(' +\n                pickResult.subchannel.getChannelzRef().id +\n                ') ' +\n                pickResult.subchannel.getAddress()\n            : '' + pickResult.subchannel;\n        this.trace('Pick result: ' +\n            picker_1.PickResultType[pickResult.pickResultType] +\n            ' subchannel: ' +\n            subchannelString +\n            ' status: ' +\n            ((_a = pickResult.status) === null || _a === void 0 ? void 0 : _a.code) +\n            ' ' +\n            ((_b = pickResult.status) === null || _b === void 0 ? void 0 : _b.details));\n        switch (pickResult.pickResultType) {\n            case picker_1.PickResultType.COMPLETE:\n                const combinedCallCredentials = this.credentials.compose(pickResult.subchannel.getCallCredentials());\n                combinedCallCredentials\n                    .generateMetadata({ method_name: this.methodName, service_url: this.serviceUrl })\n                    .then(credsMetadata => {\n                    var _a;\n                    /* If this call was cancelled (e.g. by the deadline) before\n                     * metadata generation finished, we shouldn't do anything with\n                     * it. */\n                    if (this.ended) {\n                        this.trace('Credentials metadata generation finished after call ended');\n                        return;\n                    }\n                    finalMetadata.merge(credsMetadata);\n                    if (finalMetadata.get('authorization').length > 1) {\n                        this.outputStatus({\n                            code: constants_1.Status.INTERNAL,\n                            details: '\"authorization\" metadata cannot have multiple values',\n                            metadata: new metadata_1.Metadata(),\n                        }, 'PROCESSED');\n                    }\n                    if (pickResult.subchannel.getConnectivityState() !==\n                        connectivity_state_1.ConnectivityState.READY) {\n                        this.trace('Picked subchannel ' +\n                            subchannelString +\n                            ' has state ' +\n                            connectivity_state_1.ConnectivityState[pickResult.subchannel.getConnectivityState()] +\n                            ' after getting credentials metadata. Retrying pick');\n                        this.doPick();\n                        return;\n                    }\n                    if (this.deadline !== Infinity) {\n                        finalMetadata.set('grpc-timeout', (0, deadline_1.getDeadlineTimeoutString)(this.deadline));\n                    }\n                    try {\n                        this.child = pickResult\n                            .subchannel.getRealSubchannel()\n                            .createCall(finalMetadata, this.host, this.methodName, {\n                            onReceiveMetadata: metadata => {\n                                this.trace('Received metadata');\n                                this.listener.onReceiveMetadata(metadata);\n                            },\n                            onReceiveMessage: message => {\n                                this.trace('Received message');\n                                this.listener.onReceiveMessage(message);\n                            },\n                            onReceiveStatus: status => {\n                                this.trace('Received status');\n                                if (status.rstCode ===\n                                    http2.constants.NGHTTP2_REFUSED_STREAM) {\n                                    this.outputStatus(status, 'REFUSED');\n                                }\n                                else {\n                                    this.outputStatus(status, 'PROCESSED');\n                                }\n                            },\n                        });\n                        this.childStartTime = new Date();\n                    }\n                    catch (error) {\n                        this.trace('Failed to start call on picked subchannel ' +\n                            subchannelString +\n                            ' with error ' +\n                            error.message);\n                        this.outputStatus({\n                            code: constants_1.Status.INTERNAL,\n                            details: 'Failed to start HTTP/2 stream with error ' +\n                                error.message,\n                            metadata: new metadata_1.Metadata(),\n                        }, 'NOT_STARTED');\n                        return;\n                    }\n                    (_a = pickResult.onCallStarted) === null || _a === void 0 ? void 0 : _a.call(pickResult);\n                    this.onCallEnded = pickResult.onCallEnded;\n                    this.trace('Created child call [' + this.child.getCallNumber() + ']');\n                    if (this.readPending) {\n                        this.child.startRead();\n                    }\n                    if (this.pendingMessage) {\n                        this.child.sendMessageWithContext(this.pendingMessage.context, this.pendingMessage.message);\n                    }\n                    if (this.pendingHalfClose) {\n                        this.child.halfClose();\n                    }\n                }, (error) => {\n                    // We assume the error code isn't 0 (Status.OK)\n                    const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(typeof error.code === 'number' ? error.code : constants_1.Status.UNKNOWN, `Getting metadata from plugin failed with error: ${error.message}`);\n                    this.outputStatus({\n                        code: code,\n                        details: details,\n                        metadata: new metadata_1.Metadata(),\n                    }, 'PROCESSED');\n                });\n                break;\n            case picker_1.PickResultType.DROP:\n                const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n                setImmediate(() => {\n                    this.outputStatus({ code, details, metadata: pickResult.status.metadata }, 'DROP');\n                });\n                break;\n            case picker_1.PickResultType.TRANSIENT_FAILURE:\n                if (this.metadata.getOptions().waitForReady) {\n                    this.channel.queueCallForPick(this);\n                }\n                else {\n                    const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n                    setImmediate(() => {\n                        this.outputStatus({ code, details, metadata: pickResult.status.metadata }, 'PROCESSED');\n                    });\n                }\n                break;\n            case picker_1.PickResultType.QUEUE:\n                this.channel.queueCallForPick(this);\n        }\n    }\n    cancelWithStatus(status, details) {\n        var _a;\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n        this.outputStatus({ code: status, details: details, metadata: new metadata_1.Metadata() }, 'PROCESSED');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.listener = listener;\n        this.metadata = metadata;\n        this.doPick();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        if (this.child) {\n            this.child.sendMessageWithContext(context, message);\n        }\n        else {\n            this.pendingMessage = { context, message };\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        if (this.child) {\n            this.child.startRead();\n        }\n        else {\n            this.readPending = true;\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        if (this.child) {\n            this.child.halfClose();\n        }\n        else {\n            this.pendingHalfClose = true;\n        }\n    }\n    setCredentials(credentials) {\n        throw new Error('Method not implemented.');\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n}\nexports.LoadBalancingCall = LoadBalancingCall;\n//# sourceMappingURL=load-balancing-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2luZy1jYWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2QyxtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2QyxpQkFBaUIsbUJBQU8sQ0FBQywyR0FBVTtBQUNuQyxxQkFBcUIsbUJBQU8sQ0FBQyxtSEFBYztBQUMzQyxnQkFBZ0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNuQywrQkFBK0IsbUJBQU8sQ0FBQyx1SUFBd0I7QUFDL0QsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFlBQVksRUFBRSxXQUFXO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsU0FBUyxHQUFHLFlBQVk7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsMEVBQTBFO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELGFBQWEsVUFBVTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsNERBQTREO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw0QkFBNEIsZ0JBQWdCLDBMQUEwTCxjQUFjO0FBQ3BQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBLHdDQUF3QyxxREFBcUQ7QUFDN0YsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQkFBZ0I7QUFDNUM7QUFDQSw0Q0FBNEMscURBQXFEO0FBQ2pHLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxRUFBcUU7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2luZy1jYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvYWRCYWxhbmNpbmdDYWxsID0gdm9pZCAwO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGRlYWRsaW5lXzEgPSByZXF1aXJlKFwiLi9kZWFkbGluZVwiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IHBpY2tlcl8xID0gcmVxdWlyZShcIi4vcGlja2VyXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29udHJvbF9wbGFuZV9zdGF0dXNfMSA9IHJlcXVpcmUoXCIuL2NvbnRyb2wtcGxhbmUtc3RhdHVzXCIpO1xuY29uc3QgaHR0cDIgPSByZXF1aXJlKFwiaHR0cDJcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdsb2FkX2JhbGFuY2luZ19jYWxsJztcbmNsYXNzIExvYWRCYWxhbmNpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsLCBjYWxsQ29uZmlnLCBtZXRob2ROYW1lLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUsIGNhbGxOdW1iZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5jYWxsQ29uZmlnID0gY2FsbENvbmZpZztcbiAgICAgICAgdGhpcy5tZXRob2ROYW1lID0gbWV0aG9kTmFtZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gZGVhZGxpbmU7XG4gICAgICAgIHRoaXMuY2FsbE51bWJlciA9IGNhbGxOdW1iZXI7XG4gICAgICAgIHRoaXMuY2hpbGQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMub25DYWxsRW5kZWQgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgY29uc3Qgc3BsaXRQYXRoID0gdGhpcy5tZXRob2ROYW1lLnNwbGl0KCcvJyk7XG4gICAgICAgIGxldCBzZXJ2aWNlTmFtZSA9ICcnO1xuICAgICAgICAvKiBUaGUgc3RhbmRhcmQgcGF0aCBmb3JtYXQgaXMgXCIve3NlcnZpY2VOYW1lfS97bWV0aG9kTmFtZX1cIiwgc28gaWYgd2Ugc3BsaXRcbiAgICAgICAgICogYnkgJy8nLCB0aGUgZmlyc3QgaXRlbSBzaG91bGQgYmUgZW1wdHkgYW5kIHRoZSBzZWNvbmQgc2hvdWxkIGJlIHRoZVxuICAgICAgICAgKiBzZXJ2aWNlIG5hbWUgKi9cbiAgICAgICAgaWYgKHNwbGl0UGF0aC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgc2VydmljZU5hbWUgPSBzcGxpdFBhdGhbMV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaG9zdG5hbWUgPSAoX2IgPSAoX2EgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRoaXMuaG9zdCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ob3N0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnbG9jYWxob3N0JztcbiAgICAgICAgLyogQ3VycmVudGx5LCBjYWxsIGNyZWRlbnRpYWxzIGFyZSBvbmx5IGFsbG93ZWQgb24gSFRUUFMgY29ubmVjdGlvbnMsIHNvIHdlXG4gICAgICAgICAqIGNhbiBhc3N1bWUgdGhhdCB0aGUgc2NoZW1lIGlzIFwiaHR0cHNcIiAqL1xuICAgICAgICB0aGlzLnNlcnZpY2VVcmwgPSBgaHR0cHM6Ly8ke2hvc3RuYW1lfS8ke3NlcnZpY2VOYW1lfWA7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICB9XG4gICAgZ2V0RGVhZGxpbmVJbmZvKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBkZWFkbGluZUluZm8gPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRTdGFydFRpbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkU3RhcnRUaW1lID4gdGhpcy5zdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKF9hID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goJ3dhaXRfZm9yX3JlYWR5Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKGBMQiBwaWNrOiAkeygwLCBkZWFkbGluZV8xLmZvcm1hdERhdGVEaWZmZXJlbmNlKSh0aGlzLnN0YXJ0VGltZSwgdGhpcy5jaGlsZFN0YXJ0VGltZSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaCguLi50aGlzLmNoaWxkLmdldERlYWRsaW5lSW5mbygpKTtcbiAgICAgICAgICAgIHJldHVybiBkZWFkbGluZUluZm87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKF9iID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaCgnd2FpdF9mb3JfcmVhZHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKCdXYWl0aW5nIGZvciBMQiBwaWNrJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlYWRsaW5lSW5mbztcbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICdbJyArIHRoaXMuY2FsbE51bWJlciArICddICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgb3V0cHV0U3RhdHVzKHN0YXR1cywgcHJvZ3Jlc3MpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCF0aGlzLmVuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2VuZGVkIHdpdGggc3RhdHVzOiBjb2RlPScgK1xuICAgICAgICAgICAgICAgIHN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAnIGRldGFpbHM9XCInICtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgJ1wiIHN0YXJ0IHRpbWU9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUudG9JU09TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb25zdCBmaW5hbFN0YXR1cyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdHVzKSwgeyBwcm9ncmVzcyB9KTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMubGlzdGVuZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblJlY2VpdmVTdGF0dXMoZmluYWxTdGF0dXMpO1xuICAgICAgICAgICAgKF9iID0gdGhpcy5vbkNhbGxFbmRlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwodGhpcywgZmluYWxTdGF0dXMuY29kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9QaWNrKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb1BpY2sgY2FsbGVkIGJlZm9yZSBzdGFydCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2UoJ1BpY2sgY2FsbGVkJyk7XG4gICAgICAgIGNvbnN0IGZpbmFsTWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHBpY2tSZXN1bHQgPSB0aGlzLmNoYW5uZWwuZG9QaWNrKGZpbmFsTWV0YWRhdGEsIHRoaXMuY2FsbENvbmZpZy5waWNrSW5mb3JtYXRpb24pO1xuICAgICAgICBjb25zdCBzdWJjaGFubmVsU3RyaW5nID0gcGlja1Jlc3VsdC5zdWJjaGFubmVsXG4gICAgICAgICAgICA/ICcoJyArXG4gICAgICAgICAgICAgICAgcGlja1Jlc3VsdC5zdWJjaGFubmVsLmdldENoYW5uZWx6UmVmKCkuaWQgK1xuICAgICAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgICAgIHBpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRBZGRyZXNzKClcbiAgICAgICAgICAgIDogJycgKyBwaWNrUmVzdWx0LnN1YmNoYW5uZWw7XG4gICAgICAgIHRoaXMudHJhY2UoJ1BpY2sgcmVzdWx0OiAnICtcbiAgICAgICAgICAgIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlW3BpY2tSZXN1bHQucGlja1Jlc3VsdFR5cGVdICtcbiAgICAgICAgICAgICcgc3ViY2hhbm5lbDogJyArXG4gICAgICAgICAgICBzdWJjaGFubmVsU3RyaW5nICtcbiAgICAgICAgICAgICcgc3RhdHVzOiAnICtcbiAgICAgICAgICAgICgoX2EgPSBwaWNrUmVzdWx0LnN0YXR1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvZGUpICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAoKF9iID0gcGlja1Jlc3VsdC5zdGF0dXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZXRhaWxzKSk7XG4gICAgICAgIHN3aXRjaCAocGlja1Jlc3VsdC5waWNrUmVzdWx0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURTpcbiAgICAgICAgICAgICAgICBjb25zdCBjb21iaW5lZENhbGxDcmVkZW50aWFscyA9IHRoaXMuY3JlZGVudGlhbHMuY29tcG9zZShwaWNrUmVzdWx0LnN1YmNoYW5uZWwuZ2V0Q2FsbENyZWRlbnRpYWxzKCkpO1xuICAgICAgICAgICAgICAgIGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzXG4gICAgICAgICAgICAgICAgICAgIC5nZW5lcmF0ZU1ldGFkYXRhKHsgbWV0aG9kX25hbWU6IHRoaXMubWV0aG9kTmFtZSwgc2VydmljZV91cmw6IHRoaXMuc2VydmljZVVybCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihjcmVkc01ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGlzIGNhbGwgd2FzIGNhbmNlbGxlZCAoZS5nLiBieSB0aGUgZGVhZGxpbmUpIGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAgKiBtZXRhZGF0YSBnZW5lcmF0aW9uIGZpbmlzaGVkLCB3ZSBzaG91bGRuJ3QgZG8gYW55dGhpbmcgd2l0aFxuICAgICAgICAgICAgICAgICAgICAgKiBpdC4gKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0NyZWRlbnRpYWxzIG1ldGFkYXRhIGdlbmVyYXRpb24gZmluaXNoZWQgYWZ0ZXIgY2FsbCBlbmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWV0YWRhdGEubWVyZ2UoY3JlZHNNZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbE1ldGFkYXRhLmdldCgnYXV0aG9yaXphdGlvbicpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ1wiYXV0aG9yaXphdGlvblwiIG1ldGFkYXRhIGNhbm5vdCBoYXZlIG11bHRpcGxlIHZhbHVlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1BpY2tlZCBzdWJjaGFubmVsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxTdHJpbmcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgaGFzIHN0YXRlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3BpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBhZnRlciBnZXR0aW5nIGNyZWRlbnRpYWxzIG1ldGFkYXRhLiBSZXRyeWluZyBwaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvUGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYWRsaW5lICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNZXRhZGF0YS5zZXQoJ2dycGMtdGltZW91dCcsICgwLCBkZWFkbGluZV8xLmdldERlYWRsaW5lVGltZW91dFN0cmluZykodGhpcy5kZWFkbGluZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkID0gcGlja1Jlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJjaGFubmVsLmdldFJlYWxTdWJjaGFubmVsKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3JlYXRlQ2FsbChmaW5hbE1ldGFkYXRhLCB0aGlzLmhvc3QsIHRoaXMubWV0aG9kTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1ldGFkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogbWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzdGF0dXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5yc3RDb2RlID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfUkVGVVNFRF9TVFJFQU0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHN0YXR1cywgJ1JFRlVTRUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHN0YXR1cywgJ1BST0NFU1NFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdGYWlsZWQgdG8gc3RhcnQgY2FsbCBvbiBwaWNrZWQgc3ViY2hhbm5lbCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsU3RyaW5nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdGYWlsZWQgdG8gc3RhcnQgSFRUUC8yIHN0cmVhbSB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ05PVF9TVEFSVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKF9hID0gcGlja1Jlc3VsdC5vbkNhbGxTdGFydGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwaWNrUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNhbGxFbmRlZCA9IHBpY2tSZXN1bHQub25DYWxsRW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0NyZWF0ZWQgY2hpbGQgY2FsbCBbJyArIHRoaXMuY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZFBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh0aGlzLnBlbmRpbmdNZXNzYWdlLmNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhlIGVycm9yIGNvZGUgaXNuJ3QgMCAoU3RhdHVzLk9LKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGUsIGRldGFpbHMgfSA9ICgwLCBjb250cm9sX3BsYW5lX3N0YXR1c18xLnJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSkodHlwZW9mIGVycm9yLmNvZGUgPT09ICdudW1iZXInID8gZXJyb3IuY29kZSA6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLCBgR2V0dGluZyBtZXRhZGF0YSBmcm9tIHBsdWdpbiBmYWlsZWQgd2l0aCBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLkRST1A6XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHBpY2tSZXN1bHQuc3RhdHVzLmNvZGUsIHBpY2tSZXN1bHQuc3RhdHVzLmRldGFpbHMpO1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHsgY29kZSwgZGV0YWlscywgbWV0YWRhdGE6IHBpY2tSZXN1bHQuc3RhdHVzLm1ldGFkYXRhIH0sICdEUk9QJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLlRSQU5TSUVOVF9GQUlMVVJFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnF1ZXVlQ2FsbEZvclBpY2sodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGUsIGRldGFpbHMgfSA9ICgwLCBjb250cm9sX3BsYW5lX3N0YXR1c18xLnJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSkocGlja1Jlc3VsdC5zdGF0dXMuY29kZSwgcGlja1Jlc3VsdC5zdGF0dXMuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7IGNvZGUsIGRldGFpbHMsIG1ldGFkYXRhOiBwaWNrUmVzdWx0LnN0YXR1cy5tZXRhZGF0YSB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuUVVFVUU6XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnF1ZXVlQ2FsbEZvclBpY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnRyYWNlKCdjYW5jZWxXaXRoU3RhdHVzIGNvZGU6ICcgKyBzdGF0dXMgKyAnIGRldGFpbHM6IFwiJyArIGRldGFpbHMgKyAnXCInKTtcbiAgICAgICAgKF9hID0gdGhpcy5jaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKTtcbiAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoeyBjb2RlOiBzdGF0dXMsIGRldGFpbHM6IGRldGFpbHMsIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpIH0sICdQUk9DRVNTRUQnKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuY2hhbm5lbC5nZXRUYXJnZXQoKTtcbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0IGNhbGxlZCcpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5kb1BpY2soKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3dyaXRlKCkgY2FsbGVkIHdpdGggbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSB7IGNvbnRleHQsIG1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2hhbGZDbG9zZSBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuaGFsZkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0Q2FsbE51bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbE51bWJlcjtcbiAgICB9XG59XG5leHBvcnRzLkxvYWRCYWxhbmNpbmdDYWxsID0gTG9hZEJhbGFuY2luZ0NhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2luZy1jYWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.log = exports.setLoggerVerbosity = exports.setLogger = exports.getLogger = void 0;\nexports.trace = trace;\nexports.isTracerEnabled = isTracerEnabled;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst process_1 = __webpack_require__(/*! process */ \"process\");\nconst clientVersion = (__webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json\").version);\nconst DEFAULT_LOGGER = {\n    error: (message, ...optionalParams) => {\n        console.error('E ' + message, ...optionalParams);\n    },\n    info: (message, ...optionalParams) => {\n        console.error('I ' + message, ...optionalParams);\n    },\n    debug: (message, ...optionalParams) => {\n        console.error('D ' + message, ...optionalParams);\n    },\n};\nlet _logger = DEFAULT_LOGGER;\nlet _logVerbosity = constants_1.LogVerbosity.ERROR;\nconst verbosityString = (_b = (_a = process.env.GRPC_NODE_VERBOSITY) !== null && _a !== void 0 ? _a : process.env.GRPC_VERBOSITY) !== null && _b !== void 0 ? _b : '';\nswitch (verbosityString.toUpperCase()) {\n    case 'DEBUG':\n        _logVerbosity = constants_1.LogVerbosity.DEBUG;\n        break;\n    case 'INFO':\n        _logVerbosity = constants_1.LogVerbosity.INFO;\n        break;\n    case 'ERROR':\n        _logVerbosity = constants_1.LogVerbosity.ERROR;\n        break;\n    case 'NONE':\n        _logVerbosity = constants_1.LogVerbosity.NONE;\n        break;\n    default:\n    // Ignore any other values\n}\nconst getLogger = () => {\n    return _logger;\n};\nexports.getLogger = getLogger;\nconst setLogger = (logger) => {\n    _logger = logger;\n};\nexports.setLogger = setLogger;\nconst setLoggerVerbosity = (verbosity) => {\n    _logVerbosity = verbosity;\n};\nexports.setLoggerVerbosity = setLoggerVerbosity;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst log = (severity, ...args) => {\n    let logFunction;\n    if (severity >= _logVerbosity) {\n        switch (severity) {\n            case constants_1.LogVerbosity.DEBUG:\n                logFunction = _logger.debug;\n                break;\n            case constants_1.LogVerbosity.INFO:\n                logFunction = _logger.info;\n                break;\n            case constants_1.LogVerbosity.ERROR:\n                logFunction = _logger.error;\n                break;\n        }\n        /* Fall back to _logger.error when other methods are not available for\n         * compatiblity with older behavior that always logged to _logger.error */\n        if (!logFunction) {\n            logFunction = _logger.error;\n        }\n        if (logFunction) {\n            logFunction.bind(_logger)(...args);\n        }\n    }\n};\nexports.log = log;\nconst tracersString = (_d = (_c = process.env.GRPC_NODE_TRACE) !== null && _c !== void 0 ? _c : process.env.GRPC_TRACE) !== null && _d !== void 0 ? _d : '';\nconst enabledTracers = new Set();\nconst disabledTracers = new Set();\nfor (const tracerName of tracersString.split(',')) {\n    if (tracerName.startsWith('-')) {\n        disabledTracers.add(tracerName.substring(1));\n    }\n    else {\n        enabledTracers.add(tracerName);\n    }\n}\nconst allEnabled = enabledTracers.has('all');\nfunction trace(severity, tracer, text) {\n    if (isTracerEnabled(tracer)) {\n        (0, exports.log)(severity, new Date().toISOString() +\n            ' | v' +\n            clientVersion +\n            ' ' +\n            process_1.pid +\n            ' | ' +\n            tracer +\n            ' | ' +\n            text);\n    }\n}\nfunction isTracerEnabled(tracer) {\n    return (!disabledTracers.has(tracer) && (allEnabled || enabledTracers.has(tracer)));\n}\n//# sourceMappingURL=logging.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2dnaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxXQUFXLEdBQUcsMEJBQTBCLEdBQUcsaUJBQWlCLEdBQUcsaUJBQWlCO0FBQ2hGLGFBQWE7QUFDYix1QkFBdUI7QUFDdkIsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsa0JBQWtCLG1CQUFPLENBQUMsd0JBQVM7QUFDbkMsc0JBQXNCLDZJQUFxQztBQUMzRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9nZ2luZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9hLCBfYiwgX2MsIF9kO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2cgPSBleHBvcnRzLnNldExvZ2dlclZlcmJvc2l0eSA9IGV4cG9ydHMuc2V0TG9nZ2VyID0gZXhwb3J0cy5nZXRMb2dnZXIgPSB2b2lkIDA7XG5leHBvcnRzLnRyYWNlID0gdHJhY2U7XG5leHBvcnRzLmlzVHJhY2VyRW5hYmxlZCA9IGlzVHJhY2VyRW5hYmxlZDtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgcHJvY2Vzc18xID0gcmVxdWlyZShcInByb2Nlc3NcIik7XG5jb25zdCBjbGllbnRWZXJzaW9uID0gcmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbmNvbnN0IERFRkFVTFRfTE9HR0VSID0ge1xuICAgIGVycm9yOiAobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRSAnICsgbWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgIH0sXG4gICAgaW5mbzogKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0kgJyArIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICB9LFxuICAgIGRlYnVnOiAobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRCAnICsgbWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgIH0sXG59O1xubGV0IF9sb2dnZXIgPSBERUZBVUxUX0xPR0dFUjtcbmxldCBfbG9nVmVyYm9zaXR5ID0gY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SO1xuY29uc3QgdmVyYm9zaXR5U3RyaW5nID0gKF9iID0gKF9hID0gcHJvY2Vzcy5lbnYuR1JQQ19OT0RFX1ZFUkJPU0lUWSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcHJvY2Vzcy5lbnYuR1JQQ19WRVJCT1NJVFkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuc3dpdGNoICh2ZXJib3NpdHlTdHJpbmcudG9VcHBlckNhc2UoKSkge1xuICAgIGNhc2UgJ0RFQlVHJzpcbiAgICAgICAgX2xvZ1ZlcmJvc2l0eSA9IGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRztcbiAgICAgICAgYnJlYWs7XG4gICAgY2FzZSAnSU5GTyc6XG4gICAgICAgIF9sb2dWZXJib3NpdHkgPSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuSU5GTztcbiAgICAgICAgYnJlYWs7XG4gICAgY2FzZSAnRVJST1InOlxuICAgICAgICBfbG9nVmVyYm9zaXR5ID0gY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlICdOT05FJzpcbiAgICAgICAgX2xvZ1ZlcmJvc2l0eSA9IGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5OT05FO1xuICAgICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgIC8vIElnbm9yZSBhbnkgb3RoZXIgdmFsdWVzXG59XG5jb25zdCBnZXRMb2dnZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIF9sb2dnZXI7XG59O1xuZXhwb3J0cy5nZXRMb2dnZXIgPSBnZXRMb2dnZXI7XG5jb25zdCBzZXRMb2dnZXIgPSAobG9nZ2VyKSA9PiB7XG4gICAgX2xvZ2dlciA9IGxvZ2dlcjtcbn07XG5leHBvcnRzLnNldExvZ2dlciA9IHNldExvZ2dlcjtcbmNvbnN0IHNldExvZ2dlclZlcmJvc2l0eSA9ICh2ZXJib3NpdHkpID0+IHtcbiAgICBfbG9nVmVyYm9zaXR5ID0gdmVyYm9zaXR5O1xufTtcbmV4cG9ydHMuc2V0TG9nZ2VyVmVyYm9zaXR5ID0gc2V0TG9nZ2VyVmVyYm9zaXR5O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmNvbnN0IGxvZyA9IChzZXZlcml0eSwgLi4uYXJncykgPT4ge1xuICAgIGxldCBsb2dGdW5jdGlvbjtcbiAgICBpZiAoc2V2ZXJpdHkgPj0gX2xvZ1ZlcmJvc2l0eSkge1xuICAgICAgICBzd2l0Y2ggKHNldmVyaXR5KSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRzpcbiAgICAgICAgICAgICAgICBsb2dGdW5jdGlvbiA9IF9sb2dnZXIuZGVidWc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5JTkZPOlxuICAgICAgICAgICAgICAgIGxvZ0Z1bmN0aW9uID0gX2xvZ2dlci5pbmZvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1I6XG4gICAgICAgICAgICAgICAgbG9nRnVuY3Rpb24gPSBfbG9nZ2VyLmVycm9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8qIEZhbGwgYmFjayB0byBfbG9nZ2VyLmVycm9yIHdoZW4gb3RoZXIgbWV0aG9kcyBhcmUgbm90IGF2YWlsYWJsZSBmb3JcbiAgICAgICAgICogY29tcGF0aWJsaXR5IHdpdGggb2xkZXIgYmVoYXZpb3IgdGhhdCBhbHdheXMgbG9nZ2VkIHRvIF9sb2dnZXIuZXJyb3IgKi9cbiAgICAgICAgaWYgKCFsb2dGdW5jdGlvbikge1xuICAgICAgICAgICAgbG9nRnVuY3Rpb24gPSBfbG9nZ2VyLmVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2dGdW5jdGlvbikge1xuICAgICAgICAgICAgbG9nRnVuY3Rpb24uYmluZChfbG9nZ2VyKSguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnRzLmxvZyA9IGxvZztcbmNvbnN0IHRyYWNlcnNTdHJpbmcgPSAoX2QgPSAoX2MgPSBwcm9jZXNzLmVudi5HUlBDX05PREVfVFJBQ0UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHByb2Nlc3MuZW52LkdSUENfVFJBQ0UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnO1xuY29uc3QgZW5hYmxlZFRyYWNlcnMgPSBuZXcgU2V0KCk7XG5jb25zdCBkaXNhYmxlZFRyYWNlcnMgPSBuZXcgU2V0KCk7XG5mb3IgKGNvbnN0IHRyYWNlck5hbWUgb2YgdHJhY2Vyc1N0cmluZy5zcGxpdCgnLCcpKSB7XG4gICAgaWYgKHRyYWNlck5hbWUuc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgICAgIGRpc2FibGVkVHJhY2Vycy5hZGQodHJhY2VyTmFtZS5zdWJzdHJpbmcoMSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW5hYmxlZFRyYWNlcnMuYWRkKHRyYWNlck5hbWUpO1xuICAgIH1cbn1cbmNvbnN0IGFsbEVuYWJsZWQgPSBlbmFibGVkVHJhY2Vycy5oYXMoJ2FsbCcpO1xuZnVuY3Rpb24gdHJhY2Uoc2V2ZXJpdHksIHRyYWNlciwgdGV4dCkge1xuICAgIGlmIChpc1RyYWNlckVuYWJsZWQodHJhY2VyKSkge1xuICAgICAgICAoMCwgZXhwb3J0cy5sb2cpKHNldmVyaXR5LCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgK1xuICAgICAgICAgICAgJyB8IHYnICtcbiAgICAgICAgICAgIGNsaWVudFZlcnNpb24gK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHByb2Nlc3NfMS5waWQgK1xuICAgICAgICAgICAgJyB8ICcgK1xuICAgICAgICAgICAgdHJhY2VyICtcbiAgICAgICAgICAgICcgfCAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzVHJhY2VyRW5hYmxlZCh0cmFjZXIpIHtcbiAgICByZXR1cm4gKCFkaXNhYmxlZFRyYWNlcnMuaGFzKHRyYWNlcikgJiYgKGFsbEVuYWJsZWQgfHwgZW5hYmxlZFRyYWNlcnMuaGFzKHRyYWNlcikpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.makeClientConstructor = makeClientConstructor;\nexports.loadPackageDefinition = loadPackageDefinition;\nconst client_1 = __webpack_require__(/*! ./client */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js\");\n/**\n * Map with short names for each of the requester maker functions. Used in\n * makeClientConstructor\n * @private\n */\nconst requesterFuncs = {\n    unary: client_1.Client.prototype.makeUnaryRequest,\n    server_stream: client_1.Client.prototype.makeServerStreamRequest,\n    client_stream: client_1.Client.prototype.makeClientStreamRequest,\n    bidi: client_1.Client.prototype.makeBidiStreamRequest,\n};\n/**\n * Returns true, if given key is included in the blacklisted\n * keys.\n * @param key key for check, string.\n */\nfunction isPrototypePolluted(key) {\n    return ['__proto__', 'prototype', 'constructor'].includes(key);\n}\n/**\n * Creates a constructor for a client with the given methods, as specified in\n * the methods argument. The resulting class will have an instance method for\n * each method in the service, which is a partial application of one of the\n * [Client]{@link grpc.Client} request methods, depending on `requestSerialize`\n * and `responseSerialize`, with the `method`, `serialize`, and `deserialize`\n * arguments predefined.\n * @param methods An object mapping method names to\n *     method attributes\n * @param serviceName The fully qualified name of the service\n * @param classOptions An options object.\n * @return New client constructor, which is a subclass of\n *     {@link grpc.Client}, and has the same arguments as that constructor.\n */\nfunction makeClientConstructor(methods, serviceName, classOptions) {\n    if (!classOptions) {\n        classOptions = {};\n    }\n    class ServiceClientImpl extends client_1.Client {\n    }\n    Object.keys(methods).forEach(name => {\n        if (isPrototypePolluted(name)) {\n            return;\n        }\n        const attrs = methods[name];\n        let methodType;\n        // TODO(murgatroid99): Verify that we don't need this anymore\n        if (typeof name === 'string' && name.charAt(0) === '$') {\n            throw new Error('Method names cannot start with $');\n        }\n        if (attrs.requestStream) {\n            if (attrs.responseStream) {\n                methodType = 'bidi';\n            }\n            else {\n                methodType = 'client_stream';\n            }\n        }\n        else {\n            if (attrs.responseStream) {\n                methodType = 'server_stream';\n            }\n            else {\n                methodType = 'unary';\n            }\n        }\n        const serialize = attrs.requestSerialize;\n        const deserialize = attrs.responseDeserialize;\n        const methodFunc = partial(requesterFuncs[methodType], attrs.path, serialize, deserialize);\n        ServiceClientImpl.prototype[name] = methodFunc;\n        // Associate all provided attributes with the method\n        Object.assign(ServiceClientImpl.prototype[name], attrs);\n        if (attrs.originalName && !isPrototypePolluted(attrs.originalName)) {\n            ServiceClientImpl.prototype[attrs.originalName] =\n                ServiceClientImpl.prototype[name];\n        }\n    });\n    ServiceClientImpl.service = methods;\n    ServiceClientImpl.serviceName = serviceName;\n    return ServiceClientImpl;\n}\nfunction partial(fn, path, serialize, deserialize) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (...args) {\n        return fn.call(this, path, serialize, deserialize, ...args);\n    };\n}\nfunction isProtobufTypeDefinition(obj) {\n    return 'format' in obj;\n}\n/**\n * Load a gRPC package definition as a gRPC object hierarchy.\n * @param packageDef The package definition object.\n * @return The resulting gRPC object.\n */\nfunction loadPackageDefinition(packageDef) {\n    const result = {};\n    for (const serviceFqn in packageDef) {\n        if (Object.prototype.hasOwnProperty.call(packageDef, serviceFqn)) {\n            const service = packageDef[serviceFqn];\n            const nameComponents = serviceFqn.split('.');\n            if (nameComponents.some((comp) => isPrototypePolluted(comp))) {\n                continue;\n            }\n            const serviceName = nameComponents[nameComponents.length - 1];\n            let current = result;\n            for (const packageName of nameComponents.slice(0, -1)) {\n                if (!current[packageName]) {\n                    current[packageName] = {};\n                }\n                current = current[packageName];\n            }\n            if (isProtobufTypeDefinition(service)) {\n                current[serviceName] = service;\n            }\n            else {\n                current[serviceName] = makeClientConstructor(service, serviceName, {});\n            }\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=make-client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9tYWtlLWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsaUJBQWlCLG1CQUFPLENBQUMsMkdBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrQkFBa0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL21ha2UtY2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1ha2VDbGllbnRDb25zdHJ1Y3RvciA9IG1ha2VDbGllbnRDb25zdHJ1Y3RvcjtcbmV4cG9ydHMubG9hZFBhY2thZ2VEZWZpbml0aW9uID0gbG9hZFBhY2thZ2VEZWZpbml0aW9uO1xuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiLi9jbGllbnRcIik7XG4vKipcbiAqIE1hcCB3aXRoIHNob3J0IG5hbWVzIGZvciBlYWNoIG9mIHRoZSByZXF1ZXN0ZXIgbWFrZXIgZnVuY3Rpb25zLiBVc2VkIGluXG4gKiBtYWtlQ2xpZW50Q29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHJlcXVlc3RlckZ1bmNzID0ge1xuICAgIHVuYXJ5OiBjbGllbnRfMS5DbGllbnQucHJvdG90eXBlLm1ha2VVbmFyeVJlcXVlc3QsXG4gICAgc2VydmVyX3N0cmVhbTogY2xpZW50XzEuQ2xpZW50LnByb3RvdHlwZS5tYWtlU2VydmVyU3RyZWFtUmVxdWVzdCxcbiAgICBjbGllbnRfc3RyZWFtOiBjbGllbnRfMS5DbGllbnQucHJvdG90eXBlLm1ha2VDbGllbnRTdHJlYW1SZXF1ZXN0LFxuICAgIGJpZGk6IGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUubWFrZUJpZGlTdHJlYW1SZXF1ZXN0LFxufTtcbi8qKlxuICogUmV0dXJucyB0cnVlLCBpZiBnaXZlbiBrZXkgaXMgaW5jbHVkZWQgaW4gdGhlIGJsYWNrbGlzdGVkXG4gKiBrZXlzLlxuICogQHBhcmFtIGtleSBrZXkgZm9yIGNoZWNrLCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlUG9sbHV0ZWQoa2V5KSB7XG4gICAgcmV0dXJuIFsnX19wcm90b19fJywgJ3Byb3RvdHlwZScsICdjb25zdHJ1Y3RvciddLmluY2x1ZGVzKGtleSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjb25zdHJ1Y3RvciBmb3IgYSBjbGllbnQgd2l0aCB0aGUgZ2l2ZW4gbWV0aG9kcywgYXMgc3BlY2lmaWVkIGluXG4gKiB0aGUgbWV0aG9kcyBhcmd1bWVudC4gVGhlIHJlc3VsdGluZyBjbGFzcyB3aWxsIGhhdmUgYW4gaW5zdGFuY2UgbWV0aG9kIGZvclxuICogZWFjaCBtZXRob2QgaW4gdGhlIHNlcnZpY2UsIHdoaWNoIGlzIGEgcGFydGlhbCBhcHBsaWNhdGlvbiBvZiBvbmUgb2YgdGhlXG4gKiBbQ2xpZW50XXtAbGluayBncnBjLkNsaWVudH0gcmVxdWVzdCBtZXRob2RzLCBkZXBlbmRpbmcgb24gYHJlcXVlc3RTZXJpYWxpemVgXG4gKiBhbmQgYHJlc3BvbnNlU2VyaWFsaXplYCwgd2l0aCB0aGUgYG1ldGhvZGAsIGBzZXJpYWxpemVgLCBhbmQgYGRlc2VyaWFsaXplYFxuICogYXJndW1lbnRzIHByZWRlZmluZWQuXG4gKiBAcGFyYW0gbWV0aG9kcyBBbiBvYmplY3QgbWFwcGluZyBtZXRob2QgbmFtZXMgdG9cbiAqICAgICBtZXRob2QgYXR0cmlidXRlc1xuICogQHBhcmFtIHNlcnZpY2VOYW1lIFRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZSBvZiB0aGUgc2VydmljZVxuICogQHBhcmFtIGNsYXNzT3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdC5cbiAqIEByZXR1cm4gTmV3IGNsaWVudCBjb25zdHJ1Y3Rvciwgd2hpY2ggaXMgYSBzdWJjbGFzcyBvZlxuICogICAgIHtAbGluayBncnBjLkNsaWVudH0sIGFuZCBoYXMgdGhlIHNhbWUgYXJndW1lbnRzIGFzIHRoYXQgY29uc3RydWN0b3IuXG4gKi9cbmZ1bmN0aW9uIG1ha2VDbGllbnRDb25zdHJ1Y3RvcihtZXRob2RzLCBzZXJ2aWNlTmFtZSwgY2xhc3NPcHRpb25zKSB7XG4gICAgaWYgKCFjbGFzc09wdGlvbnMpIHtcbiAgICAgICAgY2xhc3NPcHRpb25zID0ge307XG4gICAgfVxuICAgIGNsYXNzIFNlcnZpY2VDbGllbnRJbXBsIGV4dGVuZHMgY2xpZW50XzEuQ2xpZW50IHtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMobWV0aG9kcykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKGlzUHJvdG90eXBlUG9sbHV0ZWQobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdHRycyA9IG1ldGhvZHNbbmFtZV07XG4gICAgICAgIGxldCBtZXRob2RUeXBlO1xuICAgICAgICAvLyBUT0RPKG11cmdhdHJvaWQ5OSk6IFZlcmlmeSB0aGF0IHdlIGRvbid0IG5lZWQgdGhpcyBhbnltb3JlXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5jaGFyQXQoMCkgPT09ICckJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgbmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggJCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRycy5yZXF1ZXN0U3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoYXR0cnMucmVzcG9uc2VTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ2JpZGknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdjbGllbnRfc3RyZWFtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhdHRycy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAnc2VydmVyX3N0cmVhbSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ3VuYXJ5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXJpYWxpemUgPSBhdHRycy5yZXF1ZXN0U2VyaWFsaXplO1xuICAgICAgICBjb25zdCBkZXNlcmlhbGl6ZSA9IGF0dHJzLnJlc3BvbnNlRGVzZXJpYWxpemU7XG4gICAgICAgIGNvbnN0IG1ldGhvZEZ1bmMgPSBwYXJ0aWFsKHJlcXVlc3RlckZ1bmNzW21ldGhvZFR5cGVdLCBhdHRycy5wYXRoLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplKTtcbiAgICAgICAgU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlW25hbWVdID0gbWV0aG9kRnVuYztcbiAgICAgICAgLy8gQXNzb2NpYXRlIGFsbCBwcm92aWRlZCBhdHRyaWJ1dGVzIHdpdGggdGhlIG1ldGhvZFxuICAgICAgICBPYmplY3QuYXNzaWduKFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZVtuYW1lXSwgYXR0cnMpO1xuICAgICAgICBpZiAoYXR0cnMub3JpZ2luYWxOYW1lICYmICFpc1Byb3RvdHlwZVBvbGx1dGVkKGF0dHJzLm9yaWdpbmFsTmFtZSkpIHtcbiAgICAgICAgICAgIFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZVthdHRycy5vcmlnaW5hbE5hbWVdID1cbiAgICAgICAgICAgICAgICBTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGVbbmFtZV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBTZXJ2aWNlQ2xpZW50SW1wbC5zZXJ2aWNlID0gbWV0aG9kcztcbiAgICBTZXJ2aWNlQ2xpZW50SW1wbC5zZXJ2aWNlTmFtZSA9IHNlcnZpY2VOYW1lO1xuICAgIHJldHVybiBTZXJ2aWNlQ2xpZW50SW1wbDtcbn1cbmZ1bmN0aW9uIHBhcnRpYWwoZm4sIHBhdGgsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBwYXRoLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNQcm90b2J1ZlR5cGVEZWZpbml0aW9uKG9iaikge1xuICAgIHJldHVybiAnZm9ybWF0JyBpbiBvYmo7XG59XG4vKipcbiAqIExvYWQgYSBnUlBDIHBhY2thZ2UgZGVmaW5pdGlvbiBhcyBhIGdSUEMgb2JqZWN0IGhpZXJhcmNoeS5cbiAqIEBwYXJhbSBwYWNrYWdlRGVmIFRoZSBwYWNrYWdlIGRlZmluaXRpb24gb2JqZWN0LlxuICogQHJldHVybiBUaGUgcmVzdWx0aW5nIGdSUEMgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBsb2FkUGFja2FnZURlZmluaXRpb24ocGFja2FnZURlZikge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qgc2VydmljZUZxbiBpbiBwYWNrYWdlRGVmKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFja2FnZURlZiwgc2VydmljZUZxbikpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSBwYWNrYWdlRGVmW3NlcnZpY2VGcW5dO1xuICAgICAgICAgICAgY29uc3QgbmFtZUNvbXBvbmVudHMgPSBzZXJ2aWNlRnFuLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBpZiAobmFtZUNvbXBvbmVudHMuc29tZSgoY29tcCkgPT4gaXNQcm90b3R5cGVQb2xsdXRlZChjb21wKSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VOYW1lID0gbmFtZUNvbXBvbmVudHNbbmFtZUNvbXBvbmVudHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHJlc3VsdDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFja2FnZU5hbWUgb2YgbmFtZUNvbXBvbmVudHMuc2xpY2UoMCwgLTEpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50W3BhY2thZ2VOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50W3BhY2thZ2VOYW1lXSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtwYWNrYWdlTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNQcm90b2J1ZlR5cGVEZWZpbml0aW9uKHNlcnZpY2UpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFtzZXJ2aWNlTmFtZV0gPSBzZXJ2aWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFtzZXJ2aWNlTmFtZV0gPSBtYWtlQ2xpZW50Q29uc3RydWN0b3Ioc2VydmljZSwgc2VydmljZU5hbWUsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFrZS1jbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Metadata = void 0;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\");\nconst LEGAL_KEY_REGEX = /^[0-9a-z_.-]+$/;\nconst LEGAL_NON_BINARY_VALUE_REGEX = /^[ -~]*$/;\nfunction isLegalKey(key) {\n    return LEGAL_KEY_REGEX.test(key);\n}\nfunction isLegalNonBinaryValue(value) {\n    return LEGAL_NON_BINARY_VALUE_REGEX.test(value);\n}\nfunction isBinaryKey(key) {\n    return key.endsWith('-bin');\n}\nfunction isCustomMetadata(key) {\n    return !key.startsWith('grpc-');\n}\nfunction normalizeKey(key) {\n    return key.toLowerCase();\n}\nfunction validate(key, value) {\n    if (!isLegalKey(key)) {\n        throw new Error('Metadata key \"' + key + '\" contains illegal characters');\n    }\n    if (value !== null && value !== undefined) {\n        if (isBinaryKey(key)) {\n            if (!Buffer.isBuffer(value)) {\n                throw new Error(\"keys that end with '-bin' must have Buffer values\");\n            }\n        }\n        else {\n            if (Buffer.isBuffer(value)) {\n                throw new Error(\"keys that don't end with '-bin' must have String values\");\n            }\n            if (!isLegalNonBinaryValue(value)) {\n                throw new Error('Metadata string value \"' + value + '\" contains illegal characters');\n            }\n        }\n    }\n}\n/**\n * A class for storing metadata. Keys are normalized to lowercase ASCII.\n */\nclass Metadata {\n    constructor(options = {}) {\n        this.internalRepr = new Map();\n        this.options = options;\n    }\n    /**\n     * Sets the given value for the given key by replacing any other values\n     * associated with that key. Normalizes the key.\n     * @param key The key to whose value should be set.\n     * @param value The value to set. Must be a buffer if and only\n     *   if the normalized key ends with '-bin'.\n     */\n    set(key, value) {\n        key = normalizeKey(key);\n        validate(key, value);\n        this.internalRepr.set(key, [value]);\n    }\n    /**\n     * Adds the given value for the given key by appending to a list of previous\n     * values associated with that key. Normalizes the key.\n     * @param key The key for which a new value should be appended.\n     * @param value The value to add. Must be a buffer if and only\n     *   if the normalized key ends with '-bin'.\n     */\n    add(key, value) {\n        key = normalizeKey(key);\n        validate(key, value);\n        const existingValue = this.internalRepr.get(key);\n        if (existingValue === undefined) {\n            this.internalRepr.set(key, [value]);\n        }\n        else {\n            existingValue.push(value);\n        }\n    }\n    /**\n     * Removes the given key and any associated values. Normalizes the key.\n     * @param key The key whose values should be removed.\n     */\n    remove(key) {\n        key = normalizeKey(key);\n        // validate(key);\n        this.internalRepr.delete(key);\n    }\n    /**\n     * Gets a list of all values associated with the key. Normalizes the key.\n     * @param key The key whose value should be retrieved.\n     * @return A list of values associated with the given key.\n     */\n    get(key) {\n        key = normalizeKey(key);\n        // validate(key);\n        return this.internalRepr.get(key) || [];\n    }\n    /**\n     * Gets a plain object mapping each key to the first value associated with it.\n     * This reflects the most common way that people will want to see metadata.\n     * @return A key/value mapping of the metadata.\n     */\n    getMap() {\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            if (values.length > 0) {\n                const v = values[0];\n                result[key] = Buffer.isBuffer(v) ? Buffer.from(v) : v;\n            }\n        }\n        return result;\n    }\n    /**\n     * Clones the metadata object.\n     * @return The newly cloned object.\n     */\n    clone() {\n        const newMetadata = new Metadata(this.options);\n        const newInternalRepr = newMetadata.internalRepr;\n        for (const [key, value] of this.internalRepr) {\n            const clonedValue = value.map(v => {\n                if (Buffer.isBuffer(v)) {\n                    return Buffer.from(v);\n                }\n                else {\n                    return v;\n                }\n            });\n            newInternalRepr.set(key, clonedValue);\n        }\n        return newMetadata;\n    }\n    /**\n     * Merges all key-value pairs from a given Metadata object into this one.\n     * If both this object and the given object have values in the same key,\n     * values from the other Metadata object will be appended to this object's\n     * values.\n     * @param other A Metadata object.\n     */\n    merge(other) {\n        for (const [key, values] of other.internalRepr) {\n            const mergedValue = (this.internalRepr.get(key) || []).concat(values);\n            this.internalRepr.set(key, mergedValue);\n        }\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    getOptions() {\n        return this.options;\n    }\n    /**\n     * Creates an OutgoingHttpHeaders object that can be used with the http2 API.\n     */\n    toHttp2Headers() {\n        // NOTE: Node <8.9 formats http2 headers incorrectly.\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            // We assume that the user's interaction with this object is limited to\n            // through its public API (i.e. keys and values are already validated).\n            result[key] = values.map(bufToString);\n        }\n        return result;\n    }\n    /**\n     * This modifies the behavior of JSON.stringify to show an object\n     * representation of the metadata map.\n     */\n    toJSON() {\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            result[key] = values;\n        }\n        return result;\n    }\n    /**\n     * Returns a new Metadata object based fields in a given IncomingHttpHeaders\n     * object.\n     * @param headers An IncomingHttpHeaders object.\n     */\n    static fromHttp2Headers(headers) {\n        const result = new Metadata();\n        for (const key of Object.keys(headers)) {\n            // Reserved headers (beginning with `:`) are not valid keys.\n            if (key.charAt(0) === ':') {\n                continue;\n            }\n            const values = headers[key];\n            try {\n                if (isBinaryKey(key)) {\n                    if (Array.isArray(values)) {\n                        values.forEach(value => {\n                            result.add(key, Buffer.from(value, 'base64'));\n                        });\n                    }\n                    else if (values !== undefined) {\n                        if (isCustomMetadata(key)) {\n                            values.split(',').forEach(v => {\n                                result.add(key, Buffer.from(v.trim(), 'base64'));\n                            });\n                        }\n                        else {\n                            result.add(key, Buffer.from(values, 'base64'));\n                        }\n                    }\n                }\n                else {\n                    if (Array.isArray(values)) {\n                        values.forEach(value => {\n                            result.add(key, value);\n                        });\n                    }\n                    else if (values !== undefined) {\n                        result.add(key, values);\n                    }\n                }\n            }\n            catch (error) {\n                const message = `Failed to add metadata entry ${key}: ${values}. ${(0, error_1.getErrorMessage)(error)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;\n                (0, logging_1.log)(constants_1.LogVerbosity.ERROR, message);\n            }\n        }\n        return result;\n    }\n}\nexports.Metadata = Metadata;\nconst bufToString = (val) => {\n    return Buffer.isBuffer(val) ? val.toString('base64') : val;\n};\n//# sourceMappingURL=metadata.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9tZXRhZGF0YS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixrQkFBa0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNyQyxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QyxnQkFBZ0IsbUJBQU8sQ0FBQyx5R0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxJQUFJLElBQUksT0FBTyxJQUFJLG9DQUFvQztBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9tZXRhZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NZXRhZGF0YSA9IHZvaWQgMDtcbmNvbnN0IGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbmNvbnN0IExFR0FMX0tFWV9SRUdFWCA9IC9eWzAtOWEtel8uLV0rJC87XG5jb25zdCBMRUdBTF9OT05fQklOQVJZX1ZBTFVFX1JFR0VYID0gL15bIC1+XSokLztcbmZ1bmN0aW9uIGlzTGVnYWxLZXkoa2V5KSB7XG4gICAgcmV0dXJuIExFR0FMX0tFWV9SRUdFWC50ZXN0KGtleSk7XG59XG5mdW5jdGlvbiBpc0xlZ2FsTm9uQmluYXJ5VmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gTEVHQUxfTk9OX0JJTkFSWV9WQUxVRV9SRUdFWC50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzQmluYXJ5S2V5KGtleSkge1xuICAgIHJldHVybiBrZXkuZW5kc1dpdGgoJy1iaW4nKTtcbn1cbmZ1bmN0aW9uIGlzQ3VzdG9tTWV0YWRhdGEoa2V5KSB7XG4gICAgcmV0dXJuICFrZXkuc3RhcnRzV2l0aCgnZ3JwYy0nKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZShrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFpc0xlZ2FsS2V5KGtleSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRhZGF0YSBrZXkgXCInICsga2V5ICsgJ1wiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycycpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNCaW5hcnlLZXkoa2V5KSkge1xuICAgICAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2V5cyB0aGF0IGVuZCB3aXRoICctYmluJyBtdXN0IGhhdmUgQnVmZmVyIHZhbHVlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2V5cyB0aGF0IGRvbid0IGVuZCB3aXRoICctYmluJyBtdXN0IGhhdmUgU3RyaW5nIHZhbHVlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNMZWdhbE5vbkJpbmFyeVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0YWRhdGEgc3RyaW5nIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIGNsYXNzIGZvciBzdG9yaW5nIG1ldGFkYXRhLiBLZXlzIGFyZSBub3JtYWxpemVkIHRvIGxvd2VyY2FzZSBBU0NJSS5cbiAqL1xuY2xhc3MgTWV0YWRhdGEge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmludGVybmFsUmVwciA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmFsdWUgZm9yIHRoZSBnaXZlbiBrZXkgYnkgcmVwbGFjaW5nIGFueSBvdGhlciB2YWx1ZXNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhhdCBrZXkuIE5vcm1hbGl6ZXMgdGhlIGtleS5cbiAgICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gd2hvc2UgdmFsdWUgc2hvdWxkIGJlIHNldC5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC4gTXVzdCBiZSBhIGJ1ZmZlciBpZiBhbmQgb25seVxuICAgICAqICAgaWYgdGhlIG5vcm1hbGl6ZWQga2V5IGVuZHMgd2l0aCAnLWJpbicuXG4gICAgICovXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICAgIHZhbGlkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB0aGlzLmludGVybmFsUmVwci5zZXQoa2V5LCBbdmFsdWVdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgZ2l2ZW4gdmFsdWUgZm9yIHRoZSBnaXZlbiBrZXkgYnkgYXBwZW5kaW5nIHRvIGEgbGlzdCBvZiBwcmV2aW91c1xuICAgICAqIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhhdCBrZXkuIE5vcm1hbGl6ZXMgdGhlIGtleS5cbiAgICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgZm9yIHdoaWNoIGEgbmV3IHZhbHVlIHNob3VsZCBiZSBhcHBlbmRlZC5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGFkZC4gTXVzdCBiZSBhIGJ1ZmZlciBpZiBhbmQgb25seVxuICAgICAqICAgaWYgdGhlIG5vcm1hbGl6ZWQga2V5IGVuZHMgd2l0aCAnLWJpbicuXG4gICAgICovXG4gICAgYWRkKGtleSwgdmFsdWUpIHtcbiAgICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICAgIHZhbGlkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gdGhpcy5pbnRlcm5hbFJlcHIuZ2V0KGtleSk7XG4gICAgICAgIGlmIChleGlzdGluZ1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxSZXByLnNldChrZXksIFt2YWx1ZV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhpc3RpbmdWYWx1ZS5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBrZXkgYW5kIGFueSBhc3NvY2lhdGVkIHZhbHVlcy4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB3aG9zZSB2YWx1ZXMgc2hvdWxkIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgcmVtb3ZlKGtleSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgLy8gdmFsaWRhdGUoa2V5KTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFJlcHIuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSBsaXN0IG9mIGFsbCB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXkuIE5vcm1hbGl6ZXMgdGhlIGtleS5cbiAgICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgd2hvc2UgdmFsdWUgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAgICAgKiBAcmV0dXJuIEEgbGlzdCBvZiB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gICAgICovXG4gICAgZ2V0KGtleSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgLy8gdmFsaWRhdGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxSZXByLmdldChrZXkpIHx8IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcGxhaW4gb2JqZWN0IG1hcHBpbmcgZWFjaCBrZXkgdG8gdGhlIGZpcnN0IHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgICAgKiBUaGlzIHJlZmxlY3RzIHRoZSBtb3N0IGNvbW1vbiB3YXkgdGhhdCBwZW9wbGUgd2lsbCB3YW50IHRvIHNlZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJuIEEga2V5L3ZhbHVlIG1hcHBpbmcgb2YgdGhlIG1ldGFkYXRhLlxuICAgICAqL1xuICAgIGdldE1hcCgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiB0aGlzLmludGVybmFsUmVwcikge1xuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHZhbHVlc1swXTtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IEJ1ZmZlci5pc0J1ZmZlcih2KSA/IEJ1ZmZlci5mcm9tKHYpIDogdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG1ldGFkYXRhIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIFRoZSBuZXdseSBjbG9uZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBuZXdNZXRhZGF0YSA9IG5ldyBNZXRhZGF0YSh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBuZXdJbnRlcm5hbFJlcHIgPSBuZXdNZXRhZGF0YS5pbnRlcm5hbFJlcHI7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICBjb25zdCBjbG9uZWRWYWx1ZSA9IHZhbHVlLm1hcCh2ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuZnJvbSh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3SW50ZXJuYWxSZXByLnNldChrZXksIGNsb25lZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3TWV0YWRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lcmdlcyBhbGwga2V5LXZhbHVlIHBhaXJzIGZyb20gYSBnaXZlbiBNZXRhZGF0YSBvYmplY3QgaW50byB0aGlzIG9uZS5cbiAgICAgKiBJZiBib3RoIHRoaXMgb2JqZWN0IGFuZCB0aGUgZ2l2ZW4gb2JqZWN0IGhhdmUgdmFsdWVzIGluIHRoZSBzYW1lIGtleSxcbiAgICAgKiB2YWx1ZXMgZnJvbSB0aGUgb3RoZXIgTWV0YWRhdGEgb2JqZWN0IHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhpcyBvYmplY3Qnc1xuICAgICAqIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gb3RoZXIgQSBNZXRhZGF0YSBvYmplY3QuXG4gICAgICovXG4gICAgbWVyZ2Uob3RoZXIpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIG90aGVyLmludGVybmFsUmVwcikge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkVmFsdWUgPSAodGhpcy5pbnRlcm5hbFJlcHIuZ2V0KGtleSkgfHwgW10pLmNvbmNhdCh2YWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFJlcHIuc2V0KGtleSwgbWVyZ2VkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBnZXRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIE91dGdvaW5nSHR0cEhlYWRlcnMgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB0aGUgaHR0cDIgQVBJLlxuICAgICAqL1xuICAgIHRvSHR0cDJIZWFkZXJzKCkge1xuICAgICAgICAvLyBOT1RFOiBOb2RlIDw4LjkgZm9ybWF0cyBodHRwMiBoZWFkZXJzIGluY29ycmVjdGx5LlxuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIHRoaXMuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgdXNlcidzIGludGVyYWN0aW9uIHdpdGggdGhpcyBvYmplY3QgaXMgbGltaXRlZCB0b1xuICAgICAgICAgICAgLy8gdGhyb3VnaCBpdHMgcHVibGljIEFQSSAoaS5lLiBrZXlzIGFuZCB2YWx1ZXMgYXJlIGFscmVhZHkgdmFsaWRhdGVkKS5cbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVzLm1hcChidWZUb1N0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtb2RpZmllcyB0aGUgYmVoYXZpb3Igb2YgSlNPTi5zdHJpbmdpZnkgdG8gc2hvdyBhbiBvYmplY3RcbiAgICAgKiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWV0YWRhdGEgbWFwLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiB0aGlzLmludGVybmFsUmVwcikge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBNZXRhZGF0YSBvYmplY3QgYmFzZWQgZmllbGRzIGluIGEgZ2l2ZW4gSW5jb21pbmdIdHRwSGVhZGVyc1xuICAgICAqIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gaGVhZGVycyBBbiBJbmNvbWluZ0h0dHBIZWFkZXJzIG9iamVjdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUh0dHAySGVhZGVycyhoZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBNZXRhZGF0YSgpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgLy8gUmVzZXJ2ZWQgaGVhZGVycyAoYmVnaW5uaW5nIHdpdGggYDpgKSBhcmUgbm90IHZhbGlkIGtleXMuXG4gICAgICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBoZWFkZXJzW2tleV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpc0JpbmFyeUtleShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgQnVmZmVyLmZyb20odmFsdWUsICdiYXNlNjQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ3VzdG9tTWV0YWRhdGEoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5zcGxpdCgnLCcpLmZvckVhY2godiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoa2V5LCBCdWZmZXIuZnJvbSh2LnRyaW0oKSwgJ2Jhc2U2NCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoa2V5LCBCdWZmZXIuZnJvbSh2YWx1ZXMsICdiYXNlNjQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoa2V5LCB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBGYWlsZWQgdG8gYWRkIG1ldGFkYXRhIGVudHJ5ICR7a2V5fTogJHt2YWx1ZXN9LiAkeygwLCBlcnJvcl8xLmdldEVycm9yTWVzc2FnZSkoZXJyb3IpfS4gRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMtbm9kZS9pc3N1ZXMvMTE3M2A7XG4gICAgICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5leHBvcnRzLk1ldGFkYXRhID0gTWV0YWRhdGE7XG5jb25zdCBidWZUb1N0cmluZyA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHZhbCkgPyB2YWwudG9TdHJpbmcoJ2Jhc2U2NCcpIDogdmFsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGFkYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.QueuePicker = exports.UnavailablePicker = exports.PickResultType = void 0;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nvar PickResultType;\n(function (PickResultType) {\n    PickResultType[PickResultType[\"COMPLETE\"] = 0] = \"COMPLETE\";\n    PickResultType[PickResultType[\"QUEUE\"] = 1] = \"QUEUE\";\n    PickResultType[PickResultType[\"TRANSIENT_FAILURE\"] = 2] = \"TRANSIENT_FAILURE\";\n    PickResultType[PickResultType[\"DROP\"] = 3] = \"DROP\";\n})(PickResultType || (exports.PickResultType = PickResultType = {}));\n/**\n * A standard picker representing a load balancer in the TRANSIENT_FAILURE\n * state. Always responds to every pick request with an UNAVAILABLE status.\n */\nclass UnavailablePicker {\n    constructor(status) {\n        this.status = Object.assign({ code: constants_1.Status.UNAVAILABLE, details: 'No connection established', metadata: new metadata_1.Metadata() }, status);\n    }\n    pick(pickArgs) {\n        return {\n            pickResultType: PickResultType.TRANSIENT_FAILURE,\n            subchannel: null,\n            status: this.status,\n            onCallStarted: null,\n            onCallEnded: null,\n        };\n    }\n}\nexports.UnavailablePicker = UnavailablePicker;\n/**\n * A standard picker representing a load balancer in the IDLE or CONNECTING\n * state. Always responds to every pick request with a QUEUE pick result\n * indicating that the pick should be tried again with the next `Picker`. Also\n * reports back to the load balancer that a connection should be established\n * once any pick is attempted.\n * If the childPicker is provided, delegate to it instead of returning the\n * hardcoded QUEUE pick result, but still calls exitIdle.\n */\nclass QueuePicker {\n    // Constructed with a load balancer. Calls exitIdle on it the first time pick is called\n    constructor(loadBalancer, childPicker) {\n        this.loadBalancer = loadBalancer;\n        this.childPicker = childPicker;\n        this.calledExitIdle = false;\n    }\n    pick(pickArgs) {\n        if (!this.calledExitIdle) {\n            process.nextTick(() => {\n                this.loadBalancer.exitIdle();\n            });\n            this.calledExitIdle = true;\n        }\n        if (this.childPicker) {\n            return this.childPicker.pick(pickArgs);\n        }\n        else {\n            return {\n                pickResultType: PickResultType.QUEUE,\n                subchannel: null,\n                status: null,\n                onCallStarted: null,\n                onCallEnded: null,\n            };\n        }\n    }\n}\nexports.QueuePicker = QueuePicker;\n//# sourceMappingURL=picker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9waWNrZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsR0FBRyx5QkFBeUIsR0FBRyxzQkFBc0I7QUFDeEUsbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUIsc0JBQXNCLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsaUhBQWlIO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3BpY2tlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5RdWV1ZVBpY2tlciA9IGV4cG9ydHMuVW5hdmFpbGFibGVQaWNrZXIgPSBleHBvcnRzLlBpY2tSZXN1bHRUeXBlID0gdm9pZCAwO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgUGlja1Jlc3VsdFR5cGU7XG4oZnVuY3Rpb24gKFBpY2tSZXN1bHRUeXBlKSB7XG4gICAgUGlja1Jlc3VsdFR5cGVbUGlja1Jlc3VsdFR5cGVbXCJDT01QTEVURVwiXSA9IDBdID0gXCJDT01QTEVURVwiO1xuICAgIFBpY2tSZXN1bHRUeXBlW1BpY2tSZXN1bHRUeXBlW1wiUVVFVUVcIl0gPSAxXSA9IFwiUVVFVUVcIjtcbiAgICBQaWNrUmVzdWx0VHlwZVtQaWNrUmVzdWx0VHlwZVtcIlRSQU5TSUVOVF9GQUlMVVJFXCJdID0gMl0gPSBcIlRSQU5TSUVOVF9GQUlMVVJFXCI7XG4gICAgUGlja1Jlc3VsdFR5cGVbUGlja1Jlc3VsdFR5cGVbXCJEUk9QXCJdID0gM10gPSBcIkRST1BcIjtcbn0pKFBpY2tSZXN1bHRUeXBlIHx8IChleHBvcnRzLlBpY2tSZXN1bHRUeXBlID0gUGlja1Jlc3VsdFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBIHN0YW5kYXJkIHBpY2tlciByZXByZXNlbnRpbmcgYSBsb2FkIGJhbGFuY2VyIGluIHRoZSBUUkFOU0lFTlRfRkFJTFVSRVxuICogc3RhdGUuIEFsd2F5cyByZXNwb25kcyB0byBldmVyeSBwaWNrIHJlcXVlc3Qgd2l0aCBhbiBVTkFWQUlMQUJMRSBzdGF0dXMuXG4gKi9cbmNsYXNzIFVuYXZhaWxhYmxlUGlja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBPYmplY3QuYXNzaWduKHsgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLCBkZXRhaWxzOiAnTm8gY29ubmVjdGlvbiBlc3RhYmxpc2hlZCcsIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpIH0sIHN0YXR1cyk7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBQaWNrUmVzdWx0VHlwZS5UUkFOU0lFTlRfRkFJTFVSRSxcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgb25DYWxsU3RhcnRlZDogbnVsbCxcbiAgICAgICAgICAgIG9uQ2FsbEVuZGVkOiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuVW5hdmFpbGFibGVQaWNrZXIgPSBVbmF2YWlsYWJsZVBpY2tlcjtcbi8qKlxuICogQSBzdGFuZGFyZCBwaWNrZXIgcmVwcmVzZW50aW5nIGEgbG9hZCBiYWxhbmNlciBpbiB0aGUgSURMRSBvciBDT05ORUNUSU5HXG4gKiBzdGF0ZS4gQWx3YXlzIHJlc3BvbmRzIHRvIGV2ZXJ5IHBpY2sgcmVxdWVzdCB3aXRoIGEgUVVFVUUgcGljayByZXN1bHRcbiAqIGluZGljYXRpbmcgdGhhdCB0aGUgcGljayBzaG91bGQgYmUgdHJpZWQgYWdhaW4gd2l0aCB0aGUgbmV4dCBgUGlja2VyYC4gQWxzb1xuICogcmVwb3J0cyBiYWNrIHRvIHRoZSBsb2FkIGJhbGFuY2VyIHRoYXQgYSBjb25uZWN0aW9uIHNob3VsZCBiZSBlc3RhYmxpc2hlZFxuICogb25jZSBhbnkgcGljayBpcyBhdHRlbXB0ZWQuXG4gKiBJZiB0aGUgY2hpbGRQaWNrZXIgaXMgcHJvdmlkZWQsIGRlbGVnYXRlIHRvIGl0IGluc3RlYWQgb2YgcmV0dXJuaW5nIHRoZVxuICogaGFyZGNvZGVkIFFVRVVFIHBpY2sgcmVzdWx0LCBidXQgc3RpbGwgY2FsbHMgZXhpdElkbGUuXG4gKi9cbmNsYXNzIFF1ZXVlUGlja2VyIHtcbiAgICAvLyBDb25zdHJ1Y3RlZCB3aXRoIGEgbG9hZCBiYWxhbmNlci4gQ2FsbHMgZXhpdElkbGUgb24gaXQgdGhlIGZpcnN0IHRpbWUgcGljayBpcyBjYWxsZWRcbiAgICBjb25zdHJ1Y3Rvcihsb2FkQmFsYW5jZXIsIGNoaWxkUGlja2VyKSB7XG4gICAgICAgIHRoaXMubG9hZEJhbGFuY2VyID0gbG9hZEJhbGFuY2VyO1xuICAgICAgICB0aGlzLmNoaWxkUGlja2VyID0gY2hpbGRQaWNrZXI7XG4gICAgICAgIHRoaXMuY2FsbGVkRXhpdElkbGUgPSBmYWxzZTtcbiAgICB9XG4gICAgcGljayhwaWNrQXJncykge1xuICAgICAgICBpZiAoIXRoaXMuY2FsbGVkRXhpdElkbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGVkRXhpdElkbGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoaWxkUGlja2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZFBpY2tlci5waWNrKHBpY2tBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGlja1Jlc3VsdFR5cGU6IFBpY2tSZXN1bHRUeXBlLlFVRVVFLFxuICAgICAgICAgICAgICAgIHN1YmNoYW5uZWw6IG51bGwsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBudWxsLFxuICAgICAgICAgICAgICAgIG9uQ2FsbFN0YXJ0ZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgb25DYWxsRW5kZWQ6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5RdWV1ZVBpY2tlciA9IFF1ZXVlUGlja2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlja2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DEFAULT_PORT = void 0;\nexports.setup = setup;\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst dns_1 = __webpack_require__(/*! dns */ \"dns\");\nconst service_config_1 = __webpack_require__(/*! ./service-config */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst environment_1 = __webpack_require__(/*! ./environment */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js\");\nconst TRACER_NAME = 'dns_resolver';\nfunction trace(text) {\n    logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nexports.DEFAULT_PORT = 443;\nconst DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS = 30000;\n/**\n * Resolver implementation that handles DNS names and IP addresses.\n */\nclass DnsResolver {\n    constructor(target, listener, channelOptions) {\n        var _a, _b, _c;\n        this.target = target;\n        this.listener = listener;\n        this.pendingLookupPromise = null;\n        this.pendingTxtPromise = null;\n        this.latestLookupResult = null;\n        this.latestServiceConfig = null;\n        this.latestServiceConfigError = null;\n        this.continueResolving = false;\n        this.isNextResolutionTimerRunning = false;\n        this.isServiceConfigEnabled = true;\n        this.returnedIpResult = false;\n        this.alternativeResolver = new dns_1.promises.Resolver();\n        trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n        if (target.authority) {\n            this.alternativeResolver.setServers([target.authority]);\n        }\n        const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n        if (hostPort === null) {\n            this.ipResult = null;\n            this.dnsHostname = null;\n            this.port = null;\n        }\n        else {\n            if ((0, net_1.isIPv4)(hostPort.host) || (0, net_1.isIPv6)(hostPort.host)) {\n                this.ipResult = [\n                    {\n                        addresses: [\n                            {\n                                host: hostPort.host,\n                                port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : exports.DEFAULT_PORT,\n                            },\n                        ],\n                    },\n                ];\n                this.dnsHostname = null;\n                this.port = null;\n            }\n            else {\n                this.ipResult = null;\n                this.dnsHostname = hostPort.host;\n                this.port = (_b = hostPort.port) !== null && _b !== void 0 ? _b : exports.DEFAULT_PORT;\n            }\n        }\n        this.percentage = Math.random() * 100;\n        if (channelOptions['grpc.service_config_disable_resolution'] === 1) {\n            this.isServiceConfigEnabled = false;\n        }\n        this.defaultResolutionError = {\n            code: constants_1.Status.UNAVAILABLE,\n            details: `Name resolution failed for target ${(0, uri_parser_1.uriToString)(this.target)}`,\n            metadata: new metadata_1.Metadata(),\n        };\n        const backoffOptions = {\n            initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: channelOptions['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoff = new backoff_timeout_1.BackoffTimeout(() => {\n            if (this.continueResolving) {\n                this.startResolutionWithBackoff();\n            }\n        }, backoffOptions);\n        this.backoff.unref();\n        this.minTimeBetweenResolutionsMs =\n            (_c = channelOptions['grpc.dns_min_time_between_resolutions_ms']) !== null && _c !== void 0 ? _c : DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS;\n        this.nextResolutionTimer = setTimeout(() => { }, 0);\n        clearTimeout(this.nextResolutionTimer);\n    }\n    /**\n     * If the target is an IP address, just provide that address as a result.\n     * Otherwise, initiate A, AAAA, and TXT lookups\n     */\n    startResolution() {\n        if (this.ipResult !== null) {\n            if (!this.returnedIpResult) {\n                trace('Returning IP address for target ' + (0, uri_parser_1.uriToString)(this.target));\n                setImmediate(() => {\n                    this.listener.onSuccessfulResolution(this.ipResult, null, null, null, {});\n                });\n                this.returnedIpResult = true;\n            }\n            this.backoff.stop();\n            this.backoff.reset();\n            this.stopNextResolutionTimer();\n            return;\n        }\n        if (this.dnsHostname === null) {\n            trace('Failed to parse DNS address ' + (0, uri_parser_1.uriToString)(this.target));\n            setImmediate(() => {\n                this.listener.onError({\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse DNS address ${(0, uri_parser_1.uriToString)(this.target)}`,\n                    metadata: new metadata_1.Metadata(),\n                });\n            });\n            this.stopNextResolutionTimer();\n        }\n        else {\n            if (this.pendingLookupPromise !== null) {\n                return;\n            }\n            trace('Looking up DNS hostname ' + this.dnsHostname);\n            /* We clear out latestLookupResult here to ensure that it contains the\n             * latest result since the last time we started resolving. That way, the\n             * TXT resolution handler can use it, but only if it finishes second. We\n             * don't clear out any previous service config results because it's\n             * better to use a service config that's slightly out of date than to\n             * revert to an effectively blank one. */\n            this.latestLookupResult = null;\n            const hostname = this.dnsHostname;\n            this.pendingLookupPromise = this.lookup(hostname);\n            this.pendingLookupPromise.then(addressList => {\n                if (this.pendingLookupPromise === null) {\n                    return;\n                }\n                this.pendingLookupPromise = null;\n                this.backoff.reset();\n                this.backoff.stop();\n                this.latestLookupResult = addressList.map(address => ({\n                    addresses: [address],\n                }));\n                const allAddressesString = '[' +\n                    addressList.map(addr => addr.host + ':' + addr.port).join(',') +\n                    ']';\n                trace('Resolved addresses for target ' +\n                    (0, uri_parser_1.uriToString)(this.target) +\n                    ': ' +\n                    allAddressesString);\n                if (this.latestLookupResult.length === 0) {\n                    this.listener.onError(this.defaultResolutionError);\n                    return;\n                }\n                /* If the TXT lookup has not yet finished, both of the last two\n                 * arguments will be null, which is the equivalent of getting an\n                 * empty TXT response. When the TXT lookup does finish, its handler\n                 * can update the service config by using the same address list */\n                this.listener.onSuccessfulResolution(this.latestLookupResult, this.latestServiceConfig, this.latestServiceConfigError, null, {});\n            }, err => {\n                if (this.pendingLookupPromise === null) {\n                    return;\n                }\n                trace('Resolution error for target ' +\n                    (0, uri_parser_1.uriToString)(this.target) +\n                    ': ' +\n                    err.message);\n                this.pendingLookupPromise = null;\n                this.stopNextResolutionTimer();\n                this.listener.onError(this.defaultResolutionError);\n            });\n            /* If there already is a still-pending TXT resolution, we can just use\n             * that result when it comes in */\n            if (this.isServiceConfigEnabled && this.pendingTxtPromise === null) {\n                /* We handle the TXT query promise differently than the others because\n                 * the name resolution attempt as a whole is a success even if the TXT\n                 * lookup fails */\n                this.pendingTxtPromise = this.resolveTxt(hostname);\n                this.pendingTxtPromise.then(txtRecord => {\n                    if (this.pendingTxtPromise === null) {\n                        return;\n                    }\n                    this.pendingTxtPromise = null;\n                    try {\n                        this.latestServiceConfig = (0, service_config_1.extractAndSelectServiceConfig)(txtRecord, this.percentage);\n                    }\n                    catch (err) {\n                        this.latestServiceConfigError = {\n                            code: constants_1.Status.UNAVAILABLE,\n                            details: `Parsing service config failed with error ${err.message}`,\n                            metadata: new metadata_1.Metadata(),\n                        };\n                    }\n                    if (this.latestLookupResult !== null) {\n                        /* We rely here on the assumption that calling this function with\n                         * identical parameters will be essentialy idempotent, and calling\n                         * it with the same address list and a different service config\n                         * should result in a fast and seamless switchover. */\n                        this.listener.onSuccessfulResolution(this.latestLookupResult, this.latestServiceConfig, this.latestServiceConfigError, null, {});\n                    }\n                }, err => {\n                    /* If TXT lookup fails we should do nothing, which means that we\n                     * continue to use the result of the most recent successful lookup,\n                     * or the default null config object if there has never been a\n                     * successful lookup. We do not set the latestServiceConfigError\n                     * here because that is specifically used for response validation\n                     * errors. We still need to handle this error so that it does not\n                     * bubble up as an unhandled promise rejection. */\n                });\n            }\n        }\n    }\n    async lookup(hostname) {\n        if (environment_1.GRPC_NODE_USE_ALTERNATIVE_RESOLVER) {\n            trace('Using alternative DNS resolver.');\n            const records = await Promise.allSettled([\n                this.alternativeResolver.resolve4(hostname),\n                this.alternativeResolver.resolve6(hostname),\n            ]);\n            if (records.every(result => result.status === 'rejected')) {\n                throw new Error(records[0].reason);\n            }\n            return records\n                .reduce((acc, result) => {\n                return result.status === 'fulfilled'\n                    ? [...acc, ...result.value]\n                    : acc;\n            }, [])\n                .map(addr => ({\n                host: addr,\n                port: +this.port,\n            }));\n        }\n        /* We lookup both address families here and then split them up later\n         * because when looking up a single family, dns.lookup outputs an error\n         * if the name exists but there are no records for that family, and that\n         * error is indistinguishable from other kinds of errors */\n        const addressList = await dns_1.promises.lookup(hostname, { all: true });\n        return addressList.map(addr => ({ host: addr.address, port: +this.port }));\n    }\n    async resolveTxt(hostname) {\n        if (environment_1.GRPC_NODE_USE_ALTERNATIVE_RESOLVER) {\n            trace('Using alternative DNS resolver.');\n            return this.alternativeResolver.resolveTxt(hostname);\n        }\n        return dns_1.promises.resolveTxt(hostname);\n    }\n    startNextResolutionTimer() {\n        var _a, _b;\n        clearTimeout(this.nextResolutionTimer);\n        this.nextResolutionTimer = setTimeout(() => {\n            this.stopNextResolutionTimer();\n            if (this.continueResolving) {\n                this.startResolutionWithBackoff();\n            }\n        }, this.minTimeBetweenResolutionsMs);\n        (_b = (_a = this.nextResolutionTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.isNextResolutionTimerRunning = true;\n    }\n    stopNextResolutionTimer() {\n        clearTimeout(this.nextResolutionTimer);\n        this.isNextResolutionTimerRunning = false;\n    }\n    startResolutionWithBackoff() {\n        if (this.pendingLookupPromise === null) {\n            this.continueResolving = false;\n            this.backoff.runOnce();\n            this.startNextResolutionTimer();\n            this.startResolution();\n        }\n    }\n    updateResolution() {\n        /* If there is a pending lookup, just let it finish. Otherwise, if the\n         * nextResolutionTimer or backoff timer is running, set the\n         * continueResolving flag to resolve when whichever of those timers\n         * fires. Otherwise, start resolving immediately. */\n        if (this.pendingLookupPromise === null) {\n            if (this.isNextResolutionTimerRunning || this.backoff.isRunning()) {\n                if (this.isNextResolutionTimerRunning) {\n                    trace('resolution update delayed by \"min time between resolutions\" rate limit');\n                }\n                else {\n                    trace('resolution update delayed by backoff timer until ' +\n                        this.backoff.getEndTime().toISOString());\n                }\n                this.continueResolving = true;\n            }\n            else {\n                this.startResolutionWithBackoff();\n            }\n        }\n    }\n    /**\n     * Reset the resolver to the same state it had when it was created. In-flight\n     * DNS requests cannot be cancelled, but they are discarded and their results\n     * will be ignored.\n     */\n    destroy() {\n        this.continueResolving = false;\n        this.backoff.reset();\n        this.backoff.stop();\n        this.stopNextResolutionTimer();\n        this.pendingLookupPromise = null;\n        this.pendingTxtPromise = null;\n        this.latestLookupResult = null;\n        this.latestServiceConfig = null;\n        this.latestServiceConfigError = null;\n        this.returnedIpResult = false;\n    }\n    /**\n     * Get the default authority for the given target. For IP targets, that is\n     * the IP address. For DNS targets, it is the hostname.\n     * @param target\n     */\n    static getDefaultAuthority(target) {\n        return target.path;\n    }\n}\n/**\n * Set up the DNS resolver class by registering it as the handler for the\n * \"dns:\" prefix and as the default resolver.\n */\nfunction setup() {\n    (0, resolver_1.registerResolver)('dns', DnsResolver);\n    (0, resolver_1.registerDefaultScheme)('dns');\n}\n//# sourceMappingURL=resolver-dns.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZlci1kbnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGFBQWE7QUFDYixtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2QyxjQUFjLG1CQUFPLENBQUMsZ0JBQUs7QUFDM0IseUJBQXlCLG1CQUFPLENBQUMsMkhBQWtCO0FBQ25ELG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLHFCQUFxQixtQkFBTyxDQUFDLG1IQUFjO0FBQzNDLGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQiwwQkFBMEIsbUJBQU8sQ0FBQyw2SEFBbUI7QUFDckQsc0JBQXNCLG1CQUFPLENBQUMscUhBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsMkNBQTJDO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGO0FBQzVGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsMkNBQTJDO0FBQ3ZHO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrSUFBK0k7QUFDL0ksYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixZQUFZO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1SkFBdUo7QUFDdko7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLFdBQVc7QUFDL0UsMENBQTBDLHNDQUFzQztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItZG5zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuREVGQVVMVF9QT1JUID0gdm9pZCAwO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgZG5zXzEgPSByZXF1aXJlKFwiZG5zXCIpO1xuY29uc3Qgc2VydmljZV9jb25maWdfMSA9IHJlcXVpcmUoXCIuL3NlcnZpY2UtY29uZmlnXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18yID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IG5ldF8xID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IGJhY2tvZmZfdGltZW91dF8xID0gcmVxdWlyZShcIi4vYmFja29mZi10aW1lb3V0XCIpO1xuY29uc3QgZW52aXJvbm1lbnRfMSA9IHJlcXVpcmUoXCIuL2Vudmlyb25tZW50XCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnZG5zX3Jlc29sdmVyJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18yLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuLyoqXG4gKiBUaGUgZGVmYXVsdCBUQ1AgcG9ydCB0byBjb25uZWN0IHRvIGlmIG5vdCBleHBsaWNpdGx5IHNwZWNpZmllZCBpbiB0aGUgdGFyZ2V0LlxuICovXG5leHBvcnRzLkRFRkFVTFRfUE9SVCA9IDQ0MztcbmNvbnN0IERFRkFVTFRfTUlOX1RJTUVfQkVUV0VFTl9SRVNPTFVUSU9OU19NUyA9IDMwMDAwO1xuLyoqXG4gKiBSZXNvbHZlciBpbXBsZW1lbnRhdGlvbiB0aGF0IGhhbmRsZXMgRE5TIG5hbWVzIGFuZCBJUCBhZGRyZXNzZXMuXG4gKi9cbmNsYXNzIERuc1Jlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGxpc3RlbmVyLCBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ0Vycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTmV4dFJlc29sdXRpb25UaW1lclJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1NlcnZpY2VDb25maWdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXR1cm5lZElwUmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlciA9IG5ldyBkbnNfMS5wcm9taXNlcy5SZXNvbHZlcigpO1xuICAgICAgICB0cmFjZSgnUmVzb2x2ZXIgY29uc3RydWN0ZWQgZm9yIHRhcmdldCAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSk7XG4gICAgICAgIGlmICh0YXJnZXQuYXV0aG9yaXR5KSB7XG4gICAgICAgICAgICB0aGlzLmFsdGVybmF0aXZlUmVzb2x2ZXIuc2V0U2VydmVycyhbdGFyZ2V0LmF1dGhvcml0eV0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0YXJnZXQucGF0aCk7XG4gICAgICAgIGlmIChob3N0UG9ydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pcFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRuc0hvc3RuYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucG9ydCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKDAsIG5ldF8xLmlzSVB2NCkoaG9zdFBvcnQuaG9zdCkgfHwgKDAsIG5ldF8xLmlzSVB2NikoaG9zdFBvcnQuaG9zdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlwUmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IGhvc3RQb3J0Lmhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IChfYSA9IGhvc3RQb3J0LnBvcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4cG9ydHMuREVGQVVMVF9QT1JULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgdGhpcy5kbnNIb3N0bmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaXBSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZG5zSG9zdG5hbWUgPSBob3N0UG9ydC5ob3N0O1xuICAgICAgICAgICAgICAgIHRoaXMucG9ydCA9IChfYiA9IGhvc3RQb3J0LnBvcnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGV4cG9ydHMuREVGQVVMVF9QT1JUO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVyY2VudGFnZSA9IE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgICAgIGlmIChjaGFubmVsT3B0aW9uc1snZ3JwYy5zZXJ2aWNlX2NvbmZpZ19kaXNhYmxlX3Jlc29sdXRpb24nXSA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5pc1NlcnZpY2VDb25maWdFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWZhdWx0UmVzb2x1dGlvbkVycm9yID0ge1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgZGV0YWlsczogYE5hbWUgcmVzb2x1dGlvbiBmYWlsZWQgZm9yIHRhcmdldCAkeygwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KX1gLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJhY2tvZmZPcHRpb25zID0ge1xuICAgICAgICAgICAgaW5pdGlhbERlbGF5OiBjaGFubmVsT3B0aW9uc1snZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJ10sXG4gICAgICAgICAgICBtYXhEZWxheTogY2hhbm5lbE9wdGlvbnNbJ2dycGMubWF4X3JlY29ubmVjdF9iYWNrb2ZmX21zJ10sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYmFja29mZiA9IG5ldyBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250aW51ZVJlc29sdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSZXNvbHV0aW9uV2l0aEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYmFja29mZk9wdGlvbnMpO1xuICAgICAgICB0aGlzLmJhY2tvZmYudW5yZWYoKTtcbiAgICAgICAgdGhpcy5taW5UaW1lQmV0d2VlblJlc29sdXRpb25zTXMgPVxuICAgICAgICAgICAgKF9jID0gY2hhbm5lbE9wdGlvbnNbJ2dycGMuZG5zX21pbl90aW1lX2JldHdlZW5fcmVzb2x1dGlvbnNfbXMnXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogREVGQVVMVF9NSU5fVElNRV9CRVRXRUVOX1JFU09MVVRJT05TX01TO1xuICAgICAgICB0aGlzLm5leHRSZXNvbHV0aW9uVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsgfSwgMCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm5leHRSZXNvbHV0aW9uVGltZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IGlzIGFuIElQIGFkZHJlc3MsIGp1c3QgcHJvdmlkZSB0aGF0IGFkZHJlc3MgYXMgYSByZXN1bHQuXG4gICAgICogT3RoZXJ3aXNlLCBpbml0aWF0ZSBBLCBBQUFBLCBhbmQgVFhUIGxvb2t1cHNcbiAgICAgKi9cbiAgICBzdGFydFJlc29sdXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmlwUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmV0dXJuZWRJcFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRyYWNlKCdSZXR1cm5pbmcgSVAgYWRkcmVzcyBmb3IgdGFyZ2V0ICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkpO1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25TdWNjZXNzZnVsUmVzb2x1dGlvbih0aGlzLmlwUmVzdWx0LCBudWxsLCBudWxsLCBudWxsLCB7fSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXR1cm5lZElwUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kbnNIb3N0bmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdHJhY2UoJ0ZhaWxlZCB0byBwYXJzZSBETlMgYWRkcmVzcyAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpKTtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vbkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgRmFpbGVkIHRvIHBhcnNlIEROUyBhZGRyZXNzICR7KDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0b3BOZXh0UmVzb2x1dGlvblRpbWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlKCdMb29raW5nIHVwIEROUyBob3N0bmFtZSAnICsgdGhpcy5kbnNIb3N0bmFtZSk7XG4gICAgICAgICAgICAvKiBXZSBjbGVhciBvdXQgbGF0ZXN0TG9va3VwUmVzdWx0IGhlcmUgdG8gZW5zdXJlIHRoYXQgaXQgY29udGFpbnMgdGhlXG4gICAgICAgICAgICAgKiBsYXRlc3QgcmVzdWx0IHNpbmNlIHRoZSBsYXN0IHRpbWUgd2Ugc3RhcnRlZCByZXNvbHZpbmcuIFRoYXQgd2F5LCB0aGVcbiAgICAgICAgICAgICAqIFRYVCByZXNvbHV0aW9uIGhhbmRsZXIgY2FuIHVzZSBpdCwgYnV0IG9ubHkgaWYgaXQgZmluaXNoZXMgc2Vjb25kLiBXZVxuICAgICAgICAgICAgICogZG9uJ3QgY2xlYXIgb3V0IGFueSBwcmV2aW91cyBzZXJ2aWNlIGNvbmZpZyByZXN1bHRzIGJlY2F1c2UgaXQnc1xuICAgICAgICAgICAgICogYmV0dGVyIHRvIHVzZSBhIHNlcnZpY2UgY29uZmlnIHRoYXQncyBzbGlnaHRseSBvdXQgb2YgZGF0ZSB0aGFuIHRvXG4gICAgICAgICAgICAgKiByZXZlcnQgdG8gYW4gZWZmZWN0aXZlbHkgYmxhbmsgb25lLiAqL1xuICAgICAgICAgICAgdGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgaG9zdG5hbWUgPSB0aGlzLmRuc0hvc3RuYW1lO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IHRoaXMubG9va3VwKGhvc3RuYW1lKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UudGhlbihhZGRyZXNzTGlzdCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdMb29rdXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmYuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0ID0gYWRkcmVzc0xpc3QubWFwKGFkZHJlc3MgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc2VzOiBbYWRkcmVzc10sXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEFkZHJlc3Nlc1N0cmluZyA9ICdbJyArXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NMaXN0Lm1hcChhZGRyID0+IGFkZHIuaG9zdCArICc6JyArIGFkZHIucG9ydCkuam9pbignLCcpICtcbiAgICAgICAgICAgICAgICAgICAgJ10nO1xuICAgICAgICAgICAgICAgIHRyYWNlKCdSZXNvbHZlZCBhZGRyZXNzZXMgZm9yIHRhcmdldCAnICtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpICtcbiAgICAgICAgICAgICAgICAgICAgJzogJyArXG4gICAgICAgICAgICAgICAgICAgIGFsbEFkZHJlc3Nlc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uRXJyb3IodGhpcy5kZWZhdWx0UmVzb2x1dGlvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBJZiB0aGUgVFhUIGxvb2t1cCBoYXMgbm90IHlldCBmaW5pc2hlZCwgYm90aCBvZiB0aGUgbGFzdCB0d29cbiAgICAgICAgICAgICAgICAgKiBhcmd1bWVudHMgd2lsbCBiZSBudWxsLCB3aGljaCBpcyB0aGUgZXF1aXZhbGVudCBvZiBnZXR0aW5nIGFuXG4gICAgICAgICAgICAgICAgICogZW1wdHkgVFhUIHJlc3BvbnNlLiBXaGVuIHRoZSBUWFQgbG9va3VwIGRvZXMgZmluaXNoLCBpdHMgaGFuZGxlclxuICAgICAgICAgICAgICAgICAqIGNhbiB1cGRhdGUgdGhlIHNlcnZpY2UgY29uZmlnIGJ5IHVzaW5nIHRoZSBzYW1lIGFkZHJlc3MgbGlzdCAqL1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25TdWNjZXNzZnVsUmVzb2x1dGlvbih0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCwgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnLCB0aGlzLmxhdGVzdFNlcnZpY2VDb25maWdFcnJvciwgbnVsbCwge30pO1xuICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYWNlKCdSZXNvbHV0aW9uIGVycm9yIGZvciB0YXJnZXQgJyArXG4gICAgICAgICAgICAgICAgICAgICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSArXG4gICAgICAgICAgICAgICAgICAgICc6ICcgK1xuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wTmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25FcnJvcih0aGlzLmRlZmF1bHRSZXNvbHV0aW9uRXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKiBJZiB0aGVyZSBhbHJlYWR5IGlzIGEgc3RpbGwtcGVuZGluZyBUWFQgcmVzb2x1dGlvbiwgd2UgY2FuIGp1c3QgdXNlXG4gICAgICAgICAgICAgKiB0aGF0IHJlc3VsdCB3aGVuIGl0IGNvbWVzIGluICovXG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlcnZpY2VDb25maWdFbmFibGVkICYmIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvKiBXZSBoYW5kbGUgdGhlIFRYVCBxdWVyeSBwcm9taXNlIGRpZmZlcmVudGx5IHRoYW4gdGhlIG90aGVycyBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICogdGhlIG5hbWUgcmVzb2x1dGlvbiBhdHRlbXB0IGFzIGEgd2hvbGUgaXMgYSBzdWNjZXNzIGV2ZW4gaWYgdGhlIFRYVFxuICAgICAgICAgICAgICAgICAqIGxvb2t1cCBmYWlscyAqL1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSB0aGlzLnJlc29sdmVUeHQoaG9zdG5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UudGhlbih0eHRSZWNvcmQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnID0gKDAsIHNlcnZpY2VfY29uZmlnXzEuZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWcpKHR4dFJlY29yZCwgdGhpcy5wZXJjZW50YWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFNlcnZpY2VDb25maWdFcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFBhcnNpbmcgc2VydmljZSBjb25maWcgZmFpbGVkIHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFdlIHJlbHkgaGVyZSBvbiB0aGUgYXNzdW1wdGlvbiB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBpZGVudGljYWwgcGFyYW1ldGVycyB3aWxsIGJlIGVzc2VudGlhbHkgaWRlbXBvdGVudCwgYW5kIGNhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGl0IHdpdGggdGhlIHNhbWUgYWRkcmVzcyBsaXN0IGFuZCBhIGRpZmZlcmVudCBzZXJ2aWNlIGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogc2hvdWxkIHJlc3VsdCBpbiBhIGZhc3QgYW5kIHNlYW1sZXNzIHN3aXRjaG92ZXIuICovXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24odGhpcy5sYXRlc3RMb29rdXBSZXN1bHQsIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZywgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnRXJyb3IsIG51bGwsIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qIElmIFRYVCBsb29rdXAgZmFpbHMgd2Ugc2hvdWxkIGRvIG5vdGhpbmcsIHdoaWNoIG1lYW5zIHRoYXQgd2VcbiAgICAgICAgICAgICAgICAgICAgICogY29udGludWUgdG8gdXNlIHRoZSByZXN1bHQgb2YgdGhlIG1vc3QgcmVjZW50IHN1Y2Nlc3NmdWwgbG9va3VwLFxuICAgICAgICAgICAgICAgICAgICAgKiBvciB0aGUgZGVmYXVsdCBudWxsIGNvbmZpZyBvYmplY3QgaWYgdGhlcmUgaGFzIG5ldmVyIGJlZW4gYVxuICAgICAgICAgICAgICAgICAgICAgKiBzdWNjZXNzZnVsIGxvb2t1cC4gV2UgZG8gbm90IHNldCB0aGUgbGF0ZXN0U2VydmljZUNvbmZpZ0Vycm9yXG4gICAgICAgICAgICAgICAgICAgICAqIGhlcmUgYmVjYXVzZSB0aGF0IGlzIHNwZWNpZmljYWxseSB1c2VkIGZvciByZXNwb25zZSB2YWxpZGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAqIGVycm9ycy4gV2Ugc3RpbGwgbmVlZCB0byBoYW5kbGUgdGhpcyBlcnJvciBzbyB0aGF0IGl0IGRvZXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAqIGJ1YmJsZSB1cCBhcyBhbiB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24uICovXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbG9va3VwKGhvc3RuYW1lKSB7XG4gICAgICAgIGlmIChlbnZpcm9ubWVudF8xLkdSUENfTk9ERV9VU0VfQUxURVJOQVRJVkVfUkVTT0xWRVIpIHtcbiAgICAgICAgICAgIHRyYWNlKCdVc2luZyBhbHRlcm5hdGl2ZSBETlMgcmVzb2x2ZXIuJyk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0aXZlUmVzb2x2ZXIucmVzb2x2ZTQoaG9zdG5hbWUpLFxuICAgICAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5yZXNvbHZlNihob3N0bmFtZSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGlmIChyZWNvcmRzLmV2ZXJ5KHJlc3VsdCA9PiByZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZWNvcmRzWzBdLnJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVjb3Jkc1xuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnXG4gICAgICAgICAgICAgICAgICAgID8gWy4uLmFjYywgLi4ucmVzdWx0LnZhbHVlXVxuICAgICAgICAgICAgICAgICAgICA6IGFjYztcbiAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoYWRkciA9PiAoe1xuICAgICAgICAgICAgICAgIGhvc3Q6IGFkZHIsXG4gICAgICAgICAgICAgICAgcG9ydDogK3RoaXMucG9ydCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBXZSBsb29rdXAgYm90aCBhZGRyZXNzIGZhbWlsaWVzIGhlcmUgYW5kIHRoZW4gc3BsaXQgdGhlbSB1cCBsYXRlclxuICAgICAgICAgKiBiZWNhdXNlIHdoZW4gbG9va2luZyB1cCBhIHNpbmdsZSBmYW1pbHksIGRucy5sb29rdXAgb3V0cHV0cyBhbiBlcnJvclxuICAgICAgICAgKiBpZiB0aGUgbmFtZSBleGlzdHMgYnV0IHRoZXJlIGFyZSBubyByZWNvcmRzIGZvciB0aGF0IGZhbWlseSwgYW5kIHRoYXRcbiAgICAgICAgICogZXJyb3IgaXMgaW5kaXN0aW5ndWlzaGFibGUgZnJvbSBvdGhlciBraW5kcyBvZiBlcnJvcnMgKi9cbiAgICAgICAgY29uc3QgYWRkcmVzc0xpc3QgPSBhd2FpdCBkbnNfMS5wcm9taXNlcy5sb29rdXAoaG9zdG5hbWUsIHsgYWxsOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gYWRkcmVzc0xpc3QubWFwKGFkZHIgPT4gKHsgaG9zdDogYWRkci5hZGRyZXNzLCBwb3J0OiArdGhpcy5wb3J0IH0pKTtcbiAgICB9XG4gICAgYXN5bmMgcmVzb2x2ZVR4dChob3N0bmFtZSkge1xuICAgICAgICBpZiAoZW52aXJvbm1lbnRfMS5HUlBDX05PREVfVVNFX0FMVEVSTkFUSVZFX1JFU09MVkVSKSB7XG4gICAgICAgICAgICB0cmFjZSgnVXNpbmcgYWx0ZXJuYXRpdmUgRE5TIHJlc29sdmVyLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5yZXNvbHZlVHh0KGhvc3RuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG5zXzEucHJvbWlzZXMucmVzb2x2ZVR4dChob3N0bmFtZSk7XG4gICAgfVxuICAgIHN0YXJ0TmV4dFJlc29sdXRpb25UaW1lcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgICAgIHRoaXMubmV4dFJlc29sdXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdG9wTmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGludWVSZXNvbHZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVzb2x1dGlvbldpdGhCYWNrb2ZmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMubWluVGltZUJldHdlZW5SZXNvbHV0aW9uc01zKTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5uZXh0UmVzb2x1dGlvblRpbWVyKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB0aGlzLmlzTmV4dFJlc29sdXRpb25UaW1lclJ1bm5pbmcgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wTmV4dFJlc29sdXRpb25UaW1lcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgICAgIHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydFJlc29sdXRpb25XaXRoQmFja29mZigpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5ydW5PbmNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlc29sdXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICAvKiBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgbG9va3VwLCBqdXN0IGxldCBpdCBmaW5pc2guIE90aGVyd2lzZSwgaWYgdGhlXG4gICAgICAgICAqIG5leHRSZXNvbHV0aW9uVGltZXIgb3IgYmFja29mZiB0aW1lciBpcyBydW5uaW5nLCBzZXQgdGhlXG4gICAgICAgICAqIGNvbnRpbnVlUmVzb2x2aW5nIGZsYWcgdG8gcmVzb2x2ZSB3aGVuIHdoaWNoZXZlciBvZiB0aG9zZSB0aW1lcnNcbiAgICAgICAgICogZmlyZXMuIE90aGVyd2lzZSwgc3RhcnQgcmVzb2x2aW5nIGltbWVkaWF0ZWx5LiAqL1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyB8fCB0aGlzLmJhY2tvZmYuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc05leHRSZXNvbHV0aW9uVGltZXJSdW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IFwibWluIHRpbWUgYmV0d2VlbiByZXNvbHV0aW9uc1wiIHJhdGUgbGltaXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IGJhY2tvZmYgdGltZXIgdW50aWwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmYuZ2V0RW5kVGltZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSZXNvbHV0aW9uV2l0aEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgcmVzb2x2ZXIgdG8gdGhlIHNhbWUgc3RhdGUgaXQgaGFkIHdoZW4gaXQgd2FzIGNyZWF0ZWQuIEluLWZsaWdodFxuICAgICAqIEROUyByZXF1ZXN0cyBjYW5ub3QgYmUgY2FuY2VsbGVkLCBidXQgdGhleSBhcmUgZGlzY2FyZGVkIGFuZCB0aGVpciByZXN1bHRzXG4gICAgICogd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5zdG9wKCk7XG4gICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ0Vycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXR1cm5lZElwUmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGVmYXVsdCBhdXRob3JpdHkgZm9yIHRoZSBnaXZlbiB0YXJnZXQuIEZvciBJUCB0YXJnZXRzLCB0aGF0IGlzXG4gICAgICogdGhlIElQIGFkZHJlc3MuIEZvciBETlMgdGFyZ2V0cywgaXQgaXMgdGhlIGhvc3RuYW1lLlxuICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdEF1dGhvcml0eSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldC5wYXRoO1xuICAgIH1cbn1cbi8qKlxuICogU2V0IHVwIHRoZSBETlMgcmVzb2x2ZXIgY2xhc3MgYnkgcmVnaXN0ZXJpbmcgaXQgYXMgdGhlIGhhbmRsZXIgZm9yIHRoZVxuICogXCJkbnM6XCIgcHJlZml4IGFuZCBhcyB0aGUgZGVmYXVsdCByZXNvbHZlci5cbiAqL1xuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgKDAsIHJlc29sdmVyXzEucmVnaXN0ZXJSZXNvbHZlcikoJ2RucycsIERuc1Jlc29sdmVyKTtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlckRlZmF1bHRTY2hlbWUpKCdkbnMnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLWRucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.setup = setup;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'ip_resolver';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst IPV4_SCHEME = 'ipv4';\nconst IPV6_SCHEME = 'ipv6';\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nconst DEFAULT_PORT = 443;\nclass IpResolver {\n    constructor(target, listener, channelOptions) {\n        var _a;\n        this.listener = listener;\n        this.endpoints = [];\n        this.error = null;\n        this.hasReturnedResult = false;\n        trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n        const addresses = [];\n        if (!(target.scheme === IPV4_SCHEME || target.scheme === IPV6_SCHEME)) {\n            this.error = {\n                code: constants_1.Status.UNAVAILABLE,\n                details: `Unrecognized scheme ${target.scheme} in IP resolver`,\n                metadata: new metadata_1.Metadata(),\n            };\n            return;\n        }\n        const pathList = target.path.split(',');\n        for (const path of pathList) {\n            const hostPort = (0, uri_parser_1.splitHostPort)(path);\n            if (hostPort === null) {\n                this.error = {\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse ${target.scheme} address ${path}`,\n                    metadata: new metadata_1.Metadata(),\n                };\n                return;\n            }\n            if ((target.scheme === IPV4_SCHEME && !(0, net_1.isIPv4)(hostPort.host)) ||\n                (target.scheme === IPV6_SCHEME && !(0, net_1.isIPv6)(hostPort.host))) {\n                this.error = {\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse ${target.scheme} address ${path}`,\n                    metadata: new metadata_1.Metadata(),\n                };\n                return;\n            }\n            addresses.push({\n                host: hostPort.host,\n                port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : DEFAULT_PORT,\n            });\n        }\n        this.endpoints = addresses.map(address => ({ addresses: [address] }));\n        trace('Parsed ' + target.scheme + ' address list ' + addresses);\n    }\n    updateResolution() {\n        if (!this.hasReturnedResult) {\n            this.hasReturnedResult = true;\n            process.nextTick(() => {\n                if (this.error) {\n                    this.listener.onError(this.error);\n                }\n                else {\n                    this.listener.onSuccessfulResolution(this.endpoints, null, null, null, {});\n                }\n            });\n        }\n    }\n    destroy() {\n        this.hasReturnedResult = false;\n    }\n    static getDefaultAuthority(target) {\n        return target.path.split(',')[0];\n    }\n}\nfunction setup() {\n    (0, resolver_1.registerResolver)(IPV4_SCHEME, IpResolver);\n    (0, resolver_1.registerResolver)(IPV6_SCHEME, IpResolver);\n}\n//# sourceMappingURL=resolver-ip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZlci1pcC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2IsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLG1IQUFjO0FBQzNDLGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGVBQWU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZUFBZSxVQUFVLEtBQUs7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxlQUFlLFVBQVUsS0FBSztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHFEQUFxRCxzQkFBc0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkY7QUFDN0Y7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLWlwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IG5ldF8xID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnaXBfcmVzb2x2ZXInO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBJUFY0X1NDSEVNRSA9ICdpcHY0JztcbmNvbnN0IElQVjZfU0NIRU1FID0gJ2lwdjYnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBUQ1AgcG9ydCB0byBjb25uZWN0IHRvIGlmIG5vdCBleHBsaWNpdGx5IHNwZWNpZmllZCBpbiB0aGUgdGFyZ2V0LlxuICovXG5jb25zdCBERUZBVUxUX1BPUlQgPSA0NDM7XG5jbGFzcyBJcFJlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGxpc3RlbmVyLCBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5lbmRwb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdHJhY2UoJ1Jlc29sdmVyIGNvbnN0cnVjdGVkIGZvciB0YXJnZXQgJyArICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCkpO1xuICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGFyZ2V0LnNjaGVtZSA9PT0gSVBWNF9TQ0hFTUUgfHwgdGFyZ2V0LnNjaGVtZSA9PT0gSVBWNl9TQ0hFTUUpKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgVW5yZWNvZ25pemVkIHNjaGVtZSAke3RhcmdldC5zY2hlbWV9IGluIElQIHJlc29sdmVyYCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aExpc3QgPSB0YXJnZXQucGF0aC5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgcGF0aExpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwYXRoKTtcbiAgICAgICAgICAgIGlmIChob3N0UG9ydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYEZhaWxlZCB0byBwYXJzZSAke3RhcmdldC5zY2hlbWV9IGFkZHJlc3MgJHtwYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YXJnZXQuc2NoZW1lID09PSBJUFY0X1NDSEVNRSAmJiAhKDAsIG5ldF8xLmlzSVB2NCkoaG9zdFBvcnQuaG9zdCkpIHx8XG4gICAgICAgICAgICAgICAgKHRhcmdldC5zY2hlbWUgPT09IElQVjZfU0NIRU1FICYmICEoMCwgbmV0XzEuaXNJUHY2KShob3N0UG9ydC5ob3N0KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBGYWlsZWQgdG8gcGFyc2UgJHt0YXJnZXQuc2NoZW1lfSBhZGRyZXNzICR7cGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZHJlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBob3N0OiBob3N0UG9ydC5ob3N0LFxuICAgICAgICAgICAgICAgIHBvcnQ6IChfYSA9IGhvc3RQb3J0LnBvcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfUE9SVCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kcG9pbnRzID0gYWRkcmVzc2VzLm1hcChhZGRyZXNzID0+ICh7IGFkZHJlc3NlczogW2FkZHJlc3NdIH0pKTtcbiAgICAgICAgdHJhY2UoJ1BhcnNlZCAnICsgdGFyZ2V0LnNjaGVtZSArICcgYWRkcmVzcyBsaXN0ICcgKyBhZGRyZXNzZXMpO1xuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzUmV0dXJuZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vbkVycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblN1Y2Nlc3NmdWxSZXNvbHV0aW9uKHRoaXMuZW5kcG9pbnRzLCBudWxsLCBudWxsLCBudWxsLCB7fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5oYXNSZXR1cm5lZFJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdEF1dGhvcml0eSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldC5wYXRoLnNwbGl0KCcsJylbMF07XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgKDAsIHJlc29sdmVyXzEucmVnaXN0ZXJSZXNvbHZlcikoSVBWNF9TQ0hFTUUsIElwUmVzb2x2ZXIpO1xuICAgICgwLCByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXIpKElQVjZfU0NIRU1FLCBJcFJlc29sdmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLWlwLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.setup = setup;\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nclass UdsResolver {\n    constructor(target, listener, channelOptions) {\n        this.listener = listener;\n        this.hasReturnedResult = false;\n        this.endpoints = [];\n        let path;\n        if (target.authority === '') {\n            path = '/' + target.path;\n        }\n        else {\n            path = target.path;\n        }\n        this.endpoints = [{ addresses: [{ path }] }];\n    }\n    updateResolution() {\n        if (!this.hasReturnedResult) {\n            this.hasReturnedResult = true;\n            process.nextTick(this.listener.onSuccessfulResolution, this.endpoints, null, null, null, {});\n        }\n    }\n    destroy() {\n        this.hasReturnedResult = false;\n    }\n    static getDefaultAuthority(target) {\n        return 'localhost';\n    }\n}\nfunction setup() {\n    (0, resolver_1.registerResolver)('unix', UdsResolver);\n}\n//# sourceMappingURL=resolver-uds.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZlci11ZHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjLE1BQU0sR0FBRztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLXVkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG5jb25zdCByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5jbGFzcyBVZHNSZXNvbHZlciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBsaXN0ZW5lciwgY2hhbm5lbE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLmhhc1JldHVybmVkUmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW5kcG9pbnRzID0gW107XG4gICAgICAgIGxldCBwYXRoO1xuICAgICAgICBpZiAodGFyZ2V0LmF1dGhvcml0eSA9PT0gJycpIHtcbiAgICAgICAgICAgIHBhdGggPSAnLycgKyB0YXJnZXQucGF0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhdGggPSB0YXJnZXQucGF0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZHBvaW50cyA9IFt7IGFkZHJlc3NlczogW3sgcGF0aCB9XSB9XTtcbiAgICB9XG4gICAgdXBkYXRlUmVzb2x1dGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1JldHVybmVkUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmhhc1JldHVybmVkUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2sodGhpcy5saXN0ZW5lci5vblN1Y2Nlc3NmdWxSZXNvbHV0aW9uLCB0aGlzLmVuZHBvaW50cywgbnVsbCwgbnVsbCwgbnVsbCwge30pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiAnbG9jYWxob3N0JztcbiAgICB9XG59XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyKSgndW5peCcsIFVkc1Jlc29sdmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLXVkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.registerResolver = registerResolver;\nexports.registerDefaultScheme = registerDefaultScheme;\nexports.createResolver = createResolver;\nexports.getDefaultAuthority = getDefaultAuthority;\nexports.mapUriDefaultScheme = mapUriDefaultScheme;\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst registeredResolvers = {};\nlet defaultScheme = null;\n/**\n * Register a resolver class to handle target names prefixed with the `prefix`\n * string. This prefix should correspond to a URI scheme name listed in the\n * [gRPC Name Resolution document](https://github.com/grpc/grpc/blob/master/doc/naming.md)\n * @param prefix\n * @param resolverClass\n */\nfunction registerResolver(scheme, resolverClass) {\n    registeredResolvers[scheme] = resolverClass;\n}\n/**\n * Register a default resolver to handle target names that do not start with\n * any registered prefix.\n * @param resolverClass\n */\nfunction registerDefaultScheme(scheme) {\n    defaultScheme = scheme;\n}\n/**\n * Create a name resolver for the specified target, if possible. Throws an\n * error if no such name resolver can be created.\n * @param target\n * @param listener\n */\nfunction createResolver(target, listener, options) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n        return new registeredResolvers[target.scheme](target, listener, options);\n    }\n    else {\n        throw new Error(`No resolver could be created for target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n}\n/**\n * Get the default authority for the specified target, if possible. Throws an\n * error if no registered name resolver can parse that target string.\n * @param target\n */\nfunction getDefaultAuthority(target) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n        return registeredResolvers[target.scheme].getDefaultAuthority(target);\n    }\n    else {\n        throw new Error(`Invalid target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n}\nfunction mapUriDefaultScheme(target) {\n    if (target.scheme === undefined || !(target.scheme in registeredResolvers)) {\n        if (defaultScheme !== null) {\n            return {\n                scheme: defaultScheme,\n                authority: undefined,\n                path: (0, uri_parser_1.uriToString)(target),\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    return target;\n}\n//# sourceMappingURL=resolver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4Qiw2QkFBNkI7QUFDN0Isc0JBQXNCO0FBQ3RCLDJCQUEyQjtBQUMzQiwyQkFBMkI7QUFDM0IscUJBQXFCLG1CQUFPLENBQUMsbUhBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsc0NBQXNDO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxzQ0FBc0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVnaXN0ZXJSZXNvbHZlciA9IHJlZ2lzdGVyUmVzb2x2ZXI7XG5leHBvcnRzLnJlZ2lzdGVyRGVmYXVsdFNjaGVtZSA9IHJlZ2lzdGVyRGVmYXVsdFNjaGVtZTtcbmV4cG9ydHMuY3JlYXRlUmVzb2x2ZXIgPSBjcmVhdGVSZXNvbHZlcjtcbmV4cG9ydHMuZ2V0RGVmYXVsdEF1dGhvcml0eSA9IGdldERlZmF1bHRBdXRob3JpdHk7XG5leHBvcnRzLm1hcFVyaURlZmF1bHRTY2hlbWUgPSBtYXBVcmlEZWZhdWx0U2NoZW1lO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IHJlZ2lzdGVyZWRSZXNvbHZlcnMgPSB7fTtcbmxldCBkZWZhdWx0U2NoZW1lID0gbnVsbDtcbi8qKlxuICogUmVnaXN0ZXIgYSByZXNvbHZlciBjbGFzcyB0byBoYW5kbGUgdGFyZ2V0IG5hbWVzIHByZWZpeGVkIHdpdGggdGhlIGBwcmVmaXhgXG4gKiBzdHJpbmcuIFRoaXMgcHJlZml4IHNob3VsZCBjb3JyZXNwb25kIHRvIGEgVVJJIHNjaGVtZSBuYW1lIGxpc3RlZCBpbiB0aGVcbiAqIFtnUlBDIE5hbWUgUmVzb2x1dGlvbiBkb2N1bWVudF0oaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL21hc3Rlci9kb2MvbmFtaW5nLm1kKVxuICogQHBhcmFtIHByZWZpeFxuICogQHBhcmFtIHJlc29sdmVyQ2xhc3NcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJSZXNvbHZlcihzY2hlbWUsIHJlc29sdmVyQ2xhc3MpIHtcbiAgICByZWdpc3RlcmVkUmVzb2x2ZXJzW3NjaGVtZV0gPSByZXNvbHZlckNsYXNzO1xufVxuLyoqXG4gKiBSZWdpc3RlciBhIGRlZmF1bHQgcmVzb2x2ZXIgdG8gaGFuZGxlIHRhcmdldCBuYW1lcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoXG4gKiBhbnkgcmVnaXN0ZXJlZCBwcmVmaXguXG4gKiBAcGFyYW0gcmVzb2x2ZXJDbGFzc1xuICovXG5mdW5jdGlvbiByZWdpc3RlckRlZmF1bHRTY2hlbWUoc2NoZW1lKSB7XG4gICAgZGVmYXVsdFNjaGVtZSA9IHNjaGVtZTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmFtZSByZXNvbHZlciBmb3IgdGhlIHNwZWNpZmllZCB0YXJnZXQsIGlmIHBvc3NpYmxlLiBUaHJvd3MgYW5cbiAqIGVycm9yIGlmIG5vIHN1Y2ggbmFtZSByZXNvbHZlciBjYW4gYmUgY3JlYXRlZC5cbiAqIEBwYXJhbSB0YXJnZXRcbiAqIEBwYXJhbSBsaXN0ZW5lclxuICovXG5mdW5jdGlvbiBjcmVhdGVSZXNvbHZlcih0YXJnZXQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgaWYgKHRhcmdldC5zY2hlbWUgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuc2NoZW1lIGluIHJlZ2lzdGVyZWRSZXNvbHZlcnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkUmVzb2x2ZXJzW3RhcmdldC5zY2hlbWVdKHRhcmdldCwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyByZXNvbHZlciBjb3VsZCBiZSBjcmVhdGVkIGZvciB0YXJnZXQgJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpfWApO1xuICAgIH1cbn1cbi8qKlxuICogR2V0IHRoZSBkZWZhdWx0IGF1dGhvcml0eSBmb3IgdGhlIHNwZWNpZmllZCB0YXJnZXQsIGlmIHBvc3NpYmxlLiBUaHJvd3MgYW5cbiAqIGVycm9yIGlmIG5vIHJlZ2lzdGVyZWQgbmFtZSByZXNvbHZlciBjYW4gcGFyc2UgdGhhdCB0YXJnZXQgc3RyaW5nLlxuICogQHBhcmFtIHRhcmdldFxuICovXG5mdW5jdGlvbiBnZXREZWZhdWx0QXV0aG9yaXR5KHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuc2NoZW1lICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0LnNjaGVtZSBpbiByZWdpc3RlcmVkUmVzb2x2ZXJzKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlcmVkUmVzb2x2ZXJzW3RhcmdldC5zY2hlbWVdLmdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXJnZXQgJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFVyaURlZmF1bHRTY2hlbWUodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5zY2hlbWUgPT09IHVuZGVmaW5lZCB8fCAhKHRhcmdldC5zY2hlbWUgaW4gcmVnaXN0ZXJlZFJlc29sdmVycykpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRTY2hlbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2NoZW1lOiBkZWZhdWx0U2NoZW1lLFxuICAgICAgICAgICAgICAgIGF1dGhvcml0eTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHBhdGg6ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ResolvingCall = void 0;\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst TRACER_NAME = 'resolving_call';\nclass ResolvingCall {\n    constructor(channel, method, options, filterStackFactory, callNumber) {\n        this.channel = channel;\n        this.method = method;\n        this.filterStackFactory = filterStackFactory;\n        this.callNumber = callNumber;\n        this.child = null;\n        this.readPending = false;\n        this.pendingMessage = null;\n        this.pendingHalfClose = false;\n        this.ended = false;\n        this.readFilterPending = false;\n        this.writeFilterPending = false;\n        this.pendingChildStatus = null;\n        this.metadata = null;\n        this.listener = null;\n        this.statusWatchers = [];\n        this.deadlineTimer = setTimeout(() => { }, 0);\n        this.filterStack = null;\n        this.deadlineStartTime = null;\n        this.configReceivedTime = null;\n        this.childStartTime = null;\n        /**\n         * Credentials configured for this specific call. Does not include\n         * call credentials associated with the channel credentials used to create\n         * the channel.\n         */\n        this.credentials = call_credentials_1.CallCredentials.createEmpty();\n        this.deadline = options.deadline;\n        this.host = options.host;\n        if (options.parentCall) {\n            if (options.flags & constants_1.Propagate.CANCELLATION) {\n                options.parentCall.on('cancelled', () => {\n                    this.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled by parent call');\n                });\n            }\n            if (options.flags & constants_1.Propagate.DEADLINE) {\n                this.trace('Propagating deadline from parent: ' +\n                    options.parentCall.getDeadline());\n                this.deadline = (0, deadline_1.minDeadline)(this.deadline, options.parentCall.getDeadline());\n            }\n        }\n        this.trace('Created');\n        this.runDeadlineTimer();\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    runDeadlineTimer() {\n        clearTimeout(this.deadlineTimer);\n        this.deadlineStartTime = new Date();\n        this.trace('Deadline: ' + (0, deadline_1.deadlineToString)(this.deadline));\n        const timeout = (0, deadline_1.getRelativeTimeout)(this.deadline);\n        if (timeout !== Infinity) {\n            this.trace('Deadline will be reached in ' + timeout + 'ms');\n            const handleDeadline = () => {\n                if (!this.deadlineStartTime) {\n                    this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, 'Deadline exceeded');\n                    return;\n                }\n                const deadlineInfo = [];\n                const deadlineEndTime = new Date();\n                deadlineInfo.push(`Deadline exceeded after ${(0, deadline_1.formatDateDifference)(this.deadlineStartTime, deadlineEndTime)}`);\n                if (this.configReceivedTime) {\n                    if (this.configReceivedTime > this.deadlineStartTime) {\n                        deadlineInfo.push(`name resolution: ${(0, deadline_1.formatDateDifference)(this.deadlineStartTime, this.configReceivedTime)}`);\n                    }\n                    if (this.childStartTime) {\n                        if (this.childStartTime > this.configReceivedTime) {\n                            deadlineInfo.push(`metadata filters: ${(0, deadline_1.formatDateDifference)(this.configReceivedTime, this.childStartTime)}`);\n                        }\n                    }\n                    else {\n                        deadlineInfo.push('waiting for metadata filters');\n                    }\n                }\n                else {\n                    deadlineInfo.push('waiting for name resolution');\n                }\n                if (this.child) {\n                    deadlineInfo.push(...this.child.getDeadlineInfo());\n                }\n                this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, deadlineInfo.join(','));\n            };\n            if (timeout <= 0) {\n                process.nextTick(handleDeadline);\n            }\n            else {\n                this.deadlineTimer = setTimeout(handleDeadline, timeout);\n            }\n        }\n    }\n    outputStatus(status) {\n        if (!this.ended) {\n            this.ended = true;\n            if (!this.filterStack) {\n                this.filterStack = this.filterStackFactory.createFilter();\n            }\n            clearTimeout(this.deadlineTimer);\n            const filteredStatus = this.filterStack.receiveTrailers(status);\n            this.trace('ended with status: code=' +\n                filteredStatus.code +\n                ' details=\"' +\n                filteredStatus.details +\n                '\"');\n            this.statusWatchers.forEach(watcher => watcher(filteredStatus));\n            process.nextTick(() => {\n                var _a;\n                (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(filteredStatus);\n            });\n        }\n    }\n    sendMessageOnChild(context, message) {\n        if (!this.child) {\n            throw new Error('sendMessageonChild called with child not populated');\n        }\n        const child = this.child;\n        this.writeFilterPending = true;\n        this.filterStack.sendMessage(Promise.resolve({ message: message, flags: context.flags })).then(filteredMessage => {\n            this.writeFilterPending = false;\n            child.sendMessageWithContext(context, filteredMessage.message);\n            if (this.pendingHalfClose) {\n                child.halfClose();\n            }\n        }, (status) => {\n            this.cancelWithStatus(status.code, status.details);\n        });\n    }\n    getConfig() {\n        if (this.ended) {\n            return;\n        }\n        if (!this.metadata || !this.listener) {\n            throw new Error('getConfig called before start');\n        }\n        const configResult = this.channel.getConfig(this.method, this.metadata);\n        if (configResult.type === 'NONE') {\n            this.channel.queueCallForConfig(this);\n            return;\n        }\n        else if (configResult.type === 'ERROR') {\n            if (this.metadata.getOptions().waitForReady) {\n                this.channel.queueCallForConfig(this);\n            }\n            else {\n                this.outputStatus(configResult.error);\n            }\n            return;\n        }\n        // configResult.type === 'SUCCESS'\n        this.configReceivedTime = new Date();\n        const config = configResult.config;\n        if (config.status !== constants_1.Status.OK) {\n            const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(config.status, 'Failed to route call to method ' + this.method);\n            this.outputStatus({\n                code: code,\n                details: details,\n                metadata: new metadata_1.Metadata(),\n            });\n            return;\n        }\n        if (config.methodConfig.timeout) {\n            const configDeadline = new Date();\n            configDeadline.setSeconds(configDeadline.getSeconds() + config.methodConfig.timeout.seconds);\n            configDeadline.setMilliseconds(configDeadline.getMilliseconds() +\n                config.methodConfig.timeout.nanos / 1000000);\n            this.deadline = (0, deadline_1.minDeadline)(this.deadline, configDeadline);\n            this.runDeadlineTimer();\n        }\n        this.filterStackFactory.push(config.dynamicFilterFactories);\n        this.filterStack = this.filterStackFactory.createFilter();\n        this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(filteredMetadata => {\n            this.child = this.channel.createRetryingCall(config, this.method, this.host, this.credentials, this.deadline);\n            this.trace('Created child [' + this.child.getCallNumber() + ']');\n            this.childStartTime = new Date();\n            this.child.start(filteredMetadata, {\n                onReceiveMetadata: metadata => {\n                    this.trace('Received metadata');\n                    this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(metadata));\n                },\n                onReceiveMessage: message => {\n                    this.trace('Received message');\n                    this.readFilterPending = true;\n                    this.filterStack.receiveMessage(message).then(filteredMesssage => {\n                        this.trace('Finished filtering received message');\n                        this.readFilterPending = false;\n                        this.listener.onReceiveMessage(filteredMesssage);\n                        if (this.pendingChildStatus) {\n                            this.outputStatus(this.pendingChildStatus);\n                        }\n                    }, (status) => {\n                        this.cancelWithStatus(status.code, status.details);\n                    });\n                },\n                onReceiveStatus: status => {\n                    this.trace('Received status');\n                    if (this.readFilterPending) {\n                        this.pendingChildStatus = status;\n                    }\n                    else {\n                        this.outputStatus(status);\n                    }\n                },\n            });\n            if (this.readPending) {\n                this.child.startRead();\n            }\n            if (this.pendingMessage) {\n                this.sendMessageOnChild(this.pendingMessage.context, this.pendingMessage.message);\n            }\n            else if (this.pendingHalfClose) {\n                this.child.halfClose();\n            }\n        }, (status) => {\n            this.outputStatus(status);\n        });\n    }\n    reportResolverError(status) {\n        var _a;\n        if ((_a = this.metadata) === null || _a === void 0 ? void 0 : _a.getOptions().waitForReady) {\n            this.channel.queueCallForConfig(this);\n        }\n        else {\n            this.outputStatus(status);\n        }\n    }\n    cancelWithStatus(status, details) {\n        var _a;\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n        this.outputStatus({\n            code: status,\n            details: details,\n            metadata: new metadata_1.Metadata(),\n        });\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.metadata = metadata.clone();\n        this.listener = listener;\n        this.getConfig();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        if (this.child) {\n            this.sendMessageOnChild(context, message);\n        }\n        else {\n            this.pendingMessage = { context, message };\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        if (this.child) {\n            this.child.startRead();\n        }\n        else {\n            this.readPending = true;\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        if (this.child && !this.writeFilterPending) {\n            this.child.halfClose();\n        }\n        else {\n            this.pendingHalfClose = true;\n        }\n    }\n    setCredentials(credentials) {\n        this.credentials = credentials;\n    }\n    addStatusWatcher(watcher) {\n        this.statusWatchers.push(watcher);\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n}\nexports.ResolvingCall = ResolvingCall;\n//# sourceMappingURL=resolving-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZpbmctY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQiwyQkFBMkIsbUJBQU8sQ0FBQywrSEFBb0I7QUFDdkQsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkMsbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsNkdBQVc7QUFDbkMsK0JBQStCLG1CQUFPLENBQUMsdUlBQXdCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsOEVBQThFO0FBQzNJO0FBQ0E7QUFDQSw4REFBOEQsc0ZBQXNGO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxtRkFBbUY7QUFDdEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsd0NBQXdDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmluZy1jYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlc29sdmluZ0NhbGwgPSB2b2lkIDA7XG5jb25zdCBjYWxsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jYWxsLWNyZWRlbnRpYWxzXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnRyb2xfcGxhbmVfc3RhdHVzXzEgPSByZXF1aXJlKFwiLi9jb250cm9sLXBsYW5lLXN0YXR1c1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3Jlc29sdmluZ19jYWxsJztcbmNsYXNzIFJlc29sdmluZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWwsIG1ldGhvZCwgb3B0aW9ucywgZmlsdGVyU3RhY2tGYWN0b3J5LCBjYWxsTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeSA9IGZpbHRlclN0YWNrRmFjdG9yeTtcbiAgICAgICAgdGhpcy5jYWxsTnVtYmVyID0gY2FsbE51bWJlcjtcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGRTdGF0dXMgPSBudWxsO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdHVzV2F0Y2hlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kZWFkbGluZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7IH0sIDApO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFkbGluZVN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZFN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVkZW50aWFscyBjb25maWd1cmVkIGZvciB0aGlzIHNwZWNpZmljIGNhbGwuIERvZXMgbm90IGluY2x1ZGVcbiAgICAgICAgICogY2FsbCBjcmVkZW50aWFscyBhc3NvY2lhdGVkIHdpdGggdGhlIGNoYW5uZWwgY3JlZGVudGlhbHMgdXNlZCB0byBjcmVhdGVcbiAgICAgICAgICogdGhlIGNoYW5uZWwuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVFbXB0eSgpO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gb3B0aW9ucy5kZWFkbGluZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gb3B0aW9ucy5ob3N0O1xuICAgICAgICBpZiAob3B0aW9ucy5wYXJlbnRDYWxsKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5mbGFncyAmIGNvbnN0YW50c18xLlByb3BhZ2F0ZS5DQU5DRUxMQVRJT04pIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudENhbGwub24oJ2NhbmNlbGxlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgYnkgcGFyZW50IGNhbGwnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZsYWdzICYgY29uc3RhbnRzXzEuUHJvcGFnYXRlLkRFQURMSU5FKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUHJvcGFnYXRpbmcgZGVhZGxpbmUgZnJvbSBwYXJlbnQ6ICcgK1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudENhbGwuZ2V0RGVhZGxpbmUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFkbGluZSA9ICgwLCBkZWFkbGluZV8xLm1pbkRlYWRsaW5lKSh0aGlzLmRlYWRsaW5lLCBvcHRpb25zLnBhcmVudENhbGwuZ2V0RGVhZGxpbmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnQ3JlYXRlZCcpO1xuICAgICAgICB0aGlzLnJ1bkRlYWRsaW5lVGltZXIoKTtcbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICdbJyArIHRoaXMuY2FsbE51bWJlciArICddICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgcnVuRGVhZGxpbmVUaW1lcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVhZGxpbmVUaW1lcik7XG4gICAgICAgIHRoaXMuZGVhZGxpbmVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLnRyYWNlKCdEZWFkbGluZTogJyArICgwLCBkZWFkbGluZV8xLmRlYWRsaW5lVG9TdHJpbmcpKHRoaXMuZGVhZGxpbmUpKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9ICgwLCBkZWFkbGluZV8xLmdldFJlbGF0aXZlVGltZW91dCkodGhpcy5kZWFkbGluZSk7XG4gICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnRGVhZGxpbmUgd2lsbCBiZSByZWFjaGVkIGluICcgKyB0aW1lb3V0ICsgJ21zJyk7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZWFkbGluZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGVhZGxpbmVTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRCwgJ0RlYWRsaW5lIGV4Y2VlZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGVhZGxpbmVJbmZvID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgZGVhZGxpbmVFbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaChgRGVhZGxpbmUgZXhjZWVkZWQgYWZ0ZXIgJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5kZWFkbGluZVN0YXJ0VGltZSwgZGVhZGxpbmVFbmRUaW1lKX1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWdSZWNlaXZlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lID4gdGhpcy5kZWFkbGluZVN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYG5hbWUgcmVzb2x1dGlvbjogJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5kZWFkbGluZVN0YXJ0VGltZSwgdGhpcy5jb25maWdSZWNlaXZlZFRpbWUpfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZFN0YXJ0VGltZSA+IHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYG1ldGFkYXRhIGZpbHRlcnM6ICR7KDAsIGRlYWRsaW5lXzEuZm9ybWF0RGF0ZURpZmZlcmVuY2UpKHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lLCB0aGlzLmNoaWxkU3RhcnRUaW1lKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKCd3YWl0aW5nIGZvciBtZXRhZGF0YSBmaWx0ZXJzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKCd3YWl0aW5nIGZvciBuYW1lIHJlc29sdXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goLi4udGhpcy5jaGlsZC5nZXREZWFkbGluZUluZm8oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQsIGRlYWRsaW5lSW5mby5qb2luKCcsJykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0IDw9IDApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGhhbmRsZURlYWRsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVhZGxpbmVUaW1lciA9IHNldFRpbWVvdXQoaGFuZGxlRGVhZGxpbmUsIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG91dHB1dFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5maWx0ZXJTdGFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeS5jcmVhdGVGaWx0ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYWRsaW5lVGltZXIpO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTdGF0dXMgPSB0aGlzLmZpbHRlclN0YWNrLnJlY2VpdmVUcmFpbGVycyhzdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTdGF0dXMuY29kZSArXG4gICAgICAgICAgICAgICAgJyBkZXRhaWxzPVwiJyArXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgJ1wiJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c1dhdGNoZXJzLmZvckVhY2god2F0Y2hlciA9PiB3YXRjaGVyKGZpbHRlcmVkU3RhdHVzKSk7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uUmVjZWl2ZVN0YXR1cyhmaWx0ZXJlZFN0YXR1cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kTWVzc2FnZU9uQ2hpbGQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2VuZE1lc3NhZ2VvbkNoaWxkIGNhbGxlZCB3aXRoIGNoaWxkIG5vdCBwb3B1bGF0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGQ7XG4gICAgICAgIHRoaXMud3JpdGVGaWx0ZXJQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjay5zZW5kTWVzc2FnZShQcm9taXNlLnJlc29sdmUoeyBtZXNzYWdlOiBtZXNzYWdlLCBmbGFnczogY29udGV4dC5mbGFncyB9KSkudGhlbihmaWx0ZXJlZE1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNoaWxkLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgZmlsdGVyZWRNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLmNvZGUsIHN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldENvbmZpZygpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEgfHwgIXRoaXMubGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0Q29uZmlnIGNhbGxlZCBiZWZvcmUgc3RhcnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25maWdSZXN1bHQgPSB0aGlzLmNoYW5uZWwuZ2V0Q29uZmlnKHRoaXMubWV0aG9kLCB0aGlzLm1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGNvbmZpZ1Jlc3VsdC50eXBlID09PSAnTk9ORScpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JDb25maWcodGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnUmVzdWx0LnR5cGUgPT09ICdFUlJPUicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwucXVldWVDYWxsRm9yQ29uZmlnKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoY29uZmlnUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25maWdSZXN1bHQudHlwZSA9PT0gJ1NVQ0NFU1MnXG4gICAgICAgIHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gY29uZmlnUmVzdWx0LmNvbmZpZztcbiAgICAgICAgaWYgKGNvbmZpZy5zdGF0dXMgIT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKGNvbmZpZy5zdGF0dXMsICdGYWlsZWQgdG8gcm91dGUgY2FsbCB0byBtZXRob2QgJyArIHRoaXMubWV0aG9kKTtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLm1ldGhvZENvbmZpZy50aW1lb3V0KSB7XG4gICAgICAgICAgICBjb25zdCBjb25maWdEZWFkbGluZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25maWdEZWFkbGluZS5zZXRTZWNvbmRzKGNvbmZpZ0RlYWRsaW5lLmdldFNlY29uZHMoKSArIGNvbmZpZy5tZXRob2RDb25maWcudGltZW91dC5zZWNvbmRzKTtcbiAgICAgICAgICAgIGNvbmZpZ0RlYWRsaW5lLnNldE1pbGxpc2Vjb25kcyhjb25maWdEZWFkbGluZS5nZXRNaWxsaXNlY29uZHMoKSArXG4gICAgICAgICAgICAgICAgY29uZmlnLm1ldGhvZENvbmZpZy50aW1lb3V0Lm5hbm9zIC8gMTAwMDAwMCk7XG4gICAgICAgICAgICB0aGlzLmRlYWRsaW5lID0gKDAsIGRlYWRsaW5lXzEubWluRGVhZGxpbmUpKHRoaXMuZGVhZGxpbmUsIGNvbmZpZ0RlYWRsaW5lKTtcbiAgICAgICAgICAgIHRoaXMucnVuRGVhZGxpbmVUaW1lcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5LnB1c2goY29uZmlnLmR5bmFtaWNGaWx0ZXJGYWN0b3JpZXMpO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrID0gdGhpcy5maWx0ZXJTdGFja0ZhY3RvcnkuY3JlYXRlRmlsdGVyKCk7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2suc2VuZE1ldGFkYXRhKFByb21pc2UucmVzb2x2ZSh0aGlzLm1ldGFkYXRhKSkudGhlbihmaWx0ZXJlZE1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQgPSB0aGlzLmNoYW5uZWwuY3JlYXRlUmV0cnlpbmdDYWxsKGNvbmZpZywgdGhpcy5tZXRob2QsIHRoaXMuaG9zdCwgdGhpcy5jcmVkZW50aWFscywgdGhpcy5kZWFkbGluZSk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdDcmVhdGVkIGNoaWxkIFsnICsgdGhpcy5jaGlsZC5nZXRDYWxsTnVtYmVyKCkgKyAnXScpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLnN0YXJ0KGZpbHRlcmVkTWV0YWRhdGEsIHtcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXRhZGF0YScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKHRoaXMuZmlsdGVyU3RhY2sucmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiBtZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRGaWx0ZXJQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlTWVzc2FnZShtZXNzYWdlKS50aGVuKGZpbHRlcmVkTWVzc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnRmluaXNoZWQgZmlsdGVyaW5nIHJlY2VpdmVkIG1lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShmaWx0ZXJlZE1lc3NzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDaGlsZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHRoaXMucGVuZGluZ0NoaWxkU3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cy5jb2RlLCBzdGF0dXMuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzdGF0dXMnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZEZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkU3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWRQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZC5zdGFydFJlYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZU9uQ2hpbGQodGhpcy5wZW5kaW5nTWVzc2FnZS5jb250ZXh0LCB0aGlzLnBlbmRpbmdNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nSGFsZkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcG9ydFJlc29sdmVyRXJyb3Ioc3RhdHVzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRPcHRpb25zKCkud2FpdEZvclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwucXVldWVDYWxsRm9yQ29uZmlnKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbmNlbFdpdGhTdGF0dXMgY29kZTogJyArIHN0YXR1cyArICcgZGV0YWlsczogXCInICsgZGV0YWlscyArICdcIicpO1xuICAgICAgICAoX2EgPSB0aGlzLmNoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICBjb2RlOiBzdGF0dXMsXG4gICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFBlZXIoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5jaGFubmVsLmdldFRhcmdldCgpO1xuICAgIH1cbiAgICBzdGFydChtZXRhZGF0YSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnc3RhcnQgY2FsbGVkJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YS5jbG9uZSgpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMuZ2V0Q29uZmlnKCk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLnRyYWNlKCd3cml0ZSgpIGNhbGxlZCB3aXRoIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgKyBtZXNzYWdlLmxlbmd0aCk7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlT25DaGlsZChjb250ZXh0LCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSB7IGNvbnRleHQsIG1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2hhbGZDbG9zZSBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQgJiYgIXRoaXMud3JpdGVGaWx0ZXJQZW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDcmVkZW50aWFscyhjcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgfVxuICAgIGFkZFN0YXR1c1dhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB0aGlzLnN0YXR1c1dhdGNoZXJzLnB1c2god2F0Y2hlcik7XG4gICAgfVxuICAgIGdldENhbGxOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxOdW1iZXI7XG4gICAgfVxufVxuZXhwb3J0cy5SZXNvbHZpbmdDYWxsID0gUmVzb2x2aW5nQ2FsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmluZy1jYWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ResolvingLoadBalancer = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst service_config_1 = __webpack_require__(/*! ./service-config */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nconst TRACER_NAME = 'resolving_load_balancer';\nfunction trace(text) {\n    logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\n/**\n * Name match levels in order from most to least specific. This is the order in\n * which searches will be performed.\n */\nconst NAME_MATCH_LEVEL_ORDER = [\n    'SERVICE_AND_METHOD',\n    'SERVICE',\n    'EMPTY',\n];\nfunction hasMatchingName(service, method, methodConfig, matchLevel) {\n    for (const name of methodConfig.name) {\n        switch (matchLevel) {\n            case 'EMPTY':\n                if (!name.service && !name.method) {\n                    return true;\n                }\n                break;\n            case 'SERVICE':\n                if (name.service === service && !name.method) {\n                    return true;\n                }\n                break;\n            case 'SERVICE_AND_METHOD':\n                if (name.service === service && name.method === method) {\n                    return true;\n                }\n        }\n    }\n    return false;\n}\nfunction findMatchingConfig(service, method, methodConfigs, matchLevel) {\n    for (const config of methodConfigs) {\n        if (hasMatchingName(service, method, config, matchLevel)) {\n            return config;\n        }\n    }\n    return null;\n}\nfunction getDefaultConfigSelector(serviceConfig) {\n    return {\n        invoke(methodName, metadata) {\n            var _a, _b;\n            const splitName = methodName.split('/').filter(x => x.length > 0);\n            const service = (_a = splitName[0]) !== null && _a !== void 0 ? _a : '';\n            const method = (_b = splitName[1]) !== null && _b !== void 0 ? _b : '';\n            if (serviceConfig && serviceConfig.methodConfig) {\n                /* Check for the following in order, and return the first method\n                * config that matches:\n                * 1. A name that exactly matches the service and method\n                * 2. A name with no method set that matches the service\n                * 3. An empty name\n                */\n                for (const matchLevel of NAME_MATCH_LEVEL_ORDER) {\n                    const matchingConfig = findMatchingConfig(service, method, serviceConfig.methodConfig, matchLevel);\n                    if (matchingConfig) {\n                        return {\n                            methodConfig: matchingConfig,\n                            pickInformation: {},\n                            status: constants_1.Status.OK,\n                            dynamicFilterFactories: [],\n                        };\n                    }\n                }\n            }\n            return {\n                methodConfig: { name: [] },\n                pickInformation: {},\n                status: constants_1.Status.OK,\n                dynamicFilterFactories: [],\n            };\n        },\n        unref() { }\n    };\n}\nclass ResolvingLoadBalancer {\n    /**\n     * Wrapper class that behaves like a `LoadBalancer` and also handles name\n     * resolution internally.\n     * @param target The address of the backend to connect to.\n     * @param channelControlHelper `ChannelControlHelper` instance provided by\n     *     this load balancer's owner.\n     * @param defaultServiceConfig The default service configuration to be used\n     *     if none is provided by the name resolver. A `null` value indicates\n     *     that the default behavior should be the default unconfigured behavior.\n     *     In practice, that means using the \"pick first\" load balancer\n     *     implmentation\n     */\n    constructor(target, channelControlHelper, channelOptions, onSuccessfulResolution, onFailedResolution) {\n        this.target = target;\n        this.channelControlHelper = channelControlHelper;\n        this.channelOptions = channelOptions;\n        this.onSuccessfulResolution = onSuccessfulResolution;\n        this.onFailedResolution = onFailedResolution;\n        this.latestChildState = connectivity_state_1.ConnectivityState.IDLE;\n        this.latestChildPicker = new picker_1.QueuePicker(this);\n        this.latestChildErrorMessage = null;\n        /**\n         * This resolving load balancer's current connectivity state.\n         */\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The service config object from the last successful resolution, if\n         * available. A value of null indicates that we have not yet received a valid\n         * service config from the resolver.\n         */\n        this.previousServiceConfig = null;\n        /**\n         * Indicates whether we should attempt to resolve again after the backoff\n         * timer runs out.\n         */\n        this.continueResolving = false;\n        if (channelOptions['grpc.service_config']) {\n            this.defaultServiceConfig = (0, service_config_1.validateServiceConfig)(JSON.parse(channelOptions['grpc.service_config']));\n        }\n        else {\n            this.defaultServiceConfig = {\n                loadBalancingConfig: [],\n                methodConfig: [],\n            };\n        }\n        this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this), null);\n        this.childLoadBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler({\n            createSubchannel: channelControlHelper.createSubchannel.bind(channelControlHelper),\n            requestReresolution: () => {\n                /* If the backoffTimeout is running, we're still backing off from\n                 * making resolve requests, so we shouldn't make another one here.\n                 * In that case, the backoff timer callback will call\n                 * updateResolution */\n                if (this.backoffTimeout.isRunning()) {\n                    trace('requestReresolution delayed by backoff timer until ' +\n                        this.backoffTimeout.getEndTime().toISOString());\n                    this.continueResolving = true;\n                }\n                else {\n                    this.updateResolution();\n                }\n            },\n            updateState: (newState, picker, errorMessage) => {\n                this.latestChildState = newState;\n                this.latestChildPicker = picker;\n                this.latestChildErrorMessage = errorMessage;\n                this.updateState(newState, picker, errorMessage);\n            },\n            addChannelzChild: channelControlHelper.addChannelzChild.bind(channelControlHelper),\n            removeChannelzChild: channelControlHelper.removeChannelzChild.bind(channelControlHelper),\n        });\n        this.innerResolver = (0, resolver_1.createResolver)(target, {\n            onSuccessfulResolution: (endpointList, serviceConfig, serviceConfigError, configSelector, attributes) => {\n                var _a;\n                this.backoffTimeout.stop();\n                this.backoffTimeout.reset();\n                let workingServiceConfig = null;\n                /* This first group of conditionals implements the algorithm described\n                 * in https://github.com/grpc/proposal/blob/master/A21-service-config-error-handling.md\n                 * in the section called \"Behavior on receiving a new gRPC Config\".\n                 */\n                if (serviceConfig === null) {\n                    // Step 4 and 5\n                    if (serviceConfigError === null) {\n                        // Step 5\n                        this.previousServiceConfig = null;\n                        workingServiceConfig = this.defaultServiceConfig;\n                    }\n                    else {\n                        // Step 4\n                        if (this.previousServiceConfig === null) {\n                            // Step 4.ii\n                            this.handleResolutionFailure(serviceConfigError);\n                        }\n                        else {\n                            // Step 4.i\n                            workingServiceConfig = this.previousServiceConfig;\n                        }\n                    }\n                }\n                else {\n                    // Step 3\n                    workingServiceConfig = serviceConfig;\n                    this.previousServiceConfig = serviceConfig;\n                }\n                const workingConfigList = (_a = workingServiceConfig === null || workingServiceConfig === void 0 ? void 0 : workingServiceConfig.loadBalancingConfig) !== null && _a !== void 0 ? _a : [];\n                const loadBalancingConfig = (0, load_balancer_1.selectLbConfigFromList)(workingConfigList, true);\n                if (loadBalancingConfig === null) {\n                    // There were load balancing configs but none are supported. This counts as a resolution failure\n                    this.handleResolutionFailure({\n                        code: constants_1.Status.UNAVAILABLE,\n                        details: 'All load balancer options in service config are not compatible',\n                        metadata: new metadata_1.Metadata(),\n                    });\n                    configSelector === null || configSelector === void 0 ? void 0 : configSelector.unref();\n                    return;\n                }\n                this.childLoadBalancer.updateAddressList(endpointList, loadBalancingConfig, Object.assign(Object.assign({}, this.channelOptions), attributes));\n                const finalServiceConfig = workingServiceConfig !== null && workingServiceConfig !== void 0 ? workingServiceConfig : this.defaultServiceConfig;\n                this.onSuccessfulResolution(finalServiceConfig, configSelector !== null && configSelector !== void 0 ? configSelector : getDefaultConfigSelector(finalServiceConfig));\n            },\n            onError: (error) => {\n                this.handleResolutionFailure(error);\n            },\n        }, channelOptions);\n        const backoffOptions = {\n            initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: channelOptions['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n            if (this.continueResolving) {\n                this.updateResolution();\n                this.continueResolving = false;\n            }\n            else {\n                this.updateState(this.latestChildState, this.latestChildPicker, this.latestChildErrorMessage);\n            }\n        }, backoffOptions);\n        this.backoffTimeout.unref();\n    }\n    updateResolution() {\n        this.innerResolver.updateResolution();\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE) {\n            /* this.latestChildPicker is initialized as new QueuePicker(this), which\n             * is an appropriate value here if the child LB policy is unset.\n             * Otherwise, we want to delegate to the child here, in case that\n             * triggers something. */\n            this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, this.latestChildPicker, this.latestChildErrorMessage);\n        }\n        this.backoffTimeout.runOnce();\n    }\n    updateState(connectivityState, picker, errorMessage) {\n        trace((0, uri_parser_1.uriToString)(this.target) +\n            ' ' +\n            connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[connectivityState]);\n        // Ensure that this.exitIdle() is called by the picker\n        if (connectivityState === connectivity_state_1.ConnectivityState.IDLE) {\n            picker = new picker_1.QueuePicker(this, picker);\n        }\n        this.currentState = connectivityState;\n        this.channelControlHelper.updateState(connectivityState, picker, errorMessage);\n    }\n    handleResolutionFailure(error) {\n        if (this.latestChildState === connectivity_state_1.ConnectivityState.IDLE) {\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker(error), error.details);\n            this.onFailedResolution(error);\n        }\n    }\n    exitIdle() {\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE ||\n            this.currentState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n            if (this.backoffTimeout.isRunning()) {\n                this.continueResolving = true;\n            }\n            else {\n                this.updateResolution();\n            }\n        }\n        this.childLoadBalancer.exitIdle();\n    }\n    updateAddressList(endpointList, lbConfig) {\n        throw new Error('updateAddressList not supported on ResolvingLoadBalancer');\n    }\n    resetBackoff() {\n        this.backoffTimeout.reset();\n        this.childLoadBalancer.resetBackoff();\n    }\n    destroy() {\n        this.childLoadBalancer.destroy();\n        this.innerResolver.destroy();\n        this.backoffTimeout.reset();\n        this.backoffTimeout.stop();\n        this.latestChildState = connectivity_state_1.ConnectivityState.IDLE;\n        this.latestChildPicker = new picker_1.QueuePicker(this);\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        this.previousServiceConfig = null;\n        this.continueResolving = false;\n    }\n    getTypeName() {\n        return 'resolving_load_balancer';\n    }\n}\nexports.ResolvingLoadBalancer = ResolvingLoadBalancer;\n//# sourceMappingURL=resolving-load-balancer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZpbmctbG9hZC1iYWxhbmNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QjtBQUM3Qix3QkFBd0IsbUJBQU8sQ0FBQyx5SEFBaUI7QUFDakQseUJBQXlCLG1CQUFPLENBQUMsMkhBQWtCO0FBQ25ELDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2QyxpQkFBaUIsbUJBQU8sQ0FBQywyR0FBVTtBQUNuQywwQkFBMEIsbUJBQU8sQ0FBQyw2SEFBbUI7QUFDckQsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsNkdBQVc7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMscUJBQXFCLG1CQUFPLENBQUMsbUhBQWM7QUFDM0Msc0NBQXNDLG1CQUFPLENBQUMscUpBQStCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVU7QUFDMUMsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsMEhBQTBIO0FBQzFIO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmluZy1sb2FkLWJhbGFuY2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlc29sdmluZ0xvYWRCYWxhbmNlciA9IHZvaWQgMDtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG5jb25zdCBzZXJ2aWNlX2NvbmZpZ18xID0gcmVxdWlyZShcIi4vc2VydmljZS1jb25maWdcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IHBpY2tlcl8xID0gcmVxdWlyZShcIi4vcGlja2VyXCIpO1xuY29uc3QgYmFja29mZl90aW1lb3V0XzEgPSByZXF1aXJlKFwiLi9iYWNrb2ZmLXRpbWVvdXRcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzIgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXJcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdyZXNvbHZpbmdfbG9hZF9iYWxhbmNlcic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMi5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbi8qKlxuICogTmFtZSBtYXRjaCBsZXZlbHMgaW4gb3JkZXIgZnJvbSBtb3N0IHRvIGxlYXN0IHNwZWNpZmljLiBUaGlzIGlzIHRoZSBvcmRlciBpblxuICogd2hpY2ggc2VhcmNoZXMgd2lsbCBiZSBwZXJmb3JtZWQuXG4gKi9cbmNvbnN0IE5BTUVfTUFUQ0hfTEVWRUxfT1JERVIgPSBbXG4gICAgJ1NFUlZJQ0VfQU5EX01FVEhPRCcsXG4gICAgJ1NFUlZJQ0UnLFxuICAgICdFTVBUWScsXG5dO1xuZnVuY3Rpb24gaGFzTWF0Y2hpbmdOYW1lKHNlcnZpY2UsIG1ldGhvZCwgbWV0aG9kQ29uZmlnLCBtYXRjaExldmVsKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIG1ldGhvZENvbmZpZy5uYW1lKSB7XG4gICAgICAgIHN3aXRjaCAobWF0Y2hMZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAnRU1QVFknOlxuICAgICAgICAgICAgICAgIGlmICghbmFtZS5zZXJ2aWNlICYmICFuYW1lLm1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTRVJWSUNFJzpcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5zZXJ2aWNlID09PSBzZXJ2aWNlICYmICFuYW1lLm1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTRVJWSUNFX0FORF9NRVRIT0QnOlxuICAgICAgICAgICAgICAgIGlmIChuYW1lLnNlcnZpY2UgPT09IHNlcnZpY2UgJiYgbmFtZS5tZXRob2QgPT09IG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZmluZE1hdGNoaW5nQ29uZmlnKHNlcnZpY2UsIG1ldGhvZCwgbWV0aG9kQ29uZmlncywgbWF0Y2hMZXZlbCkge1xuICAgIGZvciAoY29uc3QgY29uZmlnIG9mIG1ldGhvZENvbmZpZ3MpIHtcbiAgICAgICAgaWYgKGhhc01hdGNoaW5nTmFtZShzZXJ2aWNlLCBtZXRob2QsIGNvbmZpZywgbWF0Y2hMZXZlbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0Q29uZmlnU2VsZWN0b3Ioc2VydmljZUNvbmZpZykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludm9rZShtZXRob2ROYW1lLCBtZXRhZGF0YSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0TmFtZSA9IG1ldGhvZE5hbWUuc3BsaXQoJy8nKS5maWx0ZXIoeCA9PiB4Lmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IChfYSA9IHNwbGl0TmFtZVswXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSAoX2IgPSBzcGxpdE5hbWVbMV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgICAgICAgICAgaWYgKHNlcnZpY2VDb25maWcgJiYgc2VydmljZUNvbmZpZy5tZXRob2RDb25maWcpIHtcbiAgICAgICAgICAgICAgICAvKiBDaGVjayBmb3IgdGhlIGZvbGxvd2luZyBpbiBvcmRlciwgYW5kIHJldHVybiB0aGUgZmlyc3QgbWV0aG9kXG4gICAgICAgICAgICAgICAgKiBjb25maWcgdGhhdCBtYXRjaGVzOlxuICAgICAgICAgICAgICAgICogMS4gQSBuYW1lIHRoYXQgZXhhY3RseSBtYXRjaGVzIHRoZSBzZXJ2aWNlIGFuZCBtZXRob2RcbiAgICAgICAgICAgICAgICAqIDIuIEEgbmFtZSB3aXRoIG5vIG1ldGhvZCBzZXQgdGhhdCBtYXRjaGVzIHRoZSBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgKiAzLiBBbiBlbXB0eSBuYW1lXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG1hdGNoTGV2ZWwgb2YgTkFNRV9NQVRDSF9MRVZFTF9PUkRFUikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGluZ0NvbmZpZyA9IGZpbmRNYXRjaGluZ0NvbmZpZyhzZXJ2aWNlLCBtZXRob2QsIHNlcnZpY2VDb25maWcubWV0aG9kQ29uZmlnLCBtYXRjaExldmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZENvbmZpZzogbWF0Y2hpbmdDb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlja0luZm9ybWF0aW9uOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGNvbnN0YW50c18xLlN0YXR1cy5PSyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljRmlsdGVyRmFjdG9yaWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1ldGhvZENvbmZpZzogeyBuYW1lOiBbXSB9LFxuICAgICAgICAgICAgICAgIHBpY2tJbmZvcm1hdGlvbjoge30sXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgICAgICAgICAgICAgZHluYW1pY0ZpbHRlckZhY3RvcmllczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB1bnJlZigpIHsgfVxuICAgIH07XG59XG5jbGFzcyBSZXNvbHZpbmdMb2FkQmFsYW5jZXIge1xuICAgIC8qKlxuICAgICAqIFdyYXBwZXIgY2xhc3MgdGhhdCBiZWhhdmVzIGxpa2UgYSBgTG9hZEJhbGFuY2VyYCBhbmQgYWxzbyBoYW5kbGVzIG5hbWVcbiAgICAgKiByZXNvbHV0aW9uIGludGVybmFsbHkuXG4gICAgICogQHBhcmFtIHRhcmdldCBUaGUgYWRkcmVzcyBvZiB0aGUgYmFja2VuZCB0byBjb25uZWN0IHRvLlxuICAgICAqIEBwYXJhbSBjaGFubmVsQ29udHJvbEhlbHBlciBgQ2hhbm5lbENvbnRyb2xIZWxwZXJgIGluc3RhbmNlIHByb3ZpZGVkIGJ5XG4gICAgICogICAgIHRoaXMgbG9hZCBiYWxhbmNlcidzIG93bmVyLlxuICAgICAqIEBwYXJhbSBkZWZhdWx0U2VydmljZUNvbmZpZyBUaGUgZGVmYXVsdCBzZXJ2aWNlIGNvbmZpZ3VyYXRpb24gdG8gYmUgdXNlZFxuICAgICAqICAgICBpZiBub25lIGlzIHByb3ZpZGVkIGJ5IHRoZSBuYW1lIHJlc29sdmVyLiBBIGBudWxsYCB2YWx1ZSBpbmRpY2F0ZXNcbiAgICAgKiAgICAgdGhhdCB0aGUgZGVmYXVsdCBiZWhhdmlvciBzaG91bGQgYmUgdGhlIGRlZmF1bHQgdW5jb25maWd1cmVkIGJlaGF2aW9yLlxuICAgICAqICAgICBJbiBwcmFjdGljZSwgdGhhdCBtZWFucyB1c2luZyB0aGUgXCJwaWNrIGZpcnN0XCIgbG9hZCBiYWxhbmNlclxuICAgICAqICAgICBpbXBsbWVudGF0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBjaGFubmVsQ29udHJvbEhlbHBlciwgY2hhbm5lbE9wdGlvbnMsIG9uU3VjY2Vzc2Z1bFJlc29sdXRpb24sIG9uRmFpbGVkUmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlciA9IGNoYW5uZWxDb250cm9sSGVscGVyO1xuICAgICAgICB0aGlzLmNoYW5uZWxPcHRpb25zID0gY2hhbm5lbE9wdGlvbnM7XG4gICAgICAgIHRoaXMub25TdWNjZXNzZnVsUmVzb2x1dGlvbiA9IG9uU3VjY2Vzc2Z1bFJlc29sdXRpb247XG4gICAgICAgIHRoaXMub25GYWlsZWRSZXNvbHV0aW9uID0gb25GYWlsZWRSZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmxhdGVzdENoaWxkU3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLmxhdGVzdENoaWxkUGlja2VyID0gbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpO1xuICAgICAgICB0aGlzLmxhdGVzdENoaWxkRXJyb3JNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcmVzb2x2aW5nIGxvYWQgYmFsYW5jZXIncyBjdXJyZW50IGNvbm5lY3Rpdml0eSBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzZXJ2aWNlIGNvbmZpZyBvYmplY3QgZnJvbSB0aGUgbGFzdCBzdWNjZXNzZnVsIHJlc29sdXRpb24sIGlmXG4gICAgICAgICAqIGF2YWlsYWJsZS4gQSB2YWx1ZSBvZiBudWxsIGluZGljYXRlcyB0aGF0IHdlIGhhdmUgbm90IHlldCByZWNlaXZlZCBhIHZhbGlkXG4gICAgICAgICAqIHNlcnZpY2UgY29uZmlnIGZyb20gdGhlIHJlc29sdmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWcgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgd2Ugc2hvdWxkIGF0dGVtcHQgdG8gcmVzb2x2ZSBhZ2FpbiBhZnRlciB0aGUgYmFja29mZlxuICAgICAgICAgKiB0aW1lciBydW5zIG91dC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKGNoYW5uZWxPcHRpb25zWydncnBjLnNlcnZpY2VfY29uZmlnJ10pIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlcnZpY2VDb25maWcgPSAoMCwgc2VydmljZV9jb25maWdfMS52YWxpZGF0ZVNlcnZpY2VDb25maWcpKEpTT04ucGFyc2UoY2hhbm5lbE9wdGlvbnNbJ2dycGMuc2VydmljZV9jb25maWcnXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBsb2FkQmFsYW5jaW5nQ29uZmlnOiBbXSxcbiAgICAgICAgICAgICAgICBtZXRob2RDb25maWc6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSwgbnVsbCk7XG4gICAgICAgIHRoaXMuY2hpbGRMb2FkQmFsYW5jZXIgPSBuZXcgbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyKHtcbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IGNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwuYmluZChjaGFubmVsQ29udHJvbEhlbHBlciksXG4gICAgICAgICAgICByZXF1ZXN0UmVyZXNvbHV0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIGJhY2tvZmZUaW1lb3V0IGlzIHJ1bm5pbmcsIHdlJ3JlIHN0aWxsIGJhY2tpbmcgb2ZmIGZyb21cbiAgICAgICAgICAgICAgICAgKiBtYWtpbmcgcmVzb2x2ZSByZXF1ZXN0cywgc28gd2Ugc2hvdWxkbid0IG1ha2UgYW5vdGhlciBvbmUgaGVyZS5cbiAgICAgICAgICAgICAgICAgKiBJbiB0aGF0IGNhc2UsIHRoZSBiYWNrb2ZmIHRpbWVyIGNhbGxiYWNrIHdpbGwgY2FsbFxuICAgICAgICAgICAgICAgICAqIHVwZGF0ZVJlc29sdXRpb24gKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrb2ZmVGltZW91dC5pc1J1bm5pbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgncmVxdWVzdFJlcmVzb2x1dGlvbiBkZWxheWVkIGJ5IGJhY2tvZmYgdGltZXIgdW50aWwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LmdldEVuZFRpbWUoKS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlc29sdXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlU3RhdGU6IChuZXdTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENoaWxkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENoaWxkUGlja2VyID0gcGlja2VyO1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRFcnJvck1lc3NhZ2UgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZENoYW5uZWx6Q2hpbGQ6IGNoYW5uZWxDb250cm9sSGVscGVyLmFkZENoYW5uZWx6Q2hpbGQuYmluZChjaGFubmVsQ29udHJvbEhlbHBlciksXG4gICAgICAgICAgICByZW1vdmVDaGFubmVsekNoaWxkOiBjaGFubmVsQ29udHJvbEhlbHBlci5yZW1vdmVDaGFubmVsekNoaWxkLmJpbmQoY2hhbm5lbENvbnRyb2xIZWxwZXIpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbm5lclJlc29sdmVyID0gKDAsIHJlc29sdmVyXzEuY3JlYXRlUmVzb2x2ZXIpKHRhcmdldCwge1xuICAgICAgICAgICAgb25TdWNjZXNzZnVsUmVzb2x1dGlvbjogKGVuZHBvaW50TGlzdCwgc2VydmljZUNvbmZpZywgc2VydmljZUNvbmZpZ0Vycm9yLCBjb25maWdTZWxlY3RvciwgYXR0cmlidXRlcykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgbGV0IHdvcmtpbmdTZXJ2aWNlQ29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvKiBUaGlzIGZpcnN0IGdyb3VwIG9mIGNvbmRpdGlvbmFscyBpbXBsZW1lbnRzIHRoZSBhbGdvcml0aG0gZGVzY3JpYmVkXG4gICAgICAgICAgICAgICAgICogaW4gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvcHJvcG9zYWwvYmxvYi9tYXN0ZXIvQTIxLXNlcnZpY2UtY29uZmlnLWVycm9yLWhhbmRsaW5nLm1kXG4gICAgICAgICAgICAgICAgICogaW4gdGhlIHNlY3Rpb24gY2FsbGVkIFwiQmVoYXZpb3Igb24gcmVjZWl2aW5nIGEgbmV3IGdSUEMgQ29uZmlnXCIuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VDb25maWcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RlcCA0IGFuZCA1XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlQ29uZmlnRXJyb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgNVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2luZ1NlcnZpY2VDb25maWcgPSB0aGlzLmRlZmF1bHRTZXJ2aWNlQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RlcCA0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIDQuaWlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc29sdXRpb25GYWlsdXJlKHNlcnZpY2VDb25maWdFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIDQuaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtpbmdTZXJ2aWNlQ29uZmlnID0gdGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgM1xuICAgICAgICAgICAgICAgICAgICB3b3JraW5nU2VydmljZUNvbmZpZyA9IHNlcnZpY2VDb25maWc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNTZXJ2aWNlQ29uZmlnID0gc2VydmljZUNvbmZpZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgd29ya2luZ0NvbmZpZ0xpc3QgPSAoX2EgPSB3b3JraW5nU2VydmljZUNvbmZpZyA9PT0gbnVsbCB8fCB3b3JraW5nU2VydmljZUNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd29ya2luZ1NlcnZpY2VDb25maWcubG9hZEJhbGFuY2luZ0NvbmZpZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICAgICAgY29uc3QgbG9hZEJhbGFuY2luZ0NvbmZpZyA9ICgwLCBsb2FkX2JhbGFuY2VyXzEuc2VsZWN0TGJDb25maWdGcm9tTGlzdCkod29ya2luZ0NvbmZpZ0xpc3QsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChsb2FkQmFsYW5jaW5nQ29uZmlnID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdlcmUgbG9hZCBiYWxhbmNpbmcgY29uZmlncyBidXQgbm9uZSBhcmUgc3VwcG9ydGVkLiBUaGlzIGNvdW50cyBhcyBhIHJlc29sdXRpb24gZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc29sdXRpb25GYWlsdXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdBbGwgbG9hZCBiYWxhbmNlciBvcHRpb25zIGluIHNlcnZpY2UgY29uZmlnIGFyZSBub3QgY29tcGF0aWJsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ1NlbGVjdG9yID09PSBudWxsIHx8IGNvbmZpZ1NlbGVjdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWdTZWxlY3Rvci51bnJlZigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRMb2FkQmFsYW5jZXIudXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsb2FkQmFsYW5jaW5nQ29uZmlnLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY2hhbm5lbE9wdGlvbnMpLCBhdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxTZXJ2aWNlQ29uZmlnID0gd29ya2luZ1NlcnZpY2VDb25maWcgIT09IG51bGwgJiYgd29ya2luZ1NlcnZpY2VDb25maWcgIT09IHZvaWQgMCA/IHdvcmtpbmdTZXJ2aWNlQ29uZmlnIDogdGhpcy5kZWZhdWx0U2VydmljZUNvbmZpZztcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24oZmluYWxTZXJ2aWNlQ29uZmlnLCBjb25maWdTZWxlY3RvciAhPT0gbnVsbCAmJiBjb25maWdTZWxlY3RvciAhPT0gdm9pZCAwID8gY29uZmlnU2VsZWN0b3IgOiBnZXREZWZhdWx0Q29uZmlnU2VsZWN0b3IoZmluYWxTZXJ2aWNlQ29uZmlnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjogKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNvbHV0aW9uRmFpbHVyZShlcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LCBjaGFubmVsT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGJhY2tvZmZPcHRpb25zID0ge1xuICAgICAgICAgICAgaW5pdGlhbERlbGF5OiBjaGFubmVsT3B0aW9uc1snZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJ10sXG4gICAgICAgICAgICBtYXhEZWxheTogY2hhbm5lbE9wdGlvbnNbJ2dycGMubWF4X3JlY29ubmVjdF9iYWNrb2ZmX21zJ10sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQgPSBuZXcgYmFja29mZl90aW1lb3V0XzEuQmFja29mZlRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGludWVSZXNvbHZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlc29sdXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHRoaXMubGF0ZXN0Q2hpbGRTdGF0ZSwgdGhpcy5sYXRlc3RDaGlsZFBpY2tlciwgdGhpcy5sYXRlc3RDaGlsZEVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGJhY2tvZmZPcHRpb25zKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC51bnJlZigpO1xuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICB0aGlzLmlubmVyUmVzb2x2ZXIudXBkYXRlUmVzb2x1dGlvbigpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIC8qIHRoaXMubGF0ZXN0Q2hpbGRQaWNrZXIgaXMgaW5pdGlhbGl6ZWQgYXMgbmV3IFF1ZXVlUGlja2VyKHRoaXMpLCB3aGljaFxuICAgICAgICAgICAgICogaXMgYW4gYXBwcm9wcmlhdGUgdmFsdWUgaGVyZSBpZiB0aGUgY2hpbGQgTEIgcG9saWN5IGlzIHVuc2V0LlxuICAgICAgICAgICAgICogT3RoZXJ3aXNlLCB3ZSB3YW50IHRvIGRlbGVnYXRlIHRvIHRoZSBjaGlsZCBoZXJlLCBpbiBjYXNlIHRoYXRcbiAgICAgICAgICAgICAqIHRyaWdnZXJzIHNvbWV0aGluZy4gKi9cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORywgdGhpcy5sYXRlc3RDaGlsZFBpY2tlciwgdGhpcy5sYXRlc3RDaGlsZEVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5ydW5PbmNlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICB0cmFjZSgoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY3VycmVudFN0YXRlXSArXG4gICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbY29ubmVjdGl2aXR5U3RhdGVdKTtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhpcy5leGl0SWRsZSgpIGlzIGNhbGxlZCBieSB0aGUgcGlja2VyXG4gICAgICAgIGlmIChjb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgcGlja2VyID0gbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMsIHBpY2tlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBoYW5kbGVSZXNvbHV0aW9uRmFpbHVyZShlcnJvcikge1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RDaGlsZFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoZXJyb3IpLCBlcnJvci5kZXRhaWxzKTtcbiAgICAgICAgICAgIHRoaXMub25GYWlsZWRSZXNvbHV0aW9uKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFIHx8XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhY2tvZmZUaW1lb3V0LmlzUnVubmluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlc29sdXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaWxkTG9hZEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KGVuZHBvaW50TGlzdCwgbGJDb25maWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1cGRhdGVBZGRyZXNzTGlzdCBub3Qgc3VwcG9ydGVkIG9uIFJlc29sdmluZ0xvYWRCYWxhbmNlcicpO1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucmVzZXQoKTtcbiAgICAgICAgdGhpcy5jaGlsZExvYWRCYWxhbmNlci5yZXNldEJhY2tvZmYoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jaGlsZExvYWRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5uZXJSZXNvbHZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucmVzZXQoKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5zdG9wKCk7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRQaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyk7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWcgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ3Jlc29sdmluZ19sb2FkX2JhbGFuY2VyJztcbiAgICB9XG59XG5leHBvcnRzLlJlc29sdmluZ0xvYWRCYWxhbmNlciA9IFJlc29sdmluZ0xvYWRCYWxhbmNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmluZy1sb2FkLWJhbGFuY2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RetryingCall = exports.MessageBufferTracker = exports.RetryThrottler = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'retrying_call';\nclass RetryThrottler {\n    constructor(maxTokens, tokenRatio, previousRetryThrottler) {\n        this.maxTokens = maxTokens;\n        this.tokenRatio = tokenRatio;\n        if (previousRetryThrottler) {\n            /* When carrying over tokens from a previous config, rescale them to the\n             * new max value */\n            this.tokens =\n                previousRetryThrottler.tokens *\n                    (maxTokens / previousRetryThrottler.maxTokens);\n        }\n        else {\n            this.tokens = maxTokens;\n        }\n    }\n    addCallSucceeded() {\n        this.tokens = Math.min(this.tokens + this.tokenRatio, this.maxTokens);\n    }\n    addCallFailed() {\n        this.tokens = Math.max(this.tokens - 1, 0);\n    }\n    canRetryCall() {\n        return this.tokens > (this.maxTokens / 2);\n    }\n}\nexports.RetryThrottler = RetryThrottler;\nclass MessageBufferTracker {\n    constructor(totalLimit, limitPerCall) {\n        this.totalLimit = totalLimit;\n        this.limitPerCall = limitPerCall;\n        this.totalAllocated = 0;\n        this.allocatedPerCall = new Map();\n    }\n    allocate(size, callId) {\n        var _a;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (this.limitPerCall - currentPerCall < size ||\n            this.totalLimit - this.totalAllocated < size) {\n            return false;\n        }\n        this.allocatedPerCall.set(callId, currentPerCall + size);\n        this.totalAllocated += size;\n        return true;\n    }\n    free(size, callId) {\n        var _a;\n        if (this.totalAllocated < size) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > total allocated ${this.totalAllocated}`);\n        }\n        this.totalAllocated -= size;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (currentPerCall < size) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > allocated for call ${currentPerCall}`);\n        }\n        this.allocatedPerCall.set(callId, currentPerCall - size);\n    }\n    freeAll(callId) {\n        var _a;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (this.totalAllocated < currentPerCall) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} allocated ${currentPerCall} > total allocated ${this.totalAllocated}`);\n        }\n        this.totalAllocated -= currentPerCall;\n        this.allocatedPerCall.delete(callId);\n    }\n}\nexports.MessageBufferTracker = MessageBufferTracker;\nconst PREVIONS_RPC_ATTEMPTS_METADATA_KEY = 'grpc-previous-rpc-attempts';\nconst DEFAULT_MAX_ATTEMPTS_LIMIT = 5;\nclass RetryingCall {\n    constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber, bufferTracker, retryThrottler) {\n        var _a;\n        this.channel = channel;\n        this.callConfig = callConfig;\n        this.methodName = methodName;\n        this.host = host;\n        this.credentials = credentials;\n        this.deadline = deadline;\n        this.callNumber = callNumber;\n        this.bufferTracker = bufferTracker;\n        this.retryThrottler = retryThrottler;\n        this.listener = null;\n        this.initialMetadata = null;\n        this.underlyingCalls = [];\n        this.writeBuffer = [];\n        /**\n         * The offset of message indices in the writeBuffer. For example, if\n         * writeBufferOffset is 10, message 10 is in writeBuffer[0] and message 15\n         * is in writeBuffer[5].\n         */\n        this.writeBufferOffset = 0;\n        /**\n         * Tracks whether a read has been started, so that we know whether to start\n         * reads on new child calls. This only matters for the first read, because\n         * once a message comes in the child call becomes committed and there will\n         * be no new child calls.\n         */\n        this.readStarted = false;\n        this.transparentRetryUsed = false;\n        /**\n         * Number of attempts so far\n         */\n        this.attempts = 0;\n        this.hedgingTimer = null;\n        this.committedCallIndex = null;\n        this.initialRetryBackoffSec = 0;\n        this.nextRetryBackoffSec = 0;\n        const maxAttemptsLimit = (_a = channel.getOptions()['grpc-node.retry_max_attempts_limit']) !== null && _a !== void 0 ? _a : DEFAULT_MAX_ATTEMPTS_LIMIT;\n        if (channel.getOptions()['grpc.enable_retries'] === 0) {\n            this.state = 'NO_RETRY';\n            this.maxAttempts = 1;\n        }\n        else if (callConfig.methodConfig.retryPolicy) {\n            this.state = 'RETRY';\n            const retryPolicy = callConfig.methodConfig.retryPolicy;\n            this.nextRetryBackoffSec = this.initialRetryBackoffSec = Number(retryPolicy.initialBackoff.substring(0, retryPolicy.initialBackoff.length - 1));\n            this.maxAttempts = Math.min(retryPolicy.maxAttempts, maxAttemptsLimit);\n        }\n        else if (callConfig.methodConfig.hedgingPolicy) {\n            this.state = 'HEDGING';\n            this.maxAttempts = Math.min(callConfig.methodConfig.hedgingPolicy.maxAttempts, maxAttemptsLimit);\n        }\n        else {\n            this.state = 'TRANSPARENT_ONLY';\n            this.maxAttempts = 1;\n        }\n        this.startTime = new Date();\n    }\n    getDeadlineInfo() {\n        if (this.underlyingCalls.length === 0) {\n            return [];\n        }\n        const deadlineInfo = [];\n        const latestCall = this.underlyingCalls[this.underlyingCalls.length - 1];\n        if (this.underlyingCalls.length > 1) {\n            deadlineInfo.push(`previous attempts: ${this.underlyingCalls.length - 1}`);\n        }\n        if (latestCall.startTime > this.startTime) {\n            deadlineInfo.push(`time to current attempt start: ${(0, deadline_1.formatDateDifference)(this.startTime, latestCall.startTime)}`);\n        }\n        deadlineInfo.push(...latestCall.call.getDeadlineInfo());\n        return deadlineInfo;\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    reportStatus(statusObject) {\n        this.trace('ended with status: code=' +\n            statusObject.code +\n            ' details=\"' +\n            statusObject.details +\n            '\" start time=' +\n            this.startTime.toISOString());\n        this.bufferTracker.freeAll(this.callNumber);\n        this.writeBufferOffset = this.writeBufferOffset + this.writeBuffer.length;\n        this.writeBuffer = [];\n        process.nextTick(() => {\n            var _a;\n            // Explicitly construct status object to remove progress field\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus({\n                code: statusObject.code,\n                details: statusObject.details,\n                metadata: statusObject.metadata,\n            });\n        });\n    }\n    cancelWithStatus(status, details) {\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        this.reportStatus({ code: status, details, metadata: new metadata_1.Metadata() });\n        for (const { call } of this.underlyingCalls) {\n            call.cancelWithStatus(status, details);\n        }\n    }\n    getPeer() {\n        if (this.committedCallIndex !== null) {\n            return this.underlyingCalls[this.committedCallIndex].call.getPeer();\n        }\n        else {\n            return 'unknown';\n        }\n    }\n    getBufferEntry(messageIndex) {\n        var _a;\n        return ((_a = this.writeBuffer[messageIndex - this.writeBufferOffset]) !== null && _a !== void 0 ? _a : {\n            entryType: 'FREED',\n            allocated: false,\n        });\n    }\n    getNextBufferIndex() {\n        return this.writeBufferOffset + this.writeBuffer.length;\n    }\n    clearSentMessages() {\n        if (this.state !== 'COMMITTED') {\n            return;\n        }\n        let earliestNeededMessageIndex;\n        if (this.underlyingCalls[this.committedCallIndex].state === 'COMPLETED') {\n            /* If the committed call is completed, clear all messages, even if some\n             * have not been sent. */\n            earliestNeededMessageIndex = this.getNextBufferIndex();\n        }\n        else {\n            earliestNeededMessageIndex =\n                this.underlyingCalls[this.committedCallIndex].nextMessageToSend;\n        }\n        for (let messageIndex = this.writeBufferOffset; messageIndex < earliestNeededMessageIndex; messageIndex++) {\n            const bufferEntry = this.getBufferEntry(messageIndex);\n            if (bufferEntry.allocated) {\n                this.bufferTracker.free(bufferEntry.message.message.length, this.callNumber);\n            }\n        }\n        this.writeBuffer = this.writeBuffer.slice(earliestNeededMessageIndex - this.writeBufferOffset);\n        this.writeBufferOffset = earliestNeededMessageIndex;\n    }\n    commitCall(index) {\n        var _a, _b;\n        if (this.state === 'COMMITTED') {\n            return;\n        }\n        this.trace('Committing call [' +\n            this.underlyingCalls[index].call.getCallNumber() +\n            '] at index ' +\n            index);\n        this.state = 'COMMITTED';\n        (_b = (_a = this.callConfig).onCommitted) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.committedCallIndex = index;\n        for (let i = 0; i < this.underlyingCalls.length; i++) {\n            if (i === index) {\n                continue;\n            }\n            if (this.underlyingCalls[i].state === 'COMPLETED') {\n                continue;\n            }\n            this.underlyingCalls[i].state = 'COMPLETED';\n            this.underlyingCalls[i].call.cancelWithStatus(constants_1.Status.CANCELLED, 'Discarded in favor of other hedged attempt');\n        }\n        this.clearSentMessages();\n    }\n    commitCallWithMostMessages() {\n        if (this.state === 'COMMITTED') {\n            return;\n        }\n        let mostMessages = -1;\n        let callWithMostMessages = -1;\n        for (const [index, childCall] of this.underlyingCalls.entries()) {\n            if (childCall.state === 'ACTIVE' &&\n                childCall.nextMessageToSend > mostMessages) {\n                mostMessages = childCall.nextMessageToSend;\n                callWithMostMessages = index;\n            }\n        }\n        if (callWithMostMessages === -1) {\n            /* There are no active calls, disable retries to force the next call that\n             * is started to be committed. */\n            this.state = 'TRANSPARENT_ONLY';\n        }\n        else {\n            this.commitCall(callWithMostMessages);\n        }\n    }\n    isStatusCodeInList(list, code) {\n        return list.some(value => {\n            var _a;\n            return value === code ||\n                value.toString().toLowerCase() === ((_a = constants_1.Status[code]) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        });\n    }\n    getNextRetryBackoffMs() {\n        var _a;\n        const retryPolicy = (_a = this.callConfig) === null || _a === void 0 ? void 0 : _a.methodConfig.retryPolicy;\n        if (!retryPolicy) {\n            return 0;\n        }\n        const nextBackoffMs = Math.random() * this.nextRetryBackoffSec * 1000;\n        const maxBackoffSec = Number(retryPolicy.maxBackoff.substring(0, retryPolicy.maxBackoff.length - 1));\n        this.nextRetryBackoffSec = Math.min(this.nextRetryBackoffSec * retryPolicy.backoffMultiplier, maxBackoffSec);\n        return nextBackoffMs;\n    }\n    maybeRetryCall(pushback, callback) {\n        if (this.state !== 'RETRY') {\n            callback(false);\n            return;\n        }\n        if (this.attempts >= this.maxAttempts) {\n            callback(false);\n            return;\n        }\n        let retryDelayMs;\n        if (pushback === null) {\n            retryDelayMs = this.getNextRetryBackoffMs();\n        }\n        else if (pushback < 0) {\n            this.state = 'TRANSPARENT_ONLY';\n            callback(false);\n            return;\n        }\n        else {\n            retryDelayMs = pushback;\n            this.nextRetryBackoffSec = this.initialRetryBackoffSec;\n        }\n        setTimeout(() => {\n            var _a, _b;\n            if (this.state !== 'RETRY') {\n                callback(false);\n                return;\n            }\n            if ((_b = (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.canRetryCall()) !== null && _b !== void 0 ? _b : true) {\n                callback(true);\n                this.attempts += 1;\n                this.startNewAttempt();\n            }\n            else {\n                this.trace('Retry attempt denied by throttling policy');\n                callback(false);\n            }\n        }, retryDelayMs);\n    }\n    countActiveCalls() {\n        let count = 0;\n        for (const call of this.underlyingCalls) {\n            if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE') {\n                count += 1;\n            }\n        }\n        return count;\n    }\n    handleProcessedStatus(status, callIndex, pushback) {\n        var _a, _b, _c;\n        switch (this.state) {\n            case 'COMMITTED':\n            case 'NO_RETRY':\n            case 'TRANSPARENT_ONLY':\n                this.commitCall(callIndex);\n                this.reportStatus(status);\n                break;\n            case 'HEDGING':\n                if (this.isStatusCodeInList((_a = this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes) !== null && _a !== void 0 ? _a : [], status.code)) {\n                    (_b = this.retryThrottler) === null || _b === void 0 ? void 0 : _b.addCallFailed();\n                    let delayMs;\n                    if (pushback === null) {\n                        delayMs = 0;\n                    }\n                    else if (pushback < 0) {\n                        this.state = 'TRANSPARENT_ONLY';\n                        this.commitCall(callIndex);\n                        this.reportStatus(status);\n                        return;\n                    }\n                    else {\n                        delayMs = pushback;\n                    }\n                    setTimeout(() => {\n                        this.maybeStartHedgingAttempt();\n                        // If after trying to start a call there are no active calls, this was the last one\n                        if (this.countActiveCalls() === 0) {\n                            this.commitCall(callIndex);\n                            this.reportStatus(status);\n                        }\n                    }, delayMs);\n                }\n                else {\n                    this.commitCall(callIndex);\n                    this.reportStatus(status);\n                }\n                break;\n            case 'RETRY':\n                if (this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes, status.code)) {\n                    (_c = this.retryThrottler) === null || _c === void 0 ? void 0 : _c.addCallFailed();\n                    this.maybeRetryCall(pushback, retried => {\n                        if (!retried) {\n                            this.commitCall(callIndex);\n                            this.reportStatus(status);\n                        }\n                    });\n                }\n                else {\n                    this.commitCall(callIndex);\n                    this.reportStatus(status);\n                }\n                break;\n        }\n    }\n    getPushback(metadata) {\n        const mdValue = metadata.get('grpc-retry-pushback-ms');\n        if (mdValue.length === 0) {\n            return null;\n        }\n        try {\n            return parseInt(mdValue[0]);\n        }\n        catch (e) {\n            return -1;\n        }\n    }\n    handleChildStatus(status, callIndex) {\n        var _a;\n        if (this.underlyingCalls[callIndex].state === 'COMPLETED') {\n            return;\n        }\n        this.trace('state=' +\n            this.state +\n            ' handling status with progress ' +\n            status.progress +\n            ' from child [' +\n            this.underlyingCalls[callIndex].call.getCallNumber() +\n            '] in state ' +\n            this.underlyingCalls[callIndex].state);\n        this.underlyingCalls[callIndex].state = 'COMPLETED';\n        if (status.code === constants_1.Status.OK) {\n            (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.addCallSucceeded();\n            this.commitCall(callIndex);\n            this.reportStatus(status);\n            return;\n        }\n        if (this.state === 'NO_RETRY') {\n            this.commitCall(callIndex);\n            this.reportStatus(status);\n            return;\n        }\n        if (this.state === 'COMMITTED') {\n            this.reportStatus(status);\n            return;\n        }\n        const pushback = this.getPushback(status.metadata);\n        switch (status.progress) {\n            case 'NOT_STARTED':\n                // RPC never leaves the client, always safe to retry\n                this.startNewAttempt();\n                break;\n            case 'REFUSED':\n                // RPC reaches the server library, but not the server application logic\n                if (this.transparentRetryUsed) {\n                    this.handleProcessedStatus(status, callIndex, pushback);\n                }\n                else {\n                    this.transparentRetryUsed = true;\n                    this.startNewAttempt();\n                }\n                break;\n            case 'DROP':\n                this.commitCall(callIndex);\n                this.reportStatus(status);\n                break;\n            case 'PROCESSED':\n                this.handleProcessedStatus(status, callIndex, pushback);\n                break;\n        }\n    }\n    maybeStartHedgingAttempt() {\n        if (this.state !== 'HEDGING') {\n            return;\n        }\n        if (!this.callConfig.methodConfig.hedgingPolicy) {\n            return;\n        }\n        if (this.attempts >= this.maxAttempts) {\n            return;\n        }\n        this.attempts += 1;\n        this.startNewAttempt();\n        this.maybeStartHedgingTimer();\n    }\n    maybeStartHedgingTimer() {\n        var _a, _b, _c;\n        if (this.hedgingTimer) {\n            clearTimeout(this.hedgingTimer);\n        }\n        if (this.state !== 'HEDGING') {\n            return;\n        }\n        if (!this.callConfig.methodConfig.hedgingPolicy) {\n            return;\n        }\n        const hedgingPolicy = this.callConfig.methodConfig.hedgingPolicy;\n        if (this.attempts >= this.maxAttempts) {\n            return;\n        }\n        const hedgingDelayString = (_a = hedgingPolicy.hedgingDelay) !== null && _a !== void 0 ? _a : '0s';\n        const hedgingDelaySec = Number(hedgingDelayString.substring(0, hedgingDelayString.length - 1));\n        this.hedgingTimer = setTimeout(() => {\n            this.maybeStartHedgingAttempt();\n        }, hedgingDelaySec * 1000);\n        (_c = (_b = this.hedgingTimer).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n    }\n    startNewAttempt() {\n        const child = this.channel.createLoadBalancingCall(this.callConfig, this.methodName, this.host, this.credentials, this.deadline);\n        this.trace('Created child call [' +\n            child.getCallNumber() +\n            '] for attempt ' +\n            this.attempts);\n        const index = this.underlyingCalls.length;\n        this.underlyingCalls.push({\n            state: 'ACTIVE',\n            call: child,\n            nextMessageToSend: 0,\n            startTime: new Date()\n        });\n        const previousAttempts = this.attempts - 1;\n        const initialMetadata = this.initialMetadata.clone();\n        if (previousAttempts > 0) {\n            initialMetadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n        }\n        let receivedMetadata = false;\n        child.start(initialMetadata, {\n            onReceiveMetadata: metadata => {\n                this.trace('Received metadata from child [' + child.getCallNumber() + ']');\n                this.commitCall(index);\n                receivedMetadata = true;\n                if (previousAttempts > 0) {\n                    metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n                }\n                if (this.underlyingCalls[index].state === 'ACTIVE') {\n                    this.listener.onReceiveMetadata(metadata);\n                }\n            },\n            onReceiveMessage: message => {\n                this.trace('Received message from child [' + child.getCallNumber() + ']');\n                this.commitCall(index);\n                if (this.underlyingCalls[index].state === 'ACTIVE') {\n                    this.listener.onReceiveMessage(message);\n                }\n            },\n            onReceiveStatus: status => {\n                this.trace('Received status from child [' + child.getCallNumber() + ']');\n                if (!receivedMetadata && previousAttempts > 0) {\n                    status.metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n                }\n                this.handleChildStatus(status, index);\n            },\n        });\n        this.sendNextChildMessage(index);\n        if (this.readStarted) {\n            child.startRead();\n        }\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.listener = listener;\n        this.initialMetadata = metadata;\n        this.attempts += 1;\n        this.startNewAttempt();\n        this.maybeStartHedgingTimer();\n    }\n    handleChildWriteCompleted(childIndex) {\n        var _a, _b;\n        const childCall = this.underlyingCalls[childIndex];\n        const messageIndex = childCall.nextMessageToSend;\n        (_b = (_a = this.getBufferEntry(messageIndex)).callback) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.clearSentMessages();\n        childCall.nextMessageToSend += 1;\n        this.sendNextChildMessage(childIndex);\n    }\n    sendNextChildMessage(childIndex) {\n        const childCall = this.underlyingCalls[childIndex];\n        if (childCall.state === 'COMPLETED') {\n            return;\n        }\n        if (this.getBufferEntry(childCall.nextMessageToSend)) {\n            const bufferEntry = this.getBufferEntry(childCall.nextMessageToSend);\n            switch (bufferEntry.entryType) {\n                case 'MESSAGE':\n                    childCall.call.sendMessageWithContext({\n                        callback: error => {\n                            // Ignore error\n                            this.handleChildWriteCompleted(childIndex);\n                        },\n                    }, bufferEntry.message.message);\n                    break;\n                case 'HALF_CLOSE':\n                    childCall.nextMessageToSend += 1;\n                    childCall.call.halfClose();\n                    break;\n                case 'FREED':\n                    // Should not be possible\n                    break;\n            }\n        }\n    }\n    sendMessageWithContext(context, message) {\n        var _a;\n        this.trace('write() called with message of length ' + message.length);\n        const writeObj = {\n            message,\n            flags: context.flags,\n        };\n        const messageIndex = this.getNextBufferIndex();\n        const bufferEntry = {\n            entryType: 'MESSAGE',\n            message: writeObj,\n            allocated: this.bufferTracker.allocate(message.length, this.callNumber),\n        };\n        this.writeBuffer.push(bufferEntry);\n        if (bufferEntry.allocated) {\n            (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n            for (const [callIndex, call] of this.underlyingCalls.entries()) {\n                if (call.state === 'ACTIVE' &&\n                    call.nextMessageToSend === messageIndex) {\n                    call.call.sendMessageWithContext({\n                        callback: error => {\n                            // Ignore error\n                            this.handleChildWriteCompleted(callIndex);\n                        },\n                    }, message);\n                }\n            }\n        }\n        else {\n            this.commitCallWithMostMessages();\n            // commitCallWithMostMessages can fail if we are between ping attempts\n            if (this.committedCallIndex === null) {\n                return;\n            }\n            const call = this.underlyingCalls[this.committedCallIndex];\n            bufferEntry.callback = context.callback;\n            if (call.state === 'ACTIVE' && call.nextMessageToSend === messageIndex) {\n                call.call.sendMessageWithContext({\n                    callback: error => {\n                        // Ignore error\n                        this.handleChildWriteCompleted(this.committedCallIndex);\n                    },\n                }, message);\n            }\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        this.readStarted = true;\n        for (const underlyingCall of this.underlyingCalls) {\n            if ((underlyingCall === null || underlyingCall === void 0 ? void 0 : underlyingCall.state) === 'ACTIVE') {\n                underlyingCall.call.startRead();\n            }\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        const halfCloseIndex = this.getNextBufferIndex();\n        this.writeBuffer.push({\n            entryType: 'HALF_CLOSE',\n            allocated: false,\n        });\n        for (const call of this.underlyingCalls) {\n            if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE' &&\n                call.nextMessageToSend === halfCloseIndex) {\n                call.nextMessageToSend += 1;\n                call.call.halfClose();\n            }\n        }\n    }\n    setCredentials(newCredentials) {\n        throw new Error('Method not implemented.');\n    }\n    getMethod() {\n        return this.methodName;\n    }\n    getHost() {\n        return this.host;\n    }\n}\nexports.RetryingCall = RetryingCall;\n//# sourceMappingURL=retrying-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXRyeWluZy1jYWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsNEJBQTRCLEdBQUcsc0JBQXNCO0FBQzVFLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFFBQVEsUUFBUSxNQUFNLG9CQUFvQixvQkFBb0I7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsUUFBUSxRQUFRLE1BQU0sdUJBQXVCLGVBQWU7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsUUFBUSxZQUFZLGdCQUFnQixvQkFBb0Isb0JBQW9CO0FBQ2pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxnQ0FBZ0M7QUFDcEY7QUFDQTtBQUNBLGdFQUFnRSwyRUFBMkU7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQTREO0FBQ3hGLHFCQUFxQixPQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCwyQ0FBMkM7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQ0FBaUM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLGlCQUFpQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGlCQUFpQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGlCQUFpQjtBQUNoRztBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXRyeWluZy1jYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJldHJ5aW5nQ2FsbCA9IGV4cG9ydHMuTWVzc2FnZUJ1ZmZlclRyYWNrZXIgPSBleHBvcnRzLlJldHJ5VGhyb3R0bGVyID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3JldHJ5aW5nX2NhbGwnO1xuY2xhc3MgUmV0cnlUaHJvdHRsZXIge1xuICAgIGNvbnN0cnVjdG9yKG1heFRva2VucywgdG9rZW5SYXRpbywgcHJldmlvdXNSZXRyeVRocm90dGxlcikge1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IG1heFRva2VucztcbiAgICAgICAgdGhpcy50b2tlblJhdGlvID0gdG9rZW5SYXRpbztcbiAgICAgICAgaWYgKHByZXZpb3VzUmV0cnlUaHJvdHRsZXIpIHtcbiAgICAgICAgICAgIC8qIFdoZW4gY2Fycnlpbmcgb3ZlciB0b2tlbnMgZnJvbSBhIHByZXZpb3VzIGNvbmZpZywgcmVzY2FsZSB0aGVtIHRvIHRoZVxuICAgICAgICAgICAgICogbmV3IG1heCB2YWx1ZSAqL1xuICAgICAgICAgICAgdGhpcy50b2tlbnMgPVxuICAgICAgICAgICAgICAgIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIudG9rZW5zICpcbiAgICAgICAgICAgICAgICAgICAgKG1heFRva2VucyAvIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIubWF4VG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zID0gbWF4VG9rZW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENhbGxTdWNjZWVkZWQoKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gTWF0aC5taW4odGhpcy50b2tlbnMgKyB0aGlzLnRva2VuUmF0aW8sIHRoaXMubWF4VG9rZW5zKTtcbiAgICB9XG4gICAgYWRkQ2FsbEZhaWxlZCgpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSBNYXRoLm1heCh0aGlzLnRva2VucyAtIDEsIDApO1xuICAgIH1cbiAgICBjYW5SZXRyeUNhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VucyA+ICh0aGlzLm1heFRva2VucyAvIDIpO1xuICAgIH1cbn1cbmV4cG9ydHMuUmV0cnlUaHJvdHRsZXIgPSBSZXRyeVRocm90dGxlcjtcbmNsYXNzIE1lc3NhZ2VCdWZmZXJUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3RhbExpbWl0LCBsaW1pdFBlckNhbGwpIHtcbiAgICAgICAgdGhpcy50b3RhbExpbWl0ID0gdG90YWxMaW1pdDtcbiAgICAgICAgdGhpcy5saW1pdFBlckNhbGwgPSBsaW1pdFBlckNhbGw7XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgPSAwO1xuICAgICAgICB0aGlzLmFsbG9jYXRlZFBlckNhbGwgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGFsbG9jYXRlKHNpemUsIGNhbGxJZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJDYWxsID0gKF9hID0gdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmdldChjYWxsSWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBpZiAodGhpcy5saW1pdFBlckNhbGwgLSBjdXJyZW50UGVyQ2FsbCA8IHNpemUgfHxcbiAgICAgICAgICAgIHRoaXMudG90YWxMaW1pdCAtIHRoaXMudG90YWxBbGxvY2F0ZWQgPCBzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLnNldChjYWxsSWQsIGN1cnJlbnRQZXJDYWxsICsgc2l6ZSk7XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgKz0gc2l6ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZyZWUoc2l6ZSwgY2FsbElkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMudG90YWxBbGxvY2F0ZWQgPCBzaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyIGFsbG9jYXRpb24gc3RhdGU6IGNhbGwgJHtjYWxsSWR9IGZyZWVkICR7c2l6ZX0gPiB0b3RhbCBhbGxvY2F0ZWQgJHt0aGlzLnRvdGFsQWxsb2NhdGVkfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgLT0gc2l6ZTtcbiAgICAgICAgY29uc3QgY3VycmVudFBlckNhbGwgPSAoX2EgPSB0aGlzLmFsbG9jYXRlZFBlckNhbGwuZ2V0KGNhbGxJZCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7XG4gICAgICAgIGlmIChjdXJyZW50UGVyQ2FsbCA8IHNpemUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBidWZmZXIgYWxsb2NhdGlvbiBzdGF0ZTogY2FsbCAke2NhbGxJZH0gZnJlZWQgJHtzaXplfSA+IGFsbG9jYXRlZCBmb3IgY2FsbCAke2N1cnJlbnRQZXJDYWxsfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWxsb2NhdGVkUGVyQ2FsbC5zZXQoY2FsbElkLCBjdXJyZW50UGVyQ2FsbCAtIHNpemUpO1xuICAgIH1cbiAgICBmcmVlQWxsKGNhbGxJZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJDYWxsID0gKF9hID0gdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmdldChjYWxsSWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBpZiAodGhpcy50b3RhbEFsbG9jYXRlZCA8IGN1cnJlbnRQZXJDYWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyIGFsbG9jYXRpb24gc3RhdGU6IGNhbGwgJHtjYWxsSWR9IGFsbG9jYXRlZCAke2N1cnJlbnRQZXJDYWxsfSA+IHRvdGFsIGFsbG9jYXRlZCAke3RoaXMudG90YWxBbGxvY2F0ZWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbEFsbG9jYXRlZCAtPSBjdXJyZW50UGVyQ2FsbDtcbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmRlbGV0ZShjYWxsSWQpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWVzc2FnZUJ1ZmZlclRyYWNrZXIgPSBNZXNzYWdlQnVmZmVyVHJhY2tlcjtcbmNvbnN0IFBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVkgPSAnZ3JwYy1wcmV2aW91cy1ycGMtYXR0ZW1wdHMnO1xuY29uc3QgREVGQVVMVF9NQVhfQVRURU1QVFNfTElNSVQgPSA1O1xuY2xhc3MgUmV0cnlpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsLCBjYWxsQ29uZmlnLCBtZXRob2ROYW1lLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUsIGNhbGxOdW1iZXIsIGJ1ZmZlclRyYWNrZXIsIHJldHJ5VGhyb3R0bGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5jYWxsQ29uZmlnID0gY2FsbENvbmZpZztcbiAgICAgICAgdGhpcy5tZXRob2ROYW1lID0gbWV0aG9kTmFtZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gZGVhZGxpbmU7XG4gICAgICAgIHRoaXMuY2FsbE51bWJlciA9IGNhbGxOdW1iZXI7XG4gICAgICAgIHRoaXMuYnVmZmVyVHJhY2tlciA9IGJ1ZmZlclRyYWNrZXI7XG4gICAgICAgIHRoaXMucmV0cnlUaHJvdHRsZXIgPSByZXRyeVRocm90dGxlcjtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5pdGlhbE1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHMgPSBbXTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiBtZXNzYWdlIGluZGljZXMgaW4gdGhlIHdyaXRlQnVmZmVyLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogd3JpdGVCdWZmZXJPZmZzZXQgaXMgMTAsIG1lc3NhZ2UgMTAgaXMgaW4gd3JpdGVCdWZmZXJbMF0gYW5kIG1lc3NhZ2UgMTVcbiAgICAgICAgICogaXMgaW4gd3JpdGVCdWZmZXJbNV0uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyB3aGV0aGVyIGEgcmVhZCBoYXMgYmVlbiBzdGFydGVkLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciB0byBzdGFydFxuICAgICAgICAgKiByZWFkcyBvbiBuZXcgY2hpbGQgY2FsbHMuIFRoaXMgb25seSBtYXR0ZXJzIGZvciB0aGUgZmlyc3QgcmVhZCwgYmVjYXVzZVxuICAgICAgICAgKiBvbmNlIGEgbWVzc2FnZSBjb21lcyBpbiB0aGUgY2hpbGQgY2FsbCBiZWNvbWVzIGNvbW1pdHRlZCBhbmQgdGhlcmUgd2lsbFxuICAgICAgICAgKiBiZSBubyBuZXcgY2hpbGQgY2FsbHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlYWRTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBhdHRlbXB0cyBzbyBmYXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXR0ZW1wdHMgPSAwO1xuICAgICAgICB0aGlzLmhlZGdpbmdUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjID0gMDtcbiAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gMDtcbiAgICAgICAgY29uc3QgbWF4QXR0ZW1wdHNMaW1pdCA9IChfYSA9IGNoYW5uZWwuZ2V0T3B0aW9ucygpWydncnBjLW5vZGUucmV0cnlfbWF4X2F0dGVtcHRzX2xpbWl0J10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfTUFYX0FUVEVNUFRTX0xJTUlUO1xuICAgICAgICBpZiAoY2hhbm5lbC5nZXRPcHRpb25zKClbJ2dycGMuZW5hYmxlX3JldHJpZXMnXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdOT19SRVRSWSc7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5yZXRyeVBvbGljeSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdSRVRSWSc7XG4gICAgICAgICAgICBjb25zdCByZXRyeVBvbGljeSA9IGNhbGxDb25maWcubWV0aG9kQ29uZmlnLnJldHJ5UG9saWN5O1xuICAgICAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjID0gTnVtYmVyKHJldHJ5UG9saWN5LmluaXRpYWxCYWNrb2ZmLnN1YnN0cmluZygwLCByZXRyeVBvbGljeS5pbml0aWFsQmFja29mZi5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gTWF0aC5taW4ocmV0cnlQb2xpY3kubWF4QXR0ZW1wdHMsIG1heEF0dGVtcHRzTGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnSEVER0lORyc7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gTWF0aC5taW4oY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeS5tYXhBdHRlbXB0cywgbWF4QXR0ZW1wdHNMaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICAgICAgdGhpcy5tYXhBdHRlbXB0cyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZUluZm8oKSB7XG4gICAgICAgIGlmICh0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWFkbGluZUluZm8gPSBbXTtcbiAgICAgICAgY29uc3QgbGF0ZXN0Q2FsbCA9IHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYHByZXZpb3VzIGF0dGVtcHRzOiAke3RoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aCAtIDF9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhdGVzdENhbGwuc3RhcnRUaW1lID4gdGhpcy5zdGFydFRpbWUpIHtcbiAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKGB0aW1lIHRvIGN1cnJlbnQgYXR0ZW1wdCBzdGFydDogJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5zdGFydFRpbWUsIGxhdGVzdENhbGwuc3RhcnRUaW1lKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBkZWFkbGluZUluZm8ucHVzaCguLi5sYXRlc3RDYWxsLmNhbGwuZ2V0RGVhZGxpbmVJbmZvKCkpO1xuICAgICAgICByZXR1cm4gZGVhZGxpbmVJbmZvO1xuICAgIH1cbiAgICBnZXRDYWxsTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsTnVtYmVyO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ1snICsgdGhpcy5jYWxsTnVtYmVyICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICByZXBvcnRTdGF0dXMoc3RhdHVzT2JqZWN0KSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2VuZGVkIHdpdGggc3RhdHVzOiBjb2RlPScgK1xuICAgICAgICAgICAgc3RhdHVzT2JqZWN0LmNvZGUgK1xuICAgICAgICAgICAgJyBkZXRhaWxzPVwiJyArXG4gICAgICAgICAgICBzdGF0dXNPYmplY3QuZGV0YWlscyArXG4gICAgICAgICAgICAnXCIgc3RhcnQgdGltZT0nICtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLmJ1ZmZlclRyYWNrZXIuZnJlZUFsbCh0aGlzLmNhbGxOdW1iZXIpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBjb25zdHJ1Y3Qgc3RhdHVzIG9iamVjdCB0byByZW1vdmUgcHJvZ3Jlc3MgZmllbGRcbiAgICAgICAgICAgIChfYSA9IHRoaXMubGlzdGVuZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblJlY2VpdmVTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IHN0YXR1c09iamVjdC5jb2RlLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHN0YXR1c09iamVjdC5kZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzdGF0dXNPYmplY3QubWV0YWRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbmNlbFdpdGhTdGF0dXMgY29kZTogJyArIHN0YXR1cyArICcgZGV0YWlsczogXCInICsgZGV0YWlscyArICdcIicpO1xuICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyh7IGNvZGU6IHN0YXR1cywgZGV0YWlscywgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkgfSk7XG4gICAgICAgIGZvciAoY29uc3QgeyBjYWxsIH0gb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGNhbGwuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbW1pdHRlZENhbGxJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMuY29tbWl0dGVkQ2FsbEluZGV4XS5jYWxsLmdldFBlZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLndyaXRlQnVmZmVyW21lc3NhZ2VJbmRleCAtIHRoaXMud3JpdGVCdWZmZXJPZmZzZXRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdGUkVFRCcsXG4gICAgICAgICAgICBhbGxvY2F0ZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV4dEJ1ZmZlckluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICBjbGVhclNlbnRNZXNzYWdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdDT01NSVRURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4O1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbdGhpcy5jb21taXR0ZWRDYWxsSW5kZXhdLnN0YXRlID09PSAnQ09NUExFVEVEJykge1xuICAgICAgICAgICAgLyogSWYgdGhlIGNvbW1pdHRlZCBjYWxsIGlzIGNvbXBsZXRlZCwgY2xlYXIgYWxsIG1lc3NhZ2VzLCBldmVuIGlmIHNvbWVcbiAgICAgICAgICAgICAqIGhhdmUgbm90IGJlZW4gc2VudC4gKi9cbiAgICAgICAgICAgIGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4ID0gdGhpcy5nZXROZXh0QnVmZmVySW5kZXgoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4ID1cbiAgICAgICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1t0aGlzLmNvbW1pdHRlZENhbGxJbmRleF0ubmV4dE1lc3NhZ2VUb1NlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbWVzc2FnZUluZGV4ID0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldDsgbWVzc2FnZUluZGV4IDwgZWFybGllc3ROZWVkZWRNZXNzYWdlSW5kZXg7IG1lc3NhZ2VJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJFbnRyeSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KTtcbiAgICAgICAgICAgIGlmIChidWZmZXJFbnRyeS5hbGxvY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclRyYWNrZXIuZnJlZShidWZmZXJFbnRyeS5tZXNzYWdlLm1lc3NhZ2UubGVuZ3RoLCB0aGlzLmNhbGxOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSB0aGlzLndyaXRlQnVmZmVyLnNsaWNlKGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4IC0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCk7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXJPZmZzZXQgPSBlYXJsaWVzdE5lZWRlZE1lc3NhZ2VJbmRleDtcbiAgICB9XG4gICAgY29tbWl0Q2FsbChpbmRleCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0NPTU1JVFRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdDb21taXR0aW5nIGNhbGwgWycgK1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaW5kZXhdLmNhbGwuZ2V0Q2FsbE51bWJlcigpICtcbiAgICAgICAgICAgICddIGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgaW5kZXgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ0NPTU1JVFRFRCc7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuY2FsbENvbmZpZykub25Db21taXR0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgdGhpcy5jb21taXR0ZWRDYWxsSW5kZXggPSBpbmRleDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbaV0uc3RhdGUgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1tpXS5zdGF0ZSA9ICdDT01QTEVURUQnO1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaV0uY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdEaXNjYXJkZWQgaW4gZmF2b3Igb2Ygb3RoZXIgaGVkZ2VkIGF0dGVtcHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyU2VudE1lc3NhZ2VzKCk7XG4gICAgfVxuICAgIGNvbW1pdENhbGxXaXRoTW9zdE1lc3NhZ2VzKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0NPTU1JVFRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9zdE1lc3NhZ2VzID0gLTE7XG4gICAgICAgIGxldCBjYWxsV2l0aE1vc3RNZXNzYWdlcyA9IC0xO1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY2hpbGRDYWxsXSBvZiB0aGlzLnVuZGVybHlpbmdDYWxscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZENhbGwuc3RhdGUgPT09ICdBQ1RJVkUnICYmXG4gICAgICAgICAgICAgICAgY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kID4gbW9zdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgbW9zdE1lc3NhZ2VzID0gY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kO1xuICAgICAgICAgICAgICAgIGNhbGxXaXRoTW9zdE1lc3NhZ2VzID0gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxXaXRoTW9zdE1lc3NhZ2VzID09PSAtMSkge1xuICAgICAgICAgICAgLyogVGhlcmUgYXJlIG5vIGFjdGl2ZSBjYWxscywgZGlzYWJsZSByZXRyaWVzIHRvIGZvcmNlIHRoZSBuZXh0IGNhbGwgdGhhdFxuICAgICAgICAgICAgICogaXMgc3RhcnRlZCB0byBiZSBjb21taXR0ZWQuICovXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxXaXRoTW9zdE1lc3NhZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc1N0YXR1c0NvZGVJbkxpc3QobGlzdCwgY29kZSkge1xuICAgICAgICByZXR1cm4gbGlzdC5zb21lKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gY29kZSB8fFxuICAgICAgICAgICAgICAgIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gKChfYSA9IGNvbnN0YW50c18xLlN0YXR1c1tjb2RlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV4dFJldHJ5QmFja29mZk1zKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJldHJ5UG9saWN5ID0gKF9hID0gdGhpcy5jYWxsQ29uZmlnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWV0aG9kQ29uZmlnLnJldHJ5UG9saWN5O1xuICAgICAgICBpZiAoIXJldHJ5UG9saWN5KSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0QmFja29mZk1zID0gTWF0aC5yYW5kb20oKSAqIHRoaXMubmV4dFJldHJ5QmFja29mZlNlYyAqIDEwMDA7XG4gICAgICAgIGNvbnN0IG1heEJhY2tvZmZTZWMgPSBOdW1iZXIocmV0cnlQb2xpY3kubWF4QmFja29mZi5zdWJzdHJpbmcoMCwgcmV0cnlQb2xpY3kubWF4QmFja29mZi5sZW5ndGggLSAxKSk7XG4gICAgICAgIHRoaXMubmV4dFJldHJ5QmFja29mZlNlYyA9IE1hdGgubWluKHRoaXMubmV4dFJldHJ5QmFja29mZlNlYyAqIHJldHJ5UG9saWN5LmJhY2tvZmZNdWx0aXBsaWVyLCBtYXhCYWNrb2ZmU2VjKTtcbiAgICAgICAgcmV0dXJuIG5leHRCYWNrb2ZmTXM7XG4gICAgfVxuICAgIG1heWJlUmV0cnlDYWxsKHB1c2hiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ1JFVFJZJykge1xuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dGVtcHRzID49IHRoaXMubWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmV0cnlEZWxheU1zO1xuICAgICAgICBpZiAocHVzaGJhY2sgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHJ5RGVsYXlNcyA9IHRoaXMuZ2V0TmV4dFJldHJ5QmFja29mZk1zKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHVzaGJhY2sgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0cnlEZWxheU1zID0gcHVzaGJhY2s7XG4gICAgICAgICAgICB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgPSB0aGlzLmluaXRpYWxSZXRyeUJhY2tvZmZTZWM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdSRVRSWScpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChfYiA9IChfYSA9IHRoaXMucmV0cnlUaHJvdHRsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5SZXRyeUNhbGwoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmV0cnkgYXR0ZW1wdCBkZW5pZWQgYnkgdGhyb3R0bGluZyBwb2xpY3knKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHJldHJ5RGVsYXlNcyk7XG4gICAgfVxuICAgIGNvdW50QWN0aXZlQ2FsbHMoKSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLnVuZGVybHlpbmdDYWxscykge1xuICAgICAgICAgICAgaWYgKChjYWxsID09PSBudWxsIHx8IGNhbGwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGwuc3RhdGUpID09PSAnQUNUSVZFJykge1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cbiAgICBoYW5kbGVQcm9jZXNzZWRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgsIHB1c2hiYWNrKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ0NPTU1JVFRFRCc6XG4gICAgICAgICAgICBjYXNlICdOT19SRVRSWSc6XG4gICAgICAgICAgICBjYXNlICdUUkFOU1BBUkVOVF9PTkxZJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSEVER0lORyc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGF0dXNDb2RlSW5MaXN0KChfYSA9IHRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeS5ub25GYXRhbFN0YXR1c0NvZGVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSwgc3RhdHVzLmNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMucmV0cnlUaHJvdHRsZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWxheU1zO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHVzaGJhY2sgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5TXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHB1c2hiYWNrIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdUUkFOU1BBUkVOVF9PTkxZJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5TXMgPSBwdXNoYmFjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEhlZGdpbmdBdHRlbXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhZnRlciB0cnlpbmcgdG8gc3RhcnQgYSBjYWxsIHRoZXJlIGFyZSBubyBhY3RpdmUgY2FsbHMsIHRoaXMgd2FzIHRoZSBsYXN0IG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY291bnRBY3RpdmVDYWxscygpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXlNcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSRVRSWSc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGF0dXNDb2RlSW5MaXN0KHRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcucmV0cnlQb2xpY3kucmV0cnlhYmxlU3RhdHVzQ29kZXMsIHN0YXR1cy5jb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAoX2MgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heWJlUmV0cnlDYWxsKHB1c2hiYWNrLCByZXRyaWVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFB1c2hiYWNrKG1ldGFkYXRhKSB7XG4gICAgICAgIGNvbnN0IG1kVmFsdWUgPSBtZXRhZGF0YS5nZXQoJ2dycGMtcmV0cnktcHVzaGJhY2stbXMnKTtcbiAgICAgICAgaWYgKG1kVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG1kVmFsdWVbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ2hpbGRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbY2FsbEluZGV4XS5zdGF0ZSA9PT0gJ0NPTVBMRVRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdzdGF0ZT0nICtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgK1xuICAgICAgICAgICAgJyBoYW5kbGluZyBzdGF0dXMgd2l0aCBwcm9ncmVzcyAnICtcbiAgICAgICAgICAgIHN0YXR1cy5wcm9ncmVzcyArXG4gICAgICAgICAgICAnIGZyb20gY2hpbGQgWycgK1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbY2FsbEluZGV4XS5jYWxsLmdldENhbGxOdW1iZXIoKSArXG4gICAgICAgICAgICAnXSBpbiBzdGF0ZSAnICtcbiAgICAgICAgICAgIHRoaXMudW5kZXJseWluZ0NhbGxzW2NhbGxJbmRleF0uc3RhdGUpO1xuICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1tjYWxsSW5kZXhdLnN0YXRlID0gJ0NPTVBMRVRFRCc7XG4gICAgICAgIGlmIChzdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnTk9fUkVUUlknKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdDT01NSVRURUQnKSB7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB1c2hiYWNrID0gdGhpcy5nZXRQdXNoYmFjayhzdGF0dXMubWV0YWRhdGEpO1xuICAgICAgICBzd2l0Y2ggKHN0YXR1cy5wcm9ncmVzcykge1xuICAgICAgICAgICAgY2FzZSAnTk9UX1NUQVJURUQnOlxuICAgICAgICAgICAgICAgIC8vIFJQQyBuZXZlciBsZWF2ZXMgdGhlIGNsaWVudCwgYWx3YXlzIHNhZmUgdG8gcmV0cnlcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUkVGVVNFRCc6XG4gICAgICAgICAgICAgICAgLy8gUlBDIHJlYWNoZXMgdGhlIHNlcnZlciBsaWJyYXJ5LCBidXQgbm90IHRoZSBzZXJ2ZXIgYXBwbGljYXRpb24gbG9naWNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc3BhcmVudFJldHJ5VXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVByb2Nlc3NlZFN0YXR1cyhzdGF0dXMsIGNhbGxJbmRleCwgcHVzaGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BhcmVudFJldHJ5VXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnROZXdBdHRlbXB0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRFJPUCc6XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BST0NFU1NFRCc6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQcm9jZXNzZWRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgsIHB1c2hiYWNrKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXliZVN0YXJ0SGVkZ2luZ0F0dGVtcHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnSEVER0lORycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dGVtcHRzID49IHRoaXMubWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dGVtcHRzICs9IDE7XG4gICAgICAgIHRoaXMuc3RhcnROZXdBdHRlbXB0KCk7XG4gICAgICAgIHRoaXMubWF5YmVTdGFydEhlZGdpbmdUaW1lcigpO1xuICAgIH1cbiAgICBtYXliZVN0YXJ0SGVkZ2luZ1RpbWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKHRoaXMuaGVkZ2luZ1RpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5oZWRnaW5nVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnSEVER0lORycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlZGdpbmdQb2xpY3kgPSB0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3k7XG4gICAgICAgIGlmICh0aGlzLmF0dGVtcHRzID49IHRoaXMubWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWRnaW5nRGVsYXlTdHJpbmcgPSAoX2EgPSBoZWRnaW5nUG9saWN5LmhlZGdpbmdEZWxheSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJzBzJztcbiAgICAgICAgY29uc3QgaGVkZ2luZ0RlbGF5U2VjID0gTnVtYmVyKGhlZGdpbmdEZWxheVN0cmluZy5zdWJzdHJpbmcoMCwgaGVkZ2luZ0RlbGF5U3RyaW5nLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgdGhpcy5oZWRnaW5nVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEhlZGdpbmdBdHRlbXB0KCk7XG4gICAgICAgIH0sIGhlZGdpbmdEZWxheVNlYyAqIDEwMDApO1xuICAgICAgICAoX2MgPSAoX2IgPSB0aGlzLmhlZGdpbmdUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICB9XG4gICAgc3RhcnROZXdBdHRlbXB0KCkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hhbm5lbC5jcmVhdGVMb2FkQmFsYW5jaW5nQ2FsbCh0aGlzLmNhbGxDb25maWcsIHRoaXMubWV0aG9kTmFtZSwgdGhpcy5ob3N0LCB0aGlzLmNyZWRlbnRpYWxzLCB0aGlzLmRlYWRsaW5lKTtcbiAgICAgICAgdGhpcy50cmFjZSgnQ3JlYXRlZCBjaGlsZCBjYWxsIFsnICtcbiAgICAgICAgICAgIGNoaWxkLmdldENhbGxOdW1iZXIoKSArXG4gICAgICAgICAgICAnXSBmb3IgYXR0ZW1wdCAnICtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdHMpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aDtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHMucHVzaCh7XG4gICAgICAgICAgICBzdGF0ZTogJ0FDVElWRScsXG4gICAgICAgICAgICBjYWxsOiBjaGlsZCxcbiAgICAgICAgICAgIG5leHRNZXNzYWdlVG9TZW5kOiAwLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwcmV2aW91c0F0dGVtcHRzID0gdGhpcy5hdHRlbXB0cyAtIDE7XG4gICAgICAgIGNvbnN0IGluaXRpYWxNZXRhZGF0YSA9IHRoaXMuaW5pdGlhbE1ldGFkYXRhLmNsb25lKCk7XG4gICAgICAgIGlmIChwcmV2aW91c0F0dGVtcHRzID4gMCkge1xuICAgICAgICAgICAgaW5pdGlhbE1ldGFkYXRhLnNldChQUkVWSU9OU19SUENfQVRURU1QVFNfTUVUQURBVEFfS0VZLCBgJHtwcmV2aW91c0F0dGVtcHRzfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZWNlaXZlZE1ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIGNoaWxkLnN0YXJ0KGluaXRpYWxNZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXRhZGF0YSBmcm9tIGNoaWxkIFsnICsgY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoaW5kZXgpO1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0F0dGVtcHRzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YS5zZXQoUFJFVklPTlNfUlBDX0FUVEVNUFRTX01FVEFEQVRBX0tFWSwgYCR7cHJldmlvdXNBdHRlbXB0c31gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudW5kZXJseWluZ0NhbGxzW2luZGV4XS5zdGF0ZSA9PT0gJ0FDVElWRScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1lc3NhZ2UgZnJvbSBjaGlsZCBbJyArIGNoaWxkLmdldENhbGxOdW1iZXIoKSArICddJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbaW5kZXhdLnN0YXRlID09PSAnQUNUSVZFJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogc3RhdHVzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzdGF0dXMgZnJvbSBjaGlsZCBbJyArIGNoaWxkLmdldENhbGxOdW1iZXIoKSArICddJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWNlaXZlZE1ldGFkYXRhICYmIHByZXZpb3VzQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5tZXRhZGF0YS5zZXQoUFJFVklPTlNfUlBDX0FUVEVNUFRTX01FVEFEQVRBX0tFWSwgYCR7cHJldmlvdXNBdHRlbXB0c31gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGlsZFN0YXR1cyhzdGF0dXMsIGluZGV4KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmROZXh0Q2hpbGRNZXNzYWdlKGluZGV4KTtcbiAgICAgICAgaWYgKHRoaXMucmVhZFN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNoaWxkLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdGFydCBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLmluaXRpYWxNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLmF0dGVtcHRzICs9IDE7XG4gICAgICAgIHRoaXMuc3RhcnROZXdBdHRlbXB0KCk7XG4gICAgICAgIHRoaXMubWF5YmVTdGFydEhlZGdpbmdUaW1lcigpO1xuICAgIH1cbiAgICBoYW5kbGVDaGlsZFdyaXRlQ29tcGxldGVkKGNoaWxkSW5kZXgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hpbGRDYWxsID0gdGhpcy51bmRlcmx5aW5nQ2FsbHNbY2hpbGRJbmRleF07XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJbmRleCA9IGNoaWxkQ2FsbC5uZXh0TWVzc2FnZVRvU2VuZDtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5nZXRCdWZmZXJFbnRyeShtZXNzYWdlSW5kZXgpKS5jYWxsYmFjaykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB0aGlzLmNsZWFyU2VudE1lc3NhZ2VzKCk7XG4gICAgICAgIGNoaWxkQ2FsbC5uZXh0TWVzc2FnZVRvU2VuZCArPSAxO1xuICAgICAgICB0aGlzLnNlbmROZXh0Q2hpbGRNZXNzYWdlKGNoaWxkSW5kZXgpO1xuICAgIH1cbiAgICBzZW5kTmV4dENoaWxkTWVzc2FnZShjaGlsZEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ2FsbCA9IHRoaXMudW5kZXJseWluZ0NhbGxzW2NoaWxkSW5kZXhdO1xuICAgICAgICBpZiAoY2hpbGRDYWxsLnN0YXRlID09PSAnQ09NUExFVEVEJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldEJ1ZmZlckVudHJ5KGNoaWxkQ2FsbC5uZXh0TWVzc2FnZVRvU2VuZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlckVudHJ5ID0gdGhpcy5nZXRCdWZmZXJFbnRyeShjaGlsZENhbGwubmV4dE1lc3NhZ2VUb1NlbmQpO1xuICAgICAgICAgICAgc3dpdGNoIChidWZmZXJFbnRyeS5lbnRyeVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdNRVNTQUdFJzpcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDYWxsLmNhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hpbGRXcml0ZUNvbXBsZXRlZChjaGlsZEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sIGJ1ZmZlckVudHJ5Lm1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0hBTEZfQ0xPU0UnOlxuICAgICAgICAgICAgICAgICAgICBjaGlsZENhbGwubmV4dE1lc3NhZ2VUb1NlbmQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDYWxsLmNhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0ZSRUVEJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdWxkIG5vdCBiZSBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnRyYWNlKCd3cml0ZSgpIGNhbGxlZCB3aXRoIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgKyBtZXNzYWdlLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHdyaXRlT2JqID0ge1xuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGZsYWdzOiBjb250ZXh0LmZsYWdzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtZXNzYWdlSW5kZXggPSB0aGlzLmdldE5leHRCdWZmZXJJbmRleCgpO1xuICAgICAgICBjb25zdCBidWZmZXJFbnRyeSA9IHtcbiAgICAgICAgICAgIGVudHJ5VHlwZTogJ01FU1NBR0UnLFxuICAgICAgICAgICAgbWVzc2FnZTogd3JpdGVPYmosXG4gICAgICAgICAgICBhbGxvY2F0ZWQ6IHRoaXMuYnVmZmVyVHJhY2tlci5hbGxvY2F0ZShtZXNzYWdlLmxlbmd0aCwgdGhpcy5jYWxsTnVtYmVyKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKGJ1ZmZlckVudHJ5KTtcbiAgICAgICAgaWYgKGJ1ZmZlckVudHJ5LmFsbG9jYXRlZCkge1xuICAgICAgICAgICAgKF9hID0gY29udGV4dC5jYWxsYmFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjYWxsSW5kZXgsIGNhbGxdIG9mIHRoaXMudW5kZXJseWluZ0NhbGxzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsLnN0YXRlID09PSAnQUNUSVZFJyAmJlxuICAgICAgICAgICAgICAgICAgICBjYWxsLm5leHRNZXNzYWdlVG9TZW5kID09PSBtZXNzYWdlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5jYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkV3JpdGVDb21wbGV0ZWQoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbFdpdGhNb3N0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgIC8vIGNvbW1pdENhbGxXaXRoTW9zdE1lc3NhZ2VzIGNhbiBmYWlsIGlmIHdlIGFyZSBiZXR3ZWVuIHBpbmcgYXR0ZW1wdHNcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbW1pdHRlZENhbGxJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB0aGlzLnVuZGVybHlpbmdDYWxsc1t0aGlzLmNvbW1pdHRlZENhbGxJbmRleF07XG4gICAgICAgICAgICBidWZmZXJFbnRyeS5jYWxsYmFjayA9IGNvbnRleHQuY2FsbGJhY2s7XG4gICAgICAgICAgICBpZiAoY2FsbC5zdGF0ZSA9PT0gJ0FDVElWRScgJiYgY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA9PT0gbWVzc2FnZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgY2FsbC5jYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkV3JpdGVDb21wbGV0ZWQodGhpcy5jb21taXR0ZWRDYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0UmVhZCgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnc3RhcnRSZWFkIGNhbGxlZCcpO1xuICAgICAgICB0aGlzLnJlYWRTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB1bmRlcmx5aW5nQ2FsbCBvZiB0aGlzLnVuZGVybHlpbmdDYWxscykge1xuICAgICAgICAgICAgaWYgKCh1bmRlcmx5aW5nQ2FsbCA9PT0gbnVsbCB8fCB1bmRlcmx5aW5nQ2FsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdW5kZXJseWluZ0NhbGwuc3RhdGUpID09PSAnQUNUSVZFJykge1xuICAgICAgICAgICAgICAgIHVuZGVybHlpbmdDYWxsLmNhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFsZkNsb3NlKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdoYWxmQ2xvc2UgY2FsbGVkJyk7XG4gICAgICAgIGNvbnN0IGhhbGZDbG9zZUluZGV4ID0gdGhpcy5nZXROZXh0QnVmZmVySW5kZXgoKTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKHtcbiAgICAgICAgICAgIGVudHJ5VHlwZTogJ0hBTEZfQ0xPU0UnLFxuICAgICAgICAgICAgYWxsb2NhdGVkOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLnVuZGVybHlpbmdDYWxscykge1xuICAgICAgICAgICAgaWYgKChjYWxsID09PSBudWxsIHx8IGNhbGwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGwuc3RhdGUpID09PSAnQUNUSVZFJyAmJlxuICAgICAgICAgICAgICAgIGNhbGwubmV4dE1lc3NhZ2VUb1NlbmQgPT09IGhhbGZDbG9zZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCArPSAxO1xuICAgICAgICAgICAgICAgIGNhbGwuY2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDcmVkZW50aWFscyhuZXdDcmVkZW50aWFscykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGdldE1ldGhvZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kTmFtZTtcbiAgICB9XG4gICAgZ2V0SG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG9zdDtcbiAgICB9XG59XG5leHBvcnRzLlJldHJ5aW5nQ2FsbCA9IFJldHJ5aW5nQ2FsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJldHJ5aW5nLWNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ServerDuplexStreamImpl = exports.ServerWritableStreamImpl = exports.ServerReadableStreamImpl = exports.ServerUnaryCallImpl = void 0;\nexports.serverErrorToStatus = serverErrorToStatus;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nfunction serverErrorToStatus(error, overrideTrailers) {\n    var _a;\n    const status = {\n        code: constants_1.Status.UNKNOWN,\n        details: 'message' in error ? error.message : 'Unknown Error',\n        metadata: (_a = overrideTrailers !== null && overrideTrailers !== void 0 ? overrideTrailers : error.metadata) !== null && _a !== void 0 ? _a : null,\n    };\n    if ('code' in error &&\n        typeof error.code === 'number' &&\n        Number.isInteger(error.code)) {\n        status.code = error.code;\n        if ('details' in error && typeof error.details === 'string') {\n            status.details = error.details;\n        }\n    }\n    return status;\n}\nclass ServerUnaryCallImpl extends events_1.EventEmitter {\n    constructor(path, call, metadata, request) {\n        super();\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.request = request;\n        this.cancelled = false;\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n}\nexports.ServerUnaryCallImpl = ServerUnaryCallImpl;\nclass ServerReadableStreamImpl extends stream_1.Readable {\n    constructor(path, call, metadata) {\n        super({ objectMode: true });\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.cancelled = false;\n    }\n    _read(size) {\n        this.call.startRead();\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n}\nexports.ServerReadableStreamImpl = ServerReadableStreamImpl;\nclass ServerWritableStreamImpl extends stream_1.Writable {\n    constructor(path, call, metadata, request) {\n        super({ objectMode: true });\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.request = request;\n        this.pendingStatus = {\n            code: constants_1.Status.OK,\n            details: 'OK',\n        };\n        this.cancelled = false;\n        this.trailingMetadata = new metadata_1.Metadata();\n        this.on('error', err => {\n            this.pendingStatus = serverErrorToStatus(err);\n            this.end();\n        });\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n    _write(chunk, encoding, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    callback) {\n        this.call.sendMessage(chunk, callback);\n    }\n    _final(callback) {\n        var _a;\n        callback(null);\n        this.call.sendStatus(Object.assign(Object.assign({}, this.pendingStatus), { metadata: (_a = this.pendingStatus.metadata) !== null && _a !== void 0 ? _a : this.trailingMetadata }));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    end(metadata) {\n        if (metadata) {\n            this.trailingMetadata = metadata;\n        }\n        return super.end();\n    }\n}\nexports.ServerWritableStreamImpl = ServerWritableStreamImpl;\nclass ServerDuplexStreamImpl extends stream_1.Duplex {\n    constructor(path, call, metadata) {\n        super({ objectMode: true });\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.pendingStatus = {\n            code: constants_1.Status.OK,\n            details: 'OK',\n        };\n        this.cancelled = false;\n        this.trailingMetadata = new metadata_1.Metadata();\n        this.on('error', err => {\n            this.pendingStatus = serverErrorToStatus(err);\n            this.end();\n        });\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n    _read(size) {\n        this.call.startRead();\n    }\n    _write(chunk, encoding, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    callback) {\n        this.call.sendMessage(chunk, callback);\n    }\n    _final(callback) {\n        var _a;\n        callback(null);\n        this.call.sendStatus(Object.assign(Object.assign({}, this.pendingStatus), { metadata: (_a = this.pendingStatus.metadata) !== null && _a !== void 0 ? _a : this.trailingMetadata }));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    end(metadata) {\n        if (metadata) {\n            this.trailingMetadata = metadata;\n        }\n        return super.end();\n    }\n}\nexports.ServerDuplexStreamImpl = ServerDuplexStreamImpl;\n//# sourceMappingURL=server-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXItY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QixHQUFHLGdDQUFnQyxHQUFHLGdDQUFnQyxHQUFHLDJCQUEyQjtBQUNsSSwyQkFBMkI7QUFDM0IsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQseUJBQXlCLHFHQUFxRztBQUN6TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCx5QkFBeUIscUdBQXFHO0FBQ3pMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NlcnZlci1jYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlcnZlckR1cGxleFN0cmVhbUltcGwgPSBleHBvcnRzLlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbCA9IGV4cG9ydHMuU2VydmVyUmVhZGFibGVTdHJlYW1JbXBsID0gZXhwb3J0cy5TZXJ2ZXJVbmFyeUNhbGxJbXBsID0gdm9pZCAwO1xuZXhwb3J0cy5zZXJ2ZXJFcnJvclRvU3RhdHVzID0gc2VydmVyRXJyb3JUb1N0YXR1cztcbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNvbnN0IHN0cmVhbV8xID0gcmVxdWlyZShcInN0cmVhbVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuZnVuY3Rpb24gc2VydmVyRXJyb3JUb1N0YXR1cyhlcnJvciwgb3ZlcnJpZGVUcmFpbGVycykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBzdGF0dXMgPSB7XG4gICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLFxuICAgICAgICBkZXRhaWxzOiAnbWVzc2FnZScgaW4gZXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gRXJyb3InLFxuICAgICAgICBtZXRhZGF0YTogKF9hID0gb3ZlcnJpZGVUcmFpbGVycyAhPT0gbnVsbCAmJiBvdmVycmlkZVRyYWlsZXJzICE9PSB2b2lkIDAgPyBvdmVycmlkZVRyYWlsZXJzIDogZXJyb3IubWV0YWRhdGEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwsXG4gICAgfTtcbiAgICBpZiAoJ2NvZGUnIGluIGVycm9yICYmXG4gICAgICAgIHR5cGVvZiBlcnJvci5jb2RlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICBOdW1iZXIuaXNJbnRlZ2VyKGVycm9yLmNvZGUpKSB7XG4gICAgICAgIHN0YXR1cy5jb2RlID0gZXJyb3IuY29kZTtcbiAgICAgICAgaWYgKCdkZXRhaWxzJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IuZGV0YWlscyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHN0YXR1cy5kZXRhaWxzID0gZXJyb3IuZGV0YWlscztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RhdHVzO1xufVxuY2xhc3MgU2VydmVyVW5hcnlDYWxsSW1wbCBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IocGF0aCwgY2FsbCwgbWV0YWRhdGEsIHJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldFBlZXIoKTtcbiAgICB9XG4gICAgc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5jYWxsLnNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKTtcbiAgICB9XG4gICAgZ2V0RGVhZGxpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0RGVhZGxpbmUoKTtcbiAgICB9XG4gICAgZ2V0UGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aDtcbiAgICB9XG4gICAgZ2V0SG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRIb3N0KCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJVbmFyeUNhbGxJbXBsID0gU2VydmVyVW5hcnlDYWxsSW1wbDtcbmNsYXNzIFNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCBleHRlbmRzIHN0cmVhbV8xLlJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjYWxsLCBtZXRhZGF0YSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgX3JlYWQoc2l6ZSkge1xuICAgICAgICB0aGlzLmNhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXREZWFkbGluZSgpO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldEhvc3QoKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCA9IFNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbDtcbmNsYXNzIFNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbCBleHRlbmRzIHN0cmVhbV8xLldyaXRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjYWxsLCBtZXRhZGF0YSwgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0ge1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgZGV0YWlsczogJ09LJyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmFpbGluZ01ldGFkYXRhID0gbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCBlcnIgPT4ge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gc2VydmVyRXJyb3JUb1N0YXR1cyhlcnIpO1xuICAgICAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXREZWFkbGluZSgpO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldEhvc3QoKTtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1lc3NhZ2UoY2h1bmssIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgX2ZpbmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kU3RhdHVzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wZW5kaW5nU3RhdHVzKSwgeyBtZXRhZGF0YTogKF9hID0gdGhpcy5wZW5kaW5nU3RhdHVzLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgfSkpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGVuZChtZXRhZGF0YSkge1xuICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5lbmQoKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbCA9IFNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbDtcbmNsYXNzIFNlcnZlckR1cGxleFN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5EdXBsZXgge1xuICAgIGNvbnN0cnVjdG9yKHBhdGgsIGNhbGwsIG1ldGFkYXRhKSB7XG4gICAgICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSB7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgICAgICAgICBkZXRhaWxzOiAnT0snLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICB0aGlzLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBzZXJ2ZXJFcnJvclRvU3RhdHVzKGVycik7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGg7XG4gICAgfVxuICAgIGdldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0SG9zdCgpO1xuICAgIH1cbiAgICBfcmVhZChzaXplKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1lc3NhZ2UoY2h1bmssIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgX2ZpbmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kU3RhdHVzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wZW5kaW5nU3RhdHVzKSwgeyBtZXRhZGF0YTogKF9hID0gdGhpcy5wZW5kaW5nU3RhdHVzLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgfSkpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGVuZChtZXRhZGF0YSkge1xuICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5lbmQoKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlckR1cGxleFN0cmVhbUltcGwgPSBTZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ServerCredentials = void 0;\nexports.createCertificateProviderServerCredentials = createCertificateProviderServerCredentials;\nexports.createServerCredentialsWithInterceptors = createServerCredentialsWithInterceptors;\nconst tls_helpers_1 = __webpack_require__(/*! ./tls-helpers */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js\");\nclass ServerCredentials {\n    constructor(serverConstructorOptions, contextOptions) {\n        this.serverConstructorOptions = serverConstructorOptions;\n        this.watchers = new Set();\n        this.latestContextOptions = null;\n        this.latestContextOptions = contextOptions !== null && contextOptions !== void 0 ? contextOptions : null;\n    }\n    _addWatcher(watcher) {\n        this.watchers.add(watcher);\n    }\n    _removeWatcher(watcher) {\n        this.watchers.delete(watcher);\n    }\n    getWatcherCount() {\n        return this.watchers.size;\n    }\n    updateSecureContextOptions(options) {\n        this.latestContextOptions = options;\n        for (const watcher of this.watchers) {\n            watcher(this.latestContextOptions);\n        }\n    }\n    _isSecure() {\n        return this.serverConstructorOptions !== null;\n    }\n    _getSecureContextOptions() {\n        return this.latestContextOptions;\n    }\n    _getConstructorOptions() {\n        return this.serverConstructorOptions;\n    }\n    _getInterceptors() {\n        return [];\n    }\n    static createInsecure() {\n        return new InsecureServerCredentials();\n    }\n    static createSsl(rootCerts, keyCertPairs, checkClientCertificate = false) {\n        var _a;\n        if (rootCerts !== null && !Buffer.isBuffer(rootCerts)) {\n            throw new TypeError('rootCerts must be null or a Buffer');\n        }\n        if (!Array.isArray(keyCertPairs)) {\n            throw new TypeError('keyCertPairs must be an array');\n        }\n        if (typeof checkClientCertificate !== 'boolean') {\n            throw new TypeError('checkClientCertificate must be a boolean');\n        }\n        const cert = [];\n        const key = [];\n        for (let i = 0; i < keyCertPairs.length; i++) {\n            const pair = keyCertPairs[i];\n            if (pair === null || typeof pair !== 'object') {\n                throw new TypeError(`keyCertPair[${i}] must be an object`);\n            }\n            if (!Buffer.isBuffer(pair.private_key)) {\n                throw new TypeError(`keyCertPair[${i}].private_key must be a Buffer`);\n            }\n            if (!Buffer.isBuffer(pair.cert_chain)) {\n                throw new TypeError(`keyCertPair[${i}].cert_chain must be a Buffer`);\n            }\n            cert.push(pair.cert_chain);\n            key.push(pair.private_key);\n        }\n        return new SecureServerCredentials({\n            requestCert: checkClientCertificate,\n            ciphers: tls_helpers_1.CIPHER_SUITES,\n        }, {\n            ca: (_a = rootCerts !== null && rootCerts !== void 0 ? rootCerts : (0, tls_helpers_1.getDefaultRootsData)()) !== null && _a !== void 0 ? _a : undefined,\n            cert,\n            key,\n        });\n    }\n}\nexports.ServerCredentials = ServerCredentials;\nclass InsecureServerCredentials extends ServerCredentials {\n    constructor() {\n        super(null);\n    }\n    _getSettings() {\n        return null;\n    }\n    _equals(other) {\n        return other instanceof InsecureServerCredentials;\n    }\n}\nclass SecureServerCredentials extends ServerCredentials {\n    constructor(constructorOptions, contextOptions) {\n        super(constructorOptions, contextOptions);\n        this.options = Object.assign(Object.assign({}, constructorOptions), contextOptions);\n    }\n    /**\n     * Checks equality by checking the options that are actually set by\n     * createSsl.\n     * @param other\n     * @returns\n     */\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (!(other instanceof SecureServerCredentials)) {\n            return false;\n        }\n        // options.ca equality check\n        if (Buffer.isBuffer(this.options.ca) && Buffer.isBuffer(other.options.ca)) {\n            if (!this.options.ca.equals(other.options.ca)) {\n                return false;\n            }\n        }\n        else {\n            if (this.options.ca !== other.options.ca) {\n                return false;\n            }\n        }\n        // options.cert equality check\n        if (Array.isArray(this.options.cert) && Array.isArray(other.options.cert)) {\n            if (this.options.cert.length !== other.options.cert.length) {\n                return false;\n            }\n            for (let i = 0; i < this.options.cert.length; i++) {\n                const thisCert = this.options.cert[i];\n                const otherCert = other.options.cert[i];\n                if (Buffer.isBuffer(thisCert) && Buffer.isBuffer(otherCert)) {\n                    if (!thisCert.equals(otherCert)) {\n                        return false;\n                    }\n                }\n                else {\n                    if (thisCert !== otherCert) {\n                        return false;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.options.cert !== other.options.cert) {\n                return false;\n            }\n        }\n        // options.key equality check\n        if (Array.isArray(this.options.key) && Array.isArray(other.options.key)) {\n            if (this.options.key.length !== other.options.key.length) {\n                return false;\n            }\n            for (let i = 0; i < this.options.key.length; i++) {\n                const thisKey = this.options.key[i];\n                const otherKey = other.options.key[i];\n                if (Buffer.isBuffer(thisKey) && Buffer.isBuffer(otherKey)) {\n                    if (!thisKey.equals(otherKey)) {\n                        return false;\n                    }\n                }\n                else {\n                    if (thisKey !== otherKey) {\n                        return false;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.options.key !== other.options.key) {\n                return false;\n            }\n        }\n        // options.requestCert equality check\n        if (this.options.requestCert !== other.options.requestCert) {\n            return false;\n        }\n        /* ciphers is derived from a value that is constant for the process, so no\n         * equality check is needed. */\n        return true;\n    }\n}\nclass CertificateProviderServerCredentials extends ServerCredentials {\n    constructor(identityCertificateProvider, caCertificateProvider, requireClientCertificate) {\n        super({\n            requestCert: caCertificateProvider !== null,\n            rejectUnauthorized: requireClientCertificate,\n            ciphers: tls_helpers_1.CIPHER_SUITES\n        });\n        this.identityCertificateProvider = identityCertificateProvider;\n        this.caCertificateProvider = caCertificateProvider;\n        this.requireClientCertificate = requireClientCertificate;\n        this.latestCaUpdate = null;\n        this.latestIdentityUpdate = null;\n        this.caCertificateUpdateListener = this.handleCaCertificateUpdate.bind(this);\n        this.identityCertificateUpdateListener = this.handleIdentityCertitificateUpdate.bind(this);\n    }\n    _addWatcher(watcher) {\n        var _a;\n        if (this.getWatcherCount() === 0) {\n            (_a = this.caCertificateProvider) === null || _a === void 0 ? void 0 : _a.addCaCertificateListener(this.caCertificateUpdateListener);\n            this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n        super._addWatcher(watcher);\n    }\n    _removeWatcher(watcher) {\n        var _a;\n        super._removeWatcher(watcher);\n        if (this.getWatcherCount() === 0) {\n            (_a = this.caCertificateProvider) === null || _a === void 0 ? void 0 : _a.removeCaCertificateListener(this.caCertificateUpdateListener);\n            this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (!(other instanceof CertificateProviderServerCredentials)) {\n            return false;\n        }\n        return (this.caCertificateProvider === other.caCertificateProvider &&\n            this.identityCertificateProvider === other.identityCertificateProvider &&\n            this.requireClientCertificate === other.requireClientCertificate);\n    }\n    calculateSecureContextOptions() {\n        var _a;\n        if (this.latestIdentityUpdate === null) {\n            return null;\n        }\n        if (this.caCertificateProvider !== null && this.latestCaUpdate === null) {\n            return null;\n        }\n        return {\n            ca: (_a = this.latestCaUpdate) === null || _a === void 0 ? void 0 : _a.caCertificate,\n            cert: [this.latestIdentityUpdate.certificate],\n            key: [this.latestIdentityUpdate.privateKey],\n        };\n    }\n    finalizeUpdate() {\n        const secureContextOptions = this.calculateSecureContextOptions();\n        this.updateSecureContextOptions(secureContextOptions);\n    }\n    handleCaCertificateUpdate(update) {\n        this.latestCaUpdate = update;\n        this.finalizeUpdate();\n    }\n    handleIdentityCertitificateUpdate(update) {\n        this.latestIdentityUpdate = update;\n        this.finalizeUpdate();\n    }\n}\nfunction createCertificateProviderServerCredentials(caCertificateProvider, identityCertificateProvider, requireClientCertificate) {\n    return new CertificateProviderServerCredentials(caCertificateProvider, identityCertificateProvider, requireClientCertificate);\n}\nclass InterceptorServerCredentials extends ServerCredentials {\n    constructor(childCredentials, interceptors) {\n        super({});\n        this.childCredentials = childCredentials;\n        this.interceptors = interceptors;\n    }\n    _isSecure() {\n        return this.childCredentials._isSecure();\n    }\n    _equals(other) {\n        if (!(other instanceof InterceptorServerCredentials)) {\n            return false;\n        }\n        if (!(this.childCredentials._equals(other.childCredentials))) {\n            return false;\n        }\n        if (this.interceptors.length !== other.interceptors.length) {\n            return false;\n        }\n        for (let i = 0; i < this.interceptors.length; i++) {\n            if (this.interceptors[i] !== other.interceptors[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    _getInterceptors() {\n        return this.interceptors;\n    }\n    _addWatcher(watcher) {\n        this.childCredentials._addWatcher(watcher);\n    }\n    _removeWatcher(watcher) {\n        this.childCredentials._removeWatcher(watcher);\n    }\n    _getConstructorOptions() {\n        return this.childCredentials._getConstructorOptions();\n    }\n    _getSecureContextOptions() {\n        return this.childCredentials._getSecureContextOptions();\n    }\n}\nfunction createServerCredentialsWithInterceptors(credentials, interceptors) {\n    return new InterceptorServerCredentials(credentials, interceptors);\n}\n//# sourceMappingURL=server-credentials.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXItY3JlZGVudGlhbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekIsa0RBQWtEO0FBQ2xELCtDQUErQztBQUMvQyxzQkFBc0IsbUJBQU8sQ0FBQyxxSEFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0EsbURBQW1ELEVBQUU7QUFDckQ7QUFDQTtBQUNBLG1EQUFtRCxFQUFFO0FBQ3JEO0FBQ0E7QUFDQSxtREFBbUQsRUFBRTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4QkFBOEI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4QkFBOEI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NlcnZlci1jcmVkZW50aWFscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TZXJ2ZXJDcmVkZW50aWFscyA9IHZvaWQgMDtcbmV4cG9ydHMuY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzID0gY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzO1xuZXhwb3J0cy5jcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnMgPSBjcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnM7XG5jb25zdCB0bHNfaGVscGVyc18xID0gcmVxdWlyZShcIi4vdGxzLWhlbHBlcnNcIik7XG5jbGFzcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3Ioc2VydmVyQ29uc3RydWN0b3JPcHRpb25zLCBjb250ZXh0T3B0aW9ucykge1xuICAgICAgICB0aGlzLnNlcnZlckNvbnN0cnVjdG9yT3B0aW9ucyA9IHNlcnZlckNvbnN0cnVjdG9yT3B0aW9ucztcbiAgICAgICAgdGhpcy53YXRjaGVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5sYXRlc3RDb250ZXh0T3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29udGV4dE9wdGlvbnMgPSBjb250ZXh0T3B0aW9ucyAhPT0gbnVsbCAmJiBjb250ZXh0T3B0aW9ucyAhPT0gdm9pZCAwID8gY29udGV4dE9wdGlvbnMgOiBudWxsO1xuICAgIH1cbiAgICBfYWRkV2F0Y2hlcih3YXRjaGVyKSB7XG4gICAgICAgIHRoaXMud2F0Y2hlcnMuYWRkKHdhdGNoZXIpO1xuICAgIH1cbiAgICBfcmVtb3ZlV2F0Y2hlcih3YXRjaGVyKSB7XG4gICAgICAgIHRoaXMud2F0Y2hlcnMuZGVsZXRlKHdhdGNoZXIpO1xuICAgIH1cbiAgICBnZXRXYXRjaGVyQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhdGNoZXJzLnNpemU7XG4gICAgfVxuICAgIHVwZGF0ZVNlY3VyZUNvbnRleHRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sYXRlc3RDb250ZXh0T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGZvciAoY29uc3Qgd2F0Y2hlciBvZiB0aGlzLndhdGNoZXJzKSB7XG4gICAgICAgICAgICB3YXRjaGVyKHRoaXMubGF0ZXN0Q29udGV4dE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmVyQ29uc3RydWN0b3JPcHRpb25zICE9PSBudWxsO1xuICAgIH1cbiAgICBfZ2V0U2VjdXJlQ29udGV4dE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhdGVzdENvbnRleHRPcHRpb25zO1xuICAgIH1cbiAgICBfZ2V0Q29uc3RydWN0b3JPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJDb25zdHJ1Y3Rvck9wdGlvbnM7XG4gICAgfVxuICAgIF9nZXRJbnRlcmNlcHRvcnMoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUluc2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gbmV3IEluc2VjdXJlU2VydmVyQ3JlZGVudGlhbHMoKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVNzbChyb290Q2VydHMsIGtleUNlcnRQYWlycywgY2hlY2tDbGllbnRDZXJ0aWZpY2F0ZSA9IGZhbHNlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHJvb3RDZXJ0cyAhPT0gbnVsbCAmJiAhQnVmZmVyLmlzQnVmZmVyKHJvb3RDZXJ0cykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Jvb3RDZXJ0cyBtdXN0IGJlIG51bGwgb3IgYSBCdWZmZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5Q2VydFBhaXJzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigna2V5Q2VydFBhaXJzIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNoZWNrQ2xpZW50Q2VydGlmaWNhdGUgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2hlY2tDbGllbnRDZXJ0aWZpY2F0ZSBtdXN0IGJlIGEgYm9vbGVhbicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNlcnQgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5Q2VydFBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWlyID0ga2V5Q2VydFBhaXJzW2ldO1xuICAgICAgICAgICAgaWYgKHBhaXIgPT09IG51bGwgfHwgdHlwZW9mIHBhaXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihga2V5Q2VydFBhaXJbJHtpfV0gbXVzdCBiZSBhbiBvYmplY3RgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHBhaXIucHJpdmF0ZV9rZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihga2V5Q2VydFBhaXJbJHtpfV0ucHJpdmF0ZV9rZXkgbXVzdCBiZSBhIEJ1ZmZlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIocGFpci5jZXJ0X2NoYWluKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGtleUNlcnRQYWlyWyR7aX1dLmNlcnRfY2hhaW4gbXVzdCBiZSBhIEJ1ZmZlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2VydC5wdXNoKHBhaXIuY2VydF9jaGFpbik7XG4gICAgICAgICAgICBrZXkucHVzaChwYWlyLnByaXZhdGVfa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNlY3VyZVNlcnZlckNyZWRlbnRpYWxzKHtcbiAgICAgICAgICAgIHJlcXVlc3RDZXJ0OiBjaGVja0NsaWVudENlcnRpZmljYXRlLFxuICAgICAgICAgICAgY2lwaGVyczogdGxzX2hlbHBlcnNfMS5DSVBIRVJfU1VJVEVTLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYTogKF9hID0gcm9vdENlcnRzICE9PSBudWxsICYmIHJvb3RDZXJ0cyAhPT0gdm9pZCAwID8gcm9vdENlcnRzIDogKDAsIHRsc19oZWxwZXJzXzEuZ2V0RGVmYXVsdFJvb3RzRGF0YSkoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2VydCxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJDcmVkZW50aWFscyA9IFNlcnZlckNyZWRlbnRpYWxzO1xuY2xhc3MgSW5zZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyBleHRlbmRzIFNlcnZlckNyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIobnVsbCk7XG4gICAgfVxuICAgIF9nZXRTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgSW5zZWN1cmVTZXJ2ZXJDcmVkZW50aWFscztcbiAgICB9XG59XG5jbGFzcyBTZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyBleHRlbmRzIFNlcnZlckNyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25zdHJ1Y3Rvck9wdGlvbnMsIGNvbnRleHRPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGNvbnN0cnVjdG9yT3B0aW9ucywgY29udGV4dE9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnN0cnVjdG9yT3B0aW9ucyksIGNvbnRleHRPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNoZWNraW5nIHRoZSBvcHRpb25zIHRoYXQgYXJlIGFjdHVhbGx5IHNldCBieVxuICAgICAqIGNyZWF0ZVNzbC5cbiAgICAgKiBAcGFyYW0gb3RoZXJcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlY3VyZVNlcnZlckNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9wdGlvbnMuY2EgZXF1YWxpdHkgY2hlY2tcbiAgICAgICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih0aGlzLm9wdGlvbnMuY2EpICYmIEJ1ZmZlci5pc0J1ZmZlcihvdGhlci5vcHRpb25zLmNhKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY2EuZXF1YWxzKG90aGVyLm9wdGlvbnMuY2EpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jYSAhPT0gb3RoZXIub3B0aW9ucy5jYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpb25zLmNlcnQgZXF1YWxpdHkgY2hlY2tcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmNlcnQpICYmIEFycmF5LmlzQXJyYXkob3RoZXIub3B0aW9ucy5jZXJ0KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jZXJ0Lmxlbmd0aCAhPT0gb3RoZXIub3B0aW9ucy5jZXJ0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zLmNlcnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGlzQ2VydCA9IHRoaXMub3B0aW9ucy5jZXJ0W2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyQ2VydCA9IG90aGVyLm9wdGlvbnMuY2VydFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHRoaXNDZXJ0KSAmJiBCdWZmZXIuaXNCdWZmZXIob3RoZXJDZXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXNDZXJ0LmVxdWFscyhvdGhlckNlcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzQ2VydCAhPT0gb3RoZXJDZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNlcnQgIT09IG90aGVyLm9wdGlvbnMuY2VydCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpb25zLmtleSBlcXVhbGl0eSBjaGVja1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMua2V5KSAmJiBBcnJheS5pc0FycmF5KG90aGVyLm9wdGlvbnMua2V5KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5rZXkubGVuZ3RoICE9PSBvdGhlci5vcHRpb25zLmtleS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5rZXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGlzS2V5ID0gdGhpcy5vcHRpb25zLmtleVtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlcktleSA9IG90aGVyLm9wdGlvbnMua2V5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodGhpc0tleSkgJiYgQnVmZmVyLmlzQnVmZmVyKG90aGVyS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXNLZXkuZXF1YWxzKG90aGVyS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc0tleSAhPT0gb3RoZXJLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMua2V5ICE9PSBvdGhlci5vcHRpb25zLmtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpb25zLnJlcXVlc3RDZXJ0IGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVxdWVzdENlcnQgIT09IG90aGVyLm9wdGlvbnMucmVxdWVzdENlcnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKiBjaXBoZXJzIGlzIGRlcml2ZWQgZnJvbSBhIHZhbHVlIHRoYXQgaXMgY29uc3RhbnQgZm9yIHRoZSBwcm9jZXNzLCBzbyBub1xuICAgICAgICAgKiBlcXVhbGl0eSBjaGVjayBpcyBuZWVkZWQuICovXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmNsYXNzIENlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscyBleHRlbmRzIFNlcnZlckNyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihpZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIsIGNhQ2VydGlmaWNhdGVQcm92aWRlciwgcmVxdWlyZUNsaWVudENlcnRpZmljYXRlKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIHJlcXVlc3RDZXJ0OiBjYUNlcnRpZmljYXRlUHJvdmlkZXIgIT09IG51bGwsXG4gICAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IHJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgIGNpcGhlcnM6IHRsc19oZWxwZXJzXzEuQ0lQSEVSX1NVSVRFU1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIgPSBpZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLnJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSA9IHJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZTtcbiAgICAgICAgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmNhQ2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lciA9IHRoaXMuaGFuZGxlQ2FDZXJ0aWZpY2F0ZVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lciA9IHRoaXMuaGFuZGxlSWRlbnRpdHlDZXJ0aXRpZmljYXRlVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIF9hZGRXYXRjaGVyKHdhdGNoZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5nZXRXYXRjaGVyQ291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRDYUNlcnRpZmljYXRlTGlzdGVuZXIodGhpcy5jYUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIuYWRkSWRlbnRpdHlDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5fYWRkV2F0Y2hlcih3YXRjaGVyKTtcbiAgICB9XG4gICAgX3JlbW92ZVdhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyLl9yZW1vdmVXYXRjaGVyKHdhdGNoZXIpO1xuICAgICAgICBpZiAodGhpcy5nZXRXYXRjaGVyQ291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDYUNlcnRpZmljYXRlTGlzdGVuZXIodGhpcy5jYUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIucmVtb3ZlSWRlbnRpdHlDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBDZXJ0aWZpY2F0ZVByb3ZpZGVyU2VydmVyQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLmNhQ2VydGlmaWNhdGVQcm92aWRlciA9PT0gb3RoZXIuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyICYmXG4gICAgICAgICAgICB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciA9PT0gb3RoZXIuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyICYmXG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSA9PT0gb3RoZXIucmVxdWlyZUNsaWVudENlcnRpZmljYXRlKTtcbiAgICB9XG4gICAgY2FsY3VsYXRlU2VjdXJlQ29udGV4dE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhQ2VydGlmaWNhdGVQcm92aWRlciAhPT0gbnVsbCAmJiB0aGlzLmxhdGVzdENhVXBkYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2E6IChfYSA9IHRoaXMubGF0ZXN0Q2FVcGRhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYUNlcnRpZmljYXRlLFxuICAgICAgICAgICAgY2VydDogW3RoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUuY2VydGlmaWNhdGVdLFxuICAgICAgICAgICAga2V5OiBbdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZS5wcml2YXRlS2V5XSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmluYWxpemVVcGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHNlY3VyZUNvbnRleHRPcHRpb25zID0gdGhpcy5jYWxjdWxhdGVTZWN1cmVDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNlY3VyZUNvbnRleHRPcHRpb25zKHNlY3VyZUNvbnRleHRPcHRpb25zKTtcbiAgICB9XG4gICAgaGFuZGxlQ2FDZXJ0aWZpY2F0ZVVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgdGhpcy5maW5hbGl6ZVVwZGF0ZSgpO1xuICAgIH1cbiAgICBoYW5kbGVJZGVudGl0eUNlcnRpdGlmaWNhdGVVcGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSB1cGRhdGU7XG4gICAgICAgIHRoaXMuZmluYWxpemVVcGRhdGUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyU2VydmVyQ3JlZGVudGlhbHMoY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyLCBpZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIsIHJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgIHJldHVybiBuZXcgQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzKGNhQ2VydGlmaWNhdGVQcm92aWRlciwgaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCByZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUpO1xufVxuY2xhc3MgSW50ZXJjZXB0b3JTZXJ2ZXJDcmVkZW50aWFscyBleHRlbmRzIFNlcnZlckNyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZENyZWRlbnRpYWxzLCBpbnRlcmNlcHRvcnMpIHtcbiAgICAgICAgc3VwZXIoe30pO1xuICAgICAgICB0aGlzLmNoaWxkQ3JlZGVudGlhbHMgPSBjaGlsZENyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmludGVyY2VwdG9ycyA9IGludGVyY2VwdG9ycztcbiAgICB9XG4gICAgX2lzU2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZENyZWRlbnRpYWxzLl9pc1NlY3VyZSgpO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgSW50ZXJjZXB0b3JTZXJ2ZXJDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0aGlzLmNoaWxkQ3JlZGVudGlhbHMuX2VxdWFscyhvdGhlci5jaGlsZENyZWRlbnRpYWxzKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbnRlcmNlcHRvcnMubGVuZ3RoICE9PSBvdGhlci5pbnRlcmNlcHRvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmludGVyY2VwdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJjZXB0b3JzW2ldICE9PSBvdGhlci5pbnRlcmNlcHRvcnNbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9nZXRJbnRlcmNlcHRvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyY2VwdG9ycztcbiAgICB9XG4gICAgX2FkZFdhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB0aGlzLmNoaWxkQ3JlZGVudGlhbHMuX2FkZFdhdGNoZXIod2F0Y2hlcik7XG4gICAgfVxuICAgIF9yZW1vdmVXYXRjaGVyKHdhdGNoZXIpIHtcbiAgICAgICAgdGhpcy5jaGlsZENyZWRlbnRpYWxzLl9yZW1vdmVXYXRjaGVyKHdhdGNoZXIpO1xuICAgIH1cbiAgICBfZ2V0Q29uc3RydWN0b3JPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZENyZWRlbnRpYWxzLl9nZXRDb25zdHJ1Y3Rvck9wdGlvbnMoKTtcbiAgICB9XG4gICAgX2dldFNlY3VyZUNvbnRleHRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZENyZWRlbnRpYWxzLl9nZXRTZWN1cmVDb250ZXh0T3B0aW9ucygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlcnZlckNyZWRlbnRpYWxzV2l0aEludGVyY2VwdG9ycyhjcmVkZW50aWFscywgaW50ZXJjZXB0b3JzKSB7XG4gICAgcmV0dXJuIG5ldyBJbnRlcmNlcHRvclNlcnZlckNyZWRlbnRpYWxzKGNyZWRlbnRpYWxzLCBpbnRlcmNlcHRvcnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWNyZWRlbnRpYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2024 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseServerInterceptingCall = exports.ServerInterceptingCall = exports.ResponderBuilder = exports.ServerListenerBuilder = void 0;\nexports.isInterceptingServerListener = isInterceptingServerListener;\nexports.getServerInterceptingCall = getServerInterceptingCall;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\");\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\nconst stream_decoder_1 = __webpack_require__(/*! ./stream-decoder */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'server_call';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nclass ServerListenerBuilder {\n    constructor() {\n        this.metadata = undefined;\n        this.message = undefined;\n        this.halfClose = undefined;\n        this.cancel = undefined;\n    }\n    withOnReceiveMetadata(onReceiveMetadata) {\n        this.metadata = onReceiveMetadata;\n        return this;\n    }\n    withOnReceiveMessage(onReceiveMessage) {\n        this.message = onReceiveMessage;\n        return this;\n    }\n    withOnReceiveHalfClose(onReceiveHalfClose) {\n        this.halfClose = onReceiveHalfClose;\n        return this;\n    }\n    withOnCancel(onCancel) {\n        this.cancel = onCancel;\n        return this;\n    }\n    build() {\n        return {\n            onReceiveMetadata: this.metadata,\n            onReceiveMessage: this.message,\n            onReceiveHalfClose: this.halfClose,\n            onCancel: this.cancel,\n        };\n    }\n}\nexports.ServerListenerBuilder = ServerListenerBuilder;\nfunction isInterceptingServerListener(listener) {\n    return (listener.onReceiveMetadata !== undefined &&\n        listener.onReceiveMetadata.length === 1);\n}\nclass InterceptingServerListenerImpl {\n    constructor(listener, nextListener) {\n        this.listener = listener;\n        this.nextListener = nextListener;\n        /**\n         * Once the call is cancelled, ignore all other events.\n         */\n        this.cancelled = false;\n        this.processingMetadata = false;\n        this.hasPendingMessage = false;\n        this.pendingMessage = null;\n        this.processingMessage = false;\n        this.hasPendingHalfClose = false;\n    }\n    processPendingMessage() {\n        if (this.hasPendingMessage) {\n            this.nextListener.onReceiveMessage(this.pendingMessage);\n            this.pendingMessage = null;\n            this.hasPendingMessage = false;\n        }\n    }\n    processPendingHalfClose() {\n        if (this.hasPendingHalfClose) {\n            this.nextListener.onReceiveHalfClose();\n            this.hasPendingHalfClose = false;\n        }\n    }\n    onReceiveMetadata(metadata) {\n        if (this.cancelled) {\n            return;\n        }\n        this.processingMetadata = true;\n        this.listener.onReceiveMetadata(metadata, interceptedMetadata => {\n            this.processingMetadata = false;\n            if (this.cancelled) {\n                return;\n            }\n            this.nextListener.onReceiveMetadata(interceptedMetadata);\n            this.processPendingMessage();\n            this.processPendingHalfClose();\n        });\n    }\n    onReceiveMessage(message) {\n        if (this.cancelled) {\n            return;\n        }\n        this.processingMessage = true;\n        this.listener.onReceiveMessage(message, msg => {\n            this.processingMessage = false;\n            if (this.cancelled) {\n                return;\n            }\n            if (this.processingMetadata) {\n                this.pendingMessage = msg;\n                this.hasPendingMessage = true;\n            }\n            else {\n                this.nextListener.onReceiveMessage(msg);\n                this.processPendingHalfClose();\n            }\n        });\n    }\n    onReceiveHalfClose() {\n        if (this.cancelled) {\n            return;\n        }\n        this.listener.onReceiveHalfClose(() => {\n            if (this.cancelled) {\n                return;\n            }\n            if (this.processingMetadata || this.processingMessage) {\n                this.hasPendingHalfClose = true;\n            }\n            else {\n                this.nextListener.onReceiveHalfClose();\n            }\n        });\n    }\n    onCancel() {\n        this.cancelled = true;\n        this.listener.onCancel();\n        this.nextListener.onCancel();\n    }\n}\nclass ResponderBuilder {\n    constructor() {\n        this.start = undefined;\n        this.metadata = undefined;\n        this.message = undefined;\n        this.status = undefined;\n    }\n    withStart(start) {\n        this.start = start;\n        return this;\n    }\n    withSendMetadata(sendMetadata) {\n        this.metadata = sendMetadata;\n        return this;\n    }\n    withSendMessage(sendMessage) {\n        this.message = sendMessage;\n        return this;\n    }\n    withSendStatus(sendStatus) {\n        this.status = sendStatus;\n        return this;\n    }\n    build() {\n        return {\n            start: this.start,\n            sendMetadata: this.metadata,\n            sendMessage: this.message,\n            sendStatus: this.status,\n        };\n    }\n}\nexports.ResponderBuilder = ResponderBuilder;\nconst defaultServerListener = {\n    onReceiveMetadata: (metadata, next) => {\n        next(metadata);\n    },\n    onReceiveMessage: (message, next) => {\n        next(message);\n    },\n    onReceiveHalfClose: next => {\n        next();\n    },\n    onCancel: () => { },\n};\nconst defaultResponder = {\n    start: next => {\n        next();\n    },\n    sendMetadata: (metadata, next) => {\n        next(metadata);\n    },\n    sendMessage: (message, next) => {\n        next(message);\n    },\n    sendStatus: (status, next) => {\n        next(status);\n    },\n};\nclass ServerInterceptingCall {\n    constructor(nextCall, responder) {\n        var _a, _b, _c, _d;\n        this.nextCall = nextCall;\n        this.processingMetadata = false;\n        this.sentMetadata = false;\n        this.processingMessage = false;\n        this.pendingMessage = null;\n        this.pendingMessageCallback = null;\n        this.pendingStatus = null;\n        this.responder = {\n            start: (_a = responder === null || responder === void 0 ? void 0 : responder.start) !== null && _a !== void 0 ? _a : defaultResponder.start,\n            sendMetadata: (_b = responder === null || responder === void 0 ? void 0 : responder.sendMetadata) !== null && _b !== void 0 ? _b : defaultResponder.sendMetadata,\n            sendMessage: (_c = responder === null || responder === void 0 ? void 0 : responder.sendMessage) !== null && _c !== void 0 ? _c : defaultResponder.sendMessage,\n            sendStatus: (_d = responder === null || responder === void 0 ? void 0 : responder.sendStatus) !== null && _d !== void 0 ? _d : defaultResponder.sendStatus,\n        };\n    }\n    processPendingMessage() {\n        if (this.pendingMessageCallback) {\n            this.nextCall.sendMessage(this.pendingMessage, this.pendingMessageCallback);\n            this.pendingMessage = null;\n            this.pendingMessageCallback = null;\n        }\n    }\n    processPendingStatus() {\n        if (this.pendingStatus) {\n            this.nextCall.sendStatus(this.pendingStatus);\n            this.pendingStatus = null;\n        }\n    }\n    start(listener) {\n        this.responder.start(interceptedListener => {\n            var _a, _b, _c, _d;\n            const fullInterceptedListener = {\n                onReceiveMetadata: (_a = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onReceiveMetadata) !== null && _a !== void 0 ? _a : defaultServerListener.onReceiveMetadata,\n                onReceiveMessage: (_b = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onReceiveMessage) !== null && _b !== void 0 ? _b : defaultServerListener.onReceiveMessage,\n                onReceiveHalfClose: (_c = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onReceiveHalfClose) !== null && _c !== void 0 ? _c : defaultServerListener.onReceiveHalfClose,\n                onCancel: (_d = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onCancel) !== null && _d !== void 0 ? _d : defaultServerListener.onCancel,\n            };\n            const finalInterceptingListener = new InterceptingServerListenerImpl(fullInterceptedListener, listener);\n            this.nextCall.start(finalInterceptingListener);\n        });\n    }\n    sendMetadata(metadata) {\n        this.processingMetadata = true;\n        this.sentMetadata = true;\n        this.responder.sendMetadata(metadata, interceptedMetadata => {\n            this.processingMetadata = false;\n            this.nextCall.sendMetadata(interceptedMetadata);\n            this.processPendingMessage();\n            this.processPendingStatus();\n        });\n    }\n    sendMessage(message, callback) {\n        this.processingMessage = true;\n        if (!this.sentMetadata) {\n            this.sendMetadata(new metadata_1.Metadata());\n        }\n        this.responder.sendMessage(message, interceptedMessage => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessage = interceptedMessage;\n                this.pendingMessageCallback = callback;\n            }\n            else {\n                this.nextCall.sendMessage(interceptedMessage, callback);\n            }\n        });\n    }\n    sendStatus(status) {\n        this.responder.sendStatus(status, interceptedStatus => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingStatus = interceptedStatus;\n            }\n            else {\n                this.nextCall.sendStatus(interceptedStatus);\n            }\n        });\n    }\n    startRead() {\n        this.nextCall.startRead();\n    }\n    getPeer() {\n        return this.nextCall.getPeer();\n    }\n    getDeadline() {\n        return this.nextCall.getDeadline();\n    }\n    getHost() {\n        return this.nextCall.getHost();\n    }\n}\nexports.ServerInterceptingCall = ServerInterceptingCall;\nconst GRPC_ACCEPT_ENCODING_HEADER = 'grpc-accept-encoding';\nconst GRPC_ENCODING_HEADER = 'grpc-encoding';\nconst GRPC_MESSAGE_HEADER = 'grpc-message';\nconst GRPC_STATUS_HEADER = 'grpc-status';\nconst GRPC_TIMEOUT_HEADER = 'grpc-timeout';\nconst DEADLINE_REGEX = /(\\d{1,8})\\s*([HMSmun])/;\nconst deadlineUnitsToMs = {\n    H: 3600000,\n    M: 60000,\n    S: 1000,\n    m: 1,\n    u: 0.001,\n    n: 0.000001,\n};\nconst defaultCompressionHeaders = {\n    // TODO(cjihrig): Remove these encoding headers from the default response\n    // once compression is integrated.\n    [GRPC_ACCEPT_ENCODING_HEADER]: 'identity,deflate,gzip',\n    [GRPC_ENCODING_HEADER]: 'identity',\n};\nconst defaultResponseHeaders = {\n    [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_OK,\n    [http2.constants.HTTP2_HEADER_CONTENT_TYPE]: 'application/grpc+proto',\n};\nconst defaultResponseOptions = {\n    waitForTrailers: true,\n};\nclass BaseServerInterceptingCall {\n    constructor(stream, headers, callEventTracker, handler, options) {\n        var _a;\n        this.stream = stream;\n        this.callEventTracker = callEventTracker;\n        this.handler = handler;\n        this.listener = null;\n        this.deadlineTimer = null;\n        this.deadline = Infinity;\n        this.maxSendMessageSize = constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n        this.maxReceiveMessageSize = constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        this.cancelled = false;\n        this.metadataSent = false;\n        this.wantTrailers = false;\n        this.cancelNotified = false;\n        this.incomingEncoding = 'identity';\n        this.readQueue = [];\n        this.isReadPending = false;\n        this.receivedHalfClose = false;\n        this.streamEnded = false;\n        this.stream.once('error', (err) => {\n            /* We need an error handler to avoid uncaught error event exceptions, but\n             * there is nothing we can reasonably do here. Any error event should\n             * have a corresponding close event, which handles emitting the cancelled\n             * event. And the stream is now in a bad state, so we can't reasonably\n             * expect to be able to send an error over it. */\n        });\n        this.stream.once('close', () => {\n            var _a;\n            trace('Request to method ' +\n                ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) +\n                ' stream closed with rstCode ' +\n                this.stream.rstCode);\n            if (this.callEventTracker && !this.streamEnded) {\n                this.streamEnded = true;\n                this.callEventTracker.onStreamEnd(false);\n                this.callEventTracker.onCallEnd({\n                    code: constants_1.Status.CANCELLED,\n                    details: 'Stream closed before sending status',\n                    metadata: null,\n                });\n            }\n            this.notifyOnCancel();\n        });\n        this.stream.on('data', (data) => {\n            this.handleDataFrame(data);\n        });\n        this.stream.pause();\n        this.stream.on('end', () => {\n            this.handleEndEvent();\n        });\n        if ('grpc.max_send_message_length' in options) {\n            this.maxSendMessageSize = options['grpc.max_send_message_length'];\n        }\n        if ('grpc.max_receive_message_length' in options) {\n            this.maxReceiveMessageSize = options['grpc.max_receive_message_length'];\n        }\n        this.host = (_a = headers[':authority']) !== null && _a !== void 0 ? _a : headers.host;\n        this.decoder = new stream_decoder_1.StreamDecoder(this.maxReceiveMessageSize);\n        const metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n        if (logging.isTracerEnabled(TRACER_NAME)) {\n            trace('Request to ' +\n                this.handler.path +\n                ' received headers ' +\n                JSON.stringify(metadata.toJSON()));\n        }\n        const timeoutHeader = metadata.get(GRPC_TIMEOUT_HEADER);\n        if (timeoutHeader.length > 0) {\n            this.handleTimeoutHeader(timeoutHeader[0]);\n        }\n        const encodingHeader = metadata.get(GRPC_ENCODING_HEADER);\n        if (encodingHeader.length > 0) {\n            this.incomingEncoding = encodingHeader[0];\n        }\n        // Remove several headers that should not be propagated to the application\n        metadata.remove(GRPC_TIMEOUT_HEADER);\n        metadata.remove(GRPC_ENCODING_HEADER);\n        metadata.remove(GRPC_ACCEPT_ENCODING_HEADER);\n        metadata.remove(http2.constants.HTTP2_HEADER_ACCEPT_ENCODING);\n        metadata.remove(http2.constants.HTTP2_HEADER_TE);\n        metadata.remove(http2.constants.HTTP2_HEADER_CONTENT_TYPE);\n        this.metadata = metadata;\n    }\n    handleTimeoutHeader(timeoutHeader) {\n        const match = timeoutHeader.toString().match(DEADLINE_REGEX);\n        if (match === null) {\n            const status = {\n                code: constants_1.Status.INTERNAL,\n                details: `Invalid ${GRPC_TIMEOUT_HEADER} value \"${timeoutHeader}\"`,\n                metadata: null,\n            };\n            // Wait for the constructor to complete before sending the error.\n            process.nextTick(() => {\n                this.sendStatus(status);\n            });\n            return;\n        }\n        const timeout = (+match[1] * deadlineUnitsToMs[match[2]]) | 0;\n        const now = new Date();\n        this.deadline = now.setMilliseconds(now.getMilliseconds() + timeout);\n        this.deadlineTimer = setTimeout(() => {\n            const status = {\n                code: constants_1.Status.DEADLINE_EXCEEDED,\n                details: 'Deadline exceeded',\n                metadata: null,\n            };\n            this.sendStatus(status);\n        }, timeout);\n    }\n    checkCancelled() {\n        /* In some cases the stream can become destroyed before the close event\n         * fires. That creates a race condition that this check works around */\n        if (!this.cancelled && (this.stream.destroyed || this.stream.closed)) {\n            this.notifyOnCancel();\n            this.cancelled = true;\n        }\n        return this.cancelled;\n    }\n    notifyOnCancel() {\n        if (this.cancelNotified) {\n            return;\n        }\n        this.cancelNotified = true;\n        this.cancelled = true;\n        process.nextTick(() => {\n            var _a;\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onCancel();\n        });\n        if (this.deadlineTimer) {\n            clearTimeout(this.deadlineTimer);\n        }\n        // Flush incoming data frames\n        this.stream.resume();\n    }\n    /**\n     * A server handler can start sending messages without explicitly sending\n     * metadata. In that case, we need to send headers before sending any\n     * messages. This function does that if necessary.\n     */\n    maybeSendMetadata() {\n        if (!this.metadataSent) {\n            this.sendMetadata(new metadata_1.Metadata());\n        }\n    }\n    /**\n     * Serialize a message to a length-delimited byte string.\n     * @param value\n     * @returns\n     */\n    serializeMessage(value) {\n        const messageBuffer = this.handler.serialize(value);\n        const byteLength = messageBuffer.byteLength;\n        const output = Buffer.allocUnsafe(byteLength + 5);\n        /* Note: response compression is currently not supported, so this\n         * compressed bit is always 0. */\n        output.writeUInt8(0, 0);\n        output.writeUInt32BE(byteLength, 1);\n        messageBuffer.copy(output, 5);\n        return output;\n    }\n    decompressMessage(message, encoding) {\n        const messageContents = message.subarray(5);\n        if (encoding === 'identity') {\n            return messageContents;\n        }\n        else if (encoding === 'deflate' || encoding === 'gzip') {\n            let decompresser;\n            if (encoding === 'deflate') {\n                decompresser = zlib.createInflate();\n            }\n            else {\n                decompresser = zlib.createGunzip();\n            }\n            return new Promise((resolve, reject) => {\n                let totalLength = 0;\n                const messageParts = [];\n                decompresser.on('data', (chunk) => {\n                    messageParts.push(chunk);\n                    totalLength += chunk.byteLength;\n                    if (this.maxReceiveMessageSize !== -1 && totalLength > this.maxReceiveMessageSize) {\n                        decompresser.destroy();\n                        reject({\n                            code: constants_1.Status.RESOURCE_EXHAUSTED,\n                            details: `Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`\n                        });\n                    }\n                });\n                decompresser.on('end', () => {\n                    resolve(Buffer.concat(messageParts));\n                });\n                decompresser.write(messageContents);\n                decompresser.end();\n            });\n        }\n        else {\n            return Promise.reject({\n                code: constants_1.Status.UNIMPLEMENTED,\n                details: `Received message compressed with unsupported encoding \"${encoding}\"`,\n            });\n        }\n    }\n    async decompressAndMaybePush(queueEntry) {\n        if (queueEntry.type !== 'COMPRESSED') {\n            throw new Error(`Invalid queue entry type: ${queueEntry.type}`);\n        }\n        const compressed = queueEntry.compressedMessage.readUInt8(0) === 1;\n        const compressedMessageEncoding = compressed\n            ? this.incomingEncoding\n            : 'identity';\n        let decompressedMessage;\n        try {\n            decompressedMessage = await this.decompressMessage(queueEntry.compressedMessage, compressedMessageEncoding);\n        }\n        catch (err) {\n            this.sendStatus(err);\n            return;\n        }\n        try {\n            queueEntry.parsedMessage = this.handler.deserialize(decompressedMessage);\n        }\n        catch (err) {\n            this.sendStatus({\n                code: constants_1.Status.INTERNAL,\n                details: `Error deserializing request: ${err.message}`,\n            });\n            return;\n        }\n        queueEntry.type = 'READABLE';\n        this.maybePushNextMessage();\n    }\n    maybePushNextMessage() {\n        if (this.listener &&\n            this.isReadPending &&\n            this.readQueue.length > 0 &&\n            this.readQueue[0].type !== 'COMPRESSED') {\n            this.isReadPending = false;\n            const nextQueueEntry = this.readQueue.shift();\n            if (nextQueueEntry.type === 'READABLE') {\n                this.listener.onReceiveMessage(nextQueueEntry.parsedMessage);\n            }\n            else {\n                // nextQueueEntry.type === 'HALF_CLOSE'\n                this.listener.onReceiveHalfClose();\n            }\n        }\n    }\n    handleDataFrame(data) {\n        var _a;\n        if (this.checkCancelled()) {\n            return;\n        }\n        trace('Request to ' +\n            this.handler.path +\n            ' received data frame of size ' +\n            data.length);\n        let rawMessages;\n        try {\n            rawMessages = this.decoder.write(data);\n        }\n        catch (e) {\n            this.sendStatus({ code: constants_1.Status.RESOURCE_EXHAUSTED, details: e.message });\n            return;\n        }\n        for (const messageBytes of rawMessages) {\n            this.stream.pause();\n            const queueEntry = {\n                type: 'COMPRESSED',\n                compressedMessage: messageBytes,\n                parsedMessage: null,\n            };\n            this.readQueue.push(queueEntry);\n            this.decompressAndMaybePush(queueEntry);\n            (_a = this.callEventTracker) === null || _a === void 0 ? void 0 : _a.addMessageReceived();\n        }\n    }\n    handleEndEvent() {\n        this.readQueue.push({\n            type: 'HALF_CLOSE',\n            compressedMessage: null,\n            parsedMessage: null,\n        });\n        this.receivedHalfClose = true;\n        this.maybePushNextMessage();\n    }\n    start(listener) {\n        trace('Request to ' + this.handler.path + ' start called');\n        if (this.checkCancelled()) {\n            return;\n        }\n        this.listener = listener;\n        listener.onReceiveMetadata(this.metadata);\n    }\n    sendMetadata(metadata) {\n        if (this.checkCancelled()) {\n            return;\n        }\n        if (this.metadataSent) {\n            return;\n        }\n        this.metadataSent = true;\n        const custom = metadata ? metadata.toHttp2Headers() : null;\n        const headers = Object.assign(Object.assign(Object.assign({}, defaultResponseHeaders), defaultCompressionHeaders), custom);\n        this.stream.respond(headers, defaultResponseOptions);\n    }\n    sendMessage(message, callback) {\n        if (this.checkCancelled()) {\n            return;\n        }\n        let response;\n        try {\n            response = this.serializeMessage(message);\n        }\n        catch (e) {\n            this.sendStatus({\n                code: constants_1.Status.INTERNAL,\n                details: `Error serializing response: ${(0, error_1.getErrorMessage)(e)}`,\n                metadata: null,\n            });\n            return;\n        }\n        if (this.maxSendMessageSize !== -1 &&\n            response.length - 5 > this.maxSendMessageSize) {\n            this.sendStatus({\n                code: constants_1.Status.RESOURCE_EXHAUSTED,\n                details: `Sent message larger than max (${response.length} vs. ${this.maxSendMessageSize})`,\n                metadata: null,\n            });\n            return;\n        }\n        this.maybeSendMetadata();\n        trace('Request to ' +\n            this.handler.path +\n            ' sent data frame of size ' +\n            response.length);\n        this.stream.write(response, error => {\n            var _a;\n            if (error) {\n                this.sendStatus({\n                    code: constants_1.Status.INTERNAL,\n                    details: `Error writing message: ${(0, error_1.getErrorMessage)(error)}`,\n                    metadata: null,\n                });\n                return;\n            }\n            (_a = this.callEventTracker) === null || _a === void 0 ? void 0 : _a.addMessageSent();\n            callback();\n        });\n    }\n    sendStatus(status) {\n        var _a, _b;\n        if (this.checkCancelled()) {\n            return;\n        }\n        trace('Request to method ' +\n            ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) +\n            ' ended with status code: ' +\n            constants_1.Status[status.code] +\n            ' details: ' +\n            status.details);\n        if (this.metadataSent) {\n            if (!this.wantTrailers) {\n                this.wantTrailers = true;\n                this.stream.once('wantTrailers', () => {\n                    var _a;\n                    if (this.callEventTracker && !this.streamEnded) {\n                        this.streamEnded = true;\n                        this.callEventTracker.onStreamEnd(true);\n                        this.callEventTracker.onCallEnd(status);\n                    }\n                    const trailersToSend = Object.assign({ [GRPC_STATUS_HEADER]: status.code, [GRPC_MESSAGE_HEADER]: encodeURI(status.details) }, (_a = status.metadata) === null || _a === void 0 ? void 0 : _a.toHttp2Headers());\n                    this.stream.sendTrailers(trailersToSend);\n                    this.notifyOnCancel();\n                });\n                this.stream.end();\n            }\n            else {\n                this.notifyOnCancel();\n            }\n        }\n        else {\n            if (this.callEventTracker && !this.streamEnded) {\n                this.streamEnded = true;\n                this.callEventTracker.onStreamEnd(true);\n                this.callEventTracker.onCallEnd(status);\n            }\n            // Trailers-only response\n            const trailersToSend = Object.assign(Object.assign({ [GRPC_STATUS_HEADER]: status.code, [GRPC_MESSAGE_HEADER]: encodeURI(status.details) }, defaultResponseHeaders), (_b = status.metadata) === null || _b === void 0 ? void 0 : _b.toHttp2Headers());\n            this.stream.respond(trailersToSend, { endStream: true });\n            this.notifyOnCancel();\n        }\n    }\n    startRead() {\n        trace('Request to ' + this.handler.path + ' startRead called');\n        if (this.checkCancelled()) {\n            return;\n        }\n        this.isReadPending = true;\n        if (this.readQueue.length === 0) {\n            if (!this.receivedHalfClose) {\n                this.stream.resume();\n            }\n        }\n        else {\n            this.maybePushNextMessage();\n        }\n    }\n    getPeer() {\n        var _a;\n        const socket = (_a = this.stream.session) === null || _a === void 0 ? void 0 : _a.socket;\n        if (socket === null || socket === void 0 ? void 0 : socket.remoteAddress) {\n            if (socket.remotePort) {\n                return `${socket.remoteAddress}:${socket.remotePort}`;\n            }\n            else {\n                return socket.remoteAddress;\n            }\n        }\n        else {\n            return 'unknown';\n        }\n    }\n    getDeadline() {\n        return this.deadline;\n    }\n    getHost() {\n        return this.host;\n    }\n}\nexports.BaseServerInterceptingCall = BaseServerInterceptingCall;\nfunction getServerInterceptingCall(interceptors, stream, headers, callEventTracker, handler, options) {\n    const methodDefinition = {\n        path: handler.path,\n        requestStream: handler.type === 'clientStream' || handler.type === 'bidi',\n        responseStream: handler.type === 'serverStream' || handler.type === 'bidi',\n        requestDeserialize: handler.deserialize,\n        responseSerialize: handler.serialize,\n    };\n    const baseCall = new BaseServerInterceptingCall(stream, headers, callEventTracker, handler, options);\n    return interceptors.reduce((call, interceptor) => {\n        return interceptor(methodDefinition, call);\n    }, baseCall);\n}\n//# sourceMappingURL=server-interceptors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXItaW50ZXJjZXB0b3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0NBQWtDLEdBQUcsOEJBQThCLEdBQUcsd0JBQXdCLEdBQUcsNkJBQTZCO0FBQzlILG9DQUFvQztBQUNwQyxpQ0FBaUM7QUFDakMsbUJBQW1CLG1CQUFPLENBQUMsK0dBQVk7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLGdCQUFnQixtQkFBTyxDQUFDLHlHQUFTO0FBQ2pDLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQix5QkFBeUIsbUJBQU8sQ0FBQywySEFBa0I7QUFDbkQsZ0JBQWdCLG1CQUFPLENBQUMsNkdBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLElBQUk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHFCQUFxQixTQUFTLGNBQWM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsMkJBQTJCO0FBQzVILHlCQUF5QjtBQUN6QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsU0FBUztBQUM1RixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsZ0JBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELFlBQVk7QUFDckUsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQWlFO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0NBQWdDO0FBQ3hGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxpQkFBaUIsTUFBTSx3QkFBd0I7QUFDekc7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELG9DQUFvQztBQUMzRjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxxRkFBcUY7QUFDaEo7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxxRkFBcUY7QUFDdEosa0RBQWtELGlCQUFpQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFCQUFxQixHQUFHLGtCQUFrQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXItaW50ZXJjZXB0b3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDI0IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJhc2VTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsID0gZXhwb3J0cy5TZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsID0gZXhwb3J0cy5SZXNwb25kZXJCdWlsZGVyID0gZXhwb3J0cy5TZXJ2ZXJMaXN0ZW5lckJ1aWxkZXIgPSB2b2lkIDA7XG5leHBvcnRzLmlzSW50ZXJjZXB0aW5nU2VydmVyTGlzdGVuZXIgPSBpc0ludGVyY2VwdGluZ1NlcnZlckxpc3RlbmVyO1xuZXhwb3J0cy5nZXRTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsID0gZ2V0U2VydmVySW50ZXJjZXB0aW5nQ2FsbDtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgaHR0cDIgPSByZXF1aXJlKFwiaHR0cDJcIik7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG5jb25zdCB6bGliID0gcmVxdWlyZShcInpsaWJcIik7XG5jb25zdCBzdHJlYW1fZGVjb2Rlcl8xID0gcmVxdWlyZShcIi4vc3RyZWFtLWRlY29kZXJcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3NlcnZlcl9jYWxsJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY2xhc3MgU2VydmVyTGlzdGVuZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jYW5jZWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVNZXRhZGF0YShvblJlY2VpdmVNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb25SZWNlaXZlTWV0YWRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoT25SZWNlaXZlTWVzc2FnZShvblJlY2VpdmVNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG9uUmVjZWl2ZU1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoT25SZWNlaXZlSGFsZkNsb3NlKG9uUmVjZWl2ZUhhbGZDbG9zZSkge1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IG9uUmVjZWl2ZUhhbGZDbG9zZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPbkNhbmNlbChvbkNhbmNlbCkge1xuICAgICAgICB0aGlzLmNhbmNlbCA9IG9uQ2FuY2VsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogdGhpcy5tZXRhZGF0YSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZUhhbGZDbG9zZTogdGhpcy5oYWxmQ2xvc2UsXG4gICAgICAgICAgICBvbkNhbmNlbDogdGhpcy5jYW5jZWwsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJMaXN0ZW5lckJ1aWxkZXIgPSBTZXJ2ZXJMaXN0ZW5lckJ1aWxkZXI7XG5mdW5jdGlvbiBpc0ludGVyY2VwdGluZ1NlcnZlckxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhLmxlbmd0aCA9PT0gMSk7XG59XG5jbGFzcyBJbnRlcmNlcHRpbmdTZXJ2ZXJMaXN0ZW5lckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyLCBuZXh0TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLm5leHRMaXN0ZW5lciA9IG5leHRMaXN0ZW5lcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9uY2UgdGhlIGNhbGwgaXMgY2FuY2VsbGVkLCBpZ25vcmUgYWxsIG90aGVyIGV2ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nSGFsZkNsb3NlID0gZmFsc2U7XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UodGhpcy5wZW5kaW5nTWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUGVuZGluZ0hhbGZDbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlSGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmhhc1BlbmRpbmdIYWxmQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEsIGludGVyY2VwdGVkTWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKGludGVyY2VwdGVkTWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UsIG1zZyA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbXNnO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uUmVjZWl2ZUhhbGZDbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVIYWxmQ2xvc2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhIHx8IHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1BlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlSGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uQ2FuY2VsKCk7XG4gICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uQ2FuY2VsKCk7XG4gICAgfVxufVxuY2xhc3MgUmVzcG9uZGVyQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHdpdGhTdGFydChzdGFydCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2VuZE1ldGFkYXRhKHNlbmRNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gc2VuZE1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aFNlbmRNZXNzYWdlKHNlbmRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aFNlbmRTdGF0dXMoc2VuZFN0YXR1cykge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHNlbmRTdGF0dXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBidWlsZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgICAgICAgICAgc2VuZE1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuICAgICAgICAgICAgc2VuZE1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIHNlbmRTdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuUmVzcG9uZGVyQnVpbGRlciA9IFJlc3BvbmRlckJ1aWxkZXI7XG5jb25zdCBkZWZhdWx0U2VydmVyTGlzdGVuZXIgPSB7XG4gICAgb25SZWNlaXZlTWV0YWRhdGE6IChtZXRhZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1ldGFkYXRhKTtcbiAgICB9LFxuICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IChtZXNzYWdlLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBvblJlY2VpdmVIYWxmQ2xvc2U6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbiAgICBvbkNhbmNlbDogKCkgPT4geyB9LFxufTtcbmNvbnN0IGRlZmF1bHRSZXNwb25kZXIgPSB7XG4gICAgc3RhcnQ6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbiAgICBzZW5kTWV0YWRhdGE6IChtZXRhZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1ldGFkYXRhKTtcbiAgICB9LFxuICAgIHNlbmRNZXNzYWdlOiAobWVzc2FnZSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1lc3NhZ2UpO1xuICAgIH0sXG4gICAgc2VuZFN0YXR1czogKHN0YXR1cywgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KHN0YXR1cyk7XG4gICAgfSxcbn07XG5jbGFzcyBTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihuZXh0Q2FsbCwgcmVzcG9uZGVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdGhpcy5uZXh0Q2FsbCA9IG5leHRDYWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbnRNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc3BvbmRlciA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiAoX2EgPSByZXNwb25kZXIgPT09IG51bGwgfHwgcmVzcG9uZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25kZXIuc3RhcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRSZXNwb25kZXIuc3RhcnQsXG4gICAgICAgICAgICBzZW5kTWV0YWRhdGE6IChfYiA9IHJlc3BvbmRlciA9PT0gbnVsbCB8fCByZXNwb25kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbmRlci5zZW5kTWV0YWRhdGEpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRSZXNwb25kZXIuc2VuZE1ldGFkYXRhLFxuICAgICAgICAgICAgc2VuZE1lc3NhZ2U6IChfYyA9IHJlc3BvbmRlciA9PT0gbnVsbCB8fCByZXNwb25kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbmRlci5zZW5kTWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdFJlc3BvbmRlci5zZW5kTWVzc2FnZSxcbiAgICAgICAgICAgIHNlbmRTdGF0dXM6IChfZCA9IHJlc3BvbmRlciA9PT0gbnVsbCB8fCByZXNwb25kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbmRlci5zZW5kU3RhdHVzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0UmVzcG9uZGVyLnNlbmRTdGF0dXMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2VDYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWVzc2FnZSh0aGlzLnBlbmRpbmdNZXNzYWdlLCB0aGlzLnBlbmRpbmdNZXNzYWdlQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nU3RhdHVzKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nU3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRTdGF0dXModGhpcy5wZW5kaW5nU3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5yZXNwb25kZXIuc3RhcnQoaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBjb25zdCBmdWxsSW50ZXJjZXB0ZWRMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogKF9hID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0U2VydmVyTGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKF9iID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRTZXJ2ZXJMaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlLFxuICAgICAgICAgICAgICAgIG9uUmVjZWl2ZUhhbGZDbG9zZTogKF9jID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uUmVjZWl2ZUhhbGZDbG9zZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdFNlcnZlckxpc3RlbmVyLm9uUmVjZWl2ZUhhbGZDbG9zZSxcbiAgICAgICAgICAgICAgICBvbkNhbmNlbDogKF9kID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uQ2FuY2VsKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0U2VydmVyTGlzdGVuZXIub25DYW5jZWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IG5ldyBJbnRlcmNlcHRpbmdTZXJ2ZXJMaXN0ZW5lckltcGwoZnVsbEludGVyY2VwdGVkTGlzdGVuZXIsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuc3RhcnQoZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbnRNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIHRoaXMucmVzcG9uZGVyLnNlbmRNZXRhZGF0YShtZXRhZGF0YSwgaW50ZXJjZXB0ZWRNZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWV0YWRhdGEoaW50ZXJjZXB0ZWRNZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ1N0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5zZW50TWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1ldGFkYXRhKG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzcG9uZGVyLnNlbmRNZXNzYWdlKG1lc3NhZ2UsIGludGVyY2VwdGVkTWVzc2FnZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gaW50ZXJjZXB0ZWRNZXNzYWdlO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWVzc2FnZShpbnRlcmNlcHRlZE1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmRTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHRoaXMucmVzcG9uZGVyLnNlbmRTdGF0dXMoc3RhdHVzLCBpbnRlcmNlcHRlZFN0YXR1cyA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgfHwgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IGludGVyY2VwdGVkU3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kU3RhdHVzKGludGVyY2VwdGVkU3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0UmVhZCgpIHtcbiAgICAgICAgdGhpcy5uZXh0Q2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0RGVhZGxpbmUoKTtcbiAgICB9XG4gICAgZ2V0SG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0SG9zdCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVySW50ZXJjZXB0aW5nQ2FsbCA9IFNlcnZlckludGVyY2VwdGluZ0NhbGw7XG5jb25zdCBHUlBDX0FDQ0VQVF9FTkNPRElOR19IRUFERVIgPSAnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnO1xuY29uc3QgR1JQQ19FTkNPRElOR19IRUFERVIgPSAnZ3JwYy1lbmNvZGluZyc7XG5jb25zdCBHUlBDX01FU1NBR0VfSEVBREVSID0gJ2dycGMtbWVzc2FnZSc7XG5jb25zdCBHUlBDX1NUQVRVU19IRUFERVIgPSAnZ3JwYy1zdGF0dXMnO1xuY29uc3QgR1JQQ19USU1FT1VUX0hFQURFUiA9ICdncnBjLXRpbWVvdXQnO1xuY29uc3QgREVBRExJTkVfUkVHRVggPSAvKFxcZHsxLDh9KVxccyooW0hNU211bl0pLztcbmNvbnN0IGRlYWRsaW5lVW5pdHNUb01zID0ge1xuICAgIEg6IDM2MDAwMDAsXG4gICAgTTogNjAwMDAsXG4gICAgUzogMTAwMCxcbiAgICBtOiAxLFxuICAgIHU6IDAuMDAxLFxuICAgIG46IDAuMDAwMDAxLFxufTtcbmNvbnN0IGRlZmF1bHRDb21wcmVzc2lvbkhlYWRlcnMgPSB7XG4gICAgLy8gVE9ETyhjamlocmlnKTogUmVtb3ZlIHRoZXNlIGVuY29kaW5nIGhlYWRlcnMgZnJvbSB0aGUgZGVmYXVsdCByZXNwb25zZVxuICAgIC8vIG9uY2UgY29tcHJlc3Npb24gaXMgaW50ZWdyYXRlZC5cbiAgICBbR1JQQ19BQ0NFUFRfRU5DT0RJTkdfSEVBREVSXTogJ2lkZW50aXR5LGRlZmxhdGUsZ3ppcCcsXG4gICAgW0dSUENfRU5DT0RJTkdfSEVBREVSXTogJ2lkZW50aXR5Jyxcbn07XG5jb25zdCBkZWZhdWx0UmVzcG9uc2VIZWFkZXJzID0ge1xuICAgIFtodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX1NUQVRVU106IGh0dHAyLmNvbnN0YW50cy5IVFRQX1NUQVRVU19PSyxcbiAgICBbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdOiAnYXBwbGljYXRpb24vZ3JwYytwcm90bycsXG59O1xuY29uc3QgZGVmYXVsdFJlc3BvbnNlT3B0aW9ucyA9IHtcbiAgICB3YWl0Rm9yVHJhaWxlcnM6IHRydWUsXG59O1xuY2xhc3MgQmFzZVNlcnZlckludGVyY2VwdGluZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKHN0cmVhbSwgaGVhZGVycywgY2FsbEV2ZW50VHJhY2tlciwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIgPSBjYWxsRXZlbnRUcmFja2VyO1xuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFkbGluZVRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFkbGluZSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZSA9IGNvbnN0YW50c18xLkRFRkFVTFRfTUFYX1NFTkRfTUVTU0FHRV9MRU5HVEg7XG4gICAgICAgIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplID0gY29uc3RhbnRzXzEuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSDtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YVNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53YW50VHJhaWxlcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5jZWxOb3RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluY29taW5nRW5jb2RpbmcgPSAnaWRlbnRpdHknO1xuICAgICAgICB0aGlzLnJlYWRRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmlzUmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWNlaXZlZEhhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0cmVhbUVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RyZWFtLm9uY2UoJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgLyogV2UgbmVlZCBhbiBlcnJvciBoYW5kbGVyIHRvIGF2b2lkIHVuY2F1Z2h0IGVycm9yIGV2ZW50IGV4Y2VwdGlvbnMsIGJ1dFxuICAgICAgICAgICAgICogdGhlcmUgaXMgbm90aGluZyB3ZSBjYW4gcmVhc29uYWJseSBkbyBoZXJlLiBBbnkgZXJyb3IgZXZlbnQgc2hvdWxkXG4gICAgICAgICAgICAgKiBoYXZlIGEgY29ycmVzcG9uZGluZyBjbG9zZSBldmVudCwgd2hpY2ggaGFuZGxlcyBlbWl0dGluZyB0aGUgY2FuY2VsbGVkXG4gICAgICAgICAgICAgKiBldmVudC4gQW5kIHRoZSBzdHJlYW0gaXMgbm93IGluIGEgYmFkIHN0YXRlLCBzbyB3ZSBjYW4ndCByZWFzb25hYmx5XG4gICAgICAgICAgICAgKiBleHBlY3QgdG8gYmUgYWJsZSB0byBzZW5kIGFuIGVycm9yIG92ZXIgaXQuICovXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0cmVhbS5vbmNlKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHRyYWNlKCdSZXF1ZXN0IHRvIG1ldGhvZCAnICtcbiAgICAgICAgICAgICAgICAoKF9hID0gdGhpcy5oYW5kbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF0aCkgK1xuICAgICAgICAgICAgICAgICcgc3RyZWFtIGNsb3NlZCB3aXRoIHJzdENvZGUgJyArXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0ucnN0Q29kZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsRXZlbnRUcmFja2VyICYmICF0aGlzLnN0cmVhbUVuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1FbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIub25DYWxsRW5kKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLkNBTkNFTExFRCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ1N0cmVhbSBjbG9zZWQgYmVmb3JlIHNlbmRpbmcgc3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU9uQ2FuY2VsKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0cmVhbS5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFGcmFtZShkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RyZWFtLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuc3RyZWFtLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVuZEV2ZW50KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoJ2dycGMubWF4X3NlbmRfbWVzc2FnZV9sZW5ndGgnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMubWF4U2VuZE1lc3NhZ2VTaXplID0gb3B0aW9uc1snZ3JwYy5tYXhfc2VuZF9tZXNzYWdlX2xlbmd0aCddO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUgPSBvcHRpb25zWydncnBjLm1heF9yZWNlaXZlX21lc3NhZ2VfbGVuZ3RoJ107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob3N0ID0gKF9hID0gaGVhZGVyc1snOmF1dGhvcml0eSddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBoZWFkZXJzLmhvc3Q7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBzdHJlYW1fZGVjb2Rlcl8xLlN0cmVhbURlY29kZXIodGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUpO1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IG1ldGFkYXRhXzEuTWV0YWRhdGEuZnJvbUh0dHAySGVhZGVycyhoZWFkZXJzKTtcbiAgICAgICAgaWYgKGxvZ2dpbmcuaXNUcmFjZXJFbmFibGVkKFRSQUNFUl9OQU1FKSkge1xuICAgICAgICAgICAgdHJhY2UoJ1JlcXVlc3QgdG8gJyArXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyLnBhdGggK1xuICAgICAgICAgICAgICAgICcgcmVjZWl2ZWQgaGVhZGVycyAnICtcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShtZXRhZGF0YS50b0pTT04oKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVvdXRIZWFkZXIgPSBtZXRhZGF0YS5nZXQoR1JQQ19USU1FT1VUX0hFQURFUik7XG4gICAgICAgIGlmICh0aW1lb3V0SGVhZGVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVGltZW91dEhlYWRlcih0aW1lb3V0SGVhZGVyWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGluZ0hlYWRlciA9IG1ldGFkYXRhLmdldChHUlBDX0VOQ09ESU5HX0hFQURFUik7XG4gICAgICAgIGlmIChlbmNvZGluZ0hlYWRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmluY29taW5nRW5jb2RpbmcgPSBlbmNvZGluZ0hlYWRlclswXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgc2V2ZXJhbCBoZWFkZXJzIHRoYXQgc2hvdWxkIG5vdCBiZSBwcm9wYWdhdGVkIHRvIHRoZSBhcHBsaWNhdGlvblxuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoR1JQQ19USU1FT1VUX0hFQURFUik7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZShHUlBDX0VOQ09ESU5HX0hFQURFUik7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZShHUlBDX0FDQ0VQVF9FTkNPRElOR19IRUFERVIpO1xuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9BQ0NFUFRfRU5DT0RJTkcpO1xuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9URSk7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZShodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX0NPTlRFTlRfVFlQRSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICB9XG4gICAgaGFuZGxlVGltZW91dEhlYWRlcih0aW1lb3V0SGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGltZW91dEhlYWRlci50b1N0cmluZygpLm1hdGNoKERFQURMSU5FX1JFR0VYKTtcbiAgICAgICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBJbnZhbGlkICR7R1JQQ19USU1FT1VUX0hFQURFUn0gdmFsdWUgXCIke3RpbWVvdXRIZWFkZXJ9XCJgLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBjb25zdHJ1Y3RvciB0byBjb21wbGV0ZSBiZWZvcmUgc2VuZGluZyB0aGUgZXJyb3IuXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSAoK21hdGNoWzFdICogZGVhZGxpbmVVbml0c1RvTXNbbWF0Y2hbMl1dKSB8IDA7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBub3cuc2V0TWlsbGlzZWNvbmRzKG5vdy5nZXRNaWxsaXNlY29uZHMoKSArIHRpbWVvdXQpO1xuICAgICAgICB0aGlzLmRlYWRsaW5lVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogJ0RlYWRsaW5lIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgfVxuICAgIGNoZWNrQ2FuY2VsbGVkKCkge1xuICAgICAgICAvKiBJbiBzb21lIGNhc2VzIHRoZSBzdHJlYW0gY2FuIGJlY29tZSBkZXN0cm95ZWQgYmVmb3JlIHRoZSBjbG9zZSBldmVudFxuICAgICAgICAgKiBmaXJlcy4gVGhhdCBjcmVhdGVzIGEgcmFjZSBjb25kaXRpb24gdGhhdCB0aGlzIGNoZWNrIHdvcmtzIGFyb3VuZCAqL1xuICAgICAgICBpZiAoIXRoaXMuY2FuY2VsbGVkICYmICh0aGlzLnN0cmVhbS5kZXN0cm95ZWQgfHwgdGhpcy5zdHJlYW0uY2xvc2VkKSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPbkNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbmNlbGxlZDtcbiAgICB9XG4gICAgbm90aWZ5T25DYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbE5vdGlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW5jZWxOb3RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmxpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25DYW5jZWwoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmRlYWRsaW5lVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYWRsaW5lVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZsdXNoIGluY29taW5nIGRhdGEgZnJhbWVzXG4gICAgICAgIHRoaXMuc3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNlcnZlciBoYW5kbGVyIGNhbiBzdGFydCBzZW5kaW5nIG1lc3NhZ2VzIHdpdGhvdXQgZXhwbGljaXRseSBzZW5kaW5nXG4gICAgICogbWV0YWRhdGEuIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byBzZW5kIGhlYWRlcnMgYmVmb3JlIHNlbmRpbmcgYW55XG4gICAgICogbWVzc2FnZXMuIFRoaXMgZnVuY3Rpb24gZG9lcyB0aGF0IGlmIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBtYXliZVNlbmRNZXRhZGF0YSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhU2VudCkge1xuICAgICAgICAgICAgdGhpcy5zZW5kTWV0YWRhdGEobmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIGEgbWVzc2FnZSB0byBhIGxlbmd0aC1kZWxpbWl0ZWQgYnl0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBzZXJpYWxpemVNZXNzYWdlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VCdWZmZXIgPSB0aGlzLmhhbmRsZXIuc2VyaWFsaXplKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IG1lc3NhZ2VCdWZmZXIuYnl0ZUxlbmd0aDtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKGJ5dGVMZW5ndGggKyA1KTtcbiAgICAgICAgLyogTm90ZTogcmVzcG9uc2UgY29tcHJlc3Npb24gaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQsIHNvIHRoaXNcbiAgICAgICAgICogY29tcHJlc3NlZCBiaXQgaXMgYWx3YXlzIDAuICovXG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQ4KDAsIDApO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50MzJCRShieXRlTGVuZ3RoLCAxKTtcbiAgICAgICAgbWVzc2FnZUJ1ZmZlci5jb3B5KG91dHB1dCwgNSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGRlY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UsIGVuY29kaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50cyA9IG1lc3NhZ2Uuc3ViYXJyYXkoNSk7XG4gICAgICAgIGlmIChlbmNvZGluZyA9PT0gJ2lkZW50aXR5Jykge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VDb250ZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbmNvZGluZyA9PT0gJ2RlZmxhdGUnIHx8IGVuY29kaW5nID09PSAnZ3ppcCcpIHtcbiAgICAgICAgICAgIGxldCBkZWNvbXByZXNzZXI7XG4gICAgICAgICAgICBpZiAoZW5jb2RpbmcgPT09ICdkZWZsYXRlJykge1xuICAgICAgICAgICAgICAgIGRlY29tcHJlc3NlciA9IHpsaWIuY3JlYXRlSW5mbGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVjb21wcmVzc2VyID0gemxpYi5jcmVhdGVHdW56aXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlUGFydHMgPSBbXTtcbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVBhcnRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUgIT09IC0xICYmIHRvdGFsTGVuZ3RoID4gdGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIG1lc3NhZ2UgdGhhdCBkZWNvbXByZXNzZXMgdG8gYSBzaXplIGxhcmdlciB0aGFuICR7dGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShCdWZmZXIuY29uY2F0KG1lc3NhZ2VQYXJ0cykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci53cml0ZShtZXNzYWdlQ29udGVudHMpO1xuICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgbWVzc2FnZSBjb21wcmVzc2VkIHdpdGggdW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2VuY29kaW5nfVwiYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlY29tcHJlc3NBbmRNYXliZVB1c2gocXVldWVFbnRyeSkge1xuICAgICAgICBpZiAocXVldWVFbnRyeS50eXBlICE9PSAnQ09NUFJFU1NFRCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBxdWV1ZSBlbnRyeSB0eXBlOiAke3F1ZXVlRW50cnkudHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wcmVzc2VkID0gcXVldWVFbnRyeS5jb21wcmVzc2VkTWVzc2FnZS5yZWFkVUludDgoMCkgPT09IDE7XG4gICAgICAgIGNvbnN0IGNvbXByZXNzZWRNZXNzYWdlRW5jb2RpbmcgPSBjb21wcmVzc2VkXG4gICAgICAgICAgICA/IHRoaXMuaW5jb21pbmdFbmNvZGluZ1xuICAgICAgICAgICAgOiAnaWRlbnRpdHknO1xuICAgICAgICBsZXQgZGVjb21wcmVzc2VkTWVzc2FnZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlY29tcHJlc3NlZE1lc3NhZ2UgPSBhd2FpdCB0aGlzLmRlY29tcHJlc3NNZXNzYWdlKHF1ZXVlRW50cnkuY29tcHJlc3NlZE1lc3NhZ2UsIGNvbXByZXNzZWRNZXNzYWdlRW5jb2RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyhlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBxdWV1ZUVudHJ5LnBhcnNlZE1lc3NhZ2UgPSB0aGlzLmhhbmRsZXIuZGVzZXJpYWxpemUoZGVjb21wcmVzc2VkTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYEVycm9yIGRlc2VyaWFsaXppbmcgcmVxdWVzdDogJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVFbnRyeS50eXBlID0gJ1JFQURBQkxFJztcbiAgICAgICAgdGhpcy5tYXliZVB1c2hOZXh0TWVzc2FnZSgpO1xuICAgIH1cbiAgICBtYXliZVB1c2hOZXh0TWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXIgJiZcbiAgICAgICAgICAgIHRoaXMuaXNSZWFkUGVuZGluZyAmJlxuICAgICAgICAgICAgdGhpcy5yZWFkUXVldWUubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgdGhpcy5yZWFkUXVldWVbMF0udHlwZSAhPT0gJ0NPTVBSRVNTRUQnKSB7XG4gICAgICAgICAgICB0aGlzLmlzUmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRRdWV1ZUVudHJ5ID0gdGhpcy5yZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChuZXh0UXVldWVFbnRyeS50eXBlID09PSAnUkVBREFCTEUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG5leHRRdWV1ZUVudHJ5LnBhcnNlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbmV4dFF1ZXVlRW50cnkudHlwZSA9PT0gJ0hBTEZfQ0xPU0UnXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVEYXRhRnJhbWUoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlci5wYXRoICtcbiAgICAgICAgICAgICcgcmVjZWl2ZWQgZGF0YSBmcmFtZSBvZiBzaXplICcgK1xuICAgICAgICAgICAgZGF0YS5sZW5ndGgpO1xuICAgICAgICBsZXQgcmF3TWVzc2FnZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByYXdNZXNzYWdlcyA9IHRoaXMuZGVjb2Rlci53cml0ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHsgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRCwgZGV0YWlsczogZS5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZUJ5dGVzIG9mIHJhd01lc3NhZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5wYXVzZSgpO1xuICAgICAgICAgICAgY29uc3QgcXVldWVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnQ09NUFJFU1NFRCcsXG4gICAgICAgICAgICAgICAgY29tcHJlc3NlZE1lc3NhZ2U6IG1lc3NhZ2VCeXRlcyxcbiAgICAgICAgICAgICAgICBwYXJzZWRNZXNzYWdlOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucmVhZFF1ZXVlLnB1c2gocXVldWVFbnRyeSk7XG4gICAgICAgICAgICB0aGlzLmRlY29tcHJlc3NBbmRNYXliZVB1c2gocXVldWVFbnRyeSk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmNhbGxFdmVudFRyYWNrZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRNZXNzYWdlUmVjZWl2ZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVFbmRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5yZWFkUXVldWUucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFMRl9DTE9TRScsXG4gICAgICAgICAgICBjb21wcmVzc2VkTWVzc2FnZTogbnVsbCxcbiAgICAgICAgICAgIHBhcnNlZE1lc3NhZ2U6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlY2VpdmVkSGFsZkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXliZVB1c2hOZXh0TWVzc2FnZSgpO1xuICAgIH1cbiAgICBzdGFydChsaXN0ZW5lcikge1xuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICsgdGhpcy5oYW5kbGVyLnBhdGggKyAnIHN0YXJ0IGNhbGxlZCcpO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICBsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSh0aGlzLm1ldGFkYXRhKTtcbiAgICB9XG4gICAgc2VuZE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YVNlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1ldGFkYXRhU2VudCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGN1c3RvbSA9IG1ldGFkYXRhID8gbWV0YWRhdGEudG9IdHRwMkhlYWRlcnMoKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFJlc3BvbnNlSGVhZGVycyksIGRlZmF1bHRDb21wcmVzc2lvbkhlYWRlcnMpLCBjdXN0b20pO1xuICAgICAgICB0aGlzLnN0cmVhbS5yZXNwb25kKGhlYWRlcnMsIGRlZmF1bHRSZXNwb25zZU9wdGlvbnMpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLnNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBFcnJvciBzZXJpYWxpemluZyByZXNwb25zZTogJHsoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGUpfWAsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhTZW5kTWVzc2FnZVNpemUgIT09IC0xICYmXG4gICAgICAgICAgICByZXNwb25zZS5sZW5ndGggLSA1ID4gdGhpcy5tYXhTZW5kTWVzc2FnZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgU2VudCBtZXNzYWdlIGxhcmdlciB0aGFuIG1heCAoJHtyZXNwb25zZS5sZW5ndGh9IHZzLiAke3RoaXMubWF4U2VuZE1lc3NhZ2VTaXplfSlgLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXliZVNlbmRNZXRhZGF0YSgpO1xuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlci5wYXRoICtcbiAgICAgICAgICAgICcgc2VudCBkYXRhIGZyYW1lIG9mIHNpemUgJyArXG4gICAgICAgICAgICByZXNwb25zZS5sZW5ndGgpO1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZShyZXNwb25zZSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgRXJyb3Igd3JpdGluZyBtZXNzYWdlOiAkeygwLCBlcnJvcl8xLmdldEVycm9yTWVzc2FnZSkoZXJyb3IpfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMuY2FsbEV2ZW50VHJhY2tlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZE1lc3NhZ2VTZW50KCk7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlKCdSZXF1ZXN0IHRvIG1ldGhvZCAnICtcbiAgICAgICAgICAgICgoX2EgPSB0aGlzLmhhbmRsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXRoKSArXG4gICAgICAgICAgICAnIGVuZGVkIHdpdGggc3RhdHVzIGNvZGU6ICcgK1xuICAgICAgICAgICAgY29uc3RhbnRzXzEuU3RhdHVzW3N0YXR1cy5jb2RlXSArXG4gICAgICAgICAgICAnIGRldGFpbHM6ICcgK1xuICAgICAgICAgICAgc3RhdHVzLmRldGFpbHMpO1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YVNlbnQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy53YW50VHJhaWxlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbnRUcmFpbGVycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0ub25jZSgnd2FudFRyYWlsZXJzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxFdmVudFRyYWNrZXIgJiYgIXRoaXMuc3RyZWFtRW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtRW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uQ2FsbEVuZChzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWlsZXJzVG9TZW5kID0gT2JqZWN0LmFzc2lnbih7IFtHUlBDX1NUQVRVU19IRUFERVJdOiBzdGF0dXMuY29kZSwgW0dSUENfTUVTU0FHRV9IRUFERVJdOiBlbmNvZGVVUkkoc3RhdHVzLmRldGFpbHMpIH0sIChfYSA9IHN0YXR1cy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvSHR0cDJIZWFkZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5zZW5kVHJhaWxlcnModHJhaWxlcnNUb1NlbmQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU9uQ2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0uZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU9uQ2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsRXZlbnRUcmFja2VyICYmICF0aGlzLnN0cmVhbUVuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1FbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vbkNhbGxFbmQoc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYWlsZXJzLW9ubHkgcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IHRyYWlsZXJzVG9TZW5kID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgW0dSUENfU1RBVFVTX0hFQURFUl06IHN0YXR1cy5jb2RlLCBbR1JQQ19NRVNTQUdFX0hFQURFUl06IGVuY29kZVVSSShzdGF0dXMuZGV0YWlscykgfSwgZGVmYXVsdFJlc3BvbnNlSGVhZGVycyksIChfYiA9IHN0YXR1cy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRvSHR0cDJIZWFkZXJzKCkpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0ucmVzcG9uZCh0cmFpbGVyc1RvU2VuZCwgeyBlbmRTdHJlYW06IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU9uQ2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICsgdGhpcy5oYW5kbGVyLnBhdGggKyAnIHN0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSZWFkUGVuZGluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnJlYWRRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNlaXZlZEhhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLnJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXliZVB1c2hOZXh0TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gKF9hID0gdGhpcy5zdHJlYW0uc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvY2tldDtcbiAgICAgICAgaWYgKHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5yZW1vdGVBZGRyZXNzKSB7XG4gICAgICAgICAgICBpZiAoc29ja2V0LnJlbW90ZVBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7c29ja2V0LnJlbW90ZUFkZHJlc3N9OiR7c29ja2V0LnJlbW90ZVBvcnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb2NrZXQucmVtb3RlQWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RGVhZGxpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlYWRsaW5lO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3N0O1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVNlcnZlckludGVyY2VwdGluZ0NhbGwgPSBCYXNlU2VydmVySW50ZXJjZXB0aW5nQ2FsbDtcbmZ1bmN0aW9uIGdldFNlcnZlckludGVyY2VwdGluZ0NhbGwoaW50ZXJjZXB0b3JzLCBzdHJlYW0sIGhlYWRlcnMsIGNhbGxFdmVudFRyYWNrZXIsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICBwYXRoOiBoYW5kbGVyLnBhdGgsXG4gICAgICAgIHJlcXVlc3RTdHJlYW06IGhhbmRsZXIudHlwZSA9PT0gJ2NsaWVudFN0cmVhbScgfHwgaGFuZGxlci50eXBlID09PSAnYmlkaScsXG4gICAgICAgIHJlc3BvbnNlU3RyZWFtOiBoYW5kbGVyLnR5cGUgPT09ICdzZXJ2ZXJTdHJlYW0nIHx8IGhhbmRsZXIudHlwZSA9PT0gJ2JpZGknLFxuICAgICAgICByZXF1ZXN0RGVzZXJpYWxpemU6IGhhbmRsZXIuZGVzZXJpYWxpemUsXG4gICAgICAgIHJlc3BvbnNlU2VyaWFsaXplOiBoYW5kbGVyLnNlcmlhbGl6ZSxcbiAgICB9O1xuICAgIGNvbnN0IGJhc2VDYWxsID0gbmV3IEJhc2VTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsKHN0cmVhbSwgaGVhZGVycywgY2FsbEV2ZW50VHJhY2tlciwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGludGVyY2VwdG9ycy5yZWR1Y2UoKGNhbGwsIGludGVyY2VwdG9yKSA9PiB7XG4gICAgICAgIHJldHVybiBpbnRlcmNlcHRvcihtZXRob2REZWZpbml0aW9uLCBjYWxsKTtcbiAgICB9LCBiYXNlQ2FsbCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2ZXItaW50ZXJjZXB0b3JzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __runInitializers = (this && this.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\nvar __esDecorate = (this && this.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Server = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst util = __webpack_require__(/*! util */ \"util\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst server_call_1 = __webpack_require__(/*! ./server-call */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js\");\nconst server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst server_interceptors_1 = __webpack_require__(/*! ./server-interceptors */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js\");\nconst UNLIMITED_CONNECTION_AGE_MS = ~(1 << 31);\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst MAX_CONNECTION_IDLE_MS = ~(1 << 31);\nconst { HTTP2_HEADER_PATH } = http2.constants;\nconst TRACER_NAME = 'server';\nconst kMaxAge = Buffer.from('max_age');\nfunction serverCallTrace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, 'server_call', text);\n}\nfunction noop() { }\n/**\n * Decorator to wrap a class method with util.deprecate\n * @param message The message to output if the deprecated method is called\n * @returns\n */\nfunction deprecate(message) {\n    return function (target, context) {\n        return util.deprecate(target, message);\n    };\n}\nfunction getUnimplementedStatusResponse(methodName) {\n    return {\n        code: constants_1.Status.UNIMPLEMENTED,\n        details: `The server does not implement the method ${methodName}`,\n    };\n}\nfunction getDefaultHandler(handlerType, methodName) {\n    const unimplementedStatusResponse = getUnimplementedStatusResponse(methodName);\n    switch (handlerType) {\n        case 'unary':\n            return (call, callback) => {\n                callback(unimplementedStatusResponse, null);\n            };\n        case 'clientStream':\n            return (call, callback) => {\n                callback(unimplementedStatusResponse, null);\n            };\n        case 'serverStream':\n            return (call) => {\n                call.emit('error', unimplementedStatusResponse);\n            };\n        case 'bidi':\n            return (call) => {\n                call.emit('error', unimplementedStatusResponse);\n            };\n        default:\n            throw new Error(`Invalid handlerType ${handlerType}`);\n    }\n}\nlet Server = (() => {\n    var _a;\n    let _instanceExtraInitializers = [];\n    let _start_decorators;\n    return _a = class Server {\n            constructor(options) {\n                var _b, _c, _d, _e, _f, _g;\n                this.boundPorts = (__runInitializers(this, _instanceExtraInitializers), new Map());\n                this.http2Servers = new Map();\n                this.sessionIdleTimeouts = new Map();\n                this.handlers = new Map();\n                this.sessions = new Map();\n                /**\n                 * This field only exists to ensure that the start method throws an error if\n                 * it is called twice, as it did previously.\n                 */\n                this.started = false;\n                this.shutdown = false;\n                this.serverAddressString = 'null';\n                // Channelz Info\n                this.channelzEnabled = true;\n                this.options = options !== null && options !== void 0 ? options : {};\n                if (this.options['grpc.enable_channelz'] === 0) {\n                    this.channelzEnabled = false;\n                    this.channelzTrace = new channelz_1.ChannelzTraceStub();\n                    this.callTracker = new channelz_1.ChannelzCallTrackerStub();\n                    this.listenerChildrenTracker = new channelz_1.ChannelzChildrenTrackerStub();\n                    this.sessionChildrenTracker = new channelz_1.ChannelzChildrenTrackerStub();\n                }\n                else {\n                    this.channelzTrace = new channelz_1.ChannelzTrace();\n                    this.callTracker = new channelz_1.ChannelzCallTracker();\n                    this.listenerChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n                    this.sessionChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n                }\n                this.channelzRef = (0, channelz_1.registerChannelzServer)('server', () => this.getChannelzInfo(), this.channelzEnabled);\n                this.channelzTrace.addTrace('CT_INFO', 'Server created');\n                this.maxConnectionAgeMs =\n                    (_b = this.options['grpc.max_connection_age_ms']) !== null && _b !== void 0 ? _b : UNLIMITED_CONNECTION_AGE_MS;\n                this.maxConnectionAgeGraceMs =\n                    (_c = this.options['grpc.max_connection_age_grace_ms']) !== null && _c !== void 0 ? _c : UNLIMITED_CONNECTION_AGE_MS;\n                this.keepaliveTimeMs =\n                    (_d = this.options['grpc.keepalive_time_ms']) !== null && _d !== void 0 ? _d : KEEPALIVE_MAX_TIME_MS;\n                this.keepaliveTimeoutMs =\n                    (_e = this.options['grpc.keepalive_timeout_ms']) !== null && _e !== void 0 ? _e : KEEPALIVE_TIMEOUT_MS;\n                this.sessionIdleTimeout =\n                    (_f = this.options['grpc.max_connection_idle_ms']) !== null && _f !== void 0 ? _f : MAX_CONNECTION_IDLE_MS;\n                this.commonServerOptions = {\n                    maxSendHeaderBlockLength: Number.MAX_SAFE_INTEGER,\n                };\n                if ('grpc-node.max_session_memory' in this.options) {\n                    this.commonServerOptions.maxSessionMemory =\n                        this.options['grpc-node.max_session_memory'];\n                }\n                else {\n                    /* By default, set a very large max session memory limit, to effectively\n                     * disable enforcement of the limit. Some testing indicates that Node's\n                     * behavior degrades badly when this limit is reached, so we solve that\n                     * by disabling the check entirely. */\n                    this.commonServerOptions.maxSessionMemory = Number.MAX_SAFE_INTEGER;\n                }\n                if ('grpc.max_concurrent_streams' in this.options) {\n                    this.commonServerOptions.settings = {\n                        maxConcurrentStreams: this.options['grpc.max_concurrent_streams'],\n                    };\n                }\n                this.interceptors = (_g = this.options.interceptors) !== null && _g !== void 0 ? _g : [];\n                this.trace('Server constructed');\n            }\n            getChannelzInfo() {\n                return {\n                    trace: this.channelzTrace,\n                    callTracker: this.callTracker,\n                    listenerChildren: this.listenerChildrenTracker.getChildLists(),\n                    sessionChildren: this.sessionChildrenTracker.getChildLists(),\n                };\n            }\n            getChannelzSessionInfo(session) {\n                var _b, _c, _d;\n                const sessionInfo = this.sessions.get(session);\n                const sessionSocket = session.socket;\n                const remoteAddress = sessionSocket.remoteAddress\n                    ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort)\n                    : null;\n                const localAddress = sessionSocket.localAddress\n                    ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort)\n                    : null;\n                let tlsInfo;\n                if (session.encrypted) {\n                    const tlsSocket = sessionSocket;\n                    const cipherInfo = tlsSocket.getCipher();\n                    const certificate = tlsSocket.getCertificate();\n                    const peerCertificate = tlsSocket.getPeerCertificate();\n                    tlsInfo = {\n                        cipherSuiteStandardName: (_b = cipherInfo.standardName) !== null && _b !== void 0 ? _b : null,\n                        cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n                        localCertificate: certificate && 'raw' in certificate ? certificate.raw : null,\n                        remoteCertificate: peerCertificate && 'raw' in peerCertificate\n                            ? peerCertificate.raw\n                            : null,\n                    };\n                }\n                else {\n                    tlsInfo = null;\n                }\n                const socketInfo = {\n                    remoteAddress: remoteAddress,\n                    localAddress: localAddress,\n                    security: tlsInfo,\n                    remoteName: null,\n                    streamsStarted: sessionInfo.streamTracker.callsStarted,\n                    streamsSucceeded: sessionInfo.streamTracker.callsSucceeded,\n                    streamsFailed: sessionInfo.streamTracker.callsFailed,\n                    messagesSent: sessionInfo.messagesSent,\n                    messagesReceived: sessionInfo.messagesReceived,\n                    keepAlivesSent: sessionInfo.keepAlivesSent,\n                    lastLocalStreamCreatedTimestamp: null,\n                    lastRemoteStreamCreatedTimestamp: sessionInfo.streamTracker.lastCallStartedTimestamp,\n                    lastMessageSentTimestamp: sessionInfo.lastMessageSentTimestamp,\n                    lastMessageReceivedTimestamp: sessionInfo.lastMessageReceivedTimestamp,\n                    localFlowControlWindow: (_c = session.state.localWindowSize) !== null && _c !== void 0 ? _c : null,\n                    remoteFlowControlWindow: (_d = session.state.remoteWindowSize) !== null && _d !== void 0 ? _d : null,\n                };\n                return socketInfo;\n            }\n            trace(text) {\n                logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' + this.channelzRef.id + ') ' + text);\n            }\n            keepaliveTrace(text) {\n                logging.trace(constants_1.LogVerbosity.DEBUG, 'keepalive', '(' + this.channelzRef.id + ') ' + text);\n            }\n            addProtoService() {\n                throw new Error('Not implemented. Use addService() instead');\n            }\n            addService(service, implementation) {\n                if (service === null ||\n                    typeof service !== 'object' ||\n                    implementation === null ||\n                    typeof implementation !== 'object') {\n                    throw new Error('addService() requires two objects as arguments');\n                }\n                const serviceKeys = Object.keys(service);\n                if (serviceKeys.length === 0) {\n                    throw new Error('Cannot add an empty service to a server');\n                }\n                serviceKeys.forEach(name => {\n                    const attrs = service[name];\n                    let methodType;\n                    if (attrs.requestStream) {\n                        if (attrs.responseStream) {\n                            methodType = 'bidi';\n                        }\n                        else {\n                            methodType = 'clientStream';\n                        }\n                    }\n                    else {\n                        if (attrs.responseStream) {\n                            methodType = 'serverStream';\n                        }\n                        else {\n                            methodType = 'unary';\n                        }\n                    }\n                    let implFn = implementation[name];\n                    let impl;\n                    if (implFn === undefined && typeof attrs.originalName === 'string') {\n                        implFn = implementation[attrs.originalName];\n                    }\n                    if (implFn !== undefined) {\n                        impl = implFn.bind(implementation);\n                    }\n                    else {\n                        impl = getDefaultHandler(methodType, name);\n                    }\n                    const success = this.register(attrs.path, impl, attrs.responseSerialize, attrs.requestDeserialize, methodType);\n                    if (success === false) {\n                        throw new Error(`Method handler for ${attrs.path} already provided.`);\n                    }\n                });\n            }\n            removeService(service) {\n                if (service === null || typeof service !== 'object') {\n                    throw new Error('removeService() requires object as argument');\n                }\n                const serviceKeys = Object.keys(service);\n                serviceKeys.forEach(name => {\n                    const attrs = service[name];\n                    this.unregister(attrs.path);\n                });\n            }\n            bind(port, creds) {\n                throw new Error('Not implemented. Use bindAsync() instead');\n            }\n            /**\n             * This API is experimental, so API stability is not guaranteed across minor versions.\n             * @param boundAddress\n             * @returns\n             */\n            experimentalRegisterListenerToChannelz(boundAddress) {\n                return (0, channelz_1.registerChannelzSocket)((0, subchannel_address_1.subchannelAddressToString)(boundAddress), () => {\n                    return {\n                        localAddress: boundAddress,\n                        remoteAddress: null,\n                        security: null,\n                        remoteName: null,\n                        streamsStarted: 0,\n                        streamsSucceeded: 0,\n                        streamsFailed: 0,\n                        messagesSent: 0,\n                        messagesReceived: 0,\n                        keepAlivesSent: 0,\n                        lastLocalStreamCreatedTimestamp: null,\n                        lastRemoteStreamCreatedTimestamp: null,\n                        lastMessageSentTimestamp: null,\n                        lastMessageReceivedTimestamp: null,\n                        localFlowControlWindow: null,\n                        remoteFlowControlWindow: null,\n                    };\n                }, this.channelzEnabled);\n            }\n            experimentalUnregisterListenerFromChannelz(channelzRef) {\n                (0, channelz_1.unregisterChannelzRef)(channelzRef);\n            }\n            createHttp2Server(credentials) {\n                let http2Server;\n                if (credentials._isSecure()) {\n                    const constructorOptions = credentials._getConstructorOptions();\n                    const contextOptions = credentials._getSecureContextOptions();\n                    const secureServerOptions = Object.assign(Object.assign(Object.assign(Object.assign({}, this.commonServerOptions), constructorOptions), contextOptions), { enableTrace: this.options['grpc-node.tls_enable_trace'] === 1 });\n                    let areCredentialsValid = contextOptions !== null;\n                    this.trace('Initial credentials valid: ' + areCredentialsValid);\n                    http2Server = http2.createSecureServer(secureServerOptions);\n                    http2Server.prependListener('connection', (socket) => {\n                        if (!areCredentialsValid) {\n                            this.trace('Dropped connection from ' + JSON.stringify(socket.address()) + ' due to unloaded credentials');\n                            socket.destroy();\n                        }\n                    });\n                    http2Server.on('secureConnection', (socket) => {\n                        /* These errors need to be handled by the user of Http2SecureServer,\n                         * according to https://github.com/nodejs/node/issues/35824 */\n                        socket.on('error', (e) => {\n                            this.trace('An incoming TLS connection closed with error: ' + e.message);\n                        });\n                    });\n                    const credsWatcher = options => {\n                        if (options) {\n                            const secureServer = http2Server;\n                            try {\n                                secureServer.setSecureContext(options);\n                            }\n                            catch (e) {\n                                logging.log(constants_1.LogVerbosity.ERROR, 'Failed to set secure context with error ' + e.message);\n                                options = null;\n                            }\n                        }\n                        areCredentialsValid = options !== null;\n                        this.trace('Post-update credentials valid: ' + areCredentialsValid);\n                    };\n                    credentials._addWatcher(credsWatcher);\n                    http2Server.on('close', () => {\n                        credentials._removeWatcher(credsWatcher);\n                    });\n                }\n                else {\n                    http2Server = http2.createServer(this.commonServerOptions);\n                }\n                http2Server.setTimeout(0, noop);\n                this._setupHandlers(http2Server, credentials._getInterceptors());\n                return http2Server;\n            }\n            bindOneAddress(address, boundPortObject) {\n                this.trace('Attempting to bind ' + (0, subchannel_address_1.subchannelAddressToString)(address));\n                const http2Server = this.createHttp2Server(boundPortObject.credentials);\n                return new Promise((resolve, reject) => {\n                    const onError = (err) => {\n                        this.trace('Failed to bind ' +\n                            (0, subchannel_address_1.subchannelAddressToString)(address) +\n                            ' with error ' +\n                            err.message);\n                        resolve({\n                            port: 'port' in address ? address.port : 1,\n                            error: err.message,\n                        });\n                    };\n                    http2Server.once('error', onError);\n                    http2Server.listen(address, () => {\n                        const boundAddress = http2Server.address();\n                        let boundSubchannelAddress;\n                        if (typeof boundAddress === 'string') {\n                            boundSubchannelAddress = {\n                                path: boundAddress,\n                            };\n                        }\n                        else {\n                            boundSubchannelAddress = {\n                                host: boundAddress.address,\n                                port: boundAddress.port,\n                            };\n                        }\n                        const channelzRef = this.experimentalRegisterListenerToChannelz(boundSubchannelAddress);\n                        this.listenerChildrenTracker.refChild(channelzRef);\n                        this.http2Servers.set(http2Server, {\n                            channelzRef: channelzRef,\n                            sessions: new Set(),\n                            ownsChannelzRef: true\n                        });\n                        boundPortObject.listeningServers.add(http2Server);\n                        this.trace('Successfully bound ' +\n                            (0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress));\n                        resolve({\n                            port: 'port' in boundSubchannelAddress ? boundSubchannelAddress.port : 1,\n                        });\n                        http2Server.removeListener('error', onError);\n                    });\n                });\n            }\n            async bindManyPorts(addressList, boundPortObject) {\n                if (addressList.length === 0) {\n                    return {\n                        count: 0,\n                        port: 0,\n                        errors: [],\n                    };\n                }\n                if ((0, subchannel_address_1.isTcpSubchannelAddress)(addressList[0]) && addressList[0].port === 0) {\n                    /* If binding to port 0, first try to bind the first address, then bind\n                     * the rest of the address list to the specific port that it binds. */\n                    const firstAddressResult = await this.bindOneAddress(addressList[0], boundPortObject);\n                    if (firstAddressResult.error) {\n                        /* If the first address fails to bind, try the same operation starting\n                         * from the second item in the list. */\n                        const restAddressResult = await this.bindManyPorts(addressList.slice(1), boundPortObject);\n                        return Object.assign(Object.assign({}, restAddressResult), { errors: [firstAddressResult.error, ...restAddressResult.errors] });\n                    }\n                    else {\n                        const restAddresses = addressList\n                            .slice(1)\n                            .map(address => (0, subchannel_address_1.isTcpSubchannelAddress)(address)\n                            ? { host: address.host, port: firstAddressResult.port }\n                            : address);\n                        const restAddressResult = await Promise.all(restAddresses.map(address => this.bindOneAddress(address, boundPortObject)));\n                        const allResults = [firstAddressResult, ...restAddressResult];\n                        return {\n                            count: allResults.filter(result => result.error === undefined).length,\n                            port: firstAddressResult.port,\n                            errors: allResults\n                                .filter(result => result.error)\n                                .map(result => result.error),\n                        };\n                    }\n                }\n                else {\n                    const allResults = await Promise.all(addressList.map(address => this.bindOneAddress(address, boundPortObject)));\n                    return {\n                        count: allResults.filter(result => result.error === undefined).length,\n                        port: allResults[0].port,\n                        errors: allResults\n                            .filter(result => result.error)\n                            .map(result => result.error),\n                    };\n                }\n            }\n            async bindAddressList(addressList, boundPortObject) {\n                const bindResult = await this.bindManyPorts(addressList, boundPortObject);\n                if (bindResult.count > 0) {\n                    if (bindResult.count < addressList.length) {\n                        logging.log(constants_1.LogVerbosity.INFO, `WARNING Only ${bindResult.count} addresses added out of total ${addressList.length} resolved`);\n                    }\n                    return bindResult.port;\n                }\n                else {\n                    const errorString = `No address added out of total ${addressList.length} resolved`;\n                    logging.log(constants_1.LogVerbosity.ERROR, errorString);\n                    throw new Error(`${errorString} errors: [${bindResult.errors.join(',')}]`);\n                }\n            }\n            resolvePort(port) {\n                return new Promise((resolve, reject) => {\n                    const resolverListener = {\n                        onSuccessfulResolution: (endpointList, serviceConfig, serviceConfigError) => {\n                            // We only want one resolution result. Discard all future results\n                            resolverListener.onSuccessfulResolution = () => { };\n                            const addressList = [].concat(...endpointList.map(endpoint => endpoint.addresses));\n                            if (addressList.length === 0) {\n                                reject(new Error(`No addresses resolved for port ${port}`));\n                                return;\n                            }\n                            resolve(addressList);\n                        },\n                        onError: error => {\n                            reject(new Error(error.details));\n                        },\n                    };\n                    const resolver = (0, resolver_1.createResolver)(port, resolverListener, this.options);\n                    resolver.updateResolution();\n                });\n            }\n            async bindPort(port, boundPortObject) {\n                const addressList = await this.resolvePort(port);\n                if (boundPortObject.cancelled) {\n                    this.completeUnbind(boundPortObject);\n                    throw new Error('bindAsync operation cancelled by unbind call');\n                }\n                const portNumber = await this.bindAddressList(addressList, boundPortObject);\n                if (boundPortObject.cancelled) {\n                    this.completeUnbind(boundPortObject);\n                    throw new Error('bindAsync operation cancelled by unbind call');\n                }\n                return portNumber;\n            }\n            normalizePort(port) {\n                const initialPortUri = (0, uri_parser_1.parseUri)(port);\n                if (initialPortUri === null) {\n                    throw new Error(`Could not parse port \"${port}\"`);\n                }\n                const portUri = (0, resolver_1.mapUriDefaultScheme)(initialPortUri);\n                if (portUri === null) {\n                    throw new Error(`Could not get a default scheme for port \"${port}\"`);\n                }\n                return portUri;\n            }\n            bindAsync(port, creds, callback) {\n                if (this.shutdown) {\n                    throw new Error('bindAsync called after shutdown');\n                }\n                if (typeof port !== 'string') {\n                    throw new TypeError('port must be a string');\n                }\n                if (creds === null || !(creds instanceof server_credentials_1.ServerCredentials)) {\n                    throw new TypeError('creds must be a ServerCredentials object');\n                }\n                if (typeof callback !== 'function') {\n                    throw new TypeError('callback must be a function');\n                }\n                this.trace('bindAsync port=' + port);\n                const portUri = this.normalizePort(port);\n                const deferredCallback = (error, port) => {\n                    process.nextTick(() => callback(error, port));\n                };\n                /* First, if this port is already bound or that bind operation is in\n                 * progress, use that result. */\n                let boundPortObject = this.boundPorts.get((0, uri_parser_1.uriToString)(portUri));\n                if (boundPortObject) {\n                    if (!creds._equals(boundPortObject.credentials)) {\n                        deferredCallback(new Error(`${port} already bound with incompatible credentials`), 0);\n                        return;\n                    }\n                    /* If that operation has previously been cancelled by an unbind call,\n                     * uncancel it. */\n                    boundPortObject.cancelled = false;\n                    if (boundPortObject.completionPromise) {\n                        boundPortObject.completionPromise.then(portNum => callback(null, portNum), error => callback(error, 0));\n                    }\n                    else {\n                        deferredCallback(null, boundPortObject.portNumber);\n                    }\n                    return;\n                }\n                boundPortObject = {\n                    mapKey: (0, uri_parser_1.uriToString)(portUri),\n                    originalUri: portUri,\n                    completionPromise: null,\n                    cancelled: false,\n                    portNumber: 0,\n                    credentials: creds,\n                    listeningServers: new Set(),\n                };\n                const splitPort = (0, uri_parser_1.splitHostPort)(portUri.path);\n                const completionPromise = this.bindPort(portUri, boundPortObject);\n                boundPortObject.completionPromise = completionPromise;\n                /* If the port number is 0, defer populating the map entry until after the\n                 * bind operation completes and we have a specific port number. Otherwise,\n                 * populate it immediately. */\n                if ((splitPort === null || splitPort === void 0 ? void 0 : splitPort.port) === 0) {\n                    completionPromise.then(portNum => {\n                        const finalUri = {\n                            scheme: portUri.scheme,\n                            authority: portUri.authority,\n                            path: (0, uri_parser_1.combineHostPort)({ host: splitPort.host, port: portNum }),\n                        };\n                        boundPortObject.mapKey = (0, uri_parser_1.uriToString)(finalUri);\n                        boundPortObject.completionPromise = null;\n                        boundPortObject.portNumber = portNum;\n                        this.boundPorts.set(boundPortObject.mapKey, boundPortObject);\n                        callback(null, portNum);\n                    }, error => {\n                        callback(error, 0);\n                    });\n                }\n                else {\n                    this.boundPorts.set(boundPortObject.mapKey, boundPortObject);\n                    completionPromise.then(portNum => {\n                        boundPortObject.completionPromise = null;\n                        boundPortObject.portNumber = portNum;\n                        callback(null, portNum);\n                    }, error => {\n                        callback(error, 0);\n                    });\n                }\n            }\n            registerInjectorToChannelz() {\n                return (0, channelz_1.registerChannelzSocket)('injector', () => {\n                    return {\n                        localAddress: null,\n                        remoteAddress: null,\n                        security: null,\n                        remoteName: null,\n                        streamsStarted: 0,\n                        streamsSucceeded: 0,\n                        streamsFailed: 0,\n                        messagesSent: 0,\n                        messagesReceived: 0,\n                        keepAlivesSent: 0,\n                        lastLocalStreamCreatedTimestamp: null,\n                        lastRemoteStreamCreatedTimestamp: null,\n                        lastMessageSentTimestamp: null,\n                        lastMessageReceivedTimestamp: null,\n                        localFlowControlWindow: null,\n                        remoteFlowControlWindow: null,\n                    };\n                }, this.channelzEnabled);\n            }\n            /**\n             * This API is experimental, so API stability is not guaranteed across minor versions.\n             * @param credentials\n             * @param channelzRef\n             * @returns\n             */\n            experimentalCreateConnectionInjectorWithChannelzRef(credentials, channelzRef, ownsChannelzRef = false) {\n                if (credentials === null || !(credentials instanceof server_credentials_1.ServerCredentials)) {\n                    throw new TypeError('creds must be a ServerCredentials object');\n                }\n                if (this.channelzEnabled) {\n                    this.listenerChildrenTracker.refChild(channelzRef);\n                }\n                const server = this.createHttp2Server(credentials);\n                const sessionsSet = new Set();\n                this.http2Servers.set(server, {\n                    channelzRef: channelzRef,\n                    sessions: sessionsSet,\n                    ownsChannelzRef\n                });\n                return {\n                    injectConnection: (connection) => {\n                        server.emit('connection', connection);\n                    },\n                    drain: (graceTimeMs) => {\n                        var _b, _c;\n                        for (const session of sessionsSet) {\n                            this.closeSession(session);\n                        }\n                        (_c = (_b = setTimeout(() => {\n                            for (const session of sessionsSet) {\n                                session.destroy(http2.constants.NGHTTP2_CANCEL);\n                            }\n                        }, graceTimeMs)).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n                    },\n                    destroy: () => {\n                        this.closeServer(server);\n                        for (const session of sessionsSet) {\n                            this.closeSession(session);\n                        }\n                    }\n                };\n            }\n            createConnectionInjector(credentials) {\n                if (credentials === null || !(credentials instanceof server_credentials_1.ServerCredentials)) {\n                    throw new TypeError('creds must be a ServerCredentials object');\n                }\n                const channelzRef = this.registerInjectorToChannelz();\n                return this.experimentalCreateConnectionInjectorWithChannelzRef(credentials, channelzRef, true);\n            }\n            closeServer(server, callback) {\n                this.trace('Closing server with address ' + JSON.stringify(server.address()));\n                const serverInfo = this.http2Servers.get(server);\n                server.close(() => {\n                    if (serverInfo && serverInfo.ownsChannelzRef) {\n                        this.listenerChildrenTracker.unrefChild(serverInfo.channelzRef);\n                        (0, channelz_1.unregisterChannelzRef)(serverInfo.channelzRef);\n                    }\n                    this.http2Servers.delete(server);\n                    callback === null || callback === void 0 ? void 0 : callback();\n                });\n            }\n            closeSession(session, callback) {\n                var _b;\n                this.trace('Closing session initiated by ' + ((_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress));\n                const sessionInfo = this.sessions.get(session);\n                const closeCallback = () => {\n                    if (sessionInfo) {\n                        this.sessionChildrenTracker.unrefChild(sessionInfo.ref);\n                        (0, channelz_1.unregisterChannelzRef)(sessionInfo.ref);\n                    }\n                    callback === null || callback === void 0 ? void 0 : callback();\n                };\n                if (session.closed) {\n                    queueMicrotask(closeCallback);\n                }\n                else {\n                    session.close(closeCallback);\n                }\n            }\n            completeUnbind(boundPortObject) {\n                for (const server of boundPortObject.listeningServers) {\n                    const serverInfo = this.http2Servers.get(server);\n                    this.closeServer(server, () => {\n                        boundPortObject.listeningServers.delete(server);\n                    });\n                    if (serverInfo) {\n                        for (const session of serverInfo.sessions) {\n                            this.closeSession(session);\n                        }\n                    }\n                }\n                this.boundPorts.delete(boundPortObject.mapKey);\n            }\n            /**\n             * Unbind a previously bound port, or cancel an in-progress bindAsync\n             * operation. If port 0 was bound, only the actual bound port can be\n             * unbound. For example, if bindAsync was called with \"localhost:0\" and the\n             * bound port result was 54321, it can be unbound as \"localhost:54321\".\n             * @param port\n             */\n            unbind(port) {\n                this.trace('unbind port=' + port);\n                const portUri = this.normalizePort(port);\n                const splitPort = (0, uri_parser_1.splitHostPort)(portUri.path);\n                if ((splitPort === null || splitPort === void 0 ? void 0 : splitPort.port) === 0) {\n                    throw new Error('Cannot unbind port 0');\n                }\n                const boundPortObject = this.boundPorts.get((0, uri_parser_1.uriToString)(portUri));\n                if (boundPortObject) {\n                    this.trace('unbinding ' +\n                        boundPortObject.mapKey +\n                        ' originally bound as ' +\n                        (0, uri_parser_1.uriToString)(boundPortObject.originalUri));\n                    /* If the bind operation is pending, the cancelled flag will trigger\n                     * the unbind operation later. */\n                    if (boundPortObject.completionPromise) {\n                        boundPortObject.cancelled = true;\n                    }\n                    else {\n                        this.completeUnbind(boundPortObject);\n                    }\n                }\n            }\n            /**\n             * Gracefully close all connections associated with a previously bound port.\n             * After the grace time, forcefully close all remaining open connections.\n             *\n             * If port 0 was bound, only the actual bound port can be\n             * drained. For example, if bindAsync was called with \"localhost:0\" and the\n             * bound port result was 54321, it can be drained as \"localhost:54321\".\n             * @param port\n             * @param graceTimeMs\n             * @returns\n             */\n            drain(port, graceTimeMs) {\n                var _b, _c;\n                this.trace('drain port=' + port + ' graceTimeMs=' + graceTimeMs);\n                const portUri = this.normalizePort(port);\n                const splitPort = (0, uri_parser_1.splitHostPort)(portUri.path);\n                if ((splitPort === null || splitPort === void 0 ? void 0 : splitPort.port) === 0) {\n                    throw new Error('Cannot drain port 0');\n                }\n                const boundPortObject = this.boundPorts.get((0, uri_parser_1.uriToString)(portUri));\n                if (!boundPortObject) {\n                    return;\n                }\n                const allSessions = new Set();\n                for (const http2Server of boundPortObject.listeningServers) {\n                    const serverEntry = this.http2Servers.get(http2Server);\n                    if (serverEntry) {\n                        for (const session of serverEntry.sessions) {\n                            allSessions.add(session);\n                            this.closeSession(session, () => {\n                                allSessions.delete(session);\n                            });\n                        }\n                    }\n                }\n                /* After the grace time ends, send another goaway to all remaining sessions\n                 * with the CANCEL code. */\n                (_c = (_b = setTimeout(() => {\n                    for (const session of allSessions) {\n                        session.destroy(http2.constants.NGHTTP2_CANCEL);\n                    }\n                }, graceTimeMs)).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n            }\n            forceShutdown() {\n                for (const boundPortObject of this.boundPorts.values()) {\n                    boundPortObject.cancelled = true;\n                }\n                this.boundPorts.clear();\n                // Close the server if it is still running.\n                for (const server of this.http2Servers.keys()) {\n                    this.closeServer(server);\n                }\n                // Always destroy any available sessions. It's possible that one or more\n                // tryShutdown() calls are in progress. Don't wait on them to finish.\n                this.sessions.forEach((channelzInfo, session) => {\n                    this.closeSession(session);\n                    // Cast NGHTTP2_CANCEL to any because TypeScript doesn't seem to\n                    // recognize destroy(code) as a valid signature.\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    session.destroy(http2.constants.NGHTTP2_CANCEL);\n                });\n                this.sessions.clear();\n                (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n                this.shutdown = true;\n            }\n            register(name, handler, serialize, deserialize, type) {\n                if (this.handlers.has(name)) {\n                    return false;\n                }\n                this.handlers.set(name, {\n                    func: handler,\n                    serialize,\n                    deserialize,\n                    type,\n                    path: name,\n                });\n                return true;\n            }\n            unregister(name) {\n                return this.handlers.delete(name);\n            }\n            /**\n             * @deprecated No longer needed as of version 1.10.x\n             */\n            start() {\n                if (this.http2Servers.size === 0 ||\n                    [...this.http2Servers.keys()].every(server => !server.listening)) {\n                    throw new Error('server must be bound in order to start');\n                }\n                if (this.started === true) {\n                    throw new Error('server is already started');\n                }\n                this.started = true;\n            }\n            tryShutdown(callback) {\n                var _b;\n                const wrappedCallback = (error) => {\n                    (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n                    callback(error);\n                };\n                let pendingChecks = 0;\n                function maybeCallback() {\n                    pendingChecks--;\n                    if (pendingChecks === 0) {\n                        wrappedCallback();\n                    }\n                }\n                this.shutdown = true;\n                for (const [serverKey, server] of this.http2Servers.entries()) {\n                    pendingChecks++;\n                    const serverString = server.channelzRef.name;\n                    this.trace('Waiting for server ' + serverString + ' to close');\n                    this.closeServer(serverKey, () => {\n                        this.trace('Server ' + serverString + ' finished closing');\n                        maybeCallback();\n                    });\n                    for (const session of server.sessions.keys()) {\n                        pendingChecks++;\n                        const sessionString = (_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress;\n                        this.trace('Waiting for session ' + sessionString + ' to close');\n                        this.closeSession(session, () => {\n                            this.trace('Session ' + sessionString + ' finished closing');\n                            maybeCallback();\n                        });\n                    }\n                }\n                if (pendingChecks === 0) {\n                    wrappedCallback();\n                }\n            }\n            addHttp2Port() {\n                throw new Error('Not yet implemented');\n            }\n            /**\n             * Get the channelz reference object for this server. The returned value is\n             * garbage if channelz is disabled for this server.\n             * @returns\n             */\n            getChannelzRef() {\n                return this.channelzRef;\n            }\n            _verifyContentType(stream, headers) {\n                const contentType = headers[http2.constants.HTTP2_HEADER_CONTENT_TYPE];\n                if (typeof contentType !== 'string' ||\n                    !contentType.startsWith('application/grpc')) {\n                    stream.respond({\n                        [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE,\n                    }, { endStream: true });\n                    return false;\n                }\n                return true;\n            }\n            _retrieveHandler(path) {\n                serverCallTrace('Received call to method ' +\n                    path +\n                    ' at address ' +\n                    this.serverAddressString);\n                const handler = this.handlers.get(path);\n                if (handler === undefined) {\n                    serverCallTrace('No handler registered for method ' +\n                        path +\n                        '. Sending UNIMPLEMENTED status.');\n                    return null;\n                }\n                return handler;\n            }\n            _respondWithError(err, stream, channelzSessionInfo = null) {\n                var _b, _c;\n                const trailersToSend = Object.assign({ 'grpc-status': (_b = err.code) !== null && _b !== void 0 ? _b : constants_1.Status.INTERNAL, 'grpc-message': err.details, [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_OK, [http2.constants.HTTP2_HEADER_CONTENT_TYPE]: 'application/grpc+proto' }, (_c = err.metadata) === null || _c === void 0 ? void 0 : _c.toHttp2Headers());\n                stream.respond(trailersToSend, { endStream: true });\n                this.callTracker.addCallFailed();\n                channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n            }\n            _channelzHandler(extraInterceptors, stream, headers) {\n                // for handling idle timeout\n                this.onStreamOpened(stream);\n                const channelzSessionInfo = this.sessions.get(stream.session);\n                this.callTracker.addCallStarted();\n                channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallStarted();\n                if (!this._verifyContentType(stream, headers)) {\n                    this.callTracker.addCallFailed();\n                    channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n                    return;\n                }\n                const path = headers[HTTP2_HEADER_PATH];\n                const handler = this._retrieveHandler(path);\n                if (!handler) {\n                    this._respondWithError(getUnimplementedStatusResponse(path), stream, channelzSessionInfo);\n                    return;\n                }\n                const callEventTracker = {\n                    addMessageSent: () => {\n                        if (channelzSessionInfo) {\n                            channelzSessionInfo.messagesSent += 1;\n                            channelzSessionInfo.lastMessageSentTimestamp = new Date();\n                        }\n                    },\n                    addMessageReceived: () => {\n                        if (channelzSessionInfo) {\n                            channelzSessionInfo.messagesReceived += 1;\n                            channelzSessionInfo.lastMessageReceivedTimestamp = new Date();\n                        }\n                    },\n                    onCallEnd: status => {\n                        if (status.code === constants_1.Status.OK) {\n                            this.callTracker.addCallSucceeded();\n                        }\n                        else {\n                            this.callTracker.addCallFailed();\n                        }\n                    },\n                    onStreamEnd: success => {\n                        if (channelzSessionInfo) {\n                            if (success) {\n                                channelzSessionInfo.streamTracker.addCallSucceeded();\n                            }\n                            else {\n                                channelzSessionInfo.streamTracker.addCallFailed();\n                            }\n                        }\n                    },\n                };\n                const call = (0, server_interceptors_1.getServerInterceptingCall)([...extraInterceptors, ...this.interceptors], stream, headers, callEventTracker, handler, this.options);\n                if (!this._runHandlerForCall(call, handler)) {\n                    this.callTracker.addCallFailed();\n                    channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n                    call.sendStatus({\n                        code: constants_1.Status.INTERNAL,\n                        details: `Unknown handler type: ${handler.type}`,\n                    });\n                }\n            }\n            _streamHandler(extraInterceptors, stream, headers) {\n                // for handling idle timeout\n                this.onStreamOpened(stream);\n                if (this._verifyContentType(stream, headers) !== true) {\n                    return;\n                }\n                const path = headers[HTTP2_HEADER_PATH];\n                const handler = this._retrieveHandler(path);\n                if (!handler) {\n                    this._respondWithError(getUnimplementedStatusResponse(path), stream, null);\n                    return;\n                }\n                const call = (0, server_interceptors_1.getServerInterceptingCall)([...extraInterceptors, ...this.interceptors], stream, headers, null, handler, this.options);\n                if (!this._runHandlerForCall(call, handler)) {\n                    call.sendStatus({\n                        code: constants_1.Status.INTERNAL,\n                        details: `Unknown handler type: ${handler.type}`,\n                    });\n                }\n            }\n            _runHandlerForCall(call, handler) {\n                const { type } = handler;\n                if (type === 'unary') {\n                    handleUnary(call, handler);\n                }\n                else if (type === 'clientStream') {\n                    handleClientStreaming(call, handler);\n                }\n                else if (type === 'serverStream') {\n                    handleServerStreaming(call, handler);\n                }\n                else if (type === 'bidi') {\n                    handleBidiStreaming(call, handler);\n                }\n                else {\n                    return false;\n                }\n                return true;\n            }\n            _setupHandlers(http2Server, extraInterceptors) {\n                if (http2Server === null) {\n                    return;\n                }\n                const serverAddress = http2Server.address();\n                let serverAddressString = 'null';\n                if (serverAddress) {\n                    if (typeof serverAddress === 'string') {\n                        serverAddressString = serverAddress;\n                    }\n                    else {\n                        serverAddressString = serverAddress.address + ':' + serverAddress.port;\n                    }\n                }\n                this.serverAddressString = serverAddressString;\n                const handler = this.channelzEnabled\n                    ? this._channelzHandler\n                    : this._streamHandler;\n                const sessionHandler = this.channelzEnabled\n                    ? this._channelzSessionHandler(http2Server)\n                    : this._sessionHandler(http2Server);\n                http2Server.on('stream', handler.bind(this, extraInterceptors));\n                http2Server.on('session', sessionHandler);\n            }\n            _sessionHandler(http2Server) {\n                return (session) => {\n                    var _b, _c;\n                    (_b = this.http2Servers.get(http2Server)) === null || _b === void 0 ? void 0 : _b.sessions.add(session);\n                    let connectionAgeTimer = null;\n                    let connectionAgeGraceTimer = null;\n                    let keepaliveTimer = null;\n                    let sessionClosedByServer = false;\n                    const idleTimeoutObj = this.enableIdleTimeout(session);\n                    if (this.maxConnectionAgeMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                        // Apply a random jitter within a +/-10% range\n                        const jitterMagnitude = this.maxConnectionAgeMs / 10;\n                        const jitter = Math.random() * jitterMagnitude * 2 - jitterMagnitude;\n                        connectionAgeTimer = setTimeout(() => {\n                            var _b, _c;\n                            sessionClosedByServer = true;\n                            this.trace('Connection dropped by max connection age: ' +\n                                ((_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress));\n                            try {\n                                session.goaway(http2.constants.NGHTTP2_NO_ERROR, ~(1 << 31), kMaxAge);\n                            }\n                            catch (e) {\n                                // The goaway can't be sent because the session is already closed\n                                session.destroy();\n                                return;\n                            }\n                            session.close();\n                            /* Allow a grace period after sending the GOAWAY before forcibly\n                             * closing the connection. */\n                            if (this.maxConnectionAgeGraceMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                                connectionAgeGraceTimer = setTimeout(() => {\n                                    session.destroy();\n                                }, this.maxConnectionAgeGraceMs);\n                                (_c = connectionAgeGraceTimer.unref) === null || _c === void 0 ? void 0 : _c.call(connectionAgeGraceTimer);\n                            }\n                        }, this.maxConnectionAgeMs + jitter);\n                        (_c = connectionAgeTimer.unref) === null || _c === void 0 ? void 0 : _c.call(connectionAgeTimer);\n                    }\n                    const clearKeepaliveTimeout = () => {\n                        if (keepaliveTimer) {\n                            clearTimeout(keepaliveTimer);\n                            keepaliveTimer = null;\n                        }\n                    };\n                    const canSendPing = () => {\n                        return (!session.destroyed &&\n                            this.keepaliveTimeMs < KEEPALIVE_MAX_TIME_MS &&\n                            this.keepaliveTimeMs > 0);\n                    };\n                    /* eslint-disable-next-line prefer-const */\n                    let sendPing; // hoisted for use in maybeStartKeepalivePingTimer\n                    const maybeStartKeepalivePingTimer = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Starting keepalive timer for ' + this.keepaliveTimeMs + 'ms');\n                        keepaliveTimer = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            sendPing();\n                        }, this.keepaliveTimeMs);\n                        (_b = keepaliveTimer.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimer);\n                    };\n                    sendPing = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n                        let pingSendError = '';\n                        try {\n                            const pingSentSuccessfully = session.ping((err, duration, payload) => {\n                                clearKeepaliveTimeout();\n                                if (err) {\n                                    this.keepaliveTrace('Ping failed with error: ' + err.message);\n                                    sessionClosedByServer = true;\n                                    session.close();\n                                }\n                                else {\n                                    this.keepaliveTrace('Received ping response');\n                                    maybeStartKeepalivePingTimer();\n                                }\n                            });\n                            if (!pingSentSuccessfully) {\n                                pingSendError = 'Ping returned false';\n                            }\n                        }\n                        catch (e) {\n                            // grpc/grpc-node#2139\n                            pingSendError =\n                                (e instanceof Error ? e.message : '') || 'Unknown error';\n                        }\n                        if (pingSendError) {\n                            this.keepaliveTrace('Ping send failed: ' + pingSendError);\n                            this.trace('Connection dropped due to ping send error: ' + pingSendError);\n                            sessionClosedByServer = true;\n                            session.close();\n                            return;\n                        }\n                        keepaliveTimer = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            this.keepaliveTrace('Ping timeout passed without response');\n                            this.trace('Connection dropped by keepalive timeout');\n                            sessionClosedByServer = true;\n                            session.close();\n                        }, this.keepaliveTimeoutMs);\n                        (_b = keepaliveTimer.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimer);\n                    };\n                    maybeStartKeepalivePingTimer();\n                    session.on('close', () => {\n                        var _b, _c;\n                        if (!sessionClosedByServer) {\n                            this.trace(`Connection dropped by client ${(_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress}`);\n                        }\n                        if (connectionAgeTimer) {\n                            clearTimeout(connectionAgeTimer);\n                        }\n                        if (connectionAgeGraceTimer) {\n                            clearTimeout(connectionAgeGraceTimer);\n                        }\n                        clearKeepaliveTimeout();\n                        if (idleTimeoutObj !== null) {\n                            clearTimeout(idleTimeoutObj.timeout);\n                            this.sessionIdleTimeouts.delete(session);\n                        }\n                        (_c = this.http2Servers.get(http2Server)) === null || _c === void 0 ? void 0 : _c.sessions.delete(session);\n                    });\n                };\n            }\n            _channelzSessionHandler(http2Server) {\n                return (session) => {\n                    var _b, _c, _d, _e;\n                    const channelzRef = (0, channelz_1.registerChannelzSocket)((_c = (_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress) !== null && _c !== void 0 ? _c : 'unknown', this.getChannelzSessionInfo.bind(this, session), this.channelzEnabled);\n                    const channelzSessionInfo = {\n                        ref: channelzRef,\n                        streamTracker: new channelz_1.ChannelzCallTracker(),\n                        messagesSent: 0,\n                        messagesReceived: 0,\n                        keepAlivesSent: 0,\n                        lastMessageSentTimestamp: null,\n                        lastMessageReceivedTimestamp: null,\n                    };\n                    (_d = this.http2Servers.get(http2Server)) === null || _d === void 0 ? void 0 : _d.sessions.add(session);\n                    this.sessions.set(session, channelzSessionInfo);\n                    const clientAddress = `${session.socket.remoteAddress}:${session.socket.remotePort}`;\n                    this.channelzTrace.addTrace('CT_INFO', 'Connection established by client ' + clientAddress);\n                    this.trace('Connection established by client ' + clientAddress);\n                    this.sessionChildrenTracker.refChild(channelzRef);\n                    let connectionAgeTimer = null;\n                    let connectionAgeGraceTimer = null;\n                    let keepaliveTimeout = null;\n                    let sessionClosedByServer = false;\n                    const idleTimeoutObj = this.enableIdleTimeout(session);\n                    if (this.maxConnectionAgeMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                        // Apply a random jitter within a +/-10% range\n                        const jitterMagnitude = this.maxConnectionAgeMs / 10;\n                        const jitter = Math.random() * jitterMagnitude * 2 - jitterMagnitude;\n                        connectionAgeTimer = setTimeout(() => {\n                            var _b;\n                            sessionClosedByServer = true;\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by max connection age from ' + clientAddress);\n                            try {\n                                session.goaway(http2.constants.NGHTTP2_NO_ERROR, ~(1 << 31), kMaxAge);\n                            }\n                            catch (e) {\n                                // The goaway can't be sent because the session is already closed\n                                session.destroy();\n                                return;\n                            }\n                            session.close();\n                            /* Allow a grace period after sending the GOAWAY before forcibly\n                             * closing the connection. */\n                            if (this.maxConnectionAgeGraceMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                                connectionAgeGraceTimer = setTimeout(() => {\n                                    session.destroy();\n                                }, this.maxConnectionAgeGraceMs);\n                                (_b = connectionAgeGraceTimer.unref) === null || _b === void 0 ? void 0 : _b.call(connectionAgeGraceTimer);\n                            }\n                        }, this.maxConnectionAgeMs + jitter);\n                        (_e = connectionAgeTimer.unref) === null || _e === void 0 ? void 0 : _e.call(connectionAgeTimer);\n                    }\n                    const clearKeepaliveTimeout = () => {\n                        if (keepaliveTimeout) {\n                            clearTimeout(keepaliveTimeout);\n                            keepaliveTimeout = null;\n                        }\n                    };\n                    const canSendPing = () => {\n                        return (!session.destroyed &&\n                            this.keepaliveTimeMs < KEEPALIVE_MAX_TIME_MS &&\n                            this.keepaliveTimeMs > 0);\n                    };\n                    /* eslint-disable-next-line prefer-const */\n                    let sendPing; // hoisted for use in maybeStartKeepalivePingTimer\n                    const maybeStartKeepalivePingTimer = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Starting keepalive timer for ' + this.keepaliveTimeMs + 'ms');\n                        keepaliveTimeout = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            sendPing();\n                        }, this.keepaliveTimeMs);\n                        (_b = keepaliveTimeout.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimeout);\n                    };\n                    sendPing = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n                        let pingSendError = '';\n                        try {\n                            const pingSentSuccessfully = session.ping((err, duration, payload) => {\n                                clearKeepaliveTimeout();\n                                if (err) {\n                                    this.keepaliveTrace('Ping failed with error: ' + err.message);\n                                    this.channelzTrace.addTrace('CT_INFO', 'Connection dropped due to error of a ping frame ' +\n                                        err.message +\n                                        ' return in ' +\n                                        duration);\n                                    sessionClosedByServer = true;\n                                    session.close();\n                                }\n                                else {\n                                    this.keepaliveTrace('Received ping response');\n                                    maybeStartKeepalivePingTimer();\n                                }\n                            });\n                            if (!pingSentSuccessfully) {\n                                pingSendError = 'Ping returned false';\n                            }\n                        }\n                        catch (e) {\n                            // grpc/grpc-node#2139\n                            pingSendError =\n                                (e instanceof Error ? e.message : '') || 'Unknown error';\n                        }\n                        if (pingSendError) {\n                            this.keepaliveTrace('Ping send failed: ' + pingSendError);\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped due to ping send error: ' + pingSendError);\n                            sessionClosedByServer = true;\n                            session.close();\n                            return;\n                        }\n                        channelzSessionInfo.keepAlivesSent += 1;\n                        keepaliveTimeout = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            this.keepaliveTrace('Ping timeout passed without response');\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by keepalive timeout from ' + clientAddress);\n                            sessionClosedByServer = true;\n                            session.close();\n                        }, this.keepaliveTimeoutMs);\n                        (_b = keepaliveTimeout.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimeout);\n                    };\n                    maybeStartKeepalivePingTimer();\n                    session.on('close', () => {\n                        var _b;\n                        if (!sessionClosedByServer) {\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by client ' + clientAddress);\n                        }\n                        this.sessionChildrenTracker.unrefChild(channelzRef);\n                        (0, channelz_1.unregisterChannelzRef)(channelzRef);\n                        if (connectionAgeTimer) {\n                            clearTimeout(connectionAgeTimer);\n                        }\n                        if (connectionAgeGraceTimer) {\n                            clearTimeout(connectionAgeGraceTimer);\n                        }\n                        clearKeepaliveTimeout();\n                        if (idleTimeoutObj !== null) {\n                            clearTimeout(idleTimeoutObj.timeout);\n                            this.sessionIdleTimeouts.delete(session);\n                        }\n                        (_b = this.http2Servers.get(http2Server)) === null || _b === void 0 ? void 0 : _b.sessions.delete(session);\n                        this.sessions.delete(session);\n                    });\n                };\n            }\n            enableIdleTimeout(session) {\n                var _b, _c;\n                if (this.sessionIdleTimeout >= MAX_CONNECTION_IDLE_MS) {\n                    return null;\n                }\n                const idleTimeoutObj = {\n                    activeStreams: 0,\n                    lastIdle: Date.now(),\n                    onClose: this.onStreamClose.bind(this, session),\n                    timeout: setTimeout(this.onIdleTimeout, this.sessionIdleTimeout, this, session),\n                };\n                (_c = (_b = idleTimeoutObj.timeout).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n                this.sessionIdleTimeouts.set(session, idleTimeoutObj);\n                const { socket } = session;\n                this.trace('Enable idle timeout for ' +\n                    socket.remoteAddress +\n                    ':' +\n                    socket.remotePort);\n                return idleTimeoutObj;\n            }\n            onIdleTimeout(ctx, session) {\n                const { socket } = session;\n                const sessionInfo = ctx.sessionIdleTimeouts.get(session);\n                // if it is called while we have activeStreams - timer will not be rescheduled\n                // until last active stream is closed, then it will call .refresh() on the timer\n                // important part is to not clearTimeout(timer) or it becomes unusable\n                // for future refreshes\n                if (sessionInfo !== undefined &&\n                    sessionInfo.activeStreams === 0) {\n                    if (Date.now() - sessionInfo.lastIdle >= ctx.sessionIdleTimeout) {\n                        ctx.trace('Session idle timeout triggered for ' +\n                            (socket === null || socket === void 0 ? void 0 : socket.remoteAddress) +\n                            ':' +\n                            (socket === null || socket === void 0 ? void 0 : socket.remotePort) +\n                            ' last idle at ' +\n                            sessionInfo.lastIdle);\n                        ctx.closeSession(session);\n                    }\n                    else {\n                        sessionInfo.timeout.refresh();\n                    }\n                }\n            }\n            onStreamOpened(stream) {\n                const session = stream.session;\n                const idleTimeoutObj = this.sessionIdleTimeouts.get(session);\n                if (idleTimeoutObj) {\n                    idleTimeoutObj.activeStreams += 1;\n                    stream.once('close', idleTimeoutObj.onClose);\n                }\n            }\n            onStreamClose(session) {\n                var _b, _c;\n                const idleTimeoutObj = this.sessionIdleTimeouts.get(session);\n                if (idleTimeoutObj) {\n                    idleTimeoutObj.activeStreams -= 1;\n                    if (idleTimeoutObj.activeStreams === 0) {\n                        idleTimeoutObj.lastIdle = Date.now();\n                        idleTimeoutObj.timeout.refresh();\n                        this.trace('Session onStreamClose' +\n                            ((_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress) +\n                            ':' +\n                            ((_c = session.socket) === null || _c === void 0 ? void 0 : _c.remotePort) +\n                            ' at ' +\n                            idleTimeoutObj.lastIdle);\n                    }\n                }\n            }\n        },\n        (() => {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n            _start_decorators = [deprecate('Calling start() is no longer necessary. It can be safely omitted.')];\n            __esDecorate(_a, null, _start_decorators, { kind: \"method\", name: \"start\", static: false, private: false, access: { has: obj => \"start\" in obj, get: obj => obj.start }, metadata: _metadata }, null, _instanceExtraInitializers);\n            if (_metadata) Object.defineProperty(_a, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n        })(),\n        _a;\n})();\nexports.Server = Server;\nasync function handleUnary(call, handler) {\n    let stream;\n    function respond(err, value, trailer, flags) {\n        if (err) {\n            call.sendStatus((0, server_call_1.serverErrorToStatus)(err, trailer));\n            return;\n        }\n        call.sendMessage(value, () => {\n            call.sendStatus({\n                code: constants_1.Status.OK,\n                details: 'OK',\n                metadata: trailer !== null && trailer !== void 0 ? trailer : null,\n            });\n        });\n    }\n    let requestMetadata;\n    let requestMessage = null;\n    call.start({\n        onReceiveMetadata(metadata) {\n            requestMetadata = metadata;\n            call.startRead();\n        },\n        onReceiveMessage(message) {\n            if (requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received a second request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            requestMessage = message;\n            call.startRead();\n        },\n        onReceiveHalfClose() {\n            if (!requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received no request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            stream = new server_call_1.ServerWritableStreamImpl(handler.path, call, requestMetadata, requestMessage);\n            try {\n                handler.func(stream, respond);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n            }\n        },\n    });\n}\nfunction handleClientStreaming(call, handler) {\n    let stream;\n    function respond(err, value, trailer, flags) {\n        if (err) {\n            call.sendStatus((0, server_call_1.serverErrorToStatus)(err, trailer));\n            return;\n        }\n        call.sendMessage(value, () => {\n            call.sendStatus({\n                code: constants_1.Status.OK,\n                details: 'OK',\n                metadata: trailer !== null && trailer !== void 0 ? trailer : null,\n            });\n        });\n    }\n    call.start({\n        onReceiveMetadata(metadata) {\n            stream = new server_call_1.ServerDuplexStreamImpl(handler.path, call, metadata);\n            try {\n                handler.func(stream, respond);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onReceiveMessage(message) {\n            stream.push(message);\n        },\n        onReceiveHalfClose() {\n            stream.push(null);\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n                stream.destroy();\n            }\n        },\n    });\n}\nfunction handleServerStreaming(call, handler) {\n    let stream;\n    let requestMetadata;\n    let requestMessage = null;\n    call.start({\n        onReceiveMetadata(metadata) {\n            requestMetadata = metadata;\n            call.startRead();\n        },\n        onReceiveMessage(message) {\n            if (requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received a second request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            requestMessage = message;\n            call.startRead();\n        },\n        onReceiveHalfClose() {\n            if (!requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received no request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            stream = new server_call_1.ServerWritableStreamImpl(handler.path, call, requestMetadata, requestMessage);\n            try {\n                handler.func(stream);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n                stream.destroy();\n            }\n        },\n    });\n}\nfunction handleBidiStreaming(call, handler) {\n    let stream;\n    call.start({\n        onReceiveMetadata(metadata) {\n            stream = new server_call_1.ServerDuplexStreamImpl(handler.path, call, metadata);\n            try {\n                handler.func(stream);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onReceiveMessage(message) {\n            stream.push(message);\n        },\n        onReceiveHalfClose() {\n            stream.push(null);\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n                stream.destroy();\n            }\n        },\n    });\n}\n//# sourceMappingURL=server.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUZBQXVGO0FBQ2hIO0FBQ0E7QUFDQSwyR0FBMkc7QUFDM0c7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBLGdEQUFnRCx5RkFBeUY7QUFDekksZ0VBQWdFLDJDQUEyQztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0Isb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMsc0JBQXNCLG1CQUFPLENBQUMscUhBQWU7QUFDN0MsNkJBQTZCLG1CQUFPLENBQUMsbUlBQXNCO0FBQzNELG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxxQkFBcUIsbUJBQU8sQ0FBQyxtSEFBYztBQUMzQyxtQkFBbUIsbUJBQU8sQ0FBQywrR0FBWTtBQUN2Qyw4QkFBOEIsbUJBQU8sQ0FBQyxxSUFBdUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9CQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxXQUFXO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFlBQVk7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRyxxRUFBcUUsK0RBQStEO0FBQzlPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsd0JBQXdCLGlFQUFpRTtBQUN0SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixrQkFBa0IsK0JBQStCLG9CQUFvQjtBQUN4SjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxvQkFBb0I7QUFDN0Y7QUFDQSx1Q0FBdUMsYUFBYSxXQUFXLDRCQUE0QjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixLQUFLO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELEtBQUs7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLEtBQUs7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxNQUFNO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxxQ0FBcUM7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsSUFBSSxpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx3UUFBd1E7QUFDL1QsaURBQWlELGlCQUFpQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGFBQWE7QUFDdkUscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxhQUFhO0FBQ3ZFLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsNEVBQTRFO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkJBQTZCLEdBQUcsMEJBQTBCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCx3RUFBd0UsbURBQW1ELHVCQUF1QjtBQUMxTSx3RUFBd0Usd0VBQXdFO0FBQ2hKLFNBQVM7QUFDVDtBQUNBLENBQUM7QUFDRCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhGQUE4RixhQUFhO0FBQzNHO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLGFBQWE7QUFDckc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFlBQVk7QUFDOUU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFlBQVk7QUFDOUU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLGFBQWE7QUFDM0c7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsYUFBYTtBQUNyRztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsWUFBWTtBQUM5RTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxZQUFZO0FBQzlFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX3J1bkluaXRpYWxpemVycyA9ICh0aGlzICYmIHRoaXMuX19ydW5Jbml0aWFsaXplcnMpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gICAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICAgIH1cbiAgICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG52YXIgX19lc0RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2VzRGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICAgIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICAgIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gICAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gICAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIGRvbmUgPSB0cnVlO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VydmVyID0gdm9pZCAwO1xuY29uc3QgaHR0cDIgPSByZXF1aXJlKFwiaHR0cDJcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHNlcnZlcl9jYWxsXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItY2FsbFwiKTtcbmNvbnN0IHNlcnZlcl9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vc2VydmVyLWNyZWRlbnRpYWxzXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBjaGFubmVsel8xID0gcmVxdWlyZShcIi4vY2hhbm5lbHpcIik7XG5jb25zdCBzZXJ2ZXJfaW50ZXJjZXB0b3JzXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItaW50ZXJjZXB0b3JzXCIpO1xuY29uc3QgVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TID0gfigxIDw8IDMxKTtcbmNvbnN0IEtFRVBBTElWRV9NQVhfVElNRV9NUyA9IH4oMSA8PCAzMSk7XG5jb25zdCBLRUVQQUxJVkVfVElNRU9VVF9NUyA9IDIwMDAwO1xuY29uc3QgTUFYX0NPTk5FQ1RJT05fSURMRV9NUyA9IH4oMSA8PCAzMSk7XG5jb25zdCB7IEhUVFAyX0hFQURFUl9QQVRIIH0gPSBodHRwMi5jb25zdGFudHM7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdzZXJ2ZXInO1xuY29uc3Qga01heEFnZSA9IEJ1ZmZlci5mcm9tKCdtYXhfYWdlJyk7XG5mdW5jdGlvbiBzZXJ2ZXJDYWxsVHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnc2VydmVyX2NhbGwnLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbi8qKlxuICogRGVjb3JhdG9yIHRvIHdyYXAgYSBjbGFzcyBtZXRob2Qgd2l0aCB1dGlsLmRlcHJlY2F0ZVxuICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gb3V0cHV0IGlmIHRoZSBkZXByZWNhdGVkIG1ldGhvZCBpcyBjYWxsZWRcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHV0aWwuZGVwcmVjYXRlKHRhcmdldCwgbWVzc2FnZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShtZXRob2ROYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgIGRldGFpbHM6IGBUaGUgc2VydmVyIGRvZXMgbm90IGltcGxlbWVudCB0aGUgbWV0aG9kICR7bWV0aG9kTmFtZX1gLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0SGFuZGxlcihoYW5kbGVyVHlwZSwgbWV0aG9kTmFtZSkge1xuICAgIGNvbnN0IHVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZSA9IGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShtZXRob2ROYW1lKTtcbiAgICBzd2l0Y2ggKGhhbmRsZXJUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3VuYXJ5JzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UsIG51bGwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnY2xpZW50U3RyZWFtJzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UsIG51bGwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnc2VydmVyU3RyZWFtJzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGwuZW1pdCgnZXJyb3InLCB1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnYmlkaSc6XG4gICAgICAgICAgICByZXR1cm4gKGNhbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsLmVtaXQoJ2Vycm9yJywgdW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaGFuZGxlclR5cGUgJHtoYW5kbGVyVHlwZX1gKTtcbiAgICB9XG59XG5sZXQgU2VydmVyID0gKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IF9pbnN0YW5jZUV4dHJhSW5pdGlhbGl6ZXJzID0gW107XG4gICAgbGV0IF9zdGFydF9kZWNvcmF0b3JzO1xuICAgIHJldHVybiBfYSA9IGNsYXNzIFNlcnZlciB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzID0gKF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXMsIF9pbnN0YW5jZUV4dHJhSW5pdGlhbGl6ZXJzKSwgbmV3IE1hcCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmh0dHAyU2VydmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoaXMgZmllbGQgb25seSBleGlzdHMgdG8gZW5zdXJlIHRoYXQgdGhlIHN0YXJ0IG1ldGhvZCB0aHJvd3MgYW4gZXJyb3IgaWZcbiAgICAgICAgICAgICAgICAgKiBpdCBpcyBjYWxsZWQgdHdpY2UsIGFzIGl0IGRpZCBwcmV2aW91c2x5LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2h1dGRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckFkZHJlc3NTdHJpbmcgPSAnbnVsbCc7XG4gICAgICAgICAgICAgICAgLy8gQ2hhbm5lbHogSW5mb1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zWydncnBjLmVuYWJsZV9jaGFubmVseiddID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2VTdHViKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXJTdHViKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpUcmFjZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uQ2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTZXJ2ZXIpKCdzZXJ2ZXInLCAoKSA9PiB0aGlzLmdldENoYW5uZWx6SW5mbygpLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ1NlcnZlciBjcmVhdGVkJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgPVxuICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLm9wdGlvbnNbJ2dycGMubWF4X2Nvbm5lY3Rpb25fYWdlX21zJ10pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUztcbiAgICAgICAgICAgICAgICB0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zID1cbiAgICAgICAgICAgICAgICAgICAgKF9jID0gdGhpcy5vcHRpb25zWydncnBjLm1heF9jb25uZWN0aW9uX2FnZV9ncmFjZV9tcyddKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVM7XG4gICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPVxuICAgICAgICAgICAgICAgICAgICAoX2QgPSB0aGlzLm9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogS0VFUEFMSVZFX01BWF9USU1FX01TO1xuICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZW91dE1zID1cbiAgICAgICAgICAgICAgICAgICAgKF9lID0gdGhpcy5vcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJ10pICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IEtFRVBBTElWRV9USU1FT1VUX01TO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbklkbGVUaW1lb3V0ID1cbiAgICAgICAgICAgICAgICAgICAgKF9mID0gdGhpcy5vcHRpb25zWydncnBjLm1heF9jb25uZWN0aW9uX2lkbGVfbXMnXSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogTUFYX0NPTk5FQ1RJT05fSURMRV9NUztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblNlcnZlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFNlbmRIZWFkZXJCbG9ja0xlbmd0aDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoJ2dycGMtbm9kZS5tYXhfc2Vzc2lvbl9tZW1vcnknIGluIHRoaXMub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblNlcnZlck9wdGlvbnMubWF4U2Vzc2lvbk1lbW9yeSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbJ2dycGMtbm9kZS5tYXhfc2Vzc2lvbl9tZW1vcnknXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIEJ5IGRlZmF1bHQsIHNldCBhIHZlcnkgbGFyZ2UgbWF4IHNlc3Npb24gbWVtb3J5IGxpbWl0LCB0byBlZmZlY3RpdmVseVxuICAgICAgICAgICAgICAgICAgICAgKiBkaXNhYmxlIGVuZm9yY2VtZW50IG9mIHRoZSBsaW1pdC4gU29tZSB0ZXN0aW5nIGluZGljYXRlcyB0aGF0IE5vZGUnc1xuICAgICAgICAgICAgICAgICAgICAgKiBiZWhhdmlvciBkZWdyYWRlcyBiYWRseSB3aGVuIHRoaXMgbGltaXQgaXMgcmVhY2hlZCwgc28gd2Ugc29sdmUgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgKiBieSBkaXNhYmxpbmcgdGhlIGNoZWNrIGVudGlyZWx5LiAqL1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblNlcnZlck9wdGlvbnMubWF4U2Vzc2lvbk1lbW9yeSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJ2dycGMubWF4X2NvbmN1cnJlbnRfc3RyZWFtcycgaW4gdGhpcy5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uU2VydmVyT3B0aW9ucy5zZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbmN1cnJlbnRTdHJlYW1zOiB0aGlzLm9wdGlvbnNbJ2dycGMubWF4X2NvbmN1cnJlbnRfc3RyZWFtcyddLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmludGVyY2VwdG9ycyA9IChfZyA9IHRoaXMub3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1NlcnZlciBjb25zdHJ1Y3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0Q2hhbm5lbHpJbmZvKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlOiB0aGlzLmNoYW5uZWx6VHJhY2UsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxUcmFja2VyOiB0aGlzLmNhbGxUcmFja2VyLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lckNoaWxkcmVuOiB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKSxcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNoaWxkcmVuOiB0aGlzLnNlc3Npb25DaGlsZHJlblRyYWNrZXIuZ2V0Q2hpbGRMaXN0cygpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRDaGFubmVselNlc3Npb25JbmZvKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSW5mbyA9IHRoaXMuc2Vzc2lvbnMuZ2V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Tb2NrZXQgPSBzZXNzaW9uLnNvY2tldDtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5yZW1vdGVBZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MpKHNlc3Npb25Tb2NrZXQucmVtb3RlQWRkcmVzcywgc2Vzc2lvblNvY2tldC5yZW1vdGVQb3J0KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgPyAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcykoc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3MsIHNlc3Npb25Tb2NrZXQubG9jYWxQb3J0KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IHRsc0luZm87XG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb24uZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRsc1NvY2tldCA9IHNlc3Npb25Tb2NrZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpcGhlckluZm8gPSB0bHNTb2NrZXQuZ2V0Q2lwaGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlcnRpZmljYXRlID0gdGxzU29ja2V0LmdldENlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlZXJDZXJ0aWZpY2F0ZSA9IHRsc1NvY2tldC5nZXRQZWVyQ2VydGlmaWNhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGxzSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlU3RhbmRhcmROYW1lOiAoX2IgPSBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlT3RoZXJOYW1lOiBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSA/IG51bGwgOiBjaXBoZXJJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbENlcnRpZmljYXRlOiBjZXJ0aWZpY2F0ZSAmJiAncmF3JyBpbiBjZXJ0aWZpY2F0ZSA/IGNlcnRpZmljYXRlLnJhdyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVDZXJ0aWZpY2F0ZTogcGVlckNlcnRpZmljYXRlICYmICdyYXcnIGluIHBlZXJDZXJ0aWZpY2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGVlckNlcnRpZmljYXRlLnJhd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRsc0luZm8gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzb2NrZXRJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzOiByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbEFkZHJlc3M6IGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHk6IHRsc0luZm8sXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZU5hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbXNTdGFydGVkOiBzZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmNhbGxzU3RhcnRlZCxcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtc1N1Y2NlZWRlZDogc2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5jYWxsc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogc2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5jYWxsc0ZhaWxlZCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNTZW50OiBzZXNzaW9uSW5mby5tZXNzYWdlc1NlbnQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IHNlc3Npb25JbmZvLm1lc3NhZ2VzUmVjZWl2ZWQsXG4gICAgICAgICAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiBzZXNzaW9uSW5mby5rZWVwQWxpdmVzU2VudCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlbW90ZVN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IHNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IHNlc3Npb25JbmZvLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogc2Vzc2lvbkluZm8ubGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxGbG93Q29udHJvbFdpbmRvdzogKF9jID0gc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUZsb3dDb250cm9sV2luZG93OiAoX2QgPSBzZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc29ja2V0SW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICcoJyArIHRoaXMuY2hhbm5lbHpSZWYuaWQgKyAnKSAnICsgdGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZWVwYWxpdmVUcmFjZSh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdrZWVwYWxpdmUnLCAnKCcgKyB0aGlzLmNoYW5uZWx6UmVmLmlkICsgJykgJyArIHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkUHJvdG9TZXJ2aWNlKCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLiBVc2UgYWRkU2VydmljZSgpIGluc3RlYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFNlcnZpY2Uoc2VydmljZSwgaW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZSA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygc2VydmljZSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGltcGxlbWVudGF0aW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZFNlcnZpY2UoKSByZXF1aXJlcyB0d28gb2JqZWN0cyBhcyBhcmd1bWVudHMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljZUtleXMgPSBPYmplY3Qua2V5cyhzZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZUtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBhbiBlbXB0eSBzZXJ2aWNlIHRvIGEgc2VydmVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlcnZpY2VLZXlzLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJzID0gc2VydmljZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGhvZFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5yZXF1ZXN0U3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMucmVzcG9uc2VTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ2JpZGknO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdjbGllbnRTdHJlYW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdzZXJ2ZXJTdHJlYW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICd1bmFyeSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGltcGxGbiA9IGltcGxlbWVudGF0aW9uW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW1wbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltcGxGbiA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBhdHRycy5vcmlnaW5hbE5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBsRm4gPSBpbXBsZW1lbnRhdGlvblthdHRycy5vcmlnaW5hbE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbXBsRm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1wbCA9IGltcGxGbi5iaW5kKGltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltcGwgPSBnZXREZWZhdWx0SGFuZGxlcihtZXRob2RUeXBlLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gdGhpcy5yZWdpc3RlcihhdHRycy5wYXRoLCBpbXBsLCBhdHRycy5yZXNwb25zZVNlcmlhbGl6ZSwgYXR0cnMucmVxdWVzdERlc2VyaWFsaXplLCBtZXRob2RUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1ldGhvZCBoYW5kbGVyIGZvciAke2F0dHJzLnBhdGh9IGFscmVhZHkgcHJvdmlkZWQuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZVNlcnZpY2Uoc2VydmljZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlID09PSBudWxsIHx8IHR5cGVvZiBzZXJ2aWNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZVNlcnZpY2UoKSByZXF1aXJlcyBvYmplY3QgYXMgYXJndW1lbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljZUtleXMgPSBPYmplY3Qua2V5cyhzZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlS2V5cy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRycyA9IHNlcnZpY2VbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlcihhdHRycy5wYXRoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmQocG9ydCwgY3JlZHMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4gVXNlIGJpbmRBc3luYygpIGluc3RlYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhpcyBBUEkgaXMgZXhwZXJpbWVudGFsLCBzbyBBUEkgc3RhYmlsaXR5IGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBtaW5vciB2ZXJzaW9ucy5cbiAgICAgICAgICAgICAqIEBwYXJhbSBib3VuZEFkZHJlc3NcbiAgICAgICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbFJlZ2lzdGVyTGlzdGVuZXJUb0NoYW5uZWx6KGJvdW5kQWRkcmVzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSgoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYm91bmRBZGRyZXNzKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBib3VuZEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc1N0YXJ0ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3VjY2VlZGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzU2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVzU2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RMb2NhbFN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UmVtb3RlU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZsb3dDb250cm9sV2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlRmxvd0NvbnRyb2xXaW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwZXJpbWVudGFsVW5yZWdpc3Rlckxpc3RlbmVyRnJvbUNoYW5uZWx6KGNoYW5uZWx6UmVmKSB7XG4gICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKShjaGFubmVselJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcmVhdGVIdHRwMlNlcnZlcihjcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIGxldCBodHRwMlNlcnZlcjtcbiAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMuX2lzU2VjdXJlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3JPcHRpb25zID0gY3JlZGVudGlhbHMuX2dldENvbnN0cnVjdG9yT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0T3B0aW9ucyA9IGNyZWRlbnRpYWxzLl9nZXRTZWN1cmVDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN1cmVTZXJ2ZXJPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb21tb25TZXJ2ZXJPcHRpb25zKSwgY29uc3RydWN0b3JPcHRpb25zKSwgY29udGV4dE9wdGlvbnMpLCB7IGVuYWJsZVRyYWNlOiB0aGlzLm9wdGlvbnNbJ2dycGMtbm9kZS50bHNfZW5hYmxlX3RyYWNlJ10gPT09IDEgfSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhcmVDcmVkZW50aWFsc1ZhbGlkID0gY29udGV4dE9wdGlvbnMgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0luaXRpYWwgY3JlZGVudGlhbHMgdmFsaWQ6ICcgKyBhcmVDcmVkZW50aWFsc1ZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIgPSBodHRwMi5jcmVhdGVTZWN1cmVTZXJ2ZXIoc2VjdXJlU2VydmVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLnByZXBlbmRMaXN0ZW5lcignY29ubmVjdGlvbicsIChzb2NrZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJlQ3JlZGVudGlhbHNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0Ryb3BwZWQgY29ubmVjdGlvbiBmcm9tICcgKyBKU09OLnN0cmluZ2lmeShzb2NrZXQuYWRkcmVzcygpKSArICcgZHVlIHRvIHVubG9hZGVkIGNyZWRlbnRpYWxzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uKCdzZWN1cmVDb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhlc2UgZXJyb3JzIG5lZWQgdG8gYmUgaGFuZGxlZCBieSB0aGUgdXNlciBvZiBIdHRwMlNlY3VyZVNlcnZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGFjY29yZGluZyB0byBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzM1ODI0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdBbiBpbmNvbWluZyBUTFMgY29ubmVjdGlvbiBjbG9zZWQgd2l0aCBlcnJvcjogJyArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRzV2F0Y2hlciA9IG9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN1cmVTZXJ2ZXIgPSBodHRwMlNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN1cmVTZXJ2ZXIuc2V0U2VjdXJlQ29udGV4dChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy5sb2coY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCAnRmFpbGVkIHRvIHNldCBzZWN1cmUgY29udGV4dCB3aXRoIGVycm9yICcgKyBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVDcmVkZW50aWFsc1ZhbGlkID0gb3B0aW9ucyAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1Bvc3QtdXBkYXRlIGNyZWRlbnRpYWxzIHZhbGlkOiAnICsgYXJlQ3JlZGVudGlhbHNWYWxpZCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLl9hZGRXYXRjaGVyKGNyZWRzV2F0Y2hlcik7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLl9yZW1vdmVXYXRjaGVyKGNyZWRzV2F0Y2hlcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIgPSBodHRwMi5jcmVhdGVTZXJ2ZXIodGhpcy5jb21tb25TZXJ2ZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIuc2V0VGltZW91dCgwLCBub29wKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXR1cEhhbmRsZXJzKGh0dHAyU2VydmVyLCBjcmVkZW50aWFscy5fZ2V0SW50ZXJjZXB0b3JzKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBodHRwMlNlcnZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmRPbmVBZGRyZXNzKGFkZHJlc3MsIGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0F0dGVtcHRpbmcgdG8gYmluZCAnICsgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBodHRwMlNlcnZlciA9IHRoaXMuY3JlYXRlSHR0cDJTZXJ2ZXIoYm91bmRQb3J0T2JqZWN0LmNyZWRlbnRpYWxzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnRmFpbGVkIHRvIGJpbmQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogJ3BvcnQnIGluIGFkZHJlc3MgPyBhZGRyZXNzLnBvcnQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5vbmNlKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5saXN0ZW4oYWRkcmVzcywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm91bmRBZGRyZXNzID0gaHR0cDJTZXJ2ZXIuYWRkcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvdW5kU3ViY2hhbm5lbEFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJvdW5kQWRkcmVzcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFN1YmNoYW5uZWxBZGRyZXNzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBib3VuZEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IGJvdW5kQWRkcmVzcy5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiBib3VuZEFkZHJlc3MucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSB0aGlzLmV4cGVyaW1lbnRhbFJlZ2lzdGVyTGlzdGVuZXJUb0NoYW5uZWx6KGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZChjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmh0dHAyU2VydmVycy5zZXQoaHR0cDJTZXJ2ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselJlZjogY2hhbm5lbHpSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbnM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25zQ2hhbm5lbHpSZWY6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0Lmxpc3RlbmluZ1NlcnZlcnMuYWRkKGh0dHAyU2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1N1Y2Nlc3NmdWxseSBib3VuZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYm91bmRTdWJjaGFubmVsQWRkcmVzcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogJ3BvcnQnIGluIGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MgPyBib3VuZFN1YmNoYW5uZWxBZGRyZXNzLnBvcnQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBiaW5kTWFueVBvcnRzKGFkZHJlc3NMaXN0LCBib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3NMaXN0WzBdKSAmJiBhZGRyZXNzTGlzdFswXS5wb3J0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIElmIGJpbmRpbmcgdG8gcG9ydCAwLCBmaXJzdCB0cnkgdG8gYmluZCB0aGUgZmlyc3QgYWRkcmVzcywgdGhlbiBiaW5kXG4gICAgICAgICAgICAgICAgICAgICAqIHRoZSByZXN0IG9mIHRoZSBhZGRyZXNzIGxpc3QgdG8gdGhlIHNwZWNpZmljIHBvcnQgdGhhdCBpdCBiaW5kcy4gKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RBZGRyZXNzUmVzdWx0ID0gYXdhaXQgdGhpcy5iaW5kT25lQWRkcmVzcyhhZGRyZXNzTGlzdFswXSwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0QWRkcmVzc1Jlc3VsdC5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogSWYgdGhlIGZpcnN0IGFkZHJlc3MgZmFpbHMgdG8gYmluZCwgdHJ5IHRoZSBzYW1lIG9wZXJhdGlvbiBzdGFydGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogZnJvbSB0aGUgc2Vjb25kIGl0ZW0gaW4gdGhlIGxpc3QuICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0QWRkcmVzc1Jlc3VsdCA9IGF3YWl0IHRoaXMuYmluZE1hbnlQb3J0cyhhZGRyZXNzTGlzdC5zbGljZSgxKSwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3RBZGRyZXNzUmVzdWx0KSwgeyBlcnJvcnM6IFtmaXJzdEFkZHJlc3NSZXN1bHQuZXJyb3IsIC4uLnJlc3RBZGRyZXNzUmVzdWx0LmVycm9yc10gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0QWRkcmVzc2VzID0gYWRkcmVzc0xpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGFkZHJlc3MgPT4gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGhvc3Q6IGFkZHJlc3MuaG9zdCwgcG9ydDogZmlyc3RBZGRyZXNzUmVzdWx0LnBvcnQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0QWRkcmVzc1Jlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKHJlc3RBZGRyZXNzZXMubWFwKGFkZHJlc3MgPT4gdGhpcy5iaW5kT25lQWRkcmVzcyhhZGRyZXNzLCBib3VuZFBvcnRPYmplY3QpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxSZXN1bHRzID0gW2ZpcnN0QWRkcmVzc1Jlc3VsdCwgLi4ucmVzdEFkZHJlc3NSZXN1bHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogYWxsUmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5lcnJvciA9PT0gdW5kZWZpbmVkKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogZmlyc3RBZGRyZXNzUmVzdWx0LnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBhbGxSZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChyZXN1bHQgPT4gcmVzdWx0LmVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChhZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiB0aGlzLmJpbmRPbmVBZGRyZXNzKGFkZHJlc3MsIGJvdW5kUG9ydE9iamVjdCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiBhbGxSZXN1bHRzLmZpbHRlcihyZXN1bHQgPT4gcmVzdWx0LmVycm9yID09PSB1bmRlZmluZWQpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IGFsbFJlc3VsdHNbMF0ucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogYWxsUmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKHJlc3VsdCA9PiByZXN1bHQuZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGJpbmRBZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgYm91bmRQb3J0T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluZFJlc3VsdCA9IGF3YWl0IHRoaXMuYmluZE1hbnlQb3J0cyhhZGRyZXNzTGlzdCwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZFJlc3VsdC5jb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRSZXN1bHQuY291bnQgPCBhZGRyZXNzTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5JTkZPLCBgV0FSTklORyBPbmx5ICR7YmluZFJlc3VsdC5jb3VudH0gYWRkcmVzc2VzIGFkZGVkIG91dCBvZiB0b3RhbCAke2FkZHJlc3NMaXN0Lmxlbmd0aH0gcmVzb2x2ZWRgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmluZFJlc3VsdC5wb3J0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdHJpbmcgPSBgTm8gYWRkcmVzcyBhZGRlZCBvdXQgb2YgdG90YWwgJHthZGRyZXNzTGlzdC5sZW5ndGh9IHJlc29sdmVkYDtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy5sb2coY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBlcnJvclN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnJvclN0cmluZ30gZXJyb3JzOiBbJHtiaW5kUmVzdWx0LmVycm9ycy5qb2luKCcsJyl9XWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmVQb3J0KHBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlckxpc3RlbmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzZnVsUmVzb2x1dGlvbjogKGVuZHBvaW50TGlzdCwgc2VydmljZUNvbmZpZywgc2VydmljZUNvbmZpZ0Vycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSB3YW50IG9uZSByZXNvbHV0aW9uIHJlc3VsdC4gRGlzY2FyZCBhbGwgZnV0dXJlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlckxpc3RlbmVyLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24gPSAoKSA9PiB7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzc0xpc3QgPSBbXS5jb25jYXQoLi4uZW5kcG9pbnRMaXN0Lm1hcChlbmRwb2ludCA9PiBlbmRwb2ludC5hZGRyZXNzZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYE5vIGFkZHJlc3NlcyByZXNvbHZlZCBmb3IgcG9ydCAke3BvcnR9YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYWRkcmVzc0xpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yLmRldGFpbHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gKDAsIHJlc29sdmVyXzEuY3JlYXRlUmVzb2x2ZXIpKHBvcnQsIHJlc29sdmVyTGlzdGVuZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVyLnVwZGF0ZVJlc29sdXRpb24oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGJpbmRQb3J0KHBvcnQsIGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NMaXN0ID0gYXdhaXQgdGhpcy5yZXNvbHZlUG9ydChwb3J0KTtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRQb3J0T2JqZWN0LmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVW5iaW5kKGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmluZEFzeW5jIG9wZXJhdGlvbiBjYW5jZWxsZWQgYnkgdW5iaW5kIGNhbGwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydE51bWJlciA9IGF3YWl0IHRoaXMuYmluZEFkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFBvcnRPYmplY3QuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVVbmJpbmQoYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQXN5bmMgb3BlcmF0aW9uIGNhbmNlbGxlZCBieSB1bmJpbmQgY2FsbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcG9ydE51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vcm1hbGl6ZVBvcnQocG9ydCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxQb3J0VXJpID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkocG9ydCk7XG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxQb3J0VXJpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHBhcnNlIHBvcnQgXCIke3BvcnR9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydFVyaSA9ICgwLCByZXNvbHZlcl8xLm1hcFVyaURlZmF1bHRTY2hlbWUpKGluaXRpYWxQb3J0VXJpKTtcbiAgICAgICAgICAgICAgICBpZiAocG9ydFVyaSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBnZXQgYSBkZWZhdWx0IHNjaGVtZSBmb3IgcG9ydCBcIiR7cG9ydH1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcG9ydFVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmRBc3luYyhwb3J0LCBjcmVkcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaHV0ZG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBc3luYyBjYWxsZWQgYWZ0ZXIgc2h1dGRvd24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwb3J0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwb3J0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNyZWRzID09PSBudWxsIHx8ICEoY3JlZHMgaW5zdGFuY2VvZiBzZXJ2ZXJfY3JlZGVudGlhbHNfMS5TZXJ2ZXJDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY3JlZHMgbXVzdCBiZSBhIFNlcnZlckNyZWRlbnRpYWxzIG9iamVjdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdiaW5kQXN5bmMgcG9ydD0nICsgcG9ydCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydFVyaSA9IHRoaXMubm9ybWFsaXplUG9ydChwb3J0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZlcnJlZENhbGxiYWNrID0gKGVycm9yLCBwb3J0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4gY2FsbGJhY2soZXJyb3IsIHBvcnQpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8qIEZpcnN0LCBpZiB0aGlzIHBvcnQgaXMgYWxyZWFkeSBib3VuZCBvciB0aGF0IGJpbmQgb3BlcmF0aW9uIGlzIGluXG4gICAgICAgICAgICAgICAgICogcHJvZ3Jlc3MsIHVzZSB0aGF0IHJlc3VsdC4gKi9cbiAgICAgICAgICAgICAgICBsZXQgYm91bmRQb3J0T2JqZWN0ID0gdGhpcy5ib3VuZFBvcnRzLmdldCgoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwb3J0VXJpKSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWRzLl9lcXVhbHMoYm91bmRQb3J0T2JqZWN0LmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRDYWxsYmFjayhuZXcgRXJyb3IoYCR7cG9ydH0gYWxyZWFkeSBib3VuZCB3aXRoIGluY29tcGF0aWJsZSBjcmVkZW50aWFsc2ApLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGF0IG9wZXJhdGlvbiBoYXMgcHJldmlvdXNseSBiZWVuIGNhbmNlbGxlZCBieSBhbiB1bmJpbmQgY2FsbCxcbiAgICAgICAgICAgICAgICAgICAgICogdW5jYW5jZWwgaXQuICovXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdC5jb21wbGV0aW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LmNvbXBsZXRpb25Qcm9taXNlLnRoZW4ocG9ydE51bSA9PiBjYWxsYmFjayhudWxsLCBwb3J0TnVtKSwgZXJyb3IgPT4gY2FsbGJhY2soZXJyb3IsIDApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkQ2FsbGJhY2sobnVsbCwgYm91bmRQb3J0T2JqZWN0LnBvcnROdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICBtYXBLZXk6ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHBvcnRVcmkpLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFVyaTogcG9ydFVyaSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvblByb21pc2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBvcnROdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBjcmVkcyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nU2VydmVyczogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwb3J0VXJpLnBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRpb25Qcm9taXNlID0gdGhpcy5iaW5kUG9ydChwb3J0VXJpLCBib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5jb21wbGV0aW9uUHJvbWlzZSA9IGNvbXBsZXRpb25Qcm9taXNlO1xuICAgICAgICAgICAgICAgIC8qIElmIHRoZSBwb3J0IG51bWJlciBpcyAwLCBkZWZlciBwb3B1bGF0aW5nIHRoZSBtYXAgZW50cnkgdW50aWwgYWZ0ZXIgdGhlXG4gICAgICAgICAgICAgICAgICogYmluZCBvcGVyYXRpb24gY29tcGxldGVzIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgcG9ydCBudW1iZXIuIE90aGVyd2lzZSxcbiAgICAgICAgICAgICAgICAgKiBwb3B1bGF0ZSBpdCBpbW1lZGlhdGVseS4gKi9cbiAgICAgICAgICAgICAgICBpZiAoKHNwbGl0UG9ydCA9PT0gbnVsbCB8fCBzcGxpdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNwbGl0UG9ydC5wb3J0KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uUHJvbWlzZS50aGVuKHBvcnROdW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxVcmkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1lOiBwb3J0VXJpLnNjaGVtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHk6IHBvcnRVcmkuYXV0aG9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICgwLCB1cmlfcGFyc2VyXzEuY29tYmluZUhvc3RQb3J0KSh7IGhvc3Q6IHNwbGl0UG9ydC5ob3N0LCBwb3J0OiBwb3J0TnVtIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5tYXBLZXkgPSAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShmaW5hbFVyaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY29tcGxldGlvblByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LnBvcnROdW1iZXIgPSBwb3J0TnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzLnNldChib3VuZFBvcnRPYmplY3QubWFwS2V5LCBib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcG9ydE51bSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvdW5kUG9ydHMuc2V0KGJvdW5kUG9ydE9iamVjdC5tYXBLZXksIGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Qcm9taXNlLnRoZW4ocG9ydE51bSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY29tcGxldGlvblByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LnBvcnROdW1iZXIgPSBwb3J0TnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcG9ydE51bSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnaXN0ZXJJbmplY3RvclRvQ2hhbm5lbHooKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQpKCdpbmplY3RvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsQWRkcmVzczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUFkZHJlc3M6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZU5hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3RhcnRlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbXNTdWNjZWVkZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zRmFpbGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNTZW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNSZWNlaXZlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVGbG93Q29udHJvbFdpbmRvdzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCwgc28gQVBJIHN0YWJpbGl0eSBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgbWlub3IgdmVyc2lvbnMuXG4gICAgICAgICAgICAgKiBAcGFyYW0gY3JlZGVudGlhbHNcbiAgICAgICAgICAgICAqIEBwYXJhbSBjaGFubmVselJlZlxuICAgICAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsQ3JlYXRlQ29ubmVjdGlvbkluamVjdG9yV2l0aENoYW5uZWx6UmVmKGNyZWRlbnRpYWxzLCBjaGFubmVselJlZiwgb3duc0NoYW5uZWx6UmVmID0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMgPT09IG51bGwgfHwgIShjcmVkZW50aWFscyBpbnN0YW5jZW9mIHNlcnZlcl9jcmVkZW50aWFsc18xLlNlcnZlckNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjcmVkcyBtdXN0IGJlIGEgU2VydmVyQ3JlZGVudGlhbHMgb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLnJlZkNoaWxkKGNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyID0gdGhpcy5jcmVhdGVIdHRwMlNlcnZlcihjcmVkZW50aWFscyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbnNTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5odHRwMlNlcnZlcnMuc2V0KHNlcnZlciwge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVselJlZjogY2hhbm5lbHpSZWYsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25zOiBzZXNzaW9uc1NldCxcbiAgICAgICAgICAgICAgICAgICAgb3duc0NoYW5uZWx6UmVmXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0Q29ubmVjdGlvbjogKGNvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlci5lbWl0KCdjb25uZWN0aW9uJywgY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRyYWluOiAoZ3JhY2VUaW1lTXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2Ygc2Vzc2lvbnNTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IChfYiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXNzaW9uc1NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfQ0FOQ0VMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBncmFjZVRpbWVNcykpLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXJ2ZXIoc2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXNzaW9uc1NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZUNvbm5lY3Rpb25JbmplY3RvcihjcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIGlmIChjcmVkZW50aWFscyA9PT0gbnVsbCB8fCAhKGNyZWRlbnRpYWxzIGluc3RhbmNlb2Ygc2VydmVyX2NyZWRlbnRpYWxzXzEuU2VydmVyQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NyZWRzIG11c3QgYmUgYSBTZXJ2ZXJDcmVkZW50aWFscyBvYmplY3QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSB0aGlzLnJlZ2lzdGVySW5qZWN0b3JUb0NoYW5uZWx6KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhwZXJpbWVudGFsQ3JlYXRlQ29ubmVjdGlvbkluamVjdG9yV2l0aENoYW5uZWx6UmVmKGNyZWRlbnRpYWxzLCBjaGFubmVselJlZiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZVNlcnZlcihzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQ2xvc2luZyBzZXJ2ZXIgd2l0aCBhZGRyZXNzICcgKyBKU09OLnN0cmluZ2lmeShzZXJ2ZXIuYWRkcmVzcygpKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVySW5mbyA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIHNlcnZlci5jbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJJbmZvICYmIHNlcnZlckluZm8ub3duc0NoYW5uZWx6UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQoc2VydmVySW5mby5jaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbHpfMS51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYpKHNlcnZlckluZm8uY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHR0cDJTZXJ2ZXJzLmRlbGV0ZShzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3NlU2Vzc2lvbihzZXNzaW9uLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDbG9zaW5nIHNlc3Npb24gaW5pdGlhdGVkIGJ5ICcgKyAoKF9iID0gc2Vzc2lvbi5zb2NrZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZW1vdGVBZGRyZXNzKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkluZm8gPSB0aGlzLnNlc3Npb25zLmdldChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKHNlc3Npb25JbmZvLnJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbHpfMS51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYpKHNlc3Npb25JbmZvLnJlZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPT09IG51bGwgfHwgY2FsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBsZXRlVW5iaW5kKGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2VydmVyIG9mIGJvdW5kUG9ydE9iamVjdC5saXN0ZW5pbmdTZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckluZm8gPSB0aGlzLmh0dHAyU2VydmVycy5nZXQoc2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlcnZlcihzZXJ2ZXIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5saXN0ZW5pbmdTZXJ2ZXJzLmRlbGV0ZShzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXJ2ZXJJbmZvLnNlc3Npb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzLmRlbGV0ZShib3VuZFBvcnRPYmplY3QubWFwS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVW5iaW5kIGEgcHJldmlvdXNseSBib3VuZCBwb3J0LCBvciBjYW5jZWwgYW4gaW4tcHJvZ3Jlc3MgYmluZEFzeW5jXG4gICAgICAgICAgICAgKiBvcGVyYXRpb24uIElmIHBvcnQgMCB3YXMgYm91bmQsIG9ubHkgdGhlIGFjdHVhbCBib3VuZCBwb3J0IGNhbiBiZVxuICAgICAgICAgICAgICogdW5ib3VuZC4gRm9yIGV4YW1wbGUsIGlmIGJpbmRBc3luYyB3YXMgY2FsbGVkIHdpdGggXCJsb2NhbGhvc3Q6MFwiIGFuZCB0aGVcbiAgICAgICAgICAgICAqIGJvdW5kIHBvcnQgcmVzdWx0IHdhcyA1NDMyMSwgaXQgY2FuIGJlIHVuYm91bmQgYXMgXCJsb2NhbGhvc3Q6NTQzMjFcIi5cbiAgICAgICAgICAgICAqIEBwYXJhbSBwb3J0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHVuYmluZChwb3J0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgndW5iaW5kIHBvcnQ9JyArIHBvcnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnRVcmkgPSB0aGlzLm5vcm1hbGl6ZVBvcnQocG9ydCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwb3J0VXJpLnBhdGgpO1xuICAgICAgICAgICAgICAgIGlmICgoc3BsaXRQb3J0ID09PSBudWxsIHx8IHNwbGl0UG9ydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3BsaXRQb3J0LnBvcnQpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVuYmluZCBwb3J0IDAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRQb3J0T2JqZWN0ID0gdGhpcy5ib3VuZFBvcnRzLmdldCgoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwb3J0VXJpKSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCd1bmJpbmRpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QubWFwS2V5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgb3JpZ2luYWxseSBib3VuZCBhcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKGJvdW5kUG9ydE9iamVjdC5vcmlnaW5hbFVyaSkpO1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGUgYmluZCBvcGVyYXRpb24gaXMgcGVuZGluZywgdGhlIGNhbmNlbGxlZCBmbGFnIHdpbGwgdHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICAgKiB0aGUgdW5iaW5kIG9wZXJhdGlvbiBsYXRlci4gKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdC5jb21wbGV0aW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVW5iaW5kKGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyYWNlZnVsbHkgY2xvc2UgYWxsIGNvbm5lY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCBhIHByZXZpb3VzbHkgYm91bmQgcG9ydC5cbiAgICAgICAgICAgICAqIEFmdGVyIHRoZSBncmFjZSB0aW1lLCBmb3JjZWZ1bGx5IGNsb3NlIGFsbCByZW1haW5pbmcgb3BlbiBjb25uZWN0aW9ucy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBJZiBwb3J0IDAgd2FzIGJvdW5kLCBvbmx5IHRoZSBhY3R1YWwgYm91bmQgcG9ydCBjYW4gYmVcbiAgICAgICAgICAgICAqIGRyYWluZWQuIEZvciBleGFtcGxlLCBpZiBiaW5kQXN5bmMgd2FzIGNhbGxlZCB3aXRoIFwibG9jYWxob3N0OjBcIiBhbmQgdGhlXG4gICAgICAgICAgICAgKiBib3VuZCBwb3J0IHJlc3VsdCB3YXMgNTQzMjEsIGl0IGNhbiBiZSBkcmFpbmVkIGFzIFwibG9jYWxob3N0OjU0MzIxXCIuXG4gICAgICAgICAgICAgKiBAcGFyYW0gcG9ydFxuICAgICAgICAgICAgICogQHBhcmFtIGdyYWNlVGltZU1zXG4gICAgICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkcmFpbihwb3J0LCBncmFjZVRpbWVNcykge1xuICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnZHJhaW4gcG9ydD0nICsgcG9ydCArICcgZ3JhY2VUaW1lTXM9JyArIGdyYWNlVGltZU1zKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3J0VXJpID0gdGhpcy5ub3JtYWxpemVQb3J0KHBvcnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0UG9ydCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkocG9ydFVyaS5wYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoKHNwbGl0UG9ydCA9PT0gbnVsbCB8fCBzcGxpdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNwbGl0UG9ydC5wb3J0KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBkcmFpbiBwb3J0IDAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRQb3J0T2JqZWN0ID0gdGhpcy5ib3VuZFBvcnRzLmdldCgoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwb3J0VXJpKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhbGxTZXNzaW9ucyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGh0dHAyU2VydmVyIG9mIGJvdW5kUG9ydE9iamVjdC5saXN0ZW5pbmdTZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckVudHJ5ID0gdGhpcy5odHRwMlNlcnZlcnMuZ2V0KGh0dHAyU2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2Ygc2VydmVyRW50cnkuc2Vzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZXNzaW9ucy5hZGQoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb24oc2Vzc2lvbiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZXNzaW9ucy5kZWxldGUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQWZ0ZXIgdGhlIGdyYWNlIHRpbWUgZW5kcywgc2VuZCBhbm90aGVyIGdvYXdheSB0byBhbGwgcmVtYWluaW5nIHNlc3Npb25zXG4gICAgICAgICAgICAgICAgICogd2l0aCB0aGUgQ0FOQ0VMIGNvZGUuICovXG4gICAgICAgICAgICAgICAgKF9jID0gKF9iID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBhbGxTZXNzaW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBncmFjZVRpbWVNcykpLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JjZVNodXRkb3duKCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYm91bmRQb3J0T2JqZWN0IG9mIHRoaXMuYm91bmRQb3J0cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIHNlcnZlciBpZiBpdCBpcyBzdGlsbCBydW5uaW5nLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2VydmVyIG9mIHRoaXMuaHR0cDJTZXJ2ZXJzLmtleXMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2VydmVyKHNlcnZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBkZXN0cm95IGFueSBhdmFpbGFibGUgc2Vzc2lvbnMuIEl0J3MgcG9zc2libGUgdGhhdCBvbmUgb3IgbW9yZVxuICAgICAgICAgICAgICAgIC8vIHRyeVNodXRkb3duKCkgY2FsbHMgYXJlIGluIHByb2dyZXNzLiBEb24ndCB3YWl0IG9uIHRoZW0gdG8gZmluaXNoLlxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbnMuZm9yRWFjaCgoY2hhbm5lbHpJbmZvLCBzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYXN0IE5HSFRUUDJfQ0FOQ0VMIHRvIGFueSBiZWNhdXNlIFR5cGVTY3JpcHQgZG9lc24ndCBzZWVtIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY29nbml6ZSBkZXN0cm95KGNvZGUpIGFzIGEgdmFsaWQgc2lnbmF0dXJlLlxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfQ0FOQ0VMKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNodXRkb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZ2lzdGVyKG5hbWUsIGhhbmRsZXIsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVycy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChuYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmM6IGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IG5hbWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bnJlZ2lzdGVyKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVycy5kZWxldGUobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIE5vIGxvbmdlciBuZWVkZWQgYXMgb2YgdmVyc2lvbiAxLjEwLnhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3RhcnQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaHR0cDJTZXJ2ZXJzLnNpemUgPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgWy4uLnRoaXMuaHR0cDJTZXJ2ZXJzLmtleXMoKV0uZXZlcnkoc2VydmVyID0+ICFzZXJ2ZXIubGlzdGVuaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlcnZlciBtdXN0IGJlIGJvdW5kIGluIG9yZGVyIHRvIHN0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXJ2ZXIgaXMgYWxyZWFkeSBzdGFydGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnlTaHV0ZG93bihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVkQ2FsbGJhY2sgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdDaGVja3MgPSAwO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1heWJlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdDaGVja3MtLTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdDaGVja3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2h1dGRvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3NlcnZlcktleSwgc2VydmVyXSBvZiB0aGlzLmh0dHAyU2VydmVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0NoZWNrcysrO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJTdHJpbmcgPSBzZXJ2ZXIuY2hhbm5lbHpSZWYubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnV2FpdGluZyBmb3Igc2VydmVyICcgKyBzZXJ2ZXJTdHJpbmcgKyAnIHRvIGNsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXJ2ZXIoc2VydmVyS2V5LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdTZXJ2ZXIgJyArIHNlcnZlclN0cmluZyArICcgZmluaXNoZWQgY2xvc2luZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXNzaW9uIG9mIHNlcnZlci5zZXNzaW9ucy5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdDaGVja3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25TdHJpbmcgPSAoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdXYWl0aW5nIGZvciBzZXNzaW9uICcgKyBzZXNzaW9uU3RyaW5nICsgJyB0byBjbG9zZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb24oc2Vzc2lvbiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1Nlc3Npb24gJyArIHNlc3Npb25TdHJpbmcgKyAnIGZpbmlzaGVkIGNsb3NpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZUNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0NoZWNrcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRIdHRwMlBvcnQoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgeWV0IGltcGxlbWVudGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdldCB0aGUgY2hhbm5lbHogcmVmZXJlbmNlIG9iamVjdCBmb3IgdGhpcyBzZXJ2ZXIuIFRoZSByZXR1cm5lZCB2YWx1ZSBpc1xuICAgICAgICAgICAgICogZ2FyYmFnZSBpZiBjaGFubmVseiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBzZXJ2ZXIuXG4gICAgICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF92ZXJpZnlDb250ZW50VHlwZShzdHJlYW0sIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnNbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudFR5cGUgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgICAgICFjb250ZW50VHlwZS5zdGFydHNXaXRoKCdhcHBsaWNhdGlvbi9ncnBjJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLnJlc3BvbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfU1RBVFVTXTogaHR0cDIuY29uc3RhbnRzLkhUVFBfU1RBVFVTX1VOU1VQUE9SVEVEX01FRElBX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIH0sIHsgZW5kU3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3JldHJpZXZlSGFuZGxlcihwYXRoKSB7XG4gICAgICAgICAgICAgICAgc2VydmVyQ2FsbFRyYWNlKCdSZWNlaXZlZCBjYWxsIHRvIG1ldGhvZCAnICtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCArXG4gICAgICAgICAgICAgICAgICAgICcgYXQgYWRkcmVzcyAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJBZGRyZXNzU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVycy5nZXQocGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDYWxsVHJhY2UoJ05vIGhhbmRsZXIgcmVnaXN0ZXJlZCBmb3IgbWV0aG9kICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnLiBTZW5kaW5nIFVOSU1QTEVNRU5URUQgc3RhdHVzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcmVzcG9uZFdpdGhFcnJvcihlcnIsIHN0cmVhbSwgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWlsZXJzVG9TZW5kID0gT2JqZWN0LmFzc2lnbih7ICdncnBjLXN0YXR1cyc6IChfYiA9IGVyci5jb2RlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsICdncnBjLW1lc3NhZ2UnOiBlcnIuZGV0YWlscywgW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfU1RBVFVTXTogaHR0cDIuY29uc3RhbnRzLkhUVFBfU1RBVFVTX09LLCBbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdOiAnYXBwbGljYXRpb24vZ3JwYytwcm90bycgfSwgKF9jID0gZXJyLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9IdHRwMkhlYWRlcnMoKSk7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnJlc3BvbmQodHJhaWxlcnNUb1NlbmQsIHsgZW5kU3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IG51bGwgfHwgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jaGFubmVsekhhbmRsZXIoZXh0cmFJbnRlcmNlcHRvcnMsIHN0cmVhbSwgaGVhZGVycykge1xuICAgICAgICAgICAgICAgIC8vIGZvciBoYW5kbGluZyBpZGxlIHRpbWVvdXRcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RyZWFtT3BlbmVkKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IHRoaXMuc2Vzc2lvbnMuZ2V0KHN0cmVhbS5zZXNzaW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gbnVsbCB8fCBjaGFubmVselNlc3Npb25JbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGFubmVselNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN0YXJ0ZWQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3ZlcmlmeUNvbnRlbnRUeXBlKHN0cmVhbSwgaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IG51bGwgfHwgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gaGVhZGVyc1tIVFRQMl9IRUFERVJfUEFUSF07XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3JldHJpZXZlSGFuZGxlcihwYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uZFdpdGhFcnJvcihnZXRVbmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UocGF0aCksIHN0cmVhbSwgY2hhbm5lbHpTZXNzaW9uSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbEV2ZW50VHJhY2tlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkTWVzc2FnZVNlbnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVselNlc3Npb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5tZXNzYWdlc1NlbnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VSZWNlaXZlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWx6U2Vzc2lvbkluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLm1lc3NhZ2VzUmVjZWl2ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLmxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNhbGxFbmQ6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU3RyZWFtRW5kOiBzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVselNlc3Npb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxTdWNjZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbCA9ICgwLCBzZXJ2ZXJfaW50ZXJjZXB0b3JzXzEuZ2V0U2VydmVySW50ZXJjZXB0aW5nQ2FsbCkoWy4uLmV4dHJhSW50ZXJjZXB0b3JzLCAuLi50aGlzLmludGVyY2VwdG9yc10sIHN0cmVhbSwgaGVhZGVycywgY2FsbEV2ZW50VHJhY2tlciwgaGFuZGxlciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3J1bkhhbmRsZXJGb3JDYWxsKGNhbGwsIGhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvID09PSBudWxsIHx8IGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgVW5rbm93biBoYW5kbGVyIHR5cGU6ICR7aGFuZGxlci50eXBlfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zdHJlYW1IYW5kbGVyKGV4dHJhSW50ZXJjZXB0b3JzLCBzdHJlYW0sIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgaGFuZGxpbmcgaWRsZSB0aW1lb3V0XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0cmVhbU9wZW5lZChzdHJlYW0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl92ZXJpZnlDb250ZW50VHlwZShzdHJlYW0sIGhlYWRlcnMpICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGhlYWRlcnNbSFRUUDJfSEVBREVSX1BBVEhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9yZXRyaWV2ZUhhbmRsZXIocGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3BvbmRXaXRoRXJyb3IoZ2V0VW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlKHBhdGgpLCBzdHJlYW0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgc2VydmVyX2ludGVyY2VwdG9yc18xLmdldFNlcnZlckludGVyY2VwdGluZ0NhbGwpKFsuLi5leHRyYUludGVyY2VwdG9ycywgLi4udGhpcy5pbnRlcmNlcHRvcnNdLCBzdHJlYW0sIGhlYWRlcnMsIG51bGwsIGhhbmRsZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ydW5IYW5kbGVyRm9yQ2FsbChjYWxsLCBoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFVua25vd24gaGFuZGxlciB0eXBlOiAke2hhbmRsZXIudHlwZX1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcnVuSGFuZGxlckZvckNhbGwoY2FsbCwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHlwZSB9ID0gaGFuZGxlcjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3VuYXJ5Jykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVVbmFyeShjYWxsLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2NsaWVudFN0cmVhbScpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2xpZW50U3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnc2VydmVyU3RyZWFtJykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXJ2ZXJTdHJlYW1pbmcoY2FsbCwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdiaWRpJykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVCaWRpU3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zZXR1cEhhbmRsZXJzKGh0dHAyU2VydmVyLCBleHRyYUludGVyY2VwdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChodHRwMlNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckFkZHJlc3MgPSBodHRwMlNlcnZlci5hZGRyZXNzKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNlcnZlckFkZHJlc3NTdHJpbmcgPSAnbnVsbCc7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZlckFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXJ2ZXJBZGRyZXNzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyQWRkcmVzc1N0cmluZyA9IHNlcnZlckFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJBZGRyZXNzU3RyaW5nID0gc2VydmVyQWRkcmVzcy5hZGRyZXNzICsgJzonICsgc2VydmVyQWRkcmVzcy5wb3J0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyQWRkcmVzc1N0cmluZyA9IHNlcnZlckFkZHJlc3NTdHJpbmc7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuY2hhbm5lbHpFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fY2hhbm5lbHpIYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fc3RyZWFtSGFuZGxlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSGFuZGxlciA9IHRoaXMuY2hhbm5lbHpFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fY2hhbm5lbHpTZXNzaW9uSGFuZGxlcihodHRwMlNlcnZlcilcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9zZXNzaW9uSGFuZGxlcihodHRwMlNlcnZlcik7XG4gICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIub24oJ3N0cmVhbScsIGhhbmRsZXIuYmluZCh0aGlzLCBleHRyYUludGVyY2VwdG9ycykpO1xuICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uKCdzZXNzaW9uJywgc2Vzc2lvbkhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3Nlc3Npb25IYW5kbGVyKGh0dHAyU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChodHRwMlNlcnZlcikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXNzaW9ucy5hZGQoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25uZWN0aW9uQWdlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQga2VlcGFsaXZlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVUaW1lb3V0T2JqID0gdGhpcy5lbmFibGVJZGxlVGltZW91dChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGEgcmFuZG9tIGppdHRlciB3aXRoaW4gYSArLy0xMCUgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGppdHRlck1hZ25pdHVkZSA9IHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zIC8gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqaXR0ZXIgPSBNYXRoLnJhbmRvbSgpICogaml0dGVyTWFnbml0dWRlICogMiAtIGppdHRlck1hZ25pdHVkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25BZ2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGRyb3BwZWQgYnkgbWF4IGNvbm5lY3Rpb24gYWdlOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChfYiA9IHNlc3Npb24uc29ja2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVtb3RlQWRkcmVzcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZ29hd2F5KGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX05PX0VSUk9SLCB+KDEgPDwgMzEpLCBrTWF4QWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGdvYXdheSBjYW4ndCBiZSBzZW50IGJlY2F1c2UgdGhlIHNlc3Npb24gaXMgYWxyZWFkeSBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEFsbG93IGEgZ3JhY2UgcGVyaW9kIGFmdGVyIHNlbmRpbmcgdGhlIEdPQVdBWSBiZWZvcmUgZm9yY2libHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBjbG9zaW5nIHRoZSBjb25uZWN0aW9uLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gY29ubmVjdGlvbkFnZUdyYWNlVGltZXIudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLm1heENvbm5lY3Rpb25BZ2VNcyArIGppdHRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2MgPSBjb25uZWN0aW9uQWdlVGltZXIudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGNvbm5lY3Rpb25BZ2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYXJLZWVwYWxpdmVUaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGtlZXBhbGl2ZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwYWxpdmVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhblNlbmRQaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICghc2Vzc2lvbi5kZXN0cm95ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA8IEtFRVBBTElWRV9NQVhfVElNRV9NUyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID4gMCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3QgKi9cbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbmRQaW5nOyAvLyBob2lzdGVkIGZvciB1c2UgaW4gbWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU3RhcnRpbmcga2VlcGFsaXZlIHRpbWVyIGZvciAnICsgdGhpcy5rZWVwYWxpdmVUaW1lTXMgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBhbGl2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMua2VlcGFsaXZlVGltZU1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IGtlZXBhbGl2ZVRpbWVyLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChrZWVwYWxpdmVUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNlbmRQaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU2VuZGluZyBwaW5nIHdpdGggdGltZW91dCAnICsgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwaW5nU2VuZEVycm9yID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbmdTZW50U3VjY2Vzc2Z1bGx5ID0gc2Vzc2lvbi5waW5nKChlcnIsIGR1cmF0aW9uLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIGZhaWxlZCB3aXRoIGVycm9yOiAnICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1JlY2VpdmVkIHBpbmcgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGluZ1NlbnRTdWNjZXNzZnVsbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9ICdQaW5nIHJldHVybmVkIGZhbHNlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdycGMvZ3JwYy1ub2RlIzIxMzlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW5nU2VuZEVycm9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICcnKSB8fCAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGluZ1NlbmRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1Bpbmcgc2VuZCBmYWlsZWQ6ICcgKyBwaW5nU2VuZEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGRyb3BwZWQgZHVlIHRvIHBpbmcgc2VuZCBlcnJvcjogJyArIHBpbmdTZW5kRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBhbGl2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyB0aW1lb3V0IHBhc3NlZCB3aXRob3V0IHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQ29ubmVjdGlvbiBkcm9wcGVkIGJ5IGtlZXBhbGl2ZSB0aW1lb3V0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBrZWVwYWxpdmVUaW1lci51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoa2VlcGFsaXZlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbkNsb3NlZEJ5U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZShgQ29ubmVjdGlvbiBkcm9wcGVkIGJ5IGNsaWVudCAkeyhfYiA9IHNlc3Npb24uc29ja2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVtb3RlQWRkcmVzc31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQWdlVGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvbkFnZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQWdlR3JhY2VUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uQWdlR3JhY2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iaiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpZGxlVGltZW91dE9iai50aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuZGVsZXRlKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gdGhpcy5odHRwMlNlcnZlcnMuZ2V0KGh0dHAyU2VydmVyKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNlc3Npb25zLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jaGFubmVselNlc3Npb25IYW5kbGVyKGh0dHAyU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSgoX2MgPSAoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3MpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICd1bmtub3duJywgdGhpcy5nZXRDaGFubmVselNlc3Npb25JbmZvLmJpbmQodGhpcywgc2Vzc2lvbiksIHRoaXMuY2hhbm5lbHpFbmFibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogY2hhbm5lbHpSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1UcmFja2VyOiBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1JlY2VpdmVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAoX2QgPSB0aGlzLmh0dHAyU2VydmVycy5nZXQoaHR0cDJTZXJ2ZXIpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Quc2Vzc2lvbnMuYWRkKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLnNldChzZXNzaW9uLCBjaGFubmVselNlc3Npb25JbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50QWRkcmVzcyA9IGAke3Nlc3Npb24uc29ja2V0LnJlbW90ZUFkZHJlc3N9OiR7c2Vzc2lvbi5zb2NrZXQucmVtb3RlUG9ydH1gO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ29ubmVjdGlvbiBlc3RhYmxpc2hlZCBieSBjbGllbnQgJyArIGNsaWVudEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGVzdGFibGlzaGVkIGJ5IGNsaWVudCAnICsgY2xpZW50QWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZChjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25uZWN0aW9uQWdlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQga2VlcGFsaXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRsZVRpbWVvdXRPYmogPSB0aGlzLmVuYWJsZUlkbGVUaW1lb3V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgIT09IFVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgYSByYW5kb20gaml0dGVyIHdpdGhpbiBhICsvLTEwJSByYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgaml0dGVyTWFnbml0dWRlID0gdGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgLyAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGppdHRlciA9IE1hdGgucmFuZG9tKCkgKiBqaXR0ZXJNYWduaXR1ZGUgKiAyIC0gaml0dGVyTWFnbml0dWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbkFnZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBieSBtYXggY29ubmVjdGlvbiBhZ2UgZnJvbSAnICsgY2xpZW50QWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5nb2F3YXkoaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1IsIH4oMSA8PCAzMSksIGtNYXhBZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZ29hd2F5IGNhbid0IGJlIHNlbnQgYmVjYXVzZSB0aGUgc2Vzc2lvbiBpcyBhbHJlYWR5IGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQWxsb3cgYSBncmFjZSBwZXJpb2QgYWZ0ZXIgc2VuZGluZyB0aGUgR09BV0FZIGJlZm9yZSBmb3JjaWJseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGNsb3NpbmcgdGhlIGNvbm5lY3Rpb24uICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4Q29ubmVjdGlvbkFnZUdyYWNlTXMgIT09IFVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uQWdlR3JhY2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMubWF4Q29ubmVjdGlvbkFnZUdyYWNlTXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBjb25uZWN0aW9uQWdlR3JhY2VUaW1lci51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zICsgaml0dGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZSA9IGNvbm5lY3Rpb25BZ2VUaW1lci51bnJlZikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoY29ubmVjdGlvbkFnZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhcktlZXBhbGl2ZVRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2VlcGFsaXZlVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChrZWVwYWxpdmVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwYWxpdmVUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuU2VuZFBpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCFzZXNzaW9uLmRlc3Ryb3llZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zIDwgS0VFUEFMSVZFX01BWF9USU1FX01TICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdCAqL1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2VuZFBpbmc7IC8vIGhvaXN0ZWQgZm9yIHVzZSBpbiBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhblNlbmRQaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdTdGFydGluZyBrZWVwYWxpdmUgdGltZXIgZm9yICcgKyB0aGlzLmtlZXBhbGl2ZVRpbWVNcyArICdtcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRQaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBrZWVwYWxpdmVUaW1lb3V0LnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChrZWVwYWxpdmVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFBpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhblNlbmRQaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdTZW5kaW5nIHBpbmcgd2l0aCB0aW1lb3V0ICcgKyB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyArICdtcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBpbmdTZW5kRXJyb3IgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGluZ1NlbnRTdWNjZXNzZnVsbHkgPSBzZXNzaW9uLnBpbmcoKGVyciwgZHVyYXRpb24sIHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgZmFpbGVkIHdpdGggZXJyb3I6ICcgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ29ubmVjdGlvbiBkcm9wcGVkIGR1ZSB0byBlcnJvciBvZiBhIHBpbmcgZnJhbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgcmV0dXJuIGluICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdSZWNlaXZlZCBwaW5nIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBpbmdTZW50U3VjY2Vzc2Z1bGx5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbmdTZW5kRXJyb3IgPSAnUGluZyByZXR1cm5lZCBmYWxzZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBncnBjL2dycGMtbm9kZSMyMTM5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiAnJykgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpbmdTZW5kRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIHNlbmQgZmFpbGVkOiAnICsgcGluZ1NlbmRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBkdWUgdG8gcGluZyBzZW5kIGVycm9yOiAnICsgcGluZ1NlbmRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5rZWVwQWxpdmVzU2VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgdGltZW91dCBwYXNzZWQgd2l0aG91dCByZXNwb25zZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aW9uIGRyb3BwZWQgYnkga2VlcGFsaXZlIHRpbWVvdXQgZnJvbSAnICsgY2xpZW50QWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBrZWVwYWxpdmVUaW1lb3V0LnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChrZWVwYWxpdmVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbkNsb3NlZEJ5U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBieSBjbGllbnQgJyArIGNsaWVudEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uQ2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKShjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbkFnZVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25BZ2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRsZVRpbWVvdXRPYmogIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVvdXRPYmoudGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXRzLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChodHRwMlNlcnZlcikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXNzaW9ucy5kZWxldGUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuYWJsZUlkbGVUaW1lb3V0KHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25JZGxlVGltZW91dCA+PSBNQVhfQ09OTkVDVElPTl9JRExFX01TKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpZGxlVGltZW91dE9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlU3RyZWFtczogMCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdElkbGU6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMub25TdHJlYW1DbG9zZS5iaW5kKHRoaXMsIHNlc3Npb24pLFxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBzZXRUaW1lb3V0KHRoaXMub25JZGxlVGltZW91dCwgdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXQsIHRoaXMsIHNlc3Npb24pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgKF9jID0gKF9iID0gaWRsZVRpbWVvdXRPYmoudGltZW91dCkudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuc2V0KHNlc3Npb24sIGlkbGVUaW1lb3V0T2JqKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNvY2tldCB9ID0gc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdFbmFibGUgaWRsZSB0aW1lb3V0IGZvciAnICtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW90ZUFkZHJlc3MgK1xuICAgICAgICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3RlUG9ydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkbGVUaW1lb3V0T2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25JZGxlVGltZW91dChjdHgsIHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNvY2tldCB9ID0gc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSW5mbyA9IGN0eC5zZXNzaW9uSWRsZVRpbWVvdXRzLmdldChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBjYWxsZWQgd2hpbGUgd2UgaGF2ZSBhY3RpdmVTdHJlYW1zIC0gdGltZXIgd2lsbCBub3QgYmUgcmVzY2hlZHVsZWRcbiAgICAgICAgICAgICAgICAvLyB1bnRpbCBsYXN0IGFjdGl2ZSBzdHJlYW0gaXMgY2xvc2VkLCB0aGVuIGl0IHdpbGwgY2FsbCAucmVmcmVzaCgpIG9uIHRoZSB0aW1lclxuICAgICAgICAgICAgICAgIC8vIGltcG9ydGFudCBwYXJ0IGlzIHRvIG5vdCBjbGVhclRpbWVvdXQodGltZXIpIG9yIGl0IGJlY29tZXMgdW51c2FibGVcbiAgICAgICAgICAgICAgICAvLyBmb3IgZnV0dXJlIHJlZnJlc2hlc1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uSW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25JbmZvLmFjdGl2ZVN0cmVhbXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBzZXNzaW9uSW5mby5sYXN0SWRsZSA+PSBjdHguc2Vzc2lvbklkbGVUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhY2UoJ1Nlc3Npb24gaWRsZSB0aW1lb3V0IHRyaWdnZXJlZCBmb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5yZW1vdGVBZGRyZXNzKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LnJlbW90ZVBvcnQpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGxhc3QgaWRsZSBhdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSW5mby5sYXN0SWRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguY2xvc2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkluZm8udGltZW91dC5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblN0cmVhbU9wZW5lZChzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gc3RyZWFtLnNlc3Npb247XG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZVRpbWVvdXRPYmogPSB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuZ2V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iaikge1xuICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai5hY3RpdmVTdHJlYW1zICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5vbmNlKCdjbG9zZScsIGlkbGVUaW1lb3V0T2JqLm9uQ2xvc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uU3RyZWFtQ2xvc2Uoc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZVRpbWVvdXRPYmogPSB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuZ2V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iaikge1xuICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai5hY3RpdmVTdHJlYW1zIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iai5hY3RpdmVTdHJlYW1zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai5sYXN0SWRsZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai50aW1lb3V0LnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1Nlc3Npb24gb25TdHJlYW1DbG9zZScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3MpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoX2MgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJlbW90ZVBvcnQpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGF0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lb3V0T2JqLmxhc3RJZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IF9tZXRhZGF0YSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wubWV0YWRhdGEgPyBPYmplY3QuY3JlYXRlKG51bGwpIDogdm9pZCAwO1xuICAgICAgICAgICAgX3N0YXJ0X2RlY29yYXRvcnMgPSBbZGVwcmVjYXRlKCdDYWxsaW5nIHN0YXJ0KCkgaXMgbm8gbG9uZ2VyIG5lY2Vzc2FyeS4gSXQgY2FuIGJlIHNhZmVseSBvbWl0dGVkLicpXTtcbiAgICAgICAgICAgIF9fZXNEZWNvcmF0ZShfYSwgbnVsbCwgX3N0YXJ0X2RlY29yYXRvcnMsIHsga2luZDogXCJtZXRob2RcIiwgbmFtZTogXCJzdGFydFwiLCBzdGF0aWM6IGZhbHNlLCBwcml2YXRlOiBmYWxzZSwgYWNjZXNzOiB7IGhhczogb2JqID0+IFwic3RhcnRcIiBpbiBvYmosIGdldDogb2JqID0+IG9iai5zdGFydCB9LCBtZXRhZGF0YTogX21ldGFkYXRhIH0sIG51bGwsIF9pbnN0YW5jZUV4dHJhSW5pdGlhbGl6ZXJzKTtcbiAgICAgICAgICAgIGlmIChfbWV0YWRhdGEpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYSwgU3ltYm9sLm1ldGFkYXRhLCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiBfbWV0YWRhdGEgfSk7XG4gICAgICAgIH0pKCksXG4gICAgICAgIF9hO1xufSkoKTtcbmV4cG9ydHMuU2VydmVyID0gU2VydmVyO1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlVW5hcnkoY2FsbCwgaGFuZGxlcikge1xuICAgIGxldCBzdHJlYW07XG4gICAgZnVuY3Rpb24gcmVzcG9uZChlcnIsIHZhbHVlLCB0cmFpbGVyLCBmbGFncykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoKDAsIHNlcnZlcl9jYWxsXzEuc2VydmVyRXJyb3JUb1N0YXR1cykoZXJyLCB0cmFpbGVyKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbC5zZW5kTWVzc2FnZSh2YWx1ZSwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgICAgICAgICAgICAgZGV0YWlsczogJ09LJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogdHJhaWxlciAhPT0gbnVsbCAmJiB0cmFpbGVyICE9PSB2b2lkIDAgPyB0cmFpbGVyIDogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHJlcXVlc3RNZXRhZGF0YTtcbiAgICBsZXQgcmVxdWVzdE1lc3NhZ2UgPSBudWxsO1xuICAgIGNhbGwuc3RhcnQoe1xuICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgcmVxdWVzdE1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBjYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgYSBzZWNvbmQgcmVxdWVzdCBtZXNzYWdlIGZvciBzZXJ2ZXIgc3RyZWFtaW5nIG1ldGhvZCAke2hhbmRsZXIucGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0TWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICBjYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVIYWxmQ2xvc2UoKSB7XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBubyByZXF1ZXN0IG1lc3NhZ2UgZm9yIHNlcnZlciBzdHJlYW1pbmcgbWV0aG9kICR7aGFuZGxlci5wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBzZXJ2ZXJfY2FsbF8xLlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbChoYW5kbGVyLnBhdGgsIGNhbGwsIHJlcXVlc3RNZXRhZGF0YSwgcmVxdWVzdE1lc3NhZ2UpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtLCByZXNwb25kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFNlcnZlciBtZXRob2QgaGFuZGxlciB0aHJldyBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnY2FuY2VsbGVkJywgJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gaGFuZGxlQ2xpZW50U3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpIHtcbiAgICBsZXQgc3RyZWFtO1xuICAgIGZ1bmN0aW9uIHJlc3BvbmQoZXJyLCB2YWx1ZSwgdHJhaWxlciwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKCgwLCBzZXJ2ZXJfY2FsbF8xLnNlcnZlckVycm9yVG9TdGF0dXMpKGVyciwgdHJhaWxlcikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGwuc2VuZE1lc3NhZ2UodmFsdWUsICgpID0+IHtcbiAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdPSycsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHRyYWlsZXIgIT09IG51bGwgJiYgdHJhaWxlciAhPT0gdm9pZCAwID8gdHJhaWxlciA6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbGwuc3RhcnQoe1xuICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgc3RyZWFtID0gbmV3IHNlcnZlcl9jYWxsXzEuU2VydmVyRHVwbGV4U3RyZWFtSW1wbChoYW5kbGVyLnBhdGgsIGNhbGwsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5mdW5jKHN0cmVhbSwgcmVzcG9uZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBTZXJ2ZXIgbWV0aG9kIGhhbmRsZXIgdGhyZXcgZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICBzdHJlYW0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlSGFsZkNsb3NlKCkge1xuICAgICAgICAgICAgc3RyZWFtLnB1c2gobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsKCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdjYW5jZWxsZWQnLCAnY2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVNlcnZlclN0cmVhbWluZyhjYWxsLCBoYW5kbGVyKSB7XG4gICAgbGV0IHN0cmVhbTtcbiAgICBsZXQgcmVxdWVzdE1ldGFkYXRhO1xuICAgIGxldCByZXF1ZXN0TWVzc2FnZSA9IG51bGw7XG4gICAgY2FsbC5zdGFydCh7XG4gICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICByZXF1ZXN0TWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgIGNhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBhIHNlY29uZCByZXF1ZXN0IG1lc3NhZ2UgZm9yIHNlcnZlciBzdHJlYW1pbmcgbWV0aG9kICR7aGFuZGxlci5wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgIGNhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVjZWl2ZUhhbGZDbG9zZSgpIHtcbiAgICAgICAgICAgIGlmICghcmVxdWVzdE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIG5vIHJlcXVlc3QgbWVzc2FnZSBmb3Igc2VydmVyIHN0cmVhbWluZyBtZXRob2QgJHtoYW5kbGVyLnBhdGh9YCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyZWFtID0gbmV3IHNlcnZlcl9jYWxsXzEuU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsKGhhbmRsZXIucGF0aCwgY2FsbCwgcmVxdWVzdE1ldGFkYXRhLCByZXF1ZXN0TWVzc2FnZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZnVuYyhzdHJlYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgU2VydmVyIG1ldGhvZCBoYW5kbGVyIHRocmV3IGVycm9yICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsKCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdjYW5jZWxsZWQnLCAnY2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUJpZGlTdHJlYW1pbmcoY2FsbCwgaGFuZGxlcikge1xuICAgIGxldCBzdHJlYW07XG4gICAgY2FsbC5zdGFydCh7XG4gICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICBzdHJlYW0gPSBuZXcgc2VydmVyX2NhbGxfMS5TZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsKGhhbmRsZXIucGF0aCwgY2FsbCwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFNlcnZlciBtZXRob2QgaGFuZGxlciB0aHJldyBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHN0cmVhbS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVIYWxmQ2xvc2UoKSB7XG4gICAgICAgICAgICBzdHJlYW0ucHVzaChudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DYW5jZWwoKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2NhbmNlbGxlZCcsICdjYW5jZWxsZWQnKTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.validateRetryThrottling = validateRetryThrottling;\nexports.validateServiceConfig = validateServiceConfig;\nexports.extractAndSelectServiceConfig = extractAndSelectServiceConfig;\n/* This file implements gRFC A2 and the service config spec:\n * https://github.com/grpc/proposal/blob/master/A2-service-configs-in-dns.md\n * https://github.com/grpc/grpc/blob/master/doc/service_config.md. Each\n * function here takes an object with unknown structure and returns its\n * specific object type if the input has the right structure, and throws an\n * error otherwise. */\n/* The any type is purposely used here. All functions validate their input at\n * runtime */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst os = __webpack_require__(/*! os */ \"os\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n/**\n * Recognizes a number with up to 9 digits after the decimal point, followed by\n * an \"s\", representing a number of seconds.\n */\nconst DURATION_REGEX = /^\\d+(\\.\\d{1,9})?s$/;\n/**\n * Client language name used for determining whether this client matches a\n * `ServiceConfigCanaryConfig`'s `clientLanguage` list.\n */\nconst CLIENT_LANGUAGE_STRING = 'node';\nfunction validateName(obj) {\n    // In this context, and unset field and '' are considered the same\n    if ('service' in obj && obj.service !== '') {\n        if (typeof obj.service !== 'string') {\n            throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof obj.service}`);\n        }\n        if ('method' in obj && obj.method !== '') {\n            if (typeof obj.method !== 'string') {\n                throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof obj.service}`);\n            }\n            return {\n                service: obj.service,\n                method: obj.method,\n            };\n        }\n        else {\n            return {\n                service: obj.service,\n            };\n        }\n    }\n    else {\n        if ('method' in obj && obj.method !== undefined) {\n            throw new Error(`Invalid method config name: method set with empty or unset service`);\n        }\n        return {};\n    }\n}\nfunction validateRetryPolicy(obj) {\n    if (!('maxAttempts' in obj) ||\n        !Number.isInteger(obj.maxAttempts) ||\n        obj.maxAttempts < 2) {\n        throw new Error('Invalid method config retry policy: maxAttempts must be an integer at least 2');\n    }\n    if (!('initialBackoff' in obj) ||\n        typeof obj.initialBackoff !== 'string' ||\n        !DURATION_REGEX.test(obj.initialBackoff)) {\n        throw new Error('Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s');\n    }\n    if (!('maxBackoff' in obj) ||\n        typeof obj.maxBackoff !== 'string' ||\n        !DURATION_REGEX.test(obj.maxBackoff)) {\n        throw new Error('Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s');\n    }\n    if (!('backoffMultiplier' in obj) ||\n        typeof obj.backoffMultiplier !== 'number' ||\n        obj.backoffMultiplier <= 0) {\n        throw new Error('Invalid method config retry policy: backoffMultiplier must be a number greater than 0');\n    }\n    if (!('retryableStatusCodes' in obj && Array.isArray(obj.retryableStatusCodes))) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes is required');\n    }\n    if (obj.retryableStatusCodes.length === 0) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes must be non-empty');\n    }\n    for (const value of obj.retryableStatusCodes) {\n        if (typeof value === 'number') {\n            if (!Object.values(constants_1.Status).includes(value)) {\n                throw new Error('Invalid method config retry policy: retryableStatusCodes value not in status code range');\n            }\n        }\n        else if (typeof value === 'string') {\n            if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n                throw new Error('Invalid method config retry policy: retryableStatusCodes value not a status code name');\n            }\n        }\n        else {\n            throw new Error('Invalid method config retry policy: retryableStatusCodes value must be a string or number');\n        }\n    }\n    return {\n        maxAttempts: obj.maxAttempts,\n        initialBackoff: obj.initialBackoff,\n        maxBackoff: obj.maxBackoff,\n        backoffMultiplier: obj.backoffMultiplier,\n        retryableStatusCodes: obj.retryableStatusCodes,\n    };\n}\nfunction validateHedgingPolicy(obj) {\n    if (!('maxAttempts' in obj) ||\n        !Number.isInteger(obj.maxAttempts) ||\n        obj.maxAttempts < 2) {\n        throw new Error('Invalid method config hedging policy: maxAttempts must be an integer at least 2');\n    }\n    if ('hedgingDelay' in obj &&\n        (typeof obj.hedgingDelay !== 'string' ||\n            !DURATION_REGEX.test(obj.hedgingDelay))) {\n        throw new Error('Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s');\n    }\n    if ('nonFatalStatusCodes' in obj && Array.isArray(obj.nonFatalStatusCodes)) {\n        for (const value of obj.nonFatalStatusCodes) {\n            if (typeof value === 'number') {\n                if (!Object.values(constants_1.Status).includes(value)) {\n                    throw new Error('Invalid method config hedging policy: nonFatalStatusCodes value not in status code range');\n                }\n            }\n            else if (typeof value === 'string') {\n                if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n                    throw new Error('Invalid method config hedging policy: nonFatalStatusCodes value not a status code name');\n                }\n            }\n            else {\n                throw new Error('Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number');\n            }\n        }\n    }\n    const result = {\n        maxAttempts: obj.maxAttempts,\n    };\n    if (obj.hedgingDelay) {\n        result.hedgingDelay = obj.hedgingDelay;\n    }\n    if (obj.nonFatalStatusCodes) {\n        result.nonFatalStatusCodes = obj.nonFatalStatusCodes;\n    }\n    return result;\n}\nfunction validateMethodConfig(obj) {\n    var _a;\n    const result = {\n        name: [],\n    };\n    if (!('name' in obj) || !Array.isArray(obj.name)) {\n        throw new Error('Invalid method config: invalid name array');\n    }\n    for (const name of obj.name) {\n        result.name.push(validateName(name));\n    }\n    if ('waitForReady' in obj) {\n        if (typeof obj.waitForReady !== 'boolean') {\n            throw new Error('Invalid method config: invalid waitForReady');\n        }\n        result.waitForReady = obj.waitForReady;\n    }\n    if ('timeout' in obj) {\n        if (typeof obj.timeout === 'object') {\n            if (!('seconds' in obj.timeout) ||\n                !(typeof obj.timeout.seconds === 'number')) {\n                throw new Error('Invalid method config: invalid timeout.seconds');\n            }\n            if (!('nanos' in obj.timeout) ||\n                !(typeof obj.timeout.nanos === 'number')) {\n                throw new Error('Invalid method config: invalid timeout.nanos');\n            }\n            result.timeout = obj.timeout;\n        }\n        else if (typeof obj.timeout === 'string' &&\n            DURATION_REGEX.test(obj.timeout)) {\n            const timeoutParts = obj.timeout\n                .substring(0, obj.timeout.length - 1)\n                .split('.');\n            result.timeout = {\n                seconds: timeoutParts[0] | 0,\n                nanos: ((_a = timeoutParts[1]) !== null && _a !== void 0 ? _a : 0) | 0,\n            };\n        }\n        else {\n            throw new Error('Invalid method config: invalid timeout');\n        }\n    }\n    if ('maxRequestBytes' in obj) {\n        if (typeof obj.maxRequestBytes !== 'number') {\n            throw new Error('Invalid method config: invalid maxRequestBytes');\n        }\n        result.maxRequestBytes = obj.maxRequestBytes;\n    }\n    if ('maxResponseBytes' in obj) {\n        if (typeof obj.maxResponseBytes !== 'number') {\n            throw new Error('Invalid method config: invalid maxRequestBytes');\n        }\n        result.maxResponseBytes = obj.maxResponseBytes;\n    }\n    if ('retryPolicy' in obj) {\n        if ('hedgingPolicy' in obj) {\n            throw new Error('Invalid method config: retryPolicy and hedgingPolicy cannot both be specified');\n        }\n        else {\n            result.retryPolicy = validateRetryPolicy(obj.retryPolicy);\n        }\n    }\n    else if ('hedgingPolicy' in obj) {\n        result.hedgingPolicy = validateHedgingPolicy(obj.hedgingPolicy);\n    }\n    return result;\n}\nfunction validateRetryThrottling(obj) {\n    if (!('maxTokens' in obj) ||\n        typeof obj.maxTokens !== 'number' ||\n        obj.maxTokens <= 0 ||\n        obj.maxTokens > 1000) {\n        throw new Error('Invalid retryThrottling: maxTokens must be a number in (0, 1000]');\n    }\n    if (!('tokenRatio' in obj) ||\n        typeof obj.tokenRatio !== 'number' ||\n        obj.tokenRatio <= 0) {\n        throw new Error('Invalid retryThrottling: tokenRatio must be a number greater than 0');\n    }\n    return {\n        maxTokens: +obj.maxTokens.toFixed(3),\n        tokenRatio: +obj.tokenRatio.toFixed(3),\n    };\n}\nfunction validateLoadBalancingConfig(obj) {\n    if (!(typeof obj === 'object' && obj !== null)) {\n        throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof obj}`);\n    }\n    const keys = Object.keys(obj);\n    if (keys.length > 1) {\n        throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${keys}`);\n    }\n    if (keys.length === 0) {\n        throw new Error('Invalid loadBalancingConfig: load balancing policy name required');\n    }\n    return {\n        [keys[0]]: obj[keys[0]],\n    };\n}\nfunction validateServiceConfig(obj) {\n    const result = {\n        loadBalancingConfig: [],\n        methodConfig: [],\n    };\n    if ('loadBalancingPolicy' in obj) {\n        if (typeof obj.loadBalancingPolicy === 'string') {\n            result.loadBalancingPolicy = obj.loadBalancingPolicy;\n        }\n        else {\n            throw new Error('Invalid service config: invalid loadBalancingPolicy');\n        }\n    }\n    if ('loadBalancingConfig' in obj) {\n        if (Array.isArray(obj.loadBalancingConfig)) {\n            for (const config of obj.loadBalancingConfig) {\n                result.loadBalancingConfig.push(validateLoadBalancingConfig(config));\n            }\n        }\n        else {\n            throw new Error('Invalid service config: invalid loadBalancingConfig');\n        }\n    }\n    if ('methodConfig' in obj) {\n        if (Array.isArray(obj.methodConfig)) {\n            for (const methodConfig of obj.methodConfig) {\n                result.methodConfig.push(validateMethodConfig(methodConfig));\n            }\n        }\n    }\n    if ('retryThrottling' in obj) {\n        result.retryThrottling = validateRetryThrottling(obj.retryThrottling);\n    }\n    // Validate method name uniqueness\n    const seenMethodNames = [];\n    for (const methodConfig of result.methodConfig) {\n        for (const name of methodConfig.name) {\n            for (const seenName of seenMethodNames) {\n                if (name.service === seenName.service &&\n                    name.method === seenName.method) {\n                    throw new Error(`Invalid service config: duplicate name ${name.service}/${name.method}`);\n                }\n            }\n            seenMethodNames.push(name);\n        }\n    }\n    return result;\n}\nfunction validateCanaryConfig(obj) {\n    if (!('serviceConfig' in obj)) {\n        throw new Error('Invalid service config choice: missing service config');\n    }\n    const result = {\n        serviceConfig: validateServiceConfig(obj.serviceConfig),\n    };\n    if ('clientLanguage' in obj) {\n        if (Array.isArray(obj.clientLanguage)) {\n            result.clientLanguage = [];\n            for (const lang of obj.clientLanguage) {\n                if (typeof lang === 'string') {\n                    result.clientLanguage.push(lang);\n                }\n                else {\n                    throw new Error('Invalid service config choice: invalid clientLanguage');\n                }\n            }\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid clientLanguage');\n        }\n    }\n    if ('clientHostname' in obj) {\n        if (Array.isArray(obj.clientHostname)) {\n            result.clientHostname = [];\n            for (const lang of obj.clientHostname) {\n                if (typeof lang === 'string') {\n                    result.clientHostname.push(lang);\n                }\n                else {\n                    throw new Error('Invalid service config choice: invalid clientHostname');\n                }\n            }\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid clientHostname');\n        }\n    }\n    if ('percentage' in obj) {\n        if (typeof obj.percentage === 'number' &&\n            0 <= obj.percentage &&\n            obj.percentage <= 100) {\n            result.percentage = obj.percentage;\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid percentage');\n        }\n    }\n    // Validate that no unexpected fields are present\n    const allowedFields = [\n        'clientLanguage',\n        'percentage',\n        'clientHostname',\n        'serviceConfig',\n    ];\n    for (const field in obj) {\n        if (!allowedFields.includes(field)) {\n            throw new Error(`Invalid service config choice: unexpected field ${field}`);\n        }\n    }\n    return result;\n}\nfunction validateAndSelectCanaryConfig(obj, percentage) {\n    if (!Array.isArray(obj)) {\n        throw new Error('Invalid service config list');\n    }\n    for (const config of obj) {\n        const validatedConfig = validateCanaryConfig(config);\n        /* For each field, we check if it is present, then only discard the\n         * config if the field value does not match the current client */\n        if (typeof validatedConfig.percentage === 'number' &&\n            percentage > validatedConfig.percentage) {\n            continue;\n        }\n        if (Array.isArray(validatedConfig.clientHostname)) {\n            let hostnameMatched = false;\n            for (const hostname of validatedConfig.clientHostname) {\n                if (hostname === os.hostname()) {\n                    hostnameMatched = true;\n                }\n            }\n            if (!hostnameMatched) {\n                continue;\n            }\n        }\n        if (Array.isArray(validatedConfig.clientLanguage)) {\n            let languageMatched = false;\n            for (const language of validatedConfig.clientLanguage) {\n                if (language === CLIENT_LANGUAGE_STRING) {\n                    languageMatched = true;\n                }\n            }\n            if (!languageMatched) {\n                continue;\n            }\n        }\n        return validatedConfig.serviceConfig;\n    }\n    throw new Error('No matching service config found');\n}\n/**\n * Find the \"grpc_config\" record among the TXT records, parse its value as JSON, validate its contents,\n * and select a service config with selection fields that all match this client. Most of these steps\n * can fail with an error; the caller must handle any errors thrown this way.\n * @param txtRecord The TXT record array that is output from a successful call to dns.resolveTxt\n * @param percentage A number chosen from the range [0, 100) that is used to select which config to use\n * @return The service configuration to use, given the percentage value, or null if the service config\n *     data has a valid format but none of the options match the current client.\n */\nfunction extractAndSelectServiceConfig(txtRecord, percentage) {\n    for (const record of txtRecord) {\n        if (record.length > 0 && record[0].startsWith('grpc_config=')) {\n            /* Treat the list of strings in this record as a single string and remove\n             * \"grpc_config=\" from the beginning. The rest should be a JSON string */\n            const recordString = record.join('').substring('grpc_config='.length);\n            const recordJson = JSON.parse(recordString);\n            return validateAndSelectCanaryConfig(recordJson, percentage);\n        }\n    }\n    return null;\n}\n//# sourceMappingURL=service-config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2aWNlLWNvbmZpZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQjtBQUMvQiw2QkFBNkI7QUFDN0IscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLElBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHLG1CQUFtQjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsbUJBQW1CO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxXQUFXO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixLQUFLO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxhQUFhLEdBQUcsWUFBWTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLE1BQU07QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NlcnZpY2UtY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZhbGlkYXRlUmV0cnlUaHJvdHRsaW5nID0gdmFsaWRhdGVSZXRyeVRocm90dGxpbmc7XG5leHBvcnRzLnZhbGlkYXRlU2VydmljZUNvbmZpZyA9IHZhbGlkYXRlU2VydmljZUNvbmZpZztcbmV4cG9ydHMuZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWcgPSBleHRyYWN0QW5kU2VsZWN0U2VydmljZUNvbmZpZztcbi8qIFRoaXMgZmlsZSBpbXBsZW1lbnRzIGdSRkMgQTIgYW5kIHRoZSBzZXJ2aWNlIGNvbmZpZyBzcGVjOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvcHJvcG9zYWwvYmxvYi9tYXN0ZXIvQTItc2VydmljZS1jb25maWdzLWluLWRucy5tZFxuICogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL21hc3Rlci9kb2Mvc2VydmljZV9jb25maWcubWQuIEVhY2hcbiAqIGZ1bmN0aW9uIGhlcmUgdGFrZXMgYW4gb2JqZWN0IHdpdGggdW5rbm93biBzdHJ1Y3R1cmUgYW5kIHJldHVybnMgaXRzXG4gKiBzcGVjaWZpYyBvYmplY3QgdHlwZSBpZiB0aGUgaW5wdXQgaGFzIHRoZSByaWdodCBzdHJ1Y3R1cmUsIGFuZCB0aHJvd3MgYW5cbiAqIGVycm9yIG90aGVyd2lzZS4gKi9cbi8qIFRoZSBhbnkgdHlwZSBpcyBwdXJwb3NlbHkgdXNlZCBoZXJlLiBBbGwgZnVuY3Rpb25zIHZhbGlkYXRlIHRoZWlyIGlucHV0IGF0XG4gKiBydW50aW1lICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5jb25zdCBvcyA9IHJlcXVpcmUoXCJvc1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuLyoqXG4gKiBSZWNvZ25pemVzIGEgbnVtYmVyIHdpdGggdXAgdG8gOSBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQsIGZvbGxvd2VkIGJ5XG4gKiBhbiBcInNcIiwgcmVwcmVzZW50aW5nIGEgbnVtYmVyIG9mIHNlY29uZHMuXG4gKi9cbmNvbnN0IERVUkFUSU9OX1JFR0VYID0gL15cXGQrKFxcLlxcZHsxLDl9KT9zJC87XG4vKipcbiAqIENsaWVudCBsYW5ndWFnZSBuYW1lIHVzZWQgZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGhpcyBjbGllbnQgbWF0Y2hlcyBhXG4gKiBgU2VydmljZUNvbmZpZ0NhbmFyeUNvbmZpZ2AncyBgY2xpZW50TGFuZ3VhZ2VgIGxpc3QuXG4gKi9cbmNvbnN0IENMSUVOVF9MQU5HVUFHRV9TVFJJTkcgPSAnbm9kZSc7XG5mdW5jdGlvbiB2YWxpZGF0ZU5hbWUob2JqKSB7XG4gICAgLy8gSW4gdGhpcyBjb250ZXh0LCBhbmQgdW5zZXQgZmllbGQgYW5kICcnIGFyZSBjb25zaWRlcmVkIHRoZSBzYW1lXG4gICAgaWYgKCdzZXJ2aWNlJyBpbiBvYmogJiYgb2JqLnNlcnZpY2UgIT09ICcnKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLnNlcnZpY2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWV0aG9kIGNvbmZpZyBuYW1lOiBpbnZhbGlkIHNlcnZpY2U6IGV4cGVjdGVkIHR5cGUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb2JqLnNlcnZpY2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdtZXRob2QnIGluIG9iaiAmJiBvYmoubWV0aG9kICE9PSAnJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmoubWV0aG9kICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtZXRob2QgY29uZmlnIG5hbWU6IGludmFsaWQgbWV0aG9kOiBleHBlY3RlZCB0eXBlIHN0cmluZywgZ290ICR7dHlwZW9mIG9iai5zZXJ2aWNlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBvYmouc2VydmljZSxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IG9iai5tZXRob2QsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBvYmouc2VydmljZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICgnbWV0aG9kJyBpbiBvYmogJiYgb2JqLm1ldGhvZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWV0aG9kIGNvbmZpZyBuYW1lOiBtZXRob2Qgc2V0IHdpdGggZW1wdHkgb3IgdW5zZXQgc2VydmljZWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVJldHJ5UG9saWN5KG9iaikge1xuICAgIGlmICghKCdtYXhBdHRlbXB0cycgaW4gb2JqKSB8fFxuICAgICAgICAhTnVtYmVyLmlzSW50ZWdlcihvYmoubWF4QXR0ZW1wdHMpIHx8XG4gICAgICAgIG9iai5tYXhBdHRlbXB0cyA8IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiBtYXhBdHRlbXB0cyBtdXN0IGJlIGFuIGludGVnZXIgYXQgbGVhc3QgMicpO1xuICAgIH1cbiAgICBpZiAoISgnaW5pdGlhbEJhY2tvZmYnIGluIG9iaikgfHxcbiAgICAgICAgdHlwZW9mIG9iai5pbml0aWFsQmFja29mZiAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgIURVUkFUSU9OX1JFR0VYLnRlc3Qob2JqLmluaXRpYWxCYWNrb2ZmKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyByZXRyeSBwb2xpY3k6IGluaXRpYWxCYWNrb2ZmIG11c3QgYmUgYSBzdHJpbmcgY29uc2lzdGluZyBvZiBhIHBvc2l0aXZlIGludGVnZXIgb3IgZGVjaW1hbCBmb2xsb3dlZCBieSBzJyk7XG4gICAgfVxuICAgIGlmICghKCdtYXhCYWNrb2ZmJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmoubWF4QmFja29mZiAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgIURVUkFUSU9OX1JFR0VYLnRlc3Qob2JqLm1heEJhY2tvZmYpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogbWF4QmFja29mZiBtdXN0IGJlIGEgc3RyaW5nIGNvbnNpc3Rpbmcgb2YgYSBwb3NpdGl2ZSBpbnRlZ2VyIG9yIGRlY2ltYWwgZm9sbG93ZWQgYnkgcycpO1xuICAgIH1cbiAgICBpZiAoISgnYmFja29mZk11bHRpcGxpZXInIGluIG9iaikgfHxcbiAgICAgICAgdHlwZW9mIG9iai5iYWNrb2ZmTXVsdGlwbGllciAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgb2JqLmJhY2tvZmZNdWx0aXBsaWVyIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiBiYWNrb2ZmTXVsdGlwbGllciBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgfVxuICAgIGlmICghKCdyZXRyeWFibGVTdGF0dXNDb2RlcycgaW4gb2JqICYmIEFycmF5LmlzQXJyYXkob2JqLnJldHJ5YWJsZVN0YXR1c0NvZGVzKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgICBpZiAob2JqLnJldHJ5YWJsZVN0YXR1c0NvZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyByZXRyeSBwb2xpY3k6IHJldHJ5YWJsZVN0YXR1c0NvZGVzIG11c3QgYmUgbm9uLWVtcHR5Jyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgdmFsdWUgb2Ygb2JqLnJldHJ5YWJsZVN0YXR1c0NvZGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoY29uc3RhbnRzXzEuU3RhdHVzKS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyByZXRyeSBwb2xpY3k6IHJldHJ5YWJsZVN0YXR1c0NvZGVzIHZhbHVlIG5vdCBpbiBzdGF0dXMgY29kZSByYW5nZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnZhbHVlcyhjb25zdGFudHNfMS5TdGF0dXMpLmluY2x1ZGVzKHZhbHVlLnRvVXBwZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyB2YWx1ZSBub3QgYSBzdGF0dXMgY29kZSBuYW1lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyByZXRyeSBwb2xpY3k6IHJldHJ5YWJsZVN0YXR1c0NvZGVzIHZhbHVlIG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWF4QXR0ZW1wdHM6IG9iai5tYXhBdHRlbXB0cyxcbiAgICAgICAgaW5pdGlhbEJhY2tvZmY6IG9iai5pbml0aWFsQmFja29mZixcbiAgICAgICAgbWF4QmFja29mZjogb2JqLm1heEJhY2tvZmYsXG4gICAgICAgIGJhY2tvZmZNdWx0aXBsaWVyOiBvYmouYmFja29mZk11bHRpcGxpZXIsXG4gICAgICAgIHJldHJ5YWJsZVN0YXR1c0NvZGVzOiBvYmoucmV0cnlhYmxlU3RhdHVzQ29kZXMsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlSGVkZ2luZ1BvbGljeShvYmopIHtcbiAgICBpZiAoISgnbWF4QXR0ZW1wdHMnIGluIG9iaikgfHxcbiAgICAgICAgIU51bWJlci5pc0ludGVnZXIob2JqLm1heEF0dGVtcHRzKSB8fFxuICAgICAgICBvYmoubWF4QXR0ZW1wdHMgPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIGhlZGdpbmcgcG9saWN5OiBtYXhBdHRlbXB0cyBtdXN0IGJlIGFuIGludGVnZXIgYXQgbGVhc3QgMicpO1xuICAgIH1cbiAgICBpZiAoJ2hlZGdpbmdEZWxheScgaW4gb2JqICYmXG4gICAgICAgICh0eXBlb2Ygb2JqLmhlZGdpbmdEZWxheSAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgICFEVVJBVElPTl9SRUdFWC50ZXN0KG9iai5oZWRnaW5nRGVsYXkpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogaGVkZ2luZ0RlbGF5IG11c3QgYmUgYSBzdHJpbmcgY29uc2lzdGluZyBvZiBhIHBvc2l0aXZlIGludGVnZXIgZm9sbG93ZWQgYnkgcycpO1xuICAgIH1cbiAgICBpZiAoJ25vbkZhdGFsU3RhdHVzQ29kZXMnIGluIG9iaiAmJiBBcnJheS5pc0FycmF5KG9iai5ub25GYXRhbFN0YXR1c0NvZGVzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIG9iai5ub25GYXRhbFN0YXR1c0NvZGVzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LnZhbHVlcyhjb25zdGFudHNfMS5TdGF0dXMpLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbm9uRmF0YWxTdGF0dXNDb2RlcyB2YWx1ZSBub3QgaW4gc3RhdHVzIGNvZGUgcmFuZ2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKGNvbnN0YW50c18xLlN0YXR1cykuaW5jbHVkZXModmFsdWUudG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgaGVkZ2luZyBwb2xpY3k6IG5vbkZhdGFsU3RhdHVzQ29kZXMgdmFsdWUgbm90IGEgc3RhdHVzIGNvZGUgbmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIGhlZGdpbmcgcG9saWN5OiBub25GYXRhbFN0YXR1c0NvZGVzIHZhbHVlIG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBtYXhBdHRlbXB0czogb2JqLm1heEF0dGVtcHRzLFxuICAgIH07XG4gICAgaWYgKG9iai5oZWRnaW5nRGVsYXkpIHtcbiAgICAgICAgcmVzdWx0LmhlZGdpbmdEZWxheSA9IG9iai5oZWRnaW5nRGVsYXk7XG4gICAgfVxuICAgIGlmIChvYmoubm9uRmF0YWxTdGF0dXNDb2Rlcykge1xuICAgICAgICByZXN1bHQubm9uRmF0YWxTdGF0dXNDb2RlcyA9IG9iai5ub25GYXRhbFN0YXR1c0NvZGVzO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVNZXRob2RDb25maWcob2JqKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogW10sXG4gICAgfTtcbiAgICBpZiAoISgnbmFtZScgaW4gb2JqKSB8fCAhQXJyYXkuaXNBcnJheShvYmoubmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgbmFtZSBhcnJheScpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG5hbWUgb2Ygb2JqLm5hbWUpIHtcbiAgICAgICAgcmVzdWx0Lm5hbWUucHVzaCh2YWxpZGF0ZU5hbWUobmFtZSkpO1xuICAgIH1cbiAgICBpZiAoJ3dhaXRGb3JSZWFkeScgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLndhaXRGb3JSZWFkeSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB3YWl0Rm9yUmVhZHknKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQud2FpdEZvclJlYWR5ID0gb2JqLndhaXRGb3JSZWFkeTtcbiAgICB9XG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoudGltZW91dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICghKCdzZWNvbmRzJyBpbiBvYmoudGltZW91dCkgfHxcbiAgICAgICAgICAgICAgICAhKHR5cGVvZiBvYmoudGltZW91dC5zZWNvbmRzID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB0aW1lb3V0LnNlY29uZHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKCduYW5vcycgaW4gb2JqLnRpbWVvdXQpIHx8XG4gICAgICAgICAgICAgICAgISh0eXBlb2Ygb2JqLnRpbWVvdXQubmFub3MgPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIHRpbWVvdXQubmFub3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC50aW1lb3V0ID0gb2JqLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iai50aW1lb3V0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgRFVSQVRJT05fUkVHRVgudGVzdChvYmoudGltZW91dCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRQYXJ0cyA9IG9iai50aW1lb3V0XG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZygwLCBvYmoudGltZW91dC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgcmVzdWx0LnRpbWVvdXQgPSB7XG4gICAgICAgICAgICAgICAgc2Vjb25kczogdGltZW91dFBhcnRzWzBdIHwgMCxcbiAgICAgICAgICAgICAgICBuYW5vczogKChfYSA9IHRpbWVvdXRQYXJ0c1sxXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgfCAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIHRpbWVvdXQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ21heFJlcXVlc3RCeXRlcycgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLm1heFJlcXVlc3RCeXRlcyAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIG1heFJlcXVlc3RCeXRlcycpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5tYXhSZXF1ZXN0Qnl0ZXMgPSBvYmoubWF4UmVxdWVzdEJ5dGVzO1xuICAgIH1cbiAgICBpZiAoJ21heFJlc3BvbnNlQnl0ZXMnIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai5tYXhSZXNwb25zZUJ5dGVzICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgbWF4UmVxdWVzdEJ5dGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Lm1heFJlc3BvbnNlQnl0ZXMgPSBvYmoubWF4UmVzcG9uc2VCeXRlcztcbiAgICB9XG4gICAgaWYgKCdyZXRyeVBvbGljeScgaW4gb2JqKSB7XG4gICAgICAgIGlmICgnaGVkZ2luZ1BvbGljeScgaW4gb2JqKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogcmV0cnlQb2xpY3kgYW5kIGhlZGdpbmdQb2xpY3kgY2Fubm90IGJvdGggYmUgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucmV0cnlQb2xpY3kgPSB2YWxpZGF0ZVJldHJ5UG9saWN5KG9iai5yZXRyeVBvbGljeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoJ2hlZGdpbmdQb2xpY3knIGluIG9iaikge1xuICAgICAgICByZXN1bHQuaGVkZ2luZ1BvbGljeSA9IHZhbGlkYXRlSGVkZ2luZ1BvbGljeShvYmouaGVkZ2luZ1BvbGljeSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVJldHJ5VGhyb3R0bGluZyhvYmopIHtcbiAgICBpZiAoISgnbWF4VG9rZW5zJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmoubWF4VG9rZW5zICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICBvYmoubWF4VG9rZW5zIDw9IDAgfHxcbiAgICAgICAgb2JqLm1heFRva2VucyA+IDEwMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJldHJ5VGhyb3R0bGluZzogbWF4VG9rZW5zIG11c3QgYmUgYSBudW1iZXIgaW4gKDAsIDEwMDBdJyk7XG4gICAgfVxuICAgIGlmICghKCd0b2tlblJhdGlvJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmoudG9rZW5SYXRpbyAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgb2JqLnRva2VuUmF0aW8gPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmV0cnlUaHJvdHRsaW5nOiB0b2tlblJhdGlvIG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWF4VG9rZW5zOiArb2JqLm1heFRva2Vucy50b0ZpeGVkKDMpLFxuICAgICAgICB0b2tlblJhdGlvOiArb2JqLnRva2VuUmF0aW8udG9GaXhlZCgzKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVMb2FkQmFsYW5jaW5nQ29uZmlnKG9iaikge1xuICAgIGlmICghKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxvYWRCYWxhbmNpbmdDb25maWc6IHVuZXhwZWN0ZWQgdHlwZSAke3R5cGVvZiBvYmp9YCk7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxvYWRCYWxhbmNpbmdDb25maWc6IHVuZXhwZWN0ZWQgbXVsdGlwbGUga2V5cyAke2tleXN9YCk7XG4gICAgfVxuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbG9hZEJhbGFuY2luZ0NvbmZpZzogbG9hZCBiYWxhbmNpbmcgcG9saWN5IG5hbWUgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW2tleXNbMF1dOiBvYmpba2V5c1swXV0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlU2VydmljZUNvbmZpZyhvYmopIHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIGxvYWRCYWxhbmNpbmdDb25maWc6IFtdLFxuICAgICAgICBtZXRob2RDb25maWc6IFtdLFxuICAgIH07XG4gICAgaWYgKCdsb2FkQmFsYW5jaW5nUG9saWN5JyBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoubG9hZEJhbGFuY2luZ1BvbGljeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc3VsdC5sb2FkQmFsYW5jaW5nUG9saWN5ID0gb2JqLmxvYWRCYWxhbmNpbmdQb2xpY3k7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWc6IGludmFsaWQgbG9hZEJhbGFuY2luZ1BvbGljeScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnbG9hZEJhbGFuY2luZ0NvbmZpZycgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iai5sb2FkQmFsYW5jaW5nQ29uZmlnKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb25maWcgb2Ygb2JqLmxvYWRCYWxhbmNpbmdDb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQubG9hZEJhbGFuY2luZ0NvbmZpZy5wdXNoKHZhbGlkYXRlTG9hZEJhbGFuY2luZ0NvbmZpZyhjb25maWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZzogaW52YWxpZCBsb2FkQmFsYW5jaW5nQ29uZmlnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdtZXRob2RDb25maWcnIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmoubWV0aG9kQ29uZmlnKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtZXRob2RDb25maWcgb2Ygb2JqLm1ldGhvZENvbmZpZykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5tZXRob2RDb25maWcucHVzaCh2YWxpZGF0ZU1ldGhvZENvbmZpZyhtZXRob2RDb25maWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ3JldHJ5VGhyb3R0bGluZycgaW4gb2JqKSB7XG4gICAgICAgIHJlc3VsdC5yZXRyeVRocm90dGxpbmcgPSB2YWxpZGF0ZVJldHJ5VGhyb3R0bGluZyhvYmoucmV0cnlUaHJvdHRsaW5nKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgbWV0aG9kIG5hbWUgdW5pcXVlbmVzc1xuICAgIGNvbnN0IHNlZW5NZXRob2ROYW1lcyA9IFtdO1xuICAgIGZvciAoY29uc3QgbWV0aG9kQ29uZmlnIG9mIHJlc3VsdC5tZXRob2RDb25maWcpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG1ldGhvZENvbmZpZy5uYW1lKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlZW5OYW1lIG9mIHNlZW5NZXRob2ROYW1lcykge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lLnNlcnZpY2UgPT09IHNlZW5OYW1lLnNlcnZpY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgbmFtZS5tZXRob2QgPT09IHNlZW5OYW1lLm1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VydmljZSBjb25maWc6IGR1cGxpY2F0ZSBuYW1lICR7bmFtZS5zZXJ2aWNlfS8ke25hbWUubWV0aG9kfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZW5NZXRob2ROYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUNhbmFyeUNvbmZpZyhvYmopIHtcbiAgICBpZiAoISgnc2VydmljZUNvbmZpZycgaW4gb2JqKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBtaXNzaW5nIHNlcnZpY2UgY29uZmlnJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgc2VydmljZUNvbmZpZzogdmFsaWRhdGVTZXJ2aWNlQ29uZmlnKG9iai5zZXJ2aWNlQ29uZmlnKSxcbiAgICB9O1xuICAgIGlmICgnY2xpZW50TGFuZ3VhZ2UnIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmouY2xpZW50TGFuZ3VhZ2UpKSB7XG4gICAgICAgICAgICByZXN1bHQuY2xpZW50TGFuZ3VhZ2UgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGFuZyBvZiBvYmouY2xpZW50TGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxhbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jbGllbnRMYW5ndWFnZS5wdXNoKGxhbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogaW52YWxpZCBjbGllbnRMYW5ndWFnZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IGludmFsaWQgY2xpZW50TGFuZ3VhZ2UnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ2NsaWVudEhvc3RuYW1lJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqLmNsaWVudEhvc3RuYW1lKSkge1xuICAgICAgICAgICAgcmVzdWx0LmNsaWVudEhvc3RuYW1lID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxhbmcgb2Ygb2JqLmNsaWVudEhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY2xpZW50SG9zdG5hbWUucHVzaChsYW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IGludmFsaWQgY2xpZW50SG9zdG5hbWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIGNsaWVudEhvc3RuYW1lJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdwZXJjZW50YWdlJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoucGVyY2VudGFnZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIDAgPD0gb2JqLnBlcmNlbnRhZ2UgJiZcbiAgICAgICAgICAgIG9iai5wZXJjZW50YWdlIDw9IDEwMCkge1xuICAgICAgICAgICAgcmVzdWx0LnBlcmNlbnRhZ2UgPSBvYmoucGVyY2VudGFnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IGludmFsaWQgcGVyY2VudGFnZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHRoYXQgbm8gdW5leHBlY3RlZCBmaWVsZHMgYXJlIHByZXNlbnRcbiAgICBjb25zdCBhbGxvd2VkRmllbGRzID0gW1xuICAgICAgICAnY2xpZW50TGFuZ3VhZ2UnLFxuICAgICAgICAncGVyY2VudGFnZScsXG4gICAgICAgICdjbGllbnRIb3N0bmFtZScsXG4gICAgICAgICdzZXJ2aWNlQ29uZmlnJyxcbiAgICBdO1xuICAgIGZvciAoY29uc3QgZmllbGQgaW4gb2JqKSB7XG4gICAgICAgIGlmICghYWxsb3dlZEZpZWxkcy5pbmNsdWRlcyhmaWVsZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IHVuZXhwZWN0ZWQgZmllbGQgJHtmaWVsZH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVBbmRTZWxlY3RDYW5hcnlDb25maWcob2JqLCBwZXJjZW50YWdlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGxpc3QnKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjb25maWcgb2Ygb2JqKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZENvbmZpZyA9IHZhbGlkYXRlQ2FuYXJ5Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgIC8qIEZvciBlYWNoIGZpZWxkLCB3ZSBjaGVjayBpZiBpdCBpcyBwcmVzZW50LCB0aGVuIG9ubHkgZGlzY2FyZCB0aGVcbiAgICAgICAgICogY29uZmlnIGlmIHRoZSBmaWVsZCB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGUgY3VycmVudCBjbGllbnQgKi9cbiAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0ZWRDb25maWcucGVyY2VudGFnZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIHBlcmNlbnRhZ2UgPiB2YWxpZGF0ZWRDb25maWcucGVyY2VudGFnZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsaWRhdGVkQ29uZmlnLmNsaWVudEhvc3RuYW1lKSkge1xuICAgICAgICAgICAgbGV0IGhvc3RuYW1lTWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBob3N0bmFtZSBvZiB2YWxpZGF0ZWRDb25maWcuY2xpZW50SG9zdG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaG9zdG5hbWUgPT09IG9zLmhvc3RuYW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdG5hbWVNYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhvc3RuYW1lTWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbGlkYXRlZENvbmZpZy5jbGllbnRMYW5ndWFnZSkpIHtcbiAgICAgICAgICAgIGxldCBsYW5ndWFnZU1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGFuZ3VhZ2Ugb2YgdmFsaWRhdGVkQ29uZmlnLmNsaWVudExhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlID09PSBDTElFTlRfTEFOR1VBR0VfU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlTWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFsYW5ndWFnZU1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWRhdGVkQ29uZmlnLnNlcnZpY2VDb25maWc7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignTm8gbWF0Y2hpbmcgc2VydmljZSBjb25maWcgZm91bmQnKTtcbn1cbi8qKlxuICogRmluZCB0aGUgXCJncnBjX2NvbmZpZ1wiIHJlY29yZCBhbW9uZyB0aGUgVFhUIHJlY29yZHMsIHBhcnNlIGl0cyB2YWx1ZSBhcyBKU09OLCB2YWxpZGF0ZSBpdHMgY29udGVudHMsXG4gKiBhbmQgc2VsZWN0IGEgc2VydmljZSBjb25maWcgd2l0aCBzZWxlY3Rpb24gZmllbGRzIHRoYXQgYWxsIG1hdGNoIHRoaXMgY2xpZW50LiBNb3N0IG9mIHRoZXNlIHN0ZXBzXG4gKiBjYW4gZmFpbCB3aXRoIGFuIGVycm9yOyB0aGUgY2FsbGVyIG11c3QgaGFuZGxlIGFueSBlcnJvcnMgdGhyb3duIHRoaXMgd2F5LlxuICogQHBhcmFtIHR4dFJlY29yZCBUaGUgVFhUIHJlY29yZCBhcnJheSB0aGF0IGlzIG91dHB1dCBmcm9tIGEgc3VjY2Vzc2Z1bCBjYWxsIHRvIGRucy5yZXNvbHZlVHh0XG4gKiBAcGFyYW0gcGVyY2VudGFnZSBBIG51bWJlciBjaG9zZW4gZnJvbSB0aGUgcmFuZ2UgWzAsIDEwMCkgdGhhdCBpcyB1c2VkIHRvIHNlbGVjdCB3aGljaCBjb25maWcgdG8gdXNlXG4gKiBAcmV0dXJuIFRoZSBzZXJ2aWNlIGNvbmZpZ3VyYXRpb24gdG8gdXNlLCBnaXZlbiB0aGUgcGVyY2VudGFnZSB2YWx1ZSwgb3IgbnVsbCBpZiB0aGUgc2VydmljZSBjb25maWdcbiAqICAgICBkYXRhIGhhcyBhIHZhbGlkIGZvcm1hdCBidXQgbm9uZSBvZiB0aGUgb3B0aW9ucyBtYXRjaCB0aGUgY3VycmVudCBjbGllbnQuXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RBbmRTZWxlY3RTZXJ2aWNlQ29uZmlnKHR4dFJlY29yZCwgcGVyY2VudGFnZSkge1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHR4dFJlY29yZCkge1xuICAgICAgICBpZiAocmVjb3JkLmxlbmd0aCA+IDAgJiYgcmVjb3JkWzBdLnN0YXJ0c1dpdGgoJ2dycGNfY29uZmlnPScpKSB7XG4gICAgICAgICAgICAvKiBUcmVhdCB0aGUgbGlzdCBvZiBzdHJpbmdzIGluIHRoaXMgcmVjb3JkIGFzIGEgc2luZ2xlIHN0cmluZyBhbmQgcmVtb3ZlXG4gICAgICAgICAgICAgKiBcImdycGNfY29uZmlnPVwiIGZyb20gdGhlIGJlZ2lubmluZy4gVGhlIHJlc3Qgc2hvdWxkIGJlIGEgSlNPTiBzdHJpbmcgKi9cbiAgICAgICAgICAgIGNvbnN0IHJlY29yZFN0cmluZyA9IHJlY29yZC5qb2luKCcnKS5zdWJzdHJpbmcoJ2dycGNfY29uZmlnPScubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZEpzb24gPSBKU09OLnBhcnNlKHJlY29yZFN0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVBbmRTZWxlY3RDYW5hcnlDb25maWcocmVjb3JkSnNvbiwgcGVyY2VudGFnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2aWNlLWNvbmZpZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StatusBuilder = void 0;\n/**\n * A builder for gRPC status objects.\n */\nclass StatusBuilder {\n    constructor() {\n        this.code = null;\n        this.details = null;\n        this.metadata = null;\n    }\n    /**\n     * Adds a status code to the builder.\n     */\n    withCode(code) {\n        this.code = code;\n        return this;\n    }\n    /**\n     * Adds details to the builder.\n     */\n    withDetails(details) {\n        this.details = details;\n        return this;\n    }\n    /**\n     * Adds metadata to the builder.\n     */\n    withMetadata(metadata) {\n        this.metadata = metadata;\n        return this;\n    }\n    /**\n     * Builds the status object.\n     */\n    build() {\n        const status = {};\n        if (this.code !== null) {\n            status.code = this.code;\n        }\n        if (this.details !== null) {\n            status.details = this.details;\n        }\n        if (this.metadata !== null) {\n            status.metadata = this.metadata;\n        }\n        return status;\n    }\n}\nexports.StatusBuilder = StatusBuilder;\n//# sourceMappingURL=status-builder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdGF0dXMtYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3RhdHVzLWJ1aWxkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3RhdHVzQnVpbGRlciA9IHZvaWQgMDtcbi8qKlxuICogQSBidWlsZGVyIGZvciBnUlBDIHN0YXR1cyBvYmplY3RzLlxuICovXG5jbGFzcyBTdGF0dXNCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBzdGF0dXMgY29kZSB0byB0aGUgYnVpbGRlci5cbiAgICAgKi9cbiAgICB3aXRoQ29kZShjb2RlKSB7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGRldGFpbHMgdG8gdGhlIGJ1aWxkZXIuXG4gICAgICovXG4gICAgd2l0aERldGFpbHMoZGV0YWlscykge1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBtZXRhZGF0YSB0byB0aGUgYnVpbGRlci5cbiAgICAgKi9cbiAgICB3aXRoTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBzdGF0dXMgb2JqZWN0LlxuICAgICAqL1xuICAgIGJ1aWxkKCkge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuY29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdHVzLmNvZGUgPSB0aGlzLmNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGV0YWlscyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdHVzLmRldGFpbHMgPSB0aGlzLmRldGFpbHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXR1cy5tZXRhZGF0YSA9IHRoaXMubWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59XG5leHBvcnRzLlN0YXR1c0J1aWxkZXIgPSBTdGF0dXNCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdHVzLWJ1aWxkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamDecoder = void 0;\nvar ReadState;\n(function (ReadState) {\n    ReadState[ReadState[\"NO_DATA\"] = 0] = \"NO_DATA\";\n    ReadState[ReadState[\"READING_SIZE\"] = 1] = \"READING_SIZE\";\n    ReadState[ReadState[\"READING_MESSAGE\"] = 2] = \"READING_MESSAGE\";\n})(ReadState || (ReadState = {}));\nclass StreamDecoder {\n    constructor(maxReadMessageLength) {\n        this.maxReadMessageLength = maxReadMessageLength;\n        this.readState = ReadState.NO_DATA;\n        this.readCompressFlag = Buffer.alloc(1);\n        this.readPartialSize = Buffer.alloc(4);\n        this.readSizeRemaining = 4;\n        this.readMessageSize = 0;\n        this.readPartialMessage = [];\n        this.readMessageRemaining = 0;\n    }\n    write(data) {\n        let readHead = 0;\n        let toRead;\n        const result = [];\n        while (readHead < data.length) {\n            switch (this.readState) {\n                case ReadState.NO_DATA:\n                    this.readCompressFlag = data.slice(readHead, readHead + 1);\n                    readHead += 1;\n                    this.readState = ReadState.READING_SIZE;\n                    this.readPartialSize.fill(0);\n                    this.readSizeRemaining = 4;\n                    this.readMessageSize = 0;\n                    this.readMessageRemaining = 0;\n                    this.readPartialMessage = [];\n                    break;\n                case ReadState.READING_SIZE:\n                    toRead = Math.min(data.length - readHead, this.readSizeRemaining);\n                    data.copy(this.readPartialSize, 4 - this.readSizeRemaining, readHead, readHead + toRead);\n                    this.readSizeRemaining -= toRead;\n                    readHead += toRead;\n                    // readSizeRemaining >=0 here\n                    if (this.readSizeRemaining === 0) {\n                        this.readMessageSize = this.readPartialSize.readUInt32BE(0);\n                        if (this.maxReadMessageLength !== -1 && this.readMessageSize > this.maxReadMessageLength) {\n                            throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);\n                        }\n                        this.readMessageRemaining = this.readMessageSize;\n                        if (this.readMessageRemaining > 0) {\n                            this.readState = ReadState.READING_MESSAGE;\n                        }\n                        else {\n                            const message = Buffer.concat([this.readCompressFlag, this.readPartialSize], 5);\n                            this.readState = ReadState.NO_DATA;\n                            result.push(message);\n                        }\n                    }\n                    break;\n                case ReadState.READING_MESSAGE:\n                    toRead = Math.min(data.length - readHead, this.readMessageRemaining);\n                    this.readPartialMessage.push(data.slice(readHead, readHead + toRead));\n                    this.readMessageRemaining -= toRead;\n                    readHead += toRead;\n                    // readMessageRemaining >=0 here\n                    if (this.readMessageRemaining === 0) {\n                        // At this point, we have read a full message\n                        const framedMessageBuffers = [\n                            this.readCompressFlag,\n                            this.readPartialSize,\n                        ].concat(this.readPartialMessage);\n                        const framedMessage = Buffer.concat(framedMessageBuffers, this.readMessageSize + 5);\n                        this.readState = ReadState.NO_DATA;\n                        result.push(framedMessage);\n                    }\n                    break;\n                default:\n                    throw new Error('Unexpected read state');\n            }\n        }\n        return result;\n    }\n}\nexports.StreamDecoder = StreamDecoder;\n//# sourceMappingURL=stream-decoder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdHJlYW0tZGVjb2Rlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLHNCQUFzQixLQUFLLDBCQUEwQjtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdHJlYW0tZGVjb2Rlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdHJlYW1EZWNvZGVyID0gdm9pZCAwO1xudmFyIFJlYWRTdGF0ZTtcbihmdW5jdGlvbiAoUmVhZFN0YXRlKSB7XG4gICAgUmVhZFN0YXRlW1JlYWRTdGF0ZVtcIk5PX0RBVEFcIl0gPSAwXSA9IFwiTk9fREFUQVwiO1xuICAgIFJlYWRTdGF0ZVtSZWFkU3RhdGVbXCJSRUFESU5HX1NJWkVcIl0gPSAxXSA9IFwiUkVBRElOR19TSVpFXCI7XG4gICAgUmVhZFN0YXRlW1JlYWRTdGF0ZVtcIlJFQURJTkdfTUVTU0FHRVwiXSA9IDJdID0gXCJSRUFESU5HX01FU1NBR0VcIjtcbn0pKFJlYWRTdGF0ZSB8fCAoUmVhZFN0YXRlID0ge30pKTtcbmNsYXNzIFN0cmVhbURlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKG1heFJlYWRNZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubWF4UmVhZE1lc3NhZ2VMZW5ndGggPSBtYXhSZWFkTWVzc2FnZUxlbmd0aDtcbiAgICAgICAgdGhpcy5yZWFkU3RhdGUgPSBSZWFkU3RhdGUuTk9fREFUQTtcbiAgICAgICAgdGhpcy5yZWFkQ29tcHJlc3NGbGFnID0gQnVmZmVyLmFsbG9jKDEpO1xuICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsU2l6ZSA9IEJ1ZmZlci5hbGxvYyg0KTtcbiAgICAgICAgdGhpcy5yZWFkU2l6ZVJlbWFpbmluZyA9IDQ7XG4gICAgICAgIHRoaXMucmVhZE1lc3NhZ2VTaXplID0gMDtcbiAgICAgICAgdGhpcy5yZWFkUGFydGlhbE1lc3NhZ2UgPSBbXTtcbiAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyA9IDA7XG4gICAgfVxuICAgIHdyaXRlKGRhdGEpIHtcbiAgICAgICAgbGV0IHJlYWRIZWFkID0gMDtcbiAgICAgICAgbGV0IHRvUmVhZDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIHdoaWxlIChyZWFkSGVhZCA8IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucmVhZFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBSZWFkU3RhdGUuTk9fREFUQTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkQ29tcHJlc3NGbGFnID0gZGF0YS5zbGljZShyZWFkSGVhZCwgcmVhZEhlYWQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZEhlYWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkU3RhdGUgPSBSZWFkU3RhdGUuUkVBRElOR19TSVpFO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsU2l6ZS5maWxsKDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTaXplUmVtYWluaW5nID0gNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVNpemUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkUGFydGlhbE1lc3NhZ2UgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBSZWFkU3RhdGUuUkVBRElOR19TSVpFOlxuICAgICAgICAgICAgICAgICAgICB0b1JlYWQgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIHJlYWRIZWFkLCB0aGlzLnJlYWRTaXplUmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5jb3B5KHRoaXMucmVhZFBhcnRpYWxTaXplLCA0IC0gdGhpcy5yZWFkU2l6ZVJlbWFpbmluZywgcmVhZEhlYWQsIHJlYWRIZWFkICsgdG9SZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkU2l6ZVJlbWFpbmluZyAtPSB0b1JlYWQ7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRIZWFkICs9IHRvUmVhZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVhZFNpemVSZW1haW5pbmcgPj0wIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZFNpemVSZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZE1lc3NhZ2VTaXplID0gdGhpcy5yZWFkUGFydGlhbFNpemUucmVhZFVJbnQzMkJFKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4UmVhZE1lc3NhZ2VMZW5ndGggIT09IC0xICYmIHRoaXMucmVhZE1lc3NhZ2VTaXplID4gdGhpcy5tYXhSZWFkTWVzc2FnZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVjZWl2ZWQgbWVzc2FnZSBsYXJnZXIgdGhhbiBtYXggKCR7dGhpcy5yZWFkTWVzc2FnZVNpemV9IHZzICR7dGhpcy5tYXhSZWFkTWVzc2FnZUxlbmd0aH0pYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nID0gdGhpcy5yZWFkTWVzc2FnZVNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5SRUFESU5HX01FU1NBR0U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5yZWFkQ29tcHJlc3NGbGFnLCB0aGlzLnJlYWRQYXJ0aWFsU2l6ZV0sIDUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLk5PX0RBVEE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBSZWFkU3RhdGUuUkVBRElOR19NRVNTQUdFOlxuICAgICAgICAgICAgICAgICAgICB0b1JlYWQgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIHJlYWRIZWFkLCB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkUGFydGlhbE1lc3NhZ2UucHVzaChkYXRhLnNsaWNlKHJlYWRIZWFkLCByZWFkSGVhZCArIHRvUmVhZCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nIC09IHRvUmVhZDtcbiAgICAgICAgICAgICAgICAgICAgcmVhZEhlYWQgKz0gdG9SZWFkO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWFkTWVzc2FnZVJlbWFpbmluZyA+PTAgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSByZWFkIGEgZnVsbCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZWRNZXNzYWdlQnVmZmVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRDb21wcmVzc0ZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkUGFydGlhbFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmNvbmNhdCh0aGlzLnJlYWRQYXJ0aWFsTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZWRNZXNzYWdlID0gQnVmZmVyLmNvbmNhdChmcmFtZWRNZXNzYWdlQnVmZmVycywgdGhpcy5yZWFkTWVzc2FnZVNpemUgKyA1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLk5PX0RBVEE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmcmFtZWRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgcmVhZCBzdGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5TdHJlYW1EZWNvZGVyID0gU3RyZWFtRGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbS1kZWNvZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.EndpointMap = void 0;\nexports.isTcpSubchannelAddress = isTcpSubchannelAddress;\nexports.subchannelAddressEqual = subchannelAddressEqual;\nexports.subchannelAddressToString = subchannelAddressToString;\nexports.stringToSubchannelAddress = stringToSubchannelAddress;\nexports.endpointEqual = endpointEqual;\nexports.endpointToString = endpointToString;\nexports.endpointHasAddress = endpointHasAddress;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nfunction isTcpSubchannelAddress(address) {\n    return 'port' in address;\n}\nfunction subchannelAddressEqual(address1, address2) {\n    if (!address1 && !address2) {\n        return true;\n    }\n    if (!address1 || !address2) {\n        return false;\n    }\n    if (isTcpSubchannelAddress(address1)) {\n        return (isTcpSubchannelAddress(address2) &&\n            address1.host === address2.host &&\n            address1.port === address2.port);\n    }\n    else {\n        return !isTcpSubchannelAddress(address2) && address1.path === address2.path;\n    }\n}\nfunction subchannelAddressToString(address) {\n    if (isTcpSubchannelAddress(address)) {\n        if ((0, net_1.isIPv6)(address.host)) {\n            return '[' + address.host + ']:' + address.port;\n        }\n        else {\n            return address.host + ':' + address.port;\n        }\n    }\n    else {\n        return address.path;\n    }\n}\nconst DEFAULT_PORT = 443;\nfunction stringToSubchannelAddress(addressString, port) {\n    if ((0, net_1.isIP)(addressString)) {\n        return {\n            host: addressString,\n            port: port !== null && port !== void 0 ? port : DEFAULT_PORT,\n        };\n    }\n    else {\n        return {\n            path: addressString,\n        };\n    }\n}\nfunction endpointEqual(endpoint1, endpoint2) {\n    if (endpoint1.addresses.length !== endpoint2.addresses.length) {\n        return false;\n    }\n    for (let i = 0; i < endpoint1.addresses.length; i++) {\n        if (!subchannelAddressEqual(endpoint1.addresses[i], endpoint2.addresses[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction endpointToString(endpoint) {\n    return ('[' + endpoint.addresses.map(subchannelAddressToString).join(', ') + ']');\n}\nfunction endpointHasAddress(endpoint, expectedAddress) {\n    for (const address of endpoint.addresses) {\n        if (subchannelAddressEqual(address, expectedAddress)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction endpointEqualUnordered(endpoint1, endpoint2) {\n    if (endpoint1.addresses.length !== endpoint2.addresses.length) {\n        return false;\n    }\n    for (const address1 of endpoint1.addresses) {\n        let matchFound = false;\n        for (const address2 of endpoint2.addresses) {\n            if (subchannelAddressEqual(address1, address2)) {\n                matchFound = true;\n                break;\n            }\n        }\n        if (!matchFound) {\n            return false;\n        }\n    }\n    return true;\n}\nclass EndpointMap {\n    constructor() {\n        this.map = new Set();\n    }\n    get size() {\n        return this.map.size;\n    }\n    getForSubchannelAddress(address) {\n        for (const entry of this.map) {\n            if (endpointHasAddress(entry.key, address)) {\n                return entry.value;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Delete any entries in this map with keys that are not in endpoints\n     * @param endpoints\n     */\n    deleteMissing(endpoints) {\n        const removedValues = [];\n        for (const entry of this.map) {\n            let foundEntry = false;\n            for (const endpoint of endpoints) {\n                if (endpointEqualUnordered(endpoint, entry.key)) {\n                    foundEntry = true;\n                }\n            }\n            if (!foundEntry) {\n                removedValues.push(entry.value);\n                this.map.delete(entry);\n            }\n        }\n        return removedValues;\n    }\n    get(endpoint) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                return entry.value;\n            }\n        }\n        return undefined;\n    }\n    set(endpoint, mapEntry) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                entry.value = mapEntry;\n                return;\n            }\n        }\n        this.map.add({ key: endpoint, value: mapEntry });\n    }\n    delete(endpoint) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                this.map.delete(entry);\n                return;\n            }\n        }\n    }\n    has(endpoint) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    clear() {\n        this.map.clear();\n    }\n    *keys() {\n        for (const entry of this.map) {\n            yield entry.key;\n        }\n    }\n    *values() {\n        for (const entry of this.map) {\n            yield entry.value;\n        }\n    }\n    *entries() {\n        for (const entry of this.map) {\n            yield [entry.key, entry.value];\n        }\n    }\n}\nexports.EndpointMap = EndpointMap;\n//# sourceMappingURL=subchannel-address.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLWFkZHJlc3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QixpQ0FBaUM7QUFDakMsaUNBQWlDO0FBQ2pDLHFCQUFxQjtBQUNyQix3QkFBd0I7QUFDeEIsMEJBQTBCO0FBQzFCLGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdDQUFnQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnQ0FBZ0M7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1hZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVuZHBvaW50TWFwID0gdm9pZCAwO1xuZXhwb3J0cy5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzID0gaXNUY3BTdWJjaGFubmVsQWRkcmVzcztcbmV4cG9ydHMuc3ViY2hhbm5lbEFkZHJlc3NFcXVhbCA9IHN1YmNoYW5uZWxBZGRyZXNzRXF1YWw7XG5leHBvcnRzLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcgPSBzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nO1xuZXhwb3J0cy5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzID0gc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcztcbmV4cG9ydHMuZW5kcG9pbnRFcXVhbCA9IGVuZHBvaW50RXF1YWw7XG5leHBvcnRzLmVuZHBvaW50VG9TdHJpbmcgPSBlbmRwb2ludFRvU3RyaW5nO1xuZXhwb3J0cy5lbmRwb2ludEhhc0FkZHJlc3MgPSBlbmRwb2ludEhhc0FkZHJlc3M7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5mdW5jdGlvbiBpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICByZXR1cm4gJ3BvcnQnIGluIGFkZHJlc3M7XG59XG5mdW5jdGlvbiBzdWJjaGFubmVsQWRkcmVzc0VxdWFsKGFkZHJlc3MxLCBhZGRyZXNzMikge1xuICAgIGlmICghYWRkcmVzczEgJiYgIWFkZHJlc3MyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWFkZHJlc3MxIHx8ICFhZGRyZXNzMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MxKSkge1xuICAgICAgICByZXR1cm4gKGlzVGNwU3ViY2hhbm5lbEFkZHJlc3MoYWRkcmVzczIpICYmXG4gICAgICAgICAgICBhZGRyZXNzMS5ob3N0ID09PSBhZGRyZXNzMi5ob3N0ICYmXG4gICAgICAgICAgICBhZGRyZXNzMS5wb3J0ID09PSBhZGRyZXNzMi5wb3J0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAhaXNUY3BTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzMikgJiYgYWRkcmVzczEucGF0aCA9PT0gYWRkcmVzczIucGF0aDtcbiAgICB9XG59XG5mdW5jdGlvbiBzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKGFkZHJlc3MpIHtcbiAgICBpZiAoaXNUY3BTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzKSkge1xuICAgICAgICBpZiAoKDAsIG5ldF8xLmlzSVB2NikoYWRkcmVzcy5ob3N0KSkge1xuICAgICAgICAgICAgcmV0dXJuICdbJyArIGFkZHJlc3MuaG9zdCArICddOicgKyBhZGRyZXNzLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYWRkcmVzcy5ob3N0ICsgJzonICsgYWRkcmVzcy5wb3J0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYWRkcmVzcy5wYXRoO1xuICAgIH1cbn1cbmNvbnN0IERFRkFVTFRfUE9SVCA9IDQ0MztcbmZ1bmN0aW9uIHN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MoYWRkcmVzc1N0cmluZywgcG9ydCkge1xuICAgIGlmICgoMCwgbmV0XzEuaXNJUCkoYWRkcmVzc1N0cmluZykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhvc3Q6IGFkZHJlc3NTdHJpbmcsXG4gICAgICAgICAgICBwb3J0OiBwb3J0ICE9PSBudWxsICYmIHBvcnQgIT09IHZvaWQgMCA/IHBvcnQgOiBERUZBVUxUX1BPUlQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGF0aDogYWRkcmVzc1N0cmluZyxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbmRwb2ludEVxdWFsKGVuZHBvaW50MSwgZW5kcG9pbnQyKSB7XG4gICAgaWYgKGVuZHBvaW50MS5hZGRyZXNzZXMubGVuZ3RoICE9PSBlbmRwb2ludDIuYWRkcmVzc2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5kcG9pbnQxLmFkZHJlc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXN1YmNoYW5uZWxBZGRyZXNzRXF1YWwoZW5kcG9pbnQxLmFkZHJlc3Nlc1tpXSwgZW5kcG9pbnQyLmFkZHJlc3Nlc1tpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuZHBvaW50VG9TdHJpbmcoZW5kcG9pbnQpIHtcbiAgICByZXR1cm4gKCdbJyArIGVuZHBvaW50LmFkZHJlc3Nlcy5tYXAoc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykuam9pbignLCAnKSArICddJyk7XG59XG5mdW5jdGlvbiBlbmRwb2ludEhhc0FkZHJlc3MoZW5kcG9pbnQsIGV4cGVjdGVkQWRkcmVzcykge1xuICAgIGZvciAoY29uc3QgYWRkcmVzcyBvZiBlbmRwb2ludC5hZGRyZXNzZXMpIHtcbiAgICAgICAgaWYgKHN1YmNoYW5uZWxBZGRyZXNzRXF1YWwoYWRkcmVzcywgZXhwZWN0ZWRBZGRyZXNzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludDEsIGVuZHBvaW50Mikge1xuICAgIGlmIChlbmRwb2ludDEuYWRkcmVzc2VzLmxlbmd0aCAhPT0gZW5kcG9pbnQyLmFkZHJlc3Nlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGFkZHJlc3MxIG9mIGVuZHBvaW50MS5hZGRyZXNzZXMpIHtcbiAgICAgICAgbGV0IG1hdGNoRm91bmQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBhZGRyZXNzMiBvZiBlbmRwb2ludDIuYWRkcmVzc2VzKSB7XG4gICAgICAgICAgICBpZiAoc3ViY2hhbm5lbEFkZHJlc3NFcXVhbChhZGRyZXNzMSwgYWRkcmVzczIpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaEZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5jbGFzcyBFbmRwb2ludE1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLnNpemU7XG4gICAgfVxuICAgIGdldEZvclN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50SGFzQWRkcmVzcyhlbnRyeS5rZXksIGFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbnkgZW50cmllcyBpbiB0aGlzIG1hcCB3aXRoIGtleXMgdGhhdCBhcmUgbm90IGluIGVuZHBvaW50c1xuICAgICAqIEBwYXJhbSBlbmRwb2ludHNcbiAgICAgKi9cbiAgICBkZWxldGVNaXNzaW5nKGVuZHBvaW50cykge1xuICAgICAgICBjb25zdCByZW1vdmVkVmFsdWVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIGxldCBmb3VuZEVudHJ5ID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVuZHBvaW50IG9mIGVuZHBvaW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbmRwb2ludEVxdWFsVW5vcmRlcmVkKGVuZHBvaW50LCBlbnRyeS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kRW50cnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZm91bmRFbnRyeSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRWYWx1ZXMucHVzaChlbnRyeS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3ZlZFZhbHVlcztcbiAgICB9XG4gICAgZ2V0KGVuZHBvaW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludEVxdWFsVW5vcmRlcmVkKGVuZHBvaW50LCBlbnRyeS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHNldChlbmRwb2ludCwgbWFwRW50cnkpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50RXF1YWxVbm9yZGVyZWQoZW5kcG9pbnQsIGVudHJ5LmtleSkpIHtcbiAgICAgICAgICAgICAgICBlbnRyeS52YWx1ZSA9IG1hcEVudHJ5O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcC5hZGQoeyBrZXk6IGVuZHBvaW50LCB2YWx1ZTogbWFwRW50cnkgfSk7XG4gICAgfVxuICAgIGRlbGV0ZShlbmRwb2ludCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludCwgZW50cnkua2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShlbnRyeSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhcyhlbmRwb2ludCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludCwgZW50cnkua2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgfVxuICAgICprZXlzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICB5aWVsZCBlbnRyeS5rZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKnZhbHVlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgeWllbGQgZW50cnkudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIHlpZWxkIFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRW5kcG9pbnRNYXAgPSBFbmRwb2ludE1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtYWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Http2SubchannelCall = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst os = __webpack_require__(/*! os */ \"os\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst stream_decoder_1 = __webpack_require__(/*! ./stream-decoder */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst TRACER_NAME = 'subchannel_call';\n/**\n * Should do approximately the same thing as util.getSystemErrorName but the\n * TypeScript types don't have that function for some reason so I just made my\n * own.\n * @param errno\n */\nfunction getSystemErrorName(errno) {\n    for (const [name, num] of Object.entries(os.constants.errno)) {\n        if (num === errno) {\n            return name;\n        }\n    }\n    return 'Unknown system error ' + errno;\n}\nfunction mapHttpStatusCode(code) {\n    const details = `Received HTTP status code ${code}`;\n    let mappedStatusCode;\n    switch (code) {\n        // TODO(murgatroid99): handle 100 and 101\n        case 400:\n            mappedStatusCode = constants_1.Status.INTERNAL;\n            break;\n        case 401:\n            mappedStatusCode = constants_1.Status.UNAUTHENTICATED;\n            break;\n        case 403:\n            mappedStatusCode = constants_1.Status.PERMISSION_DENIED;\n            break;\n        case 404:\n            mappedStatusCode = constants_1.Status.UNIMPLEMENTED;\n            break;\n        case 429:\n        case 502:\n        case 503:\n        case 504:\n            mappedStatusCode = constants_1.Status.UNAVAILABLE;\n            break;\n        default:\n            mappedStatusCode = constants_1.Status.UNKNOWN;\n    }\n    return {\n        code: mappedStatusCode,\n        details: details,\n        metadata: new metadata_1.Metadata()\n    };\n}\nclass Http2SubchannelCall {\n    constructor(http2Stream, callEventTracker, listener, transport, callId) {\n        var _a;\n        this.http2Stream = http2Stream;\n        this.callEventTracker = callEventTracker;\n        this.listener = listener;\n        this.transport = transport;\n        this.callId = callId;\n        this.isReadFilterPending = false;\n        this.isPushPending = false;\n        this.canPush = false;\n        /**\n         * Indicates that an 'end' event has come from the http2 stream, so there\n         * will be no more data events.\n         */\n        this.readsClosed = false;\n        this.statusOutput = false;\n        this.unpushedReadMessages = [];\n        // This is populated (non-null) if and only if the call has ended\n        this.finalStatus = null;\n        this.internalError = null;\n        this.serverEndedCall = false;\n        this.connectionDropped = false;\n        const maxReceiveMessageLength = (_a = transport.getOptions()['grpc.max_receive_message_length']) !== null && _a !== void 0 ? _a : constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        this.decoder = new stream_decoder_1.StreamDecoder(maxReceiveMessageLength);\n        http2Stream.on('response', (headers, flags) => {\n            let headersString = '';\n            for (const header of Object.keys(headers)) {\n                headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n            }\n            this.trace('Received server headers:\\n' + headersString);\n            this.httpStatusCode = headers[':status'];\n            if (flags & http2.constants.NGHTTP2_FLAG_END_STREAM) {\n                this.handleTrailers(headers);\n            }\n            else {\n                let metadata;\n                try {\n                    metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n                }\n                catch (error) {\n                    this.endCall({\n                        code: constants_1.Status.UNKNOWN,\n                        details: error.message,\n                        metadata: new metadata_1.Metadata(),\n                    });\n                    return;\n                }\n                this.listener.onReceiveMetadata(metadata);\n            }\n        });\n        http2Stream.on('trailers', (headers) => {\n            this.handleTrailers(headers);\n        });\n        http2Stream.on('data', (data) => {\n            /* If the status has already been output, allow the http2 stream to\n             * drain without processing the data. */\n            if (this.statusOutput) {\n                return;\n            }\n            this.trace('receive HTTP/2 data frame of length ' + data.length);\n            let messages;\n            try {\n                messages = this.decoder.write(data);\n            }\n            catch (e) {\n                /* Some servers send HTML error pages along with HTTP status codes.\n                 * When the client attempts to parse this as a length-delimited\n                 * message, the parsed message size is greater than the default limit,\n                 * resulting in a message decoding error. In that situation, the HTTP\n                 * error code information is more useful to the user than the\n                 * RESOURCE_EXHAUSTED error is, so we report that instead. Normally,\n                 * we delay processing the HTTP status until after the stream ends, to\n                 * prioritize reporting the gRPC status from trailers if it is present,\n                 * but when there is a message parsing error we end the stream early\n                 * before processing trailers. */\n                if (this.httpStatusCode !== undefined && this.httpStatusCode !== 200) {\n                    const mappedStatus = mapHttpStatusCode(this.httpStatusCode);\n                    this.cancelWithStatus(mappedStatus.code, mappedStatus.details);\n                }\n                else {\n                    this.cancelWithStatus(constants_1.Status.RESOURCE_EXHAUSTED, e.message);\n                }\n                return;\n            }\n            for (const message of messages) {\n                this.trace('parsed message of length ' + message.length);\n                this.callEventTracker.addMessageReceived();\n                this.tryPush(message);\n            }\n        });\n        http2Stream.on('end', () => {\n            this.readsClosed = true;\n            this.maybeOutputStatus();\n        });\n        http2Stream.on('close', () => {\n            this.serverEndedCall = true;\n            /* Use process.next tick to ensure that this code happens after any\n             * \"error\" event that may be emitted at about the same time, so that\n             * we can bubble up the error message from that event. */\n            process.nextTick(() => {\n                var _a;\n                this.trace('HTTP/2 stream closed with code ' + http2Stream.rstCode);\n                /* If we have a final status with an OK status code, that means that\n                 * we have received all of the messages and we have processed the\n                 * trailers and the call completed successfully, so it doesn't matter\n                 * how the stream ends after that */\n                if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n                    return;\n                }\n                let code;\n                let details = '';\n                switch (http2Stream.rstCode) {\n                    case http2.constants.NGHTTP2_NO_ERROR:\n                        /* If we get a NO_ERROR code and we already have a status, the\n                         * stream completed properly and we just haven't fully processed\n                         * it yet */\n                        if (this.finalStatus !== null) {\n                            return;\n                        }\n                        if (this.httpStatusCode && this.httpStatusCode !== 200) {\n                            const mappedStatus = mapHttpStatusCode(this.httpStatusCode);\n                            code = mappedStatus.code;\n                            details = mappedStatus.details;\n                        }\n                        else {\n                            code = constants_1.Status.INTERNAL;\n                            details = `Received RST_STREAM with code ${http2Stream.rstCode} (Call ended without gRPC status)`;\n                        }\n                        break;\n                    case http2.constants.NGHTTP2_REFUSED_STREAM:\n                        code = constants_1.Status.UNAVAILABLE;\n                        details = 'Stream refused by server';\n                        break;\n                    case http2.constants.NGHTTP2_CANCEL:\n                        /* Bug reports indicate that Node synthesizes a NGHTTP2_CANCEL\n                         * code from connection drops. We want to prioritize reporting\n                         * an unavailable status when that happens. */\n                        if (this.connectionDropped) {\n                            code = constants_1.Status.UNAVAILABLE;\n                            details = 'Connection dropped';\n                        }\n                        else {\n                            code = constants_1.Status.CANCELLED;\n                            details = 'Call cancelled';\n                        }\n                        break;\n                    case http2.constants.NGHTTP2_ENHANCE_YOUR_CALM:\n                        code = constants_1.Status.RESOURCE_EXHAUSTED;\n                        details = 'Bandwidth exhausted or memory limit exceeded';\n                        break;\n                    case http2.constants.NGHTTP2_INADEQUATE_SECURITY:\n                        code = constants_1.Status.PERMISSION_DENIED;\n                        details = 'Protocol not secure enough';\n                        break;\n                    case http2.constants.NGHTTP2_INTERNAL_ERROR:\n                        code = constants_1.Status.INTERNAL;\n                        if (this.internalError === null) {\n                            /* This error code was previously handled in the default case, and\n                             * there are several instances of it online, so I wanted to\n                             * preserve the original error message so that people find existing\n                             * information in searches, but also include the more recognizable\n                             * \"Internal server error\" message. */\n                            details = `Received RST_STREAM with code ${http2Stream.rstCode} (Internal server error)`;\n                        }\n                        else {\n                            if (this.internalError.code === 'ECONNRESET' ||\n                                this.internalError.code === 'ETIMEDOUT') {\n                                code = constants_1.Status.UNAVAILABLE;\n                                details = this.internalError.message;\n                            }\n                            else {\n                                /* The \"Received RST_STREAM with code ...\" error is preserved\n                                 * here for continuity with errors reported online, but the\n                                 * error message at the end will probably be more relevant in\n                                 * most cases. */\n                                details = `Received RST_STREAM with code ${http2Stream.rstCode} triggered by internal client error: ${this.internalError.message}`;\n                            }\n                        }\n                        break;\n                    default:\n                        code = constants_1.Status.INTERNAL;\n                        details = `Received RST_STREAM with code ${http2Stream.rstCode}`;\n                }\n                // This is a no-op if trailers were received at all.\n                // This is OK, because status codes emitted here correspond to more\n                // catastrophic issues that prevent us from receiving trailers in the\n                // first place.\n                this.endCall({\n                    code,\n                    details,\n                    metadata: new metadata_1.Metadata(),\n                    rstCode: http2Stream.rstCode,\n                });\n            });\n        });\n        http2Stream.on('error', (err) => {\n            /* We need an error handler here to stop \"Uncaught Error\" exceptions\n             * from bubbling up. However, errors here should all correspond to\n             * \"close\" events, where we will handle the error more granularly */\n            /* Specifically looking for stream errors that were *not* constructed\n             * from a RST_STREAM response here:\n             * https://github.com/nodejs/node/blob/8b8620d580314050175983402dfddf2674e8e22a/lib/internal/http2/core.js#L2267\n             */\n            if (err.code !== 'ERR_HTTP2_STREAM_ERROR') {\n                this.trace('Node error event: message=' +\n                    err.message +\n                    ' code=' +\n                    err.code +\n                    ' errno=' +\n                    getSystemErrorName(err.errno) +\n                    ' syscall=' +\n                    err.syscall);\n                this.internalError = err;\n            }\n            this.callEventTracker.onStreamEnd(false);\n        });\n    }\n    getDeadlineInfo() {\n        return [`remote_addr=${this.getPeer()}`];\n    }\n    onDisconnect() {\n        this.connectionDropped = true;\n        /* Give the call an event loop cycle to finish naturally before reporting\n         * the disconnection as an error. */\n        setImmediate(() => {\n            this.endCall({\n                code: constants_1.Status.UNAVAILABLE,\n                details: 'Connection dropped',\n                metadata: new metadata_1.Metadata(),\n            });\n        });\n    }\n    outputStatus() {\n        /* Precondition: this.finalStatus !== null */\n        if (!this.statusOutput) {\n            this.statusOutput = true;\n            this.trace('ended with status: code=' +\n                this.finalStatus.code +\n                ' details=\"' +\n                this.finalStatus.details +\n                '\"');\n            this.callEventTracker.onCallEnd(this.finalStatus);\n            /* We delay the actual action of bubbling up the status to insulate the\n             * cleanup code in this class from any errors that may be thrown in the\n             * upper layers as a result of bubbling up the status. In particular,\n             * if the status is not OK, the \"error\" event may be emitted\n             * synchronously at the top level, which will result in a thrown error if\n             * the user does not handle that event. */\n            process.nextTick(() => {\n                this.listener.onReceiveStatus(this.finalStatus);\n            });\n            /* Leave the http2 stream in flowing state to drain incoming messages, to\n             * ensure that the stream closure completes. The call stream already does\n             * not push more messages after the status is output, so the messages go\n             * nowhere either way. */\n            this.http2Stream.resume();\n        }\n    }\n    trace(text) {\n        logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callId + '] ' + text);\n    }\n    /**\n     * On first call, emits a 'status' event with the given StatusObject.\n     * Subsequent calls are no-ops.\n     * @param status The status of the call.\n     */\n    endCall(status) {\n        /* If the status is OK and a new status comes in (e.g. from a\n         * deserialization failure), that new status takes priority */\n        if (this.finalStatus === null || this.finalStatus.code === constants_1.Status.OK) {\n            this.finalStatus = status;\n            this.maybeOutputStatus();\n        }\n        this.destroyHttp2Stream();\n    }\n    maybeOutputStatus() {\n        if (this.finalStatus !== null) {\n            /* The combination check of readsClosed and that the two message buffer\n             * arrays are empty checks that there all incoming data has been fully\n             * processed */\n            if (this.finalStatus.code !== constants_1.Status.OK ||\n                (this.readsClosed &&\n                    this.unpushedReadMessages.length === 0 &&\n                    !this.isReadFilterPending &&\n                    !this.isPushPending)) {\n                this.outputStatus();\n            }\n        }\n    }\n    push(message) {\n        this.trace('pushing to reader message of length ' +\n            (message instanceof Buffer ? message.length : null));\n        this.canPush = false;\n        this.isPushPending = true;\n        process.nextTick(() => {\n            this.isPushPending = false;\n            /* If we have already output the status any later messages should be\n             * ignored, and can cause out-of-order operation errors higher up in the\n             * stack. Checking as late as possible here to avoid any race conditions.\n             */\n            if (this.statusOutput) {\n                return;\n            }\n            this.listener.onReceiveMessage(message);\n            this.maybeOutputStatus();\n        });\n    }\n    tryPush(messageBytes) {\n        if (this.canPush) {\n            this.http2Stream.pause();\n            this.push(messageBytes);\n        }\n        else {\n            this.trace('unpushedReadMessages.push message of length ' + messageBytes.length);\n            this.unpushedReadMessages.push(messageBytes);\n        }\n    }\n    handleTrailers(headers) {\n        this.serverEndedCall = true;\n        this.callEventTracker.onStreamEnd(true);\n        let headersString = '';\n        for (const header of Object.keys(headers)) {\n            headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n        }\n        this.trace('Received server trailers:\\n' + headersString);\n        let metadata;\n        try {\n            metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n        }\n        catch (e) {\n            metadata = new metadata_1.Metadata();\n        }\n        const metadataMap = metadata.getMap();\n        let status;\n        if (typeof metadataMap['grpc-status'] === 'string') {\n            const receivedStatus = Number(metadataMap['grpc-status']);\n            this.trace('received status code ' + receivedStatus + ' from server');\n            metadata.remove('grpc-status');\n            let details = '';\n            if (typeof metadataMap['grpc-message'] === 'string') {\n                try {\n                    details = decodeURI(metadataMap['grpc-message']);\n                }\n                catch (e) {\n                    details = metadataMap['grpc-message'];\n                }\n                metadata.remove('grpc-message');\n                this.trace('received status details string \"' + details + '\" from server');\n            }\n            status = {\n                code: receivedStatus,\n                details: details,\n                metadata: metadata\n            };\n        }\n        else if (this.httpStatusCode) {\n            status = mapHttpStatusCode(this.httpStatusCode);\n            status.metadata = metadata;\n        }\n        else {\n            status = {\n                code: constants_1.Status.UNKNOWN,\n                details: 'No status information received',\n                metadata: metadata\n            };\n        }\n        // This is a no-op if the call was already ended when handling headers.\n        this.endCall(status);\n    }\n    destroyHttp2Stream() {\n        var _a;\n        // The http2 stream could already have been destroyed if cancelWithStatus\n        // is called in response to an internal http2 error.\n        if (this.http2Stream.destroyed) {\n            return;\n        }\n        /* If the server ended the call, sending an RST_STREAM is redundant, so we\n         * just half close on the client side instead to finish closing the stream.\n         */\n        if (this.serverEndedCall) {\n            this.http2Stream.end();\n        }\n        else {\n            /* If the call has ended with an OK status, communicate that when closing\n             * the stream, partly to avoid a situation in which we detect an error\n             * RST_STREAM as a result after we have the status */\n            let code;\n            if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n                code = http2.constants.NGHTTP2_NO_ERROR;\n            }\n            else {\n                code = http2.constants.NGHTTP2_CANCEL;\n            }\n            this.trace('close http2 stream with code ' + code);\n            this.http2Stream.close(code);\n        }\n    }\n    cancelWithStatus(status, details) {\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        this.endCall({ code: status, details, metadata: new metadata_1.Metadata() });\n    }\n    getStatus() {\n        return this.finalStatus;\n    }\n    getPeer() {\n        return this.transport.getPeerName();\n    }\n    getCallNumber() {\n        return this.callId;\n    }\n    startRead() {\n        /* If the stream has ended with an error, we should not emit any more\n         * messages and we should communicate that the stream has ended */\n        if (this.finalStatus !== null && this.finalStatus.code !== constants_1.Status.OK) {\n            this.readsClosed = true;\n            this.maybeOutputStatus();\n            return;\n        }\n        this.canPush = true;\n        if (this.unpushedReadMessages.length > 0) {\n            const nextMessage = this.unpushedReadMessages.shift();\n            this.push(nextMessage);\n            return;\n        }\n        /* Only resume reading from the http2Stream if we don't have any pending\n         * messages to emit */\n        this.http2Stream.resume();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        const cb = (error) => {\n            /* nextTick here ensures that no stream action can be taken in the call\n             * stack of the write callback, in order to hopefully work around\n             * https://github.com/nodejs/node/issues/49147 */\n            process.nextTick(() => {\n                var _a;\n                let code = constants_1.Status.UNAVAILABLE;\n                if ((error === null || error === void 0 ? void 0 : error.code) ===\n                    'ERR_STREAM_WRITE_AFTER_END') {\n                    code = constants_1.Status.INTERNAL;\n                }\n                if (error) {\n                    this.cancelWithStatus(code, `Write error: ${error.message}`);\n                }\n                (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n            });\n        };\n        this.trace('sending data chunk of length ' + message.length);\n        this.callEventTracker.addMessageSent();\n        try {\n            this.http2Stream.write(message, cb);\n        }\n        catch (error) {\n            this.endCall({\n                code: constants_1.Status.UNAVAILABLE,\n                details: `Write failed with error ${error.message}`,\n                metadata: new metadata_1.Metadata(),\n            });\n        }\n    }\n    halfClose() {\n        this.trace('end() called');\n        this.trace('calling end() on HTTP/2 stream');\n        this.http2Stream.end();\n    }\n}\nexports.Http2SubchannelCall = Http2SubchannelCall;\n//# sourceMappingURL=subchannel-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLWNhbGwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0IsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLHlCQUF5QixtQkFBTyxDQUFDLDJIQUFrQjtBQUNuRCxnQkFBZ0IsbUJBQU8sQ0FBQyw2R0FBVztBQUNuQyxvQkFBb0IsbUJBQU8sQ0FBQyxpSEFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxLQUFLO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxxQkFBcUI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxxQkFBcUI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLHFCQUFxQixzQ0FBc0MsMkJBQTJCO0FBQ2pLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsb0JBQW9CO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGVBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNERBQTREO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxjQUFjO0FBQzlFO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGNBQWM7QUFDbEU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N1YmNoYW5uZWwtY2FsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IdHRwMlN1YmNoYW5uZWxDYWxsID0gdm9pZCAwO1xuY29uc3QgaHR0cDIgPSByZXF1aXJlKFwiaHR0cDJcIik7XG5jb25zdCBvcyA9IHJlcXVpcmUoXCJvc1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3Qgc3RyZWFtX2RlY29kZXJfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1kZWNvZGVyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMiA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3N1YmNoYW5uZWxfY2FsbCc7XG4vKipcbiAqIFNob3VsZCBkbyBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHRoaW5nIGFzIHV0aWwuZ2V0U3lzdGVtRXJyb3JOYW1lIGJ1dCB0aGVcbiAqIFR5cGVTY3JpcHQgdHlwZXMgZG9uJ3QgaGF2ZSB0aGF0IGZ1bmN0aW9uIGZvciBzb21lIHJlYXNvbiBzbyBJIGp1c3QgbWFkZSBteVxuICogb3duLlxuICogQHBhcmFtIGVycm5vXG4gKi9cbmZ1bmN0aW9uIGdldFN5c3RlbUVycm9yTmFtZShlcnJubykge1xuICAgIGZvciAoY29uc3QgW25hbWUsIG51bV0gb2YgT2JqZWN0LmVudHJpZXMob3MuY29uc3RhbnRzLmVycm5vKSkge1xuICAgICAgICBpZiAobnVtID09PSBlcnJubykge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICdVbmtub3duIHN5c3RlbSBlcnJvciAnICsgZXJybm87XG59XG5mdW5jdGlvbiBtYXBIdHRwU3RhdHVzQ29kZShjb2RlKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IGBSZWNlaXZlZCBIVFRQIHN0YXR1cyBjb2RlICR7Y29kZX1gO1xuICAgIGxldCBtYXBwZWRTdGF0dXNDb2RlO1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAvLyBUT0RPKG11cmdhdHJvaWQ5OSk6IGhhbmRsZSAxMDAgYW5kIDEwMVxuICAgICAgICBjYXNlIDQwMDpcbiAgICAgICAgICAgIG1hcHBlZFN0YXR1c0NvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDE6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVVUSEVOVElDQVRFRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICAgIG1hcHBlZFN0YXR1c0NvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuUEVSTUlTU0lPTl9ERU5JRUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDQ6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0Mjk6XG4gICAgICAgIGNhc2UgNTAyOlxuICAgICAgICBjYXNlIDUwMzpcbiAgICAgICAgY2FzZSA1MDQ6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV047XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IG1hcHBlZFN0YXR1c0NvZGUsXG4gICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpXG4gICAgfTtcbn1cbmNsYXNzIEh0dHAyU3ViY2hhbm5lbENhbGwge1xuICAgIGNvbnN0cnVjdG9yKGh0dHAyU3RyZWFtLCBjYWxsRXZlbnRUcmFja2VyLCBsaXN0ZW5lciwgdHJhbnNwb3J0LCBjYWxsSWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmh0dHAyU3RyZWFtID0gaHR0cDJTdHJlYW07XG4gICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlciA9IGNhbGxFdmVudFRyYWNrZXI7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIHRoaXMuY2FsbElkID0gY2FsbElkO1xuICAgICAgICB0aGlzLmlzUmVhZEZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1B1c2hQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuUHVzaCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgYW4gJ2VuZCcgZXZlbnQgaGFzIGNvbWUgZnJvbSB0aGUgaHR0cDIgc3RyZWFtLCBzbyB0aGVyZVxuICAgICAgICAgKiB3aWxsIGJlIG5vIG1vcmUgZGF0YSBldmVudHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlYWRzQ2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdHVzT3V0cHV0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudW5wdXNoZWRSZWFkTWVzc2FnZXMgPSBbXTtcbiAgICAgICAgLy8gVGhpcyBpcyBwb3B1bGF0ZWQgKG5vbi1udWxsKSBpZiBhbmQgb25seSBpZiB0aGUgY2FsbCBoYXMgZW5kZWRcbiAgICAgICAgdGhpcy5maW5hbFN0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VydmVyRW5kZWRDYWxsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkRyb3BwZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbWF4UmVjZWl2ZU1lc3NhZ2VMZW5ndGggPSAoX2EgPSB0cmFuc3BvcnQuZ2V0T3B0aW9ucygpWydncnBjLm1heF9yZWNlaXZlX21lc3NhZ2VfbGVuZ3RoJ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnN0YW50c18xLkRFRkFVTFRfTUFYX1JFQ0VJVkVfTUVTU0FHRV9MRU5HVEg7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBzdHJlYW1fZGVjb2Rlcl8xLlN0cmVhbURlY29kZXIobWF4UmVjZWl2ZU1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICBodHRwMlN0cmVhbS5vbigncmVzcG9uc2UnLCAoaGVhZGVycywgZmxhZ3MpID0+IHtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzU3RyaW5nID0gJyc7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnNTdHJpbmcgKz0gJ1xcdFxcdCcgKyBoZWFkZXIgKyAnOiAnICsgaGVhZGVyc1toZWFkZXJdICsgJ1xcbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzZXJ2ZXIgaGVhZGVyczpcXG4nICsgaGVhZGVyc1N0cmluZyk7XG4gICAgICAgICAgICB0aGlzLmh0dHBTdGF0dXNDb2RlID0gaGVhZGVyc1snOnN0YXR1cyddO1xuICAgICAgICAgICAgaWYgKGZsYWdzICYgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfRkxBR19FTkRfU1RSRUFNKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVUcmFpbGVycyhoZWFkZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IG1ldGFkYXRhXzEuTWV0YWRhdGEuZnJvbUh0dHAySGVhZGVycyhoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbigndHJhaWxlcnMnLCAoaGVhZGVycykgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVUcmFpbGVycyhoZWFkZXJzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGh0dHAyU3RyZWFtLm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIC8qIElmIHRoZSBzdGF0dXMgaGFzIGFscmVhZHkgYmVlbiBvdXRwdXQsIGFsbG93IHRoZSBodHRwMiBzdHJlYW0gdG9cbiAgICAgICAgICAgICAqIGRyYWluIHdpdGhvdXQgcHJvY2Vzc2luZyB0aGUgZGF0YS4gKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1c091dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ3JlY2VpdmUgSFRUUC8yIGRhdGEgZnJhbWUgb2YgbGVuZ3RoICcgKyBkYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZXM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gdGhpcy5kZWNvZGVyLndyaXRlKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvKiBTb21lIHNlcnZlcnMgc2VuZCBIVE1MIGVycm9yIHBhZ2VzIGFsb25nIHdpdGggSFRUUCBzdGF0dXMgY29kZXMuXG4gICAgICAgICAgICAgICAgICogV2hlbiB0aGUgY2xpZW50IGF0dGVtcHRzIHRvIHBhcnNlIHRoaXMgYXMgYSBsZW5ndGgtZGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogbWVzc2FnZSwgdGhlIHBhcnNlZCBtZXNzYWdlIHNpemUgaXMgZ3JlYXRlciB0aGFuIHRoZSBkZWZhdWx0IGxpbWl0LFxuICAgICAgICAgICAgICAgICAqIHJlc3VsdGluZyBpbiBhIG1lc3NhZ2UgZGVjb2RpbmcgZXJyb3IuIEluIHRoYXQgc2l0dWF0aW9uLCB0aGUgSFRUUFxuICAgICAgICAgICAgICAgICAqIGVycm9yIGNvZGUgaW5mb3JtYXRpb24gaXMgbW9yZSB1c2VmdWwgdG8gdGhlIHVzZXIgdGhhbiB0aGVcbiAgICAgICAgICAgICAgICAgKiBSRVNPVVJDRV9FWEhBVVNURUQgZXJyb3IgaXMsIHNvIHdlIHJlcG9ydCB0aGF0IGluc3RlYWQuIE5vcm1hbGx5LFxuICAgICAgICAgICAgICAgICAqIHdlIGRlbGF5IHByb2Nlc3NpbmcgdGhlIEhUVFAgc3RhdHVzIHVudGlsIGFmdGVyIHRoZSBzdHJlYW0gZW5kcywgdG9cbiAgICAgICAgICAgICAgICAgKiBwcmlvcml0aXplIHJlcG9ydGluZyB0aGUgZ1JQQyBzdGF0dXMgZnJvbSB0cmFpbGVycyBpZiBpdCBpcyBwcmVzZW50LFxuICAgICAgICAgICAgICAgICAqIGJ1dCB3aGVuIHRoZXJlIGlzIGEgbWVzc2FnZSBwYXJzaW5nIGVycm9yIHdlIGVuZCB0aGUgc3RyZWFtIGVhcmx5XG4gICAgICAgICAgICAgICAgICogYmVmb3JlIHByb2Nlc3NpbmcgdHJhaWxlcnMuICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaHR0cFN0YXR1c0NvZGUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmh0dHBTdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkU3RhdHVzID0gbWFwSHR0cFN0YXR1c0NvZGUodGhpcy5odHRwU3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhtYXBwZWRTdGF0dXMuY29kZSwgbWFwcGVkU3RhdHVzLmRldGFpbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ3BhcnNlZCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5hZGRNZXNzYWdlUmVjZWl2ZWQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyeVB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWFkc0Nsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1heWJlT3V0cHV0U3RhdHVzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlcnZlckVuZGVkQ2FsbCA9IHRydWU7XG4gICAgICAgICAgICAvKiBVc2UgcHJvY2Vzcy5uZXh0IHRpY2sgdG8gZW5zdXJlIHRoYXQgdGhpcyBjb2RlIGhhcHBlbnMgYWZ0ZXIgYW55XG4gICAgICAgICAgICAgKiBcImVycm9yXCIgZXZlbnQgdGhhdCBtYXkgYmUgZW1pdHRlZCBhdCBhYm91dCB0aGUgc2FtZSB0aW1lLCBzbyB0aGF0XG4gICAgICAgICAgICAgKiB3ZSBjYW4gYnViYmxlIHVwIHRoZSBlcnJvciBtZXNzYWdlIGZyb20gdGhhdCBldmVudC4gKi9cbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdIVFRQLzIgc3RyZWFtIGNsb3NlZCB3aXRoIGNvZGUgJyArIGh0dHAyU3RyZWFtLnJzdENvZGUpO1xuICAgICAgICAgICAgICAgIC8qIElmIHdlIGhhdmUgYSBmaW5hbCBzdGF0dXMgd2l0aCBhbiBPSyBzdGF0dXMgY29kZSwgdGhhdCBtZWFucyB0aGF0XG4gICAgICAgICAgICAgICAgICogd2UgaGF2ZSByZWNlaXZlZCBhbGwgb2YgdGhlIG1lc3NhZ2VzIGFuZCB3ZSBoYXZlIHByb2Nlc3NlZCB0aGVcbiAgICAgICAgICAgICAgICAgKiB0cmFpbGVycyBhbmQgdGhlIGNhbGwgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSwgc28gaXQgZG9lc24ndCBtYXR0ZXJcbiAgICAgICAgICAgICAgICAgKiBob3cgdGhlIHN0cmVhbSBlbmRzIGFmdGVyIHRoYXQgKi9cbiAgICAgICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMuZmluYWxTdGF0dXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2RlKSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNvZGU7XG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbHMgPSAnJztcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGh0dHAyU3RyZWFtLnJzdENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9OT19FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIElmIHdlIGdldCBhIE5PX0VSUk9SIGNvZGUgYW5kIHdlIGFscmVhZHkgaGF2ZSBhIHN0YXR1cywgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBzdHJlYW0gY29tcGxldGVkIHByb3Blcmx5IGFuZCB3ZSBqdXN0IGhhdmVuJ3QgZnVsbHkgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBpdCB5ZXQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbmFsU3RhdHVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaHR0cFN0YXR1c0NvZGUgJiYgdGhpcy5odHRwU3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkU3RhdHVzID0gbWFwSHR0cFN0YXR1c0NvZGUodGhpcy5odHRwU3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IG1hcHBlZFN0YXR1cy5jb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBtYXBwZWRTdGF0dXMuZGV0YWlscztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGBSZWNlaXZlZCBSU1RfU1RSRUFNIHdpdGggY29kZSAke2h0dHAyU3RyZWFtLnJzdENvZGV9IChDYWxsIGVuZGVkIHdpdGhvdXQgZ1JQQyBzdGF0dXMpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX1JFRlVTRURfU1RSRUFNOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSAnU3RyZWFtIHJlZnVzZWQgYnkgc2VydmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEJ1ZyByZXBvcnRzIGluZGljYXRlIHRoYXQgTm9kZSBzeW50aGVzaXplcyBhIE5HSFRUUDJfQ0FOQ0VMXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBjb2RlIGZyb20gY29ubmVjdGlvbiBkcm9wcy4gV2Ugd2FudCB0byBwcmlvcml0aXplIHJlcG9ydGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogYW4gdW5hdmFpbGFibGUgc3RhdHVzIHdoZW4gdGhhdCBoYXBwZW5zLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkRyb3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSAnQ29ubmVjdGlvbiBkcm9wcGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSAnQ2FsbCBjYW5jZWxsZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfRU5IQU5DRV9ZT1VSX0NBTE06XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSAnQmFuZHdpZHRoIGV4aGF1c3RlZCBvciBtZW1vcnkgbGltaXQgZXhjZWVkZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfSU5BREVRVUFURV9TRUNVUklUWTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuUEVSTUlTU0lPTl9ERU5JRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ1Byb3RvY29sIG5vdCBzZWN1cmUgZW5vdWdoJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0lOVEVSTkFMX0VSUk9SOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVybmFsRXJyb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBUaGlzIGVycm9yIGNvZGUgd2FzIHByZXZpb3VzbHkgaGFuZGxlZCBpbiB0aGUgZGVmYXVsdCBjYXNlLCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGVyZSBhcmUgc2V2ZXJhbCBpbnN0YW5jZXMgb2YgaXQgb25saW5lLCBzbyBJIHdhbnRlZCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBlcnJvciBtZXNzYWdlIHNvIHRoYXQgcGVvcGxlIGZpbmQgZXhpc3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBpbmZvcm1hdGlvbiBpbiBzZWFyY2hlcywgYnV0IGFsc28gaW5jbHVkZSB0aGUgbW9yZSByZWNvZ25pemFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIG1lc3NhZ2UuICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGBSZWNlaXZlZCBSU1RfU1RSRUFNIHdpdGggY29kZSAke2h0dHAyU3RyZWFtLnJzdENvZGV9IChJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVybmFsRXJyb3IuY29kZSA9PT0gJ0VDT05OUkVTRVQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxFcnJvci5jb2RlID09PSAnRVRJTUVET1VUJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gdGhpcy5pbnRlcm5hbEVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBUaGUgXCJSZWNlaXZlZCBSU1RfU1RSRUFNIHdpdGggY29kZSAuLi5cIiBlcnJvciBpcyBwcmVzZXJ2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaGVyZSBmb3IgY29udGludWl0eSB3aXRoIGVycm9ycyByZXBvcnRlZCBvbmxpbmUsIGJ1dCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZXJyb3IgbWVzc2FnZSBhdCB0aGUgZW5kIHdpbGwgcHJvYmFibHkgYmUgbW9yZSByZWxldmFudCBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBtb3N0IGNhc2VzLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gYFJlY2VpdmVkIFJTVF9TVFJFQU0gd2l0aCBjb2RlICR7aHR0cDJTdHJlYW0ucnN0Q29kZX0gdHJpZ2dlcmVkIGJ5IGludGVybmFsIGNsaWVudCBlcnJvcjogJHt0aGlzLmludGVybmFsRXJyb3IubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBgUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgJHtodHRwMlN0cmVhbS5yc3RDb2RlfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBuby1vcCBpZiB0cmFpbGVycyB3ZXJlIHJlY2VpdmVkIGF0IGFsbC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIE9LLCBiZWNhdXNlIHN0YXR1cyBjb2RlcyBlbWl0dGVkIGhlcmUgY29ycmVzcG9uZCB0byBtb3JlXG4gICAgICAgICAgICAgICAgLy8gY2F0YXN0cm9waGljIGlzc3VlcyB0aGF0IHByZXZlbnQgdXMgZnJvbSByZWNlaXZpbmcgdHJhaWxlcnMgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgcGxhY2UuXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRDYWxsKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIHJzdENvZGU6IGh0dHAyU3RyZWFtLnJzdENvZGUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGh0dHAyU3RyZWFtLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgIC8qIFdlIG5lZWQgYW4gZXJyb3IgaGFuZGxlciBoZXJlIHRvIHN0b3AgXCJVbmNhdWdodCBFcnJvclwiIGV4Y2VwdGlvbnNcbiAgICAgICAgICAgICAqIGZyb20gYnViYmxpbmcgdXAuIEhvd2V2ZXIsIGVycm9ycyBoZXJlIHNob3VsZCBhbGwgY29ycmVzcG9uZCB0b1xuICAgICAgICAgICAgICogXCJjbG9zZVwiIGV2ZW50cywgd2hlcmUgd2Ugd2lsbCBoYW5kbGUgdGhlIGVycm9yIG1vcmUgZ3JhbnVsYXJseSAqL1xuICAgICAgICAgICAgLyogU3BlY2lmaWNhbGx5IGxvb2tpbmcgZm9yIHN0cmVhbSBlcnJvcnMgdGhhdCB3ZXJlICpub3QqIGNvbnN0cnVjdGVkXG4gICAgICAgICAgICAgKiBmcm9tIGEgUlNUX1NUUkVBTSByZXNwb25zZSBoZXJlOlxuICAgICAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvOGI4NjIwZDU4MDMxNDA1MDE3NTk4MzQwMmRmZGRmMjY3NGU4ZTIyYS9saWIvaW50ZXJuYWwvaHR0cDIvY29yZS5qcyNMMjI2N1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZXJyLmNvZGUgIT09ICdFUlJfSFRUUDJfU1RSRUFNX0VSUk9SJykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ05vZGUgZXJyb3IgZXZlbnQ6IG1lc3NhZ2U9JyArXG4gICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlICtcbiAgICAgICAgICAgICAgICAgICAgJyBjb2RlPScgK1xuICAgICAgICAgICAgICAgICAgICBlcnIuY29kZSArXG4gICAgICAgICAgICAgICAgICAgICcgZXJybm89JyArXG4gICAgICAgICAgICAgICAgICAgIGdldFN5c3RlbUVycm9yTmFtZShlcnIuZXJybm8pICtcbiAgICAgICAgICAgICAgICAgICAgJyBzeXNjYWxsPScgK1xuICAgICAgICAgICAgICAgICAgICBlcnIuc3lzY2FsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcm5hbEVycm9yID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lSW5mbygpIHtcbiAgICAgICAgcmV0dXJuIFtgcmVtb3RlX2FkZHI9JHt0aGlzLmdldFBlZXIoKX1gXTtcbiAgICB9XG4gICAgb25EaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Ecm9wcGVkID0gdHJ1ZTtcbiAgICAgICAgLyogR2l2ZSB0aGUgY2FsbCBhbiBldmVudCBsb29wIGN5Y2xlIHRvIGZpbmlzaCBuYXR1cmFsbHkgYmVmb3JlIHJlcG9ydGluZ1xuICAgICAgICAgKiB0aGUgZGlzY29ubmVjdGlvbiBhcyBhbiBlcnJvci4gKi9cbiAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdDb25uZWN0aW9uIGRyb3BwZWQnLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvdXRwdXRTdGF0dXMoKSB7XG4gICAgICAgIC8qIFByZWNvbmRpdGlvbjogdGhpcy5maW5hbFN0YXR1cyAhPT0gbnVsbCAqL1xuICAgICAgICBpZiAoIXRoaXMuc3RhdHVzT3V0cHV0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c091dHB1dCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdlbmRlZCB3aXRoIHN0YXR1czogY29kZT0nICtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmFsU3RhdHVzLmNvZGUgK1xuICAgICAgICAgICAgICAgICcgZGV0YWlscz1cIicgK1xuICAgICAgICAgICAgICAgIHRoaXMuZmluYWxTdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgJ1wiJyk7XG4gICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIub25DYWxsRW5kKHRoaXMuZmluYWxTdGF0dXMpO1xuICAgICAgICAgICAgLyogV2UgZGVsYXkgdGhlIGFjdHVhbCBhY3Rpb24gb2YgYnViYmxpbmcgdXAgdGhlIHN0YXR1cyB0byBpbnN1bGF0ZSB0aGVcbiAgICAgICAgICAgICAqIGNsZWFudXAgY29kZSBpbiB0aGlzIGNsYXNzIGZyb20gYW55IGVycm9ycyB0aGF0IG1heSBiZSB0aHJvd24gaW4gdGhlXG4gICAgICAgICAgICAgKiB1cHBlciBsYXllcnMgYXMgYSByZXN1bHQgb2YgYnViYmxpbmcgdXAgdGhlIHN0YXR1cy4gSW4gcGFydGljdWxhcixcbiAgICAgICAgICAgICAqIGlmIHRoZSBzdGF0dXMgaXMgbm90IE9LLCB0aGUgXCJlcnJvclwiIGV2ZW50IG1heSBiZSBlbWl0dGVkXG4gICAgICAgICAgICAgKiBzeW5jaHJvbm91c2x5IGF0IHRoZSB0b3AgbGV2ZWwsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgdGhyb3duIGVycm9yIGlmXG4gICAgICAgICAgICAgKiB0aGUgdXNlciBkb2VzIG5vdCBoYW5kbGUgdGhhdCBldmVudC4gKi9cbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMuZmluYWxTdGF0dXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKiBMZWF2ZSB0aGUgaHR0cDIgc3RyZWFtIGluIGZsb3dpbmcgc3RhdGUgdG8gZHJhaW4gaW5jb21pbmcgbWVzc2FnZXMsIHRvXG4gICAgICAgICAgICAgKiBlbnN1cmUgdGhhdCB0aGUgc3RyZWFtIGNsb3N1cmUgY29tcGxldGVzLiBUaGUgY2FsbCBzdHJlYW0gYWxyZWFkeSBkb2VzXG4gICAgICAgICAgICAgKiBub3QgcHVzaCBtb3JlIG1lc3NhZ2VzIGFmdGVyIHRoZSBzdGF0dXMgaXMgb3V0cHV0LCBzbyB0aGUgbWVzc2FnZXMgZ29cbiAgICAgICAgICAgICAqIG5vd2hlcmUgZWl0aGVyIHdheS4gKi9cbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0ucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18yLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICdbJyArIHRoaXMuY2FsbElkICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbiBmaXJzdCBjYWxsLCBlbWl0cyBhICdzdGF0dXMnIGV2ZW50IHdpdGggdGhlIGdpdmVuIFN0YXR1c09iamVjdC5cbiAgICAgKiBTdWJzZXF1ZW50IGNhbGxzIGFyZSBuby1vcHMuXG4gICAgICogQHBhcmFtIHN0YXR1cyBUaGUgc3RhdHVzIG9mIHRoZSBjYWxsLlxuICAgICAqL1xuICAgIGVuZENhbGwoc3RhdHVzKSB7XG4gICAgICAgIC8qIElmIHRoZSBzdGF0dXMgaXMgT0sgYW5kIGEgbmV3IHN0YXR1cyBjb21lcyBpbiAoZS5nLiBmcm9tIGFcbiAgICAgICAgICogZGVzZXJpYWxpemF0aW9uIGZhaWx1cmUpLCB0aGF0IG5ldyBzdGF0dXMgdGFrZXMgcHJpb3JpdHkgKi9cbiAgICAgICAgaWYgKHRoaXMuZmluYWxTdGF0dXMgPT09IG51bGwgfHwgdGhpcy5maW5hbFN0YXR1cy5jb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgIHRoaXMuZmluYWxTdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICB0aGlzLm1heWJlT3V0cHV0U3RhdHVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0cm95SHR0cDJTdHJlYW0oKTtcbiAgICB9XG4gICAgbWF5YmVPdXRwdXRTdGF0dXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbmFsU3RhdHVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvKiBUaGUgY29tYmluYXRpb24gY2hlY2sgb2YgcmVhZHNDbG9zZWQgYW5kIHRoYXQgdGhlIHR3byBtZXNzYWdlIGJ1ZmZlclxuICAgICAgICAgICAgICogYXJyYXlzIGFyZSBlbXB0eSBjaGVja3MgdGhhdCB0aGVyZSBhbGwgaW5jb21pbmcgZGF0YSBoYXMgYmVlbiBmdWxseVxuICAgICAgICAgICAgICogcHJvY2Vzc2VkICovXG4gICAgICAgICAgICBpZiAodGhpcy5maW5hbFN0YXR1cy5jb2RlICE9PSBjb25zdGFudHNfMS5TdGF0dXMuT0sgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5yZWFkc0Nsb3NlZCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5pc1JlYWRGaWx0ZXJQZW5kaW5nICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLmlzUHVzaFBlbmRpbmcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwdXNoKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy50cmFjZSgncHVzaGluZyB0byByZWFkZXIgbWVzc2FnZSBvZiBsZW5ndGggJyArXG4gICAgICAgICAgICAobWVzc2FnZSBpbnN0YW5jZW9mIEJ1ZmZlciA/IG1lc3NhZ2UubGVuZ3RoIDogbnVsbCkpO1xuICAgICAgICB0aGlzLmNhblB1c2ggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1B1c2hQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzUHVzaFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qIElmIHdlIGhhdmUgYWxyZWFkeSBvdXRwdXQgdGhlIHN0YXR1cyBhbnkgbGF0ZXIgbWVzc2FnZXMgc2hvdWxkIGJlXG4gICAgICAgICAgICAgKiBpZ25vcmVkLCBhbmQgY2FuIGNhdXNlIG91dC1vZi1vcmRlciBvcGVyYXRpb24gZXJyb3JzIGhpZ2hlciB1cCBpbiB0aGVcbiAgICAgICAgICAgICAqIHN0YWNrLiBDaGVja2luZyBhcyBsYXRlIGFzIHBvc3NpYmxlIGhlcmUgdG8gYXZvaWQgYW55IHJhY2UgY29uZGl0aW9ucy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzT3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdHJ5UHVzaChtZXNzYWdlQnl0ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuUHVzaCkge1xuICAgICAgICAgICAgdGhpcy5odHRwMlN0cmVhbS5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoKG1lc3NhZ2VCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCd1bnB1c2hlZFJlYWRNZXNzYWdlcy5wdXNoIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgKyBtZXNzYWdlQnl0ZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMudW5wdXNoZWRSZWFkTWVzc2FnZXMucHVzaChtZXNzYWdlQnl0ZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZVRyYWlsZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5zZXJ2ZXJFbmRlZENhbGwgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIub25TdHJlYW1FbmQodHJ1ZSk7XG4gICAgICAgIGxldCBoZWFkZXJzU3RyaW5nID0gJyc7XG4gICAgICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgICAgICBoZWFkZXJzU3RyaW5nICs9ICdcXHRcXHQnICsgaGVhZGVyICsgJzogJyArIGhlYWRlcnNbaGVhZGVyXSArICdcXG4nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIHNlcnZlciB0cmFpbGVyczpcXG4nICsgaGVhZGVyc1N0cmluZyk7XG4gICAgICAgIGxldCBtZXRhZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1ldGFkYXRhID0gbWV0YWRhdGFfMS5NZXRhZGF0YS5mcm9tSHR0cDJIZWFkZXJzKGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0YWRhdGFNYXAgPSBtZXRhZGF0YS5nZXRNYXAoKTtcbiAgICAgICAgbGV0IHN0YXR1cztcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRhZGF0YU1hcFsnZ3JwYy1zdGF0dXMnXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVkU3RhdHVzID0gTnVtYmVyKG1ldGFkYXRhTWFwWydncnBjLXN0YXR1cyddKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ3JlY2VpdmVkIHN0YXR1cyBjb2RlICcgKyByZWNlaXZlZFN0YXR1cyArICcgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1zdGF0dXMnKTtcbiAgICAgICAgICAgIGxldCBkZXRhaWxzID0gJyc7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1ldGFkYXRhTWFwWydncnBjLW1lc3NhZ2UnXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gZGVjb2RlVVJJKG1ldGFkYXRhTWFwWydncnBjLW1lc3NhZ2UnXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBtZXRhZGF0YU1hcFsnZ3JwYy1tZXNzYWdlJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1tZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgncmVjZWl2ZWQgc3RhdHVzIGRldGFpbHMgc3RyaW5nIFwiJyArIGRldGFpbHMgKyAnXCIgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiByZWNlaXZlZFN0YXR1cyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmh0dHBTdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBtYXBIdHRwU3RhdHVzQ29kZSh0aGlzLmh0dHBTdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIHN0YXR1cy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdObyBzdGF0dXMgaW5mb3JtYXRpb24gcmVjZWl2ZWQnLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIGlzIGEgbm8tb3AgaWYgdGhlIGNhbGwgd2FzIGFscmVhZHkgZW5kZWQgd2hlbiBoYW5kbGluZyBoZWFkZXJzLlxuICAgICAgICB0aGlzLmVuZENhbGwoc3RhdHVzKTtcbiAgICB9XG4gICAgZGVzdHJveUh0dHAyU3RyZWFtKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFRoZSBodHRwMiBzdHJlYW0gY291bGQgYWxyZWFkeSBoYXZlIGJlZW4gZGVzdHJveWVkIGlmIGNhbmNlbFdpdGhTdGF0dXNcbiAgICAgICAgLy8gaXMgY2FsbGVkIGluIHJlc3BvbnNlIHRvIGFuIGludGVybmFsIGh0dHAyIGVycm9yLlxuICAgICAgICBpZiAodGhpcy5odHRwMlN0cmVhbS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiBJZiB0aGUgc2VydmVyIGVuZGVkIHRoZSBjYWxsLCBzZW5kaW5nIGFuIFJTVF9TVFJFQU0gaXMgcmVkdW5kYW50LCBzbyB3ZVxuICAgICAgICAgKiBqdXN0IGhhbGYgY2xvc2Ugb24gdGhlIGNsaWVudCBzaWRlIGluc3RlYWQgdG8gZmluaXNoIGNsb3NpbmcgdGhlIHN0cmVhbS5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnNlcnZlckVuZGVkQ2FsbCkge1xuICAgICAgICAgICAgdGhpcy5odHRwMlN0cmVhbS5lbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIElmIHRoZSBjYWxsIGhhcyBlbmRlZCB3aXRoIGFuIE9LIHN0YXR1cywgY29tbXVuaWNhdGUgdGhhdCB3aGVuIGNsb3NpbmdcbiAgICAgICAgICAgICAqIHRoZSBzdHJlYW0sIHBhcnRseSB0byBhdm9pZCBhIHNpdHVhdGlvbiBpbiB3aGljaCB3ZSBkZXRlY3QgYW4gZXJyb3JcbiAgICAgICAgICAgICAqIFJTVF9TVFJFQU0gYXMgYSByZXN1bHQgYWZ0ZXIgd2UgaGF2ZSB0aGUgc3RhdHVzICovXG4gICAgICAgICAgICBsZXQgY29kZTtcbiAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5maW5hbFN0YXR1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvZGUpID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICBjb2RlID0gaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2RlID0gaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfQ0FOQ0VMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjZSgnY2xvc2UgaHR0cDIgc3RyZWFtIHdpdGggY29kZSAnICsgY29kZSk7XG4gICAgICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLmNsb3NlKGNvZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbmNlbFdpdGhTdGF0dXMgY29kZTogJyArIHN0YXR1cyArICcgZGV0YWlsczogXCInICsgZGV0YWlscyArICdcIicpO1xuICAgICAgICB0aGlzLmVuZENhbGwoeyBjb2RlOiBzdGF0dXMsIGRldGFpbHMsIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpIH0pO1xuICAgIH1cbiAgICBnZXRTdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmFsU3RhdHVzO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0UGVlck5hbWUoKTtcbiAgICB9XG4gICAgZ2V0Q2FsbE51bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbElkO1xuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIC8qIElmIHRoZSBzdHJlYW0gaGFzIGVuZGVkIHdpdGggYW4gZXJyb3IsIHdlIHNob3VsZCBub3QgZW1pdCBhbnkgbW9yZVxuICAgICAgICAgKiBtZXNzYWdlcyBhbmQgd2Ugc2hvdWxkIGNvbW11bmljYXRlIHRoYXQgdGhlIHN0cmVhbSBoYXMgZW5kZWQgKi9cbiAgICAgICAgaWYgKHRoaXMuZmluYWxTdGF0dXMgIT09IG51bGwgJiYgdGhpcy5maW5hbFN0YXR1cy5jb2RlICE9PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgIHRoaXMucmVhZHNDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuUHVzaCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoKG5leHRNZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiBPbmx5IHJlc3VtZSByZWFkaW5nIGZyb20gdGhlIGh0dHAyU3RyZWFtIGlmIHdlIGRvbid0IGhhdmUgYW55IHBlbmRpbmdcbiAgICAgICAgICogbWVzc2FnZXMgdG8gZW1pdCAqL1xuICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnd3JpdGUoKSBjYWxsZWQgd2l0aCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYiA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgLyogbmV4dFRpY2sgaGVyZSBlbnN1cmVzIHRoYXQgbm8gc3RyZWFtIGFjdGlvbiBjYW4gYmUgdGFrZW4gaW4gdGhlIGNhbGxcbiAgICAgICAgICAgICAqIHN0YWNrIG9mIHRoZSB3cml0ZSBjYWxsYmFjaywgaW4gb3JkZXIgdG8gaG9wZWZ1bGx5IHdvcmsgYXJvdW5kXG4gICAgICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzQ5MTQ3ICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEU7XG4gICAgICAgICAgICAgICAgaWYgKChlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IuY29kZSkgPT09XG4gICAgICAgICAgICAgICAgICAgICdFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb2RlLCBgV3JpdGUgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9hID0gY29udGV4dC5jYWxsYmFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFjZSgnc2VuZGluZyBkYXRhIGNodW5rIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIuYWRkTWVzc2FnZVNlbnQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0ud3JpdGUobWVzc2FnZSwgY2IpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5lbmRDYWxsKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYFdyaXRlIGZhaWxlZCB3aXRoIGVycm9yICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFsZkNsb3NlKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdlbmQoKSBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy50cmFjZSgnY2FsbGluZyBlbmQoKSBvbiBIVFRQLzIgc3RyZWFtJyk7XG4gICAgICAgIHRoaXMuaHR0cDJTdHJlYW0uZW5kKCk7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwMlN1YmNoYW5uZWxDYWxsID0gSHR0cDJTdWJjaGFubmVsQ2FsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtY2FsbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseSubchannelWrapper = void 0;\nclass BaseSubchannelWrapper {\n    constructor(child) {\n        this.child = child;\n        this.healthy = true;\n        this.healthListeners = new Set();\n        child.addHealthStateWatcher(childHealthy => {\n            /* A change to the child health state only affects this wrapper's overall\n             * health state if this wrapper is reporting healthy. */\n            if (this.healthy) {\n                this.updateHealthListeners();\n            }\n        });\n    }\n    updateHealthListeners() {\n        for (const listener of this.healthListeners) {\n            listener(this.isHealthy());\n        }\n    }\n    getConnectivityState() {\n        return this.child.getConnectivityState();\n    }\n    addConnectivityStateListener(listener) {\n        this.child.addConnectivityStateListener(listener);\n    }\n    removeConnectivityStateListener(listener) {\n        this.child.removeConnectivityStateListener(listener);\n    }\n    startConnecting() {\n        this.child.startConnecting();\n    }\n    getAddress() {\n        return this.child.getAddress();\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        this.child.throttleKeepalive(newKeepaliveTime);\n    }\n    ref() {\n        this.child.ref();\n    }\n    unref() {\n        this.child.unref();\n    }\n    getChannelzRef() {\n        return this.child.getChannelzRef();\n    }\n    isHealthy() {\n        return this.healthy && this.child.isHealthy();\n    }\n    addHealthStateWatcher(listener) {\n        this.healthListeners.add(listener);\n    }\n    removeHealthStateWatcher(listener) {\n        this.healthListeners.delete(listener);\n    }\n    setHealthy(healthy) {\n        if (healthy !== this.healthy) {\n            this.healthy = healthy;\n            /* A change to this wrapper's health state only affects the overall\n             * reported health state if the child is healthy. */\n            if (this.child.isHealthy()) {\n                this.updateHealthListeners();\n            }\n        }\n    }\n    getRealSubchannel() {\n        return this.child.getRealSubchannel();\n    }\n    realSubchannelEquals(other) {\n        return this.getRealSubchannel() === other.getRealSubchannel();\n    }\n    getCallCredentials() {\n        return this.child.getCallCredentials();\n    }\n}\nexports.BaseSubchannelWrapper = BaseSubchannelWrapper;\n//# sourceMappingURL=subchannel-interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLWludGVyZmFjZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLWludGVyZmFjZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlU3ViY2hhbm5lbFdyYXBwZXIgPSB2b2lkIDA7XG5jbGFzcyBCYXNlU3ViY2hhbm5lbFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkKSB7XG4gICAgICAgIHRoaXMuY2hpbGQgPSBjaGlsZDtcbiAgICAgICAgdGhpcy5oZWFsdGh5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oZWFsdGhMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGNoaWxkLmFkZEhlYWx0aFN0YXRlV2F0Y2hlcihjaGlsZEhlYWx0aHkgPT4ge1xuICAgICAgICAgICAgLyogQSBjaGFuZ2UgdG8gdGhlIGNoaWxkIGhlYWx0aCBzdGF0ZSBvbmx5IGFmZmVjdHMgdGhpcyB3cmFwcGVyJ3Mgb3ZlcmFsbFxuICAgICAgICAgICAgICogaGVhbHRoIHN0YXRlIGlmIHRoaXMgd3JhcHBlciBpcyByZXBvcnRpbmcgaGVhbHRoeS4gKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWx0aHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhlYWx0aExpc3RlbmVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlSGVhbHRoTGlzdGVuZXJzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuaGVhbHRoTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcih0aGlzLmlzSGVhbHRoeSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKTtcbiAgICB9XG4gICAgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmNoaWxkLmFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH1cbiAgICByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuY2hpbGQucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfVxuICAgIHN0YXJ0Q29ubmVjdGluZygpIHtcbiAgICAgICAgdGhpcy5jaGlsZC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICB9XG4gICAgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0QWRkcmVzcygpO1xuICAgIH1cbiAgICB0aHJvdHRsZUtlZXBhbGl2ZShuZXdLZWVwYWxpdmVUaW1lKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudGhyb3R0bGVLZWVwYWxpdmUobmV3S2VlcGFsaXZlVGltZSk7XG4gICAgfVxuICAgIHJlZigpIHtcbiAgICAgICAgdGhpcy5jaGlsZC5yZWYoKTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudW5yZWYoKTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpSZWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldENoYW5uZWx6UmVmKCk7XG4gICAgfVxuICAgIGlzSGVhbHRoeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhbHRoeSAmJiB0aGlzLmNoaWxkLmlzSGVhbHRoeSgpO1xuICAgIH1cbiAgICBhZGRIZWFsdGhTdGF0ZVdhdGNoZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5oZWFsdGhMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmVtb3ZlSGVhbHRoU3RhdGVXYXRjaGVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaGVhbHRoTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICAgIHNldEhlYWx0aHkoaGVhbHRoeSkge1xuICAgICAgICBpZiAoaGVhbHRoeSAhPT0gdGhpcy5oZWFsdGh5KSB7XG4gICAgICAgICAgICB0aGlzLmhlYWx0aHkgPSBoZWFsdGh5O1xuICAgICAgICAgICAgLyogQSBjaGFuZ2UgdG8gdGhpcyB3cmFwcGVyJ3MgaGVhbHRoIHN0YXRlIG9ubHkgYWZmZWN0cyB0aGUgb3ZlcmFsbFxuICAgICAgICAgICAgICogcmVwb3J0ZWQgaGVhbHRoIHN0YXRlIGlmIHRoZSBjaGlsZCBpcyBoZWFsdGh5LiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGQuaXNIZWFsdGh5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhlYWx0aExpc3RlbmVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldFJlYWxTdWJjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRSZWFsU3ViY2hhbm5lbCgpO1xuICAgIH1cbiAgICByZWFsU3ViY2hhbm5lbEVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWFsU3ViY2hhbm5lbCgpID09PSBvdGhlci5nZXRSZWFsU3ViY2hhbm5lbCgpO1xuICAgIH1cbiAgICBnZXRDYWxsQ3JlZGVudGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldENhbGxDcmVkZW50aWFscygpO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVN1YmNoYW5uZWxXcmFwcGVyID0gQmFzZVN1YmNoYW5uZWxXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ViY2hhbm5lbC1pbnRlcmZhY2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SubchannelPool = void 0;\nexports.getSubchannelPool = getSubchannelPool;\nconst channel_options_1 = __webpack_require__(/*! ./channel-options */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js\");\nconst subchannel_1 = __webpack_require__(/*! ./subchannel */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst transport_1 = __webpack_require__(/*! ./transport */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js\");\n// 10 seconds in milliseconds. This value is arbitrary.\n/**\n * The amount of time in between checks for dropping subchannels that have no\n * other references\n */\nconst REF_CHECK_INTERVAL = 10000;\nclass SubchannelPool {\n    /**\n     * A pool of subchannels use for making connections. Subchannels with the\n     * exact same parameters will be reused.\n     */\n    constructor() {\n        this.pool = Object.create(null);\n        /**\n         * A timer of a task performing a periodic subchannel cleanup.\n         */\n        this.cleanupTimer = null;\n    }\n    /**\n     * Unrefs all unused subchannels and cancels the cleanup task if all\n     * subchannels have been unrefed.\n     */\n    unrefUnusedSubchannels() {\n        let allSubchannelsUnrefed = true;\n        /* These objects are created with Object.create(null), so they do not\n         * have a prototype, which means that for (... in ...) loops over them\n         * do not need to be filtered */\n        // eslint-disable-disable-next-line:forin\n        for (const channelTarget in this.pool) {\n            const subchannelObjArray = this.pool[channelTarget];\n            const refedSubchannels = subchannelObjArray.filter(value => !value.subchannel.unrefIfOneRef());\n            if (refedSubchannels.length > 0) {\n                allSubchannelsUnrefed = false;\n            }\n            /* For each subchannel in the pool, try to unref it if it has\n             * exactly one ref (which is the ref from the pool itself). If that\n             * does happen, remove the subchannel from the pool */\n            this.pool[channelTarget] = refedSubchannels;\n        }\n        /* Currently we do not delete keys with empty values. If that results\n         * in significant memory usage we should change it. */\n        // Cancel the cleanup task if all subchannels have been unrefed.\n        if (allSubchannelsUnrefed && this.cleanupTimer !== null) {\n            clearInterval(this.cleanupTimer);\n            this.cleanupTimer = null;\n        }\n    }\n    /**\n     * Ensures that the cleanup task is spawned.\n     */\n    ensureCleanupTask() {\n        var _a, _b;\n        if (this.cleanupTimer === null) {\n            this.cleanupTimer = setInterval(() => {\n                this.unrefUnusedSubchannels();\n            }, REF_CHECK_INTERVAL);\n            // Unref because this timer should not keep the event loop running.\n            // Call unref only if it exists to address electron/electron#21162\n            (_b = (_a = this.cleanupTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    /**\n     * Get a subchannel if one already exists with exactly matching parameters.\n     * Otherwise, create and save a subchannel with those parameters.\n     * @param channelTarget\n     * @param subchannelTarget\n     * @param channelArguments\n     * @param channelCredentials\n     */\n    getOrCreateSubchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials) {\n        this.ensureCleanupTask();\n        const channelTarget = (0, uri_parser_1.uriToString)(channelTargetUri);\n        if (channelTarget in this.pool) {\n            const subchannelObjArray = this.pool[channelTarget];\n            for (const subchannelObj of subchannelObjArray) {\n                if ((0, subchannel_address_1.subchannelAddressEqual)(subchannelTarget, subchannelObj.subchannelAddress) &&\n                    (0, channel_options_1.channelOptionsEqual)(channelArguments, subchannelObj.channelArguments) &&\n                    channelCredentials._equals(subchannelObj.channelCredentials)) {\n                    return subchannelObj.subchannel;\n                }\n            }\n        }\n        // If we get here, no matching subchannel was found\n        const subchannel = new subchannel_1.Subchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials, new transport_1.Http2SubchannelConnector(channelTargetUri));\n        if (!(channelTarget in this.pool)) {\n            this.pool[channelTarget] = [];\n        }\n        this.pool[channelTarget].push({\n            subchannelAddress: subchannelTarget,\n            channelArguments,\n            channelCredentials,\n            subchannel,\n        });\n        subchannel.ref();\n        return subchannel;\n    }\n}\nexports.SubchannelPool = SubchannelPool;\nconst globalSubchannelPool = new SubchannelPool();\n/**\n * Get either the global subchannel pool, or a new subchannel pool.\n * @param global\n */\nfunction getSubchannelPool(global) {\n    if (global) {\n        return globalSubchannelPool;\n    }\n    else {\n        return new SubchannelPool();\n    }\n}\n//# sourceMappingURL=subchannel-pool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLXBvb2wuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0I7QUFDdEIseUJBQXlCO0FBQ3pCLDBCQUEwQixtQkFBTyxDQUFDLDZIQUFtQjtBQUNyRCxxQkFBcUIsbUJBQU8sQ0FBQyxtSEFBYztBQUMzQyw2QkFBNkIsbUJBQU8sQ0FBQyxtSUFBc0I7QUFDM0QscUJBQXFCLG1CQUFPLENBQUMsbUhBQWM7QUFDM0Msb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLXBvb2wuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3ViY2hhbm5lbFBvb2wgPSB2b2lkIDA7XG5leHBvcnRzLmdldFN1YmNoYW5uZWxQb29sID0gZ2V0U3ViY2hhbm5lbFBvb2w7XG5jb25zdCBjaGFubmVsX29wdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtb3B0aW9uc1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWxcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCB0cmFuc3BvcnRfMSA9IHJlcXVpcmUoXCIuL3RyYW5zcG9ydFwiKTtcbi8vIDEwIHNlY29uZHMgaW4gbWlsbGlzZWNvbmRzLiBUaGlzIHZhbHVlIGlzIGFyYml0cmFyeS5cbi8qKlxuICogVGhlIGFtb3VudCBvZiB0aW1lIGluIGJldHdlZW4gY2hlY2tzIGZvciBkcm9wcGluZyBzdWJjaGFubmVscyB0aGF0IGhhdmUgbm9cbiAqIG90aGVyIHJlZmVyZW5jZXNcbiAqL1xuY29uc3QgUkVGX0NIRUNLX0lOVEVSVkFMID0gMTAwMDA7XG5jbGFzcyBTdWJjaGFubmVsUG9vbCB7XG4gICAgLyoqXG4gICAgICogQSBwb29sIG9mIHN1YmNoYW5uZWxzIHVzZSBmb3IgbWFraW5nIGNvbm5lY3Rpb25zLiBTdWJjaGFubmVscyB3aXRoIHRoZVxuICAgICAqIGV4YWN0IHNhbWUgcGFyYW1ldGVycyB3aWxsIGJlIHJldXNlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wb29sID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdGltZXIgb2YgYSB0YXNrIHBlcmZvcm1pbmcgYSBwZXJpb2RpYyBzdWJjaGFubmVsIGNsZWFudXAuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFudXBUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVucmVmcyBhbGwgdW51c2VkIHN1YmNoYW5uZWxzIGFuZCBjYW5jZWxzIHRoZSBjbGVhbnVwIHRhc2sgaWYgYWxsXG4gICAgICogc3ViY2hhbm5lbHMgaGF2ZSBiZWVuIHVucmVmZWQuXG4gICAgICovXG4gICAgdW5yZWZVbnVzZWRTdWJjaGFubmVscygpIHtcbiAgICAgICAgbGV0IGFsbFN1YmNoYW5uZWxzVW5yZWZlZCA9IHRydWU7XG4gICAgICAgIC8qIFRoZXNlIG9iamVjdHMgYXJlIGNyZWF0ZWQgd2l0aCBPYmplY3QuY3JlYXRlKG51bGwpLCBzbyB0aGV5IGRvIG5vdFxuICAgICAgICAgKiBoYXZlIGEgcHJvdG90eXBlLCB3aGljaCBtZWFucyB0aGF0IGZvciAoLi4uIGluIC4uLikgbG9vcHMgb3ZlciB0aGVtXG4gICAgICAgICAqIGRvIG5vdCBuZWVkIHRvIGJlIGZpbHRlcmVkICovXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgICAgIGZvciAoY29uc3QgY2hhbm5lbFRhcmdldCBpbiB0aGlzLnBvb2wpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxPYmpBcnJheSA9IHRoaXMucG9vbFtjaGFubmVsVGFyZ2V0XTtcbiAgICAgICAgICAgIGNvbnN0IHJlZmVkU3ViY2hhbm5lbHMgPSBzdWJjaGFubmVsT2JqQXJyYXkuZmlsdGVyKHZhbHVlID0+ICF2YWx1ZS5zdWJjaGFubmVsLnVucmVmSWZPbmVSZWYoKSk7XG4gICAgICAgICAgICBpZiAocmVmZWRTdWJjaGFubmVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWxsU3ViY2hhbm5lbHNVbnJlZmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBGb3IgZWFjaCBzdWJjaGFubmVsIGluIHRoZSBwb29sLCB0cnkgdG8gdW5yZWYgaXQgaWYgaXQgaGFzXG4gICAgICAgICAgICAgKiBleGFjdGx5IG9uZSByZWYgKHdoaWNoIGlzIHRoZSByZWYgZnJvbSB0aGUgcG9vbCBpdHNlbGYpLiBJZiB0aGF0XG4gICAgICAgICAgICAgKiBkb2VzIGhhcHBlbiwgcmVtb3ZlIHRoZSBzdWJjaGFubmVsIGZyb20gdGhlIHBvb2wgKi9cbiAgICAgICAgICAgIHRoaXMucG9vbFtjaGFubmVsVGFyZ2V0XSA9IHJlZmVkU3ViY2hhbm5lbHM7XG4gICAgICAgIH1cbiAgICAgICAgLyogQ3VycmVudGx5IHdlIGRvIG5vdCBkZWxldGUga2V5cyB3aXRoIGVtcHR5IHZhbHVlcy4gSWYgdGhhdCByZXN1bHRzXG4gICAgICAgICAqIGluIHNpZ25pZmljYW50IG1lbW9yeSB1c2FnZSB3ZSBzaG91bGQgY2hhbmdlIGl0LiAqL1xuICAgICAgICAvLyBDYW5jZWwgdGhlIGNsZWFudXAgdGFzayBpZiBhbGwgc3ViY2hhbm5lbHMgaGF2ZSBiZWVuIHVucmVmZWQuXG4gICAgICAgIGlmIChhbGxTdWJjaGFubmVsc1VucmVmZWQgJiYgdGhpcy5jbGVhbnVwVGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jbGVhbnVwVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5jbGVhbnVwVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgY2xlYW51cCB0YXNrIGlzIHNwYXduZWQuXG4gICAgICovXG4gICAgZW5zdXJlQ2xlYW51cFRhc2soKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLmNsZWFudXBUaW1lciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhbnVwVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnJlZlVudXNlZFN1YmNoYW5uZWxzKCk7XG4gICAgICAgICAgICB9LCBSRUZfQ0hFQ0tfSU5URVJWQUwpO1xuICAgICAgICAgICAgLy8gVW5yZWYgYmVjYXVzZSB0aGlzIHRpbWVyIHNob3VsZCBub3Qga2VlcCB0aGUgZXZlbnQgbG9vcCBydW5uaW5nLlxuICAgICAgICAgICAgLy8gQ2FsbCB1bnJlZiBvbmx5IGlmIGl0IGV4aXN0cyB0byBhZGRyZXNzIGVsZWN0cm9uL2VsZWN0cm9uIzIxMTYyXG4gICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmNsZWFudXBUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzdWJjaGFubmVsIGlmIG9uZSBhbHJlYWR5IGV4aXN0cyB3aXRoIGV4YWN0bHkgbWF0Y2hpbmcgcGFyYW1ldGVycy5cbiAgICAgKiBPdGhlcndpc2UsIGNyZWF0ZSBhbmQgc2F2ZSBhIHN1YmNoYW5uZWwgd2l0aCB0aG9zZSBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSBjaGFubmVsVGFyZ2V0XG4gICAgICogQHBhcmFtIHN1YmNoYW5uZWxUYXJnZXRcbiAgICAgKiBAcGFyYW0gY2hhbm5lbEFyZ3VtZW50c1xuICAgICAqIEBwYXJhbSBjaGFubmVsQ3JlZGVudGlhbHNcbiAgICAgKi9cbiAgICBnZXRPckNyZWF0ZVN1YmNoYW5uZWwoY2hhbm5lbFRhcmdldFVyaSwgc3ViY2hhbm5lbFRhcmdldCwgY2hhbm5lbEFyZ3VtZW50cywgY2hhbm5lbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2xlYW51cFRhc2soKTtcbiAgICAgICAgY29uc3QgY2hhbm5lbFRhcmdldCA9ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKGNoYW5uZWxUYXJnZXRVcmkpO1xuICAgICAgICBpZiAoY2hhbm5lbFRhcmdldCBpbiB0aGlzLnBvb2wpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxPYmpBcnJheSA9IHRoaXMucG9vbFtjaGFubmVsVGFyZ2V0XTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3ViY2hhbm5lbE9iaiBvZiBzdWJjaGFubmVsT2JqQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzRXF1YWwpKHN1YmNoYW5uZWxUYXJnZXQsIHN1YmNoYW5uZWxPYmouc3ViY2hhbm5lbEFkZHJlc3MpICYmXG4gICAgICAgICAgICAgICAgICAgICgwLCBjaGFubmVsX29wdGlvbnNfMS5jaGFubmVsT3B0aW9uc0VxdWFsKShjaGFubmVsQXJndW1lbnRzLCBzdWJjaGFubmVsT2JqLmNoYW5uZWxBcmd1bWVudHMpICYmXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDcmVkZW50aWFscy5fZXF1YWxzKHN1YmNoYW5uZWxPYmouY2hhbm5lbENyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3ViY2hhbm5lbE9iai5zdWJjaGFubmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBnZXQgaGVyZSwgbm8gbWF0Y2hpbmcgc3ViY2hhbm5lbCB3YXMgZm91bmRcbiAgICAgICAgY29uc3Qgc3ViY2hhbm5lbCA9IG5ldyBzdWJjaGFubmVsXzEuU3ViY2hhbm5lbChjaGFubmVsVGFyZ2V0VXJpLCBzdWJjaGFubmVsVGFyZ2V0LCBjaGFubmVsQXJndW1lbnRzLCBjaGFubmVsQ3JlZGVudGlhbHMsIG5ldyB0cmFuc3BvcnRfMS5IdHRwMlN1YmNoYW5uZWxDb25uZWN0b3IoY2hhbm5lbFRhcmdldFVyaSkpO1xuICAgICAgICBpZiAoIShjaGFubmVsVGFyZ2V0IGluIHRoaXMucG9vbCkpIHtcbiAgICAgICAgICAgIHRoaXMucG9vbFtjaGFubmVsVGFyZ2V0XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9vbFtjaGFubmVsVGFyZ2V0XS5wdXNoKHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWxBZGRyZXNzOiBzdWJjaGFubmVsVGFyZ2V0LFxuICAgICAgICAgICAgY2hhbm5lbEFyZ3VtZW50cyxcbiAgICAgICAgICAgIGNoYW5uZWxDcmVkZW50aWFscyxcbiAgICAgICAgICAgIHN1YmNoYW5uZWwsXG4gICAgICAgIH0pO1xuICAgICAgICBzdWJjaGFubmVsLnJlZigpO1xuICAgICAgICByZXR1cm4gc3ViY2hhbm5lbDtcbiAgICB9XG59XG5leHBvcnRzLlN1YmNoYW5uZWxQb29sID0gU3ViY2hhbm5lbFBvb2w7XG5jb25zdCBnbG9iYWxTdWJjaGFubmVsUG9vbCA9IG5ldyBTdWJjaGFubmVsUG9vbCgpO1xuLyoqXG4gKiBHZXQgZWl0aGVyIHRoZSBnbG9iYWwgc3ViY2hhbm5lbCBwb29sLCBvciBhIG5ldyBzdWJjaGFubmVsIHBvb2wuXG4gKiBAcGFyYW0gZ2xvYmFsXG4gKi9cbmZ1bmN0aW9uIGdldFN1YmNoYW5uZWxQb29sKGdsb2JhbCkge1xuICAgIGlmIChnbG9iYWwpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFN1YmNoYW5uZWxQb29sO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJjaGFubmVsUG9vbCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtcG9vbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Subchannel = void 0;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst TRACER_NAME = 'subchannel';\n/* setInterval and setTimeout only accept signed 32 bit integers. JS doesn't\n * have a constant for the max signed 32 bit integer, so this is a simple way\n * to calculate it */\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nclass Subchannel {\n    /**\n     * A class representing a connection to a single backend.\n     * @param channelTarget The target string for the channel as a whole\n     * @param subchannelAddress The address for the backend that this subchannel\n     *     will connect to\n     * @param options The channel options, plus any specific subchannel options\n     *     for this subchannel\n     * @param credentials The channel credentials used to establish this\n     *     connection\n     */\n    constructor(channelTarget, subchannelAddress, options, credentials, connector) {\n        var _a;\n        this.channelTarget = channelTarget;\n        this.subchannelAddress = subchannelAddress;\n        this.options = options;\n        this.connector = connector;\n        /**\n         * The subchannel's current connectivity state. Invariant: `session` === `null`\n         * if and only if `connectivityState` is IDLE or TRANSIENT_FAILURE.\n         */\n        this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The underlying http2 session used to make requests.\n         */\n        this.transport = null;\n        /**\n         * Indicates that the subchannel should transition from TRANSIENT_FAILURE to\n         * CONNECTING instead of IDLE when the backoff timeout ends.\n         */\n        this.continueConnecting = false;\n        /**\n         * A list of listener functions that will be called whenever the connectivity\n         * state changes. Will be modified by `addConnectivityStateListener` and\n         * `removeConnectivityStateListener`\n         */\n        this.stateListeners = new Set();\n        /**\n         * Tracks channels and subchannel pools with references to this subchannel\n         */\n        this.refcount = 0;\n        // Channelz info\n        this.channelzEnabled = true;\n        const backoffOptions = {\n            initialDelay: options['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: options['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n            this.handleBackoffTimer();\n        }, backoffOptions);\n        this.backoffTimeout.unref();\n        this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n        this.keepaliveTime = (_a = options['grpc.keepalive_time_ms']) !== null && _a !== void 0 ? _a : -1;\n        if (options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n            this.channelzTrace = new channelz_1.ChannelzTraceStub();\n            this.callTracker = new channelz_1.ChannelzCallTrackerStub();\n            this.childrenTracker = new channelz_1.ChannelzChildrenTrackerStub();\n            this.streamTracker = new channelz_1.ChannelzCallTrackerStub();\n        }\n        else {\n            this.channelzTrace = new channelz_1.ChannelzTrace();\n            this.callTracker = new channelz_1.ChannelzCallTracker();\n            this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n            this.streamTracker = new channelz_1.ChannelzCallTracker();\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzSubchannel)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n        this.channelzTrace.addTrace('CT_INFO', 'Subchannel created');\n        this.trace('Subchannel constructed with options ' +\n            JSON.stringify(options, undefined, 2));\n        this.secureConnector = credentials._createSecureConnector(channelTarget, options);\n    }\n    getChannelzInfo() {\n        return {\n            state: this.connectivityState,\n            trace: this.channelzTrace,\n            callTracker: this.callTracker,\n            children: this.childrenTracker.getChildLists(),\n            target: this.subchannelAddressString,\n        };\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    refTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'subchannel_refcount', '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    handleBackoffTimer() {\n        if (this.continueConnecting) {\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n        }\n        else {\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.IDLE);\n        }\n    }\n    /**\n     * Start a backoff timer with the current nextBackoff timeout\n     */\n    startBackoff() {\n        this.backoffTimeout.runOnce();\n    }\n    stopBackoff() {\n        this.backoffTimeout.stop();\n        this.backoffTimeout.reset();\n    }\n    startConnectingInternal() {\n        let options = this.options;\n        if (options['grpc.keepalive_time_ms']) {\n            const adjustedKeepaliveTime = Math.min(this.keepaliveTime, KEEPALIVE_MAX_TIME_MS);\n            options = Object.assign(Object.assign({}, options), { 'grpc.keepalive_time_ms': adjustedKeepaliveTime });\n        }\n        this.connector\n            .connect(this.subchannelAddress, this.secureConnector, options)\n            .then(transport => {\n            if (this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.READY)) {\n                this.transport = transport;\n                if (this.channelzEnabled) {\n                    this.childrenTracker.refChild(transport.getChannelzRef());\n                }\n                transport.addDisconnectListener(tooManyPings => {\n                    this.transitionToState([connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n                    if (tooManyPings && this.keepaliveTime > 0) {\n                        this.keepaliveTime *= 2;\n                        logging.log(constants_1.LogVerbosity.ERROR, `Connection to ${(0, uri_parser_1.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`);\n                    }\n                });\n            }\n            else {\n                /* If we can't transition from CONNECTING to READY here, we will\n                 * not be using this transport, so release its resources. */\n                transport.shutdown();\n            }\n        }, error => {\n            this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, `${error}`);\n        });\n    }\n    /**\n     * Initiate a state transition from any element of oldStates to the new\n     * state. If the current connectivityState is not in oldStates, do nothing.\n     * @param oldStates The set of states to transition from\n     * @param newState The state to transition to\n     * @returns True if the state changed, false otherwise\n     */\n    transitionToState(oldStates, newState, errorMessage) {\n        var _a, _b;\n        if (oldStates.indexOf(this.connectivityState) === -1) {\n            return false;\n        }\n        if (errorMessage) {\n            this.trace(connectivity_state_1.ConnectivityState[this.connectivityState] +\n                ' -> ' +\n                connectivity_state_1.ConnectivityState[newState] +\n                ' with error \"' + errorMessage + '\"');\n        }\n        else {\n            this.trace(connectivity_state_1.ConnectivityState[this.connectivityState] +\n                ' -> ' +\n                connectivity_state_1.ConnectivityState[newState]);\n        }\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', 'Connectivity state change to ' + connectivity_state_1.ConnectivityState[newState]);\n        }\n        const previousState = this.connectivityState;\n        this.connectivityState = newState;\n        switch (newState) {\n            case connectivity_state_1.ConnectivityState.READY:\n                this.stopBackoff();\n                break;\n            case connectivity_state_1.ConnectivityState.CONNECTING:\n                this.startBackoff();\n                this.startConnectingInternal();\n                this.continueConnecting = false;\n                break;\n            case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n                if (this.channelzEnabled && this.transport) {\n                    this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n                }\n                (_a = this.transport) === null || _a === void 0 ? void 0 : _a.shutdown();\n                this.transport = null;\n                /* If the backoff timer has already ended by the time we get to the\n                 * TRANSIENT_FAILURE state, we want to immediately transition out of\n                 * TRANSIENT_FAILURE as though the backoff timer is ending right now */\n                if (!this.backoffTimeout.isRunning()) {\n                    process.nextTick(() => {\n                        this.handleBackoffTimer();\n                    });\n                }\n                break;\n            case connectivity_state_1.ConnectivityState.IDLE:\n                if (this.channelzEnabled && this.transport) {\n                    this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n                }\n                (_b = this.transport) === null || _b === void 0 ? void 0 : _b.shutdown();\n                this.transport = null;\n                break;\n            default:\n                throw new Error(`Invalid state: unknown ConnectivityState ${newState}`);\n        }\n        for (const listener of this.stateListeners) {\n            listener(this, previousState, newState, this.keepaliveTime, errorMessage);\n        }\n        return true;\n    }\n    ref() {\n        this.refTrace('refcount ' + this.refcount + ' -> ' + (this.refcount + 1));\n        this.refcount += 1;\n    }\n    unref() {\n        this.refTrace('refcount ' + this.refcount + ' -> ' + (this.refcount - 1));\n        this.refcount -= 1;\n        if (this.refcount === 0) {\n            this.channelzTrace.addTrace('CT_INFO', 'Shutting down');\n            (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n            this.secureConnector.destroy();\n            process.nextTick(() => {\n                this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING, connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n            });\n        }\n    }\n    unrefIfOneRef() {\n        if (this.refcount === 1) {\n            this.unref();\n            return true;\n        }\n        return false;\n    }\n    createCall(metadata, host, method, listener) {\n        if (!this.transport) {\n            throw new Error('Cannot create call, subchannel not READY');\n        }\n        let statsTracker;\n        if (this.channelzEnabled) {\n            this.callTracker.addCallStarted();\n            this.streamTracker.addCallStarted();\n            statsTracker = {\n                onCallEnd: status => {\n                    if (status.code === constants_1.Status.OK) {\n                        this.callTracker.addCallSucceeded();\n                    }\n                    else {\n                        this.callTracker.addCallFailed();\n                    }\n                },\n            };\n        }\n        else {\n            statsTracker = {};\n        }\n        return this.transport.createCall(metadata, host, method, listener, statsTracker);\n    }\n    /**\n     * If the subchannel is currently IDLE, start connecting and switch to the\n     * CONNECTING state. If the subchannel is current in TRANSIENT_FAILURE,\n     * the next time it would transition to IDLE, start connecting again instead.\n     * Otherwise, do nothing.\n     */\n    startConnecting() {\n        process.nextTick(() => {\n            /* First, try to transition from IDLE to connecting. If that doesn't happen\n             * because the state is not currently IDLE, check if it is\n             * TRANSIENT_FAILURE, and if so indicate that it should go back to\n             * connecting after the backoff timer ends. Otherwise do nothing */\n            if (!this.transitionToState([connectivity_state_1.ConnectivityState.IDLE], connectivity_state_1.ConnectivityState.CONNECTING)) {\n                if (this.connectivityState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                    this.continueConnecting = true;\n                }\n            }\n        });\n    }\n    /**\n     * Get the subchannel's current connectivity state.\n     */\n    getConnectivityState() {\n        return this.connectivityState;\n    }\n    /**\n     * Add a listener function to be called whenever the subchannel's\n     * connectivity state changes.\n     * @param listener\n     */\n    addConnectivityStateListener(listener) {\n        this.stateListeners.add(listener);\n    }\n    /**\n     * Remove a listener previously added with `addConnectivityStateListener`\n     * @param listener A reference to a function previously passed to\n     *     `addConnectivityStateListener`\n     */\n    removeConnectivityStateListener(listener) {\n        this.stateListeners.delete(listener);\n    }\n    /**\n     * Reset the backoff timeout, and immediately start connecting if in backoff.\n     */\n    resetBackoff() {\n        process.nextTick(() => {\n            this.backoffTimeout.reset();\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n        });\n    }\n    getAddress() {\n        return this.subchannelAddressString;\n    }\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    isHealthy() {\n        return true;\n    }\n    addHealthStateWatcher(listener) {\n        // Do nothing with the listener\n    }\n    removeHealthStateWatcher(listener) {\n        // Do nothing with the listener\n    }\n    getRealSubchannel() {\n        return this;\n    }\n    realSubchannelEquals(other) {\n        return other.getRealSubchannel() === this;\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        if (newKeepaliveTime > this.keepaliveTime) {\n            this.keepaliveTime = newKeepaliveTime;\n        }\n    }\n    getCallCredentials() {\n        return this.secureConnector.getCallCredentials();\n    }\n}\nexports.Subchannel = Subchannel;\n//# sourceMappingURL=subchannel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw2SEFBbUI7QUFDckQsZ0JBQWdCLG1CQUFPLENBQUMsNkdBQVc7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWE7QUFDekMscUJBQXFCLG1CQUFPLENBQUMsbUhBQWM7QUFDM0MsNkJBQTZCLG1CQUFPLENBQUMsbUlBQXNCO0FBQzNELG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsY0FBYyxpREFBaUQ7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsbURBQW1ELEtBQUssOEJBQThCLDBFQUEwRSxvQkFBb0I7QUFDelE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHFKQUFxSixNQUFNO0FBQzNKLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLFNBQVM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQiIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N1YmNoYW5uZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3ViY2hhbm5lbCA9IHZvaWQgMDtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgYmFja29mZl90aW1lb3V0XzEgPSByZXF1aXJlKFwiLi9iYWNrb2ZmLXRpbWVvdXRcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgY2hhbm5lbHpfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnc3ViY2hhbm5lbCc7XG4vKiBzZXRJbnRlcnZhbCBhbmQgc2V0VGltZW91dCBvbmx5IGFjY2VwdCBzaWduZWQgMzIgYml0IGludGVnZXJzLiBKUyBkb2Vzbid0XG4gKiBoYXZlIGEgY29uc3RhbnQgZm9yIHRoZSBtYXggc2lnbmVkIDMyIGJpdCBpbnRlZ2VyLCBzbyB0aGlzIGlzIGEgc2ltcGxlIHdheVxuICogdG8gY2FsY3VsYXRlIGl0ICovXG5jb25zdCBLRUVQQUxJVkVfTUFYX1RJTUVfTVMgPSB+KDEgPDwgMzEpO1xuY2xhc3MgU3ViY2hhbm5lbCB7XG4gICAgLyoqXG4gICAgICogQSBjbGFzcyByZXByZXNlbnRpbmcgYSBjb25uZWN0aW9uIHRvIGEgc2luZ2xlIGJhY2tlbmQuXG4gICAgICogQHBhcmFtIGNoYW5uZWxUYXJnZXQgVGhlIHRhcmdldCBzdHJpbmcgZm9yIHRoZSBjaGFubmVsIGFzIGEgd2hvbGVcbiAgICAgKiBAcGFyYW0gc3ViY2hhbm5lbEFkZHJlc3MgVGhlIGFkZHJlc3MgZm9yIHRoZSBiYWNrZW5kIHRoYXQgdGhpcyBzdWJjaGFubmVsXG4gICAgICogICAgIHdpbGwgY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjaGFubmVsIG9wdGlvbnMsIHBsdXMgYW55IHNwZWNpZmljIHN1YmNoYW5uZWwgb3B0aW9uc1xuICAgICAqICAgICBmb3IgdGhpcyBzdWJjaGFubmVsXG4gICAgICogQHBhcmFtIGNyZWRlbnRpYWxzIFRoZSBjaGFubmVsIGNyZWRlbnRpYWxzIHVzZWQgdG8gZXN0YWJsaXNoIHRoaXNcbiAgICAgKiAgICAgY29ubmVjdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxUYXJnZXQsIHN1YmNoYW5uZWxBZGRyZXNzLCBvcHRpb25zLCBjcmVkZW50aWFscywgY29ubmVjdG9yKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jaGFubmVsVGFyZ2V0ID0gY2hhbm5lbFRhcmdldDtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzcyA9IHN1YmNoYW5uZWxBZGRyZXNzO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNvbm5lY3RvciA9IGNvbm5lY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdWJjaGFubmVsJ3MgY3VycmVudCBjb25uZWN0aXZpdHkgc3RhdGUuIEludmFyaWFudDogYHNlc3Npb25gID09PSBgbnVsbGBcbiAgICAgICAgICogaWYgYW5kIG9ubHkgaWYgYGNvbm5lY3Rpdml0eVN0YXRlYCBpcyBJRExFIG9yIFRSQU5TSUVOVF9GQUlMVVJFLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdW5kZXJseWluZyBodHRwMiBzZXNzaW9uIHVzZWQgdG8gbWFrZSByZXF1ZXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBzdWJjaGFubmVsIHNob3VsZCB0cmFuc2l0aW9uIGZyb20gVFJBTlNJRU5UX0ZBSUxVUkUgdG9cbiAgICAgICAgICogQ09OTkVDVElORyBpbnN0ZWFkIG9mIElETEUgd2hlbiB0aGUgYmFja29mZiB0aW1lb3V0IGVuZHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRpbnVlQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBjb25uZWN0aXZpdHlcbiAgICAgICAgICogc3RhdGUgY2hhbmdlcy4gV2lsbCBiZSBtb2RpZmllZCBieSBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmAgYW5kXG4gICAgICAgICAqIGByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyYFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyBjaGFubmVscyBhbmQgc3ViY2hhbm5lbCBwb29scyB3aXRoIHJlZmVyZW5jZXMgdG8gdGhpcyBzdWJjaGFubmVsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZmNvdW50ID0gMDtcbiAgICAgICAgLy8gQ2hhbm5lbHogaW5mb1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJhY2tvZmZPcHRpb25zID0ge1xuICAgICAgICAgICAgaW5pdGlhbERlbGF5OiBvcHRpb25zWydncnBjLmluaXRpYWxfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgICAgIG1heERlbGF5OiBvcHRpb25zWydncnBjLm1heF9yZWNvbm5lY3RfYmFja29mZl9tcyddLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0ID0gbmV3IGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQmFja29mZlRpbWVyKCk7XG4gICAgICAgIH0sIGJhY2tvZmZPcHRpb25zKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC51bnJlZigpO1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nID0gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKHN1YmNoYW5uZWxBZGRyZXNzKTtcbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lID0gKF9hID0gb3B0aW9uc1snZ3JwYy5rZWVwYWxpdmVfdGltZV9tcyddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAtMTtcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2dycGMuZW5hYmxlX2NoYW5uZWx6J10gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVselRyYWNlU3R1YigpO1xuICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViKCk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlclN0dWIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyKCk7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTdWJjaGFubmVsKSh0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nLCAoKSA9PiB0aGlzLmdldENoYW5uZWx6SW5mbygpLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdTdWJjaGFubmVsIGNyZWF0ZWQnKTtcbiAgICAgICAgdGhpcy50cmFjZSgnU3ViY2hhbm5lbCBjb25zdHJ1Y3RlZCB3aXRoIG9wdGlvbnMgJyArXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShvcHRpb25zLCB1bmRlZmluZWQsIDIpKTtcbiAgICAgICAgdGhpcy5zZWN1cmVDb25uZWN0b3IgPSBjcmVkZW50aWFscy5fY3JlYXRlU2VjdXJlQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBnZXRDaGFubmVsekluZm8oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSxcbiAgICAgICAgICAgIHRyYWNlOiB0aGlzLmNoYW5uZWx6VHJhY2UsXG4gICAgICAgICAgICBjYWxsVHJhY2tlcjogdGhpcy5jYWxsVHJhY2tlcixcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuVHJhY2tlci5nZXRDaGlsZExpc3RzKCksXG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbiAgICByZWZUcmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnc3ViY2hhbm5lbF9yZWZjb3VudCcsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIGhhbmRsZUJhY2tvZmZUaW1lcigpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGludWVDb25uZWN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Ub1N0YXRlKFtjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRV0sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkVdLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCBhIGJhY2tvZmYgdGltZXIgd2l0aCB0aGUgY3VycmVudCBuZXh0QmFja29mZiB0aW1lb3V0XG4gICAgICovXG4gICAgc3RhcnRCYWNrb2ZmKCkge1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnJ1bk9uY2UoKTtcbiAgICB9XG4gICAgc3RvcEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQuc3RvcCgpO1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnJlc2V0KCk7XG4gICAgfVxuICAgIHN0YXJ0Q29ubmVjdGluZ0ludGVybmFsKCkge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXSkge1xuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRLZWVwYWxpdmVUaW1lID0gTWF0aC5taW4odGhpcy5rZWVwYWxpdmVUaW1lLCBLRUVQQUxJVkVfTUFYX1RJTUVfTVMpO1xuICAgICAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnOiBhZGp1c3RlZEtlZXBhbGl2ZVRpbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0b3JcbiAgICAgICAgICAgIC5jb25uZWN0KHRoaXMuc3ViY2hhbm5lbEFkZHJlc3MsIHRoaXMuc2VjdXJlQ29ubmVjdG9yLCBvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4odHJhbnNwb3J0ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25Ub1N0YXRlKFtjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyLnJlZkNoaWxkKHRyYW5zcG9ydC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0LmFkZERpc2Nvbm5lY3RMaXN0ZW5lcih0b29NYW55UGluZ3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Ub1N0YXRlKFtjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWV0sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vTWFueVBpbmdzICYmIHRoaXMua2VlcGFsaXZlVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSAqPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy5sb2coY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBgQ29ubmVjdGlvbiB0byAkeygwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMuY2hhbm5lbFRhcmdldCl9IGF0ICR7dGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZ30gcmVqZWN0ZWQgYnkgc2VydmVyIGJlY2F1c2Ugb2YgZXhjZXNzIHBpbmdzLiBJbmNyZWFzaW5nIHBpbmcgaW50ZXJ2YWwgdG8gJHt0aGlzLmtlZXBhbGl2ZVRpbWV9IG1zYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qIElmIHdlIGNhbid0IHRyYW5zaXRpb24gZnJvbSBDT05ORUNUSU5HIHRvIFJFQURZIGhlcmUsIHdlIHdpbGxcbiAgICAgICAgICAgICAgICAgKiBub3QgYmUgdXNpbmcgdGhpcyB0cmFuc3BvcnQsIHNvIHJlbGVhc2UgaXRzIHJlc291cmNlcy4gKi9cbiAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2h1dGRvd24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElOR10sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBgJHtlcnJvcn1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYXRlIGEgc3RhdGUgdHJhbnNpdGlvbiBmcm9tIGFueSBlbGVtZW50IG9mIG9sZFN0YXRlcyB0byB0aGUgbmV3XG4gICAgICogc3RhdGUuIElmIHRoZSBjdXJyZW50IGNvbm5lY3Rpdml0eVN0YXRlIGlzIG5vdCBpbiBvbGRTdGF0ZXMsIGRvIG5vdGhpbmcuXG4gICAgICogQHBhcmFtIG9sZFN0YXRlcyBUaGUgc2V0IG9mIHN0YXRlcyB0byB0cmFuc2l0aW9uIGZyb21cbiAgICAgKiBAcGFyYW0gbmV3U3RhdGUgVGhlIHN0YXRlIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzdGF0ZSBjaGFuZ2VkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICB0cmFuc2l0aW9uVG9TdGF0ZShvbGRTdGF0ZXMsIG5ld1N0YXRlLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKG9sZFN0YXRlcy5pbmRleE9mKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbdGhpcy5jb25uZWN0aXZpdHlTdGF0ZV0gK1xuICAgICAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbbmV3U3RhdGVdICtcbiAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgXCInICsgZXJyb3JNZXNzYWdlICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY29ubmVjdGl2aXR5U3RhdGVdICtcbiAgICAgICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ29ubmVjdGl2aXR5IHN0YXRlIGNoYW5nZSB0byAnICsgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbbmV3U3RhdGVdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gdGhpcy5jb25uZWN0aXZpdHlTdGF0ZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICBzd2l0Y2ggKG5ld1N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZOlxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcEJhY2tvZmYoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORzpcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QmFja29mZigpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRDb25uZWN0aW5nSW50ZXJuYWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQgJiYgdGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIudW5yZWZDaGlsZCh0aGlzLnRyYW5zcG9ydC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy50cmFuc3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaHV0ZG93bigpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvKiBJZiB0aGUgYmFja29mZiB0aW1lciBoYXMgYWxyZWFkeSBlbmRlZCBieSB0aGUgdGltZSB3ZSBnZXQgdG8gdGhlXG4gICAgICAgICAgICAgICAgICogVFJBTlNJRU5UX0ZBSUxVUkUgc3RhdGUsIHdlIHdhbnQgdG8gaW1tZWRpYXRlbHkgdHJhbnNpdGlvbiBvdXQgb2ZcbiAgICAgICAgICAgICAgICAgKiBUUkFOU0lFTlRfRkFJTFVSRSBhcyB0aG91Z2ggdGhlIGJhY2tvZmYgdGltZXIgaXMgZW5kaW5nIHJpZ2h0IG5vdyAqL1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5iYWNrb2ZmVGltZW91dC5pc1J1bm5pbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQmFja29mZlRpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQgJiYgdGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIudW5yZWZDaGlsZCh0aGlzLnRyYW5zcG9ydC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gdGhpcy50cmFuc3BvcnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zaHV0ZG93bigpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHN0YXRlOiB1bmtub3duIENvbm5lY3Rpdml0eVN0YXRlICR7bmV3U3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLnN0YXRlTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcih0aGlzLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgdGhpcy5rZWVwYWxpdmVUaW1lLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZWYoKSB7XG4gICAgICAgIHRoaXMucmVmVHJhY2UoJ3JlZmNvdW50ICcgKyB0aGlzLnJlZmNvdW50ICsgJyAtPiAnICsgKHRoaXMucmVmY291bnQgKyAxKSk7XG4gICAgICAgIHRoaXMucmVmY291bnQgKz0gMTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHRoaXMucmVmVHJhY2UoJ3JlZmNvdW50ICcgKyB0aGlzLnJlZmNvdW50ICsgJyAtPiAnICsgKHRoaXMucmVmY291bnQgLSAxKSk7XG4gICAgICAgIHRoaXMucmVmY291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVmY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdTaHV0dGluZyBkb3duJyk7XG4gICAgICAgICAgICAoMCwgY2hhbm5lbHpfMS51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYpKHRoaXMuY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgdGhpcy5zZWN1cmVDb25uZWN0b3IuZGVzdHJveSgpO1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORywgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFldLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVucmVmSWZPbmVSZWYoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlZmNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVmKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNyZWF0ZUNhbGwobWV0YWRhdGEsIGhvc3QsIG1ldGhvZCwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIGNhbGwsIHN1YmNoYW5uZWwgbm90IFJFQURZJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXRzVHJhY2tlcjtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN0YXJ0ZWQoKTtcbiAgICAgICAgICAgIHN0YXRzVHJhY2tlciA9IHtcbiAgICAgICAgICAgICAgICBvbkNhbGxFbmQ6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxTdWNjZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGF0c1RyYWNrZXIgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuY3JlYXRlQ2FsbChtZXRhZGF0YSwgaG9zdCwgbWV0aG9kLCBsaXN0ZW5lciwgc3RhdHNUcmFja2VyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHN1YmNoYW5uZWwgaXMgY3VycmVudGx5IElETEUsIHN0YXJ0IGNvbm5lY3RpbmcgYW5kIHN3aXRjaCB0byB0aGVcbiAgICAgKiBDT05ORUNUSU5HIHN0YXRlLiBJZiB0aGUgc3ViY2hhbm5lbCBpcyBjdXJyZW50IGluIFRSQU5TSUVOVF9GQUlMVVJFLFxuICAgICAqIHRoZSBuZXh0IHRpbWUgaXQgd291bGQgdHJhbnNpdGlvbiB0byBJRExFLCBzdGFydCBjb25uZWN0aW5nIGFnYWluIGluc3RlYWQuXG4gICAgICogT3RoZXJ3aXNlLCBkbyBub3RoaW5nLlxuICAgICAqL1xuICAgIHN0YXJ0Q29ubmVjdGluZygpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAvKiBGaXJzdCwgdHJ5IHRvIHRyYW5zaXRpb24gZnJvbSBJRExFIHRvIGNvbm5lY3RpbmcuIElmIHRoYXQgZG9lc24ndCBoYXBwZW5cbiAgICAgICAgICAgICAqIGJlY2F1c2UgdGhlIHN0YXRlIGlzIG5vdCBjdXJyZW50bHkgSURMRSwgY2hlY2sgaWYgaXQgaXNcbiAgICAgICAgICAgICAqIFRSQU5TSUVOVF9GQUlMVVJFLCBhbmQgaWYgc28gaW5kaWNhdGUgdGhhdCBpdCBzaG91bGQgZ28gYmFjayB0b1xuICAgICAgICAgICAgICogY29ubmVjdGluZyBhZnRlciB0aGUgYmFja29mZiB0aW1lciBlbmRzLiBPdGhlcndpc2UgZG8gbm90aGluZyAqL1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyYW5zaXRpb25Ub1N0YXRlKFtjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250aW51ZUNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ViY2hhbm5lbCdzIGN1cnJlbnQgY29ubmVjdGl2aXR5IHN0YXRlLlxuICAgICAqL1xuICAgIGdldENvbm5lY3Rpdml0eVN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aXZpdHlTdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBzdWJjaGFubmVsJ3NcbiAgICAgKiBjb25uZWN0aXZpdHkgc3RhdGUgY2hhbmdlcy5cbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhdGVMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgbGlzdGVuZXIgcHJldmlvdXNseSBhZGRlZCB3aXRoIGBhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyYFxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBBIHJlZmVyZW5jZSB0byBhIGZ1bmN0aW9uIHByZXZpb3VzbHkgcGFzc2VkIHRvXG4gICAgICogICAgIGBhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyYFxuICAgICAqL1xuICAgIHJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgYmFja29mZiB0aW1lb3V0LCBhbmQgaW1tZWRpYXRlbHkgc3RhcnQgY29ubmVjdGluZyBpZiBpbiBiYWNrb2ZmLlxuICAgICAqL1xuICAgIHJlc2V0QmFja29mZigpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Ub1N0YXRlKFtjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRV0sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmc7XG4gICAgfVxuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICB9XG4gICAgaXNIZWFsdGh5KCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYWRkSGVhbHRoU3RhdGVXYXRjaGVyKGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgd2l0aCB0aGUgbGlzdGVuZXJcbiAgICB9XG4gICAgcmVtb3ZlSGVhbHRoU3RhdGVXYXRjaGVyKGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgd2l0aCB0aGUgbGlzdGVuZXJcbiAgICB9XG4gICAgZ2V0UmVhbFN1YmNoYW5uZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWFsU3ViY2hhbm5lbEVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIuZ2V0UmVhbFN1YmNoYW5uZWwoKSA9PT0gdGhpcztcbiAgICB9XG4gICAgdGhyb3R0bGVLZWVwYWxpdmUobmV3S2VlcGFsaXZlVGltZSkge1xuICAgICAgICBpZiAobmV3S2VlcGFsaXZlVGltZSA+IHRoaXMua2VlcGFsaXZlVGltZSkge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lID0gbmV3S2VlcGFsaXZlVGltZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDYWxsQ3JlZGVudGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlY3VyZUNvbm5lY3Rvci5nZXRDYWxsQ3JlZGVudGlhbHMoKTtcbiAgICB9XG59XG5leHBvcnRzLlN1YmNoYW5uZWwgPSBTdWJjaGFubmVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ViY2hhbm5lbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CIPHER_SUITES = void 0;\nexports.getDefaultRootsData = getDefaultRootsData;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nexports.CIPHER_SUITES = process.env.GRPC_SSL_CIPHER_SUITES;\nconst DEFAULT_ROOTS_FILE_PATH = process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;\nlet defaultRootsData = null;\nfunction getDefaultRootsData() {\n    if (DEFAULT_ROOTS_FILE_PATH) {\n        if (defaultRootsData === null) {\n            defaultRootsData = fs.readFileSync(DEFAULT_ROOTS_FILE_PATH);\n        }\n        return defaultRootsData;\n    }\n    return null;\n}\n//# sourceMappingURL=tls-helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy90bHMtaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQiwyQkFBMkI7QUFDM0IsV0FBVyxtQkFBTyxDQUFDLGNBQUk7QUFDdkIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Rscy1oZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNJUEhFUl9TVUlURVMgPSB2b2lkIDA7XG5leHBvcnRzLmdldERlZmF1bHRSb290c0RhdGEgPSBnZXREZWZhdWx0Um9vdHNEYXRhO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5leHBvcnRzLkNJUEhFUl9TVUlURVMgPSBwcm9jZXNzLmVudi5HUlBDX1NTTF9DSVBIRVJfU1VJVEVTO1xuY29uc3QgREVGQVVMVF9ST09UU19GSUxFX1BBVEggPSBwcm9jZXNzLmVudi5HUlBDX0RFRkFVTFRfU1NMX1JPT1RTX0ZJTEVfUEFUSDtcbmxldCBkZWZhdWx0Um9vdHNEYXRhID0gbnVsbDtcbmZ1bmN0aW9uIGdldERlZmF1bHRSb290c0RhdGEoKSB7XG4gICAgaWYgKERFRkFVTFRfUk9PVFNfRklMRV9QQVRIKSB7XG4gICAgICAgIGlmIChkZWZhdWx0Um9vdHNEYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICBkZWZhdWx0Um9vdHNEYXRhID0gZnMucmVhZEZpbGVTeW5jKERFRkFVTFRfUk9PVFNfRklMRV9QQVRIKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmYXVsdFJvb3RzRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10bHMtaGVscGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2023 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Http2SubchannelConnector = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst http_proxy_1 = __webpack_require__(/*! ./http_proxy */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst subchannel_call_1 = __webpack_require__(/*! ./subchannel-call */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js\");\nconst call_number_1 = __webpack_require__(/*! ./call-number */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js\");\nconst TRACER_NAME = 'transport';\nconst FLOW_CONTROL_TRACER_NAME = 'transport_flowctrl';\nconst clientVersion = (__webpack_require__(/*! ../../package.json */ \"(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json\").version);\nconst { HTTP2_HEADER_AUTHORITY, HTTP2_HEADER_CONTENT_TYPE, HTTP2_HEADER_METHOD, HTTP2_HEADER_PATH, HTTP2_HEADER_TE, HTTP2_HEADER_USER_AGENT, } = http2.constants;\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst tooManyPingsData = Buffer.from('too_many_pings', 'ascii');\nclass Http2Transport {\n    constructor(session, subchannelAddress, options, \n    /**\n     * Name of the remote server, if it is not the same as the subchannel\n     * address, i.e. if connecting through an HTTP CONNECT proxy.\n     */\n    remoteName) {\n        this.session = session;\n        this.options = options;\n        this.remoteName = remoteName;\n        /**\n         * Timer reference indicating when to send the next ping or when the most recent ping will be considered lost.\n         */\n        this.keepaliveTimer = null;\n        /**\n         * Indicates that the keepalive timer ran out while there were no active\n         * calls, and a ping should be sent the next time a call starts.\n         */\n        this.pendingSendKeepalivePing = false;\n        this.activeCalls = new Set();\n        this.disconnectListeners = [];\n        this.disconnectHandled = false;\n        this.channelzEnabled = true;\n        this.keepalivesSent = 0;\n        this.messagesSent = 0;\n        this.messagesReceived = 0;\n        this.lastMessageSentTimestamp = null;\n        this.lastMessageReceivedTimestamp = null;\n        /* Populate subchannelAddressString and channelzRef before doing anything\n         * else, because they are used in the trace methods. */\n        this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n        if (options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n            this.streamTracker = new channelz_1.ChannelzCallTrackerStub();\n        }\n        else {\n            this.streamTracker = new channelz_1.ChannelzCallTracker();\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzSocket)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n        // Build user-agent string.\n        this.userAgent = [\n            options['grpc.primary_user_agent'],\n            `grpc-node-js/${clientVersion}`,\n            options['grpc.secondary_user_agent'],\n        ]\n            .filter(e => e)\n            .join(' '); // remove falsey values first\n        if ('grpc.keepalive_time_ms' in options) {\n            this.keepaliveTimeMs = options['grpc.keepalive_time_ms'];\n        }\n        else {\n            this.keepaliveTimeMs = -1;\n        }\n        if ('grpc.keepalive_timeout_ms' in options) {\n            this.keepaliveTimeoutMs = options['grpc.keepalive_timeout_ms'];\n        }\n        else {\n            this.keepaliveTimeoutMs = KEEPALIVE_TIMEOUT_MS;\n        }\n        if ('grpc.keepalive_permit_without_calls' in options) {\n            this.keepaliveWithoutCalls =\n                options['grpc.keepalive_permit_without_calls'] === 1;\n        }\n        else {\n            this.keepaliveWithoutCalls = false;\n        }\n        session.once('close', () => {\n            this.trace('session closed');\n            this.handleDisconnect();\n        });\n        session.once('goaway', (errorCode, lastStreamID, opaqueData) => {\n            let tooManyPings = false;\n            /* See the last paragraph of\n             * https://github.com/grpc/proposal/blob/master/A8-client-side-keepalive.md#basic-keepalive */\n            if (errorCode === http2.constants.NGHTTP2_ENHANCE_YOUR_CALM &&\n                opaqueData &&\n                opaqueData.equals(tooManyPingsData)) {\n                tooManyPings = true;\n            }\n            this.trace('connection closed by GOAWAY with code ' +\n                errorCode +\n                ' and data ' +\n                (opaqueData === null || opaqueData === void 0 ? void 0 : opaqueData.toString()));\n            this.reportDisconnectToOwner(tooManyPings);\n        });\n        session.once('error', error => {\n            this.trace('connection closed with error ' + error.message);\n            this.handleDisconnect();\n        });\n        session.socket.once('close', (hadError) => {\n            this.trace('connection closed. hadError=' + hadError);\n            this.handleDisconnect();\n        });\n        if (logging.isTracerEnabled(TRACER_NAME)) {\n            session.on('remoteSettings', (settings) => {\n                this.trace('new settings received' +\n                    (this.session !== session ? ' on the old connection' : '') +\n                    ': ' +\n                    JSON.stringify(settings));\n            });\n            session.on('localSettings', (settings) => {\n                this.trace('local settings acknowledged by remote' +\n                    (this.session !== session ? ' on the old connection' : '') +\n                    ': ' +\n                    JSON.stringify(settings));\n            });\n        }\n        /* Start the keepalive timer last, because this can trigger trace logs,\n         * which should only happen after everything else is set up. */\n        if (this.keepaliveWithoutCalls) {\n            this.maybeStartKeepalivePingTimer();\n        }\n    }\n    getChannelzInfo() {\n        var _a, _b, _c;\n        const sessionSocket = this.session.socket;\n        const remoteAddress = sessionSocket.remoteAddress\n            ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort)\n            : null;\n        const localAddress = sessionSocket.localAddress\n            ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort)\n            : null;\n        let tlsInfo;\n        if (this.session.encrypted) {\n            const tlsSocket = sessionSocket;\n            const cipherInfo = tlsSocket.getCipher();\n            const certificate = tlsSocket.getCertificate();\n            const peerCertificate = tlsSocket.getPeerCertificate();\n            tlsInfo = {\n                cipherSuiteStandardName: (_a = cipherInfo.standardName) !== null && _a !== void 0 ? _a : null,\n                cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n                localCertificate: certificate && 'raw' in certificate ? certificate.raw : null,\n                remoteCertificate: peerCertificate && 'raw' in peerCertificate\n                    ? peerCertificate.raw\n                    : null,\n            };\n        }\n        else {\n            tlsInfo = null;\n        }\n        const socketInfo = {\n            remoteAddress: remoteAddress,\n            localAddress: localAddress,\n            security: tlsInfo,\n            remoteName: this.remoteName,\n            streamsStarted: this.streamTracker.callsStarted,\n            streamsSucceeded: this.streamTracker.callsSucceeded,\n            streamsFailed: this.streamTracker.callsFailed,\n            messagesSent: this.messagesSent,\n            messagesReceived: this.messagesReceived,\n            keepAlivesSent: this.keepalivesSent,\n            lastLocalStreamCreatedTimestamp: this.streamTracker.lastCallStartedTimestamp,\n            lastRemoteStreamCreatedTimestamp: null,\n            lastMessageSentTimestamp: this.lastMessageSentTimestamp,\n            lastMessageReceivedTimestamp: this.lastMessageReceivedTimestamp,\n            localFlowControlWindow: (_b = this.session.state.localWindowSize) !== null && _b !== void 0 ? _b : null,\n            remoteFlowControlWindow: (_c = this.session.state.remoteWindowSize) !== null && _c !== void 0 ? _c : null,\n        };\n        return socketInfo;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    keepaliveTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'keepalive', '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    flowControlTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, FLOW_CONTROL_TRACER_NAME, '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    internalsTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'transport_internals', '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    /**\n     * Indicate to the owner of this object that this transport should no longer\n     * be used. That happens if the connection drops, or if the server sends a\n     * GOAWAY.\n     * @param tooManyPings If true, this was triggered by a GOAWAY with data\n     * indicating that the session was closed becaues the client sent too many\n     * pings.\n     * @returns\n     */\n    reportDisconnectToOwner(tooManyPings) {\n        if (this.disconnectHandled) {\n            return;\n        }\n        this.disconnectHandled = true;\n        this.disconnectListeners.forEach(listener => listener(tooManyPings));\n    }\n    /**\n     * Handle connection drops, but not GOAWAYs.\n     */\n    handleDisconnect() {\n        this.clearKeepaliveTimeout();\n        this.reportDisconnectToOwner(false);\n        for (const call of this.activeCalls) {\n            call.onDisconnect();\n        }\n        // Wait an event loop cycle before destroying the connection\n        setImmediate(() => {\n            this.session.destroy();\n        });\n    }\n    addDisconnectListener(listener) {\n        this.disconnectListeners.push(listener);\n    }\n    canSendPing() {\n        return (!this.session.destroyed &&\n            this.keepaliveTimeMs > 0 &&\n            (this.keepaliveWithoutCalls || this.activeCalls.size > 0));\n    }\n    maybeSendPing() {\n        var _a, _b;\n        if (!this.canSendPing()) {\n            this.pendingSendKeepalivePing = true;\n            return;\n        }\n        if (this.keepaliveTimer) {\n            console.error('keepaliveTimeout is not null');\n            return;\n        }\n        if (this.channelzEnabled) {\n            this.keepalivesSent += 1;\n        }\n        this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n        this.keepaliveTimer = setTimeout(() => {\n            this.keepaliveTimer = null;\n            this.keepaliveTrace('Ping timeout passed without response');\n            this.handleDisconnect();\n        }, this.keepaliveTimeoutMs);\n        (_b = (_a = this.keepaliveTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        let pingSendError = '';\n        try {\n            const pingSentSuccessfully = this.session.ping((err, duration, payload) => {\n                this.clearKeepaliveTimeout();\n                if (err) {\n                    this.keepaliveTrace('Ping failed with error ' + err.message);\n                    this.handleDisconnect();\n                }\n                else {\n                    this.keepaliveTrace('Received ping response');\n                    this.maybeStartKeepalivePingTimer();\n                }\n            });\n            if (!pingSentSuccessfully) {\n                pingSendError = 'Ping returned false';\n            }\n        }\n        catch (e) {\n            // grpc/grpc-node#2139\n            pingSendError = (e instanceof Error ? e.message : '') || 'Unknown error';\n        }\n        if (pingSendError) {\n            this.keepaliveTrace('Ping send failed: ' + pingSendError);\n            this.handleDisconnect();\n        }\n    }\n    /**\n     * Starts the keepalive ping timer if appropriate. If the timer already ran\n     * out while there were no active requests, instead send a ping immediately.\n     * If the ping timer is already running or a ping is currently in flight,\n     * instead do nothing and wait for them to resolve.\n     */\n    maybeStartKeepalivePingTimer() {\n        var _a, _b;\n        if (!this.canSendPing()) {\n            return;\n        }\n        if (this.pendingSendKeepalivePing) {\n            this.pendingSendKeepalivePing = false;\n            this.maybeSendPing();\n        }\n        else if (!this.keepaliveTimer) {\n            this.keepaliveTrace('Starting keepalive timer for ' + this.keepaliveTimeMs + 'ms');\n            this.keepaliveTimer = setTimeout(() => {\n                this.keepaliveTimer = null;\n                this.maybeSendPing();\n            }, this.keepaliveTimeMs);\n            (_b = (_a = this.keepaliveTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n        /* Otherwise, there is already either a keepalive timer or a ping pending,\n         * wait for those to resolve. */\n    }\n    /**\n     * Clears whichever keepalive timeout is currently active, if any.\n     */\n    clearKeepaliveTimeout() {\n        if (this.keepaliveTimer) {\n            clearTimeout(this.keepaliveTimer);\n            this.keepaliveTimer = null;\n        }\n    }\n    removeActiveCall(call) {\n        this.activeCalls.delete(call);\n        if (this.activeCalls.size === 0) {\n            this.session.unref();\n        }\n    }\n    addActiveCall(call) {\n        this.activeCalls.add(call);\n        if (this.activeCalls.size === 1) {\n            this.session.ref();\n            if (!this.keepaliveWithoutCalls) {\n                this.maybeStartKeepalivePingTimer();\n            }\n        }\n    }\n    createCall(metadata, host, method, listener, subchannelCallStatsTracker) {\n        const headers = metadata.toHttp2Headers();\n        headers[HTTP2_HEADER_AUTHORITY] = host;\n        headers[HTTP2_HEADER_USER_AGENT] = this.userAgent;\n        headers[HTTP2_HEADER_CONTENT_TYPE] = 'application/grpc';\n        headers[HTTP2_HEADER_METHOD] = 'POST';\n        headers[HTTP2_HEADER_PATH] = method;\n        headers[HTTP2_HEADER_TE] = 'trailers';\n        let http2Stream;\n        /* In theory, if an error is thrown by session.request because session has\n         * become unusable (e.g. because it has received a goaway), this subchannel\n         * should soon see the corresponding close or goaway event anyway and leave\n         * READY. But we have seen reports that this does not happen\n         * (https://github.com/googleapis/nodejs-firestore/issues/1023#issuecomment-653204096)\n         * so for defense in depth, we just discard the session when we see an\n         * error here.\n         */\n        try {\n            http2Stream = this.session.request(headers);\n        }\n        catch (e) {\n            this.handleDisconnect();\n            throw e;\n        }\n        this.flowControlTrace('local window size: ' +\n            this.session.state.localWindowSize +\n            ' remote window size: ' +\n            this.session.state.remoteWindowSize);\n        this.internalsTrace('session.closed=' +\n            this.session.closed +\n            ' session.destroyed=' +\n            this.session.destroyed +\n            ' session.socket.destroyed=' +\n            this.session.socket.destroyed);\n        let eventTracker;\n        // eslint-disable-next-line prefer-const\n        let call;\n        if (this.channelzEnabled) {\n            this.streamTracker.addCallStarted();\n            eventTracker = {\n                addMessageSent: () => {\n                    var _a;\n                    this.messagesSent += 1;\n                    this.lastMessageSentTimestamp = new Date();\n                    (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                addMessageReceived: () => {\n                    var _a;\n                    this.messagesReceived += 1;\n                    this.lastMessageReceivedTimestamp = new Date();\n                    (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                onCallEnd: status => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n                    this.removeActiveCall(call);\n                },\n                onStreamEnd: success => {\n                    var _a;\n                    if (success) {\n                        this.streamTracker.addCallSucceeded();\n                    }\n                    else {\n                        this.streamTracker.addCallFailed();\n                    }\n                    (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n                },\n            };\n        }\n        else {\n            eventTracker = {\n                addMessageSent: () => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                addMessageReceived: () => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                onCallEnd: status => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n                    this.removeActiveCall(call);\n                },\n                onStreamEnd: success => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n                },\n            };\n        }\n        call = new subchannel_call_1.Http2SubchannelCall(http2Stream, eventTracker, listener, this, (0, call_number_1.getNextCallNumber)());\n        this.addActiveCall(call);\n        return call;\n    }\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    getPeerName() {\n        return this.subchannelAddressString;\n    }\n    getOptions() {\n        return this.options;\n    }\n    shutdown() {\n        this.session.close();\n        (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n    }\n}\nclass Http2SubchannelConnector {\n    constructor(channelTarget) {\n        this.channelTarget = channelTarget;\n        this.session = null;\n        this.isShutdown = false;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, (0, uri_parser_1.uriToString)(this.channelTarget) + ' ' + text);\n    }\n    createSession(secureConnectResult, address, options) {\n        if (this.isShutdown) {\n            return Promise.reject();\n        }\n        if (secureConnectResult.socket.closed) {\n            return Promise.reject('Connection closed before starting HTTP/2 handshake');\n        }\n        return new Promise((resolve, reject) => {\n            let remoteName = null;\n            let realTarget = this.channelTarget;\n            if ('grpc.http_connect_target' in options) {\n                const parsedTarget = (0, uri_parser_1.parseUri)(options['grpc.http_connect_target']);\n                if (parsedTarget) {\n                    realTarget = parsedTarget;\n                    remoteName = (0, uri_parser_1.uriToString)(parsedTarget);\n                }\n            }\n            const scheme = secureConnectResult.secure ? 'https' : 'http';\n            const targetPath = (0, resolver_1.getDefaultAuthority)(realTarget);\n            const closeHandler = () => {\n                var _a;\n                (_a = this.session) === null || _a === void 0 ? void 0 : _a.destroy();\n                this.session = null;\n                // Leave time for error event to happen before rejecting\n                setImmediate(() => {\n                    if (!reportedError) {\n                        reportedError = true;\n                        reject(`${errorMessage.trim()} (${new Date().toISOString()})`);\n                    }\n                });\n            };\n            const errorHandler = (error) => {\n                var _a;\n                (_a = this.session) === null || _a === void 0 ? void 0 : _a.destroy();\n                errorMessage = error.message;\n                this.trace('connection failed with error ' + errorMessage);\n                if (!reportedError) {\n                    reportedError = true;\n                    reject(`${errorMessage} (${new Date().toISOString()})`);\n                }\n            };\n            const sessionOptions = {\n                createConnection: (authority, option) => {\n                    return secureConnectResult.socket;\n                }\n            };\n            if (options['grpc-node.flow_control_window'] !== undefined) {\n                sessionOptions.settings = {\n                    initialWindowSize: options['grpc-node.flow_control_window']\n                };\n            }\n            const session = http2.connect(`${scheme}://${targetPath}`, sessionOptions);\n            this.session = session;\n            let errorMessage = 'Failed to connect';\n            let reportedError = false;\n            session.unref();\n            session.once('remoteSettings', () => {\n                session.removeAllListeners();\n                secureConnectResult.socket.removeListener('close', closeHandler);\n                secureConnectResult.socket.removeListener('error', errorHandler);\n                resolve(new Http2Transport(session, address, options, remoteName));\n                this.session = null;\n            });\n            session.once('close', closeHandler);\n            session.once('error', errorHandler);\n            secureConnectResult.socket.once('close', closeHandler);\n            secureConnectResult.socket.once('error', errorHandler);\n        });\n    }\n    tcpConnect(address, options) {\n        return (0, http_proxy_1.getProxiedConnection)(address, options).then(proxiedSocket => {\n            if (proxiedSocket) {\n                return proxiedSocket;\n            }\n            else {\n                return new Promise((resolve, reject) => {\n                    const closeCallback = () => {\n                        reject(new Error('Socket closed'));\n                    };\n                    const errorCallback = (error) => {\n                        reject(error);\n                    };\n                    const socket = net.connect(address, () => {\n                        socket.removeListener('close', closeCallback);\n                        socket.removeListener('error', errorCallback);\n                        resolve(socket);\n                    });\n                    socket.once('close', closeCallback);\n                    socket.once('error', errorCallback);\n                });\n            }\n        });\n    }\n    async connect(address, secureConnector, options) {\n        if (this.isShutdown) {\n            return Promise.reject();\n        }\n        let tcpConnection = null;\n        let secureConnectResult = null;\n        const addressString = (0, subchannel_address_1.subchannelAddressToString)(address);\n        try {\n            this.trace(addressString + ' Waiting for secureConnector to be ready');\n            await secureConnector.waitForReady();\n            this.trace(addressString + ' secureConnector is ready');\n            tcpConnection = await this.tcpConnect(address, options);\n            tcpConnection.setNoDelay();\n            this.trace(addressString + ' Established TCP connection');\n            secureConnectResult = await secureConnector.connect(tcpConnection);\n            this.trace(addressString + ' Established secure connection');\n            return this.createSession(secureConnectResult, address, options);\n        }\n        catch (e) {\n            tcpConnection === null || tcpConnection === void 0 ? void 0 : tcpConnection.destroy();\n            secureConnectResult === null || secureConnectResult === void 0 ? void 0 : secureConnectResult.socket.destroy();\n            throw e;\n        }\n    }\n    shutdown() {\n        var _a;\n        this.isShutdown = true;\n        (_a = this.session) === null || _a === void 0 ? void 0 : _a.close();\n        this.session = null;\n    }\n}\nexports.Http2SubchannelConnector = Http2SubchannelConnector;\n//# sourceMappingURL=transport.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy90cmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0M7QUFDaEMsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLGlIQUFhO0FBQ3pDLHFCQUFxQixtQkFBTyxDQUFDLG1IQUFjO0FBQzNDLGdCQUFnQixtQkFBTyxDQUFDLDZHQUFXO0FBQ25DLG1CQUFtQixtQkFBTyxDQUFDLCtHQUFZO0FBQ3ZDLDZCQUE2QixtQkFBTyxDQUFDLG1JQUFzQjtBQUMzRCxxQkFBcUIsbUJBQU8sQ0FBQyxtSEFBYztBQUMzQyxZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsMEJBQTBCLG1CQUFPLENBQUMsNkhBQW1CO0FBQ3JELHNCQUFzQixtQkFBTyxDQUFDLHFIQUFlO0FBQzdDO0FBQ0E7QUFDQSxzQkFBc0IsNklBQXFDO0FBQzNELFFBQVEsdUlBQXVJO0FBQy9JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHFCQUFxQixHQUFHLHlCQUF5QjtBQUNuRjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGNBQWMsR0FBRyx5QkFBeUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU8sS0FBSyxXQUFXO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy90cmFuc3BvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjMgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yID0gdm9pZCAwO1xuY29uc3QgaHR0cDIgPSByZXF1aXJlKFwiaHR0cDJcIik7XG5jb25zdCBjaGFubmVsel8xID0gcmVxdWlyZShcIi4vY2hhbm5lbHpcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGh0dHBfcHJveHlfMSA9IHJlcXVpcmUoXCIuL2h0dHBfcHJveHlcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBzdWJjaGFubmVsX2NhbGxfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtY2FsbFwiKTtcbmNvbnN0IGNhbGxfbnVtYmVyXzEgPSByZXF1aXJlKFwiLi9jYWxsLW51bWJlclwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3RyYW5zcG9ydCc7XG5jb25zdCBGTE9XX0NPTlRST0xfVFJBQ0VSX05BTUUgPSAndHJhbnNwb3J0X2Zsb3djdHJsJztcbmNvbnN0IGNsaWVudFZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuY29uc3QgeyBIVFRQMl9IRUFERVJfQVVUSE9SSVRZLCBIVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFLCBIVFRQMl9IRUFERVJfTUVUSE9ELCBIVFRQMl9IRUFERVJfUEFUSCwgSFRUUDJfSEVBREVSX1RFLCBIVFRQMl9IRUFERVJfVVNFUl9BR0VOVCwgfSA9IGh0dHAyLmNvbnN0YW50cztcbmNvbnN0IEtFRVBBTElWRV9USU1FT1VUX01TID0gMjAwMDA7XG5jb25zdCB0b29NYW55UGluZ3NEYXRhID0gQnVmZmVyLmZyb20oJ3Rvb19tYW55X3BpbmdzJywgJ2FzY2lpJyk7XG5jbGFzcyBIdHRwMlRyYW5zcG9ydCB7XG4gICAgY29uc3RydWN0b3Ioc2Vzc2lvbiwgc3ViY2hhbm5lbEFkZHJlc3MsIG9wdGlvbnMsIFxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIHJlbW90ZSBzZXJ2ZXIsIGlmIGl0IGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgc3ViY2hhbm5lbFxuICAgICAqIGFkZHJlc3MsIGkuZS4gaWYgY29ubmVjdGluZyB0aHJvdWdoIGFuIEhUVFAgQ09OTkVDVCBwcm94eS5cbiAgICAgKi9cbiAgICByZW1vdGVOYW1lKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVtb3RlTmFtZSA9IHJlbW90ZU5hbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lciByZWZlcmVuY2UgaW5kaWNhdGluZyB3aGVuIHRvIHNlbmQgdGhlIG5leHQgcGluZyBvciB3aGVuIHRoZSBtb3N0IHJlY2VudCBwaW5nIHdpbGwgYmUgY29uc2lkZXJlZCBsb3N0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUga2VlcGFsaXZlIHRpbWVyIHJhbiBvdXQgd2hpbGUgdGhlcmUgd2VyZSBubyBhY3RpdmVcbiAgICAgICAgICogY2FsbHMsIGFuZCBhIHBpbmcgc2hvdWxkIGJlIHNlbnQgdGhlIG5leHQgdGltZSBhIGNhbGwgc3RhcnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wZW5kaW5nU2VuZEtlZXBhbGl2ZVBpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmVDYWxscyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0TGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdEhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZXNTZW50ID0gMDtcbiAgICAgICAgdGhpcy5tZXNzYWdlc1NlbnQgPSAwO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzUmVjZWl2ZWQgPSAwO1xuICAgICAgICB0aGlzLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgIC8qIFBvcHVsYXRlIHN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nIGFuZCBjaGFubmVselJlZiBiZWZvcmUgZG9pbmcgYW55dGhpbmdcbiAgICAgICAgICogZWxzZSwgYmVjYXVzZSB0aGV5IGFyZSB1c2VkIGluIHRoZSB0cmFjZSBtZXRob2RzLiAqL1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nID0gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKHN1YmNoYW5uZWxBZGRyZXNzKTtcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2dycGMuZW5hYmxlX2NoYW5uZWx6J10gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyU3R1YigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSh0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nLCAoKSA9PiB0aGlzLmdldENoYW5uZWx6SW5mbygpLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgIC8vIEJ1aWxkIHVzZXItYWdlbnQgc3RyaW5nLlxuICAgICAgICB0aGlzLnVzZXJBZ2VudCA9IFtcbiAgICAgICAgICAgIG9wdGlvbnNbJ2dycGMucHJpbWFyeV91c2VyX2FnZW50J10sXG4gICAgICAgICAgICBgZ3JwYy1ub2RlLWpzLyR7Y2xpZW50VmVyc2lvbn1gLFxuICAgICAgICAgICAgb3B0aW9uc1snZ3JwYy5zZWNvbmRhcnlfdXNlcl9hZ2VudCddLFxuICAgICAgICBdXG4gICAgICAgICAgICAuZmlsdGVyKGUgPT4gZSlcbiAgICAgICAgICAgIC5qb2luKCcgJyk7IC8vIHJlbW92ZSBmYWxzZXkgdmFsdWVzIGZpcnN0XG4gICAgICAgIGlmICgnZ3JwYy5rZWVwYWxpdmVfdGltZV9tcycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPSBvcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lX21zJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZ3JwYy5rZWVwYWxpdmVfdGltZW91dF9tcycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMgPSBvcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyA9IEtFRVBBTElWRV9USU1FT1VUX01TO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZ3JwYy5rZWVwYWxpdmVfcGVybWl0X3dpdGhvdXRfY2FsbHMnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlV2l0aG91dENhbGxzID1cbiAgICAgICAgICAgICAgICBvcHRpb25zWydncnBjLmtlZXBhbGl2ZV9wZXJtaXRfd2l0aG91dF9jYWxscyddID09PSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uLm9uY2UoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnc2Vzc2lvbiBjbG9zZWQnKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2Vzc2lvbi5vbmNlKCdnb2F3YXknLCAoZXJyb3JDb2RlLCBsYXN0U3RyZWFtSUQsIG9wYXF1ZURhdGEpID0+IHtcbiAgICAgICAgICAgIGxldCB0b29NYW55UGluZ3MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qIFNlZSB0aGUgbGFzdCBwYXJhZ3JhcGggb2ZcbiAgICAgICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL3Byb3Bvc2FsL2Jsb2IvbWFzdGVyL0E4LWNsaWVudC1zaWRlLWtlZXBhbGl2ZS5tZCNiYXNpYy1rZWVwYWxpdmUgKi9cbiAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0VOSEFOQ0VfWU9VUl9DQUxNICYmXG4gICAgICAgICAgICAgICAgb3BhcXVlRGF0YSAmJlxuICAgICAgICAgICAgICAgIG9wYXF1ZURhdGEuZXF1YWxzKHRvb01hbnlQaW5nc0RhdGEpKSB7XG4gICAgICAgICAgICAgICAgdG9vTWFueVBpbmdzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2Nvbm5lY3Rpb24gY2xvc2VkIGJ5IEdPQVdBWSB3aXRoIGNvZGUgJyArXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlICtcbiAgICAgICAgICAgICAgICAnIGFuZCBkYXRhICcgK1xuICAgICAgICAgICAgICAgIChvcGFxdWVEYXRhID09PSBudWxsIHx8IG9wYXF1ZURhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wYXF1ZURhdGEudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgdGhpcy5yZXBvcnREaXNjb25uZWN0VG9Pd25lcih0b29NYW55UGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2Vzc2lvbi5vbmNlKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2Nvbm5lY3Rpb24gY2xvc2VkIHdpdGggZXJyb3IgJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLnNvY2tldC5vbmNlKCdjbG9zZScsIChoYWRFcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnY29ubmVjdGlvbiBjbG9zZWQuIGhhZEVycm9yPScgKyBoYWRFcnJvcik7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsb2dnaW5nLmlzVHJhY2VyRW5hYmxlZChUUkFDRVJfTkFNRSkpIHtcbiAgICAgICAgICAgIHNlc3Npb24ub24oJ3JlbW90ZVNldHRpbmdzJywgKHNldHRpbmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnbmV3IHNldHRpbmdzIHJlY2VpdmVkJyArXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnNlc3Npb24gIT09IHNlc3Npb24gPyAnIG9uIHRoZSBvbGQgY29ubmVjdGlvbicgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbignbG9jYWxTZXR0aW5ncycsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ2xvY2FsIHNldHRpbmdzIGFja25vd2xlZGdlZCBieSByZW1vdGUnICtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuc2Vzc2lvbiAhPT0gc2Vzc2lvbiA/ICcgb24gdGhlIG9sZCBjb25uZWN0aW9uJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICc6ICcgK1xuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogU3RhcnQgdGhlIGtlZXBhbGl2ZSB0aW1lciBsYXN0LCBiZWNhdXNlIHRoaXMgY2FuIHRyaWdnZXIgdHJhY2UgbG9ncyxcbiAgICAgICAgICogd2hpY2ggc2hvdWxkIG9ubHkgaGFwcGVuIGFmdGVyIGV2ZXJ5dGhpbmcgZWxzZSBpcyBzZXQgdXAuICovXG4gICAgICAgIGlmICh0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscykge1xuICAgICAgICAgICAgdGhpcy5tYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpJbmZvKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3Qgc2Vzc2lvblNvY2tldCA9IHRoaXMuc2Vzc2lvbi5zb2NrZXQ7XG4gICAgICAgIGNvbnN0IHJlbW90ZUFkZHJlc3MgPSBzZXNzaW9uU29ja2V0LnJlbW90ZUFkZHJlc3NcbiAgICAgICAgICAgID8gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MpKHNlc3Npb25Tb2NrZXQucmVtb3RlQWRkcmVzcywgc2Vzc2lvblNvY2tldC5yZW1vdGVQb3J0KVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBjb25zdCBsb2NhbEFkZHJlc3MgPSBzZXNzaW9uU29ja2V0LmxvY2FsQWRkcmVzc1xuICAgICAgICAgICAgPyAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcykoc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3MsIHNlc3Npb25Tb2NrZXQubG9jYWxQb3J0KVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBsZXQgdGxzSW5mbztcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5lbmNyeXB0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRsc1NvY2tldCA9IHNlc3Npb25Tb2NrZXQ7XG4gICAgICAgICAgICBjb25zdCBjaXBoZXJJbmZvID0gdGxzU29ja2V0LmdldENpcGhlcigpO1xuICAgICAgICAgICAgY29uc3QgY2VydGlmaWNhdGUgPSB0bHNTb2NrZXQuZ2V0Q2VydGlmaWNhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHBlZXJDZXJ0aWZpY2F0ZSA9IHRsc1NvY2tldC5nZXRQZWVyQ2VydGlmaWNhdGUoKTtcbiAgICAgICAgICAgIHRsc0luZm8gPSB7XG4gICAgICAgICAgICAgICAgY2lwaGVyU3VpdGVTdGFuZGFyZE5hbWU6IChfYSA9IGNpcGhlckluZm8uc3RhbmRhcmROYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLFxuICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlT3RoZXJOYW1lOiBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSA/IG51bGwgOiBjaXBoZXJJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgbG9jYWxDZXJ0aWZpY2F0ZTogY2VydGlmaWNhdGUgJiYgJ3JhdycgaW4gY2VydGlmaWNhdGUgPyBjZXJ0aWZpY2F0ZS5yYXcgOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlbW90ZUNlcnRpZmljYXRlOiBwZWVyQ2VydGlmaWNhdGUgJiYgJ3JhdycgaW4gcGVlckNlcnRpZmljYXRlXG4gICAgICAgICAgICAgICAgICAgID8gcGVlckNlcnRpZmljYXRlLnJhd1xuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGxzSW5mbyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc29ja2V0SW5mbyA9IHtcbiAgICAgICAgICAgIHJlbW90ZUFkZHJlc3M6IHJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgICBsb2NhbEFkZHJlc3M6IGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIHNlY3VyaXR5OiB0bHNJbmZvLFxuICAgICAgICAgICAgcmVtb3RlTmFtZTogdGhpcy5yZW1vdGVOYW1lLFxuICAgICAgICAgICAgc3RyZWFtc1N0YXJ0ZWQ6IHRoaXMuc3RyZWFtVHJhY2tlci5jYWxsc1N0YXJ0ZWQsXG4gICAgICAgICAgICBzdHJlYW1zU3VjY2VlZGVkOiB0aGlzLnN0cmVhbVRyYWNrZXIuY2FsbHNTdWNjZWVkZWQsXG4gICAgICAgICAgICBzdHJlYW1zRmFpbGVkOiB0aGlzLnN0cmVhbVRyYWNrZXIuY2FsbHNGYWlsZWQsXG4gICAgICAgICAgICBtZXNzYWdlc1NlbnQ6IHRoaXMubWVzc2FnZXNTZW50LFxuICAgICAgICAgICAgbWVzc2FnZXNSZWNlaXZlZDogdGhpcy5tZXNzYWdlc1JlY2VpdmVkLFxuICAgICAgICAgICAga2VlcEFsaXZlc1NlbnQ6IHRoaXMua2VlcGFsaXZlc1NlbnQsXG4gICAgICAgICAgICBsYXN0TG9jYWxTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiB0aGlzLnN0cmVhbVRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wLFxuICAgICAgICAgICAgbGFzdFJlbW90ZVN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IHRoaXMubGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wLFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wLFxuICAgICAgICAgICAgbG9jYWxGbG93Q29udHJvbFdpbmRvdzogKF9iID0gdGhpcy5zZXNzaW9uLnN0YXRlLmxvY2FsV2luZG93U2l6ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbCxcbiAgICAgICAgICAgIHJlbW90ZUZsb3dDb250cm9sV2luZG93OiAoX2MgPSB0aGlzLnNlc3Npb24uc3RhdGUucmVtb3RlV2luZG93U2l6ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHNvY2tldEluZm87XG4gICAgfVxuICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbiAgICBrZWVwYWxpdmVUcmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAna2VlcGFsaXZlJywgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAgZmxvd0NvbnRyb2xUcmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBGTE9XX0NPTlRST0xfVFJBQ0VSX05BTUUsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIGludGVybmFsc1RyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICd0cmFuc3BvcnRfaW50ZXJuYWxzJywgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGUgdG8gdGhlIG93bmVyIG9mIHRoaXMgb2JqZWN0IHRoYXQgdGhpcyB0cmFuc3BvcnQgc2hvdWxkIG5vIGxvbmdlclxuICAgICAqIGJlIHVzZWQuIFRoYXQgaGFwcGVucyBpZiB0aGUgY29ubmVjdGlvbiBkcm9wcywgb3IgaWYgdGhlIHNlcnZlciBzZW5kcyBhXG4gICAgICogR09BV0FZLlxuICAgICAqIEBwYXJhbSB0b29NYW55UGluZ3MgSWYgdHJ1ZSwgdGhpcyB3YXMgdHJpZ2dlcmVkIGJ5IGEgR09BV0FZIHdpdGggZGF0YVxuICAgICAqIGluZGljYXRpbmcgdGhhdCB0aGUgc2Vzc2lvbiB3YXMgY2xvc2VkIGJlY2F1ZXMgdGhlIGNsaWVudCBzZW50IHRvbyBtYW55XG4gICAgICogcGluZ3MuXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICByZXBvcnREaXNjb25uZWN0VG9Pd25lcih0b29NYW55UGluZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzY29ubmVjdEhhbmRsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0TGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIodG9vTWFueVBpbmdzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjb25uZWN0aW9uIGRyb3BzLCBidXQgbm90IEdPQVdBWXMuXG4gICAgICovXG4gICAgaGFuZGxlRGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5jbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgdGhpcy5yZXBvcnREaXNjb25uZWN0VG9Pd25lcihmYWxzZSk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLmFjdGl2ZUNhbGxzKSB7XG4gICAgICAgICAgICBjYWxsLm9uRGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdhaXQgYW4gZXZlbnQgbG9vcCBjeWNsZSBiZWZvcmUgZGVzdHJveWluZyB0aGUgY29ubmVjdGlvblxuICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZERpc2Nvbm5lY3RMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICAgIGNhblNlbmRQaW5nKCkge1xuICAgICAgICByZXR1cm4gKCF0aGlzLnNlc3Npb24uZGVzdHJveWVkICYmXG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA+IDAgJiZcbiAgICAgICAgICAgICh0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscyB8fCB0aGlzLmFjdGl2ZUNhbGxzLnNpemUgPiAwKSk7XG4gICAgfVxuICAgIG1heWJlU2VuZFBpbmcoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5jYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTZW5kS2VlcGFsaXZlUGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMua2VlcGFsaXZlVGltZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2tlZXBhbGl2ZVRpbWVvdXQgaXMgbm90IG51bGwnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlc1NlbnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdTZW5kaW5nIHBpbmcgd2l0aCB0aW1lb3V0ICcgKyB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyArICdtcycpO1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgdGltZW91dCBwYXNzZWQgd2l0aG91dCByZXNwb25zZScpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgIH0sIHRoaXMua2VlcGFsaXZlVGltZW91dE1zKTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5rZWVwYWxpdmVUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgbGV0IHBpbmdTZW5kRXJyb3IgPSAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBpbmdTZW50U3VjY2Vzc2Z1bGx5ID0gdGhpcy5zZXNzaW9uLnBpbmcoKGVyciwgZHVyYXRpb24sIHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyBmYWlsZWQgd2l0aCBlcnJvciAnICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1JlY2VpdmVkIHBpbmcgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXBpbmdTZW50U3VjY2Vzc2Z1bGx5KSB7XG4gICAgICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9ICdQaW5nIHJldHVybmVkIGZhbHNlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZ3JwYy9ncnBjLW5vZGUjMjEzOVxuICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9IChlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiAnJykgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwaW5nU2VuZEVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIHNlbmQgZmFpbGVkOiAnICsgcGluZ1NlbmRFcnJvcik7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIGtlZXBhbGl2ZSBwaW5nIHRpbWVyIGlmIGFwcHJvcHJpYXRlLiBJZiB0aGUgdGltZXIgYWxyZWFkeSByYW5cbiAgICAgKiBvdXQgd2hpbGUgdGhlcmUgd2VyZSBubyBhY3RpdmUgcmVxdWVzdHMsIGluc3RlYWQgc2VuZCBhIHBpbmcgaW1tZWRpYXRlbHkuXG4gICAgICogSWYgdGhlIHBpbmcgdGltZXIgaXMgYWxyZWFkeSBydW5uaW5nIG9yIGEgcGluZyBpcyBjdXJyZW50bHkgaW4gZmxpZ2h0LFxuICAgICAqIGluc3RlYWQgZG8gbm90aGluZyBhbmQgd2FpdCBmb3IgdGhlbSB0byByZXNvbHZlLlxuICAgICAqL1xuICAgIG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5jYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1NlbmRLZWVwYWxpdmVQaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTZW5kS2VlcGFsaXZlUGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5tYXliZVNlbmRQaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMua2VlcGFsaXZlVGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1N0YXJ0aW5nIGtlZXBhbGl2ZSB0aW1lciBmb3IgJyArIHRoaXMua2VlcGFsaXZlVGltZU1zICsgJ21zJyk7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVNlbmRQaW5nKCk7XG4gICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVNcyk7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmtlZXBhbGl2ZVRpbWVyKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9XG4gICAgICAgIC8qIE90aGVyd2lzZSwgdGhlcmUgaXMgYWxyZWFkeSBlaXRoZXIgYSBrZWVwYWxpdmUgdGltZXIgb3IgYSBwaW5nIHBlbmRpbmcsXG4gICAgICAgICAqIHdhaXQgZm9yIHRob3NlIHRvIHJlc29sdmUuICovXG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB3aGljaGV2ZXIga2VlcGFsaXZlIHRpbWVvdXQgaXMgY3VycmVudGx5IGFjdGl2ZSwgaWYgYW55LlxuICAgICAqL1xuICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMua2VlcGFsaXZlVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmtlZXBhbGl2ZVRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUFjdGl2ZUNhbGwoY2FsbCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUNhbGxzLmRlbGV0ZShjYWxsKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ2FsbHMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkQWN0aXZlQ2FsbChjYWxsKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQ2FsbHMuYWRkKGNhbGwpO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVDYWxscy5zaXplID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVmKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMua2VlcGFsaXZlV2l0aG91dENhbGxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlQ2FsbChtZXRhZGF0YSwgaG9zdCwgbWV0aG9kLCBsaXN0ZW5lciwgc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIpIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IG1ldGFkYXRhLnRvSHR0cDJIZWFkZXJzKCk7XG4gICAgICAgIGhlYWRlcnNbSFRUUDJfSEVBREVSX0FVVEhPUklUWV0gPSBob3N0O1xuICAgICAgICBoZWFkZXJzW0hUVFAyX0hFQURFUl9VU0VSX0FHRU5UXSA9IHRoaXMudXNlckFnZW50O1xuICAgICAgICBoZWFkZXJzW0hUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdID0gJ2FwcGxpY2F0aW9uL2dycGMnO1xuICAgICAgICBoZWFkZXJzW0hUVFAyX0hFQURFUl9NRVRIT0RdID0gJ1BPU1QnO1xuICAgICAgICBoZWFkZXJzW0hUVFAyX0hFQURFUl9QQVRIXSA9IG1ldGhvZDtcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfVEVdID0gJ3RyYWlsZXJzJztcbiAgICAgICAgbGV0IGh0dHAyU3RyZWFtO1xuICAgICAgICAvKiBJbiB0aGVvcnksIGlmIGFuIGVycm9yIGlzIHRocm93biBieSBzZXNzaW9uLnJlcXVlc3QgYmVjYXVzZSBzZXNzaW9uIGhhc1xuICAgICAgICAgKiBiZWNvbWUgdW51c2FibGUgKGUuZy4gYmVjYXVzZSBpdCBoYXMgcmVjZWl2ZWQgYSBnb2F3YXkpLCB0aGlzIHN1YmNoYW5uZWxcbiAgICAgICAgICogc2hvdWxkIHNvb24gc2VlIHRoZSBjb3JyZXNwb25kaW5nIGNsb3NlIG9yIGdvYXdheSBldmVudCBhbnl3YXkgYW5kIGxlYXZlXG4gICAgICAgICAqIFJFQURZLiBCdXQgd2UgaGF2ZSBzZWVuIHJlcG9ydHMgdGhhdCB0aGlzIGRvZXMgbm90IGhhcHBlblxuICAgICAgICAgKiAoaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvbm9kZWpzLWZpcmVzdG9yZS9pc3N1ZXMvMTAyMyNpc3N1ZWNvbW1lbnQtNjUzMjA0MDk2KVxuICAgICAgICAgKiBzbyBmb3IgZGVmZW5zZSBpbiBkZXB0aCwgd2UganVzdCBkaXNjYXJkIHRoZSBzZXNzaW9uIHdoZW4gd2Ugc2VlIGFuXG4gICAgICAgICAqIGVycm9yIGhlcmUuXG4gICAgICAgICAqL1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaHR0cDJTdHJlYW0gPSB0aGlzLnNlc3Npb24ucmVxdWVzdChoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxvd0NvbnRyb2xUcmFjZSgnbG9jYWwgd2luZG93IHNpemU6ICcgK1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnN0YXRlLmxvY2FsV2luZG93U2l6ZSArXG4gICAgICAgICAgICAnIHJlbW90ZSB3aW5kb3cgc2l6ZTogJyArXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc3RhdGUucmVtb3RlV2luZG93U2l6ZSk7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxzVHJhY2UoJ3Nlc3Npb24uY2xvc2VkPScgK1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmNsb3NlZCArXG4gICAgICAgICAgICAnIHNlc3Npb24uZGVzdHJveWVkPScgK1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmRlc3Ryb3llZCArXG4gICAgICAgICAgICAnIHNlc3Npb24uc29ja2V0LmRlc3Ryb3llZD0nICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zb2NrZXQuZGVzdHJveWVkKTtcbiAgICAgICAgbGV0IGV2ZW50VHJhY2tlcjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgICAgICBsZXQgY2FsbDtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN0YXJ0ZWQoKTtcbiAgICAgICAgICAgIGV2ZW50VHJhY2tlciA9IHtcbiAgICAgICAgICAgICAgICBhZGRNZXNzYWdlU2VudDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXNTZW50ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVNlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VSZWNlaXZlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXNSZWNlaXZlZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5hZGRNZXNzYWdlUmVjZWl2ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2FsbEVuZDogc3RhdHVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5vbkNhbGxFbmQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLCBzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFjdGl2ZUNhbGwoY2FsbCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblN0cmVhbUVuZDogc3VjY2VzcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtVHJhY2tlci5hZGRDYWxsU3VjY2VlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLm9uU3RyZWFtRW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlciwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBldmVudFRyYWNrZXIgPSB7XG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZVNlbnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5hZGRNZXNzYWdlU2VudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZVJlY2VpdmVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVJlY2VpdmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNhbGxFbmQ6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIub25DYWxsRW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlciwgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBY3RpdmVDYWxsKGNhbGwpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25TdHJlYW1FbmQ6IHN1Y2Nlc3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLm9uU3RyZWFtRW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlciwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FsbCA9IG5ldyBzdWJjaGFubmVsX2NhbGxfMS5IdHRwMlN1YmNoYW5uZWxDYWxsKGh0dHAyU3RyZWFtLCBldmVudFRyYWNrZXIsIGxpc3RlbmVyLCB0aGlzLCAoMCwgY2FsbF9udW1iZXJfMS5nZXROZXh0Q2FsbE51bWJlcikoKSk7XG4gICAgICAgIHRoaXMuYWRkQWN0aXZlQ2FsbChjYWxsKTtcbiAgICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfVxuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICB9XG4gICAgZ2V0UGVlck5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nO1xuICAgIH1cbiAgICBnZXRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgfVxufVxuY2xhc3MgSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNTaHV0ZG93biA9IGZhbHNlO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy5jaGFubmVsVGFyZ2V0KSArICcgJyArIHRleHQpO1xuICAgIH1cbiAgICBjcmVhdGVTZXNzaW9uKHNlY3VyZUNvbm5lY3RSZXN1bHQsIGFkZHJlc3MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0ZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlY3VyZUNvbm5lY3RSZXN1bHQuc29ja2V0LmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdDb25uZWN0aW9uIGNsb3NlZCBiZWZvcmUgc3RhcnRpbmcgSFRUUC8yIGhhbmRzaGFrZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVtb3RlTmFtZSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgcmVhbFRhcmdldCA9IHRoaXMuY2hhbm5lbFRhcmdldDtcbiAgICAgICAgICAgIGlmICgnZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0JyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkVGFyZ2V0ID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkob3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0J10pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhbFRhcmdldCA9IHBhcnNlZFRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlTmFtZSA9ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHBhcnNlZFRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2NoZW1lID0gc2VjdXJlQ29ubmVjdFJlc3VsdC5zZWN1cmUgPyAnaHR0cHMnIDogJ2h0dHAnO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGF0aCA9ICgwLCByZXNvbHZlcl8xLmdldERlZmF1bHRBdXRob3JpdHkpKHJlYWxUYXJnZXQpO1xuICAgICAgICAgICAgY29uc3QgY2xvc2VIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBMZWF2ZSB0aW1lIGZvciBlcnJvciBldmVudCB0byBoYXBwZW4gYmVmb3JlIHJlamVjdGluZ1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVwb3J0ZWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0ZWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoYCR7ZXJyb3JNZXNzYWdlLnRyaW0oKX0gKCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdjb25uZWN0aW9uIGZhaWxlZCB3aXRoIGVycm9yICcgKyBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGlmICghcmVwb3J0ZWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGAke2Vycm9yTWVzc2FnZX0gKCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlQ29ubmVjdGlvbjogKGF1dGhvcml0eSwgb3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWN1cmVDb25uZWN0UmVzdWx0LnNvY2tldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNbJ2dycGMtbm9kZS5mbG93X2NvbnRyb2xfd2luZG93J10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25PcHRpb25zLnNldHRpbmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsV2luZG93U2l6ZTogb3B0aW9uc1snZ3JwYy1ub2RlLmZsb3dfY29udHJvbF93aW5kb3cnXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gaHR0cDIuY29ubmVjdChgJHtzY2hlbWV9Oi8vJHt0YXJnZXRQYXRofWAsIHNlc3Npb25PcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byBjb25uZWN0JztcbiAgICAgICAgICAgIGxldCByZXBvcnRlZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBzZXNzaW9uLnVucmVmKCk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uY2UoJ3JlbW90ZVNldHRpbmdzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xvc2VIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBzZWN1cmVDb25uZWN0UmVzdWx0LnNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEh0dHAyVHJhbnNwb3J0KHNlc3Npb24sIGFkZHJlc3MsIG9wdGlvbnMsIHJlbW90ZU5hbWUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uY2UoJ2Nsb3NlJywgY2xvc2VIYW5kbGVyKTtcbiAgICAgICAgICAgIHNlc3Npb24ub25jZSgnZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQub25jZSgnY2xvc2UnLCBjbG9zZUhhbmRsZXIpO1xuICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQub25jZSgnZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGNwQ29ubmVjdChhZGRyZXNzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAoMCwgaHR0cF9wcm94eV8xLmdldFByb3hpZWRDb25uZWN0aW9uKShhZGRyZXNzLCBvcHRpb25zKS50aGVuKHByb3hpZWRTb2NrZXQgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3hpZWRTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJveGllZFNvY2tldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb3NlQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdTb2NrZXQgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckNhbGxiYWNrID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBuZXQuY29ubmVjdChhZGRyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNvY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQub25jZSgnY2xvc2UnLCBjbG9zZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uY2UoJ2Vycm9yJywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBjb25uZWN0KGFkZHJlc3MsIHNlY3VyZUNvbm5lY3Rvciwgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5pc1NodXRkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGNwQ29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGxldCBzZWN1cmVDb25uZWN0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgYWRkcmVzc1N0cmluZyA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoYWRkcmVzc1N0cmluZyArICcgV2FpdGluZyBmb3Igc2VjdXJlQ29ubmVjdG9yIHRvIGJlIHJlYWR5Jyk7XG4gICAgICAgICAgICBhd2FpdCBzZWN1cmVDb25uZWN0b3Iud2FpdEZvclJlYWR5KCk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKGFkZHJlc3NTdHJpbmcgKyAnIHNlY3VyZUNvbm5lY3RvciBpcyByZWFkeScpO1xuICAgICAgICAgICAgdGNwQ29ubmVjdGlvbiA9IGF3YWl0IHRoaXMudGNwQ29ubmVjdChhZGRyZXNzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRjcENvbm5lY3Rpb24uc2V0Tm9EZWxheSgpO1xuICAgICAgICAgICAgdGhpcy50cmFjZShhZGRyZXNzU3RyaW5nICsgJyBFc3RhYmxpc2hlZCBUQ1AgY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdCA9IGF3YWl0IHNlY3VyZUNvbm5lY3Rvci5jb25uZWN0KHRjcENvbm5lY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy50cmFjZShhZGRyZXNzU3RyaW5nICsgJyBFc3RhYmxpc2hlZCBzZWN1cmUgY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2Vzc2lvbihzZWN1cmVDb25uZWN0UmVzdWx0LCBhZGRyZXNzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGNwQ29ubmVjdGlvbiA9PT0gbnVsbCB8fCB0Y3BDb25uZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0Y3BDb25uZWN0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHNlY3VyZUNvbm5lY3RSZXN1bHQgPT09IG51bGwgfHwgc2VjdXJlQ29ubmVjdFJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmlzU2h1dGRvd24gPSB0cnVlO1xuICAgICAgICAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yID0gSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNwb3J0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parseUri = parseUri;\nexports.splitHostPort = splitHostPort;\nexports.combineHostPort = combineHostPort;\nexports.uriToString = uriToString;\n/*\n * The groups correspond to URI parts as follows:\n * 1. scheme\n * 2. authority\n * 3. path\n */\nconst URI_REGEX = /^(?:([A-Za-z0-9+.-]+):)?(?:\\/\\/([^/]*)\\/)?(.+)$/;\nfunction parseUri(uriString) {\n    const parsedUri = URI_REGEX.exec(uriString);\n    if (parsedUri === null) {\n        return null;\n    }\n    return {\n        scheme: parsedUri[1],\n        authority: parsedUri[2],\n        path: parsedUri[3],\n    };\n}\nconst NUMBER_REGEX = /^\\d+$/;\nfunction splitHostPort(path) {\n    if (path.startsWith('[')) {\n        const hostEnd = path.indexOf(']');\n        if (hostEnd === -1) {\n            return null;\n        }\n        const host = path.substring(1, hostEnd);\n        /* Only an IPv6 address should be in bracketed notation, and an IPv6\n         * address should have at least one colon */\n        if (host.indexOf(':') === -1) {\n            return null;\n        }\n        if (path.length > hostEnd + 1) {\n            if (path[hostEnd + 1] === ':') {\n                const portString = path.substring(hostEnd + 2);\n                if (NUMBER_REGEX.test(portString)) {\n                    return {\n                        host: host,\n                        port: +portString,\n                    };\n                }\n                else {\n                    return null;\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return {\n                host,\n            };\n        }\n    }\n    else {\n        const splitPath = path.split(':');\n        /* Exactly one colon means that this is host:port. Zero colons means that\n         * there is no port. And multiple colons means that this is a bare IPv6\n         * address with no port */\n        if (splitPath.length === 2) {\n            if (NUMBER_REGEX.test(splitPath[1])) {\n                return {\n                    host: splitPath[0],\n                    port: +splitPath[1],\n                };\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return {\n                host: path,\n            };\n        }\n    }\n}\nfunction combineHostPort(hostPort) {\n    if (hostPort.port === undefined) {\n        return hostPort.host;\n    }\n    else {\n        // Only an IPv6 host should include a colon\n        if (hostPort.host.includes(':')) {\n            return `[${hostPort.host}]:${hostPort.port}`;\n        }\n        else {\n            return `${hostPort.host}:${hostPort.port}`;\n        }\n    }\n}\nfunction uriToString(uri) {\n    let result = '';\n    if (uri.scheme !== undefined) {\n        result += uri.scheme + ':';\n    }\n    if (uri.authority !== undefined) {\n        result += '//' + uri.authority + '/';\n    }\n    result += uri.path;\n    return result;\n}\n//# sourceMappingURL=uri-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy91cmktcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCLHFCQUFxQjtBQUNyQix1QkFBdUI7QUFDdkIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixjQUFjLElBQUksY0FBYztBQUN2RDtBQUNBO0FBQ0Esc0JBQXNCLGNBQWMsR0FBRyxjQUFjO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3VyaS1wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjAgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VVcmkgPSBwYXJzZVVyaTtcbmV4cG9ydHMuc3BsaXRIb3N0UG9ydCA9IHNwbGl0SG9zdFBvcnQ7XG5leHBvcnRzLmNvbWJpbmVIb3N0UG9ydCA9IGNvbWJpbmVIb3N0UG9ydDtcbmV4cG9ydHMudXJpVG9TdHJpbmcgPSB1cmlUb1N0cmluZztcbi8qXG4gKiBUaGUgZ3JvdXBzIGNvcnJlc3BvbmQgdG8gVVJJIHBhcnRzIGFzIGZvbGxvd3M6XG4gKiAxLiBzY2hlbWVcbiAqIDIuIGF1dGhvcml0eVxuICogMy4gcGF0aFxuICovXG5jb25zdCBVUklfUkVHRVggPSAvXig/OihbQS1aYS16MC05Ky4tXSspOik/KD86XFwvXFwvKFteL10qKVxcLyk/KC4rKSQvO1xuZnVuY3Rpb24gcGFyc2VVcmkodXJpU3RyaW5nKSB7XG4gICAgY29uc3QgcGFyc2VkVXJpID0gVVJJX1JFR0VYLmV4ZWModXJpU3RyaW5nKTtcbiAgICBpZiAocGFyc2VkVXJpID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWU6IHBhcnNlZFVyaVsxXSxcbiAgICAgICAgYXV0aG9yaXR5OiBwYXJzZWRVcmlbMl0sXG4gICAgICAgIHBhdGg6IHBhcnNlZFVyaVszXSxcbiAgICB9O1xufVxuY29uc3QgTlVNQkVSX1JFR0VYID0gL15cXGQrJC87XG5mdW5jdGlvbiBzcGxpdEhvc3RQb3J0KHBhdGgpIHtcbiAgICBpZiAocGF0aC5zdGFydHNXaXRoKCdbJykpIHtcbiAgICAgICAgY29uc3QgaG9zdEVuZCA9IHBhdGguaW5kZXhPZignXScpO1xuICAgICAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvc3QgPSBwYXRoLnN1YnN0cmluZygxLCBob3N0RW5kKTtcbiAgICAgICAgLyogT25seSBhbiBJUHY2IGFkZHJlc3Mgc2hvdWxkIGJlIGluIGJyYWNrZXRlZCBub3RhdGlvbiwgYW5kIGFuIElQdjZcbiAgICAgICAgICogYWRkcmVzcyBzaG91bGQgaGF2ZSBhdCBsZWFzdCBvbmUgY29sb24gKi9cbiAgICAgICAgaWYgKGhvc3QuaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gaG9zdEVuZCArIDEpIHtcbiAgICAgICAgICAgIGlmIChwYXRoW2hvc3RFbmQgKyAxXSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydFN0cmluZyA9IHBhdGguc3Vic3RyaW5nKGhvc3RFbmQgKyAyKTtcbiAgICAgICAgICAgICAgICBpZiAoTlVNQkVSX1JFR0VYLnRlc3QocG9ydFN0cmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiArcG9ydFN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3BsaXRQYXRoID0gcGF0aC5zcGxpdCgnOicpO1xuICAgICAgICAvKiBFeGFjdGx5IG9uZSBjb2xvbiBtZWFucyB0aGF0IHRoaXMgaXMgaG9zdDpwb3J0LiBaZXJvIGNvbG9ucyBtZWFucyB0aGF0XG4gICAgICAgICAqIHRoZXJlIGlzIG5vIHBvcnQuIEFuZCBtdWx0aXBsZSBjb2xvbnMgbWVhbnMgdGhhdCB0aGlzIGlzIGEgYmFyZSBJUHY2XG4gICAgICAgICAqIGFkZHJlc3Mgd2l0aCBubyBwb3J0ICovXG4gICAgICAgIGlmIChzcGxpdFBhdGgubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBpZiAoTlVNQkVSX1JFR0VYLnRlc3Qoc3BsaXRQYXRoWzFdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHNwbGl0UGF0aFswXSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogK3NwbGl0UGF0aFsxXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhvc3Q6IHBhdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY29tYmluZUhvc3RQb3J0KGhvc3RQb3J0KSB7XG4gICAgaWYgKGhvc3RQb3J0LnBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaG9zdFBvcnQuaG9zdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE9ubHkgYW4gSVB2NiBob3N0IHNob3VsZCBpbmNsdWRlIGEgY29sb25cbiAgICAgICAgaWYgKGhvc3RQb3J0Lmhvc3QuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgcmV0dXJuIGBbJHtob3N0UG9ydC5ob3N0fV06JHtob3N0UG9ydC5wb3J0fWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7aG9zdFBvcnQuaG9zdH06JHtob3N0UG9ydC5wb3J0fWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB1cmlUb1N0cmluZyh1cmkpIHtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgaWYgKHVyaS5zY2hlbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgKz0gdXJpLnNjaGVtZSArICc6JztcbiAgICB9XG4gICAgaWYgKHVyaS5hdXRob3JpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgKz0gJy8vJyArIHVyaS5hdXRob3JpdHkgKyAnLyc7XG4gICAgfVxuICAgIHJlc3VsdCArPSB1cmkucGF0aDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJpLXBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json":
/*!*************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"@grpc/grpc-js","version":"1.13.4","description":"gRPC Library for Node - pure JS implementation","homepage":"https://grpc.io/","repository":"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js","main":"build/src/index.js","engines":{"node":">=12.10.0"},"keywords":[],"author":{"name":"Google Inc."},"types":"build/src/index.d.ts","license":"Apache-2.0","devDependencies":{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0","eslint":"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1","execa":"^2.0.3","gulp":"^4.0.2","gulp-mocha":"^6.0.0","lodash":"^4.17.21","madge":"^5.0.1","mocha-jenkins-reporter":"^0.4.1","ncp":"^2.0.0","pify":"^4.0.1","prettier":"^2.8.8","rimraf":"^3.0.2","semver":"^7.6.0","ts-node":"^10.9.2","typescript":"^5.3.3"},"contributors":[{"name":"Google Inc."}],"scripts":{"build":"npm run compile","clean":"rimraf ./build","compile":"tsc -p .","format":"clang-format -i -style=\\"{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}\\" src/*.ts test/*.ts","lint":"eslint src/*.ts test/*.ts","prepare":"npm run generate-types && npm run compile","test":"gulp test","check":"npm run lint","fix":"eslint --fix src/*.ts test/*.ts","pretest":"npm run generate-types && npm run generate-test-types && npm run compile","posttest":"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},"dependencies":{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},"files":["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}');

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/node-fetch/lib/index.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/node-fetch/lib/index.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortError: () => (/* binding */ AbortError),\n/* harmony export */   FetchError: () => (/* binding */ FetchError),\n/* harmony export */   Headers: () => (/* binding */ Headers),\n/* harmony export */   Request: () => (/* binding */ Request),\n/* harmony export */   Response: () => (/* binding */ Response),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var stream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! stream */ \"stream\");\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! http */ \"http\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var whatwg_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! whatwg-url */ \"(action-browser)/./node_modules/whatwg-url/lib/public-api.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var zlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zlib */ \"zlib\");\n\n\n\n\n\n\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = stream__WEBPACK_IMPORTED_MODULE_0__.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = stream__WEBPACK_IMPORTED_MODULE_0__.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof stream__WEBPACK_IMPORTED_MODULE_0__) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof stream__WEBPACK_IMPORTED_MODULE_0__) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof stream__WEBPACK_IMPORTED_MODULE_0__)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof stream__WEBPACK_IMPORTED_MODULE_0__ && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof stream__WEBPACK_IMPORTED_MODULE_0__) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http__WEBPACK_IMPORTED_MODULE_1__.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = url__WEBPACK_IMPORTED_MODULE_2__.URL || whatwg_url__WEBPACK_IMPORTED_MODULE_3__.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = url__WEBPACK_IMPORTED_MODULE_2__.parse;\nconst format_url = url__WEBPACK_IMPORTED_MODULE_2__.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = \"destroy\" in stream__WEBPACK_IMPORTED_MODULE_0__.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof stream__WEBPACK_IMPORTED_MODULE_0__.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = url__WEBPACK_IMPORTED_MODULE_2__.URL || whatwg_url__WEBPACK_IMPORTED_MODULE_3__.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = stream__WEBPACK_IMPORTED_MODULE_0__.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https__WEBPACK_IMPORTED_MODULE_4__ : http__WEBPACK_IMPORTED_MODULE_1__).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof stream__WEBPACK_IMPORTED_MODULE_0__.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib__WEBPACK_IMPORTED_MODULE_5__.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib__WEBPACK_IMPORTED_MODULE_5__.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib__WEBPACK_IMPORTED_MODULE_5__.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib__WEBPACK_IMPORTED_MODULE_5__.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib__WEBPACK_IMPORTED_MODULE_5__.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib__WEBPACK_IMPORTED_MODULE_5__.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib__WEBPACK_IMPORTED_MODULE_5__.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// tests for socket presence, as in some situations the\n\t\t\t\t// the 'socket' event is not triggered for the request\n\t\t\t\t// (happens in deno), avoids `TypeError`\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket && socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fetch);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9ub2RlLWZldGNoL2xpYi9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTRCO0FBQ0o7QUFDRjtBQUNhO0FBQ1Q7QUFDRjs7QUFFeEI7O0FBRUE7QUFDQSxpQkFBaUIsNENBQWU7O0FBRWhDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4QixvQkFBb0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGtCQUFrQjtBQUMzQixTQUFTLGtCQUFrQjtBQUMzQixVQUFVO0FBQ1YsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0Esb0JBQW9CLCtDQUFrQjs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrRkFBa0Y7QUFDbEY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRyx5QkFBeUIsa0NBQWtDO0FBQzlEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUcseUJBQXlCLG1DQUFNLElBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsbUNBQU07QUFDM0I7QUFDQSxpSEFBaUgsVUFBVSxJQUFJLFlBQVk7QUFDM0k7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLCtFQUErRSxZQUFZLFVBQVUsWUFBWTtBQUNqSDtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsa0JBQWtCO0FBQzNCLGFBQWEsa0JBQWtCO0FBQy9CLGdCQUFnQixrQkFBa0I7QUFDbEMsU0FBUyxrQkFBa0I7QUFDM0IsU0FBUyxrQkFBa0I7QUFDM0IsU0FBUztBQUNULENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFFQUFxRSxTQUFTO0FBQzlFOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixtQ0FBTTtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxZQUFZLFFBQVEsZUFBZTtBQUN2RyxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EseUVBQXlFLFdBQVcsSUFBSSxZQUFZO0FBQ3BHO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDLFlBQVksY0FBYyxZQUFZO0FBQ25GO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRFQUE0RSxXQUFXLElBQUksWUFBWTtBQUN2RztBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxHQUFHO0FBQ2YsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLG1DQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EscUJBQXFCO0FBQ3JCLEdBQUc7QUFDSDtBQUNBLDRDQUE0QztBQUM1QyxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhCQUE4QixXQUFXLG1CQUFtQjtBQUM1RCxHQUFHLHlCQUF5QixtQ0FBTTtBQUNsQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EseUJBQXlCLE1BQU07QUFDL0I7QUFDQTs7QUFFQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBLHlCQUF5QixPQUFPO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLEtBQUs7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxLQUFLO0FBQ2pCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLEtBQUs7QUFDakIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxLQUFLO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksS0FBSztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsUUFBUSxrQkFBa0I7QUFDMUIsWUFBWSxrQkFBa0I7QUFDOUIsUUFBUSxrQkFBa0I7QUFDMUIsV0FBVyxrQkFBa0I7QUFDN0IsUUFBUSxrQkFBa0I7QUFDMUIsV0FBVyxrQkFBa0I7QUFDN0IsU0FBUyxrQkFBa0I7QUFDM0IsV0FBVyxrQkFBa0I7QUFDN0IsWUFBWTtBQUNaLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlCQUFpQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFCQUFxQiw4Q0FBaUI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsUUFBUSxrQkFBa0I7QUFDMUIsV0FBVyxrQkFBa0I7QUFDN0IsT0FBTyxrQkFBa0I7QUFDekIsZUFBZSxrQkFBa0I7QUFDakMsZUFBZSxrQkFBa0I7QUFDakMsWUFBWSxrQkFBa0I7QUFDOUIsVUFBVTtBQUNWLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxZQUFZLG9DQUFPLElBQUksMkNBQWE7O0FBRXBDO0FBQ0Esa0JBQWtCLHNDQUFTO0FBQzNCLG1CQUFtQix1Q0FBVTs7QUFFN0I7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLG1FQUFzQzs7QUFFekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsTUFBTTtBQUNsQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxpRUFBaUU7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixRQUFRLGtCQUFrQjtBQUMxQixZQUFZLGtCQUFrQjtBQUM5QixhQUFhLGtCQUFrQjtBQUMvQixVQUFVLGtCQUFrQjtBQUM1QixXQUFXO0FBQ1gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLCtDQUErQyw0Q0FBZTtBQUM5RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxvQ0FBTyxJQUFJLDJDQUFhOztBQUV0QztBQUNBLHNCQUFzQiwrQ0FBa0I7O0FBRXhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0Qsa0NBQUssR0FBRyxpQ0FBSTtBQUM1RDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsNENBQWU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFlBQVk7QUFDOUQ7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKOztBQUVBO0FBQ0EsdUNBQXVDLGFBQWEsa0JBQWtCLFlBQVk7O0FBRWxGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixTQUFTO0FBQzdGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxZQUFZO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZEQUE2RCxZQUFZO0FBQ3pFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4Q0FBaUI7QUFDNUIsaUJBQWlCLDhDQUFpQjtBQUNsQzs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLDhDQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLCtDQUFrQjtBQUN6QyxPQUFPO0FBQ1AsdUJBQXVCLGtEQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsd0RBQTJCO0FBQzVELHFCQUFxQix3REFBMkI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlFQUFlLEtBQUssRUFBQztBQUN5QyIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL25vZGUtZmV0Y2gvbGliL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RyZWFtIGZyb20gJ3N0cmVhbSc7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBVcmwgZnJvbSAndXJsJztcbmltcG9ydCB3aGF0d2dVcmwgZnJvbSAnd2hhdHdnLXVybCc7XG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xuaW1wb3J0IHpsaWIgZnJvbSAnemxpYic7XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS90bXB2YXIvanNkb20vYmxvYi9hYTg1YjJhYmYwNzc2NmZmN2JmNWMxZjZkYWFmYjM3MjZmMmYyZGI1L2xpYi9qc2RvbS9saXZpbmcvYmxvYi5qc1xuXG4vLyBmaXggZm9yIFwiUmVhZGFibGVcIiBpc24ndCBhIG5hbWVkIGV4cG9ydCBpc3N1ZVxuY29uc3QgUmVhZGFibGUgPSBTdHJlYW0uUmVhZGFibGU7XG5cbmNvbnN0IEJVRkZFUiA9IFN5bWJvbCgnYnVmZmVyJyk7XG5jb25zdCBUWVBFID0gU3ltYm9sKCd0eXBlJyk7XG5cbmNsYXNzIEJsb2Ige1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzW1RZUEVdID0gJyc7XG5cblx0XHRjb25zdCBibG9iUGFydHMgPSBhcmd1bWVudHNbMF07XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcblxuXHRcdGNvbnN0IGJ1ZmZlcnMgPSBbXTtcblx0XHRsZXQgc2l6ZSA9IDA7XG5cblx0XHRpZiAoYmxvYlBhcnRzKSB7XG5cdFx0XHRjb25zdCBhID0gYmxvYlBhcnRzO1xuXHRcdFx0Y29uc3QgbGVuZ3RoID0gTnVtYmVyKGEubGVuZ3RoKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgZWxlbWVudCA9IGFbaV07XG5cdFx0XHRcdGxldCBidWZmZXI7XG5cdFx0XHRcdGlmIChlbGVtZW50IGluc3RhbmNlb2YgQnVmZmVyKSB7XG5cdFx0XHRcdFx0YnVmZmVyID0gZWxlbWVudDtcblx0XHRcdFx0fSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZWxlbWVudCkpIHtcblx0XHRcdFx0XHRidWZmZXIgPSBCdWZmZXIuZnJvbShlbGVtZW50LmJ1ZmZlciwgZWxlbWVudC5ieXRlT2Zmc2V0LCBlbGVtZW50LmJ5dGVMZW5ndGgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGVsZW1lbnQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBCbG9iKSB7XG5cdFx0XHRcdFx0YnVmZmVyID0gZWxlbWVudFtCVUZGRVJdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyA/IGVsZW1lbnQgOiBTdHJpbmcoZWxlbWVudCkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNpemUgKz0gYnVmZmVyLmxlbmd0aDtcblx0XHRcdFx0YnVmZmVycy5wdXNoKGJ1ZmZlcik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpc1tCVUZGRVJdID0gQnVmZmVyLmNvbmNhdChidWZmZXJzKTtcblxuXHRcdGxldCB0eXBlID0gb3B0aW9ucyAmJiBvcHRpb25zLnR5cGUgIT09IHVuZGVmaW5lZCAmJiBTdHJpbmcob3B0aW9ucy50eXBlKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGlmICh0eXBlICYmICEvW15cXHUwMDIwLVxcdTAwN0VdLy50ZXN0KHR5cGUpKSB7XG5cdFx0XHR0aGlzW1RZUEVdID0gdHlwZTtcblx0XHR9XG5cdH1cblx0Z2V0IHNpemUoKSB7XG5cdFx0cmV0dXJuIHRoaXNbQlVGRkVSXS5sZW5ndGg7XG5cdH1cblx0Z2V0IHR5cGUoKSB7XG5cdFx0cmV0dXJuIHRoaXNbVFlQRV07XG5cdH1cblx0dGV4dCgpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXNbQlVGRkVSXS50b1N0cmluZygpKTtcblx0fVxuXHRhcnJheUJ1ZmZlcigpIHtcblx0XHRjb25zdCBidWYgPSB0aGlzW0JVRkZFUl07XG5cdFx0Y29uc3QgYWIgPSBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFiKTtcblx0fVxuXHRzdHJlYW0oKSB7XG5cdFx0Y29uc3QgcmVhZGFibGUgPSBuZXcgUmVhZGFibGUoKTtcblx0XHRyZWFkYWJsZS5fcmVhZCA9IGZ1bmN0aW9uICgpIHt9O1xuXHRcdHJlYWRhYmxlLnB1c2godGhpc1tCVUZGRVJdKTtcblx0XHRyZWFkYWJsZS5wdXNoKG51bGwpO1xuXHRcdHJldHVybiByZWFkYWJsZTtcblx0fVxuXHR0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gJ1tvYmplY3QgQmxvYl0nO1xuXHR9XG5cdHNsaWNlKCkge1xuXHRcdGNvbnN0IHNpemUgPSB0aGlzLnNpemU7XG5cblx0XHRjb25zdCBzdGFydCA9IGFyZ3VtZW50c1swXTtcblx0XHRjb25zdCBlbmQgPSBhcmd1bWVudHNbMV07XG5cdFx0bGV0IHJlbGF0aXZlU3RhcnQsIHJlbGF0aXZlRW5kO1xuXHRcdGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZWxhdGl2ZVN0YXJ0ID0gMDtcblx0XHR9IGVsc2UgaWYgKHN0YXJ0IDwgMCkge1xuXHRcdFx0cmVsYXRpdmVTdGFydCA9IE1hdGgubWF4KHNpemUgKyBzdGFydCwgMCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbGF0aXZlU3RhcnQgPSBNYXRoLm1pbihzdGFydCwgc2l6ZSk7XG5cdFx0fVxuXHRcdGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmVsYXRpdmVFbmQgPSBzaXplO1xuXHRcdH0gZWxzZSBpZiAoZW5kIDwgMCkge1xuXHRcdFx0cmVsYXRpdmVFbmQgPSBNYXRoLm1heChzaXplICsgZW5kLCAwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVsYXRpdmVFbmQgPSBNYXRoLm1pbihlbmQsIHNpemUpO1xuXHRcdH1cblx0XHRjb25zdCBzcGFuID0gTWF0aC5tYXgocmVsYXRpdmVFbmQgLSByZWxhdGl2ZVN0YXJ0LCAwKTtcblxuXHRcdGNvbnN0IGJ1ZmZlciA9IHRoaXNbQlVGRkVSXTtcblx0XHRjb25zdCBzbGljZWRCdWZmZXIgPSBidWZmZXIuc2xpY2UocmVsYXRpdmVTdGFydCwgcmVsYXRpdmVTdGFydCArIHNwYW4pO1xuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbXSwgeyB0eXBlOiBhcmd1bWVudHNbMl0gfSk7XG5cdFx0YmxvYltCVUZGRVJdID0gc2xpY2VkQnVmZmVyO1xuXHRcdHJldHVybiBibG9iO1xuXHR9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJsb2IucHJvdG90eXBlLCB7XG5cdHNpemU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHR0eXBlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0c2xpY2U6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsb2IucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcblx0dmFsdWU6ICdCbG9iJyxcblx0d3JpdGFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0Y29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuLyoqXG4gKiBmZXRjaC1lcnJvci5qc1xuICpcbiAqIEZldGNoRXJyb3IgaW50ZXJmYWNlIGZvciBvcGVyYXRpb25hbCBlcnJvcnNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBGZXRjaEVycm9yIGluc3RhbmNlXG4gKlxuICogQHBhcmFtICAgU3RyaW5nICAgICAgbWVzc2FnZSAgICAgIEVycm9yIG1lc3NhZ2UgZm9yIGh1bWFuXG4gKiBAcGFyYW0gICBTdHJpbmcgICAgICB0eXBlICAgICAgICAgRXJyb3IgdHlwZSBmb3IgbWFjaGluZVxuICogQHBhcmFtICAgU3RyaW5nICAgICAgc3lzdGVtRXJyb3IgIEZvciBOb2RlLmpzIHN5c3RlbSBlcnJvclxuICogQHJldHVybiAgRmV0Y2hFcnJvclxuICovXG5mdW5jdGlvbiBGZXRjaEVycm9yKG1lc3NhZ2UsIHR5cGUsIHN5c3RlbUVycm9yKSB7XG4gIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy50eXBlID0gdHlwZTtcblxuICAvLyB3aGVuIGVyci50eXBlIGlzIGBzeXN0ZW1gLCBlcnIuY29kZSBjb250YWlucyBzeXN0ZW0gZXJyb3IgY29kZVxuICBpZiAoc3lzdGVtRXJyb3IpIHtcbiAgICB0aGlzLmNvZGUgPSB0aGlzLmVycm5vID0gc3lzdGVtRXJyb3IuY29kZTtcbiAgfVxuXG4gIC8vIGhpZGUgY3VzdG9tIGVycm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHMgZnJvbSBlbmQtdXNlcnNcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG59XG5cbkZldGNoRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuRmV0Y2hFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGZXRjaEVycm9yO1xuRmV0Y2hFcnJvci5wcm90b3R5cGUubmFtZSA9ICdGZXRjaEVycm9yJztcblxubGV0IGNvbnZlcnQ7XG50cnkge1xuXHRjb252ZXJ0ID0gcmVxdWlyZSgnZW5jb2RpbmcnKS5jb252ZXJ0O1xufSBjYXRjaCAoZSkge31cblxuY29uc3QgSU5URVJOQUxTID0gU3ltYm9sKCdCb2R5IGludGVybmFscycpO1xuXG4vLyBmaXggYW4gaXNzdWUgd2hlcmUgXCJQYXNzVGhyb3VnaFwiIGlzbid0IGEgbmFtZWQgZXhwb3J0IGZvciBub2RlIDwxMFxuY29uc3QgUGFzc1Rocm91Z2ggPSBTdHJlYW0uUGFzc1Rocm91Z2g7XG5cbi8qKlxuICogQm9keSBtaXhpblxuICpcbiAqIFJlZjogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2JvZHlcbiAqXG4gKiBAcGFyYW0gICBTdHJlYW0gIGJvZHkgIFJlYWRhYmxlIHN0cmVhbVxuICogQHBhcmFtICAgT2JqZWN0ICBvcHRzICBSZXNwb25zZSBvcHRpb25zXG4gKiBAcmV0dXJuICBWb2lkXG4gKi9cbmZ1bmN0aW9uIEJvZHkoYm9keSkge1xuXHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcblx0ICAgIF9yZWYkc2l6ZSA9IF9yZWYuc2l6ZTtcblxuXHRsZXQgc2l6ZSA9IF9yZWYkc2l6ZSA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkc2l6ZTtcblx0dmFyIF9yZWYkdGltZW91dCA9IF9yZWYudGltZW91dDtcblx0bGV0IHRpbWVvdXQgPSBfcmVmJHRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmJHRpbWVvdXQ7XG5cblx0aWYgKGJvZHkgPT0gbnVsbCkge1xuXHRcdC8vIGJvZHkgaXMgdW5kZWZpbmVkIG9yIG51bGxcblx0XHRib2R5ID0gbnVsbDtcblx0fSBlbHNlIGlmIChpc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgYSBVUkxTZWFyY2hQYXJhbXNcblx0XHRib2R5ID0gQnVmZmVyLmZyb20oYm9keS50b1N0cmluZygpKTtcblx0fSBlbHNlIGlmIChpc0Jsb2IoYm9keSkpIDsgZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSA7IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChib2R5KSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuXHRcdC8vIGJvZHkgaXMgQXJyYXlCdWZmZXJcblx0XHRib2R5ID0gQnVmZmVyLmZyb20oYm9keSk7XG5cdH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBBcnJheUJ1ZmZlclZpZXdcblx0XHRib2R5ID0gQnVmZmVyLmZyb20oYm9keS5idWZmZXIsIGJvZHkuYnl0ZU9mZnNldCwgYm9keS5ieXRlTGVuZ3RoKTtcblx0fSBlbHNlIGlmIChib2R5IGluc3RhbmNlb2YgU3RyZWFtKSA7IGVsc2Uge1xuXHRcdC8vIG5vbmUgb2YgdGhlIGFib3ZlXG5cdFx0Ly8gY29lcmNlIHRvIHN0cmluZyB0aGVuIGJ1ZmZlclxuXHRcdGJvZHkgPSBCdWZmZXIuZnJvbShTdHJpbmcoYm9keSkpO1xuXHR9XG5cdHRoaXNbSU5URVJOQUxTXSA9IHtcblx0XHRib2R5LFxuXHRcdGRpc3R1cmJlZDogZmFsc2UsXG5cdFx0ZXJyb3I6IG51bGxcblx0fTtcblx0dGhpcy5zaXplID0gc2l6ZTtcblx0dGhpcy50aW1lb3V0ID0gdGltZW91dDtcblxuXHRpZiAoYm9keSBpbnN0YW5jZW9mIFN0cmVhbSkge1xuXHRcdGJvZHkub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0Y29uc3QgZXJyb3IgPSBlcnIubmFtZSA9PT0gJ0Fib3J0RXJyb3InID8gZXJyIDogbmV3IEZldGNoRXJyb3IoYEludmFsaWQgcmVzcG9uc2UgYm9keSB3aGlsZSB0cnlpbmcgdG8gZmV0Y2ggJHtfdGhpcy51cmx9OiAke2Vyci5tZXNzYWdlfWAsICdzeXN0ZW0nLCBlcnIpO1xuXHRcdFx0X3RoaXNbSU5URVJOQUxTXS5lcnJvciA9IGVycm9yO1xuXHRcdH0pO1xuXHR9XG59XG5cbkJvZHkucHJvdG90eXBlID0ge1xuXHRnZXQgYm9keSgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFNdLmJvZHk7XG5cdH0sXG5cblx0Z2V0IGJvZHlVc2VkKCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMU10uZGlzdHVyYmVkO1xuXHR9LFxuXG5cdC8qKlxuICAqIERlY29kZSByZXNwb25zZSBhcyBBcnJheUJ1ZmZlclxuICAqXG4gICogQHJldHVybiAgUHJvbWlzZVxuICAqL1xuXHRhcnJheUJ1ZmZlcigpIHtcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChidWYpIHtcblx0XHRcdHJldHVybiBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKTtcblx0XHR9KTtcblx0fSxcblxuXHQvKipcbiAgKiBSZXR1cm4gcmF3IHJlc3BvbnNlIGFzIEJsb2JcbiAgKlxuICAqIEByZXR1cm4gUHJvbWlzZVxuICAqL1xuXHRibG9iKCkge1xuXHRcdGxldCBjdCA9IHRoaXMuaGVhZGVycyAmJiB0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnJztcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChidWYpIHtcblx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKFxuXHRcdFx0Ly8gUHJldmVudCBjb3B5aW5nXG5cdFx0XHRuZXcgQmxvYihbXSwge1xuXHRcdFx0XHR0eXBlOiBjdC50b0xvd2VyQ2FzZSgpXG5cdFx0XHR9KSwge1xuXHRcdFx0XHRbQlVGRkVSXTogYnVmXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSxcblxuXHQvKipcbiAgKiBEZWNvZGUgcmVzcG9uc2UgYXMganNvblxuICAqXG4gICogQHJldHVybiAgUHJvbWlzZVxuICAqL1xuXHRqc29uKCkge1xuXHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdFx0cmV0dXJuIGNvbnN1bWVCb2R5LmNhbGwodGhpcykudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gSlNPTi5wYXJzZShidWZmZXIudG9TdHJpbmcoKSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZWplY3QobmV3IEZldGNoRXJyb3IoYGludmFsaWQganNvbiByZXNwb25zZSBib2R5IGF0ICR7X3RoaXMyLnVybH0gcmVhc29uOiAke2Vyci5tZXNzYWdlfWAsICdpbnZhbGlkLWpzb24nKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0LyoqXG4gICogRGVjb2RlIHJlc3BvbnNlIGFzIHRleHRcbiAgKlxuICAqIEByZXR1cm4gIFByb21pc2VcbiAgKi9cblx0dGV4dCgpIHtcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcblx0XHRcdHJldHVybiBidWZmZXIudG9TdHJpbmcoKTtcblx0XHR9KTtcblx0fSxcblxuXHQvKipcbiAgKiBEZWNvZGUgcmVzcG9uc2UgYXMgYnVmZmVyIChub24tc3BlYyBhcGkpXG4gICpcbiAgKiBAcmV0dXJuICBQcm9taXNlXG4gICovXG5cdGJ1ZmZlcigpIHtcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKTtcblx0fSxcblxuXHQvKipcbiAgKiBEZWNvZGUgcmVzcG9uc2UgYXMgdGV4dCwgd2hpbGUgYXV0b21hdGljYWxseSBkZXRlY3RpbmcgdGhlIGVuY29kaW5nIGFuZFxuICAqIHRyeWluZyB0byBkZWNvZGUgdG8gVVRGLTggKG5vbi1zcGVjIGFwaSlcbiAgKlxuICAqIEByZXR1cm4gIFByb21pc2VcbiAgKi9cblx0dGV4dENvbnZlcnRlZCgpIHtcblx0XHR2YXIgX3RoaXMzID0gdGhpcztcblxuXHRcdHJldHVybiBjb25zdW1lQm9keS5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0cmV0dXJuIGNvbnZlcnRCb2R5KGJ1ZmZlciwgX3RoaXMzLmhlYWRlcnMpO1xuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyBJbiBicm93c2VycywgYWxsIHByb3BlcnRpZXMgYXJlIGVudW1lcmFibGUuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhCb2R5LnByb3RvdHlwZSwge1xuXHRib2R5OiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0Ym9keVVzZWQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRhcnJheUJ1ZmZlcjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGJsb2I6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRqc29uOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0dGV4dDogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuXG5Cb2R5Lm1peEluID0gZnVuY3Rpb24gKHByb3RvKSB7XG5cdGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhCb2R5LnByb3RvdHlwZSkpIHtcblx0XHQvLyBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogZnV0dXJlIHByb29mXG5cdFx0aWYgKCEobmFtZSBpbiBwcm90bykpIHtcblx0XHRcdGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEJvZHkucHJvdG90eXBlLCBuYW1lKTtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzYyk7XG5cdFx0fVxuXHR9XG59O1xuXG4vKipcbiAqIENvbnN1bWUgYW5kIGNvbnZlcnQgYW4gZW50aXJlIEJvZHkgdG8gYSBCdWZmZXIuXG4gKlxuICogUmVmOiBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1ib2R5LWNvbnN1bWUtYm9keVxuICpcbiAqIEByZXR1cm4gIFByb21pc2VcbiAqL1xuZnVuY3Rpb24gY29uc3VtZUJvZHkoKSB7XG5cdHZhciBfdGhpczQgPSB0aGlzO1xuXG5cdGlmICh0aGlzW0lOVEVSTkFMU10uZGlzdHVyYmVkKSB7XG5cdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihgYm9keSB1c2VkIGFscmVhZHkgZm9yOiAke3RoaXMudXJsfWApKTtcblx0fVxuXG5cdHRoaXNbSU5URVJOQUxTXS5kaXN0dXJiZWQgPSB0cnVlO1xuXG5cdGlmICh0aGlzW0lOVEVSTkFMU10uZXJyb3IpIHtcblx0XHRyZXR1cm4gQm9keS5Qcm9taXNlLnJlamVjdCh0aGlzW0lOVEVSTkFMU10uZXJyb3IpO1xuXHR9XG5cblx0bGV0IGJvZHkgPSB0aGlzLmJvZHk7XG5cblx0Ly8gYm9keSBpcyBudWxsXG5cdGlmIChib2R5ID09PSBudWxsKSB7XG5cdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZXNvbHZlKEJ1ZmZlci5hbGxvYygwKSk7XG5cdH1cblxuXHQvLyBib2R5IGlzIGJsb2Jcblx0aWYgKGlzQmxvYihib2R5KSkge1xuXHRcdGJvZHkgPSBib2R5LnN0cmVhbSgpO1xuXHR9XG5cblx0Ly8gYm9keSBpcyBidWZmZXJcblx0aWYgKEJ1ZmZlci5pc0J1ZmZlcihib2R5KSkge1xuXHRcdHJldHVybiBCb2R5LlByb21pc2UucmVzb2x2ZShib2R5KTtcblx0fVxuXG5cdC8vIGlzdGFuYnVsIGlnbm9yZSBpZjogc2hvdWxkIG5ldmVyIGhhcHBlblxuXHRpZiAoIShib2R5IGluc3RhbmNlb2YgU3RyZWFtKSkge1xuXHRcdHJldHVybiBCb2R5LlByb21pc2UucmVzb2x2ZShCdWZmZXIuYWxsb2MoMCkpO1xuXHR9XG5cblx0Ly8gYm9keSBpcyBzdHJlYW1cblx0Ly8gZ2V0IHJlYWR5IHRvIGFjdHVhbGx5IGNvbnN1bWUgdGhlIGJvZHlcblx0bGV0IGFjY3VtID0gW107XG5cdGxldCBhY2N1bUJ5dGVzID0gMDtcblx0bGV0IGFib3J0ID0gZmFsc2U7XG5cblx0cmV0dXJuIG5ldyBCb2R5LlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdGxldCByZXNUaW1lb3V0O1xuXG5cdFx0Ly8gYWxsb3cgdGltZW91dCBvbiBzbG93IHJlc3BvbnNlIGJvZHlcblx0XHRpZiAoX3RoaXM0LnRpbWVvdXQpIHtcblx0XHRcdHJlc1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0YWJvcnQgPSB0cnVlO1xuXHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYFJlc3BvbnNlIHRpbWVvdXQgd2hpbGUgdHJ5aW5nIHRvIGZldGNoICR7X3RoaXM0LnVybH0gKG92ZXIgJHtfdGhpczQudGltZW91dH1tcylgLCAnYm9keS10aW1lb3V0JykpO1xuXHRcdFx0fSwgX3RoaXM0LnRpbWVvdXQpO1xuXHRcdH1cblxuXHRcdC8vIGhhbmRsZSBzdHJlYW0gZXJyb3JzXG5cdFx0Ym9keS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRpZiAoZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuXHRcdFx0XHQvLyBpZiB0aGUgcmVxdWVzdCB3YXMgYWJvcnRlZCwgcmVqZWN0IHdpdGggdGhpcyBFcnJvclxuXHRcdFx0XHRhYm9ydCA9IHRydWU7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gb3RoZXIgZXJyb3JzLCBzdWNoIGFzIGluY29ycmVjdCBjb250ZW50LWVuY29kaW5nXG5cdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgSW52YWxpZCByZXNwb25zZSBib2R5IHdoaWxlIHRyeWluZyB0byBmZXRjaCAke190aGlzNC51cmx9OiAke2Vyci5tZXNzYWdlfWAsICdzeXN0ZW0nLCBlcnIpKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGJvZHkub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHtcblx0XHRcdGlmIChhYm9ydCB8fCBjaHVuayA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChfdGhpczQuc2l6ZSAmJiBhY2N1bUJ5dGVzICsgY2h1bmsubGVuZ3RoID4gX3RoaXM0LnNpemUpIHtcblx0XHRcdFx0YWJvcnQgPSB0cnVlO1xuXHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYGNvbnRlbnQgc2l6ZSBhdCAke190aGlzNC51cmx9IG92ZXIgbGltaXQ6ICR7X3RoaXM0LnNpemV9YCwgJ21heC1zaXplJykpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGFjY3VtQnl0ZXMgKz0gY2h1bmsubGVuZ3RoO1xuXHRcdFx0YWNjdW0ucHVzaChjaHVuayk7XG5cdFx0fSk7XG5cblx0XHRib2R5Lm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoYWJvcnQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjbGVhclRpbWVvdXQocmVzVGltZW91dCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJlc29sdmUoQnVmZmVyLmNvbmNhdChhY2N1bSwgYWNjdW1CeXRlcykpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdC8vIGhhbmRsZSBzdHJlYW1zIHRoYXQgaGF2ZSBhY2N1bXVsYXRlZCB0b28gbXVjaCBkYXRhIChpc3N1ZSAjNDE0KVxuXHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYENvdWxkIG5vdCBjcmVhdGUgQnVmZmVyIGZyb20gcmVzcG9uc2UgYm9keSBmb3IgJHtfdGhpczQudXJsfTogJHtlcnIubWVzc2FnZX1gLCAnc3lzdGVtJywgZXJyKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIERldGVjdCBidWZmZXIgZW5jb2RpbmcgYW5kIGNvbnZlcnQgdG8gdGFyZ2V0IGVuY29kaW5nXG4gKiByZWY6IGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvV0QtaHRtbDUtMjAxMTAxMTMvcGFyc2luZy5odG1sI2RldGVybWluaW5nLXRoZS1jaGFyYWN0ZXItZW5jb2RpbmdcbiAqXG4gKiBAcGFyYW0gICBCdWZmZXIgIGJ1ZmZlciAgICBJbmNvbWluZyBidWZmZXJcbiAqIEBwYXJhbSAgIFN0cmluZyAgZW5jb2RpbmcgIFRhcmdldCBlbmNvZGluZ1xuICogQHJldHVybiAgU3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRCb2R5KGJ1ZmZlciwgaGVhZGVycykge1xuXHRpZiAodHlwZW9mIGNvbnZlcnQgIT09ICdmdW5jdGlvbicpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwYWNrYWdlIGBlbmNvZGluZ2AgbXVzdCBiZSBpbnN0YWxsZWQgdG8gdXNlIHRoZSB0ZXh0Q29udmVydGVkKCkgZnVuY3Rpb24nKTtcblx0fVxuXG5cdGNvbnN0IGN0ID0gaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuXHRsZXQgY2hhcnNldCA9ICd1dGYtOCc7XG5cdGxldCByZXMsIHN0cjtcblxuXHQvLyBoZWFkZXJcblx0aWYgKGN0KSB7XG5cdFx0cmVzID0gL2NoYXJzZXQ9KFteO10qKS9pLmV4ZWMoY3QpO1xuXHR9XG5cblx0Ly8gbm8gY2hhcnNldCBpbiBjb250ZW50IHR5cGUsIHBlZWsgYXQgcmVzcG9uc2UgYm9keSBmb3IgYXQgbW9zdCAxMDI0IGJ5dGVzXG5cdHN0ciA9IGJ1ZmZlci5zbGljZSgwLCAxMDI0KS50b1N0cmluZygpO1xuXG5cdC8vIGh0bWw1XG5cdGlmICghcmVzICYmIHN0cikge1xuXHRcdHJlcyA9IC88bWV0YS4rP2NoYXJzZXQ9KFsnXCJdKSguKz8pXFwxL2kuZXhlYyhzdHIpO1xuXHR9XG5cblx0Ly8gaHRtbDRcblx0aWYgKCFyZXMgJiYgc3RyKSB7XG5cdFx0cmVzID0gLzxtZXRhW1xcc10rP2h0dHAtZXF1aXY9KFsnXCJdKWNvbnRlbnQtdHlwZVxcMVtcXHNdKz9jb250ZW50PShbJ1wiXSkoLis/KVxcMi9pLmV4ZWMoc3RyKTtcblx0XHRpZiAoIXJlcykge1xuXHRcdFx0cmVzID0gLzxtZXRhW1xcc10rP2NvbnRlbnQ9KFsnXCJdKSguKz8pXFwxW1xcc10rP2h0dHAtZXF1aXY9KFsnXCJdKWNvbnRlbnQtdHlwZVxcMy9pLmV4ZWMoc3RyKTtcblx0XHRcdGlmIChyZXMpIHtcblx0XHRcdFx0cmVzLnBvcCgpOyAvLyBkcm9wIGxhc3QgcXVvdGVcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocmVzKSB7XG5cdFx0XHRyZXMgPSAvY2hhcnNldD0oLiopL2kuZXhlYyhyZXMucG9wKCkpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHhtbFxuXHRpZiAoIXJlcyAmJiBzdHIpIHtcblx0XHRyZXMgPSAvPFxcP3htbC4rP2VuY29kaW5nPShbJ1wiXSkoLis/KVxcMS9pLmV4ZWMoc3RyKTtcblx0fVxuXG5cdC8vIGZvdW5kIGNoYXJzZXRcblx0aWYgKHJlcykge1xuXHRcdGNoYXJzZXQgPSByZXMucG9wKCk7XG5cblx0XHQvLyBwcmV2ZW50IGRlY29kZSBpc3N1ZXMgd2hlbiBzaXRlcyB1c2UgaW5jb3JyZWN0IGVuY29kaW5nXG5cdFx0Ly8gcmVmOiBodHRwczovL2hzaXZvbmVuLmZpL2VuY29kaW5nLW1lbnUvXG5cdFx0aWYgKGNoYXJzZXQgPT09ICdnYjIzMTInIHx8IGNoYXJzZXQgPT09ICdnYmsnKSB7XG5cdFx0XHRjaGFyc2V0ID0gJ2diMTgwMzAnO1xuXHRcdH1cblx0fVxuXG5cdC8vIHR1cm4gcmF3IGJ1ZmZlcnMgaW50byBhIHNpbmdsZSB1dGYtOCBidWZmZXJcblx0cmV0dXJuIGNvbnZlcnQoYnVmZmVyLCAnVVRGLTgnLCBjaGFyc2V0KS50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIERldGVjdCBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL2JpdGlubi9ub2RlLWZldGNoL2lzc3Vlcy8yOTYjaXNzdWVjb21tZW50LTMwNzU5ODE0M1xuICpcbiAqIEBwYXJhbSAgIE9iamVjdCAgb2JqICAgICBPYmplY3QgdG8gZGV0ZWN0IGJ5IHR5cGUgb3IgYnJhbmRcbiAqIEByZXR1cm4gIFN0cmluZ1xuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyhvYmopIHtcblx0Ly8gRHVjay10eXBpbmcgYXMgYSBuZWNlc3NhcnkgY29uZGl0aW9uLlxuXHRpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iai5hcHBlbmQgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG9iai5kZWxldGUgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG9iai5nZXQgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG9iai5nZXRBbGwgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG9iai5oYXMgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG9iai5zZXQgIT09ICdmdW5jdGlvbicpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBCcmFuZC1jaGVja2luZyBhbmQgbW9yZSBkdWNrLXR5cGluZyBhcyBvcHRpb25hbCBjb25kaXRpb24uXG5cdHJldHVybiBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gJ1VSTFNlYXJjaFBhcmFtcycgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFVSTFNlYXJjaFBhcmFtc10nIHx8IHR5cGVvZiBvYmouc29ydCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhIFczQyBgQmxvYmAgb2JqZWN0ICh3aGljaCBgRmlsZWAgaW5oZXJpdHMgZnJvbSlcbiAqIEBwYXJhbSAgeyp9IG9ialxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNCbG9iKG9iaikge1xuXHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5hcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnR5cGUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBvYmouc3RyZWFtID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSAnc3RyaW5nJyAmJiAvXihCbG9ifEZpbGUpJC8udGVzdChvYmouY29uc3RydWN0b3IubmFtZSkgJiYgL14oQmxvYnxGaWxlKSQvLnRlc3Qob2JqW1N5bWJvbC50b1N0cmluZ1RhZ10pO1xufVxuXG4vKipcbiAqIENsb25lIGJvZHkgZ2l2ZW4gUmVzL1JlcSBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSAgIE1peGVkICBpbnN0YW5jZSAgUmVzcG9uc2Ugb3IgUmVxdWVzdCBpbnN0YW5jZVxuICogQHJldHVybiAgTWl4ZWRcbiAqL1xuZnVuY3Rpb24gY2xvbmUoaW5zdGFuY2UpIHtcblx0bGV0IHAxLCBwMjtcblx0bGV0IGJvZHkgPSBpbnN0YW5jZS5ib2R5O1xuXG5cdC8vIGRvbid0IGFsbG93IGNsb25pbmcgYSB1c2VkIGJvZHlcblx0aWYgKGluc3RhbmNlLmJvZHlVc2VkKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgY2xvbmUgYm9keSBhZnRlciBpdCBpcyB1c2VkJyk7XG5cdH1cblxuXHQvLyBjaGVjayB0aGF0IGJvZHkgaXMgYSBzdHJlYW0gYW5kIG5vdCBmb3JtLWRhdGEgb2JqZWN0XG5cdC8vIG5vdGU6IHdlIGNhbid0IGNsb25lIHRoZSBmb3JtLWRhdGEgb2JqZWN0IHdpdGhvdXQgaGF2aW5nIGl0IGFzIGEgZGVwZW5kZW5jeVxuXHRpZiAoYm9keSBpbnN0YW5jZW9mIFN0cmVhbSAmJiB0eXBlb2YgYm9keS5nZXRCb3VuZGFyeSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIHRlZSBpbnN0YW5jZSBib2R5XG5cdFx0cDEgPSBuZXcgUGFzc1Rocm91Z2goKTtcblx0XHRwMiA9IG5ldyBQYXNzVGhyb3VnaCgpO1xuXHRcdGJvZHkucGlwZShwMSk7XG5cdFx0Ym9keS5waXBlKHAyKTtcblx0XHQvLyBzZXQgaW5zdGFuY2UgYm9keSB0byB0ZWVkIGJvZHkgYW5kIHJldHVybiB0aGUgb3RoZXIgdGVlZCBib2R5XG5cdFx0aW5zdGFuY2VbSU5URVJOQUxTXS5ib2R5ID0gcDE7XG5cdFx0Ym9keSA9IHAyO1xuXHR9XG5cblx0cmV0dXJuIGJvZHk7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgdGhlIG9wZXJhdGlvbiBcImV4dHJhY3QgYSBgQ29udGVudC1UeXBlYCB2YWx1ZSBmcm9tIHxvYmplY3R8XCIgYXNcbiAqIHNwZWNpZmllZCBpbiB0aGUgc3BlY2lmaWNhdGlvbjpcbiAqIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LWJvZHlpbml0LWV4dHJhY3RcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBpbnN0YW5jZS5ib2R5IGlzIHByZXNlbnQuXG4gKlxuICogQHBhcmFtICAgTWl4ZWQgIGluc3RhbmNlICBBbnkgb3B0aW9ucy5ib2R5IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RDb250ZW50VHlwZShib2R5KSB7XG5cdGlmIChib2R5ID09PSBudWxsKSB7XG5cdFx0Ly8gYm9keSBpcyBudWxsXG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG5cdFx0Ly8gYm9keSBpcyBzdHJpbmdcblx0XHRyZXR1cm4gJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCc7XG5cdH0gZWxzZSBpZiAoaXNVUkxTZWFyY2hQYXJhbXMoYm9keSkpIHtcblx0XHQvLyBib2R5IGlzIGEgVVJMU2VhcmNoUGFyYW1zXG5cdFx0cmV0dXJuICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCc7XG5cdH0gZWxzZSBpZiAoaXNCbG9iKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBibG9iXG5cdFx0cmV0dXJuIGJvZHkudHlwZSB8fCBudWxsO1xuXHR9IGVsc2UgaWYgKEJ1ZmZlci5pc0J1ZmZlcihib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgYnVmZmVyXG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG5cdFx0Ly8gYm9keSBpcyBBcnJheUJ1ZmZlclxuXHRcdHJldHVybiBudWxsO1xuXHR9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgQXJyYXlCdWZmZXJWaWV3XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuZ2V0Qm91bmRhcnkgPT09ICdmdW5jdGlvbicpIHtcblx0XHQvLyBkZXRlY3QgZm9ybSBkYXRhIGlucHV0IGZyb20gZm9ybS1kYXRhIG1vZHVsZVxuXHRcdHJldHVybiBgbXVsdGlwYXJ0L2Zvcm0tZGF0YTtib3VuZGFyeT0ke2JvZHkuZ2V0Qm91bmRhcnkoKX1gO1xuXHR9IGVsc2UgaWYgKGJvZHkgaW5zdGFuY2VvZiBTdHJlYW0pIHtcblx0XHQvLyBib2R5IGlzIHN0cmVhbVxuXHRcdC8vIGNhbid0IHJlYWxseSBkbyBtdWNoIGFib3V0IHRoaXNcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIHtcblx0XHQvLyBCb2R5IGNvbnN0cnVjdG9yIGRlZmF1bHRzIG90aGVyIHRoaW5ncyB0byBzdHJpbmdcblx0XHRyZXR1cm4gJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCc7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgRmV0Y2ggU3RhbmRhcmQgdHJlYXRzIHRoaXMgYXMgaWYgXCJ0b3RhbCBieXRlc1wiIGlzIGEgcHJvcGVydHkgb24gdGhlIGJvZHkuXG4gKiBGb3IgdXMsIHdlIGhhdmUgdG8gZXhwbGljaXRseSBnZXQgaXQgd2l0aCBhIGZ1bmN0aW9uLlxuICpcbiAqIHJlZjogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtYm9keS10b3RhbC1ieXRlc1xuICpcbiAqIEBwYXJhbSAgIEJvZHkgICAgaW5zdGFuY2UgICBJbnN0YW5jZSBvZiBCb2R5XG4gKiBAcmV0dXJuICBOdW1iZXI/ICAgICAgICAgICAgTnVtYmVyIG9mIGJ5dGVzLCBvciBudWxsIGlmIG5vdCBwb3NzaWJsZVxuICovXG5mdW5jdGlvbiBnZXRUb3RhbEJ5dGVzKGluc3RhbmNlKSB7XG5cdGNvbnN0IGJvZHkgPSBpbnN0YW5jZS5ib2R5O1xuXG5cblx0aWYgKGJvZHkgPT09IG51bGwpIHtcblx0XHQvLyBib2R5IGlzIG51bGxcblx0XHRyZXR1cm4gMDtcblx0fSBlbHNlIGlmIChpc0Jsb2IoYm9keSkpIHtcblx0XHRyZXR1cm4gYm9keS5zaXplO1xuXHR9IGVsc2UgaWYgKEJ1ZmZlci5pc0J1ZmZlcihib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgYnVmZmVyXG5cdFx0cmV0dXJuIGJvZHkubGVuZ3RoO1xuXHR9IGVsc2UgaWYgKGJvZHkgJiYgdHlwZW9mIGJvZHkuZ2V0TGVuZ3RoU3luYyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIGRldGVjdCBmb3JtIGRhdGEgaW5wdXQgZnJvbSBmb3JtLWRhdGEgbW9kdWxlXG5cdFx0aWYgKGJvZHkuX2xlbmd0aFJldHJpZXZlcnMgJiYgYm9keS5fbGVuZ3RoUmV0cmlldmVycy5sZW5ndGggPT0gMCB8fCAvLyAxLnhcblx0XHRib2R5Lmhhc0tub3duTGVuZ3RoICYmIGJvZHkuaGFzS25vd25MZW5ndGgoKSkge1xuXHRcdFx0Ly8gMi54XG5cdFx0XHRyZXR1cm4gYm9keS5nZXRMZW5ndGhTeW5jKCk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9IGVsc2Uge1xuXHRcdC8vIGJvZHkgaXMgc3RyZWFtXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBXcml0ZSBhIEJvZHkgdG8gYSBOb2RlLmpzIFdyaXRhYmxlU3RyZWFtIChlLmcuIGh0dHAuUmVxdWVzdCkgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSAgIEJvZHkgICAgaW5zdGFuY2UgICBJbnN0YW5jZSBvZiBCb2R5XG4gKiBAcmV0dXJuICBWb2lkXG4gKi9cbmZ1bmN0aW9uIHdyaXRlVG9TdHJlYW0oZGVzdCwgaW5zdGFuY2UpIHtcblx0Y29uc3QgYm9keSA9IGluc3RhbmNlLmJvZHk7XG5cblxuXHRpZiAoYm9keSA9PT0gbnVsbCkge1xuXHRcdC8vIGJvZHkgaXMgbnVsbFxuXHRcdGRlc3QuZW5kKCk7XG5cdH0gZWxzZSBpZiAoaXNCbG9iKGJvZHkpKSB7XG5cdFx0Ym9keS5zdHJlYW0oKS5waXBlKGRlc3QpO1xuXHR9IGVsc2UgaWYgKEJ1ZmZlci5pc0J1ZmZlcihib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgYnVmZmVyXG5cdFx0ZGVzdC53cml0ZShib2R5KTtcblx0XHRkZXN0LmVuZCgpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIGJvZHkgaXMgc3RyZWFtXG5cdFx0Ym9keS5waXBlKGRlc3QpO1xuXHR9XG59XG5cbi8vIGV4cG9zZSBQcm9taXNlXG5Cb2R5LlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcblxuLyoqXG4gKiBoZWFkZXJzLmpzXG4gKlxuICogSGVhZGVycyBjbGFzcyBvZmZlcnMgY29udmVuaWVudCBoZWxwZXJzXG4gKi9cblxuY29uc3QgaW52YWxpZFRva2VuUmVnZXggPSAvW15cXF5fYGEtekEtWlxcLTAtOSEjJCUmJyorLnx+XS87XG5jb25zdCBpbnZhbGlkSGVhZGVyQ2hhclJlZ2V4ID0gL1teXFx0XFx4MjAtXFx4N2VcXHg4MC1cXHhmZl0vO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZU5hbWUobmFtZSkge1xuXHRuYW1lID0gYCR7bmFtZX1gO1xuXHRpZiAoaW52YWxpZFRva2VuUmVnZXgudGVzdChuYW1lKSB8fCBuYW1lID09PSAnJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYCR7bmFtZX0gaXMgbm90IGEgbGVnYWwgSFRUUCBoZWFkZXIgbmFtZWApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVmFsdWUodmFsdWUpIHtcblx0dmFsdWUgPSBgJHt2YWx1ZX1gO1xuXHRpZiAoaW52YWxpZEhlYWRlckNoYXJSZWdleC50ZXN0KHZhbHVlKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dmFsdWV9IGlzIG5vdCBhIGxlZ2FsIEhUVFAgaGVhZGVyIHZhbHVlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBrZXkgaW4gdGhlIG1hcCBvYmplY3QgZ2l2ZW4gYSBoZWFkZXIgbmFtZS5cbiAqXG4gKiBSZXR1cm5zIHVuZGVmaW5lZCBpZiBub3QgZm91bmQuXG4gKlxuICogQHBhcmFtICAgU3RyaW5nICBuYW1lICBIZWFkZXIgbmFtZVxuICogQHJldHVybiAgU3RyaW5nfFVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBmaW5kKG1hcCwgbmFtZSkge1xuXHRuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcblx0XHRpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IG5hbWUpIHtcblx0XHRcdHJldHVybiBrZXk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IE1BUCA9IFN5bWJvbCgnbWFwJyk7XG5jbGFzcyBIZWFkZXJzIHtcblx0LyoqXG4gICogSGVhZGVycyBjbGFzc1xuICAqXG4gICogQHBhcmFtICAgT2JqZWN0ICBoZWFkZXJzICBSZXNwb25zZSBoZWFkZXJzXG4gICogQHJldHVybiAgVm9pZFxuICAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRsZXQgaW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkO1xuXG5cdFx0dGhpc1tNQVBdID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuXHRcdGlmIChpbml0IGluc3RhbmNlb2YgSGVhZGVycykge1xuXHRcdFx0Y29uc3QgcmF3SGVhZGVycyA9IGluaXQucmF3KCk7XG5cdFx0XHRjb25zdCBoZWFkZXJOYW1lcyA9IE9iamVjdC5rZXlzKHJhd0hlYWRlcnMpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgaGVhZGVyTmFtZXMpIHtcblx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiByYXdIZWFkZXJzW2hlYWRlck5hbWVdKSB7XG5cdFx0XHRcdFx0dGhpcy5hcHBlbmQoaGVhZGVyTmFtZSwgdmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBXZSBkb24ndCB3b3JyeSBhYm91dCBjb252ZXJ0aW5nIHByb3AgdG8gQnl0ZVN0cmluZyBoZXJlIGFzIGFwcGVuZCgpXG5cdFx0Ly8gd2lsbCBoYW5kbGUgaXQuXG5cdFx0aWYgKGluaXQgPT0gbnVsbCkgOyBlbHNlIGlmICh0eXBlb2YgaW5pdCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGNvbnN0IG1ldGhvZCA9IGluaXRbU3ltYm9sLml0ZXJhdG9yXTtcblx0XHRcdGlmIChtZXRob2QgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIG1ldGhvZCAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hlYWRlciBwYWlycyBtdXN0IGJlIGl0ZXJhYmxlJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBzZXF1ZW5jZTxzZXF1ZW5jZTxCeXRlU3RyaW5nPj5cblx0XHRcdFx0Ly8gTm90ZTogcGVyIHNwZWMgd2UgaGF2ZSB0byBmaXJzdCBleGhhdXN0IHRoZSBsaXN0cyB0aGVuIHByb2Nlc3MgdGhlbVxuXHRcdFx0XHRjb25zdCBwYWlycyA9IFtdO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHBhaXIgb2YgaW5pdCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgcGFpciAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhaXJbU3ltYm9sLml0ZXJhdG9yXSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRWFjaCBoZWFkZXIgcGFpciBtdXN0IGJlIGl0ZXJhYmxlJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBhaXJzLnB1c2goQXJyYXkuZnJvbShwYWlyKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcblx0XHRcdFx0XHRpZiAocGFpci5sZW5ndGggIT09IDIpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0VhY2ggaGVhZGVyIHBhaXIgbXVzdCBiZSBhIG5hbWUvdmFsdWUgdHVwbGUnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5hcHBlbmQocGFpclswXSwgcGFpclsxXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHJlY29yZDxCeXRlU3RyaW5nLCBCeXRlU3RyaW5nPlxuXHRcdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpbml0KSkge1xuXHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gaW5pdFtrZXldO1xuXHRcdFx0XHRcdHRoaXMuYXBwZW5kKGtleSwgdmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIGluaXRpYWxpemVyIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG4gICogUmV0dXJuIGNvbWJpbmVkIGhlYWRlciB2YWx1ZSBnaXZlbiBuYW1lXG4gICpcbiAgKiBAcGFyYW0gICBTdHJpbmcgIG5hbWUgIEhlYWRlciBuYW1lXG4gICogQHJldHVybiAgTWl4ZWRcbiAgKi9cblx0Z2V0KG5hbWUpIHtcblx0XHRuYW1lID0gYCR7bmFtZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHRjb25zdCBrZXkgPSBmaW5kKHRoaXNbTUFQXSwgbmFtZSk7XG5cdFx0aWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpc1tNQVBdW2tleV0uam9pbignLCAnKTtcblx0fVxuXG5cdC8qKlxuICAqIEl0ZXJhdGUgb3ZlciBhbGwgaGVhZGVyc1xuICAqXG4gICogQHBhcmFtICAgRnVuY3Rpb24gIGNhbGxiYWNrICBFeGVjdXRlZCBmb3IgZWFjaCBpdGVtIHdpdGggcGFyYW1ldGVycyAodmFsdWUsIG5hbWUsIHRoaXNBcmcpXG4gICogQHBhcmFtICAgQm9vbGVhbiAgIHRoaXNBcmcgICBgdGhpc2AgY29udGV4dCBmb3IgY2FsbGJhY2sgZnVuY3Rpb25cbiAgKiBAcmV0dXJuICBWb2lkXG4gICovXG5cdGZvckVhY2goY2FsbGJhY2spIHtcblx0XHRsZXQgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG5cdFx0bGV0IHBhaXJzID0gZ2V0SGVhZGVycyh0aGlzKTtcblx0XHRsZXQgaSA9IDA7XG5cdFx0d2hpbGUgKGkgPCBwYWlycy5sZW5ndGgpIHtcblx0XHRcdHZhciBfcGFpcnMkaSA9IHBhaXJzW2ldO1xuXHRcdFx0Y29uc3QgbmFtZSA9IF9wYWlycyRpWzBdLFxuXHRcdFx0ICAgICAgdmFsdWUgPSBfcGFpcnMkaVsxXTtcblxuXHRcdFx0Y2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcyk7XG5cdFx0XHRwYWlycyA9IGdldEhlYWRlcnModGhpcyk7XG5cdFx0XHRpKys7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG4gICogT3ZlcndyaXRlIGhlYWRlciB2YWx1ZXMgZ2l2ZW4gbmFtZVxuICAqXG4gICogQHBhcmFtICAgU3RyaW5nICBuYW1lICAgSGVhZGVyIG5hbWVcbiAgKiBAcGFyYW0gICBTdHJpbmcgIHZhbHVlICBIZWFkZXIgdmFsdWVcbiAgKiBAcmV0dXJuICBWb2lkXG4gICovXG5cdHNldChuYW1lLCB2YWx1ZSkge1xuXHRcdG5hbWUgPSBgJHtuYW1lfWA7XG5cdFx0dmFsdWUgPSBgJHt2YWx1ZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHR2YWxpZGF0ZVZhbHVlKHZhbHVlKTtcblx0XHRjb25zdCBrZXkgPSBmaW5kKHRoaXNbTUFQXSwgbmFtZSk7XG5cdFx0dGhpc1tNQVBdW2tleSAhPT0gdW5kZWZpbmVkID8ga2V5IDogbmFtZV0gPSBbdmFsdWVdO1xuXHR9XG5cblx0LyoqXG4gICogQXBwZW5kIGEgdmFsdWUgb250byBleGlzdGluZyBoZWFkZXJcbiAgKlxuICAqIEBwYXJhbSAgIFN0cmluZyAgbmFtZSAgIEhlYWRlciBuYW1lXG4gICogQHBhcmFtICAgU3RyaW5nICB2YWx1ZSAgSGVhZGVyIHZhbHVlXG4gICogQHJldHVybiAgVm9pZFxuICAqL1xuXHRhcHBlbmQobmFtZSwgdmFsdWUpIHtcblx0XHRuYW1lID0gYCR7bmFtZX1gO1xuXHRcdHZhbHVlID0gYCR7dmFsdWV9YDtcblx0XHR2YWxpZGF0ZU5hbWUobmFtZSk7XG5cdFx0dmFsaWRhdGVWYWx1ZSh2YWx1ZSk7XG5cdFx0Y29uc3Qga2V5ID0gZmluZCh0aGlzW01BUF0sIG5hbWUpO1xuXHRcdGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpc1tNQVBdW2tleV0ucHVzaCh2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXNbTUFQXVtuYW1lXSA9IFt2YWx1ZV07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG4gICogQ2hlY2sgZm9yIGhlYWRlciBuYW1lIGV4aXN0ZW5jZVxuICAqXG4gICogQHBhcmFtICAgU3RyaW5nICAgbmFtZSAgSGVhZGVyIG5hbWVcbiAgKiBAcmV0dXJuICBCb29sZWFuXG4gICovXG5cdGhhcyhuYW1lKSB7XG5cdFx0bmFtZSA9IGAke25hbWV9YDtcblx0XHR2YWxpZGF0ZU5hbWUobmFtZSk7XG5cdFx0cmV0dXJuIGZpbmQodGhpc1tNQVBdLCBuYW1lKSAhPT0gdW5kZWZpbmVkO1xuXHR9XG5cblx0LyoqXG4gICogRGVsZXRlIGFsbCBoZWFkZXIgdmFsdWVzIGdpdmVuIG5hbWVcbiAgKlxuICAqIEBwYXJhbSAgIFN0cmluZyAgbmFtZSAgSGVhZGVyIG5hbWVcbiAgKiBAcmV0dXJuICBWb2lkXG4gICovXG5cdGRlbGV0ZShuYW1lKSB7XG5cdFx0bmFtZSA9IGAke25hbWV9YDtcblx0XHR2YWxpZGF0ZU5hbWUobmFtZSk7XG5cdFx0Y29uc3Qga2V5ID0gZmluZCh0aGlzW01BUF0sIG5hbWUpO1xuXHRcdGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZGVsZXRlIHRoaXNbTUFQXVtrZXldO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuICAqIFJldHVybiByYXcgaGVhZGVycyAobm9uLXNwZWMgYXBpKVxuICAqXG4gICogQHJldHVybiAgT2JqZWN0XG4gICovXG5cdHJhdygpIHtcblx0XHRyZXR1cm4gdGhpc1tNQVBdO1xuXHR9XG5cblx0LyoqXG4gICogR2V0IGFuIGl0ZXJhdG9yIG9uIGtleXMuXG4gICpcbiAgKiBAcmV0dXJuICBJdGVyYXRvclxuICAqL1xuXHRrZXlzKCkge1xuXHRcdHJldHVybiBjcmVhdGVIZWFkZXJzSXRlcmF0b3IodGhpcywgJ2tleScpO1xuXHR9XG5cblx0LyoqXG4gICogR2V0IGFuIGl0ZXJhdG9yIG9uIHZhbHVlcy5cbiAgKlxuICAqIEByZXR1cm4gIEl0ZXJhdG9yXG4gICovXG5cdHZhbHVlcygpIHtcblx0XHRyZXR1cm4gY3JlYXRlSGVhZGVyc0l0ZXJhdG9yKHRoaXMsICd2YWx1ZScpO1xuXHR9XG5cblx0LyoqXG4gICogR2V0IGFuIGl0ZXJhdG9yIG9uIGVudHJpZXMuXG4gICpcbiAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0IGl0ZXJhdG9yIG9mIHRoZSBIZWFkZXJzIG9iamVjdC5cbiAgKlxuICAqIEByZXR1cm4gIEl0ZXJhdG9yXG4gICovXG5cdFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuXHRcdHJldHVybiBjcmVhdGVIZWFkZXJzSXRlcmF0b3IodGhpcywgJ2tleSt2YWx1ZScpO1xuXHR9XG59XG5IZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhlYWRlcnMucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcblx0dmFsdWU6ICdIZWFkZXJzJyxcblx0d3JpdGFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0Y29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSGVhZGVycy5wcm90b3R5cGUsIHtcblx0Z2V0OiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0Zm9yRWFjaDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHNldDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGFwcGVuZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGhhczogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGRlbGV0ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGtleXM6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHR2YWx1ZXM6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRlbnRyaWVzOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5cbmZ1bmN0aW9uIGdldEhlYWRlcnMoaGVhZGVycykge1xuXHRsZXQga2luZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2tleSt2YWx1ZSc7XG5cblx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGhlYWRlcnNbTUFQXSkuc29ydCgpO1xuXHRyZXR1cm4ga2V5cy5tYXAoa2luZCA9PT0gJ2tleScgPyBmdW5jdGlvbiAoaykge1xuXHRcdHJldHVybiBrLnRvTG93ZXJDYXNlKCk7XG5cdH0gOiBraW5kID09PSAndmFsdWUnID8gZnVuY3Rpb24gKGspIHtcblx0XHRyZXR1cm4gaGVhZGVyc1tNQVBdW2tdLmpvaW4oJywgJyk7XG5cdH0gOiBmdW5jdGlvbiAoaykge1xuXHRcdHJldHVybiBbay50b0xvd2VyQ2FzZSgpLCBoZWFkZXJzW01BUF1ba10uam9pbignLCAnKV07XG5cdH0pO1xufVxuXG5jb25zdCBJTlRFUk5BTCA9IFN5bWJvbCgnaW50ZXJuYWwnKTtcblxuZnVuY3Rpb24gY3JlYXRlSGVhZGVyc0l0ZXJhdG9yKHRhcmdldCwga2luZCkge1xuXHRjb25zdCBpdGVyYXRvciA9IE9iamVjdC5jcmVhdGUoSGVhZGVyc0l0ZXJhdG9yUHJvdG90eXBlKTtcblx0aXRlcmF0b3JbSU5URVJOQUxdID0ge1xuXHRcdHRhcmdldCxcblx0XHRraW5kLFxuXHRcdGluZGV4OiAwXG5cdH07XG5cdHJldHVybiBpdGVyYXRvcjtcbn1cblxuY29uc3QgSGVhZGVyc0l0ZXJhdG9yUHJvdG90eXBlID0gT2JqZWN0LnNldFByb3RvdHlwZU9mKHtcblx0bmV4dCgpIHtcblx0XHQvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcblx0XHRpZiAoIXRoaXMgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpICE9PSBIZWFkZXJzSXRlcmF0b3JQcm90b3R5cGUpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGB0aGlzYCBpcyBub3QgYSBIZWFkZXJzSXRlcmF0b3InKTtcblx0XHR9XG5cblx0XHR2YXIgX0lOVEVSTkFMID0gdGhpc1tJTlRFUk5BTF07XG5cdFx0Y29uc3QgdGFyZ2V0ID0gX0lOVEVSTkFMLnRhcmdldCxcblx0XHQgICAgICBraW5kID0gX0lOVEVSTkFMLmtpbmQsXG5cdFx0ICAgICAgaW5kZXggPSBfSU5URVJOQUwuaW5kZXg7XG5cblx0XHRjb25zdCB2YWx1ZXMgPSBnZXRIZWFkZXJzKHRhcmdldCwga2luZCk7XG5cdFx0Y29uc3QgbGVuID0gdmFsdWVzLmxlbmd0aDtcblx0XHRpZiAoaW5kZXggPj0gbGVuKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR2YWx1ZTogdW5kZWZpbmVkLFxuXHRcdFx0XHRkb25lOiB0cnVlXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRoaXNbSU5URVJOQUxdLmluZGV4ID0gaW5kZXggKyAxO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHZhbHVlOiB2YWx1ZXNbaW5kZXhdLFxuXHRcdFx0ZG9uZTogZmFsc2Vcblx0XHR9O1xuXHR9XG59LCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0LmdldFByb3RvdHlwZU9mKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkpKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhlYWRlcnNJdGVyYXRvclByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG5cdHZhbHVlOiAnSGVhZGVyc0l0ZXJhdG9yJyxcblx0d3JpdGFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0Y29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuLyoqXG4gKiBFeHBvcnQgdGhlIEhlYWRlcnMgb2JqZWN0IGluIGEgZm9ybSB0aGF0IE5vZGUuanMgY2FuIGNvbnN1bWUuXG4gKlxuICogQHBhcmFtICAgSGVhZGVycyAgaGVhZGVyc1xuICogQHJldHVybiAgT2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGV4cG9ydE5vZGVDb21wYXRpYmxlSGVhZGVycyhoZWFkZXJzKSB7XG5cdGNvbnN0IG9iaiA9IE9iamVjdC5hc3NpZ24oeyBfX3Byb3RvX186IG51bGwgfSwgaGVhZGVyc1tNQVBdKTtcblxuXHQvLyBodHRwLnJlcXVlc3QoKSBvbmx5IHN1cHBvcnRzIHN0cmluZyBhcyBIb3N0IGhlYWRlci4gVGhpcyBoYWNrIG1ha2VzXG5cdC8vIHNwZWNpZnlpbmcgY3VzdG9tIEhvc3QgaGVhZGVyIHBvc3NpYmxlLlxuXHRjb25zdCBob3N0SGVhZGVyS2V5ID0gZmluZChoZWFkZXJzW01BUF0sICdIb3N0Jyk7XG5cdGlmIChob3N0SGVhZGVyS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRvYmpbaG9zdEhlYWRlcktleV0gPSBvYmpbaG9zdEhlYWRlcktleV1bMF07XG5cdH1cblxuXHRyZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIEhlYWRlcnMgb2JqZWN0IGZyb20gYW4gb2JqZWN0IG9mIGhlYWRlcnMsIGlnbm9yaW5nIHRob3NlIHRoYXQgZG9cbiAqIG5vdCBjb25mb3JtIHRvIEhUVFAgZ3JhbW1hciBwcm9kdWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gICBPYmplY3QgIG9iaiAgT2JqZWN0IG9mIGhlYWRlcnNcbiAqIEByZXR1cm4gIEhlYWRlcnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSGVhZGVyc0xlbmllbnQob2JqKSB7XG5cdGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXHRmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMob2JqKSkge1xuXHRcdGlmIChpbnZhbGlkVG9rZW5SZWdleC50ZXN0KG5hbWUpKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob2JqW25hbWVdKSkge1xuXHRcdFx0Zm9yIChjb25zdCB2YWwgb2Ygb2JqW25hbWVdKSB7XG5cdFx0XHRcdGlmIChpbnZhbGlkSGVhZGVyQ2hhclJlZ2V4LnRlc3QodmFsKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChoZWFkZXJzW01BUF1bbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGhlYWRlcnNbTUFQXVtuYW1lXSA9IFt2YWxdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGhlYWRlcnNbTUFQXVtuYW1lXS5wdXNoKHZhbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCFpbnZhbGlkSGVhZGVyQ2hhclJlZ2V4LnRlc3Qob2JqW25hbWVdKSkge1xuXHRcdFx0aGVhZGVyc1tNQVBdW25hbWVdID0gW29ialtuYW1lXV07XG5cdFx0fVxuXHR9XG5cdHJldHVybiBoZWFkZXJzO1xufVxuXG5jb25zdCBJTlRFUk5BTFMkMSA9IFN5bWJvbCgnUmVzcG9uc2UgaW50ZXJuYWxzJyk7XG5cbi8vIGZpeCBhbiBpc3N1ZSB3aGVyZSBcIlNUQVRVU19DT0RFU1wiIGFyZW4ndCBhIG5hbWVkIGV4cG9ydCBmb3Igbm9kZSA8MTBcbmNvbnN0IFNUQVRVU19DT0RFUyA9IGh0dHAuU1RBVFVTX0NPREVTO1xuXG4vKipcbiAqIFJlc3BvbnNlIGNsYXNzXG4gKlxuICogQHBhcmFtICAgU3RyZWFtICBib2R5ICBSZWFkYWJsZSBzdHJlYW1cbiAqIEBwYXJhbSAgIE9iamVjdCAgb3B0cyAgUmVzcG9uc2Ugb3B0aW9uc1xuICogQHJldHVybiAgVm9pZFxuICovXG5jbGFzcyBSZXNwb25zZSB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdGxldCBib2R5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuXHRcdGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuXHRcdEJvZHkuY2FsbCh0aGlzLCBib2R5LCBvcHRzKTtcblxuXHRcdGNvbnN0IHN0YXR1cyA9IG9wdHMuc3RhdHVzIHx8IDIwMDtcblx0XHRjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0cy5oZWFkZXJzKTtcblxuXHRcdGlmIChib2R5ICE9IG51bGwgJiYgIWhlYWRlcnMuaGFzKCdDb250ZW50LVR5cGUnKSkge1xuXHRcdFx0Y29uc3QgY29udGVudFR5cGUgPSBleHRyYWN0Q29udGVudFR5cGUoYm9keSk7XG5cdFx0XHRpZiAoY29udGVudFR5cGUpIHtcblx0XHRcdFx0aGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsIGNvbnRlbnRUeXBlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzW0lOVEVSTkFMUyQxXSA9IHtcblx0XHRcdHVybDogb3B0cy51cmwsXG5cdFx0XHRzdGF0dXMsXG5cdFx0XHRzdGF0dXNUZXh0OiBvcHRzLnN0YXR1c1RleHQgfHwgU1RBVFVTX0NPREVTW3N0YXR1c10sXG5cdFx0XHRoZWFkZXJzLFxuXHRcdFx0Y291bnRlcjogb3B0cy5jb3VudGVyXG5cdFx0fTtcblx0fVxuXG5cdGdldCB1cmwoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDFdLnVybCB8fCAnJztcblx0fVxuXG5cdGdldCBzdGF0dXMoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDFdLnN0YXR1cztcblx0fVxuXG5cdC8qKlxuICAqIENvbnZlbmllbmNlIHByb3BlcnR5IHJlcHJlc2VudGluZyBpZiB0aGUgcmVxdWVzdCBlbmRlZCBub3JtYWxseVxuICAqL1xuXHRnZXQgb2soKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDFdLnN0YXR1cyA+PSAyMDAgJiYgdGhpc1tJTlRFUk5BTFMkMV0uc3RhdHVzIDwgMzAwO1xuXHR9XG5cblx0Z2V0IHJlZGlyZWN0ZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDFdLmNvdW50ZXIgPiAwO1xuXHR9XG5cblx0Z2V0IHN0YXR1c1RleHQoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDFdLnN0YXR1c1RleHQ7XG5cdH1cblxuXHRnZXQgaGVhZGVycygpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uaGVhZGVycztcblx0fVxuXG5cdC8qKlxuICAqIENsb25lIHRoaXMgcmVzcG9uc2VcbiAgKlxuICAqIEByZXR1cm4gIFJlc3BvbnNlXG4gICovXG5cdGNsb25lKCkge1xuXHRcdHJldHVybiBuZXcgUmVzcG9uc2UoY2xvbmUodGhpcyksIHtcblx0XHRcdHVybDogdGhpcy51cmwsXG5cdFx0XHRzdGF0dXM6IHRoaXMuc3RhdHVzLFxuXHRcdFx0c3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuXHRcdFx0aGVhZGVyczogdGhpcy5oZWFkZXJzLFxuXHRcdFx0b2s6IHRoaXMub2ssXG5cdFx0XHRyZWRpcmVjdGVkOiB0aGlzLnJlZGlyZWN0ZWRcblx0XHR9KTtcblx0fVxufVxuXG5Cb2R5Lm1peEluKFJlc3BvbnNlLnByb3RvdHlwZSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlc3BvbnNlLnByb3RvdHlwZSwge1xuXHR1cmw6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRzdGF0dXM6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRvazogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHJlZGlyZWN0ZWQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRzdGF0dXNUZXh0OiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0aGVhZGVyczogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGNsb25lOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNwb25zZS5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuXHR2YWx1ZTogJ1Jlc3BvbnNlJyxcblx0d3JpdGFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0Y29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuY29uc3QgSU5URVJOQUxTJDIgPSBTeW1ib2woJ1JlcXVlc3QgaW50ZXJuYWxzJyk7XG5jb25zdCBVUkwgPSBVcmwuVVJMIHx8IHdoYXR3Z1VybC5VUkw7XG5cbi8vIGZpeCBhbiBpc3N1ZSB3aGVyZSBcImZvcm1hdFwiLCBcInBhcnNlXCIgYXJlbid0IGEgbmFtZWQgZXhwb3J0IGZvciBub2RlIDwxMFxuY29uc3QgcGFyc2VfdXJsID0gVXJsLnBhcnNlO1xuY29uc3QgZm9ybWF0X3VybCA9IFVybC5mb3JtYXQ7XG5cbi8qKlxuICogV3JhcHBlciBhcm91bmQgYG5ldyBVUkxgIHRvIGhhbmRsZSBhcmJpdHJhcnkgVVJMc1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gdXJsU3RyXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBwYXJzZVVSTCh1cmxTdHIpIHtcblx0LypcbiBcdENoZWNrIHdoZXRoZXIgdGhlIFVSTCBpcyBhYnNvbHV0ZSBvciBub3RcbiBcdFx0U2NoZW1lOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMVxuIFx0QWJzb2x1dGUgVVJMOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTQuM1xuICovXG5cdGlmICgvXlthLXpBLVpdW2EtekEtWlxcZCtcXC0uXSo6Ly5leGVjKHVybFN0cikpIHtcblx0XHR1cmxTdHIgPSBuZXcgVVJMKHVybFN0cikudG9TdHJpbmcoKTtcblx0fVxuXG5cdC8vIEZhbGxiYWNrIHRvIG9sZCBpbXBsZW1lbnRhdGlvbiBmb3IgYXJiaXRyYXJ5IFVSTHNcblx0cmV0dXJuIHBhcnNlX3VybCh1cmxTdHIpO1xufVxuXG5jb25zdCBzdHJlYW1EZXN0cnVjdGlvblN1cHBvcnRlZCA9ICdkZXN0cm95JyBpbiBTdHJlYW0uUmVhZGFibGUucHJvdG90eXBlO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgUmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0gICBNaXhlZCAgIGlucHV0XG4gKiBAcmV0dXJuICBCb29sZWFuXG4gKi9cbmZ1bmN0aW9uIGlzUmVxdWVzdChpbnB1dCkge1xuXHRyZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgaW5wdXRbSU5URVJOQUxTJDJdID09PSAnb2JqZWN0Jztcbn1cblxuZnVuY3Rpb24gaXNBYm9ydFNpZ25hbChzaWduYWwpIHtcblx0Y29uc3QgcHJvdG8gPSBzaWduYWwgJiYgdHlwZW9mIHNpZ25hbCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHNpZ25hbCk7XG5cdHJldHVybiAhIShwcm90byAmJiBwcm90by5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQWJvcnRTaWduYWwnKTtcbn1cblxuLyoqXG4gKiBSZXF1ZXN0IGNsYXNzXG4gKlxuICogQHBhcmFtICAgTWl4ZWQgICBpbnB1dCAgVXJsIG9yIFJlcXVlc3QgaW5zdGFuY2VcbiAqIEBwYXJhbSAgIE9iamVjdCAgaW5pdCAgIEN1c3RvbSBvcHRpb25zXG4gKiBAcmV0dXJuICBWb2lkXG4gKi9cbmNsYXNzIFJlcXVlc3Qge1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdGxldCBpbml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuXHRcdGxldCBwYXJzZWRVUkw7XG5cblx0XHQvLyBub3JtYWxpemUgaW5wdXRcblx0XHRpZiAoIWlzUmVxdWVzdChpbnB1dCkpIHtcblx0XHRcdGlmIChpbnB1dCAmJiBpbnB1dC5ocmVmKSB7XG5cdFx0XHRcdC8vIGluIG9yZGVyIHRvIHN1cHBvcnQgTm9kZS5qcycgVXJsIG9iamVjdHM7IHRob3VnaCBXSEFUV0cncyBVUkwgb2JqZWN0c1xuXHRcdFx0XHQvLyB3aWxsIGZhbGwgaW50byB0aGlzIGJyYW5jaCBhbHNvIChzaW5jZSB0aGVpciBgdG9TdHJpbmcoKWAgd2lsbCByZXR1cm5cblx0XHRcdFx0Ly8gYGhyZWZgIHByb3BlcnR5IGFueXdheSlcblx0XHRcdFx0cGFyc2VkVVJMID0gcGFyc2VVUkwoaW5wdXQuaHJlZik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBjb2VyY2UgaW5wdXQgdG8gYSBzdHJpbmcgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcGFyc2Vcblx0XHRcdFx0cGFyc2VkVVJMID0gcGFyc2VVUkwoYCR7aW5wdXR9YCk7XG5cdFx0XHR9XG5cdFx0XHRpbnB1dCA9IHt9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXJzZWRVUkwgPSBwYXJzZVVSTChpbnB1dC51cmwpO1xuXHRcdH1cblxuXHRcdGxldCBtZXRob2QgPSBpbml0Lm1ldGhvZCB8fCBpbnB1dC5tZXRob2QgfHwgJ0dFVCc7XG5cdFx0bWV0aG9kID0gbWV0aG9kLnRvVXBwZXJDYXNlKCk7XG5cblx0XHRpZiAoKGluaXQuYm9keSAhPSBudWxsIHx8IGlzUmVxdWVzdChpbnB1dCkgJiYgaW5wdXQuYm9keSAhPT0gbnVsbCkgJiYgKG1ldGhvZCA9PT0gJ0dFVCcgfHwgbWV0aG9kID09PSAnSEVBRCcpKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdSZXF1ZXN0IHdpdGggR0VUL0hFQUQgbWV0aG9kIGNhbm5vdCBoYXZlIGJvZHknKTtcblx0XHR9XG5cblx0XHRsZXQgaW5wdXRCb2R5ID0gaW5pdC5ib2R5ICE9IG51bGwgPyBpbml0LmJvZHkgOiBpc1JlcXVlc3QoaW5wdXQpICYmIGlucHV0LmJvZHkgIT09IG51bGwgPyBjbG9uZShpbnB1dCkgOiBudWxsO1xuXG5cdFx0Qm9keS5jYWxsKHRoaXMsIGlucHV0Qm9keSwge1xuXHRcdFx0dGltZW91dDogaW5pdC50aW1lb3V0IHx8IGlucHV0LnRpbWVvdXQgfHwgMCxcblx0XHRcdHNpemU6IGluaXQuc2l6ZSB8fCBpbnB1dC5zaXplIHx8IDBcblx0XHR9KTtcblxuXHRcdGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbml0LmhlYWRlcnMgfHwgaW5wdXQuaGVhZGVycyB8fCB7fSk7XG5cblx0XHRpZiAoaW5wdXRCb2R5ICE9IG51bGwgJiYgIWhlYWRlcnMuaGFzKCdDb250ZW50LVR5cGUnKSkge1xuXHRcdFx0Y29uc3QgY29udGVudFR5cGUgPSBleHRyYWN0Q29udGVudFR5cGUoaW5wdXRCb2R5KTtcblx0XHRcdGlmIChjb250ZW50VHlwZSkge1xuXHRcdFx0XHRoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgY29udGVudFR5cGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGxldCBzaWduYWwgPSBpc1JlcXVlc3QoaW5wdXQpID8gaW5wdXQuc2lnbmFsIDogbnVsbDtcblx0XHRpZiAoJ3NpZ25hbCcgaW4gaW5pdCkgc2lnbmFsID0gaW5pdC5zaWduYWw7XG5cblx0XHRpZiAoc2lnbmFsICE9IG51bGwgJiYgIWlzQWJvcnRTaWduYWwoc2lnbmFsKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgc2lnbmFsIHRvIGJlIGFuIGluc3RhbmNlb2YgQWJvcnRTaWduYWwnKTtcblx0XHR9XG5cblx0XHR0aGlzW0lOVEVSTkFMUyQyXSA9IHtcblx0XHRcdG1ldGhvZCxcblx0XHRcdHJlZGlyZWN0OiBpbml0LnJlZGlyZWN0IHx8IGlucHV0LnJlZGlyZWN0IHx8ICdmb2xsb3cnLFxuXHRcdFx0aGVhZGVycyxcblx0XHRcdHBhcnNlZFVSTCxcblx0XHRcdHNpZ25hbFxuXHRcdH07XG5cblx0XHQvLyBub2RlLWZldGNoLW9ubHkgb3B0aW9uc1xuXHRcdHRoaXMuZm9sbG93ID0gaW5pdC5mb2xsb3cgIT09IHVuZGVmaW5lZCA/IGluaXQuZm9sbG93IDogaW5wdXQuZm9sbG93ICE9PSB1bmRlZmluZWQgPyBpbnB1dC5mb2xsb3cgOiAyMDtcblx0XHR0aGlzLmNvbXByZXNzID0gaW5pdC5jb21wcmVzcyAhPT0gdW5kZWZpbmVkID8gaW5pdC5jb21wcmVzcyA6IGlucHV0LmNvbXByZXNzICE9PSB1bmRlZmluZWQgPyBpbnB1dC5jb21wcmVzcyA6IHRydWU7XG5cdFx0dGhpcy5jb3VudGVyID0gaW5pdC5jb3VudGVyIHx8IGlucHV0LmNvdW50ZXIgfHwgMDtcblx0XHR0aGlzLmFnZW50ID0gaW5pdC5hZ2VudCB8fCBpbnB1dC5hZ2VudDtcblx0fVxuXG5cdGdldCBtZXRob2QoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDJdLm1ldGhvZDtcblx0fVxuXG5cdGdldCB1cmwoKSB7XG5cdFx0cmV0dXJuIGZvcm1hdF91cmwodGhpc1tJTlRFUk5BTFMkMl0ucGFyc2VkVVJMKTtcblx0fVxuXG5cdGdldCBoZWFkZXJzKCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMUyQyXS5oZWFkZXJzO1xuXHR9XG5cblx0Z2V0IHJlZGlyZWN0KCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMUyQyXS5yZWRpcmVjdDtcblx0fVxuXG5cdGdldCBzaWduYWwoKSB7XG5cdFx0cmV0dXJuIHRoaXNbSU5URVJOQUxTJDJdLnNpZ25hbDtcblx0fVxuXG5cdC8qKlxuICAqIENsb25lIHRoaXMgcmVxdWVzdFxuICAqXG4gICogQHJldHVybiAgUmVxdWVzdFxuICAqL1xuXHRjbG9uZSgpIHtcblx0XHRyZXR1cm4gbmV3IFJlcXVlc3QodGhpcyk7XG5cdH1cbn1cblxuQm9keS5taXhJbihSZXF1ZXN0LnByb3RvdHlwZSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXF1ZXN0LnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG5cdHZhbHVlOiAnUmVxdWVzdCcsXG5cdHdyaXRhYmxlOiBmYWxzZSxcblx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlcXVlc3QucHJvdG90eXBlLCB7XG5cdG1ldGhvZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHVybDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGhlYWRlcnM6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRyZWRpcmVjdDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGNsb25lOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0c2lnbmFsOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5cbi8qKlxuICogQ29udmVydCBhIFJlcXVlc3QgdG8gTm9kZS5qcyBodHRwIHJlcXVlc3Qgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gICBSZXF1ZXN0ICBBIFJlcXVlc3QgaW5zdGFuY2VcbiAqIEByZXR1cm4gIE9iamVjdCAgIFRoZSBvcHRpb25zIG9iamVjdCB0byBiZSBwYXNzZWQgdG8gaHR0cC5yZXF1ZXN0XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVSZXF1ZXN0T3B0aW9ucyhyZXF1ZXN0KSB7XG5cdGNvbnN0IHBhcnNlZFVSTCA9IHJlcXVlc3RbSU5URVJOQUxTJDJdLnBhcnNlZFVSTDtcblx0Y29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlcXVlc3RbSU5URVJOQUxTJDJdLmhlYWRlcnMpO1xuXG5cdC8vIGZldGNoIHN0ZXAgMS4zXG5cdGlmICghaGVhZGVycy5oYXMoJ0FjY2VwdCcpKSB7XG5cdFx0aGVhZGVycy5zZXQoJ0FjY2VwdCcsICcqLyonKTtcblx0fVxuXG5cdC8vIEJhc2ljIGZldGNoXG5cdGlmICghcGFyc2VkVVJMLnByb3RvY29sIHx8ICFwYXJzZWRVUkwuaG9zdG5hbWUpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPbmx5IGFic29sdXRlIFVSTHMgYXJlIHN1cHBvcnRlZCcpO1xuXHR9XG5cblx0aWYgKCEvXmh0dHBzPzokLy50ZXN0KHBhcnNlZFVSTC5wcm90b2NvbCkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPbmx5IEhUVFAoUykgcHJvdG9jb2xzIGFyZSBzdXBwb3J0ZWQnKTtcblx0fVxuXG5cdGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LmJvZHkgaW5zdGFuY2VvZiBTdHJlYW0uUmVhZGFibGUgJiYgIXN0cmVhbURlc3RydWN0aW9uU3VwcG9ydGVkKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5jZWxsYXRpb24gb2Ygc3RyZWFtZWQgcmVxdWVzdHMgd2l0aCBBYm9ydFNpZ25hbCBpcyBub3Qgc3VwcG9ydGVkIGluIG5vZGUgPCA4Jyk7XG5cdH1cblxuXHQvLyBIVFRQLW5ldHdvcmstb3ItY2FjaGUgZmV0Y2ggc3RlcHMgMi40LTIuN1xuXHRsZXQgY29udGVudExlbmd0aFZhbHVlID0gbnVsbDtcblx0aWYgKHJlcXVlc3QuYm9keSA9PSBudWxsICYmIC9eKFBPU1R8UFVUKSQvaS50ZXN0KHJlcXVlc3QubWV0aG9kKSkge1xuXHRcdGNvbnRlbnRMZW5ndGhWYWx1ZSA9ICcwJztcblx0fVxuXHRpZiAocmVxdWVzdC5ib2R5ICE9IG51bGwpIHtcblx0XHRjb25zdCB0b3RhbEJ5dGVzID0gZ2V0VG90YWxCeXRlcyhyZXF1ZXN0KTtcblx0XHRpZiAodHlwZW9mIHRvdGFsQnl0ZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRjb250ZW50TGVuZ3RoVmFsdWUgPSBTdHJpbmcodG90YWxCeXRlcyk7XG5cdFx0fVxuXHR9XG5cdGlmIChjb250ZW50TGVuZ3RoVmFsdWUpIHtcblx0XHRoZWFkZXJzLnNldCgnQ29udGVudC1MZW5ndGgnLCBjb250ZW50TGVuZ3RoVmFsdWUpO1xuXHR9XG5cblx0Ly8gSFRUUC1uZXR3b3JrLW9yLWNhY2hlIGZldGNoIHN0ZXAgMi4xMVxuXHRpZiAoIWhlYWRlcnMuaGFzKCdVc2VyLUFnZW50JykpIHtcblx0XHRoZWFkZXJzLnNldCgnVXNlci1BZ2VudCcsICdub2RlLWZldGNoLzEuMCAoK2h0dHBzOi8vZ2l0aHViLmNvbS9iaXRpbm4vbm9kZS1mZXRjaCknKTtcblx0fVxuXG5cdC8vIEhUVFAtbmV0d29yay1vci1jYWNoZSBmZXRjaCBzdGVwIDIuMTVcblx0aWYgKHJlcXVlc3QuY29tcHJlc3MgJiYgIWhlYWRlcnMuaGFzKCdBY2NlcHQtRW5jb2RpbmcnKSkge1xuXHRcdGhlYWRlcnMuc2V0KCdBY2NlcHQtRW5jb2RpbmcnLCAnZ3ppcCxkZWZsYXRlJyk7XG5cdH1cblxuXHRsZXQgYWdlbnQgPSByZXF1ZXN0LmFnZW50O1xuXHRpZiAodHlwZW9mIGFnZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0YWdlbnQgPSBhZ2VudChwYXJzZWRVUkwpO1xuXHR9XG5cblx0Ly8gSFRUUC1uZXR3b3JrIGZldGNoIHN0ZXAgNC4yXG5cdC8vIGNodW5rZWQgZW5jb2RpbmcgaXMgaGFuZGxlZCBieSBOb2RlLmpzXG5cblx0cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBhcnNlZFVSTCwge1xuXHRcdG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG5cdFx0aGVhZGVyczogZXhwb3J0Tm9kZUNvbXBhdGlibGVIZWFkZXJzKGhlYWRlcnMpLFxuXHRcdGFnZW50XG5cdH0pO1xufVxuXG4vKipcbiAqIGFib3J0LWVycm9yLmpzXG4gKlxuICogQWJvcnRFcnJvciBpbnRlcmZhY2UgZm9yIGNhbmNlbGxlZCByZXF1ZXN0c1xuICovXG5cbi8qKlxuICogQ3JlYXRlIEFib3J0RXJyb3IgaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0gICBTdHJpbmcgICAgICBtZXNzYWdlICAgICAgRXJyb3IgbWVzc2FnZSBmb3IgaHVtYW5cbiAqIEByZXR1cm4gIEFib3J0RXJyb3JcbiAqL1xuZnVuY3Rpb24gQWJvcnRFcnJvcihtZXNzYWdlKSB7XG4gIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgdGhpcy50eXBlID0gJ2Fib3J0ZWQnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXG4gIC8vIGhpZGUgY3VzdG9tIGVycm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHMgZnJvbSBlbmQtdXNlcnNcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG59XG5cbkFib3J0RXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuQWJvcnRFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYm9ydEVycm9yO1xuQWJvcnRFcnJvci5wcm90b3R5cGUubmFtZSA9ICdBYm9ydEVycm9yJztcblxuY29uc3QgVVJMJDEgPSBVcmwuVVJMIHx8IHdoYXR3Z1VybC5VUkw7XG5cbi8vIGZpeCBhbiBpc3N1ZSB3aGVyZSBcIlBhc3NUaHJvdWdoXCIsIFwicmVzb2x2ZVwiIGFyZW4ndCBhIG5hbWVkIGV4cG9ydCBmb3Igbm9kZSA8MTBcbmNvbnN0IFBhc3NUaHJvdWdoJDEgPSBTdHJlYW0uUGFzc1Rocm91Z2g7XG5cbmNvbnN0IGlzRG9tYWluT3JTdWJkb21haW4gPSBmdW5jdGlvbiBpc0RvbWFpbk9yU3ViZG9tYWluKGRlc3RpbmF0aW9uLCBvcmlnaW5hbCkge1xuXHRjb25zdCBvcmlnID0gbmV3IFVSTCQxKG9yaWdpbmFsKS5ob3N0bmFtZTtcblx0Y29uc3QgZGVzdCA9IG5ldyBVUkwkMShkZXN0aW5hdGlvbikuaG9zdG5hbWU7XG5cblx0cmV0dXJuIG9yaWcgPT09IGRlc3QgfHwgb3JpZ1tvcmlnLmxlbmd0aCAtIGRlc3QubGVuZ3RoIC0gMV0gPT09ICcuJyAmJiBvcmlnLmVuZHNXaXRoKGRlc3QpO1xufTtcblxuLyoqXG4gKiBpc1NhbWVQcm90b2NvbCByZXBvcnRzIHdoZXRoZXIgdGhlIHR3byBwcm92aWRlZCBVUkxzIHVzZSB0aGUgc2FtZSBwcm90b2NvbC5cbiAqXG4gKiBCb3RoIGRvbWFpbnMgbXVzdCBhbHJlYWR5IGJlIGluIGNhbm9uaWNhbCBmb3JtLlxuICogQHBhcmFtIHtzdHJpbmd8VVJMfSBvcmlnaW5hbFxuICogQHBhcmFtIHtzdHJpbmd8VVJMfSBkZXN0aW5hdGlvblxuICovXG5jb25zdCBpc1NhbWVQcm90b2NvbCA9IGZ1bmN0aW9uIGlzU2FtZVByb3RvY29sKGRlc3RpbmF0aW9uLCBvcmlnaW5hbCkge1xuXHRjb25zdCBvcmlnID0gbmV3IFVSTCQxKG9yaWdpbmFsKS5wcm90b2NvbDtcblx0Y29uc3QgZGVzdCA9IG5ldyBVUkwkMShkZXN0aW5hdGlvbikucHJvdG9jb2w7XG5cblx0cmV0dXJuIG9yaWcgPT09IGRlc3Q7XG59O1xuXG4vKipcbiAqIEZldGNoIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtICAgTWl4ZWQgICAgdXJsICAgQWJzb2x1dGUgdXJsIG9yIFJlcXVlc3QgaW5zdGFuY2VcbiAqIEBwYXJhbSAgIE9iamVjdCAgIG9wdHMgIEZldGNoIG9wdGlvbnNcbiAqIEByZXR1cm4gIFByb21pc2VcbiAqL1xuZnVuY3Rpb24gZmV0Y2godXJsLCBvcHRzKSB7XG5cblx0Ly8gYWxsb3cgY3VzdG9tIHByb21pc2Vcblx0aWYgKCFmZXRjaC5Qcm9taXNlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCduYXRpdmUgcHJvbWlzZSBtaXNzaW5nLCBzZXQgZmV0Y2guUHJvbWlzZSB0byB5b3VyIGZhdm9yaXRlIGFsdGVybmF0aXZlJyk7XG5cdH1cblxuXHRCb2R5LlByb21pc2UgPSBmZXRjaC5Qcm9taXNlO1xuXG5cdC8vIHdyYXAgaHR0cC5yZXF1ZXN0IGludG8gZmV0Y2hcblx0cmV0dXJuIG5ldyBmZXRjaC5Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHQvLyBidWlsZCByZXF1ZXN0IG9iamVjdFxuXHRcdGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIG9wdHMpO1xuXHRcdGNvbnN0IG9wdGlvbnMgPSBnZXROb2RlUmVxdWVzdE9wdGlvbnMocmVxdWVzdCk7XG5cblx0XHRjb25zdCBzZW5kID0gKG9wdGlvbnMucHJvdG9jb2wgPT09ICdodHRwczonID8gaHR0cHMgOiBodHRwKS5yZXF1ZXN0O1xuXHRcdGNvbnN0IHNpZ25hbCA9IHJlcXVlc3Quc2lnbmFsO1xuXG5cdFx0bGV0IHJlc3BvbnNlID0gbnVsbDtcblxuXHRcdGNvbnN0IGFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XG5cdFx0XHRsZXQgZXJyb3IgPSBuZXcgQWJvcnRFcnJvcignVGhlIHVzZXIgYWJvcnRlZCBhIHJlcXVlc3QuJyk7XG5cdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0aWYgKHJlcXVlc3QuYm9keSAmJiByZXF1ZXN0LmJvZHkgaW5zdGFuY2VvZiBTdHJlYW0uUmVhZGFibGUpIHtcblx0XHRcdFx0ZGVzdHJveVN0cmVhbShyZXF1ZXN0LmJvZHksIGVycm9yKTtcblx0XHRcdH1cblx0XHRcdGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLmJvZHkpIHJldHVybjtcblx0XHRcdHJlc3BvbnNlLmJvZHkuZW1pdCgnZXJyb3InLCBlcnJvcik7XG5cdFx0fTtcblxuXHRcdGlmIChzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpIHtcblx0XHRcdGFib3J0KCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgYWJvcnRBbmRGaW5hbGl6ZSA9IGZ1bmN0aW9uIGFib3J0QW5kRmluYWxpemUoKSB7XG5cdFx0XHRhYm9ydCgpO1xuXHRcdFx0ZmluYWxpemUoKTtcblx0XHR9O1xuXG5cdFx0Ly8gc2VuZCByZXF1ZXN0XG5cdFx0Y29uc3QgcmVxID0gc2VuZChvcHRpb25zKTtcblx0XHRsZXQgcmVxVGltZW91dDtcblxuXHRcdGlmIChzaWduYWwpIHtcblx0XHRcdHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0QW5kRmluYWxpemUpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGZpbmFsaXplKCkge1xuXHRcdFx0cmVxLmFib3J0KCk7XG5cdFx0XHRpZiAoc2lnbmFsKSBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydEFuZEZpbmFsaXplKTtcblx0XHRcdGNsZWFyVGltZW91dChyZXFUaW1lb3V0KTtcblx0XHR9XG5cblx0XHRpZiAocmVxdWVzdC50aW1lb3V0KSB7XG5cdFx0XHRyZXEub25jZSgnc29ja2V0JywgZnVuY3Rpb24gKHNvY2tldCkge1xuXHRcdFx0XHRyZXFUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGBuZXR3b3JrIHRpbWVvdXQgYXQ6ICR7cmVxdWVzdC51cmx9YCwgJ3JlcXVlc3QtdGltZW91dCcpKTtcblx0XHRcdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdFx0XHR9LCByZXF1ZXN0LnRpbWVvdXQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmVxLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgcmVxdWVzdCB0byAke3JlcXVlc3QudXJsfSBmYWlsZWQsIHJlYXNvbjogJHtlcnIubWVzc2FnZX1gLCAnc3lzdGVtJywgZXJyKSk7XG5cblx0XHRcdGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5ib2R5KSB7XG5cdFx0XHRcdGRlc3Ryb3lTdHJlYW0ocmVzcG9uc2UuYm9keSwgZXJyKTtcblx0XHRcdH1cblxuXHRcdFx0ZmluYWxpemUoKTtcblx0XHR9KTtcblxuXHRcdGZpeFJlc3BvbnNlQ2h1bmtlZFRyYW5zZmVyQmFkRW5kaW5nKHJlcSwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0aWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5ib2R5KSB7XG5cdFx0XHRcdGRlc3Ryb3lTdHJlYW0ocmVzcG9uc2UuYm9keSwgZXJyKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8qIGM4IGlnbm9yZSBuZXh0IDE4ICovXG5cdFx0aWYgKHBhcnNlSW50KHByb2Nlc3MudmVyc2lvbi5zdWJzdHJpbmcoMSkpIDwgMTQpIHtcblx0XHRcdC8vIEJlZm9yZSBOb2RlLmpzIDE0LCBwaXBlbGluZSgpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgYXN5bmMgaXRlcmF0b3JzIGFuZCBkb2VzIG5vdCBhbHdheXNcblx0XHRcdC8vIHByb3Blcmx5IGhhbmRsZSB3aGVuIHRoZSBzb2NrZXQgY2xvc2UvZW5kIGV2ZW50cyBhcmUgb3V0IG9mIG9yZGVyLlxuXHRcdFx0cmVxLm9uKCdzb2NrZXQnLCBmdW5jdGlvbiAocykge1xuXHRcdFx0XHRzLmFkZExpc3RlbmVyKCdjbG9zZScsIGZ1bmN0aW9uIChoYWRFcnJvcikge1xuXHRcdFx0XHRcdC8vIGlmIGEgZGF0YSBsaXN0ZW5lciBpcyBzdGlsbCBwcmVzZW50IHdlIGRpZG4ndCBlbmQgY2xlYW5seVxuXHRcdFx0XHRcdGNvbnN0IGhhc0RhdGFMaXN0ZW5lciA9IHMubGlzdGVuZXJDb3VudCgnZGF0YScpID4gMDtcblxuXHRcdFx0XHRcdC8vIGlmIGVuZCBoYXBwZW5lZCBiZWZvcmUgY2xvc2UgYnV0IHRoZSBzb2NrZXQgZGlkbid0IGVtaXQgYW4gZXJyb3IsIGRvIGl0IG5vd1xuXHRcdFx0XHRcdGlmIChyZXNwb25zZSAmJiBoYXNEYXRhTGlzdGVuZXIgJiYgIWhhZEVycm9yICYmICEoc2lnbmFsICYmIHNpZ25hbC5hYm9ydGVkKSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgZXJyID0gbmV3IEVycm9yKCdQcmVtYXR1cmUgY2xvc2UnKTtcblx0XHRcdFx0XHRcdGVyci5jb2RlID0gJ0VSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFJztcblx0XHRcdFx0XHRcdHJlc3BvbnNlLmJvZHkuZW1pdCgnZXJyb3InLCBlcnIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXEub24oJ3Jlc3BvbnNlJywgZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHJlcVRpbWVvdXQpO1xuXG5cdFx0XHRjb25zdCBoZWFkZXJzID0gY3JlYXRlSGVhZGVyc0xlbmllbnQocmVzLmhlYWRlcnMpO1xuXG5cdFx0XHQvLyBIVFRQIGZldGNoIHN0ZXAgNVxuXHRcdFx0aWYgKGZldGNoLmlzUmVkaXJlY3QocmVzLnN0YXR1c0NvZGUpKSB7XG5cdFx0XHRcdC8vIEhUVFAgZmV0Y2ggc3RlcCA1LjJcblx0XHRcdFx0Y29uc3QgbG9jYXRpb24gPSBoZWFkZXJzLmdldCgnTG9jYXRpb24nKTtcblxuXHRcdFx0XHQvLyBIVFRQIGZldGNoIHN0ZXAgNS4zXG5cdFx0XHRcdGxldCBsb2NhdGlvblVSTCA9IG51bGw7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bG9jYXRpb25VUkwgPSBsb2NhdGlvbiA9PT0gbnVsbCA/IG51bGwgOiBuZXcgVVJMJDEobG9jYXRpb24sIHJlcXVlc3QudXJsKS50b1N0cmluZygpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHQvLyBlcnJvciBoZXJlIGNhbiBvbmx5IGJlIGludmFsaWQgVVJMIGluIExvY2F0aW9uOiBoZWFkZXJcblx0XHRcdFx0XHQvLyBkbyBub3QgdGhyb3cgd2hlbiBvcHRpb25zLnJlZGlyZWN0ID09IG1hbnVhbFxuXHRcdFx0XHRcdC8vIGxldCB0aGUgdXNlciBleHRyYWN0IHRoZSBlcnJvcm5lb3VzIHJlZGlyZWN0IFVSTFxuXHRcdFx0XHRcdGlmIChyZXF1ZXN0LnJlZGlyZWN0ICE9PSAnbWFudWFsJykge1xuXHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGB1cmkgcmVxdWVzdGVkIHJlc3BvbmRzIHdpdGggYW4gaW52YWxpZCByZWRpcmVjdCBVUkw6ICR7bG9jYXRpb259YCwgJ2ludmFsaWQtcmVkaXJlY3QnKSk7XG5cdFx0XHRcdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEhUVFAgZmV0Y2ggc3RlcCA1LjVcblx0XHRcdFx0c3dpdGNoIChyZXF1ZXN0LnJlZGlyZWN0KSB7XG5cdFx0XHRcdFx0Y2FzZSAnZXJyb3InOlxuXHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGB1cmkgcmVxdWVzdGVkIHJlc3BvbmRzIHdpdGggYSByZWRpcmVjdCwgcmVkaXJlY3QgbW9kZSBpcyBzZXQgdG8gZXJyb3I6ICR7cmVxdWVzdC51cmx9YCwgJ25vLXJlZGlyZWN0JykpO1xuXHRcdFx0XHRcdFx0ZmluYWxpemUoKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRjYXNlICdtYW51YWwnOlxuXHRcdFx0XHRcdFx0Ly8gbm9kZS1mZXRjaC1zcGVjaWZpYyBzdGVwOiBtYWtlIG1hbnVhbCByZWRpcmVjdCBhIGJpdCBlYXNpZXIgdG8gdXNlIGJ5IHNldHRpbmcgdGhlIExvY2F0aW9uIGhlYWRlciB2YWx1ZSB0byB0aGUgcmVzb2x2ZWQgVVJMLlxuXHRcdFx0XHRcdFx0aWYgKGxvY2F0aW9uVVJMICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGhhbmRsZSBjb3JydXB0ZWQgaGVhZGVyXG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0aGVhZGVycy5zZXQoJ0xvY2F0aW9uJywgbG9jYXRpb25VUkwpO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm9kZWpzIHNlcnZlciBwcmV2ZW50IGludmFsaWQgcmVzcG9uc2UgaGVhZGVycywgd2UgY2FuJ3QgdGVzdCB0aGlzIHRocm91Z2ggbm9ybWFsIHJlcXVlc3Rcblx0XHRcdFx0XHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZm9sbG93Jzpcblx0XHRcdFx0XHRcdC8vIEhUVFAtcmVkaXJlY3QgZmV0Y2ggc3RlcCAyXG5cdFx0XHRcdFx0XHRpZiAobG9jYXRpb25VUkwgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEhUVFAtcmVkaXJlY3QgZmV0Y2ggc3RlcCA1XG5cdFx0XHRcdFx0XHRpZiAocmVxdWVzdC5jb3VudGVyID49IHJlcXVlc3QuZm9sbG93KSB7XG5cdFx0XHRcdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgbWF4aW11bSByZWRpcmVjdCByZWFjaGVkIGF0OiAke3JlcXVlc3QudXJsfWAsICdtYXgtcmVkaXJlY3QnKSk7XG5cdFx0XHRcdFx0XHRcdGZpbmFsaXplKCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDYgKGNvdW50ZXIgaW5jcmVtZW50KVxuXHRcdFx0XHRcdFx0Ly8gQ3JlYXRlIGEgbmV3IFJlcXVlc3Qgb2JqZWN0LlxuXHRcdFx0XHRcdFx0Y29uc3QgcmVxdWVzdE9wdHMgPSB7XG5cdFx0XHRcdFx0XHRcdGhlYWRlcnM6IG5ldyBIZWFkZXJzKHJlcXVlc3QuaGVhZGVycyksXG5cdFx0XHRcdFx0XHRcdGZvbGxvdzogcmVxdWVzdC5mb2xsb3csXG5cdFx0XHRcdFx0XHRcdGNvdW50ZXI6IHJlcXVlc3QuY291bnRlciArIDEsXG5cdFx0XHRcdFx0XHRcdGFnZW50OiByZXF1ZXN0LmFnZW50LFxuXHRcdFx0XHRcdFx0XHRjb21wcmVzczogcmVxdWVzdC5jb21wcmVzcyxcblx0XHRcdFx0XHRcdFx0bWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcblx0XHRcdFx0XHRcdFx0Ym9keTogcmVxdWVzdC5ib2R5LFxuXHRcdFx0XHRcdFx0XHRzaWduYWw6IHJlcXVlc3Quc2lnbmFsLFxuXHRcdFx0XHRcdFx0XHR0aW1lb3V0OiByZXF1ZXN0LnRpbWVvdXQsXG5cdFx0XHRcdFx0XHRcdHNpemU6IHJlcXVlc3Quc2l6ZVxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0aWYgKCFpc0RvbWFpbk9yU3ViZG9tYWluKHJlcXVlc3QudXJsLCBsb2NhdGlvblVSTCkgfHwgIWlzU2FtZVByb3RvY29sKHJlcXVlc3QudXJsLCBsb2NhdGlvblVSTCkpIHtcblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBuYW1lIG9mIFsnYXV0aG9yaXphdGlvbicsICd3d3ctYXV0aGVudGljYXRlJywgJ2Nvb2tpZScsICdjb29raWUyJ10pIHtcblx0XHRcdFx0XHRcdFx0XHRyZXF1ZXN0T3B0cy5oZWFkZXJzLmRlbGV0ZShuYW1lKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBIVFRQLXJlZGlyZWN0IGZldGNoIHN0ZXAgOVxuXHRcdFx0XHRcdFx0aWYgKHJlcy5zdGF0dXNDb2RlICE9PSAzMDMgJiYgcmVxdWVzdC5ib2R5ICYmIGdldFRvdGFsQnl0ZXMocmVxdWVzdCkgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKCdDYW5ub3QgZm9sbG93IHJlZGlyZWN0IHdpdGggYm9keSBiZWluZyBhIHJlYWRhYmxlIHN0cmVhbScsICd1bnN1cHBvcnRlZC1yZWRpcmVjdCcpKTtcblx0XHRcdFx0XHRcdFx0ZmluYWxpemUoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBIVFRQLXJlZGlyZWN0IGZldGNoIHN0ZXAgMTFcblx0XHRcdFx0XHRcdGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMzAzIHx8IChyZXMuc3RhdHVzQ29kZSA9PT0gMzAxIHx8IHJlcy5zdGF0dXNDb2RlID09PSAzMDIpICYmIHJlcXVlc3QubWV0aG9kID09PSAnUE9TVCcpIHtcblx0XHRcdFx0XHRcdFx0cmVxdWVzdE9wdHMubWV0aG9kID0gJ0dFVCc7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RPcHRzLmJvZHkgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RPcHRzLmhlYWRlcnMuZGVsZXRlKCdjb250ZW50LWxlbmd0aCcpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBIVFRQLXJlZGlyZWN0IGZldGNoIHN0ZXAgMTVcblx0XHRcdFx0XHRcdHJlc29sdmUoZmV0Y2gobmV3IFJlcXVlc3QobG9jYXRpb25VUkwsIHJlcXVlc3RPcHRzKSkpO1xuXHRcdFx0XHRcdFx0ZmluYWxpemUoKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcmVwYXJlIHJlc3BvbnNlXG5cdFx0XHRyZXMub25jZSgnZW5kJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAoc2lnbmFsKSBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydEFuZEZpbmFsaXplKTtcblx0XHRcdH0pO1xuXHRcdFx0bGV0IGJvZHkgPSByZXMucGlwZShuZXcgUGFzc1Rocm91Z2gkMSgpKTtcblxuXHRcdFx0Y29uc3QgcmVzcG9uc2Vfb3B0aW9ucyA9IHtcblx0XHRcdFx0dXJsOiByZXF1ZXN0LnVybCxcblx0XHRcdFx0c3RhdHVzOiByZXMuc3RhdHVzQ29kZSxcblx0XHRcdFx0c3RhdHVzVGV4dDogcmVzLnN0YXR1c01lc3NhZ2UsXG5cdFx0XHRcdGhlYWRlcnM6IGhlYWRlcnMsXG5cdFx0XHRcdHNpemU6IHJlcXVlc3Quc2l6ZSxcblx0XHRcdFx0dGltZW91dDogcmVxdWVzdC50aW1lb3V0LFxuXHRcdFx0XHRjb3VudGVyOiByZXF1ZXN0LmNvdW50ZXJcblx0XHRcdH07XG5cblx0XHRcdC8vIEhUVFAtbmV0d29yayBmZXRjaCBzdGVwIDEyLjEuMS4zXG5cdFx0XHRjb25zdCBjb2RpbmdzID0gaGVhZGVycy5nZXQoJ0NvbnRlbnQtRW5jb2RpbmcnKTtcblxuXHRcdFx0Ly8gSFRUUC1uZXR3b3JrIGZldGNoIHN0ZXAgMTIuMS4xLjQ6IGhhbmRsZSBjb250ZW50IGNvZGluZ3NcblxuXHRcdFx0Ly8gaW4gZm9sbG93aW5nIHNjZW5hcmlvcyB3ZSBpZ25vcmUgY29tcHJlc3Npb24gc3VwcG9ydFxuXHRcdFx0Ly8gMS4gY29tcHJlc3Npb24gc3VwcG9ydCBpcyBkaXNhYmxlZFxuXHRcdFx0Ly8gMi4gSEVBRCByZXF1ZXN0XG5cdFx0XHQvLyAzLiBubyBDb250ZW50LUVuY29kaW5nIGhlYWRlclxuXHRcdFx0Ly8gNC4gbm8gY29udGVudCByZXNwb25zZSAoMjA0KVxuXHRcdFx0Ly8gNS4gY29udGVudCBub3QgbW9kaWZpZWQgcmVzcG9uc2UgKDMwNClcblx0XHRcdGlmICghcmVxdWVzdC5jb21wcmVzcyB8fCByZXF1ZXN0Lm1ldGhvZCA9PT0gJ0hFQUQnIHx8IGNvZGluZ3MgPT09IG51bGwgfHwgcmVzLnN0YXR1c0NvZGUgPT09IDIwNCB8fCByZXMuc3RhdHVzQ29kZSA9PT0gMzA0KSB7XG5cdFx0XHRcdHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGJvZHksIHJlc3BvbnNlX29wdGlvbnMpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3IgTm9kZSB2Nitcblx0XHRcdC8vIEJlIGxlc3Mgc3RyaWN0IHdoZW4gZGVjb2RpbmcgY29tcHJlc3NlZCByZXNwb25zZXMsIHNpbmNlIHNvbWV0aW1lc1xuXHRcdFx0Ly8gc2VydmVycyBzZW5kIHNsaWdodGx5IGludmFsaWQgcmVzcG9uc2VzIHRoYXQgYXJlIHN0aWxsIGFjY2VwdGVkXG5cdFx0XHQvLyBieSBjb21tb24gYnJvd3NlcnMuXG5cdFx0XHQvLyBBbHdheXMgdXNpbmcgWl9TWU5DX0ZMVVNIIGlzIHdoYXQgY1VSTCBkb2VzLlxuXHRcdFx0Y29uc3QgemxpYk9wdGlvbnMgPSB7XG5cdFx0XHRcdGZsdXNoOiB6bGliLlpfU1lOQ19GTFVTSCxcblx0XHRcdFx0ZmluaXNoRmx1c2g6IHpsaWIuWl9TWU5DX0ZMVVNIXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBmb3IgZ3ppcFxuXHRcdFx0aWYgKGNvZGluZ3MgPT0gJ2d6aXAnIHx8IGNvZGluZ3MgPT0gJ3gtZ3ppcCcpIHtcblx0XHRcdFx0Ym9keSA9IGJvZHkucGlwZSh6bGliLmNyZWF0ZUd1bnppcCh6bGliT3B0aW9ucykpO1xuXHRcdFx0XHRyZXNwb25zZSA9IG5ldyBSZXNwb25zZShib2R5LCByZXNwb25zZV9vcHRpb25zKTtcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZm9yIGRlZmxhdGVcblx0XHRcdGlmIChjb2RpbmdzID09ICdkZWZsYXRlJyB8fCBjb2RpbmdzID09ICd4LWRlZmxhdGUnKSB7XG5cdFx0XHRcdC8vIGhhbmRsZSB0aGUgaW5mYW1vdXMgcmF3IGRlZmxhdGUgcmVzcG9uc2UgZnJvbSBvbGQgc2VydmVyc1xuXHRcdFx0XHQvLyBhIGhhY2sgZm9yIG9sZCBJSVMgYW5kIEFwYWNoZSBzZXJ2ZXJzXG5cdFx0XHRcdGNvbnN0IHJhdyA9IHJlcy5waXBlKG5ldyBQYXNzVGhyb3VnaCQxKCkpO1xuXHRcdFx0XHRyYXcub25jZSgnZGF0YScsIGZ1bmN0aW9uIChjaHVuaykge1xuXHRcdFx0XHRcdC8vIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM3NTE5ODI4XG5cdFx0XHRcdFx0aWYgKChjaHVua1swXSAmIDB4MEYpID09PSAweDA4KSB7XG5cdFx0XHRcdFx0XHRib2R5ID0gYm9keS5waXBlKHpsaWIuY3JlYXRlSW5mbGF0ZSgpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ym9keSA9IGJvZHkucGlwZSh6bGliLmNyZWF0ZUluZmxhdGVSYXcoKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGJvZHksIHJlc3BvbnNlX29wdGlvbnMpO1xuXHRcdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmF3Lm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly8gc29tZSBvbGQgSUlTIHNlcnZlcnMgcmV0dXJuIHplcm8tbGVuZ3RoIE9LIGRlZmxhdGUgcmVzcG9uc2VzLCBzbyAnZGF0YScgaXMgbmV2ZXIgZW1pdHRlZC5cblx0XHRcdFx0XHRpZiAoIXJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IG5ldyBSZXNwb25zZShib2R5LCByZXNwb25zZV9vcHRpb25zKTtcblx0XHRcdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZm9yIGJyXG5cdFx0XHRpZiAoY29kaW5ncyA9PSAnYnInICYmIHR5cGVvZiB6bGliLmNyZWF0ZUJyb3RsaURlY29tcHJlc3MgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Ym9keSA9IGJvZHkucGlwZSh6bGliLmNyZWF0ZUJyb3RsaURlY29tcHJlc3MoKSk7XG5cdFx0XHRcdHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGJvZHksIHJlc3BvbnNlX29wdGlvbnMpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBvdGhlcndpc2UsIHVzZSByZXNwb25zZSBhcy1pc1xuXHRcdFx0cmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoYm9keSwgcmVzcG9uc2Vfb3B0aW9ucyk7XG5cdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHR9KTtcblxuXHRcdHdyaXRlVG9TdHJlYW0ocmVxLCByZXF1ZXN0KTtcblx0fSk7XG59XG5mdW5jdGlvbiBmaXhSZXNwb25zZUNodW5rZWRUcmFuc2ZlckJhZEVuZGluZyhyZXF1ZXN0LCBlcnJvckNhbGxiYWNrKSB7XG5cdGxldCBzb2NrZXQ7XG5cblx0cmVxdWVzdC5vbignc29ja2V0JywgZnVuY3Rpb24gKHMpIHtcblx0XHRzb2NrZXQgPSBzO1xuXHR9KTtcblxuXHRyZXF1ZXN0Lm9uKCdyZXNwb25zZScsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdGNvbnN0IGhlYWRlcnMgPSByZXNwb25zZS5oZWFkZXJzO1xuXG5cdFx0aWYgKGhlYWRlcnNbJ3RyYW5zZmVyLWVuY29kaW5nJ10gPT09ICdjaHVua2VkJyAmJiAhaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSkge1xuXHRcdFx0cmVzcG9uc2Uub25jZSgnY2xvc2UnLCBmdW5jdGlvbiAoaGFkRXJyb3IpIHtcblx0XHRcdFx0Ly8gdGVzdHMgZm9yIHNvY2tldCBwcmVzZW5jZSwgYXMgaW4gc29tZSBzaXR1YXRpb25zIHRoZVxuXHRcdFx0XHQvLyB0aGUgJ3NvY2tldCcgZXZlbnQgaXMgbm90IHRyaWdnZXJlZCBmb3IgdGhlIHJlcXVlc3Rcblx0XHRcdFx0Ly8gKGhhcHBlbnMgaW4gZGVubyksIGF2b2lkcyBgVHlwZUVycm9yYFxuXHRcdFx0XHQvLyBpZiBhIGRhdGEgbGlzdGVuZXIgaXMgc3RpbGwgcHJlc2VudCB3ZSBkaWRuJ3QgZW5kIGNsZWFubHlcblx0XHRcdFx0Y29uc3QgaGFzRGF0YUxpc3RlbmVyID0gc29ja2V0ICYmIHNvY2tldC5saXN0ZW5lckNvdW50KCdkYXRhJykgPiAwO1xuXG5cdFx0XHRcdGlmIChoYXNEYXRhTGlzdGVuZXIgJiYgIWhhZEVycm9yKSB7XG5cdFx0XHRcdFx0Y29uc3QgZXJyID0gbmV3IEVycm9yKCdQcmVtYXR1cmUgY2xvc2UnKTtcblx0XHRcdFx0XHRlcnIuY29kZSA9ICdFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSc7XG5cdFx0XHRcdFx0ZXJyb3JDYWxsYmFjayhlcnIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95U3RyZWFtKHN0cmVhbSwgZXJyKSB7XG5cdGlmIChzdHJlYW0uZGVzdHJveSkge1xuXHRcdHN0cmVhbS5kZXN0cm95KGVycik7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gbm9kZSA8IDhcblx0XHRzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xuXHRcdHN0cmVhbS5lbmQoKTtcblx0fVxufVxuXG4vKipcbiAqIFJlZGlyZWN0IGNvZGUgbWF0Y2hpbmdcbiAqXG4gKiBAcGFyYW0gICBOdW1iZXIgICBjb2RlICBTdGF0dXMgY29kZVxuICogQHJldHVybiAgQm9vbGVhblxuICovXG5mZXRjaC5pc1JlZGlyZWN0ID0gZnVuY3Rpb24gKGNvZGUpIHtcblx0cmV0dXJuIGNvZGUgPT09IDMwMSB8fCBjb2RlID09PSAzMDIgfHwgY29kZSA9PT0gMzAzIHx8IGNvZGUgPT09IDMwNyB8fCBjb2RlID09PSAzMDg7XG59O1xuXG4vLyBleHBvc2UgUHJvbWlzZVxuZmV0Y2guUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuXG5leHBvcnQgZGVmYXVsdCBmZXRjaDtcbmV4cG9ydCB7IEhlYWRlcnMsIFJlcXVlc3QsIFJlc3BvbnNlLCBGZXRjaEVycm9yLCBBYm9ydEVycm9yIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/node-fetch/lib/index.mjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NIL: () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   parse: () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   stringify: () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   v1: () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   v3: () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   v4: () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   v5: () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   validate: () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   version: () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v1.js\");\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v3.js\");\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v5.js\");\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/nil.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/version.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/validate.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/parse.js\");\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0U7QUFDUTtBQUNFO0FBQ0UiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCBhcyB2MSB9IGZyb20gJy4vdjEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2MyB9IGZyb20gJy4vdjMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2NCB9IGZyb20gJy4vdjQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2NSB9IGZyb20gJy4vdjUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBOSUwgfSBmcm9tICcuL25pbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2YWxpZGF0ZSB9IGZyb20gJy4vdmFsaWRhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBhcnNlIH0gZnJvbSAnLi9wYXJzZS5qcyc7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/md5.js":
/*!************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/md5.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('md5').update(bytes).digest();\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbWQ1LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsU0FBUyx3REFBaUI7QUFDMUI7O0FBRUEsaUVBQWUsR0FBRyIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9tZDUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMsICd1dGY4Jyk7XG4gIH1cblxuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShieXRlcykuZGlnZXN0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/md5.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/native.js":
/*!***************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/native.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID: (crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID)\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmF0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QjtBQUM1QixpRUFBZTtBQUNmLGNBQWMsMERBQWlCO0FBQy9CLENBQUMiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmF0aXZlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRDogY3J5cHRvLnJhbmRvbVVVSURcbn07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/native.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/nil.js":
/*!************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/nil.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxzQ0FBc0MiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/nil.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/parse.js":
/*!**************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/parse.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/validate.js\");\n\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcGFyc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7O0FBRXJDO0FBQ0EsT0FBTyx3REFBUTtBQUNmO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjs7QUFFckI7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEtBQUsiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcGFyc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiBwYXJzZSh1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgbGV0IHY7XG4gIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcblxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/parse.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/regex.js":
/*!**************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/regex.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRyx5Q0FBeUMiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/regex.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/rng.js":
/*!************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/rng.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto__WEBPACK_IMPORTED_MODULE_0___default().randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcm5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QjtBQUM1Qix1Q0FBdUM7O0FBRXZDO0FBQ2U7QUFDZjtBQUNBLElBQUksNERBQXFCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9ybmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuY29uc3Qgcm5kczhQb29sID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTsgLy8gIyBvZiByYW5kb20gdmFsdWVzIHRvIHByZS1hbGxvY2F0ZVxuXG5sZXQgcG9vbFB0ciA9IHJuZHM4UG9vbC5sZW5ndGg7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIGlmIChwb29sUHRyID4gcm5kczhQb29sLmxlbmd0aCAtIDE2KSB7XG4gICAgY3J5cHRvLnJhbmRvbUZpbGxTeW5jKHJuZHM4UG9vbCk7XG4gICAgcG9vbFB0ciA9IDA7XG4gIH1cblxuICByZXR1cm4gcm5kczhQb29sLnNsaWNlKHBvb2xQdHIsIHBvb2xQdHIgKz0gMTYpO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/rng.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/sha1.js":
/*!*************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/sha1.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('sha1').update(bytes).digest();\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc2hhMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLFNBQVMsd0RBQWlCO0FBQzFCOztBQUVBLGlFQUFlLElBQUkiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc2hhMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMsICd1dGY4Jyk7XG4gIH1cblxuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUoYnl0ZXMpLmRpZ2VzdCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/sha1.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/stringify.js":
/*!******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/stringify.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyx3REFBUTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxTQUFTIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3N0cmluZ2lmeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHJldHVybiBieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICBjb25zdCB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/stringify.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v1.js":
/*!***********************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/v1.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/stringify.js\");\n\n // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(b);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ3NCLENBQUM7QUFDbEQ7QUFDQTtBQUNBOztBQUVBOztBQUVBLGVBQWU7OztBQUdmO0FBQ0Esb0JBQW9COztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7O0FBRUE7QUFDQSx3REFBd0QsK0NBQUc7O0FBRTNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7O0FBR0Esd0VBQXdFO0FBQ3hFOztBQUVBLDRFQUE0RTs7QUFFNUUsZ0VBQWdFOztBQUVoRTtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7QUFHQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0I7O0FBRXhCLDJCQUEyQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQSx1QkFBdUI7O0FBRXZCLG9DQUFvQzs7QUFFcEMsOEJBQThCOztBQUU5QixrQ0FBa0M7O0FBRWxDLDRCQUE0Qjs7QUFFNUIsa0JBQWtCLE9BQU87QUFDekI7QUFDQTs7QUFFQSxnQkFBZ0IsOERBQWU7QUFDL0I7O0FBRUEsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJzsgLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG5sZXQgX25vZGVJZDtcblxubGV0IF9jbG9ja3NlcTsgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5cblxubGV0IF9sYXN0TVNlY3MgPSAwO1xubGV0IF9sYXN0TlNlY3MgPSAwOyAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBsZXQgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgY29uc3QgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGV0IG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgbGV0IGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTsgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG5cbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgY29uc3Qgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIGxldCBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgbGV0IG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgY29uc3QgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwOyAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG5cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfSAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG5cblxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfSAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG5cblxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTsgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG5cbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7IC8vIGB0aW1lX2xvd2BcblxuICBjb25zdCB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICBjb25zdCB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yIChsZXQgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHVuc2FmZVN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v1.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v3.js":
/*!***********************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/v3.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/md5.js\");\n\n\nconst v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0E7QUFDM0IsV0FBVyxtREFBRyxhQUFhLCtDQUFHO0FBQzlCLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgbWQ1IGZyb20gJy4vbWQ1LmpzJztcbmNvbnN0IHYzID0gdjM1KCd2MycsIDB4MzAsIG1kNSk7XG5leHBvcnQgZGVmYXVsdCB2MzsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v3.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v35.js":
/*!************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/v35.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DNS: () => (/* binding */ DNS),\n/* harmony export */   URL: () => (/* binding */ URL),\n/* harmony export */   \"default\": () => (/* binding */ v35)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/parse.js\");\n\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlEO0FBQ2xCOztBQUUvQjtBQUNBLDJDQUEyQzs7QUFFM0M7O0FBRUEsa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDQTtBQUNRO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IscURBQUs7QUFDdkI7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyw4REFBZTtBQUMxQixJQUFJOzs7QUFHSjtBQUNBLDhCQUE4QjtBQUM5QixJQUFJLGVBQWU7OztBQUduQjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvdXNlci9zdHVkaW8vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MzUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuXG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgY29uc3QgYnl0ZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgY29uc3QgRE5TID0gJzZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgY29uc3QgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2MzUobmFtZSwgdmVyc2lvbiwgaGFzaGZ1bmMpIHtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgdmFyIF9uYW1lc3BhY2U7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBzdHJpbmdUb0J5dGVzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKCgoX25hbWVzcGFjZSA9IG5hbWVzcGFjZSkgPT09IG51bGwgfHwgX25hbWVzcGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hbWVzcGFjZS5sZW5ndGgpICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfSAvLyBDb21wdXRlIGhhc2ggb2YgbmFtZXNwYWNlIGFuZCB2YWx1ZSwgUGVyIDQuM1xuICAgIC8vIEZ1dHVyZTogVXNlIHNwcmVhZCBzeW50YXggd2hlbiBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3JtcywgZS5nLiBgYnl0ZXMgPVxuICAgIC8vIGhhc2hmdW5jKFsuLi5uYW1lc3BhY2UsIC4uLiB2YWx1ZV0pYFxuXG5cbiAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gICAgaWYgKGJ1Zikge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KGJ5dGVzKTtcbiAgfSAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcblxuXG4gIHRyeSB7XG4gICAgZ2VuZXJhdGVVVUlELm5hbWUgPSBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgfSBjYXRjaCAoZXJyKSB7fSAvLyBGb3IgQ29tbW9uSlMgZGVmYXVsdCBleHBvcnQgc3VwcG9ydFxuXG5cbiAgZ2VuZXJhdGVVVUlELkROUyA9IEROUztcbiAgZ2VuZXJhdGVVVUlELlVSTCA9IFVSTDtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRDtcbn0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v35.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v4.js":
/*!***********************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/v4.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNOO0FBQ3NCOztBQUVqRDtBQUNBLE1BQU0sa0RBQU07QUFDWixXQUFXLGtEQUFNO0FBQ2pCOztBQUVBO0FBQ0EsaURBQWlELCtDQUFHLEtBQUs7O0FBRXpEO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxTQUFTLDhEQUFlO0FBQ3hCOztBQUVBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5hdGl2ZSBmcm9tICcuL25hdGl2ZS5qcyc7XG5pbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v4.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v5.js":
/*!***********************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/v5.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/sha1.js\");\n\n\nconst v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0U7QUFDN0IsV0FBVyxtREFBRyxhQUFhLGdEQUFJO0FBQy9CLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgc2hhMSBmcm9tICcuL3NoYTEuanMnO1xuY29uc3QgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/v5.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/validate.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/validate.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7O0FBRS9CO0FBQ0EscUNBQXFDLGlEQUFLO0FBQzFDOztBQUVBLGlFQUFlLFFBQVEiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/validate.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/version.js":
/*!****************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/uuid/dist/esm-node/version.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/validate.js\");\n\n\nfunction version(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQzs7QUFFckM7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlFQUFlLE9BQU8iLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHZlcnNpb24odXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxNSksIDE2KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmVyc2lvbjsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/google-gax/node_modules/uuid/dist/esm-node/version.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/google-gax/package.json":
/*!**********************************************!*\
  !*** ./node_modules/google-gax/package.json ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"google-gax","version":"4.6.1","description":"Google API Extensions","main":"build/src/index.js","types":"build/src/index.d.ts","files":["build/src","build/protos/","!build/src/**/*.map"],"dependencies":{"@grpc/grpc-js":"^1.10.9","@grpc/proto-loader":"^0.7.13","@types/long":"^4.0.0","abort-controller":"^3.0.0","duplexify":"^4.0.0","google-auth-library":"^9.3.0","node-fetch":"^2.7.0","object-hash":"^3.0.0","proto3-json-serializer":"^2.0.2","retry-request":"^7.0.0","uuid":"^9.0.1","protobufjs":"^7.3.2"},"devDependencies":{"@types/uuid":"^9.0.7","@babel/plugin-proposal-private-methods":"^7.18.6","@types/mocha":"^9.0.0","@types/ncp":"^2.0.1","@types/node":"^20.5.0","@types/node-fetch":"^2.6.11","@types/object-hash":"^3.0.0","@types/proxyquire":"^1.3.28","@types/pumpify":"^1.4.1","@types/sinon":"^17.0.0","@types/uglify-js":"^3.17.0","c8":"^9.0.0","cheerio":"1.0.0-rc.12","codecov":"^3.1.0","execa":"^5.0.0","glob":"10.4.5","google-proto-files":"^4.2.0","gts":"^5.0.0","jackspeak":"3.4.3","jsdoc":"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0","linkinator":"^4.0.0","lru-cache":"10.4.3","long":"^4.0.0","mkdirp":"^2.0.0","mocha":"^9.0.0","ncp":"^2.0.0","null-loader":"^4.0.0","pdfmake":"0.2.12","protobufjs-cli":"1.1.3","proxyquire":"^2.0.1","pumpify":"^2.0.0","sinon":"^18.0.0","stream-events":"^1.0.4","ts-loader":"^8.0.0","typescript":"^5.1.6","uglify-js":"^3.17.0","walkdir":"^0.4.0","webpack":"^4.0.0","webpack-cli":"^4.0.0"},"scripts":{"docs":"jsdoc -c .jsdoc.js","pretest":"npm run prepare","test":"c8 mocha build/test/unit","lint":"gts check src samples test","clean":"gts clean","compile":"tsc -p . && cp src/*.json build/src && cp -r test/fixtures build/test && cp -r protos build/","compile-operation-protos":"pbjs -t json google/longrunning/operations.proto -p ./protos > protos/operations.json && pbjs -t static-module -r operations_protos google/longrunning/operations.proto -p ./protos > protos/operations.js && pbts protos/operations.js -o protos/operations.d.ts","compile-compute-operations-protos":"pbjs -t json google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.json && pbjs -t static-module -r compute_operations_protos google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.js && pbts protos/compute_operations.js -o protos/compute_operations.d.ts","compile-iam-protos":"pbjs -t json google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.json && pbjs -t static-module -r iam_protos google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.js && pbts protos/iam_service.js -o protos/iam_service.d.ts","compile-location-protos":"pbjs -t json google/cloud/location/locations.proto -p ./protos > protos/locations.json && pbjs -t static-module -r locations_protos google/cloud/location/locations.proto -p ./protos > protos/locations.js && pbts protos/locations.js -o protos/locations.d.ts","compile-status-protos":"pbjs -t json google/rpc/status.proto google/rpc/error_details.proto -p ./protos > protos/status.json","compile-http-protos":"pbjs -t static-module -r http_proto --keep-case google/api/http.proto -p ./protos > protos/http.js && pbts protos/http.js -o protos/http.d.ts","fix":"gts fix","prepare":"npm run compile && cd ../tools && npm i && npm run compile && cd ../gax && pwd && node ../tools/build/src/prepublish.js . && mkdirp build/protos && cp -r protos/* build/protos/ && npm run minify-proto-json","system-test":"c8 mocha build/test/system-test --timeout 600000 && npm run test-application","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","docs-test":"linkinator docs","predocs-test":"npm run docs","browser-test":"cd test/browser-test && npm run prefetch && npm install && npm test","test-application":"cd test/test-application && npm run prefetch && npm install && npm start","prelint":"cd samples; npm link ../; npm install","precompile":"gts clean","update-protos":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/listProtos.js .","minify-proto-json":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/minify.js"},"keywords":["grpc"],"repository":{"type":"git","url":"https://github.com/googleapis/gax-nodejs.git","directory":"gax"},"author":"Google API Authors","license":"Apache-2.0","bugs":{"url":"https://github.com/googleapis/gax-nodejs/issues"},"homepage":"https://github.com/googleapis/gax-nodejs#readme","engines":{"node":">=14"},"browser":"build/src/fallback.js"}');

/***/ })

};
;